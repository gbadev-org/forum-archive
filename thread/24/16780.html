<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Tutorial and DSi - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Patater's Introduction to Nintendo DS Programming > Tutorial and DSi</h2>
<div id="posts">
<div class="post">
    <h4>#169567 - sipstation - Fri Jul 24, 2009 1:20 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I'm new to NDS programming, teaching my son how to program on his DSi
<br/>
<br/>
We've downloaded devkitpro and the source for the game.  The game compiles OK with only warnings, and runs, but we are unable to control or move the spaceship.
<br/>
<br/>
Everything I've read indicates that the DSi is backwards compatible with DSlite code, but am I missing something??
<br/>
<br/>
Any help greatly appreciated...
<br/>
<br/>
Thanks,
<br/>
Alan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169575 - vuurrobin - Sat Jul 25, 2009 12:51 am</h4>
    <div class="postbody"><span class="postbody">AFAIK, the code should compile without any warnings, so what are the warnings you get. 
<br/>
<br/>
also, have you compiled and tried the libnds examples? if they don't work, then something is probably wrong with your instalation, and if they do work, its something with either the tutorial or the code.
<br/>
<br/>
<br/>
and make sure that you compile the correct spaceship program. one version does have the spaceship but doesn't have the controls yet.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169579 - hacker013 - Sat Jul 25, 2009 10:56 am</h4>
    <div class="postbody"><span class="postbody">I read that the libnds isn't DSi compitable yet<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169582 - sipstation - Sat Jul 25, 2009 1:59 pm</h4>
    <div class="postbody"><span class="postbody">Thanks hacker013.  Where did you read that?
<br/>
<br/>
Thanks vurroobin.  Here's what I get when I compile part 8:
<br/>
<br/>
<br/>
C:\devkitPro\manual\code\chapter_8-input&gt;make
<br/>
grit /c/devkitPro/manual/code/chapter_8-input/gfx/moon.png -fts -omoon
<br/>
STATUS: ---grit v0.8.4 ---
<br/>
STATUS: Individual runs.
<br/>
STATUS: Input file c:/devkitPro/manual/code/chapter_8-input/gfx/moon.png
<br/>
STATUS: Output file: 'moon'.
<br/>
STATUS: Started run at: 2009-07-25, 07:50:58
<br/>
STATUS: Validatating gr.
<br/>
WARNING:   No explicit symbol name. In overwrite mode, so using dst title.
<br/>
STATUS: Validation succeeded.
<br/>
STATUS: Preparing data.
<br/>
STATUS: Work-DIB creation.
<br/>
WARNING:   converting from 4 bpp to 4 bpp.
<br/>
STATUS: Work-DIB creation complete: 32x32@8.
<br/>
STATUS: Tile preparation.
<br/>
STATUS:   tiling to 8x8 tiles.
<br/>
STATUS: Tile preparation complete.
<br/>
STATUS: Graphics preparation.
<br/>
STATUS:   Bitpacking: 8 -&gt; 4.
<br/>
STATUS: Graphics preparation complete.
<br/>
STATUS: Palette preparation.
<br/>
STATUS: Palette preparation complete.
<br/>
STATUS: Data preparation complete.
<br/>
STATUS: Export to GNU asm: moon into moon.s .
<br/>
STATUS: Run completed :).
<br/>
STATUS: Done!
<br/>
moon.s
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/manual/code/chapter_8-input/build/moon.d
<br/>
-x assembler-with-cpp -g -mthumb -mthumb-interwork -c moon.s -o moon.o
<br/>
grit /c/devkitPro/manual/code/chapter_8-input/gfx/orangeShuttle.png -fts -oorang
<br/>
eShuttle
<br/>
STATUS: ---grit v0.8.4 ---
<br/>
STATUS: Individual runs.
<br/>
STATUS: Input file c:/devkitPro/manual/code/chapter_8-input/gfx/orangeShuttle.pn
<br/>
g
<br/>
STATUS: Output file: 'orangeShuttle'.
<br/>
STATUS: Started run at: 2009-07-25, 07:50:58
<br/>
STATUS: Validatating gr.
<br/>
WARNING:   No explicit symbol name. In overwrite mode, so using dst title.
<br/>
STATUS: Validation succeeded.
<br/>
STATUS: Preparing data.
<br/>
STATUS: Work-DIB creation.
<br/>
WARNING:   converting from 4 bpp to 4 bpp.
<br/>
STATUS: Work-DIB creation complete: 64x64@8.
<br/>
STATUS: Tile preparation.
<br/>
STATUS:   tiling to 8x8 tiles.
<br/>
STATUS: Tile preparation complete.
<br/>
STATUS: Graphics preparation.
<br/>
STATUS:   Bitpacking: 8 -&gt; 4.
<br/>
STATUS: Graphics preparation complete.
<br/>
STATUS: Palette preparation.
<br/>
STATUS: Palette preparation complete.
<br/>
STATUS: Data preparation complete.
<br/>
STATUS: Export to GNU asm: orangeShuttle into orangeShuttle.s .
<br/>
STATUS: Run completed :).
<br/>
STATUS: Done!
<br/>
orangeShuttle.s
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/manual/code/chapter_8-input/build/orangeS
<br/>
huttle.d -x assembler-with-cpp -g -mthumb -mthumb-interwork -c orangeShuttle.s -
<br/>
o orangeShuttle.o
<br/>
grit /c/devkitPro/manual/code/chapter_8-input/gfx/planet.png -fts -oplanet
<br/>
STATUS: ---grit v0.8.4 ---
<br/>
STATUS: Individual runs.
<br/>
STATUS: Input file c:/devkitPro/manual/code/chapter_8-input/gfx/planet.png
<br/>
STATUS: Output file: 'planet'.
<br/>
STATUS: Started run at: 2009-07-25, 07:50:59
<br/>
STATUS: Validatating gr.
<br/>
WARNING:   No explicit symbol name. In overwrite mode, so using dst title.
<br/>
STATUS: Validation succeeded.
<br/>
STATUS: Preparing data.
<br/>
STATUS: Work-DIB creation.
<br/>
WARNING:   converting from 24 bpp to 16 bpp.
<br/>
STATUS:   converting to: 16bpp BGR, alpha=1, except for 0x0000.
<br/>
STATUS: Work-DIB creation complete: 128x128@16.
<br/>
STATUS: Tile preparation.
<br/>
STATUS: Tile preparation complete.
<br/>
STATUS: Graphics preparation.
<br/>
STATUS: Graphics preparation complete.
<br/>
STATUS: Data preparation complete.
<br/>
STATUS: Export to GNU asm: planet into planet.s .
<br/>
STATUS: Run completed :).
<br/>
STATUS: Done!
<br/>
planet.s
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/manual/code/chapter_8-input/build/planet.
<br/>
d -x assembler-with-cpp -g -mthumb -mthumb-interwork -c planet.s -o planet.o
<br/>
grit /c/devkitPro/manual/code/chapter_8-input/gfx/splash.png -fts -osplash
<br/>
STATUS: ---grit v0.8.4 ---
<br/>
STATUS: Individual runs.
<br/>
STATUS: Input file c:/devkitPro/manual/code/chapter_8-input/gfx/splash.png
<br/>
STATUS: Output file: 'splash'.
<br/>
STATUS: Started run at: 2009-07-25, 07:50:59
<br/>
STATUS: Validatating gr.
<br/>
WARNING:   No explicit symbol name. In overwrite mode, so using dst title.
<br/>
STATUS: Validation succeeded.
<br/>
STATUS: Preparing data.
<br/>
STATUS: Work-DIB creation.
<br/>
WARNING:   converting from 24 bpp to 16 bpp.
<br/>
STATUS:   converting to: 16bpp BGR, alpha=1, except for 0x0000.
<br/>
STATUS: Work-DIB creation complete: 256x192@16.
<br/>
STATUS: Tile preparation.
<br/>
STATUS: Tile preparation complete.
<br/>
STATUS: Graphics preparation.
<br/>
STATUS: Graphics preparation complete.
<br/>
STATUS: Data preparation complete.
<br/>
STATUS: Export to GNU asm: splash into splash.s .
<br/>
STATUS: Run completed :).
<br/>
STATUS: Done!
<br/>
splash.s
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/manual/code/chapter_8-input/build/splash.
<br/>
d -x assembler-with-cpp -g -mthumb -mthumb-interwork -c splash.s -o splash.o
<br/>
grit /c/devkitPro/manual/code/chapter_8-input/gfx/starField.png -fts -ostarField
<br/>
<br/>
STATUS: ---grit v0.8.4 ---
<br/>
STATUS: Individual runs.
<br/>
STATUS: Input file c:/devkitPro/manual/code/chapter_8-input/gfx/starField.png
<br/>
STATUS: Output file: 'starField'.
<br/>
STATUS: Started run at: 2009-07-25, 07:51:00
<br/>
STATUS: Validatating gr.
<br/>
WARNING:   No explicit symbol name. In overwrite mode, so using dst title.
<br/>
STATUS: Validation succeeded.
<br/>
STATUS: Preparing data.
<br/>
STATUS: Work-DIB creation.
<br/>
WARNING:   converting from 24 bpp to 16 bpp.
<br/>
STATUS: converting to: 16bpp BGR, alpha=1.
<br/>
STATUS: Work-DIB creation complete: 256x192@16.
<br/>
STATUS: Tile preparation.
<br/>
STATUS: Tile preparation complete.
<br/>
STATUS: Graphics preparation.
<br/>
STATUS: Graphics preparation complete.
<br/>
STATUS: Data preparation complete.
<br/>
STATUS: Export to GNU asm: starField into starField.s .
<br/>
STATUS: Run completed :).
<br/>
STATUS: Done!
<br/>
starField.s
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/manual/code/chapter_8-input/build/starFie
<br/>
ld.d -x assembler-with-cpp -g -mthumb -mthumb-interwork -c starField.s -o starFi
<br/>
eld.o
<br/>
main.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /c/devkitPro/manual/code/chapter_8-input/build/main.d
<br/>
-g -Wall -O2 -march=armv5te -mtune=arm946e-s -fomit-frame-pointer -ffast-math -m
<br/>
thumb -mthumb-interwork -I/c/devkitPro/manual/code/chapter_8-input/include -I/c/
<br/>
devkitPro/libnds/include -I/c/devkitPro/libnds/include -I/c/devkitPro/manual/cod
<br/>
e/chapter_8-input/build -DARM9 -fno-rtti -fno-exceptions -c /c/devkitPro/manual/
<br/>
code/chapter_8-input/source/main.cpp -o main.o
<br/>
linking chapter_8-input.elf
<br/>
built ... chapter_8-input.arm9
<br/>
<br/>
Nintendo DS rom tool 1.41 - May  1 2009
<br/>
by Rafael Vuijk, Dave Murphy, Alexei Karpenko
<br/>
built ... chapter_8-input.nds
<br/>
<br/>
C:\devkitPro\manual\code\chapter_8-input&gt;
<br/>
<br/>
Thanks!
<br/>
sipstation
<br/>
<br/>
Here is the installed.ini for devkitpro
<br/>
<br/>
[mirror]
<br/>
url=
<br/>
<br/>
[msys]
<br/>
Version=1.0.11-RC2
<br/>
<br/>
[devkitARM]
<br/>
Version=26
<br/>
<br/>
[devkitPPC]
<br/>
Version=17
<br/>
<br/>
[devkitPSP]
<br/>
Version=0
<br/>
<br/>
[libgba]
<br/>
Version=20090222
<br/>
<br/>
[libnds]
<br/>
Version=1.3.7
<br/>
<br/>
[libmirko]
<br/>
Version=0.9.7
<br/>
<br/>
[pnotepad]
<br/>
Version=2.0.8.718
<br/>
<br/>
[insight]
<br/>
Version=6.8.50-20080425
<br/>
<br/>
[ndsexamples]
<br/>
Version=20090531
<br/>
<br/>
[gbaexamples]
<br/>
Version=20090222
<br/>
<br/>
[cubeexamples]
<br/>
Version=20050509
<br/>
<br/>
[pspdoc]
<br/>
Version=0
<br/>
[libgbafat]
<br/>
Version=1.0.4
<br/>
[maxmodgba]
<br/>
Version=1.0.6
<br/>
[libndsfat]
<br/>
Version=1.0.4
<br/>
[defaultarm7]
<br/>
Version=0.5.6
<br/>
[filesystem]
<br/>
Version=0.9.2
<br/>
[dswifi]
<br/>
Version=0.3.10
<br/>
[maxmodds]
<br/>
Version=1.0.6
<br/>
[libogc]
<br/>
Version=1.7.1a
<br/>
[libogcfat]
<br/>
Version=1.0.4
<br/>
[gp32examples]
<br/>
Version=20051021
<br/>
[wiiexamples]
<br/>
Version=20090509
<br/>
[gcube]
<br/>
Version=0.4.0</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169583 - vuurrobin - Sat Jul 25, 2009 2:01 pm</h4>
    <div class="postbody"><span class="postbody">afaik, there is currently no way to run code in dsi mode, all the dsi cards work on the dsi, but are being run in ds mode. 
<br/>
<br/>
so the programs should work on the dsi, but they don't have acces to the camera and other dsi specific stuff.
<br/>
<br/>
edit1: crossposted with sipstation.
<br/>
<br/>
edit2: there aren't any warnings in the code, and the warnings of grit usealy mean nothing, so compiling goes correctly. I also can't see anything wrong with the versions. did you try to run the program in an emulator, like no$gba?
<br/>
<br/>
<a href="http://nocash.emubase.de/gba.htm" target="_blank">http://nocash.emubase.de/gba.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169584 - GugloPWN - Sat Jul 25, 2009 3:37 pm</h4>
    <div class="postbody"><span class="postbody">I have a DSi and am able to compile and run most everything (in DS mode). I use an Acekard 2i and have had some compatability issues with NitroFS EFS and AmplituDS. Most stuff runs fine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169588 - SteveH - Sat Jul 25, 2009 7:46 pm</h4>
    <div class="postbody"><span class="postbody">Any NitroFS compatibility issues comes down to the lack of nitroFS support in most cart manufacturures default launcher.  The only garunteed way to use NitroFS at the moment on any cart is to use the homebrew menu, and at the moment the only way to get that is from the SVN for devkitPro.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172271 - mikedpw0 - Thu Jan 28, 2010 5:28 am</h4>
    <div class="postbody"><span class="postbody">It might be worth noting that there is some DS homebrew that will run fine on a regular DS or DS lite but will not run, or will run with problems on a DSi.  Logically it would seem like this should not be the case, but it is.
<br/>
<br/>
DSOrganize can't connect to the internet and the touch screen won't function on a DSi.  Both work fine on a DS or DSlite.
<br/>
<br/>
The sega genesis emulator "jenesisDS" will open but will freeze when trying to open roms on a DSi.  Again, works fine on a regular DS/lite.
<br/>
<br/>
I don't know if the DSi is the problem in your case or not.  All I'm saying is it seems entirely possible.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
