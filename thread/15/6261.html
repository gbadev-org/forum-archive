<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Game AI - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Game Design > Game AI</h2>
<div id="posts">
<div class="post">
    <h4>#47558 - musicman3320 - Sun Jul 10, 2005 10:14 pm</h4>
    <div class="postbody"><span class="postbody">Hi all.  I was wondering if someone knows of a good AI tutorial for games.  I am writing a tetris spin off, but I don't know how to write an AI.  Does anyone know a good place to learn how to write AIs?  I assume that this is the right category, since I don't think it fits anywhere else.  If it should be asked elsewhere, please let me know.  Thank you in advance for any help.  
<br/>
    -Chris</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47562 - sajiimori - Sun Jul 10, 2005 10:45 pm</h4>
    <div class="postbody"><span class="postbody">Beyond the usual advice regarding finite state machines (used them yet?), AI is very game-specific.
<br/>
<br/>
If the AI is controlling something that could also be controlled by a player (as I would expect in a player-versus-AI game of Tetris), one of the key ideas is to write your game logic so that you can "plug in" either a human controller or an AI controller, leaving everything else the same.
<br/>
<br/>
To do that, make a list of all the things that the player can do.  Then make an easy way to send those commands to the game and have it respond correctly.  For instance:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">enum Command
<br/>
{
<br/>
  CMD_DO_NOTHING,
<br/>
  CMD_MOVE_LEFT,
<br/>
  CMD_MOVE_RIGHT,
<br/>
  CMD_ROTATE_LEFT,
<br/>
  CMD_ROTATE_RIGHT,
<br/>
  CMD_SNAP_TO_BOTTOM,
<br/>
};
<br/>
<br/>
void executeCommand(int playerNum, Command);
<br/>
</td> </tr></table><span class="postbody">
<br/>
After you have a simple interface that responds to all the commands, you start writing a program that produces interesting commands (the AI).  It's traditionally in the form of a state machine, but coroutines are an attractive alternative (enough so that I hardly ever write state machines anymore).  The interface to the AI might look like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Command makeDecision(AIState*);
<br/>
</td> </tr></table><span class="postbody">
<br/>
The AIState object contains everything the AI needs to know in order to make a decision.  For Tetris, it presumably needs to know the state of the board, the active shape and its location, and possibly the next shape in the queue.  (If it wants to be a real bugger, it might want to know the state of the opponent's board so it can set up well-timed attacks.)
<br/>
<br/>
If you'd like to talk AI sometime, message sajiimori on AIM.  I've never written an AI for Tetris so it would be fun to discuss.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47567 - Miked0801 - Sun Jul 10, 2005 10:56 pm</h4>
    <div class="postbody"><span class="postbody">Tetris would be a fun AI to write wouldn't it?  Maybe we can make a 2p tetris clone as a minigame sometime :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48891 - quickcup - Sat Jul 23, 2005 8:17 pm</h4>
    <div class="postbody"><span class="postbody">I have been working on a tetris clone that incorporates ai in one of its modes for almost four years now.  It is nearing completion.
<br/>
Here is a screenshot.
<br/>
<br/>
<a href="http://img320.imageshack.us/img320/9931/poly7zc.jpg">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48900 - ScottLininger - Sat Jul 23, 2005 10:25 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Command makeDecision(AIState*); </td> </tr></table><span class="postbody">
<br/>
<br/>
What would be really cool sometime would be a compo where contestants submit "makeDecision" routines that play against one another. Whoever writes the best AI wins the prize.
<br/>
<br/>
Of course, one would have to come up with some sort of fair way to determine how much processing power each AI has access to... 
<br/>
<br/>
AI for Tetris would be a fascinating challenge.
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48902 - tepples - Sat Jul 23, 2005 10:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ScottLininger wrote:</b></span></td> </tr> <tr> <td class="quote">Of course, one would have to come up with some sort of fair way to determine how much processing power each AI has access to...</td> </tr></table><span class="postbody">
<br/>
If the vcount interrupt fires before think() finishes, DQ. If think() writes to the interrupt control registers, DQ.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48964 - Miked0801 - Sun Jul 24, 2005 9:41 pm</h4>
    <div class="postbody"><span class="postbody">Or just use No$GBA's timing to see how long the think takes.  Over X tics, DQ.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48970 - tepples - Sun Jul 24, 2005 10:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">Or just use No$GBA's timing to see how long the think takes.  Over X tics, DQ.</td> </tr></table><span class="postbody">
<br/>
Which would require all judges to own a copy of NO$GBA (profiler edition). This could run more than the prize budget. It'd be easier to hack VBA to trap unauthorized writes to the interrupt registers.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49023 - Kyoufu Kawa - Mon Jul 25, 2005 5:21 pm</h4>
    <div class="postbody"><span class="postbody">I'll pass. I suck at AI :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49059 - APL - Tue Jul 26, 2005 2:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ScottLininger wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Command makeDecision(AIState*); </td> </tr></table><span class="postbody">
<br/>
<br/>
What would be really cool sometime would be a compo where contestants submit "makeDecision" routines that play against one another. Whoever writes the best AI wins the prize.</span></td> </tr></table><span class="postbody">
<br/>
That would be a really fun contest!  Count me in!
<br/>
It might also be good for programmers new to the GBA (Such as myself) as all the graphics would be taken care of by the supplied code.
<br/>
<br/>
The interesting question would be should the contest revolve around a real-time game like "Tetris" or something turn based?   Real-time would probably be more exciting, but "chess on GBA hardware" might be an interesting problem.<br/>_________________<br/>-Andy L 
<br/>
<a href="http://www.depthchasers.com" target="_blank">http://www.depthchasers.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49062 - sajiimori - Tue Jul 26, 2005 3:01 am</h4>
    <div class="postbody"><span class="postbody">For the purposes of AI, realtime and turn-based are identical.  "What should I do this tick?" is the same question as "What should I do this turn?"  The AI doesn't care how fast the turns are playing out in reality.
<br/>
<br/>
Of course, the shorter the turns are, the less CPU you have to work with, but it's not a fundamental difference.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49064 - DekuTree64 - Tue Jul 26, 2005 3:31 am</h4>
    <div class="postbody"><span class="postbody">Yeah, I'd be in for a compo like that. Preferrably in about a month, when I'd actually have time to work on it...
<br/>
<br/>
Maybe give each MakeDecision around 100K cycles (out of 280896 per frame) to work with, so about 1/3 of the frame. Should leave plenty for the game to run with music and cool SFX when your AI opens up a can of whup-ass on the other :)
<br/>
Then maybe half of EWRAM, 14KB of IWRAM, and 256KB of ROM. That way we could put all the entries in a single ROM and make a nice menu to select 2 people and watch them go at it. 
<br/>
<br/>
Heck, just designing the game to run the AI players would be loads of fun<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49079 - quickcup - Tue Jul 26, 2005 6:57 am</h4>
    <div class="postbody"><span class="postbody">I can supply the engine and maybe the interface.
<br/>
Here is a demo of my engine with two players instantiated using the same AI.
<br/>
Press a key to start it.
<br/>
<br/>
<a class="postlink" href="http://fast.filespace.org/quickcup/game.zip" target="_blank">http://fast.filespace.org/quickcup/game.zip</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49149 - ScottLininger - Tue Jul 26, 2005 9:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>quickcup wrote:</b></span></td> </tr> <tr> <td class="quote"><a class="postlink" href="http://fast.filespace.org/quickcup/game.zip" target="_blank">http://fast.filespace.org/quickcup/game.zip</a></td> </tr></table><span class="postbody">
<br/>
<br/>
Your linky, she is broken. :(
<br/>
<br/>
Uh, at least for me. :)
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49159 - tepples - Tue Jul 26, 2005 11:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">Maybe give each MakeDecision around 100K cycles (out of 280896 per frame) to work with, so about 1/3 of the frame. Should leave plenty for the game to run with music and cool SFX when your AI opens up a can of whup-ass on the other :)
<br/>
Then maybe half of EWRAM, 14KB of IWRAM, and 256KB of ROM.</td> </tr></table><span class="postbody">
<br/>
28 KiB of IWRAM used by the AIs? How much would that leave for the game engine and especially the audio mixer?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49166 - DekuTree64 - Wed Jul 27, 2005 1:20 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">Then maybe half of EWRAM, 14KB of IWRAM, and 256KB of ROM.</td> </tr></table><span class="postbody">
<br/>
28 KiB of IWRAM used by the AIs? How much would that leave for the game engine and especially the audio mixer?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Eh, 4KB should be plenty for a mixer and a couple of other misc routines. I don't think it would be too difficult to get the engine running with a 4 channel mixer in about 28% CPU, so more IWRAM should go to the AIs, since they'll probably be hard-pressed to keep up.
<br/>
<br/>
Maybe that should be more like 12KB per AI though, to leave more room for the stack.
<br/>
<br/>
EDIT: On second thought, the mixer would need a bit of EWRAM for the output buffer, so I guess each AI would get 127KB there :)<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49276 - APL - Thu Jul 28, 2005 1:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">Or just use No$GBA's timing to see how long the think takes.  Over X tics, DQ.</td> </tr></table><span class="postbody">
<br/>
Which would require all judges to own a copy of NO$GBA (profiler edition). This could run more than the prize budget. It'd be easier to hack VBA to trap unauthorized writes to the interrupt registers.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
It actualy might require the contestants to have it too.  It'd be tough to push your AI right to the edge if you couldn't accurately measure to see if you were within the rules.<br/>_________________<br/>-Andy L 
<br/>
<a href="http://www.depthchasers.com" target="_blank">http://www.depthchasers.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
