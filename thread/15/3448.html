<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>I need more infomation about vsync's and vblanks, etc. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Game Design > I need more infomation about vsync's and vblanks, etc.</h2>
<div id="posts">
<div class="post">
    <h4>#21102 - mr_schmoe - Sun May 23, 2004 10:11 pm</h4>
    <div class="postbody"><span class="postbody">Ok, I not sure I understand things correctly. If any of you could of some help, and you all have been very much so in the past, that would be fantastic.
<br/>
<br/>
What I understand is that the GBA updates the screen 60 times a second. So, does that mean each frame takes 1/60 of seconds to draw? And each scan line takes 1/160 of 1/60 of a second to draw? And if that's true, then after the 160th line is draw, do we only have 1/160 of 1/60 of seconds to update the OAM and do all the other drawing we need to. Because that doesn't seem like much time. If that's not the case, how long do we have? And is the time between the 160th line and the 1st line, is that called the vblank? And what if we take too much time to draw everything? Do we get the same effects as if one didn't wait for a vsync because the GBA is already halfway down the screen before we are finished drawing. And what about vblank interrupts? How do they work and how much time do we have in one of those? So many questions, I'm sorry. I'll probably post some more as the first ones get answered though. Thanks for all your help.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21105 - poslundc - Sun May 23, 2004 10:47 pm</h4>
    <div class="postbody"><span class="postbody">I refer you to the <a class="postlink" href="http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm" target="_blank">Cowbite Virtual Hardware Spec</a>.
<br/>
<br/>
The GBA's rendering cycle is comprised of two phases: VDraw and VBlank.
<br/>
<br/>
VDraw lasts for 160 scanlines (ie. the height of the GBA's screen). This is when the screen is actually being drawn, and when you generally do not want to tamper with anything that affects the video. You can use this time to prepare for the next frame by performing calculations, updating the game world's state, etc.
<br/>
<br/>
VBlank lasts for 68 "invisible" scanlines during which the image is sustained on the GBA's screen. Now is when you can safely tamper with video RAM, OAM, etc. without creating screen artifacts.
<br/>
<br/>
FYI: The GBA's CPU is 16.78 MHz. Each "scanline" lasts 1,232 cycles. 68 scanlines comes out to 83,776 cycles which is more than enough time for most of the updates you would have to make to the screen.
<br/>
<br/>
Scanlines are also broken down into an HDraw and HBlank period. HDraw lasts 1004 cycles and HBlank lasts 228 cycles. HBlank is just barely long enough for you to change some minor elements of the GBA's display on an individual scanline basis, so it's possible to create scanline or "raster" effects such as sinusoidal motion or Mode 7 perspective.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
