<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Need opinions on playfield boundaries - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Game Design > Need opinions on playfield boundaries</h2>
<div id="posts">
<div class="post">
    <h4>#11490 - poslundc - Wed Oct 08, 2003 3:19 pm</h4>
    <div class="postbody"><span class="postbody">As several of you know, I'm currently designing a Mode7 action-RPG.
<br/>
<br/>
The action takes place on a map that's, well, as large as I want it to be, but I'm having trouble deciding what action to take when the user gets to the edge of the battle field.
<br/>
<br/>
You see, I'm rendering the screen as a terrain, with a horizon, so if the player gets far enough away from the middle so that the edge of the map becomes visible, then the player can see the background colour beneath the horizon, which is not cool.
<br/>
<br/>
I've been experimenting with how I want to deal with this problem, and have come up with the following options:
<br/>
<br/>
1. Wrap the image around to the opposite end of the map, and design my maps so that this does not look too conspicuous.
<br/>
<br/>
2. Don't let the player get close enough to the edge for it to become a problem.
<br/>
<br/>
3. When the player gets near the edge, adjust the camera angles, rotation, zoom, etc. so that it no longer is a problem.
<br/>
<br/>
Here is where I am so far with each of these options:
<br/>
<br/>
1. This is currently looking like my most viable option. Its main disadvantage is that players are very likely to realize what is happening at some point or another, which hurts their suspension of disbelief.
<br/>
<br/>
2. My main problem with this one is that the horizon always appears at 320 pixels distance. At that range, the zoom factor is 2.5, which means I would have to keep the player at least 300 pixels (120 * 2.5) from the edge of the map at all times (more if I want to take rotation into account). That's a lot of wasted map space... if my map is 2048x2048 then I've basically lost 50% of my map area. If not for the incredible losses there, this would be my first choice as it is relatively unobtrusive.
<br/>
<br/>
3. I've fiddled a lot with this and can't really get a sequence of movements that isn't distracting to the player. So far I've tried changing the pitch so that it becomes overhead, zooming in, and rotating the camera. All three seem very intrusive. I'm open to suggestions if anyone has them. Keep in mind that any of these adjustments have to start happening 300 pixels from the edge of the map, so there is a pretty big "huh?" factor for players.
<br/>
<br/>
So if you were playing this game, which do you think you would prefer? Or is there another option entirely that I am overlooking?
<br/>
<br/>
Thanks,
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11494 - tepples - Wed Oct 08, 2003 4:35 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">You see, I'm rendering the screen as a terrain, with a horizon, so if the player gets far enough away from the middle so that the edge of the map becomes visible, then the player can see the background colour beneath the horizon, which is not cool.
<br/>
<br/>
I've been experimenting with how I want to deal with this problem, and have come up with the following options:
<br/>
<br/>
1. Wrap the image around to the opposite end of the map, and design my maps so that this does not look too conspicuous.
<br/>
<br/>
2. Don't let the player get close enough to the edge for it to become a problem.
<br/>
<br/>
3. When the player gets near the edge, adjust the camera angles, rotation, zoom, etc. so that it no longer is a problem.</td> </tr></table><span class="postbody">
<br/>
The <span style="font-style: italic">Mario Kart</span> games that use rot/scale backgrounds fix this in other ways:
<br/>
<br/>
4. <span style="font-style: italic">Super Mario Kart</span> for Super NES uses a feature of the Super NES Mode 7 hardware such that instead of color 0 being repeated, <span style="font-style: italic">tile</span> 0 is repeated. The GBA doesn't have exactly the same feature, but one of the demos on gbadev.org fakes it: At your horizon scanline, switch to mode 2 and display your playfield (BG2, prio 0) on top of a repeating 16x16-tile map (BG3, prio 1).
<br/>
<br/>
5. <span style="font-style: italic">Mario Kart Super Circuit</span> for GBA uses the same technique as <span style="font-style: italic">F-Zero</span> for Super NES: update the edge of the visible map as if it were a 2D scrolling map.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">2. My main problem with this one is that the horizon always appears at 320 pixels distance.</td> </tr></table><span class="postbody">
<br/>
You could fudge it a bit by playing with the horizon.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">3. I've fiddled a lot with this and can't really get a sequence of movements that isn't distracting to the player. So far I've tried changing the pitch so that it becomes overhead, zooming in, and rotating the camera. All three seem very intrusive. I'm open to suggestions if anyone has them. Keep in mind that any of these adjustments have to start happening 300 pixels from the edge of the map, so there is a pretty big "huh?" factor for players.</td> </tr></table><span class="postbody">
<br/>
You could minimize the "huh?" factor by using some shaping function with soft edges, so that the change begins after 500 pixels and gradually has more effect until 300 pixels.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11495 - DekuTree64 - Wed Oct 08, 2003 4:37 pm</h4>
    <div class="postbody"><span class="postbody">Well, logically if you keep running out into nowhere, you'll eventually be too far away for those baddies to matter anymore, so you could just make that how you run away from a fight. Have it pop up a message to ask if you want to run, so you don't accidentally hit the edge when you don't mean to, but I think that would make it the least noticable.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11496 - poslundc - Wed Oct 08, 2003 4:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">4. <span style="font-style: italic">Super Mario Kart</span> for Super NES uses a feature of the Super NES Mode 7 hardware such that instead of color 0 being repeated, <span style="font-style: italic">tile</span> 0 is repeated. The GBA doesn't have exactly the same feature, but one of the demos on gbadev.org fakes it: At your horizon scanline, switch to mode 2 and display your playfield (BG2, prio 0) on top of a repeating 16x16-tile map (BG3, prio 1).</td> </tr></table><span class="postbody">
<br/>
<br/>
This is a pretty good idea, although I would have to adapt it since I actually have wraparound turned on for the Mode7 background (so that I can update the visible portions of the background when using maps larger than 1024x1024, same as the technique you mention below). I could just make it so that my updating function instead of wrapping around the larger map just substitutes a single tile beyond the larger map's boundaries, though. I like it.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">5. <span style="font-style: italic">Mario Kart Super Circuit</span> for GBA uses the same technique as <span style="font-style: italic">F-Zero</span> for Super NES: update the edge of the visible map as if it were a 2D scrolling map.</td> </tr></table><span class="postbody">
<br/>
<br/>
I think this is what I was talking about in #1: wrapping around to the opposite end of the map and trying to design the maps inconspicuously. Please correct me if you are suggesting something else.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">You could fudge it a bit by playing with the horizon.</td> </tr></table><span class="postbody">
<br/>
<br/>
If there's one thing my experiments have shown me, it's that making the horizon appear significantly closer than it should looks very strange. :P
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">You could minimize the "huh?" factor by using some shaping function with soft edges, so that the change begins after 500 pixels and gradually has more effect until 300 pixels.</td> </tr></table><span class="postbody">
<br/>
<br/>
This could work, but I like the idea of keeping the majority of the gameplay locked in a single perspective/distance/rotation. If I decided to adjust camera settings for regular gameplay, it would only be at the extremes and not in the general case.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11497 - poslundc - Wed Oct 08, 2003 4:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">Well, logically if you keep running out into nowhere, you'll eventually be too far away for those baddies to matter anymore, so you could just make that how you run away from a fight. Have it pop up a message to ask if you want to run, so you don't accidentally hit the edge when you don't mean to, but I think that would make it the least noticable.</td> </tr></table><span class="postbody">
<br/>
<br/>
We're on the same wavelength, it would seem, except I was planning on making that a more intrinsic aspect of the gameplay... when you choose to "run" all your characters will beeline for the nearest boundary, and need to reach it in order to escape. If someone can't make it (ie. enemies are blocking them) then you need to either evade the enemies, stand and fight with whomever hasn't already escaped, or just let that character get beaten up.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
