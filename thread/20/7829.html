<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>[Release] Moonshell Movieplayer for GBAMP - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS Misc > [Release] Moonshell Movieplayer for GBAMP</h2>
<div id="posts">
<div class="post">
    <h4>#64172 - FloFri - Tue Dec 20, 2005 12:09 am</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
I have ported the new Movieplayer from Moonshell to the GBAMP. Its only a first step. The audio is much too slow (I think this is because two file-handles are accessing the movie file (one for audio and one for video)).
<br/>
The main changes are in the main.cpp, cstream.cpp and cstream.h of the arm9 source.
<br/>
The player is written, as a plugin for the MightyMax Bootloader (the plugin-files are in the mb_data directory).
<br/>
<br/>
Maybe someone can do the second step and can fix the problem with audio :)
<br/>
<br/>
Here is the code and the compliled plugin:
<br/>
<a href="http://www.hooster.de/dpgtest-gbamp.zip" target="_blank">http://www.hooster.de/dpgtest-gbamp.zip</a>
<br/>
<br/>
Greetings
<br/>
FloFri</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64181 - Durandle - Tue Dec 20, 2005 12:35 am</h4>
    <div class="postbody"><span class="postbody">Where have you defined what filename/path it looks for, cos I can't find it any more.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64182 - FloFri - Tue Dec 20, 2005 12:44 am</h4>
    <div class="postbody"><span class="postbody">In the Arm9 main.cpp.
<br/>
<br/>
Line 140
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">openstream(((const char *)0x027FF810));</td> </tr></table><span class="postbody">
<br/>
<br/>
The parameter is the filename (the MightyMax bootloader sets the name to the dpg-file at this address, so you have to change this to a static filename if you dont use the movieplayer as a MightyMax plugin).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64183 - Durandle - Tue Dec 20, 2005 12:47 am</h4>
    <div class="postbody"><span class="postbody">Aah ok. I know nothing about the loader so it confused me  :P  thanks. Was thinking it *should* work on the M3 using the FAT libs.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64184 - Durandle - Tue Dec 20, 2005 12:51 am</h4>
    <div class="postbody"><span class="postbody">Ah and also worth noting, the *new* version of the player released today fixes the audio bug - maybe worth updating yours with the new code.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64249 - Mr. Picklesworth - Tue Dec 20, 2005 5:14 pm</h4>
    <div class="postbody"><span class="postbody">Does it stream now, instead of being one big .nds file?<br/>_________________<br/>Thanks!
<br/>
<span style="font-size: 9px; line-height: normal">MKDS Friend Code: 511165-679586
<br/>
MP:H Friend Code: 2105 2377 6896</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64253 - Durandle - Tue Dec 20, 2005 5:47 pm</h4>
    <div class="postbody"><span class="postbody">This version does, the original does not. If you want to use this version on the M3 you have to edit a tiny line of code. However, until this version is updated to work with the new code which just came out that fixes the stuttery sound issue then theres not much point.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64254 - El Hobito - Tue Dec 20, 2005 5:53 pm</h4>
    <div class="postbody"><span class="postbody">i wouldnt spend to much time on it flofri i'd imagine it'll be official in the not too distant future</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64349 - Chetic - Wed Dec 21, 2005 3:58 pm</h4>
    <div class="postbody"><span class="postbody">I actually managed to make it play videos on the top screen and info on the bottom :D
<br/>
<br/>
I could actually watch like a music video or something with this now.
<br/>
This is really cool!<br/>_________________<br/>Packin':
<br/>
Grey DS with FlashMe v7
<br/>
1Gbit XG2T 2005 (Neoflash compatible)
<br/>
GBAMP, Supercard CF, 512Mb Magic Key 3 and EZFA 256Mbit</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64369 - FloFri - Wed Dec 21, 2005 7:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Durandle wrote:</b></span></td> </tr> <tr> <td class="quote">This version does, the original does not. If you want to use this version on the M3 you have to edit a tiny line of code. However, until this version is updated to work with the new code which just came out that fixes the stuttery sound issue then theres not much point.</td> </tr></table><span class="postbody">
<br/>
<br/>
It seems, that the code of the new version is not released!
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Chetic wrote:</b></span></td> </tr> <tr> <td class="quote">I actually managed to make it play videos on the top screen and info on the bottom :D
<br/>
<br/>
I could actually watch like a music video or something with this now.
<br/>
This is really cool!</td> </tr></table><span class="postbody">
<br/>
<br/>
Have you found the problem with the audio?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64370 - Durandle - Wed Dec 21, 2005 7:53 pm</h4>
    <div class="postbody"><span class="postbody">ah well, I think the next release will be a big one, reading Moonlight's (i think thats the name he uses) site it seems he is working on skipping through movies (looks like hes just making it jump chunks) but also seems it can take a long time to skip due to slow data-rates.
<br/>
<br/>
I think skipping, black borders (when using wide screen the borders are white) and the ability to change screen by presing a button would make this almost perfect. 
<br/>
<br/>
There is however still and error that causes it to crash after a few minutes (4min 50seconds for me) of playing, but I'm sure this can be fixed.
<br/>
<br/>
aaaand I'm thinking of setting up a hombrew only website where people can host projects with feedback/message boards per project...  sound like a good idea or waste of time?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64371 - FireSlash - Wed Dec 21, 2005 8:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Durandle wrote:</b></span></td> </tr> <tr> <td class="quote">aaaand I'm thinking of setting up a hombrew only website where people can host projects with feedback/message boards per project...  sound like a good idea or waste of time?</td> </tr></table><span class="postbody">
<br/>
<br/>
Been considering this for a while... can't find enough of an interest in the community to merit coding one :P<br/>_________________<br/><a class="postlink" href="http://www.fireslash.net" target="_blank">FireSlash.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64396 - Durandle - Wed Dec 21, 2005 11:48 pm</h4>
    <div class="postbody"><span class="postbody">true, there seem to be a few select people making anything homebrew. And I suppose its also true that there's only a tiny percentage of people who can even run homebrew.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64410 - Darkflame - Thu Dec 22, 2005 3:38 am</h4>
    <div class="postbody"><span class="postbody">The number of DS users is increaseing rapidly, and homebrew users go up naturely as a percent of that.
<br/>
<br/>
An international site where people can host projects would be a great idea, imo. Purhapes allowing developers to set up polls. ("which feature is most important" ect).
<br/>
<br/>
I wouldnt be supprised if there was about 100-200 active people working on homebrew worldwide, with about 10,000-20,000 potential users.
<br/>
The key, however, is getting them all together ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64444 - Darkflame - Thu Dec 22, 2005 1:06 pm</h4>
    <div class="postbody"><span class="postbody">btw, this video player works fine for me! :)
<br/>
<br/>
The little 10 second test I converted turned out very well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64456 - Chetic - Thu Dec 22, 2005 4:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FloFri wrote:</b></span></td> </tr> <tr> <td class="quote">Have you found the problem with the audio?</td> </tr></table><span class="postbody">
<br/>
No no, I have no such skills.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Darkflame wrote:</b></span></td> </tr> <tr> <td class="quote">btw, this video player works fine for me! :)
<br/>
The little 10 second test I converted turned out very well.</td> </tr></table><span class="postbody">
<br/>
Not at resolution 256x192 though, I presume<br/>_________________<br/>Packin':
<br/>
Grey DS with FlashMe v7
<br/>
1Gbit XG2T 2005 (Neoflash compatible)
<br/>
GBAMP, Supercard CF, 512Mb Magic Key 3 and EZFA 256Mbit</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64458 - Durandle - Thu Dec 22, 2005 5:31 pm</h4>
    <div class="postbody"><span class="postbody">Hm at 256*192 it runs just great normally. Not had a problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64461 - El Hobito - Thu Dec 22, 2005 6:24 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Durandle wrote:</b></span></td> </tr> <tr> <td class="quote">Hm at 256*192 it runs just great normally. Not had a problem.</td> </tr></table><span class="postbody">
<br/>
at 24fps? all the ones ive tried have appauling frame dropping which would probably be okay if it wasnt for the frame interpolation effect</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64490 - Chetic - Thu Dec 22, 2005 9:45 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, there isn't really a way to play at 256x192 at 24fps (yet)
<br/>
But it's so close you can taste it<br/>_________________<br/>Packin':
<br/>
Grey DS with FlashMe v7
<br/>
1Gbit XG2T 2005 (Neoflash compatible)
<br/>
GBAMP, Supercard CF, 512Mb Magic Key 3 and EZFA 256Mbit</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64499 - El Hobito - Thu Dec 22, 2005 11:51 pm</h4>
    <div class="postbody"><span class="postbody">it runs pretty good in gba res since it automatically scales it to full screen</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64669 - Darkflame - Sat Dec 24, 2005 9:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Chetic wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FloFri wrote:</b></span></td> </tr> <tr> <td class="quote">Have you found the problem with the audio?</td> </tr></table><span class="postbody">
<br/>
No no, I have no such skills.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Darkflame wrote:</b></span></td> </tr> <tr> <td class="quote">btw, this video player works fine for me! :)
<br/>
The little 10 second test I converted turned out very well.</td> </tr></table><span class="postbody">
<br/>
Not at resolution 256x192 though, I presume</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, at full resolution.
<br/>
Using Adobe Primieres Mpeg maker.
<br/>
It was set at 20fps, I think. Or even 24...
<br/>
<br/>
either way, the framerate was high, but the bitrate fairly low.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64724 - El Hobito - Mon Dec 26, 2005 1:16 am</h4>
    <div class="postbody"><span class="postbody">ooh it'll let you encode at 20fps? that'll work perfectly id expect and would look great</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64746 - jasterm - Mon Dec 26, 2005 8:37 am</h4>
    <div class="postbody"><span class="postbody">Does anyone have a copy of this to share, the .zip on the website is no longer there. I'm interested in seeing the quality of the video since I can't play video with moonshell on my M3.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
