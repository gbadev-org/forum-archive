<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Perhaps the impossible? (FF7 on DS) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS Misc > Perhaps the impossible? (FF7 on DS)</h2>
<div id="posts">
<div class="post">
    <h4>#63851 - tssf - Fri Dec 16, 2005 8:39 pm</h4>
    <div class="postbody"><span class="postbody">Are there some people willing to come together to perhaps make a playable FF7 demo for the DS to showcase what the DS can actually do?
<br/>
<br/>
It'd really be a group effort mostly.. For instance, I wouldn't mind making a few real-time XMs from the game for the music (since, that's what I do.. visit here: <a href="http://tssf.i-web.net/Remakes/FF7Stuff" target="_blank">http://tssf.i-web.net/Remakes/FF7Stuff</a>)
<br/>
<br/>
Then like, Tony Savon can maybe contribute his Caiman's Video Codec thingy
<br/>
<br/>
Someone who knows 3D programming can make an interpreter to read model information from the PC version of FF7
<br/>
<br/>
Someone can extract the sound effects and the backgrounds, and sprites and fonts and such from the "low quality" PC version as well..
<br/>
<br/>
I personally think, provided the right people come together to put the demo together, it would actually be very doable.
<br/>
<br/>
I've noticed one thing about the dsdev community, or even the GBA dev community..that everyone works very solo on their demos. Perhaps bringing everyone together for one impressive project might be out of the question.
<br/>
<br/>
Anyway, it was just a thought, mostly. :)<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#63858 - TheChuckster - Fri Dec 16, 2005 11:57 pm</h4>
    <div class="postbody"><span class="postbody">Aren't you worried about getting another C&amp;D from Square like you did for Chrono Resurrection?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#63863 - gladius - Sat Dec 17, 2005 12:34 am</h4>
    <div class="postbody"><span class="postbody">There is a fellow who is working on some stuff related to FF7 already actually.  He has battle fields and the character models loading and displaying on the DS.  <a class="postlink" href="http://www.ficedula.co.uk/" target="_blank">http://www.ficedula.co.uk/</a>, check out the weblog, then nds work to see his progress.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#63986 - tssf - Sun Dec 18, 2005 7:42 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TheChuckster wrote:</b></span></td> </tr> <tr> <td class="quote">Aren't you worried about getting another C&amp;D from Square like you did for Chrono Resurrection?</td> </tr></table><span class="postbody">
<br/>
<br/>
If it's kept quiet, and if it's released whole in only one version, then there won't be many worries.
<br/>
<br/>
But no, I'm not reallly worried about a cease and desist.
<br/>
<br/>
gladius, that is an insanely awesome find. So it seems that someone's already toyed with the idea..
<br/>
<br/>
I think it would be insanely cool if this could be pulled off. Hmm.<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#63987 - Darkwind_776 - Sun Dec 18, 2005 8:04 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tssf wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TheChuckster wrote:</b></span></td> </tr> <tr> <td class="quote">Aren't you worried about getting another C&amp;D from Square like you did for Chrono Resurrection?</td> </tr></table><span class="postbody">
<br/>
<br/>
If it's kept quiet, and if it's released whole in only one version, then there won't be many worries.
<br/>
<br/>
But no, I'm not reallly worried about a cease and desist.
<br/>
<br/>
gladius, that is an insanely awesome find. So it seems that someone's already toyed with the idea..
<br/>
<br/>
I think it would be insanely cool if this could be pulled off. Hmm.</span></td> </tr></table><span class="postbody">It would be really cool, but how anyone could get the entire game to run on the DS (off a NDS card or flash cart) I have no idea.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#63988 - tssf - Sun Dec 18, 2005 8:10 am</h4>
    <div class="postbody"><span class="postbody">Not the entire game, I was personally shooting for nothing more than the PSX demo that came with Tobal No. 1 back in the day, lol.
<br/>
<br/>
(It would end after escaping from the reactor blowing up after the countdown in the beginning of FF7)<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64004 - El Hobito - Sun Dec 18, 2005 1:48 pm</h4>
    <div class="postbody"><span class="postbody">if you didnt have any videos you could probably fit the whole game i believe its only around 150 megs or if you recrompressed the videos then it might be possible on a large cf card. (you would only need a discs worth of vids on a t one time anyhow.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64007 - Alec - Sun Dec 18, 2005 2:11 pm</h4>
    <div class="postbody"><span class="postbody">If that guy ONLY ports a demo, I will be angry. I want to see a complete port, dangit!
<br/>
<br/>
Heck, I'll even "donate" to him to finish such a project in it's entirety. It'd be a shame to leave fans craving the rest of the game.<br/>_________________<br/>Eat Those Gopher Cakes 'Til You Explode!
<br/>
<a class="postlink" href="http://profile.xfire.com/eject" target="_blank"></a><a href="http://miniprofile.xfire.com/bg/bg/type/0/eject.png">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64013 - Darkflame - Sun Dec 18, 2005 3:10 pm</h4>
    <div class="postbody"><span class="postbody">The demo would prove it could be done.
<br/>
<br/>
That would be enough to get support for a full version ;)
<br/>
<br/>
I think with cutscenes is possible, incidently.
<br/>
Purhapes using that nice new Mpeg lib...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64021 - El Hobito - Sun Dec 18, 2005 5:03 pm</h4>
    <div class="postbody"><span class="postbody">i kinda half changed my mind while writing my last post to fit one disk on wouldnt be  at all difficult for m3/gbamp/sc owners.  if he can remake the engine without infringing on copyrights and since you'd need to own the original game to get the assets (with maybe that converter program for the meshes) i can't see how square can complain?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64038 - tssf - Sun Dec 18, 2005 8:30 pm</h4>
    <div class="postbody"><span class="postbody">A demo of FF7 on the DS probably wouldn't be legal. However, It would still be interesting to see, and would quite possibly provoke fan base to encourage Square to look at the possibility.
<br/>
<br/>
When I get some time, I'm going to track the Mako Reactor theme and like, redo the FF7 intro / Bombing mission, and battle themes.<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64044 - El Hobito - Sun Dec 18, 2005 9:38 pm</h4>
    <div class="postbody"><span class="postbody">so long as his app doesnt come with any copyrighted code then it should be totally legal and in anycase doesnt that dmca law that you have in america have an exception when used for interoperability ie allowing to be run on the ds?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64051 - Dudu.exe - Sun Dec 18, 2005 11:20 pm</h4>
    <div class="postbody"><span class="postbody">Images takem from <a href="http://www.ficedula.co.uk/" target="_blank">http://www.ficedula.co.uk/</a>
<br/>
<br/>
<br/>
<a href="http://www.sylphds.net/ev2/ndsff.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
a image os a FF7 background on DS!!!  from his blog!
<br/>
<br/>
<a href="http://www.sylphds.net/ev2/ffds3.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
a model ... guess who is it?
<br/>
<br/>
<a href="http://www.sylphds.net/ev2/ds/aeris1.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
=3
<br/>
<br/>
<a href="http://www.sylphds.net/ev2/ds/grad1.JPG">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
<a href="http://www.sylphds.net/ev2/ds/dsbat1.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<a href="http://www.sylphds.net/ev2/ds/dsbat2.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<a href="http://www.sylphds.net/ev2/ds/dsbat3.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
<br/>
<br/>
looks nice dont it?
<br/>
<br/>
and this looks interting  <a class="postlink" href="http://www.sylphds.net/ev2/contentview.php?id=284" target="_blank">http://www.sylphds.net/ev2/contentview.php?id=284</a>
<br/>
<br/>
if it is impossible.. it is yhe best fake i ever seen!<br/>_________________<br/><a class="postlink" href="http://flickr.com/photos/stuffbox" target="_blank">http://flickr.com/photos/stuffbox</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64053 - M3d10n - Sun Dec 18, 2005 11:33 pm</h4>
    <div class="postbody"><span class="postbody">If you can shape it into some sort of tool that can generate a DS ROM out from the original game assets, it could be mostly legal. Like SCUMM or something.
<br/>
<br/>
It is entirely possible to Square to port the whole game to the NDS. The N64 Resident Evil 2 port was shrunk to a 512MBit cart, and while the FMV got a lower framerate and got blurrier, it was all there.
<br/>
<br/>
FF7 uses 3 discs, but most data is mirrored in all 3 discs, with the FMV and maybe a few areas being disc-exclusive. The backgrounds, models and textures aren't compressed at all, since there was plenty of space on the CDs (they take up around 160MBs), and the FMVs are encoded with a high bitrate (around 275 KBytes per second in the PC version), and could use much less and keep the same quality (look at the Caimans codec, as example).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64088 - Dark Knight ez - Mon Dec 19, 2005 9:32 am</h4>
    <div class="postbody"><span class="postbody">Still, for it to succeed completely, a DS interpreter would have to be written which would do the (exact?) same as the PSX (or PC) executable.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64089 - JaJa - Mon Dec 19, 2005 9:43 am</h4>
    <div class="postbody"><span class="postbody">When porting a game you can't go for EXACT.
<br/>
For one thing the control scheme is different.
<br/>
<br/>
You go for best feel.
<br/>
<br/>
Anyway wouldn't a DS interpreter that does the exact same as a PSX be an emulator?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64104 - Dark Knight ez - Mon Dec 19, 2005 12:22 pm</h4>
    <div class="postbody"><span class="postbody">Hmm... partially, I suspect. A lot of things wouldn't have to be emulated, and a lot of things can and should be replaced (due to the game assets being optimised for DS already).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64106 - TheChuckster - Mon Dec 19, 2005 12:57 pm</h4>
    <div class="postbody"><span class="postbody">Not exactly. An interpretter would just imitate all of the game-specific logic and idiosyncracies. An emulator is a much more generalized imitation of the hardware and the CPU that runs it accurately ideally down to the instruction-level.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64128 - tssf - Mon Dec 19, 2005 7:02 pm</h4>
    <div class="postbody"><span class="postbody">Well, the 3D aspect is covered, just as that link pretty much showed. The fact that the characters were "optimized" with lower polygon rates, and still look pretty much the same means a lot. Though it was Square's first 3D FF, it obviously could be improved upon texture-wise.
<br/>
<br/>
Wouldn't the only interpreters needed would be for like, the camera angles, the scripting engine, etc..that sorta thing?
<br/>
<br/>
Assets such as graphics and music and sound effects can all be re-worked for the DS so it wouldn't have to emulate any kind of advanced hardware function of the Playstation.
<br/>
<br/>
I'm kinda worried about his memory usage, he's not leaving much for sound. But, doesn't the DS have 2 megs more RAM than the PS1 had?<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64154 - Darkwind_776 - Mon Dec 19, 2005 9:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tssf wrote:</b></span></td> </tr> <tr> <td class="quote">Well, the 3D aspect is covered, just as that link pretty much showed. The fact that the characters were "optimized" with lower polygon rates, and still look pretty much the same means a lot. Though it was Square's first 3D FF, it obviously could be improved upon texture-wise.
<br/>
<br/>
Wouldn't the only interpreters needed would be for like, the camera angles, the scripting engine, etc..that sorta thing?
<br/>
<br/>
Assets such as graphics and music and sound effects can all be re-worked for the DS so it wouldn't have to emulate any kind of advanced hardware function of the Playstation.
<br/>
<br/>
I'm kinda worried about his memory usage, he's not leaving much for sound. But, doesn't the DS have 2 megs more RAM than the PS1 had?</td> </tr></table><span class="postbody">Well the first PS1 had only 2mb of ram, but the redesigned one had 4mb of ram. So yeah, if FF7 could run with 2mb of ram on the PS1, it wouldn't be to much of a problem for the DS</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64168 - Dark Knight ez - Mon Dec 19, 2005 11:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Wouldn't the only interpreters needed would be for like, the camera angles, the scripting engine, etc..that sorta thing?</td> </tr></table><span class="postbody">
<br/>
Probably, that and somewhat more, but I think that will be the hardest part of the entire project.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64256 - M3d10n - Tue Dec 20, 2005 6:02 pm</h4>
    <div class="postbody"><span class="postbody">Holy mother, the screenies look good. This one is inspiring:
<br/>
<br/>
<a href="http://www.sylphds.net/ev2/ds/dsbat4.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
He's having problems with the DS polygon limits, which forced him to run some optimizers on the models. The original FF7 ran at 15fps, so if someone could get the DS to render the screen in two passes, it would be possible to get all the detail in there at 30fps (even though the optimized models look identical to the original ones).
<br/>
<br/>
I wonder how he'll handle the spell effects... AFAIK the DS can't do additive blending in 3D mode, and FF7 relied heavily on it for all spell effects. But the NFSU2 streetlight coronas *do* look like additive blending to me, so maybe it's there, but with drawbacks? 
<br/>
<br/>
Anyway, he could always use his mostruous skills and do it like the Golden Sun spells. Camelot wrote a small software renderer that could render additively blended scaled and rotated sprites to a black-filled buffer, and then rendered that in a tile layer with layer blending on. 
<br/>
It looks gorgeous, and it's on par with the spell effects you find on 2D PSOne games like Valkyrie Profile. Golden Sun 2's spell renderer was enhanced and supported 3D polygons and looked even better (some spells were as epic as FF7 summons).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64266 - ficedula - Tue Dec 20, 2005 7:49 pm</h4>
    <div class="postbody"><span class="postbody">Ah, I see where the traffic spike on my site this week came from ;)
<br/>
<br/>
In no particular order, some more information;
<br/>
<br/>
-As you can possibly tell by the dates of the articles on my site I haven't done any DS development in the past month or so. Really nosy buggers will have already deduced from my blog it's because I've just moved house.
<br/>
<br/>
-The engine itself is at the moment more of a test than anything else. It doesn't contain anything FF7 specific; I've just been converting FF7 models into my own DS-specific file formats to give me something to display for testing purposes. I'm intending work to continue that way for the moment, too; the code won't be FF7 specific, but if and when I release it, nothing would stop anybody who owned the FF7 CDs from converting their models, too, or converting models from other games, provided the format is known. I certainly don't intend to distribute builds containing FF7 data at the moment.
<br/>
<br/>
-The 3D part of my engine is kind-of up and running, but the real limit that I've already run into, hard, is the 2048 DS-tri limit per frame. Currently the character models are running at ~600-650 dstris after optimisation (and they still look good, of course). If you assume backface culling will cut that down to, say, 65% or so, you can display four models on screen and have just enough polys left for the field background.
<br/>
<br/>
That isn't an awful lot. Four models means a three character party and <span style="font-style: italic">one</span> enemy.
<br/>
<br/>
Now, if it <span style="font-style: italic">is</span> possible to render 30FPS in two passes, that would be ideal. But the way I understand it, we're assuming that renders the scene into a backbuffer, so it's fine for displaying on both the top <span style="font-style: italic">and</span> the bottom screens at 30FPS; nobody has yet explained if it would even be possible to display <span style="font-style: italic">one</span> screen at 30FPS with twice the polys. At a minimum, I'd assume you'd need to depth sort the polygons yourself since you have no Z buffer.
<br/>
<br/>
The alternative is to display lower polygon models. I'm not sure whether you could maintain quality in that case, especially with an automated optimise process.
<br/>
<br/>
-Sound and music - would pose no problem I assume. It's also an area I know not-a-lot about, so I've ignored it so far ;)  Memory constraints aren't that tight, incidentally; the article on my website is about how tight I am on VRAM; main memory isn't a concern at all, yet.
<br/>
<br/>
-Asset storage - longer term, I have in mind coding the engine to generically load assets from whatever storage device you have available. CF cards if possible (I've got a GBAMP for development), flash carts otherwise (smaller space then, of course), or even streaming via wireless over WLAN or internet. The engine should cope with whatever you have. Theoretically. First we'll need the wifi libraries to be finished, of course, but that's looking promising.
<br/>
<br/>
-2D backgrounds - the 2d tiled background shots on my website are using additive blending for all the special effects, but that's a purely 2D effect so far. The DS (and the GBA, for that matter) supported additive blending between background layers (and sprites) as standard. I haven't yet run the  tiled background in combination with 3D models, although obviously it should be possible.
<br/>
<br/>
I'm kind of planning to resume development after xmas; right now I'm still arguing with various people about my house move and finances, but in January I'm hoping everything will be sorted.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64269 - Darkflame - Tue Dec 20, 2005 8:01 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for posting :)
<br/>
Seems like you doing fairly good.
<br/>
<br/>
Certainly provides some good base's from which to start work on a FF7  conversion of somekind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64271 - ecurtz - Tue Dec 20, 2005 8:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ficedula wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Now, if it <span style="font-style: italic">is</span> possible to render 30FPS in two passes, that would be ideal. But the way I understand it, we're assuming that renders the scene into a backbuffer, so it's fine for displaying on both the top <span style="font-style: italic">and</span> the bottom screens at 30FPS; nobody has yet explained if it would even be possible to display <span style="font-style: italic">one</span> screen at 30FPS with twice the polys. At a minimum, I'd assume you'd need to depth sort the polygons yourself since you have no Z buffer.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Doing 30 fps in two passes <span style="font-weight: bold">is</span> certainly possible, drop me a line when you get back to DS hacking if you want some help getting it to work. It probably sucks up half your VRAM for buffers though. I can't figure out how to do it with only one bank. As far as I know you're correct about needing to sort yourself to some extent - I haven't heard of any way to store the Z-buffer between frames.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64310 - tepples - Wed Dec 21, 2005 5:39 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ecurtz wrote:</b></span></td> </tr> <tr> <td class="quote">As far as I know you're correct about needing to sort yourself to some extent - I haven't heard of any way to store the Z-buffer between frames.</td> </tr></table><span class="postbody">
<br/>
But in practice, sorting entire models should suffice. Remember that the PS1 didn't have a Z buffer either, and a lot of games used really crazy shortcuts to improve polygon throughput.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64322 - ficedula - Wed Dec 21, 2005 8:24 am</h4>
    <div class="postbody"><span class="postbody">Sounds plausible to me ... the models in an RPG-style engine are unlikely to ever overlap at all so sorting just the models themselves should be fairly effective.
<br/>
<br/>
Losing 256KB of VRAM to buffers is going to be painful, though :/  Probably I could cope with it, but it's going to be a tight fit finding space for the textures as well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64325 - tssf - Wed Dec 21, 2005 8:36 am</h4>
    <div class="postbody"><span class="postbody">Just a brief somewhat off-topic question:
<br/>
<br/>
When remaking the music, should I use the samples from the finished game? Or should I use samples from the demo version of the game? (They used different sample sets in some cases)<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64327 - DekuTree64 - Wed Dec 21, 2005 9:31 am</h4>
    <div class="postbody"><span class="postbody">Actually if the original only ran at 15fps, you could even have 8000 tris :)
<br/>
With the display capture trick, you can do as many passes into the buffer as you want. 
<br/>
You could also swap out some of your textures during VBlank between each pass. Not sure exactly how much time there is, but you could probably get at least 16-32KB through.
<br/>
<br/>
The only way I know of to get a sort of additive blending look with the hardware is by turning the emission color up nice and bright with regular alpha blending.
<br/>
<br/>
You'd probably have enough spare time for some software rendering if you're doing multiple passes though. You could use VRAM E (64KB) as an 8-bit bitmap for it.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64341 - ficedula - Wed Dec 21, 2005 1:21 pm</h4>
    <div class="postbody"><span class="postbody">That <span style="font-style: italic">is</span> good news ;)  I assume that the way to render like this is to capture the frame into a buffer (96KB for a full screen 16 bit buffer), render into the buffer *again* next frame to add more details, then display that buffer on-screen in some sort of framebuffer mode? Then while it's displaying, render into another buffer to prepare the next (visible) frame.
<br/>
<br/>
I can see why that would require two banks of VRAM. Is there any possible use to be made of the top 32KB of each bank that's unused by the display, or can they not be effectively used while the rendering is going on?
<br/>
<br/>
(In order for this to work I guess you would have to have some way of 'redirecting' the rasterisation from the 3d engine to the buffer entirely, rather than rendering it to both the display AND a buffer - which was how I imagine the display-on-both-screens method working?)
<br/>
<br/>
Is the compressed texture format documented at all yet? Currently my backgrounds use 256KB of texture memory in paletted format, which was fine before, but if I'm grabbing two main banks for the buffer, I can't afford to use up ALL the remaining texture memory on backgrounds ;)  Alternatively I'd have to do the swapping trick you suggested, but I'd prefer to avoid paging if possible.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64373 - Laintsurge - Wed Dec 21, 2005 8:08 pm</h4>
    <div class="postbody"><span class="postbody">Looks nice. I'd love FF7 on DS. I didn't think it was possible. Is it ?<br/>_________________<br/><a href="http://i6.photobucket.com/albums/y240/Laintsurge/Sigs/Sig8.jpg">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64409 - Darkflame - Thu Dec 22, 2005 3:33 am</h4>
    <div class="postbody"><span class="postbody">Its possible.
<br/>
The hardware is certainly able to replicate FF7.
<br/>
<br/>
But it would take a lot of work to do it.
<br/>
Purhapes if everyone just bought 20 copys of every Square game that comes to DS or GBA, we will get an official port :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64427 - tssf - Thu Dec 22, 2005 8:29 am</h4>
    <div class="postbody"><span class="postbody">Well, I've started work on remaking as-perfect-as-I-can-do songs for a supposed FF7DS demo.
<br/>
<br/>
The first song though is like 600k. I suppose I should convert the 16-bit samples to 8-bit.
<br/>
<br/>
My channel usage so far is somewhere around the 12 channel mark. It will probably go as much as 16 though.
<br/>
<br/>
Anyway, I'll have a sample up for play tomorrow.<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64435 - Alec - Thu Dec 22, 2005 12:26 pm</h4>
    <div class="postbody"><span class="postbody">Are you going to work with the guy who's already made a bunch of progress?<br/>_________________<br/>Eat Those Gopher Cakes 'Til You Explode!
<br/>
<a class="postlink" href="http://profile.xfire.com/eject" target="_blank"></a><a href="http://miniprofile.xfire.com/bg/bg/type/0/eject.png">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64436 - M3d10n - Thu Dec 22, 2005 12:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">Actually if the original only ran at 15fps, you could even have 8000 tris :)
<br/>
With the display capture trick, you can do as many passes into the buffer as you want. 
<br/>
You could also swap out some of your textures during VBlank between each pass. Not sure exactly how much time there is, but you could probably get at least 16-32KB through.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
You'd probably have enough spare time for some software rendering if you're doing multiple passes though. You could use VRAM E (64KB) as an 8-bit bitmap for it.</td> </tr></table><span class="postbody">
<br/>
<br/>
Hmm, pretty awesome. Capture the buffer, throw it into a screen-aligned quad behind everything else and draw again, heh? Would it be possible to "mess" with the captured buffer contents before draing it again, like doing some software rendering or post processing on it? One could brute-force some additive blended stuff in that way.
<br/>
<span style="font-style: italic">(now that I think about it... it looks like Splinter Cell DS does some blur and other software buffer manipulation for the night vision and infrared vision effects)</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The only way I know of to get a sort of additive blending look with the hardware is by turning the emission color up nice and bright with regular alpha blending.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
How does that look like? Could it be used for drawing fire, as example? Or only bright white stuff?
<br/>
<br/>
My passme should arrive tomorrow. I can't wait to be able to experiment these things myself instead of only ask about them. ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64453 - tssf - Thu Dec 22, 2005 3:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Alec wrote:</b></span></td> </tr> <tr> <td class="quote">Are you going to work with the guy who's already made a bunch of progress?</td> </tr></table><span class="postbody">
<br/>
<br/>
I asked, he accepted. Heh.
<br/>
<br/>
Anyway here's the (unfinished) song. Most people may recognize this as the demo music from FF7 and even FF8.
<br/>
<br/>
<a href="http://tssf.i-web.net/Remakes/FF7Stuff/FF7DS/ff7ds_intro.xm" target="_blank">http://tssf.i-web.net/Remakes/FF7Stuff/FF7DS/ff7ds_intro.xm</a><br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64462 - El Hobito - Thu Dec 22, 2005 6:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tssf wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Alec wrote:</b></span></td> </tr> <tr> <td class="quote">Are you going to work with the guy who's already made a bunch of progress?</td> </tr></table><span class="postbody">
<br/>
<br/>
I asked, he accepted. Heh.
<br/>
<br/>
Anyway here's the (unfinished) song. Most people may recognize this as the demo music from FF7 and even FF8.
<br/>
<br/>
<a href="http://tssf.i-web.net/Remakes/FF7Stuff/FF7DS/ff7ds_intro.xm" target="_blank">http://tssf.i-web.net/Remakes/FF7Stuff/FF7DS/ff7ds_intro.xm</a></span></td> </tr></table><span class="postbody">
<br/>
??? never heard that song b4 when does it play</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64468 - tssf - Thu Dec 22, 2005 7:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>El Hobito wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tssf wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Alec wrote:</b></span></td> </tr> <tr> <td class="quote">Are you going to work with the guy who's already made a bunch of progress?</td> </tr></table><span class="postbody">
<br/>
<br/>
I asked, he accepted. Heh.
<br/>
<br/>
Anyway here's the (unfinished) song. Most people may recognize this as the demo music from FF7 and even FF8.
<br/>
<br/>
<a href="http://tssf.i-web.net/Remakes/FF7Stuff/FF7DS/ff7ds_intro.xm" target="_blank">http://tssf.i-web.net/Remakes/FF7Stuff/FF7DS/ff7ds_intro.xm</a></span></td> </tr></table><span class="postbody">
<br/>
??? never heard that song b4 when does it play</span></td> </tr></table><span class="postbody">
<br/>
<br/>
The song was actually the main menu music from the FFVII Demo that was included with Tobal No. 1 .. The game itself used slightly different samples. I used full-game samples in this song, and then only took the 2 samples that were from the demo (since they were not included in the full version of the game).. The drum loop, and the guitar sample.
<br/>
<br/>
Question to the coders: Is it possible to modify mikmod, or any other "mod player" that may use this to actually extract all the samples, and like..use the mod files themselves as data files? Then like, the mods themselves could call the samples needed in one central instrumentation file (much like how the miniPSF format works)
<br/>
<br/>
that would definately cut down on over-all filesize.<br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64472 - DekuTree64 - Thu Dec 22, 2005 7:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Hmm, pretty awesome. Capture the buffer, throw it into a screen-aligned quad behind everything else and draw again, heh? Would it be possible to "mess" with the captured buffer contents before draing it again, like doing some software rendering or post processing on it? One could brute-force some additive blended stuff in that way.</td> </tr></table><span class="postbody">
<br/>
Not quite. You can't capture to a buffer that is allocated to 3D textures, but the capture hardware itself can blend the existing contents of the buffer with the 3D layer, using the alpha value from the 3D pixels so you can still have transparent stuff on the later passes.
<br/>
<br/>
Actually, now that I think about it I'm pretty sure you CAN do real 3D additive blending with capture. Just set the capture EVA and EVB both to full, and render alpha polygons.
<br/>
<br/>
And yes, you can fiddle with the buffer all you want. Unlike other modes, you CAN capture to a buffer and display it in framebuffer mode at the same time, so you can do buffer-modifying effects losing only one VRAM bank. At least, as long as you can finish your modifying within the VBlank following the capture.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The only way I know of to get a sort of additive blending look with the hardware is by turning the emission color up nice and bright with regular alpha blending.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
How does that look like? Could it be used for drawing fire, as example? Or only bright white stuff?</span></td> </tr></table><span class="postbody">
<br/>
It looks ok for any color. Check out the screenshots of Need for Speed Underground 2 at IGN or such. Looks like the streetlights and things use it. Basically just looks more "solid" than real additive blending.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64500 - El Hobito - Thu Dec 22, 2005 11:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tssf wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Question to the coders: Is it possible to modify mikmod, or any other "mod player" that may use this to actually extract all the samples, and like..use the mod files themselves as data files? Then like, the mods themselves could call the samples needed in one central instrumentation file (much like how the miniPSF format works)
<br/>
<br/>
that would definately cut down on over-all filesize.</td> </tr></table><span class="postbody">
<br/>
surely thats just a midi file with a wavetable?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64529 - tepples - Fri Dec 23, 2005 7:26 am</h4>
    <div class="postbody"><span class="postbody">Even if you do manage to separate your MOD[1] instruments out into a separate file (the way MIDI "sound fonts" do it), MOD and MIDI handle effects differently. For instance, MIDI requires multiple messages (roughly one every 96th note) for a smooth pitch bend, and General MIDI limits pitch bends to plus or minus two semitones. MOD, on the other hand, allows one message to send a pitch bend speed for an entire row, and bends have a much larger range. Arpeggio (that warbly fake-chord effect heard in many chiptunes) is even worse in MIDI, as you need to set legato mode and monophonic mode and send a noteon message every 96th note.
<br/>
<br/>
[1] S3M, XM, and IT have the same characteristics as MOD for purposes of this comment.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64539 - El Hobito - Fri Dec 23, 2005 10:49 am</h4>
    <div class="postbody"><span class="postbody">the ff7 soundtrack already exists in midi format and soundfonts are pretty easy to get hold of but it might be too much effort to make.  would be probably best as a different project entirely.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64557 - shaz - Fri Dec 23, 2005 3:11 pm</h4>
    <div class="postbody"><span class="postbody">Can I suggest that we do not discuss this topic anymore here.
<br/>
Perhaps we could discuss in a IRC room or a secret website etc...
<br/>
<br/>
I would love to play this game again on the DS and we dont want it being closed down by Square Enix. Chrono Resurrection anyone??
<br/>
<br/>
And dont bother saying at the end that this was a tribute because I cant even imagine an official port of FF7 on the DS.<br/>_________________<br/>It's so easy to be wise. Just think of something stupid, then dont do it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64573 - Mr. Picklesworth - Fri Dec 23, 2005 5:43 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>shaz wrote:</b></span></td> </tr> <tr> <td class="quote">Can I suggest that we do not discuss this topic anymore here.
<br/>
Perhaps we could discuss in a IRC room or a secret website etc...
<br/>
<br/>
I would love to play this game again on the DS and we dont want it being closed down by Square Enix. Chrono Resurrection anyone??</td> </tr></table><span class="postbody">
<br/>
It's called ignorance unto the law. Everyone who was not ignorant, edit your posts to sound ignorant.
<br/>
If they do blast this, all you have to do is have a magical place to disappear the project to. (And further excuses of ignorance unto the law... "Hey, I did't know that 'Cease' and 'Decist' meant that! I thought you were on about the web site!").
<br/>
After that point, I'd say either give up or have a secret name change and quiet disappearance until it's done, at which point there is a 60 second release at 1:00AM every day when all those Square Enix people are asleep.
<br/>
<br/>
<br/>
Or maybe we should just do what Shaz said ;)
<br/>
Make sure it doesn't get crawled by search engines though. (No free, online, "EZ" web site builder tools, because they will do that automatically).<br/>_________________<br/>Thanks!
<br/>
<span style="font-size: 9px; line-height: normal">MKDS Friend Code: 511165-679586
<br/>
MP:H Friend Code: 2105 2377 6896</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64574 - NoComply - Fri Dec 23, 2005 5:48 pm</h4>
    <div class="postbody"><span class="postbody">What are they going to do, sue you for talking about doing something?  I mean, they aren't even close to making the game play on the ds, just basically a 3d demo using models from ff7.  So I really don't think square has grounds to stop what's going on, and I doubt they are reading every forum on the internet to see if someone is trying to remake their old games.  If it gets a ton of buzz, then maybe they'll hear about it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64575 - tepples - Fri Dec 23, 2005 5:50 pm</h4>
    <div class="postbody"><span class="postbody">-- A squenix says what?
<br/>
<br/>
-- What?
<br/>
<br/>
-- Locked.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
