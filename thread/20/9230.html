<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>convert RealMedia to dpg - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS Misc > convert RealMedia to dpg</h2>
<div id="posts">
<div class="post">
    <h4>#79417 - scorpion_glitch - Thu Apr 13, 2006 3:46 pm</h4>
    <div class="postbody"><span class="postbody">I've tried .rm to .mpg to .dpg but that din't work.
<br/>
I've tried .rm to .avi but it didn't get ten minuets into it before it reached 2GB
<br/>
<br/>
So how do I get .rm files converted to .dpg (recomendations)
<br/>
<br/>
I all so have an .wmv that I converted to .dpg but it all so didn't work.
<br/>
<br/>
no sound and no video. I've seen this problem twice on forums but have not gotten a real answer, or any answer for that matter.
<br/>
<br/>
Please help.
<br/>
<br/>
And can you be overly detailed because i have changed settings on my dpgenc so I have no "defaults"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79430 - tepples - Thu Apr 13, 2006 5:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>scorpion_glitch wrote:</b></span></td> </tr> <tr> <td class="quote">I've tried .rm to .mpg to .dpg but that din't work.
<br/>
I've tried .rm to .avi but it didn't get ten minuets into it before it reached 2GB</td> </tr></table><span class="postbody">
<br/>
Did you try .rm to .avi with Huffyuv codec and a reduction in video frame rate and video size?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79432 - LS5 - Thu Apr 13, 2006 6:03 pm</h4>
    <div class="postbody"><span class="postbody">I've created the following batchfile for personal use, mainly to circumvent the terrible internal resizer of mencoder and almost just as bad resampler of ffmpeg (both are used by dpgenc), but it has a nice 'side-effect' of allowing pretty much all video files to be converted.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">::Hide DOS commands.
<br/>
@echo off
<br/>
<br/>
::Filename of media file to convert. Full path needed when not in same directory as batch file.
<br/>
set source=D:\Test.avi
<br/>
::Frames per second. 16 and 12 seem to be a good value for respectively WS and FS videos.
<br/>
set fps=12
<br/>
::Filename of external subtitle file. Full path needed when not in same directory as batch file. Requires VSFilter.dll to be in Avisynth plugins directory. Leave blank to not include external subtitles.
<br/>
set sub=
<br/>
::Resizing method. From smooth to sharp: Bilinear, Bicubic, Lanczos, Lanczos4. A sharp resizing method requires a slightly higher bitrate to achieve the same quality as a smooth resizing method. When in doubt, use Bicubic. Leave blank to let mencoder handle video resizing (not recommended).
<br/>
set resize=Bicubic
<br/>
::Video width. Must be dividable by 16. Use 256 to completely utilize the DS screen.
<br/>
set w=256
<br/>
::Video height. Must be dividable by 16. 144 and 192 are correct values for respectively WS and FS videos when a width of 256 is used.
<br/>
set h=192
<br/>
::Resample method. SSRC offers the best quality, but can produce garbled sound in rare instances, in which case ResampleAudio should be used. Leave blank to let ffmpeg handle audio resampling (not recommended).
<br/>
set resample=SSRC
<br/>
::FourCC code of codec used for temporary AVI file. Use null for no compression. Use of lossless codec recommended to keep size of temporary video file down.
<br/>
set fourcc=null
<br/>
::DPG tools directory.
<br/>
set dpg=%programfiles%\DPG tools
<br/>
::DPG tools language code.
<br/>
set language=.ENG
<br/>
::Audio bitrate. Must be one of the following: 16, 32, 48, 64, 80, 96, 112, 128, 144, 160. A higher bitrate will result in higher quality at the expense of a bigger filesize.
<br/>
set audiobitrate=160
<br/>
::Video bitrate. Must be one of the following: 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240, 256. A higher bitrate will result in higher quality at the expense of a bigger filesize.
<br/>
set videobitrate=224
<br/>
<br/>
::Abort if media file does not exist.
<br/>
if not exist "%source%" exit
<br/>
<br/>
::Add media file to AVS script.
<br/>
echo DirectShowSource("%source%",fps=%fps%,convertfps=true) &gt; "%source%.avs"
<br/>
::Add subtitle file to AVS script if entered filename exists.
<br/>
if exist "%sub%" echo TextSub("%sub%") &gt;&gt; "%source%.avs"
<br/>
::Add video resizing code to AVS script if method is defined.
<br/>
if not "%resize%"=="" echo %resize%Resize(%w%,%h%) &gt;&gt; "%source%.avs"
<br/>
::Add audio resampling code to AVS script if method is defined.
<br/>
if not "%resample%"=="" echo %resample%(32000) &gt;&gt; "%source%.avs"
<br/>
<br/>
::Create WAV file.
<br/>
avs2wav "%source%.avs"
<br/>
::Rename WAV file to be recognized by dpgenc.
<br/>
move /y "%source%.avs.wav" "%source%.wav"
<br/>
<br/>
::Create AVI file.
<br/>
avs2avi "%source%.avs" -w -c %fourcc%
<br/>
<br/>
::Remove AVS file.
<br/>
del "%source%.avs"
<br/>
<br/>
::Calculate bitrate to insert into mencoder.
<br/>
set /a videobitrate2=%videobitrate%/%fps%*24
<br/>
<br/>
::Backup dpgenc.ini.
<br/>
move /y "%dpg%\dpgenc.ini" "%dpg%\dpgenc.ini.bak"
<br/>
<br/>
::Generate dpgenc.ini.
<br/>
echo [global] &gt; "%dpg%\dpgenc.ini"
<br/>
echo Language=%language% &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo [option] &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo SndKBPS=%audiobitrate% &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo SndGetMode=4 &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo SourceFilename=%source%.avi &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo [reencoption] &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo Width=%w% &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo KBPS=%videobitrate% &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo FPS=%fps% &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
echo CmdLine=-noautosub -nosound -frames %%0:d -demuxer rawvideo -rawvideo fps=24:w=%w%:h=%h%:format=bgr24:size=%%3:d -ovc lavc -lavcopts vcodec=mpeg1video:vbitrate=%videobitrate2% &gt;&gt; "%dpg%\dpgenc.ini"
<br/>
<br/>
::Run dpgenc.
<br/>
"%dpg%\dpgenc"
<br/>
<br/>
::Restore dpgenc.ini backup.
<br/>
move /Y "%dpg%\dpgenc.ini.bak" "%dpg%\dpgenc.ini"
<br/>
<br/>
::Remove temporary WAV file.
<br/>
del "%source%.wav"
<br/>
::Remove temporary AVI file.
<br/>
del "%source%.avi"</td> </tr></table><span class="postbody">
<br/>
<br/>
Note that it requires the latest version of Avisynth (<a class="postlink" href="http://www.avisynth.org/" target="_blank">http://www.avisynth.org/</a>) installed and AVS2WAV (<a class="postlink" href="http://webjory.tripod.com/avisynth/avs2wav.htm" target="_blank">http://webjory.tripod.com/avisynth/avs2wav.htm</a>) and AVS2AVI (<a class="postlink" href="http://www.avs2avi.org/" target="_blank">http://www.avs2avi.org/</a>) must be in the directory of the batch file. Also, you <span style="font-style: italic">have</span> to edit the second subsection of the batch file for every different video file, and it <span style="font-style: italic">will</span> create enormous temporary files (think 1+ GB for every half hour of video). Might seem like a lot of work at first, but the quality is worth it for me.</span><span class="gensmall"><br/><br/>Last edited by LS5 on Thu Apr 13, 2006 6:04 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#79433 - mntorankusu - Thu Apr 13, 2006 6:04 pm</h4>
    <div class="postbody"><span class="postbody">Install Real Alternative and you should be able to use DPGenc on the RM files directly. It worked for me.
<br/>
<br/>
Edit: <a href="http://www.free-codecs.com/download/Real_Alternative.htm" target="_blank">http://www.free-codecs.com/download/Real_Alternative.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79539 - scorpion_glitch - Fri Apr 14, 2006 5:36 am</h4>
    <div class="postbody"><span class="postbody">Ok I converted it with real alternative as a plugin. It appeared to work but when I try to run it moonshell freezes. In fact no .dpg work on my ds can anyone help me please. I have:
<br/>
<br/>
DS blue screen
<br/>
Flash me latest
<br/>
moonshell latest 1.11, 1.6 I think
<br/>
SuperCard SD
<br/>
256MB SD</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79974 - scorpion_glitch - Mon Apr 17, 2006 9:29 pm</h4>
    <div class="postbody"><span class="postbody">I still can't get dpg's to work my DS freezes only for dpg's
<br/>
<br/>
<br/>
DS blue screen
<br/>
Flash me latest
<br/>
moonshell latest 1.11, 1.6 I think
<br/>
SuperCard SD
<br/>
SanDisk 256MB SD
<br/>
Lexar 512MB SD</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
