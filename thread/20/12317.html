<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>NDS file format - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Misc > NDS file format</h2>
<div id="posts">
<div class="post">
    <h4>#117006 - alia - Wed Jan 31, 2007 7:09 pm</h4>
    <div class="postbody"><span class="postbody">Hiyas - I am trying to interrogate a .nds file for its ICON but it doesnt seem to have the same layout as described in <a href="http://www.bottledlight.com/ds/index.php/FileFormats/NDSFormat" target="_blank">http://www.bottledlight.com/ds/index.php/FileFormats/NDSFormat</a>
<br/>
<br/>
It seems that ROMs have the correct setup (ie my program finds the title ID etc and correct offsets to the image..) but for homebrew it doesnt seem to be set out the same.. wich is a pity cause thats all im interested in! Im assuming this is easily explained but i havent yet found it.
<br/>
<br/>
Looking at a dump of the rom in XVI32 i can see the layout as explained above - it must have something simmilar for HB but offset somehow.. *ponder* 
<br/>
<br/>
Also since we're on the topic.. has someone already written software that pulls the ICONS out of all their ROMs?
<br/>
<br/>
 DSThumb
<br/>
------------
<br/>
The idea is for each of the .nds files to show up in explorer as a thumbnail or with the icon from the game Its just a plugin DLL for Thumbview.
<br/>
<br/>
I needed a break from coding game code ;)
<br/>
<br/>
ideas? hints?
<br/>
<br/>
cheers
<br/>
<br/>
Alia</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117041 - tepples - Wed Jan 31, 2007 10:18 pm</h4>
    <div class="postbody"><span class="postbody">A lot of homebrew developers don't bother customizing their programs' icons.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117049 - alia - Wed Jan 31, 2007 11:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">A lot of homebrew developers don't bother customizing their programs' icons.</td> </tr></table><span class="postbody">
<br/>
<br/>
heh, thats ok.. Enough do to make it worth while for me - besides, I always customise mine and its quite simple once I get this sorted out - Ive already got it half working for the wifi logo.
<br/>
<br/>
:)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117070 - Lynx - Thu Feb 01, 2007 1:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>alia wrote:</b></span></td> </tr> <tr> <td class="quote">Looking at a dump of the rom in XVI32 i can see the layout as explained BLAH BLAH BLAH</td> </tr></table><span class="postbody">
<br/>
<br/>
So, what homebrew have you dumped?  Last I checked, homebrew !=backup/warez.  And I haven't heard of anyone dumping a homebrew rom..  Post news, I think you just might be the first.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Enough do to make it worth while for me</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
*COUGHBULLSH!TCOUGH*
<br/>
<br/>
/endBS
<br/>
<br/>
Aka, I want the illegally downloaded warez roms icons to display in the directory where I save all my illegally downloaded warez roms.  Cause, wouldn't that be cool?  Look.. there's a picture of mario instead of just a standard file image on SuperMario64.nds!.. Oh, did I say SM64DS?  What I really meant was DSOrganize.. yeah.. that's it.
<br/>
<br/>
Tepples, why even respond?  Just delete the post!<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117080 - tepples - Thu Feb 01, 2007 1:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lynx wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>alia wrote:</b></span></td> </tr> <tr> <td class="quote">Looking at a dump of the rom in XVI32 i can see the layout as explained BLAH BLAH BLAH</td> </tr></table><span class="postbody">
<br/>
So, what homebrew have you dumped?  Last I checked, homebrew !=backup/warez.  And I haven't heard of anyone dumping a homebrew rom</span></td> </tr></table><span class="postbody">
<br/>
Like <span style="font-style: italic">Gbadev.org 2004Mbit Competition</span> for GBA, which was distributed on cartridges before it was distributed through downloads? Besides, "dump" in the context of a hex editor's view can easily mean <a class="postlink" href="http://en.wikipedia.org/wiki/Hex_dump" target="_blank">hex dump</a>, not a backup.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117086 - chishm - Thu Feb 01, 2007 3:37 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lynx wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>alia wrote:</b></span></td> </tr> <tr> <td class="quote">Looking at a dump of the rom in XVI32 i can see the layout as explained BLAH BLAH BLAH</td> </tr></table><span class="postbody">
<br/>
<br/>
So, what homebrew have you dumped?  Last I checked, homebrew !=backup/warez.  And I haven't heard of anyone dumping a homebrew rom..  Post news, I think you just might be the first.</span></td> </tr></table><span class="postbody">
<br/>
Actually, I think alia was legitimate in his request. He explained that he was trying to get HB ROMs to show an icon, but he couldn't find where the icon is. He then went on to say that commercial dumps do work, and wondered why HB doesn't. I think in this case, the dumps come under fair-use reverse-engineering more than piracy.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117087 - alia - Thu Feb 01, 2007 5:01 am</h4>
    <div class="postbody"><span class="postbody">Edit:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
So, what homebrew have you dumped?  Last I checked, homebrew !=backup/warez.  And I haven't heard of anyone dumping a homebrew rom..  Post news, I think you just might be the first.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Actually it was serveral .nds generated by typing make or pressing F7 in visual studio.. comprende?
<br/>
<br/>
Seriously - I dont give a fsck about commercial roms.. all I want is to see MY HB appear with a different icon for each one. Its programming for programming sake. Im _not_ asking for the format of commercial roms - Im asking for the format of the HB .nds files.
<br/>
<br/>
If anyone has anything constructive to add - please chime in.
<br/>
<br/>
:)
<br/>
<br/>
A.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117088 - alia - Thu Feb 01, 2007 5:09 am</h4>
    <div class="postbody"><span class="postbody">p.s. chishm: Did you goto CHS/Lake G?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117092 - HyperHacker - Thu Feb 01, 2007 6:14 am</h4>
    <div class="postbody"><span class="postbody">I add icons to mine, though they're usually just the word "TODO". :-p I'd like to see this project done, maybe it would encourage more people to add icons.
<br/>
<br/>
BTW, DSOrganize shows them, last I checked its source is available.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117099 - alia - Thu Feb 01, 2007 8:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote">BTW, DSOrganize shows them, last I checked its source is available.</td> </tr></table><span class="postbody">
<br/>
Gah! Thanks! I cant believe I missed that one!
<br/>
<br/>
w00t</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117100 - chishm - Thu Feb 01, 2007 8:20 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>alia wrote:</b></span></td> </tr> <tr> <td class="quote">p.s. chishm: Did you goto CHS/Lake G?</td> </tr></table><span class="postbody">
<br/>
Lanyon High / Lake Tuggeranong College. Why'd'ya ask?<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117101 - MaHe - Thu Feb 01, 2007 8:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>alia wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">A lot of homebrew developers don't bother customizing their programs' icons.</td> </tr></table><span class="postbody">
<br/>
<br/>
heh, thats ok.. Enough do to make it worth while for me - besides, I always customise mine and its quite simple once I get this sorted out - Ive already got it half working for the wifi logo.
<br/>
<br/>
:)</span></td> </tr></table><span class="postbody">How do you customize them? I would like to do that too, since the M3 Lite and R4 DS show icons in the menu, but it looks kinda bad, because half of the files don't have the proper icons and/or descriptions ...<br/>_________________<br/><span style="font-size: 9px; line-height: normal">[ Crimson and Black Nintendo DS Lite | CycloDS Evolution | EZ-Flash 3-in-1 | 1 GB Transcend microSD ]</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117102 - alia - Thu Feb 01, 2007 9:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chishm wrote:</b></span></td> </tr> <tr> <td class="quote">Lanyon High / Lake Tuggeranong College. Why'd'ya ask?</td> </tr></table><span class="postbody">
<br/>
Oh just wonderin.. thats where i went for HS :) 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MaHe wrote:</b></span></td> </tr> <tr> <td class="quote">How do you customize them? I would like to do that too, since the M3 Lite and R4 DS show icons in the menu, but it looks kinda bad, because half of the files don't have the proper icons and/or descriptions ...</td> </tr></table><span class="postbody">
<br/>
So far ive only done it with palib (by modifying the makefile to point to a different set of bitmaps LOGO=blah) but im sure you can do something similar with ndstool since thats what the makefile calls.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117108 - chishm - Thu Feb 01, 2007 10:47 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>alia wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chishm wrote:</b></span></td> </tr> <tr> <td class="quote">Lanyon High / Lake Tuggeranong College. Why'd'ya ask?</td> </tr></table><span class="postbody">
<br/>
Oh just wonderin.. thats where i went for HS :) </span></td> </tr></table><span class="postbody">
<br/>
Another Canberran, eh? What a small world...<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117114 - alia - Thu Feb 01, 2007 11:38 am</h4>
    <div class="postbody"><span class="postbody"><a href="http://alia.devlog.googlepages.com/DSThumb.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
Not quite there yet.. but definately progress! The coloured images below are what the icons are supposed to be like.
<br/>
<br/>
A.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117118 - JessTicular - Thu Feb 01, 2007 12:59 pm</h4>
    <div class="postbody"><span class="postbody">Sorry to stay off-topic but...
<br/>
<br/>
I'm from the Central Coast (NSW), but I go to Uni at Bathurst, nice and close to Canberra ;)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="font-weight: bold">Nintendo DS &amp; Dominos :: <a class="postlink" href="http://dsdominos.sourceforge.net" target="_blank">DS Dominos</a></span>
<br/>
<a class="postlink" href="http://jt0.org" target="_blank">http://jt0.org</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117199 - alia - Fri Feb 02, 2007 9:28 am</h4>
    <div class="postbody"><span class="postbody">:-) tis a small world
<br/>
<br/>
So its semi working - just have to fix those colours and do some image manipulation. (for different bit depths/icon sizes etc)
<br/>
<br/>
1. Go download Thumbview <a href="http://www.seriema.net/thumbview/" target="_blank">http://www.seriema.net/thumbview/</a>
<br/>
2. add The <a class="postlink" href="http://alia.devlog.googlepages.com/NDSThumb.dll" target="_blank">dsthumb.dll</a> extracter to C:\Program Files\ThumbView 1.0\extractors
<br/>
<br/>
A.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117205 - HyperHacker - Fri Feb 02, 2007 10:10 am</h4>
    <div class="postbody"><span class="postbody">I add my icons, WMB logo, and description like so:
<br/>
<br/>
ndstool -c program.nds -7 arm7.bin -9 arm9.bin -o logo.bmp -b icon.bmp "Program description line 1;line 2;line 3"<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117239 - alia - Fri Feb 02, 2007 6:52 pm</h4>
    <div class="postbody"><span class="postbody">Ack im lame - it only works for 32bit colour of course - cause i forgot to remove the hardcoded bit depth.
<br/>
<br/>
gah!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
