<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Arkanoid DS controller? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Misc > Arkanoid DS controller?</h2>
<div id="posts">
<div class="post">
    <h4>#146504 - spinal_cord - Wed Dec 05, 2007 2:21 am</h4>
    <div class="postbody"><span class="postbody">Just wondering, does anyone have on of these yet? Are we likely to see any homebrew using it?
<br/>
<br/>
<a href="http://thegamergene.com/wp-content/uploads/2007/08/arkanoid-ds-addon.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Fellow Arkanoid fans will want to get in touch with their favoured importer and make a hasty pre-order for Taito?s forthcoming Arkanoid DS, which has just been confirmed for a Japanese debut on the 6th of December. The game looks superb, reigniting the 21-year-old Arkanoid fireball with full use of the DS? dual screen format.
<br/>
<br/>
But more importantly, Taito is also releasing an accompanying Paddle Controller. (Oh, the Binatone memories!) As with the recent Slide Controller and DS Camera, the Paddle Controller wedges itself inside the moist connector fudge of the DS? GBA cart slot. Once attached, just turn the knob (Stop laughing in the back row!) to control the bat.
<br/>
<br/>
The Paddle Controller will be available as an Arkanoid DS pack-in (for Y5,040), or on its lonesome (for Y1,800), and it?ll be manufactured in four colour variations: white, pink, black, and silver. As there?s no confirmation of an export version, you?ll probably be better off importing the Japanese pressing. We really can?t wait for this!</td> </tr></table><span class="postbody"><br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146508 - tepples - Wed Dec 05, 2007 3:17 am</h4>
    <div class="postbody"><span class="postbody">Other than perhaps for driving games, I can't see what advantage this would have over touch control.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146511 - Lazy1 - Wed Dec 05, 2007 3:48 am</h4>
    <div class="postbody"><span class="postbody">Maybe it could be used for volume control in media apps.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146512 - Sweater Fish Deluxe - Wed Dec 05, 2007 3:55 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Other than perhaps for driving games, I can't see what advantage this would have over touch control.</td> </tr></table><span class="postbody">
<br/>
Tempest.
<br/>
<br/>
There's actually lots of game concepts that would play dramatically better with a rotary controller than they ever could with the touchscreen alone.  Not all analog inputs are created equal.
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146514 - tepples - Wed Dec 05, 2007 4:13 am</h4>
    <div class="postbody"><span class="postbody">Is this controller a spinner or a paddle? A paddle has a distinct left and right rail like an analog joystick, and it cannot twist past those rails. Home versions of Pong, Breakout, and Arkanoid have always used a paddle because they're cheaper and because the field has walls anyway.
<br/>
<br/>
A spinner, on the other hand, can twist indefinitely in either direction like a trackball or mouse. Tempest uses a spinner so that the ship can travel around the entire cylinder.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146517 - sonny_jim - Wed Dec 05, 2007 6:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Other than perhaps for driving games, I can't see what advantage this would have over touch control.</td> </tr></table><span class="postbody">
<br/>
How about a version of any of the Robotron clones (Gecmetry Wars, Geowars etc) using the spinner as an input?
<br/>
<br/>
And what the hell do they mean by "Moist connector fudge"?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146539 - KeithE - Wed Dec 05, 2007 2:47 pm</h4>
    <div class="postbody"><span class="postbody">It's a spinner, and it has a great feel - very smooth, and it has some inertia so it keeps going if you give it a good spin.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146549 - Tikker - Wed Dec 05, 2007 6:49 pm</h4>
    <div class="postbody"><span class="postbody">that's awesome
<br/>
<br/>
now someone needs to build a supersprint clone to use it ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146562 - Sweater Fish Deluxe - Wed Dec 05, 2007 11:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>KeithE wrote:</b></span></td> </tr> <tr> <td class="quote">It's a spinner, and it has a great feel - very smooth, and it has some inertia so it keeps going if you give it a good spin.</td> </tr></table><span class="postbody">
<br/>
That's great to hear as it was the only reservation I had.  I'm really happy to hear that it even has some inertia, I figured for sure they'd ditch that since it requires some sort of gearing mechanism.
<br/>
<br/>
So do you have one of these controllers?  And if so, have you made any attempts at programming with it?  If you could release some sample source just showing how to take input from it, I would really appreciate it and I think others would as well.
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146572 - KeithE - Thu Dec 06, 2007 3:44 am</h4>
    <div class="postbody"><span class="postbody">No, I don't have one yet.  I tried it at the Tokyo Game Show in September.
<br/>
<br/>
I did preorder one from an import shop though, so hopefully it will arrive soon.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148106 - coolmos - Wed Jan 02, 2008 9:52 am</h4>
    <div class="postbody"><span class="postbody">I received mine, and this is some great device. It truly is a spinner. Optical control with a flywheel attached, so it has a low resistance and good inertia.
<br/>
If you thought controlling Arkanoid was smooth with the touchscreen or buttons, you should really at least try this. It is MUCH better.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148654 - coolmos - Tue Jan 08, 2008 10:03 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://xs.to/xs.php?h=xs223&amp;d=08022&amp;f=P1020599.JPG" target="_blank">Here</a> and <a class="postlink" href="http://www.turboimagehost.com/p/74899/P1020599.JPG.html" target="_blank">here</a> and <a class="postlink" href="http://www.imagecross.com/myspace-image-upload-viewer-1.php?id=5501P1020599.JPG" target="_blank">here</a> is a picture of the inside of the controller.
<br/>
<br/>
The bigger chip is a Lattice CPLD (LC4032V75TN-48I), the smaller one a TI logic (LV14A).
<br/>
It seems as if the paddle receives a value, which is counted up/down based on the turning of the paddle.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149329 - moshii - Fri Jan 18, 2008 2:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>coolmos wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The bigger chip is a Lattice CPLD (LC4032V75TN-48I), the smaller one a TI logic (LV14A).
<br/>
It seems as if the paddle receives a value, which is counted up/down based on the turning of the paddle.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm actually working on working out how to program thing this thing.. I've done the slider controller now and have a nice painting app working :). The problem with this thing is that the hardware is total overkill. All the address/data lines are connected to that CPLD, and I don't have the required hardware with me to read the CPLD to find out what it does... a quick poke around with a multimeter shows that there is constant activity on the /WR line.. so I think we can safely say you have to do some writes to make this thing work. Although writing 0xFFEF to all over a gba flash cart is enough to make the game think it's present.
<br/>
<br/>
What I really need is a gba cheat cart to bring the device out far enough from the DS that I can actually probe it while it's running :/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150719 - alekmaul - Mon Feb 11, 2008 11:04 am</h4>
    <div class="postbody"><span class="postbody">Can you give us some code samples about this device, i bought the paddle alone from a website, and i want to adapt my arcade emulator (marcads) to use it :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150735 - yasu - Mon Feb 11, 2008 7:12 pm</h4>
    <div class="postbody"><span class="postbody">here are sample codes:
<br/>
REG_EXMEMCNT |= 0x23; // set wait cycles
<br/>
uint8 value_low = *(vuint8*)0x0A000000;
<br/>
uint8 value_high = *(vuint8*)0x0A000001;
<br/>
<br/>
the value is 12bit.
<br/>
I think the high cannot be read before reading the low.
<br/>
<br/>
I made AR codes for MarioKartDS to control it by paddle controller.
<br/>
<a href="http://home.usay.jp/pc/etc/nds/index_en.html" target="_blank">http://home.usay.jp/pc/etc/nds/index_en.html</a>
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>moshii wrote:</b></span></td> </tr> <tr> <td class="quote">I've done the slider controller now and have a nice painting app working :).</td> </tr></table><span class="postbody">
<br/>
Can I get sample codes for the slide controller or try the painting app?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150765 - alekmaul - Tue Feb 12, 2008 9:46 am</h4>
    <div class="postbody"><span class="postbody">Thanks a lot yasu, i will try that soon :) !</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151101 - GAA-GSG - Mon Feb 18, 2008 11:56 pm</h4>
    <div class="postbody"><span class="postbody">Thank you very much <span style="font-weight: bold">yasu</span> for this code.
<br/>
<br/>
Is there any possibility to use it in SCDS One SDHC?
<br/>
As this an AR code shouldn't this be possible?
<br/>
<br/>
Thank you for your help. You will help many owners of this flashcart.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151115 - spinal_cord - Tue Feb 19, 2008 7:48 am</h4>
    <div class="postbody"><span class="postbody">You probably should not ask r0m related questions on this board.<br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151218 - Sweater Fish Deluxe - Thu Feb 21, 2008 3:04 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yasu wrote:</b></span></td> </tr> <tr> <td class="quote">here are sample codes:
<br/>
REG_EXMEMCNT |= 0x23; // set wait cycles
<br/>
uint8 value_low = *(vuint8*)0x0A000000;
<br/>
uint8 value_high = *(vuint8*)0x0A000001;
<br/>
<br/>
the value is 12bit.
<br/>
I think the high cannot be read before reading the low.</td> </tr></table><span class="postbody">
<br/>
Thanks a lot, but I can't seem to get this working in my code.  I use PAlib, though, so I'm not used to dealing with this hardware level stuff.
<br/>
<br/>
This seems to be approximately the same method as accessing slot-2 SRAM, is REG_EXMEMCNT &amp;= ~0x80 needed in this case as well?  I've tried it with no luck, but I may be doing things wrong.  Does REG_EXMEMCNT |= 0x23 need to be used every time before polling the paddle values?
<br/>
<br/>
I guess what I'd like to see is a more fleshed out example program.  I know someone will come along with one eventually, so I could just wait around for that, but I'm anxious to use my paddle for something other than Arkanoid DS and the game I'm working on currently would be perfect for it.
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151228 - yasu - Thu Feb 21, 2008 8:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sweater Fish Deluxe wrote:</b></span></td> </tr> <tr> <td class="quote">This seems to be approximately the same method as accessing slot-2 SRAM, is REG_EXMEMCNT &amp;= ~0x80 needed in this case as well?  I've tried it with no luck, but I may be doing things wrong.  Does REG_EXMEMCNT |= 0x23 need to be used every time before polling the paddle values?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, you have to do REG_EXMEMCNT &amp;= ~0x80 if you do in ARM9.
<br/>
REG_EXMEMCNT |= 0x23 need to be used just once
<br/>
if REG_EXMEMCNT will be not changed by other.
<br/>
<br/>
I uploaded a sample for ndslib to my page.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151292 - Sweater Fish Deluxe - Fri Feb 22, 2008 7:14 pm</h4>
    <div class="postbody"><span class="postbody">Okay, that may clear some things up, I'll have to give it another go now.
<br/>
<br/>
EDIT: okay, got it.  For some reason, I was trying to use REG_EXMEMCNT &amp;= ~8080 before.  I don't know where I got that or what it does, but now that I'm using REG_EXMEMCNT &amp;= ~80 it's working great.  Very easy, in fact.
<br/>
<br/>
I also just saw that Taito has released an updated version of Space Invaders that uses the paddle.  The bastards!  The game I'm working on with paddle support is also an update to a classic non-scrolling shooter.  Taito stole my thunder!
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152587 - Sweater Fish Deluxe - Tue Mar 18, 2008 12:31 am</h4>
    <div class="postbody"><span class="postbody">Is there a way of determining that a paddle controller is plugged into slot-2?
<br/>
<br/>
I tried checking other memory locations in proximity to the paddle values (0x0A000002, 0x0A000003, etc.) and didn't turn anything up.  Where else should I look?
<br/>
<br/>
The paddle does seem to identify itself since Arkanoid doesn't give you the option for paddle control if you don't have the controller plugged in, but defaults to it if you do.
<br/>
<br/>
I've figured out that I can poll the low paddle paddle value continually to see if it's changing and if it is, then assume there's a paddle plugged in.  That's certainly not a 100% reliable way of doing it, though, so I figure there must be a better way.
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
