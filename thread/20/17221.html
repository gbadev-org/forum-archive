<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>HBMenu questions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Misc > HBMenu questions</h2>
<div id="posts">
<div class="post">
    <h4>#173701 - SifJar - Sat Apr 24, 2010 7:42 pm</h4>
    <div class="postbody"><span class="postbody">I am interested in HBMenu, but I have a couple of questions:
<br/>
<br/>
1. What is ARGV? I have looked around, but can't find much. A link to some information would be great. From what I HAVE found, it seems to be a method of passing arguments to a NDS binary, but i have also read some stuff about it being a replacement for EFS, and I don't get how it is both? Also, is ARGV support dependent on the card, or just the launcher?
<br/>
<br/>
2. Why do I need a bootstrap? Can I not just DLDI patch the HBMenu binary and set IT as the default firmware on my card (I use a Max Media Dock, so this would just involve renaming it bootme.nds), rather than do the same to a bootstrap, which would I think just slow down the boot process?
<br/>
<br/>
3.  Will return to loader work on any card HBMenu works on? Is there a homebrew that uses it I can test with?
<br/>
<br/>
Thanks to anyone who answers my questions, I think that's all for now...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173702 - Dwedit - Sat Apr 24, 2010 8:27 pm</h4>
    <div class="postbody"><span class="postbody">ARGV is just passing parameters to a NDS file, nothing more.  It also includes the parameter of the NDS file's own path, so stuff that used to need to scan the whole filesystem to find itself can now just look at the first argument and find itself instantly.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173703 - SifJar - Sat Apr 24, 2010 8:32 pm</h4>
    <div class="postbody"><span class="postbody">OK, thanks for the info.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173705 - vuurrobin - Sat Apr 24, 2010 11:15 pm</h4>
    <div class="postbody"><span class="postbody">1. argv are the parameters that are passed to the main function, including the path to the nds file. libfilesystem is a replacement for EFS, but it needs argv to work. and it depends on the launcher.
<br/>
see <a href="http://www.learncpp.com/cpp-tutorial/713-command-line-arguments/" target="_blank">http://www.learncpp.com/cpp-tutorial/713-command-line-arguments/</a> for more information.
<br/>
<br/>
2. the return to loader executes a specific file who's name is hardcoded in the  loader (normally called _BOOT_DS.NDS). if you change the name of the homebrewmenu, the return to loader wont work anymore (unless you change the name in it to). the bootstrap is to avoid recompiling the menu for each card, just to put the correct name in it.
<br/>
<br/>
3. if the homebrewmenu works and has the correct name, then return to loader will work. you can test it with any one of the examples build with the latest devkitPro.<br/>_________________<br/>my blog:
<br/>
<a href="http://vuurrobin.100webcustomers.com/" target="_blank">http://vuurrobin.100webcustomers.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173712 - SifJar - Sun Apr 25, 2010 12:12 pm</h4>
    <div class="postbody"><span class="postbody">OK, all makes sense now I think. Thanks for your help.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174173 - SifJar - Fri May 21, 2010 6:57 pm</h4>
    <div class="postbody"><span class="postbody">OK, I finally got around to trying out HBMenu. There's a problem: FAT Init keeps failing. Both in the bootstrap and in HBMenu itself (loaded via DSOrganize as the bootstrap wasn't working), I get a FAT Init failed message. I have DLDI patched both NDS files as I have with other homebrew and they all work fine. I am using a Max Media Dock. Other FAT-using programs like DSOrganize work fine, any ideas what the problem is? Has a recent update to devkitPro somehow killed MMD support or something? I would post this at the devkitPro forums, but they seem to be down atm...
<br/>
<br/>
EDIT: I remembered reading on the HBMenu wiki page that it needed an ARM7 DLDI patch, and thought that may be the issue, so I modified the patch according to the instructions here: <a class="postlink" href="http://www.teamcyclops.com/forum/showpost.php?p=43223&amp;postcount=3" target="_blank">http://www.teamcyclops.com/forum/showpost.php?p=43223&amp;postcount=3</a> , but still no luck. Other apps like DSOrganize still work with the new patch though...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174188 - ninjalj - Sat May 22, 2010 8:14 pm</h4>
    <div class="postbody"><span class="postbody">The Max Media Dock is a slot 2 device, right? I _think_ that newer devkitPro and libfat may have problems with slot 2 devices, see <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=174110&amp;highlight=#174110" target="_blank">http://forum.gbadev.org/viewtopic.php?p=174110&amp;highlight=#174110</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174207 - SifJar - Sun May 23, 2010 7:00 pm</h4>
    <div class="postbody"><span class="postbody">Yeah it is a slot2 device, and that sucks. Don't a fair amount of people still use slot2 devices? Well, thanks for the info anyway... Any idea if it'd work if I compiled with an old libfat? Or would that stop HBMenu working correctly? Dunno if I'd even be able to do it.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
