<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>M3 compatibility issues - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS Misc > M3 compatibility issues</h2>
<div id="posts">
<div class="post">
    <h4>#111025 - Optihut - Sun Dec 03, 2006 7:12 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
since I've joined the ranks of the people who are able to run homebrew on their DS Lite, I have started downloading a few games and applications and have tested them on my DS Lite. The results were quite sobering, though:
<br/>
<br/>
Worked:
<br/>
A Touch of War
<br/>
Explosive Gas
<br/>
Doom (in theory - I don't have any .wad files)
<br/>
Tales of Dagur
<br/>
Ticklegirl (yeah, yeah, yeah...)
<br/>
Hexends (again, only in theory, as I don't have the .wad file)
<br/>
<br/>
What didn't work:
<br/>
DSHeretic
<br/>
DSudoku
<br/>
netheck
<br/>
Newzelda
<br/>
SupermariowarsDS
<br/>
teenage_queen
<br/>
tetris
<br/>
<br/>
From the applications I only tested DSO so far, which also didn't work, but since there is some PDA Software included with the M3, I might be using that then.
<br/>
<br/>
Save games don't seem to work at all for some reason. At least I always get an error that something is amiss.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111040 - OOPMan - Sun Dec 03, 2006 8:27 pm</h4>
    <div class="postbody"><span class="postbody">You need to be using the right version of DSO with an M3. I think you need to use DSO Green...
<br/>
<br/>
DSHeretic doesn't work on my SC either, although I did manage to get it to start. I think it didn't like to Shadow of the Serpent Riders WAD though :-(<br/>_________________<br/>"My boot, your face..." - Attributed to OOPMan, Emperor of Eroticon VI
<br/>
<br/>
You can find my NDS homebrew projects <a class="postlink" href="http://blog.dev-scene.com/oopman/" target="_blank">here...</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111041 - Bluemercury - Sun Dec 03, 2006 8:27 pm</h4>
    <div class="postbody"><span class="postbody">Heretic is working on my m3 mini-sd</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111049 - Xgame - Sun Dec 03, 2006 8:37 pm</h4>
    <div class="postbody"><span class="postbody">I don't remember well, but in my M3 sd I had just fat problems.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111052 - Bluemercury - Sun Dec 03, 2006 8:40 pm</h4>
    <div class="postbody"><span class="postbody">The way they mapped the controls for heretic is horrible, just map them like the doom guys did.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111182 - Badablek - Mon Dec 04, 2006 6:07 pm</h4>
    <div class="postbody"><span class="postbody">Optihut, when a homebrew doesn't work on your M3...then try to use start indeed of A to launch it......
<br/>
<br/>
Some homebrews do not have the good loader (first 512 bytes), using start makes the M3 using its own (good) loader.
<br/>
<br/>
All the homebrews you have listed work great on M3 Mini SD and M3 CF (and probably on all M3). The best way to play these games is to take the .nds (not .ds.gba) and use start to launch it.
<br/>
<br/>
.nds &gt; start
<br/>
.ds.gba &gt; A (with compatible loader)
<br/>
if you don't know if the loader is good or not, prefer the .nds version, with start</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111191 - Optihut - Mon Dec 04, 2006 7:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Badablek wrote:</b></span></td> </tr> <tr> <td class="quote">Optihut, when a homebrew doesn't work on your M3...then try to use start indeed of A to launch it......
<br/>
<br/>
Some homebrews do not have the good loader (first 512 bytes), using start makes the M3 using its own (good) loader.
<br/>
<br/>
All the homebrews you have listed work great on M3 Mini SD and M3 CF (and probably on all M3). The best way to play these games is to take the .nds (not .ds.gba) and use start to launch it.
<br/>
<br/>
.nds &gt; start
<br/>
.ds.gba &gt; A (with compatible loader)
<br/>
if you don't know if the loader is good or not, prefer the .nds version, with start</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks for the tip, I'll give that a try later on! :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111232 - Optihut - Tue Dec 05, 2006 1:18 am</h4>
    <div class="postbody"><span class="postbody">Badablek, thanks for the tip, pressing "start" instead of "A" really did the trick! I just ran that NewZelda and Tetris and they both worked a-ok!
<br/>
<br/>
However, I have still got two more questions: 
<br/>
<br/>
1. When running homebrew, is there an easy way to return to the M3 menu or do I have to turn off and turn on the DS each time?
<br/>
<br/>
2. On rebooting, I got the message "Warning! NDS GAME SAVE in card but CANNOT find "NDSSAVE" directory. Backup fail! Press A to continue." Once I put a directory "NDSSAVE" on the card, I get the message "Warning! NDS GAME SAVE in card but CANNOT find AUTOSAVE backup file. Backup fail! Press A to continue!"
<br/>
So what's up with the error messages and is it actually possible to save things?
<br/>
<br/>
If someone in the know is able to answer my questions, that would be pretty cool :)
<br/>
<br/>
Best regards,
<br/>
<br/>
Optihut</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111236 - Sektor - Tue Dec 05, 2006 2:52 am</h4>
    <div class="postbody"><span class="postbody">What M3 do you have?
<br/>
<br/>
Only homebrew that uses libcartreset can return to the M3 menu.  Lovelight, Wright Flight and Flashback currently use it.  More homebrew will in the future.
<br/>
<br/>
That CANNOT SAVE message is displayed even if the homebrew doesn't have any SRAM/EEPROM save function, so you can usually ignore it.  If the homebrew uses FAT to save then it will still save (provided your version of M3 is supported by the FAT lib used in that homebrew).
<br/>
<br/>
To get rid of that message, run the homebrew through the M3 Game Manager, choose directly copy (no patching) and it will create NDSSAVE\name of homebrew.dat or you can manually create that file.  I don't know if any homebrew would save to that since most homebrew uses GBA SRAM or FAT.  If homebrew did try to save to NDS EEPROM, unless it was patched, I think it might save to a real NDS card in slot1 instead of the M3 but I have never tested it.
<br/>
<br/>
GBA SRAM saves will stay in M3 battery backed SRAM for a while but as far as I know, there is no easy way for that SRAM to be saved to a file.  The hard way would be to write a program that saves GBA SRAM to SRAM.DAT.  Is there an existing GBA SRAM dumper that saves to FAT?
<br/>
<br/>
Getting the M3 to load GBA SRAM from a file requires you to run GBA homebrew or have your GBA SRAM save named SRAM.DAT in root.
<br/>
<br/>
Fortunately the majority of NDS homebrew either doesn't save or saves to FAT.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111243 - mastertop101 - Tue Dec 05, 2006 4:31 am</h4>
    <div class="postbody"><span class="postbody">*maybe* there's something about the PowerON thing..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111267 - oofrab - Tue Dec 05, 2006 10:48 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sektor wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
To get rid of that message, run the homebrew through the M3 Game Manager, choose directly copy (no patching) and it will create NDSSAVE\name of homebrew.dat or you can manually create that file.  I don't know if any </td> </tr></table><span class="postbody">
<br/>
<br/>
Do you know the format of this save file? It seems to be a dump padded with 1k of data at the end, which includes file name etc. I would like to know the format of this 1k data. Since I can't use the M3 Game Manager, and I hate the warnings during the M3 boot, I would like to manually be able to create these files using e.g. linux.[/threadhijack]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111269 - Sektor - Tue Dec 05, 2006 10:58 am</h4>
    <div class="postbody"><span class="postbody">You can turn off autosave in the M3 settings.  That should get rid of the warning.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111287 - Optihut - Tue Dec 05, 2006 1:20 pm</h4>
    <div class="postbody"><span class="postbody">Sektor, thank you very much for explaining this to me, it makes a lot more sense now.
<br/>
<br/>
I have got a M3 lite micro SD adapter.
<br/>
<br/>
I am going to give getting rid of the warnings a shot later on.
<br/>
<br/>
While DSO seems to work (I used the green version, but the blue version seems to be working as well), it still has got problems whenever I actually write and save something. Afterwards all the things I wrote turn out to be a garbled mess of characters instead. Oh well, but at least it's a big step up! Once I find an internet connection, I'll try beup and other applications like that - someone in the office already said that if I manage to write e-mails, browse the web and listen to MP3s with the DS, he'll buy one as well :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111467 - Ninden - Wed Dec 06, 2006 8:17 pm</h4>
    <div class="postbody"><span class="postbody">I just got a M3 lite as well, and the NDSSAVE error was bugging me as well. Like Sektor mentioned however, turning off the autosave worked like a charm.
<br/>
<br/>
Now if I can just get used to the different look and feel from that of my previous supercard....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112958 - Pikanya - Thu Dec 21, 2006 11:49 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>oofrab wrote:</b></span></td> </tr> <tr> <td class="quote">Do you know the format of this save file?</td> </tr></table><span class="postbody">
<br/>
<br/>
You should find a file named bank.dat somewhere in your installation of the M3 patcher. Just copy this file and rename it to match the game you want it to act as a save.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112960 - oofrab - Fri Dec 22, 2006 12:07 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Pikanya wrote:</b></span></td> </tr> <tr> <td class="quote">You should find a file named bank.dat somewhere in your installation of the M3 patcher. Just copy this file and rename it to match the game you want it to act as a save.</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, I have done something similar (copied dats). I will check the bank.dat, thanks for the info.
<br/>
<br/>
Unfortunately, copying does not change the data within the dat file. As I mentioned previously, there is 1024 bytes of (meta)data at the end of the dat file, which amogst other, includes a filename (or two). This data will not be changed by copying the file. It might not matter and the data might never be used, but I would rather know what it does. It may only be info used in the Game Manager.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
