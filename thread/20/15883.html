<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Screen looping - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Misc > Screen looping</h2>
<div id="posts">
<div class="post">
    <h4>#161217 - BenRK - Wed Jul 30, 2008 10:40 pm</h4>
    <div class="postbody"><span class="postbody">Hello, me again. I have my game running with an Ortho view. I'm trying to make the game room 800x600 with the player viewing 256x192 of that room at any given time, easy enough to move the background around, but there's a circle on the screen that needs to move around, as well as properly move when the camera does. I know how to do both, but when I move the camera, I find that the circle loops around a 256x192 area, where the camera starts. I want to turn this off, so it will loop around the 800x600 game room when I want it to, not the fixed 256x192 area it currently does. Any help would be nice.
<br/>
<br/>
~BenRK<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161219 - silent_code - Wed Jul 30, 2008 11:27 pm</h4>
    <div class="postbody"><span class="postbody">Well, just check if the circle's <span style="font-weight: bold">screen position</span> is inside the screen / view area. If it is, display the circle, if it is not, don't. :^)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161220 - BenRK - Thu Jul 31, 2008 12:10 am</h4>
    <div class="postbody"><span class="postbody">I forgot to mention that the circle doesn't smoothly move out of the screen on the bottom and right side of the screen, but it does on the top and left side of the screen, which is another reason I want to turn it off. 
<br/>
<br/>
Also, I'm thinking I posted this in the wrong section, so if it's possible to move it to the correct section, that would be great, as I'm very sure I haven't been here long enough to have the power to do so.<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161223 - koryspansel - Thu Jul 31, 2008 12:58 am</h4>
    <div class="postbody"><span class="postbody">I'm not sure I quite understand...so hopefully this isn't way off base.  This is, basically, just an elaboration of what silent_code has stated.
<br/>
<br/>
First, what I would do is make sure the coordinates for any objects in the room are relative to the origin of the room (which you may already do).  That would also include the camera coordinates.  Next, at draw time, go through your list of objects to draw (just the circle?) and transform each object's coordinates to be relative to the screen (ie. ObjPos - CameraPos).  Now your coordinates are relative to the camera, so just check that they're in the correct range (0 &lt;= X &lt; 256 &amp; 0 &lt;= Y &lt; 192) and you're all done.
<br/>
<br/>
EDIT: Also, if you want the object to wrap around the entire room, you'll need to handle that yourself by making sure the coordinates are in the correct range.
<br/>
<br/>
--
<br/>
Kory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161224 - BenRK - Thu Jul 31, 2008 1:07 am</h4>
    <div class="postbody"><span class="postbody">Yes, I understand that bit (and I know I'll have to make it loop around the game room my self), but what's really getting me right now is that it doesn't smoothly exit the screen on the right and bottom sides of the screen.<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161225 - koryspansel - Thu Jul 31, 2008 1:18 am</h4>
    <div class="postbody"><span class="postbody">What do you mean by "smoothly" exactly?  Does it just disappear when it reaches the edge of the screen?
<br/>
<br/>
I assume you're drawing a textured quad?  Where is the origin of the quad?  If it's at the upper-left I don't see a reason why it wouldn't draw correctly at the right and bottom edges.  However, if the quad is centered, you would have to account for that when checking the coordinates against the screen.
<br/>
<br/>
Just some thoughts.
<br/>
<br/>
--
<br/>
Kory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161226 - BenRK - Thu Jul 31, 2008 1:34 am</h4>
    <div class="postbody"><span class="postbody">I'm actually drawing 24 triangles (12 for the circle (which is a 12-gon), and 12 for a white outline). It's origin is the exact center of it, and the radius varies.
<br/>
<br/>
So, by what you're saying, I'll have to make the origin the bottom left corner of the circle/12-gon, but draw the triangles and stuff elsewhere, aka, where the old origin was?<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161231 - koryspansel - Thu Jul 31, 2008 2:12 am</h4>
    <div class="postbody"><span class="postbody">You could do it that way if you want to (probably make the origin the top-left though, to be consistent with the screen).  However, the easiest way would be to just take into account the size of the circle when checking to see if it's on screen.
<br/>
<br/>
Let's say you have a circle with a radius of 10 and that you've already transformed your coordinates relative to the screen, say at (260, 96).
<br/>
<br/>
So, if you check the circle coordinates against only the size of the window, your program is going to cull the circle since it lies outside the bounds.  But, since the circle is centered at the the coordinates, it should still be drawing a portion of it at the edge.
<br/>
<br/>
Assuming this is the problem, I think the best solution would be, when checking the circle coordinates, to "expand" the screen size by the radius of the circle.
<br/>
<br/>
So, with a radius of 10, you'd check your coordinates against X: (-5 to 261) and Y: (-5 to 197).  Hopefully that is a clear enough explanation.
<br/>
<br/>
--
<br/>
Kory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161248 - BenRK - Thu Jul 31, 2008 8:42 am</h4>
    <div class="postbody"><span class="postbody">The problem with that is that the DS is doing this automatically, with nothing being said by me.<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161259 - silent_code - Thu Jul 31, 2008 10:48 am</h4>
    <div class="postbody"><span class="postbody">Now you need to give us some example binary. Maybe also some source code (the culling - which you can post here). This is getting too confusing otherwise.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161283 - BenRK - Thu Jul 31, 2008 9:39 pm</h4>
    <div class="postbody"><span class="postbody">Here's everything relevant.
<br/>
<br/>
Sorry for the messiness of the code.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">while (game==1) 
<br/>
{
<br/>
if (start==0)
<br/>
   {
<br/>
      // Turn on everything
<br/>
   //powerON(POWER_ALL);
<br/>
   
<br/>
   // Setup the Main screen for 3D 
<br/>
   videoSetMode(MODE_0_3D);
<br/>
   
<br/>
   // IRQ basic setup
<br/>
   irqInit();
<br/>
   irqSet(IRQ_VBLANK, 0);
<br/>
<br/>
   // initialize the geometry engine
<br/>
   glInit();
<br/>
   
<br/>
   // enable antialiasing
<br/>
   glEnable(GL_ANTIALIAS);
<br/>
   
<br/>
   // setup the rear plane
<br/>
   glClearColor(0,0,0,31); // BG must be opaque for AA to work
<br/>
   glClearPolyID(63); // BG must have a unique polygon ID for AA to work
<br/>
   glClearDepth(0x7FFF);
<br/>
   
<br/>
   // Set our viewport to be the same size as the screen
<br/>
   glViewport(0,0,255,191);
<br/>
   
<br/>
   glMatrixMode(GL_PROJECTION);
<br/>
   glLoadIdentity();
<br/>
   glOrthof32(0, 256, 0, 192,0,-100);
<br/>
   //gluPerspective(70, 256.0 / 192.0, 0.1, 100);
<br/>
   
<br/>
//    Set the color of the vertices
<br/>
   glColor3f(1, 1, 1);
<br/>
   
<br/>
   for (i=0;i&lt;1;i++)
<br/>
      {
<br/>
         evo[i].x = 128;
<br/>
         evo[i].y = 96;
<br/>
         evo[i].radi = PA_RandMax(30)+5;
<br/>
         evo[i].red = PA_RandMax(255);
<br/>
         evo[i].green = PA_RandMax(255);
<br/>
         evo[i].blue = PA_RandMax(255);
<br/>
         evo[i].minspeed = 2;
<br/>
         evo[i].maxspeed = 5;
<br/>
         evo[i].dir = PA_RandMax(512);
<br/>
         evo[i].energy = 100;
<br/>
         evo[i].hunger = 0;
<br/>
         evo[i].mutation = 0;
<br/>
         evo[i].en0 = 10;
<br/>
         evo[i].hun0 = 60;
<br/>
         evo[i].en1 = 0;
<br/>
         evo[i].hun1 = 0;
<br/>
         evo[i].use = 1;
<br/>
         evo[i].move = 1;
<br/>
      }
<br/>
   
<br/>
   start = 1;
<br/>
   }   
<br/>
      scanKeys();
<br/>
   
<br/>
   //input
<br/>
   if (keysHeld() &amp; KEY_UP)
<br/>
      {
<br/>
      if (camy&gt;-408)
<br/>
      {
<br/>
      camy-=1;
<br/>
      }
<br/>
      }       
<br/>
   if (keysHeld() &amp; KEY_DOWN)
<br/>
      {
<br/>
      if (camy&lt;0)
<br/>
      {
<br/>
      camy+=1;
<br/>
      }
<br/>
      }
<br/>
   if (keysHeld() &amp; KEY_LEFT)
<br/>
      {
<br/>
      if (camx&lt;0)
<br/>
      {
<br/>
         camx+=1;
<br/>
        }
<br/>
      }   
<br/>
   if (keysHeld() &amp; KEY_RIGHT)
<br/>
      {
<br/>
      if (camx&gt;-544)
<br/>
      {
<br/>
         camx-=1;
<br/>
        }
<br/>
      }          
<br/>
      
<br/>
   if (keysHeld() &amp; KEY_A)
<br/>
      {
<br/>
      evo[0].hunger=0;
<br/>
      }
<br/>
   if (keysHeld() &amp; KEY_B)
<br/>
      {
<br/>
      evo[0].energy=100;
<br/>
      }
<br/>
      
<br/>
      //top screen
<br/>
      PA_OutputText(1,0,0,"Name: Tset"); 
<br/>
      PA_OutputText(1,0,1,"Energy: %d    ", evo[0].energy);
<br/>
      PA_OutputText(1,0,2,"Hunger: %d    ", evo[0].hunger);
<br/>
      PA_OutputText(1,0,3,"Mutation: %d    ", evo[0].mutation);
<br/>
      PA_OutputText(1,0,15,"Camy: %d      ",camy);
<br/>
      PA_OutputText(1,0,16,"Camx: %d      ",camx);
<br/>
      PA_OutputText(1,0,17,"");
<br/>
      PA_OutputText(1,0,18,"");
<br/>
      
<br/>
              
<br/>
      //ds specific, several attributes can be set here   
<br/>
      glPolyFmt(POLY_ALPHA(31) | POLY_CULL_NONE);
<br/>
      
<br/>
      // Set the current matrix to be the model matrix
<br/>
      glMatrixMode(GL_MODELVIEW);
<br/>
      
<br/>
      //Push our original Matrix onto the stack (save state)
<br/>
      glPushMatrix();
<br/>
glLoadIdentity(); 
<br/>
glTranslate3f32(camx,camy,0);
<br/>
glBegin(GL_QUADS);
<br/>
   glColor3b(0,0,0);
<br/>
   glVertex3v16(0,0,2);
<br/>
   
<br/>
   glColor3b(0,0,0);
<br/>
   glVertex3v16(800,0,2);
<br/>
   
<br/>
   glColor3b(1,0,251);
<br/>
   glVertex3v16(800,600,2);
<br/>
   
<br/>
   glColor3b(1,0,251);
<br/>
   glVertex3v16(0,600,2);
<br/>
glEnd();
<br/>
<br/>
//update the evolites
<br/>
for (i=0;i&lt;1;i++)
<br/>
   {
<br/>
   if (evo[i].use == 1)
<br/>
   {
<br/>
   if (evo[i].move == 1)
<br/>
   {
<br/>
   evo[i].x = evo[i].x+(evo[i].minspeed*PA_Cos(evo[i].dir));
<br/>
   evo[i].y = evo[i].y-(evo[i].minspeed*PA_Sin(evo[i].dir));
<br/>
   
<br/>
   if (evo[i].en1==evo[i].en0)
<br/>
      {
<br/>
      evo[i].energy -= 1;
<br/>
      evo[i].en1 = 0;
<br/>
      }
<br/>
   else
<br/>
      {
<br/>
      evo[i].en1++;
<br/>
      }
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
   evo[i].energy++;
<br/>
   }
<br/>
   
<br/>
   if (evo[i].energy == 100)
<br/>
      {
<br/>
      evo[i].move = 1;
<br/>
      }
<br/>
   if (evo[i].energy == 0)
<br/>
      {
<br/>
      evo[i].move = 0;
<br/>
      }
<br/>
   if (evo[i].hunger == 100)
<br/>
      {
<br/>
      evo[i].use = 0;
<br/>
      }         
<br/>
         
<br/>
   if (evo[i].hun1==evo[i].hun0)
<br/>
   {
<br/>
   evo[i].hunger += 1;
<br/>
   evo[i].hun1 = 0;
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
   evo[i].hun1++;
<br/>
   }
<br/>
   
<br/>
   evo[i].dir++;
<br/>
   }
<br/>
   }      
<br/>
<br/>
//draw the evolites
<br/>
for (i=0;i&lt;1;i++)
<br/>
{
<br/>
if (evo[i].use==1)
<br/>
   {
<br/>
   glLoadIdentity(); 
<br/>
   DrawEvolite(evo[i].x&gt;&gt;8,evo[i].y&gt;&gt;8,evo[i].radi,evo[i].red,evo[i].green,evo[i].blue);
<br/>
   }
<br/>
}
<br/>
      
<br/>
      // Pop our Matrix from the stack (restore state)
<br/>
      glPopMatrix(1);
<br/>
      
<br/>
      // flush to screen   
<br/>
      glFlush(0);
<br/>
      
<br/>
      //a handy little built in function to wait for a screen refresh
<br/>
      swiWaitForVBlank();
<br/>
   }
<br/>
   
<br/>
   return 0;
<br/>
}
<br/>
<br/>
void DrawEvolite(u8 x, u8 y, u8 radi, u8 red, u8 green, u8 blue)
<br/>
   {
<br/>
      glBegin(GL_TRIANGLES);
<br/>
   for (i=0;i&lt;=res;i++)
<br/>
   {
<br/>
   glColor3b(255,255,255);
<br/>
   glVertex3v16(x,(y-radi),radi);
<br/>
   
<br/>
   glColor3b(255,255,255);
<br/>
   glVertex3v16(x+(radi*PA_Cos((512/res)*i))/255,(y-radi)-(radi*PA_Sin((512/res)*i))/255,0);
<br/>
   
<br/>
   glColor3b(255,255,255);
<br/>
   glVertex3v16(x+(radi*PA_Cos((512/res)*(i+1)))/255,(y-radi)-(radi*PA_Sin((512/res)*(i+1)))/255,0);
<br/>
   }   
<br/>
glEnd();
<br/>
<br/>
glBegin(GL_TRIANGLES);
<br/>
   for (i=0;i&lt;=res;i++)
<br/>
   {
<br/>
   glColor3b(red,green,blue);
<br/>
   glVertex3v16(x,(y-radi),1);
<br/>
   
<br/>
   glColor3b(red,green,blue);
<br/>
   glVertex3v16(x+(radi*PA_Cos((512/res)*i))/255,(y-radi)-(radi*PA_Sin((512/res)*i))/255,1);
<br/>
   
<br/>
   glColor3b(red,green,blue);
<br/>
   glVertex3v16(x+(radi*PA_Cos((512/res)*(i+1)))/255,(y-radi)-(radi*PA_Sin((512/res)*(i+1)))/255,1);
<br/>
   }   
<br/>
glEnd();
<br/>
   }   </td> </tr></table><span class="postbody"><br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161288 - Cydrak - Thu Jul 31, 2008 10:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>BenRK wrote:</b></span></td> </tr> <tr> <td class="quote">The problem with that is that the DS is doing this automatically, with nothing being said by me.</td> </tr></table><span class="postbody">
<br/>
I expect it's not so much that, but the u8 arguments to DrawEvolite, which limits their position to a range of 0..255 (since 255 == 2**<span style="font-weight: bold">8</span> - 1).
<br/>
<br/>
Most computers use a fixed numeric precision, making wraparound (or roundoff, for floats) a natural consequence when the limit is exceeded.
<br/>
<br/>
By the way, there's another catch here. To the ARM CPU (e.g., GBA and DS), integers are <span style="font-style: italic">always</span> 32 bits. This means you should avoid smaller variables: far from being faster, the compiler will generate larger, slower code to simulate them! The main exception are arrays: RAM access is less restricted, so if you only need small values, you can benefit from the space savings.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161289 - BenRK - Thu Jul 31, 2008 11:06 pm</h4>
    <div class="postbody"><span class="postbody">I'm not to worried about the size or speed of the game, as it's not going to be terribly huge in the end, but that's good info to know. 
<br/>
<br/>
What would I use instead of u8 that wont give me the limit of 255 (honestly, I'm very new to programming in anything other than GML, which, if you didn't know, handles a lot of stuff in the background that you need to worry about in C/C++)?<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161290 - Griffin - Thu Jul 31, 2008 11:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>BenRK wrote:</b></span></td> </tr> <tr> <td class="quote">What would I use instead of u8 that wont give me the limit of 255 </td> </tr></table><span class="postbody">
<br/>
u16/s16/u32/s32. I would just use a plain old int though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161293 - Cydrak - Thu Jul 31, 2008 11:24 pm</h4>
    <div class="postbody"><span class="postbody">When in doubt, "int" and "long" are fine.
<br/>
<br/>
"int" tends to be a convenient size--I think at least 16 bits. "long" is at least 32. It depends on the hardware; for DS, and many modern PCs, they are both 32 bits. (Google <a class="postlink" href="http://home.att.net/~jackklein/c/inttypes.html" target="_blank">C int types</a> and find out more than you ever cared to know.)
<br/>
<br/>
An integer with 32 bits has ~4 billion possible values; 16 bits give you a range of 2**16 or 65536. Signed integers, the default, split this in half (ie, s16 allows -32768 .. 32767 instead of u16's 0 .. 65536). Since ~65,000 isn't really that big, 32 bits is more popular.
<br/>
<br/>
If you do need a specific range or size, you can use the types provided by libnds (u8, s32, etc), or in &lt;stdint.h&gt; (uint8_t, int32_t...).</span><span class="gensmall"><br/><br/>Last edited by Cydrak on Fri Aug 01, 2008 12:22 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#161294 - BenRK - Fri Aug 01, 2008 12:00 am</h4>
    <div class="postbody"><span class="postbody">Well, it's working properly now.
<br/>
<br/>
On an unrelated question, is it possible to make a new string from an array of characters? I need to make a random name generator, and it would be best if I saved the names as strings (to make things more compatible with the game I'm "porting" from the PC).<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161295 - Griffin - Fri Aug 01, 2008 12:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">On an unrelated question, is it possible to make a new string from an array of characters? I need to make a random name generator</td> </tr></table><span class="postbody">
<br/>
Do you mean totally random like
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int name_length = rand() % 12 + 4; /* 3-14 letter long name */
<br/>
char *name = malloc(length);
<br/>
if(name == NULL)
<br/>
    /* Error */
<br/>
int i;
<br/>
for(i = 0; i &lt; name_length - 1; i++)
<br/>
    name[i] = (rand() % 26) + 97;
<br/>
name[name_length - 1] = 0; /* Terminate string */
<br/>
name[0] -= 32; /* Convert the first letter to uppercase */
<br/>
<br/>
/* Do stuff with name */
<br/>
<br/>
free(name);
<br/>
</td> </tr></table><span class="postbody">
<br/>
Note: Code might not actually compile.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161296 - BenRK - Fri Aug 01, 2008 12:23 am</h4>
    <div class="postbody"><span class="postbody">There would be some logic to it. Mine would come up with names like Ucofi, Lol, Yeti, etc. I've written it out in GML. A purely random string generator would come up with stuff like sdfge, hfghr, werijg, etc. Those don't seem like names at all!<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161297 - Griffin - Fri Aug 01, 2008 12:31 am</h4>
    <div class="postbody"><span class="postbody">Okay.. It should be easy enough to convert it in to C code.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161298 - silent_code - Fri Aug 01, 2008 12:32 am</h4>
    <div class="postbody"><span class="postbody">Those are hackery names! :^)
<br/>
<br/>
Also: Take a look at &lt;string.h&gt;.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161301 - BenRK - Fri Aug 01, 2008 12:38 am</h4>
    <div class="postbody"><span class="postbody">It will be easy. I just have to create the array of letters and the logic stuff that puts them together in strings 3-8 characters long. I just wanted to know if I could add the letters from the array together to create the string.<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161302 - Griffin - Fri Aug 01, 2008 12:38 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>BenRK wrote:</b></span></td> </tr> <tr> <td class="quote">It will be easy. I just have to create the array of letters and the logic stuff that puts them together in strings 3-8 characters long. I just wanted to know if I could add the letters from the array together to create the string.</td> </tr></table><span class="postbody">
<br/>
You'll want to look at </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">char * strcat ( char * destination, const char * source )</td> </tr></table><span class="postbody">
<br/>
It sticks stuff together</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161308 - BenRK - Fri Aug 01, 2008 12:47 am</h4>
    <div class="postbody"><span class="postbody">Sorry, but I really don't know what all of that means. I can assume it's adding characters together, but I don't know how I would use it. Like I said before, I'm very new to C/C++, let alone DS homebrew, so forgive me for my lack of experience. Heck, it took me several weeks to figure out how to draw the 12-gon on the screen! I haven't even started with stylus input, sound, and I'm not even going to touch Wi-Fi till the end of development!<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161310 - Griffin - Fri Aug 01, 2008 12:54 am</h4>
    <div class="postbody"><span class="postbody">Example (no error checking for the sake of brevity):
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include &lt;string.h&gt;
<br/>
#include &lt;stdio.h&gt;
<br/>
<br/>
int main()
<br/>
{
<br/>
    char name[16];
<br/>
    char *name_starts[3] = { "Ae", "Bu", "Caa" };
<br/>
    char *name_ends[3] = { "gi", "up", "la" };
<br/>
    strcpy(name, name_starts[rand() % 3]); /* First part of name */
<br/>
    strcat(name, name_ends[rand() % 3]); /* Concatenate (append) the end of the name */
<br/>
    puts(name);
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161311 - BenRK - Fri Aug 01, 2008 1:01 am</h4>
    <div class="postbody"><span class="postbody">That seems to be adding parts of words together. What I did in GML was put vowels in one array, and the rest in another one, and then added them together using a function.
<br/>
<br/>
GML code
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">{
<br/>
var n;
<br/>
n="";
<br/>
if floor(random(2))=1
<br/>
   {
<br/>
   for(i=0;i&lt;2+random(4);i+=1)
<br/>
      {
<br/>
      if (i=0||i=2||i=4||i=6)
<br/>
         n+=v[floor(random(5))]
<br/>
      else
<br/>
         n+=c[floor(random(21))]
<br/>
      }
<br/>
   }
<br/>
else
<br/>
   {
<br/>
   for(i=0;i&lt;2+random(4);i+=1)
<br/>
      {
<br/>
      if (i=0||i=2||i=4||i=6)
<br/>
         n+=c[floor(random(21))]
<br/>
      else
<br/>
         n+=v[floor(random(5))]
<br/>
      }
<br/>
   }
<br/>
return n;
<br/>
}</td> </tr></table><span class="postbody"><br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161312 - Griffin - Fri Aug 01, 2008 1:15 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/* Remember to free the pointer that gets returned eg:
<br/>
char *name = get_random_name();
<br/>
Do stuff with name
<br/>
free(name);
<br/>
*/
<br/>
char *get_random_name(void)
<br/>
{
<br/>
    const char *v = { "aeiou" };
<br/>
    const char *c = { "bcdfghjklmnpqrstvwxyz" };
<br/>
    char *n = calloc(24, 1);
<br/>
    int i;
<br/>
    if(rand() &amp; 1) {
<br/>
        for(i = 0; i &lt; 2 + rand() % 4; ++i) {
<br/>
            if(i &amp; 1) /* If i is even */
<br/>
                n[i] = v[rand() % 5];
<br/>
            else
<br/>
                n[i] = c[rand() % 21];
<br/>
        }
<br/>
    }
<br/>
    else {
<br/>
        for(i = 0; i &lt; 2 + rand() % 4; ++i) {
<br/>
            if(!i &amp; 1) /* If i is not even */
<br/>
                n[i] = v[rand() % 5];
<br/>
            else
<br/>
                n[i] = c[rand() % 21];
<br/>
        }
<br/>
    }
<br/>
    n[0] -= 32; /* Capitalise */
<br/>
    return n; 
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
It would be good to remove that if-else on the rand() &amp; 2 but I'm lazy!
<br/>
First five names outputted on my laptop: Dodas, Oxus, Dok, Ihab, Ufu.
<br/>
I like that name generator.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161313 - BenRK - Fri Aug 01, 2008 1:32 am</h4>
    <div class="postbody"><span class="postbody">I'm getting an error when I try to compile my game now.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
C:\devkitPro\myProjects\evolitesDS&gt;make clean
<br/>
clean ...evolitesDS
<br/>
<br/>
C:\devkitPro\myProjects\evolitesDS&gt;make
<br/>
main.c
<br/>
c:/devkitPro/myProjects/evolitesDS/source/main.c:305: error: expected identifier
<br/>
 or '(' before '{' token
<br/>
make[1]: *** [main.o] Error 1
<br/>
make: *** [build] Error 2
<br/>
<br/>
C:\devkitPro\myProjects\evolitesDS&gt;pause
<br/>
Press any key to continue . . .</td> </tr></table><span class="postbody">
<br/>
<br/>
But yeah, it's a good random name generator!
<br/>
<br/>
Edit: Never mind. Had a ";" when I didn't need it. Now to just modify it a little so it will output the name on the DS, and all will be good.<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161314 - Griffin - Fri Aug 01, 2008 1:36 am</h4>
    <div class="postbody"><span class="postbody">Edit: Oh you fixed it!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161315 - BenRK - Fri Aug 01, 2008 1:37 am</h4>
    <div class="postbody"><span class="postbody">Heh, though I can't seem to get it to output onto the DS. Any help?<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161325 - silent_code - Fri Aug 01, 2008 10:23 am</h4>
    <div class="postbody"><span class="postbody">Please elaborate on the current means of outputting text in your program.
<br/>
<br/>
Could you post some example source code?<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161336 - BenRK - Fri Aug 01, 2008 6:59 pm</h4>
    <div class="postbody"><span class="postbody">What do I mean by outputting text on the screen? Making the letters on the screen be drawn onto it.
<br/>
<br/>
There's some of the source code earlier in the topic.<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161351 - silent_code - Fri Aug 01, 2008 9:37 pm</h4>
    <div class="postbody"><span class="postbody">I didn't ask what you mean by outputting letters, just how you do it now. ;^)
<br/>
<br/>
Either ask PAlib people or don't use PAlib and look up libnds' ansi console example.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#161353 - BenRK - Fri Aug 01, 2008 9:50 pm</h4>
    <div class="postbody"><span class="postbody">Since I'm using PAlib for the fun, simple 2D stuff, and the random name is really going to be the only random text thing, I'll head over there and ask, and hope for a response this time.
<br/>
<br/>
Anyway, thanks for your help. Everyone.<br/>_________________<br/>EvolitesDS - Possibly coming out some day... maybe...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
