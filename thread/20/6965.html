<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Nintendog packet sniffing - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Misc > Nintendog packet sniffing</h2>
<div id="posts">
<div class="post">
    <h4>#55042 - Sebbo - Sun Sep 25, 2005 12:51 am</h4>
    <div class="postbody"><span class="postbody">title says it all really. i know that tunnelling other games isn't possible atm because of latency issues, but does that still apply for nintendogs? i noticed that nintendogs pretty much just sends the dog + item, then after that there is no more communication, so this got me thinking.
<br/>
<br/>
thanks in advance<br/>_________________<br/>Here's some ideas I have for when I know enough to act on them, or for others to have a look at when they're bored: <a class="postlink" href="http://www.wayne.sebbens.com/ds_ideas.htm" target="_blank">www.wayne.sebbens.com/ds_ideas.htm</a></span><span class="gensmall"><br/><br/>Last edited by Sebbo on Wed Oct 05, 2005 2:18 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#55043 - IxthusTiger - Sun Sep 25, 2005 12:54 am</h4>
    <div class="postbody"><span class="postbody">Well it wouldn't be tunneling then ;)
<br/>
<br/>
Looks like Nintendogs broadcasts data like a Download Kiosk. So in theory, one could capture the Nintendogs Bark Mode data the same way you capture the Official Demos. Then you distribute on the web and BAM your friends list will be huge and you will unlock all the dogs and maybe some people will give up some rare items for us :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55045 - Sebbo - Sun Sep 25, 2005 1:01 am</h4>
    <div class="postbody"><span class="postbody">that was pretty much the idea ;-) but how practical is it? i'm sure there's handshaking in it somewhere which would be a problem due to latency, but could you simulate the handshaking etc?<br/>_________________<br/>Here's some ideas I have for when I know enough to act on them, or for others to have a look at when they're bored: <a class="postlink" href="http://www.wayne.sebbens.com/ds_ideas.htm" target="_blank">www.wayne.sebbens.com/ds_ideas.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55061 - Dudu.exe - Sun Sep 25, 2005 3:30 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sebbo wrote:</b></span></td> </tr> <tr> <td class="quote">that was pretty much the idea ;-) but how practical is it? i'm sure there's handshaking in it somewhere which would be a problem due to latency, but could you simulate the handshaking etc?</td> </tr></table><span class="postbody">
<br/>
<br/>
well, how the people done it with PSP?? i guess the priciple is the same..<br/>_________________<br/><a class="postlink" href="http://flickr.com/photos/stuffbox" target="_blank">http://flickr.com/photos/stuffbox</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55065 - tepples - Sun Sep 25, 2005 3:59 am</h4>
    <div class="postbody"><span class="postbody">Current PSP games usually use TCP/IP over ad-hoc mode. Current Nintendo DS games use Ni-Fi over ad-hoc mode. The issues in tunneling Ni-Fi would be similar to the issues in tunneling IPX.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55066 - Sebbo - Sun Sep 25, 2005 4:02 am</h4>
    <div class="postbody"><span class="postbody">so how about capturing the dog data and saving that to a file so that another computer can simulate what would be a DS sending the data to a proper DS running nintendogs? that might be the ideal way to do it<br/>_________________<br/>Here's some ideas I have for when I know enough to act on them, or for others to have a look at when they're bored: <a class="postlink" href="http://www.wayne.sebbens.com/ds_ideas.htm" target="_blank">www.wayne.sebbens.com/ds_ideas.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55069 - tepples - Sun Sep 25, 2005 4:08 am</h4>
    <div class="postbody"><span class="postbody">The same way WMB was cracked: Send a dog from one DS to another while running a Wi-Fi packet sniffer on a PC. Do this enough times that one can discern what is dog data and what is not from the packet capture, and someone may be able to figure out the Nintendogs protocol.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55081 - IxthusTiger - Sun Sep 25, 2005 7:51 am</h4>
    <div class="postbody"><span class="postbody">Sounds easy. So what's a good packet sniffer? Preferably the same one used for the E3 demos.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55094 - nman - Sun Sep 25, 2005 3:48 pm</h4>
    <div class="postbody"><span class="postbody">I can capture RAW Nintendogs's packets, if someone need it :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55117 - DsPet - Sun Sep 25, 2005 6:15 pm</h4>
    <div class="postbody"><span class="postbody">The "Bark" mode is very limited. It only sends an item and a *temporary* dog to play on the second NDS unit.
<br/>
The two dogs play for a short time. The interaction on one unit is totally different than the other.
<br/>
Once the play session is over, the other dog is forgotten (other than a log entry and possibly leaving their puppies behind)
<br/>
<br/>
Very few bits of information are transferred.
<br/>
---
<br/>
A better hacking alternative:
<br/>
If you have one or two home-brew capable NDS units, a cooler way is to share a clone of your dog with your friends. That way they get a full copy of the dog and can play with it at any time.
<br/>
The Nintendogs Trainer does that (beta coming soon). You can simply insert your friends Nintendogs cartridge and "Import" a full clone of his dog into your Nintendogs cartridge.
<br/>
If you have two home-brew capable NDS units, you can do the same over a longer distance (email a backup of your cartridge to you friend, which includes all of your pet dogs)
<br/>
<a href="http://aibohack.com/nds/trainer.htm" target="_blank">http://aibohack.com/nds/trainer.htm</a>
<br/>
<br/>
&gt; you will unlock all the dogs and maybe some people will give up some rare items for us
<br/>
BTW: All possible with the Trainer (add free $ and trainer points, unlock the ~200 items automatically)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55151 - IxthusTiger - Sun Sep 25, 2005 11:07 pm</h4>
    <div class="postbody"><span class="postbody">Cool! A Nintendogs Save Hacker. Though capturing Bark Mode nad rebroadcasting would be better for people without homebrew since it should work just like the official DS demos.
<br/>
<br/>
No one made a joke about sniffing another dog's packet? For shame!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55156 - tepples - Sun Sep 25, 2005 11:28 pm</h4>
    <div class="postbody"><span class="postbody">I wonder if bark mode has any buffer overflows. PetMe?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55626 - The 9th Sage - Fri Sep 30, 2005 3:21 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">I wonder if bark mode has any buffer overflows. PetMe?</td> </tr></table><span class="postbody">
<br/>
<br/>
:D  These *Me names keep getting better as we go along.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55923 - zigg - Tue Oct 04, 2005 2:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>IxthusTiger wrote:</b></span></td> </tr> <tr> <td class="quote">Cool! A Nintendogs Save Hacker. Though capturing Bark Mode nad rebroadcasting would be better for people without homebrew since it should work just like the official DS demos.</td> </tr></table><span class="postbody">
<br/>
<br/>
Well, and also for those of us who would just like to play the game as it was distributed with friends far away. :)
<br/>
<br/>
I may look at this someday.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55934 - IxthusTiger - Tue Oct 04, 2005 6:55 pm</h4>
    <div class="postbody"><span class="postbody">Move zigg! For great justice! :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55956 - Sebbo - Tue Oct 04, 2005 10:03 pm</h4>
    <div class="postbody"><span class="postbody">well, my sister got a DS and nintendogs, so all i need is a wifi card with that RA chipset...any one have any recommendations?<br/>_________________<br/>Here's some ideas I have for when I know enough to act on them, or for others to have a look at when they're bored: <a class="postlink" href="http://www.wayne.sebbens.com/ds_ideas.htm" target="_blank">www.wayne.sebbens.com/ds_ideas.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55959 - DsPet - Tue Oct 04, 2005 11:01 pm</h4>
    <div class="postbody"><span class="postbody">NOTE: The original post of this thread is discussing the technical *possibility* of implementing a PC side of the "Bark Mode" protocol.
<br/>
This is similar to the discussion for a PC "PICTOCHAT" program
<br/>
<a href="http://forum.gbadev.org/viewtopic.php?t=6972" target="_blank">http://forum.gbadev.org/viewtopic.php?t=6972</a>
<br/>
<br/>
These are theoretical discussions, talking about trapping the non-standard "NiFi" packets. Tricks like this require a hacked driver and certain hardware (like the RA chipset used by WiFiMe)
<br/>
<br/>
They are possible, but AFAIK they don't exist [ie. nobody has created a working program for these cases]
<br/>
----
<br/>
What *does* work today is a homebrew app
<br/>
(eg: my Nintendogs Trainer, now in Beta). It requires a homebrew setup. A programmable GBA cart and one of PassMe/WifiMe/FlashMe.
<br/>
-----
<br/>
&gt; ....capturing Bark Mode nad rebroadcasting would be better for people without homebrew since it should work just like the official DS demos. 
<br/>
True if you can figure out the protocol, and setup the necessary "NiFi" setup on your PC.
<br/>
Once again, the difference is the Homebrew app is working now, while the NiFi bark mode hack is theoretical.
<br/>
-----
<br/>
&gt; so all i need is a wifi card with that RA chipset...
<br/>
No, that's only one part of homebrew (for the "WiFiMe" hack)
<br/>
You also need a GBA flash card to store your homebrew app.
<br/>
See general homebrew setup discussions for hardware recommendations.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55969 - Sebbo - Wed Oct 05, 2005 12:44 am</h4>
    <div class="postbody"><span class="postbody">sorry, i might have been a bit unclear in my last post...
<br/>
i meant my sister also has a DS and a copy of nintendogs (i have my own DS and copy of nintendogs) so now i can start trying to capture bark mode data...once i get a WiFi card
<br/>
which of the cards on <a class="postlink" href="http://ralink.rapla.net/" target="_blank">this page</a> would people recommend? what software do ppl use as well (i've heard kismet thrown around a bit)
<br/>
<br/>
my main intention is to be able to let my gf (who lives 600km away, i think thats about 375 miles?) play with either of my dogs whenever.<br/>_________________<br/>Here's some ideas I have for when I know enough to act on them, or for others to have a look at when they're bored: <a class="postlink" href="http://www.wayne.sebbens.com/ds_ideas.htm" target="_blank">www.wayne.sebbens.com/ds_ideas.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55973 - IxthusTiger - Wed Oct 05, 2005 2:15 am</h4>
    <div class="postbody"><span class="postbody">My theory is that Nintendogs DOES NOT maintain a link between systems. I believe it broadcasts a downloadable demo the same way Polarium, for example, can send a demo version to another DS. The Polarium demo was captured the same way the E3 demos were captured, therefore, capturing Bark Mode should be just as easy (well... easier than cracking wifi, which you shouldn't have to do for this).
<br/>
<br/>
Bark mode should be as easy to capture and distribute as the official DS demos.
<br/>
<br/>
This means that Sebbo should be able to share his dog with his sis. The tough part though, is decoding the wifi packet each time. Is there anyone here besides firefly who knows how to put the captured DS demos together?
<br/>
<br/>
If several of us learn how to do this, we could form a Nintendogs community where people send us their sniffed packets and we put them back together and host them so that anyone on the net can play with your dog/have your present.
<br/>
<br/>
This is not exactly tunneling, because Nintendogs does not keep a wifi link between the DSes. Wifi cracking is not necessary. Again, the tough part is putting the sniffed packets together, and I hope some knowledgeable person can explain this process to us.
<br/>
<br/>
hehe... sniffed dog packets...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56013 - nman - Wed Oct 05, 2005 2:06 pm</h4>
    <div class="postbody"><span class="postbody">I tried to send packets with modified MAC address, but the Nintendogs didn't recognized it :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56033 - DsPet - Wed Oct 05, 2005 5:13 pm</h4>
    <div class="postbody"><span class="postbody">&gt; My theory is that Nintendogs DOES NOT maintain a link between systems.
<br/>
Correct. It downloads a small amount of information (the dog breed, name, owner name, etc - and an optional present). Both people start an interaction on their NDSs. You can end the play session whenever you want. The other person can end their play session independently.
<br/>
<br/>
&gt; I believe it broadcasts a downloadable demo the same way Polarium, for example, can send a demo version to another DS.
<br/>
Nope, not a "demo". You need two Nintendogs cartridges (one per NDS). It transfers a very small amount of information. Each cartridge has all the dog breeds and the code to handle this case.
<br/>
(true "Demos" are self contained and can run on an NDS without a DS cart)
<br/>
<br/>
&gt; ...and host them so that anyone on the net can play with your dog/have your present. 
<br/>
Not *anyone* on the net -- in even the best case you would need a "RA" chipset lan card in your PC. Considering the hassles people have gone through getting a WiFiMe compatible card, I'd be surprised if they didn't go the extra step for a GBA cart or a FlashMe/WMB configuration.
<br/>
----
<br/>
&gt; I tried to send packets with modified MAC address...
<br/>
Nintendogs listens for "Bark Mode" only for a short period of time. Not sure what you are doing but the hardware and software setup for "NiFi" packet capture is tricky.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56077 - Sebbo - Wed Oct 05, 2005 10:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
the hardware and software setup for "NiFi" packet capture is tricky.
<br/>
</td> </tr></table><span class="postbody">
<br/>
so what setup are ppl using who have managed to successfully capture?<br/>_________________<br/>Here's some ideas I have for when I know enough to act on them, or for others to have a look at when they're bored: <a class="postlink" href="http://www.wayne.sebbens.com/ds_ideas.htm" target="_blank">www.wayne.sebbens.com/ds_ideas.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56126 - nman - Thu Oct 06, 2005 1:50 pm</h4>
    <div class="postbody"><span class="postbody">The Nintendogs sends packets every minute (~400KB data at 2Mbit rate)
<br/>
I modified Firefly's "Echo" application, so it can save the packets into a file and send back to the DS.
<br/>
Then I edited the MAC addresses in the file, and sent it back to the DS. 
<br/>
But it didn't work :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56129 - Sebbo - Thu Oct 06, 2005 2:05 pm</h4>
    <div class="postbody"><span class="postbody">so a connection is kept between DSs? i guess it makes sense...i noticed that about a minute after my gf left bark mode (last time she was up here) a message came up on my screen saying that her dog had gone home...i just assumed that it set a time limit or did that if the dogs seemed uninterested<br/>_________________<br/>Here's some ideas I have for when I know enough to act on them, or for others to have a look at when they're bored: <a class="postlink" href="http://www.wayne.sebbens.com/ds_ideas.htm" target="_blank">www.wayne.sebbens.com/ds_ideas.htm</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
