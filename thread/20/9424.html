<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>why does homebrew need to use a ds.gba then renamed to .nds? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS Misc > why does homebrew need to use a ds.gba then renamed to .nds?</h2>
<div id="posts">
<div class="post">
    <h4>#81640 - adrian783 - Sun Apr 30, 2006 8:27 pm</h4>
    <div class="postbody"><span class="postbody">im so confused, since homebrews often need to provide 2 or more files, one for flashcart? one for supercard or whatever. whats the difference really? is there no way to have one file that runs on everything?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81641 - m2pt5 - Sun Apr 30, 2006 8:40 pm</h4>
    <div class="postbody"><span class="postbody">Some flashcarts mangle the header when you flash an .nds straight to it, so the .ds.gba has an extra header for that purpose. (Also, some will not flash files that aren't .gba.)
<br/>
<br/>
The "Supercard version" is just a renamed .ds.gba... what everything else knows as .ds.gba, Supercard knows as .nds. Don't ask the homebrewers for help with this, ask Romman, the creator of the Supercard.<br/>_________________<br/>Don't sign your posts, it's dumb.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81660 - agentq - Mon May 01, 2006 12:18 am</h4>
    <div class="postbody"><span class="postbody">The .ds.gba file contains a piece of code to copy the executable part of the program into main RAM, and then jump to the start.  The file is mapped to GBA rom space so can still be accessed to load data.  This method is used on GBA flash carts.  The GBAMP v2 doesn't have any memory in GBA rom space, so cannot support .ds.gba files.  The Supercard/M3 can pretent to be a flash cart because they contain RAM which is mapped to the GBA memory space.  The supercard calls .ds.gba files .nds, for no apparent reason.
<br/>
<br/>
An .nds file doesn't contain code to load the executable into RAM.  In this case, the whole file is copied into memory by another program, for example, the BIOS on the GBAMP/M3/Supercard can do this, or the DS BIOS does this for Wireless Multiboot.  In this way the code doesn't need to know about wireless, flash cards, etc. because by the time it starts it is already loaded.  Of course, if the program needs to acess more data than just the .nds file it needs to be built with the FAT driver so it can access the card directly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81690 - Chetic - Mon May 01, 2006 9:46 am</h4>
    <div class="postbody"><span class="postbody">People still use flashcarts? ;p<br/>_________________<br/>Packin':
<br/>
Grey DS with FlashMe v7
<br/>
1Gbit XG2T 2005 (Neoflash compatible)
<br/>
GBAMP, Supercard CF, 512Mb Magic Key 3 and EZFA 256Mbit</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81694 - tepples - Mon May 01, 2006 1:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Chetic wrote:</b></span></td> </tr> <tr> <td class="quote">People still use flashcarts? ;p</td> </tr></table><span class="postbody">
<br/>
Some people started on the GBA.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81821 - pepsiman - Tue May 02, 2006 8:50 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>agentq wrote:</b></span></td> </tr> <tr> <td class="quote">An .nds file doesn't contain code to load the executable into RAM.
<br/>
</td> </tr></table><span class="postbody">
<br/>
.nds files made with ndstool do contain code to load the executable into RAM.
<br/>
The E3 demos do not.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">In this case, the whole file is copied into memory by another program, for example, the BIOS on the GBAMP/M3/Supercard can do this, or the DS BIOS does this for Wireless Multiboot.</td> </tr></table><span class="postbody">
<br/>
The GBAMP firmware and the DS firmware do load .nds files into RAM.
<br/>
<br/>
The M3 and G6 can prepend a .nds loader to the .nds file when loading into the RAM on the cart, but they don't load directly into RAM.
<br/>
<br/>
The SuperCard cannot load proper .nds files (like E3 demos).</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
