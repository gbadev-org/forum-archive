<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Converting DVD to DGP? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Misc > Converting DVD to DGP?</h2>
<div id="posts">
<div class="post">
    <h4>#83612 - spinal_cord - Wed May 17, 2006 10:37 am</h4>
    <div class="postbody"><span class="postbody">What is the fastest way to convert a DVD to play in moonchell? At the moment Im' using DVDx to convert the DVD to avi/mpg, then DGPtools to convert the avi/mpg to DGP. Sometimes I need to rip the dvd to my harddrive first else I end up with green crap allover the screen. This all takes about 2-3 hours, depending on the length of the movie.
<br/>
<br/>
Is there a quicker way?<br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83628 - Xtreme - Wed May 17, 2006 2:20 pm</h4>
    <div class="postbody"><span class="postbody">There are my friend's EasyDivX interface.
<br/>
<br/>
1)
<br/>
<a class="postlink" href="http://www.sofotex.com/Easydivx-download_L5672.html" target="_blank">EasyDivX</a>:
<br/>
DVD -&gt; DivX/XviD (+ extracting subtitles)
<br/>
Encode DVD to AVI file and subtitle to sub/idx file.
<br/>
<br/>
2)
<br/>
<a class="postlink" href="http://prdownloads.sourceforge.net/virtualdub/VirtualDub-1.6.14.zip?download" target="_blank">VirtualDub</a> (video editing) + <a class="postlink" href="http://www.afterdawn.com/software/video_software/subtitle_tools/vobsub.cfm" target="_blank">VobSub</a> filter (adding subtitles) + <a class="postlink" href="http://prdownloads.sourceforge.net/avisynth2/AviSynth_220406.exe?download" target="_blank">Avisynth </a> (for frameserving video)
<br/>
Install stuff.
<br/>
Open AVI with VirtualDub.
<br/>
Add Subtitles with VobSub plug-in.
<br/>
Start frameserving with Virtualdub (name it to Movie.vdr).
<br/>
Make Movie.avs file and add text:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Avisource("C:\Movie.vdr")</td> </tr></table><span class="postbody">
<br/>
<br/>
3)
<br/>
Open Movie.avs file with DPG Encoder and encode it to DPG. You can also try to pass using the AviSynth and try to open Movie.vdr first (tough, usually recycling via avisynth is more stable).
<br/>
<br/>
EDIT: It takes some time as others. Hard or not, you decide. If it's too hard, just don't do it. Cooking also takes a lot of time, and ppl love to eat some good food.<br/>_________________<br/>My <a class="postlink" href="http://www.samipupu.com/upload/Guest/xtreme_theme.mp3" target="_blank">Theme</a><span style="font-size: 9px; line-height: normal">
<br/>
DS Lite (FM_V8a) ** R4 Revolution (2GB Transcend) ** SuperCard Lite (2x 2GB Transcend)</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83651 - The 9th Sage - Wed May 17, 2006 6:04 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Xtreme wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
2)
<br/>
<a class="postlink" href="http://prdownloads.sourceforge.net/virtualdub/VirtualDub-1.6.14.zip?download" target="_blank">VirtualDub</a> (video editing) + <a class="postlink" href="http://www.afterdawn.com/software/video_software/subtitle_tools/vobsub.cfm" target="_blank">VobSub</a> filter (adding subtitles) + <a class="postlink" href="http://prdownloads.sourceforge.net/avisynth2/AviSynth_220406.exe?download" target="_blank">Avisynth </a> (for frameserving video)
<br/>
Install stuff.
<br/>
Open AVI with VirtualDub.
<br/>
Add Subtitles with VobSub plug-in.
<br/>
Start frameserving with Virtualdub (name it to Movie.vdr).
<br/>
Make Movie.avs file and add text:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Avisource("C:\Movie.vdr")</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
I was going to suggest re-encoding it to an AVI first, but I forgot about using a frameserver...I'll have to try this.  Also, doesn't VDub have it's own frameserver?  I think you have to specify that you want it to install it when you install the program, but I seem to remember something like that.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83657 - LS5 - Wed May 17, 2006 6:38 pm</h4>
    <div class="postbody"><span class="postbody">Unfortunately, dpgenc doesn't support frameserving.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83670 - Xtreme - Wed May 17, 2006 7:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LS5 wrote:</b></span></td> </tr> <tr> <td class="quote">Unfortunately, dpgenc doesn't support frameserving.</td> </tr></table><span class="postbody">
<br/>
Ok, that's a shame. Then files must be converted from DVD to AVI and then threated with DPG encoder. 
<br/>
Or DVD -&gt; AVI -&gt; AVI (if you need subtitles).<br/>_________________<br/>My <a class="postlink" href="http://www.samipupu.com/upload/Guest/xtreme_theme.mp3" target="_blank">Theme</a><span style="font-size: 9px; line-height: normal">
<br/>
DS Lite (FM_V8a) ** R4 Revolution (2GB Transcend) ** SuperCard Lite (2x 2GB Transcend)</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83672 - tepples - Wed May 17, 2006 8:02 pm</h4>
    <div class="postbody"><span class="postbody">If you're worried about quality loss when doing AVI-&gt;AVI, you can use the lossless Huffyuv codec if you have a lot of disk to spare.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83687 - sdjp - Wed May 17, 2006 9:41 pm</h4>
    <div class="postbody"><span class="postbody">If you look at <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=7897" target="_blank">http://forum.gbadev.org/viewtopic.php?t=7897</a>, there's a description of how to set up a DPG encoding pipeline under linux.
<br/>
<br/>
This is relevant, because most of the hard work is done by tools that are perfectly able to operate on a DVD.  At least, mencoder certainly can, and a windows binary is supplied with the windows dpgenc tools.
<br/>
<br/>
If my recollection of mencoder settings is correct, the command to encode the video will be something like: 
<br/>
<br/>
mencoder <a href="dvd://$TITLE" target="_blank">dvd://$TITLE</a> -o $VTMP -ovc lavc -lavcopts vcodec=mpeg1video:vstrict=-1:vbitrate=160000 -nosound -ofps $FPS -vf scale=256:19
<br/>
<br/>
where $TITLE is the title number of the actual film, $VTMP is a temporary file for the video, and $FPS is the frame speed to encode to.  12 works great for anime, and plays back beautifully, else, well, dpgenc seems to default to 18 (but that's nonstandard; some codecs won't do that).
<br/>
<br/>
Similarly, if you pull the audio out with mplayer, you can do something like:
<br/>
<br/>
mplayer <a href="dvd://$TITLE" target="_blank">dvd://$TITLE</a> -ao pcm:file=$ATMP -vc dummy -vo null &amp;&amp; sox -twav $ATMP -tgsm -c1 - |  sox -V -tgsm - -twav $AO
<br/>
<br/>
$ATMP is a temporary file, not relevant after.  $AO is the final audio output.
<br/>
<br/>
You'll need some way to generate the header; something that I'm afraid I can't help with.
<br/>
<br/>
Admittedly, if you've got that, you can use whatever method you like to encode the video / audio.  Which is probably better.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83703 - Lazy1 - Wed May 17, 2006 11:08 pm</h4>
    <div class="postbody"><span class="postbody">I don't know about using mencoder directly, whenever I tried it and set dpgenc not to re-encode the video stream it would create the dpg but only write the audio.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83751 - Xtreme - Thu May 18, 2006 8:44 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">If you're worried about quality loss when doing AVI-&gt;AVI, you can use the lossless Huffyuv codec if you have a lot of disk to spare.</td> </tr></table><span class="postbody">
<br/>
Yes, but I don't think you could see the difference in quality: 720x576 MPEG-2 &gt;&gt; 640x480 DivX &gt;&gt; 256x192 DPG
<br/>
<br/>
I personally use Huffyuv, but only when using same resolution and when I'm making HQ conversions.<br/>_________________<br/>My <a class="postlink" href="http://www.samipupu.com/upload/Guest/xtreme_theme.mp3" target="_blank">Theme</a><span style="font-size: 9px; line-height: normal">
<br/>
DS Lite (FM_V8a) ** R4 Revolution (2GB Transcend) ** SuperCard Lite (2x 2GB Transcend)</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83984 - tepples - Sat May 20, 2006 12:27 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Xtreme wrote:</b></span></td> </tr> <tr> <td class="quote">I don't think you could see the difference in quality: 720x576 MPEG-2 &gt;&gt; 640x480 DivX &gt;&gt; 256x192 DPG</td> </tr></table><span class="postbody">
<br/>
It'd be faster to do 720x576 MPEG-2 &gt;&gt; 256x192 Huffyuv than 720x576 MPEG-2 &gt;&gt; 640x480 DivX, right?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84047 - Xtreme - Sat May 20, 2006 9:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">It'd be faster to do 720x576 MPEG-2 &gt;&gt; 256x192 Huffyuv than 720x576 MPEG-2 &gt;&gt; 640x480 DivX, right?</td> </tr></table><span class="postbody">
<br/>
Yes, like twice, but I prefer something compressed to save disk space.. considering that you/me/he might have those DVD files already on the HDD eating up the free space. So if you have fast computer and enough space for that, then that huffy method would be a great choice (DVD files ~6GB + Huffyuv file 20-40GB + DPG file ~100-400MB). :-)<br/>_________________<br/>My <a class="postlink" href="http://www.samipupu.com/upload/Guest/xtreme_theme.mp3" target="_blank">Theme</a><span style="font-size: 9px; line-height: normal">
<br/>
DS Lite (FM_V8a) ** R4 Revolution (2GB Transcend) ** SuperCard Lite (2x 2GB Transcend)</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84054 - LS5 - Sat May 20, 2006 10:27 am</h4>
    <div class="postbody"><span class="postbody">256x192 15fps Huffyuv files are more like 1GB per 30 minutes, definitely not 20-40GB for one movie.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84067 - SteveH - Sat May 20, 2006 12:21 pm</h4>
    <div class="postbody"><span class="postbody">I'm trying to download that EasyDivX application, but apparently it's a dead project...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84083 - daninski - Sat May 20, 2006 1:44 pm</h4>
    <div class="postbody"><span class="postbody">so is there anyway to convert files to .dgp using a mac? (i know i know)
<br/>
i'd never actually heard of that video file format before moonshell and can't find any information about it. what's the actual codec?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84084 - JaJa - Sat May 20, 2006 1:58 pm</h4>
    <div class="postbody"><span class="postbody">Yes, there is.
<br/>
I worked on this at the beginning of the year. (Actually end of last year O_O it's been a while.)
<br/>
I worked out the header structure and codecs, and then Jhuees wrote a short application that writes out the header to a file.
<br/>
You then cat your converted video, audio and header together to form a dpg. (cat header audio.gsm.wav foo.mpg &gt; foo.dpg).
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=7897&amp;start=0" target="_blank">This thread</a> has details about the header, the header app, commands to convert the video and some ruby/shell scripts that semi automate this procedure.
<br/>
As far as I can tell my method is pretty close to what DPGenc is actually doing, at least we use the same tools (mencoder, sox, mplayer, although DPGenc seems to use ffmpeg too).
<br/>
Have fun.<br/>_________________<br/>LAWL HOOGE
<br/>
<a class="postlink" href="http://www.pageofrandom.wordpress.com/" target="_blank">My Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84085 - Xtreme - Sat May 20, 2006 1:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SteveH wrote:</b></span></td> </tr> <tr> <td class="quote">I'm trying to download that EasyDivX application, but apparently it's a dead project...</td> </tr></table><span class="postbody">
<br/>
Just look for mirror servers. 
<br/>
I have closed the EasyDivX site because it's development has stopped.<br/>_________________<br/>My <a class="postlink" href="http://www.samipupu.com/upload/Guest/xtreme_theme.mp3" target="_blank">Theme</a><span style="font-size: 9px; line-height: normal">
<br/>
DS Lite (FM_V8a) ** R4 Revolution (2GB Transcend) ** SuperCard Lite (2x 2GB Transcend)</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84087 - LS5 - Sat May 20, 2006 2:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>daninski wrote:</b></span></td> </tr> <tr> <td class="quote">i'd never actually heard of that video file format before moonshell and can't find any information about it. what's the actual codec?</td> </tr></table><span class="postbody">
<br/>
DPG is a custom container created by Moonlight for MoonShell. It uses MPEG-1 for the video and MP2 (MPEG-1 Part 3 Layer 2) for the audio. I'm guessing DPG is used instead of the MPG container because MPEG-1 can normally only be one of the following framerates: 23.976, 24, 25, 29.97, 30, 50, 59.94 and 60. Since at fullscreen (256x192), the DS can't handle even the lowest of those, dpgenc seems to feed mencoder a sped up (by 24 / target fps) version of the original video, and a the fps value in the DPG header tells MoonShell how much it has to slow the video down on playback. It's a bit of a hack, but it works.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84091 - daninski - Sat May 20, 2006 2:56 pm</h4>
    <div class="postbody"><span class="postbody">that is a bit of a hack, the play-yan must use a hardware solution to playback it mpg4 i guess. did anyone ever manage to get the play-yan working as anything other than a media player in the end?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84119 - tepples - Sat May 20, 2006 5:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LS5 wrote:</b></span></td> </tr> <tr> <td class="quote">MPEG-1 can normally only be one of the following framerates: 23.976, 24, 25, 29.97, 30, 50, 59.94 and 60. Since at fullscreen (256x192), the DS can't handle even the lowest of those</td> </tr></table><span class="postbody">
<br/>
Not if you use empty B-frames. MPEG-1 B-frames with no motion vectors can in theory be decoded very cheaply. So if you encode 12fps video as 24fps with a group of pictures shaped like IBPBPBPB, and all the B-frames say copy the previous frame verbatim, then you're staying within the MPEG-1 spec while still using only as much CPU time as 12fps. Is it possible to efficiently detect a motionless P- or B-frame?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84166 - JaJa - Sat May 20, 2006 9:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LS5 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>daninski wrote:</b></span></td> </tr> <tr> <td class="quote">i'd never actually heard of that video file format before moonshell and can't find any information about it. what's the actual codec?</td> </tr></table><span class="postbody">
<br/>
...MP2 (MPEG-1 Part 3 Layer 2) for the audio.... </span></td> </tr></table><span class="postbody">
<br/>
The first DPGs (and i still use this codec) used GSM Wav files for audio (or WAV 49 as it's also called).<br/>_________________<br/>LAWL HOOGE
<br/>
<a class="postlink" href="http://www.pageofrandom.wordpress.com/" target="_blank">My Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84375 - Xtreme - Mon May 22, 2006 6:44 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LS5 wrote:</b></span></td> </tr> <tr> <td class="quote">256x192 15fps Huffyuv files are more like 1GB per 30 minutes, definitely not 20-40GB for one movie.</td> </tr></table><span class="postbody">
<br/>
True. I was mixing results with 720x576 pixel resolution outputted with huffyuv, sorry.<br/>_________________<br/>My <a class="postlink" href="http://www.samipupu.com/upload/Guest/xtreme_theme.mp3" target="_blank">Theme</a><span style="font-size: 9px; line-height: normal">
<br/>
DS Lite (FM_V8a) ** R4 Revolution (2GB Transcend) ** SuperCard Lite (2x 2GB Transcend)</span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
