<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to handle different sized sprites. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > How to handle different sized sprites.</h2>
<div id="posts">
<div class="post">
    <h4>#50335 - justinGBA - Mon Aug 08, 2005 8:30 am</h4>
    <div class="postbody"><span class="postbody">I just got done with getting backgrounds to work now i have some questions about sprites..
<br/>
<br/>
In a tiled background you just point you control register to a CharBaseBlock and a ScreenBaseBlock that has the data you would like to use.  Now with sprites, i know there is an OAM entry but how do i tell it what tile to use..? Especially if i have multiple tiles of different sizes?  I loaded in an image with 3 32x32 sprites arranged vertiacally then used gfx2GBA to output the image into an array, and in atribute3 of OAM to get it to display right i had to pass 0, 32, or 64 to atribute3.
<br/>
<br/>
So i have a bunch of sprites that are different sizes, do i just toss them all in one sprite sheet? If so what order. and how do i index the tiles?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50339 - Zapf_Bandit - Mon Aug 08, 2005 9:12 am</h4>
    <div class="postbody"><span class="postbody">I personally make different images for each possible width 8,16,32 and 64 and then pack them on top of each other. Keep in mind that if you are only displaying one of these pictures at a time (e.g. an animated sprite) it can be a lot better to keep the same sprite address (attr3) and simply copy different sprite parts to the corresponding memory. Here is an example that shows the way I generally setup my sprite info (16 colour example). In this case there are multiple 64x32 sprite images stacked on top of each other...
<br/>
<br/>
// Sprite Information
<br/>
<br/>
enum {
<br/>
	BP_SEL,
<br/>
	BP_LEVEL
<br/>
};
<br/>
<br/>
const unsigned BM_SEL = 	0;
<br/>
const unsigned BM_LEVEL = 	BM_SEL +1;
<br/>
<br/>
const unsigned BS_SEL = 	1*(4*4);
<br/>
const unsigned BS_LEVEL = 	1*(8*4); // frames*(width*height)
<br/>
<br/>
const unsigned BD_SEL = 	0;
<br/>
const unsigned BD_LEVEL = 	BD_SEL + BS_SEL;
<br/>
<br/>
..............
<br/>
<br/>
OAM[4*BM_LEVEL + kSpriteY] = ATTR0_COLOR_16 | ATTR0_WIDE;
<br/>
OAM[4*BM_LEVEL + kSpriteX] = ATTR1_SIZE_64;
<br/>
OAM[4*BM_LEVEL + kSpriteSrc] = BD_LEVEL | ATTR2_PALETTE(BP_LEVEL);
<br/>
<br/>
..............
<br/>
<br/>
<br/>
swiFastCopy(	(void*)((u32)levels_gfx + 32*BS_LEVEL*difficulty),
<br/>
			(void*)((u32)SPRITE_GFX + 32*BD_LEVEL),
<br/>
			16*BS_LEVEL);</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50348 - justinGBA - Mon Aug 08, 2005 3:35 pm</h4>
    <div class="postbody"><span class="postbody">Well thats fine and dandy for displaying one sprite, right?
<br/>
<br/>
But i will be displaying the player sprite, 32x32, and a bunch of enemy sprites 16x16 and there firepower is 8x8.  how can i get all this on the scren at once, since you only have one chunk of memory for sprite tiles, and you can't tell oam what chunk to use for each sprite can you?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50352 - poslundc - Mon Aug 08, 2005 3:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>justinGBA wrote:</b></span></td> </tr> <tr> <td class="quote">how can i get all this on the scren at once, since you only have one chunk of memory for sprite tiles, and you can't tell oam what chunk to use for each sprite can you?</td> </tr></table><span class="postbody">
<br/>
<br/>
<a class="postlink" href="http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm#Attribute%202" target="_blank">Attribute 2</a>
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50360 - justinGBA - Mon Aug 08, 2005 6:39 pm</h4>
    <div class="postbody"><span class="postbody">OK, i some what understand that idea...  My question is, is how do i arrange my sprites in the bitmap before converting them. or does it matter?  Right now i put them into one vertical strip, 32px X 32px wide. So now i have some sprites that are 16px x 16px wide, do i put them side by side under the 32px X 32px sprites? forming another 32x32 block vertically made up og 16 x 16 blocks?
<br/>
<br/>
does that feel right?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50370 - poslundc - Mon Aug 08, 2005 10:46 pm</h4>
    <div class="postbody"><span class="postbody">That would depend entirely on your converter. I wrote my own, so I can't tell you anything about the one you're using.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50409 - justinGBA - Tue Aug 09, 2005 10:22 am</h4>
    <div class="postbody"><span class="postbody">gfx2gba, i worked it out.  Got some sweet sprites on the screen of different sizes.  thanks</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
