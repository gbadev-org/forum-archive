<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GBA Bios dumping & sin/cos - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > GBA Bios dumping & sin/cos</h2>
<div id="posts">
<div class="post">
    <h4>#407 - coca77 - Tue Jan 07, 2003 2:38 pm</h4>
    <div class="postbody"><span class="postbody">How did someone dump the GBA bios?
<br/>
Also, is it true that there is a sin/cos table builtin ?
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#412 - Touchstone - Tue Jan 07, 2003 4:22 pm</h4>
    <div class="postbody"><span class="postbody">No sin or cos tables (afaik). I have no idea how they dumped it but I'm sure some kind of magic was involved. It usualy is when you don't know how things work.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#423 - MrMr[iCE] - Tue Jan 07, 2003 5:09 pm</h4>
    <div class="postbody"><span class="postbody">you can try this:
<br/>
<br/>
<a class="postlink" href="http://www.work.de/nocash/gba-xboo.htm" target="_blank">http://www.work.de/nocash/gba-xboo.htm</a>
<br/>
<br/>
building the cable is easy, I use one myself for multiboot roms<br/>_________________<br/>Does the corpse have a familiar face?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#467 - tom - Tue Jan 07, 2003 11:39 pm</h4>
    <div class="postbody"><span class="postbody">the following is taken from martin korth's gbatek.txt:
<br/>
<br/>
[SWI 31 (1Fh) - MidiKey2Freq
<br/>
Calculates the value of the assignment to ((SoundArea)sa).vchn[x].fr
<br/>
when playing the wave data, wa, with the interval (MIDI KEY) mk and
<br/>
the fine adjustment value (halftones=256) fp.
<br/>
r0  WaveData* wa
<br/>
  r1  u8 mk
<br/>
  r2  u8 fp
<br/>
Return:
<br/>
  r0  u32
<br/>
This function is particulary popular because it allows to read from BIOS memory
<br/>
without copy protection range checks. The formula to read one byte (a) from
<br/>
address (i, 0..3FFF) is:
<br/>
a = (MidiKey2Freq(i-(((i AND 3)+1)OR 3), 168, 0) * 2) SHR 24]
<br/>
<br/>
well, apparently this function does some kind of table lookup, and by passing invalid values you get it to return any byte from the bios you want :D. i've tried it myself and it works fine.
<br/>
<br/>
probably there must be some sin/cos tables somewhere in the bios, for the bgaffineset and objaffineset syscalls.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#478 - Touchstone - Wed Jan 08, 2003 1:43 am</h4>
    <div class="postbody"><span class="postbody">Aw, bgaffineset and objaffineset systemcalls, I who just wrote my own functions for that when I just could have used them system calls.. Argh. Cool bios-read syscall bug though. :)<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#495 - Costis - Wed Jan 08, 2003 4:18 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
In fact, there are cosine and sine tables in the BIOS although I do not remember at what offsets they are located at. Just including a your own tables in ROM though should be much easier to access and wouldn't take much space anyway.
<br/>
<br/>
Costis</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
