<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>question about XOR - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > question about XOR</h2>
<div id="posts">
<div class="post">
    <h4>#22922 - Darmstadium - Thu Jul 01, 2004 4:05 am</h4>
    <div class="postbody"><span class="postbody">My goal is to clear out the bits that store the x and y in a OAM entry and put in new ones. I tried it like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
sprites[0].attribute0 ^= 0xFF;
<br/>
sprites[0].attribute0 |= test_y;
<br/>
sprites[0].attribute1 ^= 0x1FF;
<br/>
sprites[0].attribute1 |= test_x;
<br/>
</td> </tr></table><span class="postbody">
<br/>
but that messes stuff up. Am I crazy or does XOR do the following?:
<br/>
0 and 1 = 1
<br/>
0 and 0 = 0
<br/>
1 and 1 = 0
<br/>
<br/>
according to CowBite the y takes bits 0-7 of attribute 0 and the x takes bits 0-8 of attribute 1.
<br/>
<br/>
Thanks a whole bunch for your help</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22923 - tepples - Thu Jul 01, 2004 4:47 am</h4>
    <div class="postbody"><span class="postbody">You're correct about the XOR (exclusive or) operator, notated in C as ^
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">0 ^ 0 == 0
<br/>
0 ^ 1 == 1
<br/>
1 ^ 0 == 1
<br/>
1 ^ 1 == 0</td> </tr></table><span class="postbody">
<br/>
<br/>
It appears you probably want to clear a given set of bits in a register. To do that, use the BIC (bit clear) operator, notated in C as a compound operator &amp;~
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">0 &amp;~ 0 == 0
<br/>
0 &amp;~ 1 == 0
<br/>
1 &amp;~ 0 == 1
<br/>
1 &amp;~ 1 == 0</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22929 - Lord Graga - Thu Jul 01, 2004 1:41 pm</h4>
    <div class="postbody"><span class="postbody">I usually do this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   whatSprite-&gt;attribute1 = (whatSprite-&gt;attribute1 &amp; 0xFE00)| x;
<br/>
<br/>
   whatSprite-&gt;attribute0 = (whatSprite-&gt;attribute0 &amp; 0xFF00)| y;</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22932 - jma - Thu Jul 01, 2004 3:32 pm</h4>
    <div class="postbody"><span class="postbody">Just invert the bits you want to clear. Your |/^ is a common first try. The compiler will automatically take care of this think for you:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// clear bit 2 from 'x'
<br/>
x &amp;= ~(0x2);</td> </tr></table><span class="postbody">
<br/>
<br/>
Jeff<br/>_________________<br/><a href="mailto:massung@gmail.com">massung@gmail.com</a>
<br/>
<a href="http://www.retrobyte.org" target="_blank">http://www.retrobyte.org</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22933 - Cearn - Thu Jul 01, 2004 3:36 pm</h4>
    <div class="postbody"><span class="postbody">Just be sure that x and y have been cut down to 9 and 8 bits, 
<br/>
respectively.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
sprites[0].attribute0 &amp;= 0xFF00; 
<br/>
sprites[0].attribute0 |= (test_y &amp; 0x00FF); 
<br/>
sprites[0].attribute1 &amp;= 0xFE00; 
<br/>
sprites[0].attribute1 |= (test_x &amp; 0x01FF); 
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22952 - Darmstadium - Thu Jul 01, 2004 7:56 pm</h4>
    <div class="postbody"><span class="postbody">thanks a ton you guys</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23154 - SmileyDude - Tue Jul 06, 2004 2:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">It appears you probably want to clear a given set of bits in a register. To do that, use the BIC (bit clear) operator, notated in C as a compound operator &amp;~</td> </tr></table><span class="postbody">
<br/>
<br/>
I don't want to be picky (especially with tepples), but actually that's two operators -- the bitwise and operator (&amp;) and the bitwise compliment operator (~).  If it was truely one operator, there would probably be a &amp;~= operator as well, but there isn't.  
<br/>
<br/>
But otherwise, everything is fine :)<br/>_________________<br/>dennis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23159 - tepples - Tue Jul 06, 2004 3:26 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SmileyDude wrote:</b></span></td> </tr> <tr> <td class="quote">actually that's two operators -- the bitwise and operator (&amp;) and the bitwise compliment operator (~).</td> </tr></table><span class="postbody">
<br/>
True, which is why I called it a "compound" operator.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">If it was truely one operator, there would probably be a &amp;~= operator as well, but there isn't.</td> </tr></table><span class="postbody">
<br/>
What does a &amp;=~ b do?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23166 - SmileyDude - Tue Jul 06, 2004 6:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">What does a &amp;=~ b do?</td> </tr></table><span class="postbody">
<br/>
<br/>
heh -- exactly what the &amp;~= operator would do (if it existed, of course) :p<br/>_________________<br/>dennis</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
