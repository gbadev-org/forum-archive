<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>More bus error fun... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > More bus error fun...</h2>
<div id="posts">
<div class="post">
    <h4>#14277 - poslundc - Sat Jan 03, 2004 7:53 pm</h4>
    <div class="postbody"><span class="postbody">OK, here's a new one.
<br/>
<br/>
Now I'm getting bus errors if I attempt to link code that assigns a struct that is larger than 48 bytes. So for example:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">struct ex1
<br/>
{
<br/>
   int   a4, a8, a12, a16, a20, a24, a28, a32, a36, a40, a44, a48, a52;
<br/>
};
<br/>
<br/>
struct ex2
<br/>
{
<br/>
   int   a4, a8, a12, a16, a20, a24, a28, a32, a36, a40, a44;
<br/>
};
<br/>
<br/>
struct ex1 a = (struct ex1) {a20: 12345};   // generates bus error
<br/>
<br/>
struct ex2 b = (struct ex2) {a20: 12345};   // does not generate error</td> </tr></table><span class="postbody">
<br/>
<br/>
I can still address individual members, it's just when trying to assign the entire struct that I get an error.
<br/>
<br/>
I gather that "bus error" on my compiler/linker is a more generic term it uses instead of the specific errors it should be generating, but I'm not certain what that specific error is.
<br/>
<br/>
Is there a documented limit to struct sizes somewhere that I haven't been able to track down?
<br/>
<br/>
Thanks,
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14288 - Miked0801 - Sat Jan 03, 2004 10:46 pm</h4>
    <div class="postbody"><span class="postbody">What the heck are you trying to do there?  I've not seen that notation before.  It looks like your only assigning a value to a20 and leaving the rest garbage.  Just curious.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14293 - sajiimori - Sat Jan 03, 2004 11:00 pm</h4>
    <div class="postbody"><span class="postbody">A bus error is a crash, which seems to imply that you're encountering a linker bug.
<br/>
<br/>
Any fix suggestions I give would just be speculation -- I don't know if there really is an ld bug, or if the bug was introduced by DevKit Advance, or if it's something corrupted in your installation, or if it's having some funny interaction with the OS or another component on your system.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
