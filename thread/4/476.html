<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Is external WRAM slower even using THUMB? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Is external WRAM slower even using THUMB?</h2>
<div id="posts">
<div class="post">
    <h4>#2780 - nitro2k01 - Wed Feb 12, 2003 4:09 pm</h4>
    <div class="postbody"><span class="postbody">As we all know, you aren't supposed to use ARM code for ext WRAM, because the bus is 16-bit to it. But I heard something about wait states in ext WRAM. Does this mean that reading from/writing to ext. WRAM wont be at full speed, even using thumb?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2781 - tepples - Wed Feb 12, 2003 4:21 pm</h4>
    <div class="postbody"><span class="postbody">EWRAM is 2/2 wait state, meaning that random accesses take 2 extra cycles and sequential accesses also take two extra cycles.  ROM is typically 3/1 wait state: 3 extra cycles random, 1 extra cycle sequential.  Thus, running Thumb code from EWRAM is on average slightly slower than running Thumb code from ROM, but not by much, and the gap closes with more branches.
<br/>
<br/>
Another advantage of putting code in EWRAM is that ROM access is a battery hog.  Often, even with BIOS vblank waiting turned on, my programs will run with a <span style="font-weight: bold"><span style="color: #cc0000">red</span></span> battery light when compiled to run from ROM but with a <span style="font-weight: bold"><span style="color: #009900">green</span></span> battery light when compiled as a multiboot (EWRAM based) program.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2909 - nitro2k01 - Fri Feb 14, 2003 1:27 pm</h4>
    <div class="postbody"><span class="postbody">Does that affect reading/writing too?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2930 - tepples - Fri Feb 14, 2003 4:30 pm</h4>
    <div class="postbody"><span class="postbody">Unfortunately, there are no write FIFOs in the GBA's memory controller. Thus, all wait states affect both reading and writing.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
