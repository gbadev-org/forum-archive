<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Collision detection - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Collision detection</h2>
<div id="posts">
<div class="post">
    <h4>#73797 - ProblemBaby - Tue Feb 28, 2006 3:31 am</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
<br/>
Iam planning to do a platform-game and I need an idea of what kind of info my tiles really needs to do collision detection.
<br/>
<br/>
I want to be able to:
<br/>
Define the whole (or parts) of the tile as unwalkable.
<br/>
Have slopes.
<br/>
<br/>
Whats the best method? Lines, Rects with special Slope flags? I want it to be fast to check for collision, do you have any ideas or experience please tell me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73804 - tepples - Tue Feb 28, 2006 4:25 am</h4>
    <div class="postbody"><span class="postbody">Try a height map for each metatile. <span style="font-style: italic">Sonic 2</span> for Sega Genesis does something similar.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73867 - ProblemBaby - Tue Feb 28, 2006 5:34 pm</h4>
    <div class="postbody"><span class="postbody">But how to they do in super mario world for example...
<br/>
They have one kind of detection that results in collision only downwards (most of the platforms), They have collision from all directions (ie stone blocks) and different kind slopes. What kind of info do you think each metatile contains?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73890 - sajiimori - Tue Feb 28, 2006 7:58 pm</h4>
    <div class="postbody"><span class="postbody">You could enumerate all the possibilities and switch on it in the engine.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// First try
<br/>
enum Type
<br/>
{
<br/>
  TYPE_A_DOWNWARD,
<br/>
  TYPE_A_SOLID,
<br/>
  TYPE_B_DOWNWARD,
<br/>
  TYPE_B_SOLID,
<br/>
  TYPE_C_DOWNWARD,
<br/>
  TYPE_C_SOLID,
<br/>
  TYPE_D_DOWNWARD,
<br/>
  TYPE_D_SOLID,
<br/>
};</td> </tr></table><span class="postbody">
<br/>
If some parts of the list are repetitive (like repeating every type for downward-only and solid collision), separate those parts into their own bits.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// Second try
<br/>
enum Type
<br/>
{
<br/>
  TYPE_A,
<br/>
  TYPE_B,
<br/>
  TYPE_C,
<br/>
  TYPE_D,
<br/>
};
<br/>
<br/>
struct
<br/>
{
<br/>
  int downwardOnly : 1;
<br/>
  int type : 2;
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
Split off bits like that as necessary.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
