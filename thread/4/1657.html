<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>mosaic - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > mosaic</h2>
<div id="posts">
<div class="post">
    <h4>#8432 - whodoo - Thu Jul 10, 2003 1:26 pm</h4>
    <div class="postbody"><span class="postbody">Something is gettin wrong when Im tryin to use mosaic on a background..
<br/>
<br/>
<br/>
the code for this:
<br/>
<br/>
#define SetMosaic(bh,bv,oh,ov) ((bh)+(bv&lt;&lt;4)+(oh&lt;&lt;8)+(ov&lt;&lt;12))
<br/>
<br/>
and then..
<br/>
REG_BG1CNT=0x40;
<br/>
SetMosaic(2,2,0,0);
<br/>
<br/>
the backgroun disappears and all I see is a buncha green squares..whats wrong?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8433 - Quirky - Thu Jul 10, 2003 1:36 pm</h4>
    <div class="postbody"><span class="postbody">A bunch of squares sounds like an accurate desciption of the mosiac effect :)
<br/>
<br/>
You've got the right idea, I think, setting bit 6 of the bg register. You just need to ramp up the mosiac register (0x400004C). I have used this code with success before:
<br/>
<br/>
for (i = 0; i &lt; 16; i++) {
<br/>
  wait_vsync();
<br/>
  REG_MOSAIC = SetMosaic(i,i,0,0); 
<br/>
}</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8434 - whodoo - Thu Jul 10, 2003 2:03 pm</h4>
    <div class="postbody"><span class="postbody">hehe but it?s about..20 small squares (mabye 8x8)..on some random places on the screen..and the rest of the screen is black..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8435 - whodoo - Thu Jul 10, 2003 2:07 pm</h4>
    <div class="postbody"><span class="postbody">only a part of the background is being changed and the rest turns black</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8638 - night_ - Thu Jul 17, 2003 1:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">[quote]REG_BG1CNT=0x40; [/quote]</td> </tr></table><span class="postbody">
<br/>
<br/>
this line does not only set bit 6 of the register to 1, but sets all other bits to 0. What you probably wanna do is to OR the register with 0x40 and assign the result to the register again:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">REG_BG1CNT=REG_BG1CNT| 0x40; </td> </tr></table><span class="postbody">
<br/>
<br/>
which ist the same as :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">REG_BG1CNT|=0x40; </td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8656 - whodoo - Thu Jul 17, 2003 1:08 pm</h4>
    <div class="postbody"><span class="postbody">with the original code I see about 20 small 8x8 blocks on the screen..
<br/>
<br/>
if I use
<br/>
REG_BG1CNT|=0x40;
<br/>
nothing?s happening, I see the background without mosaic..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8657 - whodoo - Thu Jul 17, 2003 1:17 pm</h4>
    <div class="postbody"><span class="postbody">gah silly little me, I found a missed line in my BG-code :) thanks anyways works fine now</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
