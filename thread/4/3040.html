<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Translating, rotating and repeating a sprite - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Translating, rotating and repeating a sprite</h2>
<div id="posts">
<div class="post">
    <h4>#17726 - Lupin - Sat Mar 13, 2004 11:45 am</h4>
    <div class="postbody"><span class="postbody">I am thinking of a way to display my map with some fancy rotating effect (so that i know where is north, west...). Well, i really would like to use hardware sprites.
<br/>
<br/>
I want to load the map as a 64x64 sprite, then translate the map along X/Y depending on the players position (so that the player is always at the center of it), then i want to rotate it depending to the players orientation (so that i know the direction i am flying), but i want the map to repeat!
<br/>
<br/>
I want to put the map into a circle shape too... well, but that's not that important at the moment (i think i can use windows for that... i have no clue about hardware sprites :P)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17727 - poslundc - Sat Mar 13, 2004 2:03 pm</h4>
    <div class="postbody"><span class="postbody">Was there a question here?
<br/>
<br/>
Go do <a class="postlink" href="http://www.thepernproject.com" target="_blank">the Pern tutorials</a> to learn about sprites.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17738 - dagamer34 - Sat Mar 13, 2004 7:07 pm</h4>
    <div class="postbody"><span class="postbody">I think he is past the Pern Project tutorials... 
<br/>
<br/>
But, you do need a question somewhere so we can answer it. The 2nd paragraph sounds more like a request than a question.
<br/>
<br/>
Will this map be on a seperate screen or will it be on an in-gameplay display?
<br/>
<br/>
I was wondering, since we are talking about sprites, is it possible to do  like a mode 7 effect with a sprite? That would make it like the map on say Zelda: LTTP but only smaller. Is that what you want?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17740 - Gopher - Sat Mar 13, 2004 7:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I want to load the map as a 64x64 sprite, then translate the map along X/Y depending on the players position (so that the player is always at the center of it), then i want to rotate it depending to the players orientation (so that i know the direction i am flying), but i want the map to repeat! 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm having a hard time guessing your level of experience with GBA programming. It sounds like you just want a rotation/scaling BG. Is there some reason you want to use a sprite instead of a background?
<br/>
<br/>
Now, as for putting the map into a circle shape, I'm not sure exactly what you mean by that. I don't know what a repeating circular map would be - you can't exactly tesselate a plane with circles. Maybe if you explain what you're trying to accomplish more clearly we can be more helpful.
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I was wondering, since we are talking about sprites, is it possible to do like a mode 7 effect with a sprite? That would make it like the map on say Zelda: LTTP but only smaller. Is that what you want?
<br/>
</td> </tr></table><span class="postbody">
<br/>
I've never tried (or heard of anyone else trying) to pull a mode-7 to perspective-draw a sprite, but I don't see any reason you couldn't update the matrix every hblank just like a background. Only difference is you couldnt make the sprite repeat.<br/>_________________<br/>"Only two things are infinite: the universe, and human stupidity. The first is debatable." -Albert Einstein</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17743 - DekuTree64 - Sat Mar 13, 2004 7:49 pm</h4>
    <div class="postbody"><span class="postbody">I think for the looping you'll have to use 4 sprites, and calculate up their coordinates based on their rotation angles. And yes, a window would work for making it circular. Maybe like put the map sprites behind the BG, and then set the BG to disable inside the window, so they show through.
<br/>
<br/>
Hmm, how big is the map? If it's 32x32 or less, you could just put 4 copies of it into a 64x64 sprite and then all your troubles would be solved. 
<br/>
Or maybe you could put 2D sprite mapping to use and put 4 copies of the sprite data into the sprite memory and move the top left tile around the 2D sprite data like a tile-by-tile map scroller. You could just move the onscreen back 8 pixels when you jump a tile, to give the effect of pixel scrolling. 
<br/>
Or maybe you could do scrolling like most RPGs and sidescrollers do, where you copy in strips of tiles just offscreen. That way there's no limit to how big your map can be.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17746 - Lupin - Sat Mar 13, 2004 7:55 pm</h4>
    <div class="postbody"><span class="postbody">Well, i think deku understood my request. I just want to give the map a circular shape. Well, i think i have to use the 4 sprites method, though i don't know how i would make it repeat forever... The only real problem for me is the repeating part, the other stuff i can lookup somewhere...
<br/>
<br/>
damn it, my digicam just broke and i have no screwdriver for it ;(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
