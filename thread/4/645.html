<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Huge tile-maps, how do they do it? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Huge tile-maps, how do they do it?</h2>
<div id="posts">
<div class="post">
    <h4>#3313 - Mani - Sat Feb 22, 2003 5:57 pm</h4>
    <div class="postbody"><span class="postbody">Does anyone know of a FAQ or sample of how to accomplish those huge maps that most gba-platform games use? 
<br/>
<br/>
Most games use maps that are bigger than the available "map-memory".
<br/>
I know how to use the background layers but there must be some kind of dynamic loading of the maps and tiles, right?
<br/>
<br/>
Hope I was clear enough, my english is not too good.<br/>_________________<br/>---</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3315 - Daikath - Sat Feb 22, 2003 6:08 pm</h4>
    <div class="postbody"><span class="postbody">Uhm.. I dont know to code this but I am planning to make a game wich only has the area a little bit bigger then what is on screen in RAM but if a player walks up it checks what more it needs for that part of the world it is in, along with some extra tiles.
<br/>
<br/>
To explain it more carefully, if a player walks up the tile map deletes the lowest row and shifts every other row one row down and gets a new row at the top.<br/>_________________<br/>?There are no stupid questions but there are a LOT of inquisitive idiots.?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3319 - jenswa - Sat Feb 22, 2003 8:16 pm</h4>
    <div class="postbody"><span class="postbody">Well,
<br/>
<br/>
that's the way to do it,
<br/>
check <a class="postlink" href="http://www.gbajunkie.co.uk" target="_blank">http://www.gbajunkie.co.uk</a> for a tutorial about
<br/>
tilemaps.
<br/>
<br/>
It helped me out fine,
<br/>
<br/>
only i don't use big maps, so i can't help any further.<br/>_________________<br/>It seems this wasn't lost after all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3322 - blindfold - Sat Feb 22, 2003 8:42 pm</h4>
    <div class="postbody"><span class="postbody">to make bigger maps than those 32x32 or 64x64 just do the following:
<br/>
<br/>
1. make a simple map 32x32 - remember to make wrapping on
<br/>
2. when you scroll right, just scroll screen until a scroll value reaches modulo 8 (8, 16, 32 etc...     just use %8)
<br/>
3. when you reach scroll value %8 you have to copy a new strip on the right of the screen (at 32th column)
<br/>
4. and so on
<br/>
<br/>
remember to use a %32 to keep values at 0....31 tile!
<br/>
do the same for all directions
<br/>
<br/>
oh, and you should meet problems when you scroll in both directions, remember to wrap around also a strip to avoid it...
<br/>
<br/>
thats all, if you meet problems, just try an example from a visual ham (there is a level scroll demo), or an example from Emapper (a tile editor... but they have an GBA example of a scroll level engine source), although all examples are a two sides scrolling.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3325 - ampz - Sat Feb 22, 2003 8:55 pm</h4>
    <div class="postbody"><span class="postbody">Yep, that's the way to do it. It's really simple.
<br/>
However, I'd recommend using &amp;7, &amp;15, &amp;31 instead of %8, %16, %32 It's alot faster. (Since the ARM7 does not feature hardware division).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3333 - mbcook - Sun Feb 23, 2003 12:02 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ampz wrote:</b></span></td> </tr> <tr> <td class="quote">Yep, that's the way to do it. It's really simple.
<br/>
However, I'd recommend using &amp;7, &amp;15, &amp;31 instead of %8, %16, %32 It's alot faster. (Since the ARM7 does not feature hardware division).</td> </tr></table><span class="postbody">
<br/>
<br/>
That's really odd. It may not have hardware division, but it does have shift/rotate, right? No computer should be slow when dividing integers by factors of 2, you just shift the value, and the compilier should be smart enough to do this for you. Odd.<br/>_________________<br/>--Michael</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3335 - Mani - Sun Feb 23, 2003 1:38 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>blindfold wrote:</b></span></td> </tr> <tr> <td class="quote">to make bigger maps than those 32x32 or 64x64 just do the following:
<br/>
<br/>
1. make a simple map 32x32 - remember to make wrapping on
<br/>
2. when you scroll right, just scroll screen until a scroll value reaches modulo 8 (8, 16, 32 etc...     just use %8)
<br/>
3. when you reach scroll value %8 you have to copy a new strip on the right of the screen (at 32th column)
<br/>
4. and so on
<br/>
<br/>
remember to use a %32 to keep values at 0....31 tile!
<br/>
do the same for all directions
<br/>
<br/>
oh, and you should meet problems when you scroll in both directions, remember to wrap around also a strip to avoid it...
<br/>
<br/>
thats all, if you meet problems, just try an example from a visual ham (there is a level scroll demo), or an example from Emapper (a tile editor... but they have an GBA example of a scroll level engine source), although all examples are a two sides scrolling.</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks alot mister! (The sample that comes with Emapper did the trick :-))<br/>_________________<br/>---</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3341 - ampz - Sun Feb 23, 2003 3:37 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mbcook wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ampz wrote:</b></span></td> </tr> <tr> <td class="quote">Yep, that's the way to do it. It's really simple.
<br/>
However, I'd recommend using &amp;7, &amp;15, &amp;31 instead of %8, %16, %32 It's alot faster. (Since the ARM7 does not feature hardware division).</td> </tr></table><span class="postbody">
<br/>
<br/>
That's really odd. It may not have hardware division, but it does have shift/rotate, right? No computer should be slow when dividing integers by factors of 2, you just shift the value, and the compilier should be smart enough to do this for you. Odd.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, some compilers are smart enough to substitute divisions by factors of two with shift operations. But not all of them, I'am not sure GCC is smart enough to do it.
<br/>
And, in this case it's a modulo operation. It can be substituted by a shift and a substraction, or by a single AND operation. Not all compilers are smart enough to do theese kinds of substitutions. To be on the safe side, I always make the substitutions myself.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3365 - blindfold - Sun Feb 23, 2003 5:26 pm</h4>
    <div class="postbody"><span class="postbody">oh, yeah, it's true, you can use a &amp;31 instead of %32 (and so on..), just like shifting instead of division</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
