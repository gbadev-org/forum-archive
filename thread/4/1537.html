<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Why can't I see the source in arm-gdb? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Why can't I see the source in arm-gdb?</h2>
<div id="posts">
<div class="post">
    <h4>#7829 - fawnha - Thu Jun 26, 2003 3:44 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
 I am trying to debug using arm-gdb but when I select SOURCE it returns to assembly output (and selects ASSEMBLY). When I select MIXED it does show mixed output. Can anyone suggest why I can't see the source? I think it might be something to do with how I compile the program. My NMAKE file is as follows (the name of the program is "Third Strike" and I have one source file called "main.c"):
<br/>
<br/>
CFLAGS = -c -O0
<br/>
MODEL = -mthumb -mthumb-interwork 
<br/>
<br/>
all : thirdstrike.bin
<br/>
<br/>
thirdstrike.bin : thirdstrike.elf
<br/>
	objcopy -O binary thirdstrike.elf thirdstrike.bin
<br/>
<br/>
thirdstrike.elf : main.o
<br/>
	gcc $(MODEL) -g -o thirdstrike.elf main.o
<br/>
<br/>
main.o : main.c
<br/>
	gcc $(CFLAGS) -g $(MODEL) main.c
<br/>
<br/>
   Thanks for any help,
<br/>
      Hamish</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7836 - Drago - Thu Jun 26, 2003 10:03 am</h4>
    <div class="postbody"><span class="postbody">Try using -ggdb. Im not sure if you can use both -g and -ggdb but I think -ggdb may help...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7864 - ampz - Fri Jun 27, 2003 4:00 am</h4>
    <div class="postbody"><span class="postbody">What's wrong with using the mixed mode?
<br/>
It's the best mode anyway.
<br/>
<br/>
You are using gdb in combination with an GBA emulator I guess?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7866 - fawnha - Fri Jun 27, 2003 7:07 am</h4>
    <div class="postbody"><span class="postbody">Drago, I have tried using -ggdb. It didn't help. I haven't tried it with -g though.
<br/>
<br/>
ampz, yes, I am using GDB with VisualBoyAdvance</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
