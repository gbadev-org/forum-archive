<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Tile data differences between 16 and 256 color tiles - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Tile data differences between 16 and 256 color tiles</h2>
<div id="posts">
<div class="post">
    <h4>#43805 - jarobi - Thu May 26, 2005 10:21 pm</h4>
    <div class="postbody"><span class="postbody">I'm making a map editor for the gba and I'm a little bit confused about the difference in structure between 16 color tile data and 256 color tile data.  I know that in 256 color tile data that each value is an index into the background palette for text backgrounds.  However, I do not know how this works with 16 color tiles.  I don't know whether 16 color palettes are indexed in this way:
<br/>
0, 1, 2, 3, ..., 15
<br/>
16, 17, 18, ..., 31
<br/>
...253, 254, 255
<br/>
<br/>
or in this way:
<br/>
0, 1, 2, ..., 15
<br/>
0, 1, 2, ..., 15
<br/>
...
<br/>
0, 1, 2, ..., 15
<br/>
<br/>
I therefore do not know what to put into 16 color tile data so that I do not get a bunch of garbage when I export it to a header file. If the 16 color palettes are indexed like the second example, then that would leave me to believe that identical numbers in tile data can correspond to different colors depending on which palette is used to generate the color.
<br/>
<br/>
By the way, the map editor that I am working on is written in Java.<br/>_________________<br/>Nihongo o hanasemasen!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43817 - MrD - Fri May 27, 2005 12:17 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">or in this way:
<br/>
0, 1, 2, ..., 15
<br/>
0, 1, 2, ..., 15
<br/>
...
<br/>
0, 1, 2, ..., 15 
<br/>
<br/>
If the 16 color palettes are indexed like the second example, then that would leave me to believe that identical numbers in tile data can correspond to different colors depending on which palette is used to generate the color. </td> </tr></table><span class="postbody">
<br/>
<br/>
Bingo!
<br/>
<br/>
When bit7 in REG_BGxCNT is unset, the background will be based on 16 colour tiles. Each sub-pallete then acts as a seperate source of 16 colours and when the tile-map is filled with map entries, you specify the Sub-Palette for each tile to use. You can see this effect if you open a game in Visual Boy Advance and look at the tile viewer, you can preview each tile in memory is any of the 16 palettes.
<br/>
<br/>
Each actual tile will therefore simply be a list of 64 4-bit numbers referring to the colour within the sub-palette to use. This allows you to use the same tile graphics again except using different colours. 
<br/>
<br/>
<a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/regbg.htm#map_reg" target="_blank">http://user.chem.tue.nl/jakvijn/tonc/regbg.htm#map_reg</a> contains a better explanation of tiled backgrounds and their map entries.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43926 - jarobi - Sat May 28, 2005 7:53 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the info!<br/>_________________<br/>Nihongo o hanasemasen!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
