<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Question on tile sizes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Question on tile sizes</h2>
<div id="posts">
<div class="post">
    <h4>#72503 - gs2phateon - Sun Feb 19, 2006 5:17 am</h4>
    <div class="postbody"><span class="postbody">About how much space do tiles take up on the tile modes?  The reason for my asking is that I'm trying to get a large map to scroll around on Tile Mode 0.  The palette is small enough that I don't have to worry about size, and I can load pieces of the map while the program is running.  But I can't find any other way around loading all the tiles at once at the beginning of the program.  Is there any way to load tiles dynamically?
<br/>
<br/>
If not (which is OK), how many tiles can I fit onto 2 Character Base Blocks?  If I limit the tile size of each map, I can just break a single large map into smaller ones and load them during the game.  Any help would be much appreciated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72506 - tepples - Sun Feb 19, 2006 6:10 am</h4>
    <div class="postbody"><span class="postbody">In 16-color mode: Each tile takes up 32 bytes, and a 16 KB CHR block can hold up to 512 tiles.
<br/>
In 256-color mode: Each tile takes up 64 bytes, and a 16 KB CHR block can hold up to 256 tiles.
<br/>
<br/>
In all "text" modes (BG0-3 of mode 0 and BG0-1 of mode 1), each 32x32 tile map takes up 2048 bytes.
<br/>
<br/>
If you are a beginner, it is best to use CHR blocks 0 through 2 and maps 24 through 31, which do not overlap.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72517 - n0va - Sun Feb 19, 2006 1:44 pm</h4>
    <div class="postbody"><span class="postbody">How big a map? Maps usually mean a place that has more or less the same features, hence having tiles that recur all the time. For instance, world maps in RPGs usually have ground, water, forest, mountain, and towns most of the time. RPG Towns on the other hands has buildings and doodads. My advice is if it needs way too many different tiles, make them separate maps.
<br/>
<br/>
BUT if you feel that it really needs to be in the same map, use DMA to copy portions of your tiles that you need. Have your dynamic map loader detect the tiles that are needed and swap them with unused tiles accordingly. I can't think of an elegant solution that will work but, that's just me with my uncomplicated mind. So there you go, my opinion ^^ Good luck and if you do find a way, please post it.
<br/>
<br/>
 - n0va</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72592 - gs2phateon - Mon Feb 20, 2006 6:19 am</h4>
    <div class="postbody"><span class="postbody">I'm actually making a sidescroller.  I don't really want to have to separate the maps, just because it's more of a hassle in the code.  However, I'm using parallax scrolling, so I can have the repeating background make up for the huge gaps I'll have to leave in the foreground.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72606 - n0va - Mon Feb 20, 2006 10:46 am</h4>
    <div class="postbody"><span class="postbody">Since you are using two BGs for the background (assumption based on "Repeating Background" and "Huge Gaps in Foreground"), why not use 2 char base blocks then? You'll have a total of 1024 (16colors) / 512 (256 colors) tiles for use, and that is really more than you'll ever need.
<br/>
<br/>
<br/>
In my opinion, A sidescroller is not much different from an RPG tile-wise. Maps are designed according to the surroundings and it's a little ridiculous to me if someone tries to make a map that brings you from the Sahara to Niagara Falls, and then to the Arctic, it's just too weird. But if you're making the tiles of a consistent theme, consider shrinking your tileset. That 4 tiles of grass that repeats itself can look as good, if not better, with just 2 tiles (etc.)
<br/>
<br/>
- n0va<br/>_________________<br/>n0va
<br/>
Currently working on a Pacman clone (50% done) and a dynamic map loader (0% done).
<br/>
Just completed a tile-mode text renderer (90% genericity).</span><span class="gensmall"><br/><br/>Last edited by n0va on Tue Feb 21, 2006 12:07 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#72630 - Cearn - Mon Feb 20, 2006 5:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>n0va wrote:</b></span></td> </tr> <tr> <td class="quote">Since you are using two BGs for the background (assumption based on "Repeating Background" and "Huge Gaps in Foreground"), why not use 2 char base blocks then? You'll have a total of 1024 (16colors) / 512 (256 colors) tiles for use, and that is really more than you'll ever need.
<br/>
</td> </tr></table><span class="postbody">
<br/>
Because you have 10 bits per screenblock entry, you already have 1024 tiles to play with for each background, regardless of bitdepth *. Effectively, 4bpp bgs can use all tiles from 2 charblocks and 8bpp from 4 blocks. 
<br/>
<br/>
If you had to, you could use 2 bgs and thus use all 4 charblocks, except the memory that the maps themselves require. This gives you a theoretical tile range of nearly 2000. How many unique tiles are you using right now?
<br/>
___
<br/>
<span style="font-size: 9px; line-height: normal">* as long as they are inside the BG charblocks; you can't use the sprite blocks for backgrounds.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72641 - gs2phateon - Mon Feb 20, 2006 7:27 pm</h4>
    <div class="postbody"><span class="postbody">I actually did try using 2 character blocks.  I made this absolutely HUGE map to test how the scrolling works, and I didn't have any trouble.  But what I was trying to do was take that huge map, and apply it to my game demo, involving parallax scrolling.  I was having some trouble with it.  If it's caused by space limitation, the only thing that could possibly cause it is using too many tiles.  But now you're saying that it might not be the tiles.  Anyway, I was just thinking about shaving off part of the huge map, just to be sure, and trying to put it in the game demo.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72642 - Cearn - Mon Feb 20, 2006 7:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gs2phateon wrote:</b></span></td> </tr> <tr> <td class="quote">I actually did try using 2 character blocks.  I made this absolutely HUGE map to test how the scrolling works, and I didn't have any trouble.  But what I was trying to do was take that huge map, and apply it to my game demo, involving parallax scrolling.  I was having some trouble with it.  If it's caused by space limitation, the only thing that could possibly cause it is using too many tiles.  But now you're saying that it might not be the tiles.  Anyway, I was just thinking about shaving off part of the huge map, just to be sure, and trying to put it in the game demo.</td> </tr></table><span class="postbody">
<br/>
One things that has worried me from the start of this thread is the word 'tile'.  The term is sometimes used for both the graphics (contents of the char blocks) and the map data (contents of the screen-blocks). Which are you referring to? I'm asking because while the size of the map affects the number of 'screen-entries' (the things that go into the screen blocks), the number of 'tiles' (the graphics, contents of char blocks) is essentially independent, though the map may get repetetetive.
<br/>
So to be sure, which of the two are you worried about? And as a question to other readers: what are the industry terms for both of these? Can anyone tell me?
<br/>
<br/>
In any case, the map editor should be able to tell you the size of the tileset, as well as the map size. Can you give us these numbers?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72698 - gs2phateon - Tue Feb 21, 2006 2:32 am</h4>
    <div class="postbody"><span class="postbody">Sorry about that, I'm talking about the tiles that are stored in the character base blocks, the part of the graphics that is made up of individual pixels, not the total map.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72699 - tepples - Tue Feb 21, 2006 2:34 am</h4>
    <div class="postbody"><span class="postbody">In that case, you can assume that you can use the first 3 CHR blocks and half of the last one, for a total of 512*3 + 256 = 1792 distinct 16-color tiles.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72777 - naleksiev - Tue Feb 21, 2006 6:06 pm</h4>
    <div class="postbody"><span class="postbody">For my scrolling game I'm using background 256x256 pixels (32x32 tiles). The screen size is 240x160 pixels (30x20 tiles). When I'm scrolling the map I'm updateing the background tiles. For my game it's fast enough. I'm newbie in GBA/ARM so I can't tell you is it pretty fast or this is only good in my game but you need to set only 31 bytes (you can make it 32 because the vedeo memory must be used only as 16bits) when you scroll verticaly and 21 (22) for horizontaly. Just update only one row/col when you scroll your map. I don't have any size limits of my backgrounds.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72787 - Cearn - Tue Feb 21, 2006 7:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gs2phateon wrote:</b></span></td> </tr> <tr> <td class="quote">Sorry about that, I'm talking about the tiles that are stored in the character base blocks, the part of the graphics that is made up of individual pixels, not the total map.</td> </tr></table><span class="postbody">
<br/>
Thought so, but I just had to be sure. Especially since 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>naleksiev wrote:</b></span></td> </tr> <tr> <td class="quote">When I'm scrolling the map I'm updating the background <span style="font-weight: bold">tiles</span> ... </td> </tr></table><span class="postbody">, by which I'm sure he means the <span style="font-style: italic">other</span> kinds of tiles, the screenblock entries. And yes, that solution would be the fastest way of dealing with big maps.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">In that case, you can assume that you can use the first 3 CHR blocks and half of the last one, for a total of 512*3 + 256 = 1792 distinct 16-color tiles.</td> </tr></table><span class="postbody">
<br/>
Nitpick: that's 3? charblocks, not 3?. One screenblock is 1/8th of a charblock.  4 blocks minus 2*1/8 for the two screenblocks= 3?.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72792 - tepples - Tue Feb 21, 2006 8:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cearn wrote:</b></span></td> </tr> <tr> <td class="quote">Nitpick: that's 3? charblocks, not 3?. One screenblock is 1/8th of a charblock.  4 blocks minus 2*1/8 for the two screenblocks= 3?.</td> </tr></table><span class="postbody">
<br/>
I was leaving space for expansion into the other two screenblocks (one for a HUD and one for blend effects).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
