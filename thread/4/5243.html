<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Debugging with insight and VBA 1.7.2 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Debugging with insight and VBA 1.7.2</h2>
<div id="posts">
<div class="post">
    <h4>#38067 - Quirky - Mon Mar 21, 2005 12:26 pm</h4>
    <div class="postbody"><span class="postbody">I'm having some problems getting the recent versions of VisualBoyAdvance to debug. I'm using GNU/Linux witht the Insight/GBD 6.1 and compiling my arm elf files with with devkitARM r11. Up to VBA 1.7, everything works fine, but with 1.7.1 it fails to load any symbols for the built in debugger, and with 1.7.2 it fails to hit any breakpoints.
<br/>
<br/>
I haven't been able to use the -Gpipe method, gdb tells me that it  but using tcp works in 1.7 as follows:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
&gt; VisualBoyAdvance-1.7 mygame.elf -Gtcp
<br/>
Listening for a connection at port 55555
<br/>
<br/>
&gt; arm-thumb-elf-insight mygame.elf
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Then I connect to target on port 55555, and I can debug to my hearts content. The same thing works on 1.7.1, but the built in debugger (which seems to be the only way to debug assembler) doesn't run. In 1.7.2 , the debugger starts at _start, but then if I place a breakpoint at main, it is never reached. In fact, the screen remains white, the same as when a broken rom is loaded.
<br/>
<br/>
Is this a bug in VBA or perhaps the devkitARM elf files are different to earlier elfs or perhaps it's something else that I've overlooked? If a bug in VBA, I find it hard to believe that it hasn't been mentioned earlier, 1.7.2 has been out for a good few months, or is it that no one uses the debugging?
<br/>
[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38075 - wintermute - Mon Mar 21, 2005 5:32 pm</h4>
    <div class="postbody"><span class="postbody">1.7.1 SDL version of VBA works fine for me - I've never had any success in getting other versions of VBA to debug with Insight.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38123 - Quirky - Tue Mar 22, 2005 11:43 am</h4>
    <div class="postbody"><span class="postbody">The 1.7.1 works fine with Insight here too, but the built in assembler debugger doesn't in that version. There are several differences in the source code between 1.7.1 and 1.7.2, as the core code was seperated out from the front end stuff. I wondered if perhaps debugging had been broken in the process or if it was something I was doing wrong. If you're having problems too, I imagine there really is a problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38328 - brucesinner - Sat Mar 26, 2005 9:12 am</h4>
    <div class="postbody"><span class="postbody">I had problems in debugging with 1.7.1 and 1.7.2 too.
<br/>
<br/>
They never stops at breakpoints, have problems stopping at main() and stuff.
<br/>
<br/>
Switched back to old 1.7 and everything went ok again. Perhaps you should do the same.
<br/>
<br/>
regards</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
