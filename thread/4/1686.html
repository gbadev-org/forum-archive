<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>3D polys to 2D images? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > 3D polys to 2D images?</h2>
<div id="posts">
<div class="post">
    <h4>#8555 - DracoX5 - Mon Jul 14, 2003 6:55 am</h4>
    <div class="postbody"><span class="postbody">I'm making a program that has to make 2D images of 3D scenes. How would I go about calculating where 3D vertices of a polygon would go on a 2D image of it, given a certain angle?
<br/>
<br/>
For example: a triangle with points (0,0,0), (0,-5,0), (3,2,2) looks somthing like this if the z axis is pointed straight out:
<br/>
<br/>
<a href="http://www.angelfire.lycos.com/dragon/draco_x5/triangle.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
Calculating this is easy; just drop the z coords. But if I had a different viewing angle, how would I get the points?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8558 - Touchstone - Mon Jul 14, 2003 5:30 pm</h4>
    <div class="postbody"><span class="postbody">I think you're a bit off asking that question here.
<br/>
<br/>
I don't say people here can't help but this is a place where people discuss gba programming and related stuff. It's like asking about airplanes in a car discussion forum. "Hey guys, I'm creating a flying machine. How can I make it fly? I figure it has something to do with the wings and aerodynamics and stuff."
<br/>
<br/>
It's not necessarily wrong to ask that question here but you are more likely to get help if you ask this question where people primary discuss 3D math.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8559 - peebrain - Mon Jul 14, 2003 6:37 pm</h4>
    <div class="postbody"><span class="postbody">Actually, you're supposed to divide by the z coordinate if you want it to be perspective.  You can drop the z coord if you want it to be like a CAD program.  For example, if you make a box, using the perspective divide by z method, viewing the box head on you get what looks like a square inside another square with lines connecting the corners.  Using the drop-z-coord method you just get a square.  Let's see if I can ascii it.... (this should be interesting)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
screen.x = point.x / point.z
<br/>
screen.y = point.y / point.z
<br/>
<br/>
+-----+
<br/>
|\   /|
<br/>
| +-+ |
<br/>
| +-+ |
<br/>
|/   \|
<br/>
+-----+
<br/>
<br/>
<br/>
screen.x = point.x
<br/>
screen.y = point.y
<br/>
<br/>
+-----+
<br/>
|     |
<br/>
|     |
<br/>
|     |
<br/>
|     |
<br/>
+-----+
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I suggest reading the book The Black Art of 3d Game Programming by Andre LaMothe.  It explains a lot of the basics behind 3d graphics in a real clear and easy to understand way.
<br/>
<br/>
Basically what I'm saying is: If you just drop the z coordinate, things far away will be the same size as things close.  If you divide by the z coordinate, things close will be bigger, and things far away will be smaller.
<br/>
<br/>
~Sean<br/>_________________<br/><a href="http://www.pbwhere.com" target="_blank">http://www.pbwhere.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8562 - DekuTree64 - Mon Jul 14, 2003 7:00 pm</h4>
    <div class="postbody"><span class="postbody">Sounds like what you need is matrix math, particularly a rotation matrix. <a class="postlink" href="http://www.gamedev.net/reference/articles/article1691.asp" target="_blank">http://www.gamedev.net/reference/articles/article1691.asp</a> is a good FAQ on it. Doesn't really explain things, but it does tell you what to do. The gamedev.net math section (<a class="postlink" href="http://www.gamedev.net/reference/list.asp?categoryid=28" target="_blank">http://www.gamedev.net/reference/list.asp?categoryid=28</a>) is the best place I know to find matrix tutorials.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8568 - DracoX5 - Mon Jul 14, 2003 9:56 pm</h4>
    <div class="postbody"><span class="postbody">Okay, I think I understand it now!
<br/>
<br/>
In order to get a different perspective I would have to rotate all the polys in the image around based on what perspective I have, then divide then divide the x and y coords by the z to get the 2D x and y.
<br/>
<br/>
But one question remains: If the z coord is 0, what do I do? Would I just use 1 to divide by instead?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8569 - DracoX5 - Mon Jul 14, 2003 11:16 pm</h4>
    <div class="postbody"><span class="postbody">I took a look at the formulas at the websites DekuTree64 gave me and they work great, but when I tried using the divide-by-z method, the whole thing gets screwy.
<br/>
<br/>
I then realized (can't believe that I actually forgot it) that 0 is the same as 360 in any trig function. So everything works now!
<br/>
<br/>
Thanks everyone!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
