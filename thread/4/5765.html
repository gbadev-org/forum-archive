<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Iterator idiocy.... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Iterator idiocy....</h2>
<div id="posts">
<div class="post">
    <h4>#43136 - blaisef01 - Thu May 19, 2005 12:23 pm</h4>
    <div class="postbody"><span class="postbody">Can any one tell me why this doesn't compile?
<br/>
<span style="font-weight: bold">
<br/>
/*--------------------
<br/>
   C INCLUDES
<br/>
--------------------*/
<br/>
#include &lt;stdio.h&gt;
<br/>
#include &lt;string.h&gt;
<br/>
#include &lt;ctype.h&gt;
<br/>
#include &lt;stdarg.h&gt;
<br/>
#include &lt;math.h&gt;
<br/>
<br/>
/*--------------------
<br/>
   CPP INCLUDES
<br/>
--------------------*/
<br/>
#include &lt;string&gt;
<br/>
#include &lt;list&gt;
<br/>
<br/>
/*--------------------
<br/>
   NDS INCLUDES
<br/>
--------------------*/
<br/>
#include &lt;NDS/NDS.h&gt;
<br/>
#include &lt;NDS/DMA.h&gt;			
<br/>
#include &lt;NDS/ARM9/trig_lut.h&gt;	
<br/>
#include &lt;NDS/ARM9/math.h&gt;  	 
<br/>
#include &lt;NDS/ARM9/video.h&gt; 
<br/>
#include &lt;NDS/ARM9/videogl.h&gt;	
<br/>
#include &lt;NDS/registers_alt.h&gt; 
<br/>
<br/>
/*--------------------
<br/>
   CLASSES
<br/>
--------------------*/
<br/>
class Unit {
<br/>
public:
<br/>
   std::string name;
<br/>
<br/>
public:
<br/>
   Unit() {}
<br/>
};
<br/>
<br/>
template&lt;class T&gt;
<br/>
class UnitList : public std::list&lt;T&gt; {
<br/>
public:
<br/>
void IteratorDontWork() {std::list&lt;T&gt;::iterator it = begin();}
<br/>
};
<br/>
<br/>
/*--------------------
<br/>
   GLOBALS
<br/>
--------------------*/
<br/>
UnitList&lt;Unit&gt; TheList;
<br/>
<br/>
/*----------------------------------------------
<br/>
    Function: main()
<br/>
    Purpose:  Main Program Loop Entry Point
<br/>
    Inputs:   None
<br/>
    Outputs:  Exit Flag
<br/>
----------------------------------------------*/
<br/>
int main(int argc, char ** argv) 
<br/>
{	
<br/>
   return 0;
<br/>
}
<br/>
</span>
<br/>
<br/>
When I attempt to compile I get this error: expected `;' before "it"
<br/>
I'm beyond confused, it's probably just a simple schoolboy error but still i'm baffled. I'm currently running off NDSEnv 2.3.0 and running out of ideas and sanity.
<br/>
<br/>
Cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43137 - Mr Snowflake - Thu May 19, 2005 12:33 pm</h4>
    <div class="postbody"><span class="postbody">I'm not really into classes in C but I think you have a space to much no?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void IteratorDontWork() {std::list&lt;T&gt;::iterator it = begin();</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43139 - blaisef01 - Thu May 19, 2005 12:49 pm</h4>
    <div class="postbody"><span class="postbody">Cheers Mr Snowflake. for the suggestion but that unfortunately that doesn't seem to be it or i'm an idiot and don't understand what you mean.
<br/>
<br/>
I tried out the same code in Visual C++ using the MFC libs and it compiles fine. Try it with all this devkitarm malarky and it doesn't want any of it :(
<br/>
<br/>
this compiles:
<br/>
void IteratorDontWork() {std::list&lt;char&gt;::iterator it; it = this-&gt;begin();}
<br/>
<br/>
while this doesn't:
<br/>
void IteratorDontWork() {std::list&lt;T&gt;::iterator it; it = this-&gt;begin();}
<br/>
<br/>
and it returns these errors:
<br/>
error: expected `;' before "it"
<br/>
error: `it' undeclared (first use this function)
<br/>
<br/>
why?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43165 - Quirky - Thu May 19, 2005 7:06 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include &lt;list&gt;
<br/>
<br/>
template&lt;class T&gt;
<br/>
class UnitList : public std::list&lt;T&gt;
<br/>
{
<br/>
  public:
<br/>
    void IteratorDontWork(){
<br/>
      typedef typename std::list&lt; T &gt;::iterator iterator_t;
<br/>
      iterator_t  t = this-&gt;begin();
<br/>
    };
<br/>
};
<br/>
<br/>
typedef UnitList&lt;int&gt; IntList;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I have no idea if this does what you want, but it seems to compile.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43203 - blaisef01 - Fri May 20, 2005 7:19 am</h4>
    <div class="postbody"><span class="postbody">That typedef typename stuff worked a treat.
<br/>
<br/>
Cheers dude,</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
