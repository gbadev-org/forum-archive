<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>sprite questions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > sprite questions</h2>
<div id="posts">
<div class="post">
    <h4>#99696 - pkwong - Wed Aug 23, 2006 11:36 am</h4>
    <div class="postbody"><span class="postbody">i have a sprite that is 144x8 
<br/>
seems that it's much wider than the sprite size... 
<br/>
what can i do instead of treating it as 5 32x8 sprites? 
<br/>
<br/>
one more question, 
<br/>
if i have a sprite that i wanted to display in two or more locations, 
<br/>
do i need to create more than 1 identical sprites? 
<br/>
<br/>
thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99707 - tepples - Wed Aug 23, 2006 1:58 pm</h4>
    <div class="postbody"><span class="postbody">Most games do in fact treat odd-size sprites such as that one as multiple sprites.
<br/>
<br/>
If you want to display the same sprite cel in more than one location, load the sprite cel into VRAM and then have multiple sprites (multiple OAM entries) point attribute 2 to it.
<br/>
<br/>
Shadowed because it applies equally well to the GBA and DS.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99719 - pkwong - Wed Aug 23, 2006 3:59 pm</h4>
    <div class="postbody"><span class="postbody">many thanks for the fast answer!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100043 - pkwong - Fri Aug 25, 2006 7:37 pm</h4>
    <div class="postbody"><span class="postbody">more questions...
<br/>
<br/>
my situation is, i got some sprites of 16bit color. i convert them into 256 and then put them in SPRITE_GFX and SPRITE_PALETTE.
<br/>
first few sprties displayed fine, but the others are corrupted, i think it's because my palettes exceeds 256... i dunno how to extend the mem...simply using vramSetBank doesn't help.
<br/>
<br/>
after some search in this forum, i tried to use the bmp mode by setting ATTR0_BMP. everything worked great! but just on the emulator(dualis)...
<br/>
it can display my bg, just the sprites are not working on the real hardware. got any hints?
<br/>
<br/>
i'll quote some of my code here:
<br/>
<br/>
init:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">powerON(POWER_ALL);
<br/>
   videoSetMode(MODE_5_2D | DISPLAY_SPR_ACTIVE | DISPLAY_BG3_ACTIVE | DISPLAY_SPR_1D_BMP);
<br/>
<br/>
   videoSetModeSub(MODE_5_2D | DISPLAY_SPR_ACTIVE | DISPLAY_BG3_ACTIVE | DISPLAY_SPR_1D_BMP);
<br/>
   
<br/>
    vramSetMainBanks(   VRAM_A_MAIN_BG, VRAM_B_MAIN_SPRITE,
<br/>
                  VRAM_C_SUB_BG , VRAM_D_SUB_SPRITE);</td> </tr></table><span class="postbody">
<br/>
<br/>
copying the gfx, i've set BIT(15) already
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">memcpy(SPRITE_GFX + spriteID[0],white_Sprite, spriteSize[0]);</td> </tr></table><span class="postbody">
<br/>
<br/>
putting into the sprite entry, it's a 16x8 sprite
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   spritesMain[0].attribute[0] = ATTR0_BMP | ATTR0_WIDE | i;
<br/>
   spritesMain[0].attribute[1] = ATTR1_SIZE_8 | notes_pos_x[1];
<br/>
   spritesMain[0].attribute[2] = tileID[0];</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100077 - tepples - Fri Aug 25, 2006 11:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pkwong wrote:</b></span></td> </tr> <tr> <td class="quote">my situation is, i got some sprites of 16bit color. i convert them into 256 and then put them in SPRITE_GFX and SPRITE_PALETTE.
<br/>
first few sprties displayed fine, but the others are corrupted, i think it's because my palettes exceeds 256... i dunno how to extend the mem...simply using vramSetBank doesn't help.</td> </tr></table><span class="postbody">
<br/>
Did you try converting all the hi-color sprites to <span style="font-style: italic">the same</span> 256-color palette? Have you tried converting them to 16-color mode?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100105 - pkwong - Sat Aug 26, 2006 5:06 am</h4>
    <div class="postbody"><span class="postbody">ya, i tried to convert them with PAGfx. it displays fine but there are too many palette to fit into SPRITE_PALETTE.
<br/>
i checked in dualis, the excess palettes overflow to the sub bg palette...
<br/>
is there any way to extend the size?
<br/>
<br/>
i think 16 color may do the work, but it really doesn't look good... :P
<br/>
so i want to try others first.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100190 - pkwong - Sat Aug 26, 2006 7:49 pm</h4>
    <div class="postbody"><span class="postbody">hm...
<br/>
i was trying to use extended palette..but no luck
<br/>
here's what i did, anything missing or wrong?
<br/>
<br/>
1. enable DISPLAY_SPR_EXT_PALETTE
<br/>
2. set VRAM_E to LCD mode
<br/>
3. copy the palettes to VRAM_E
<br/>
4. set VRAM_E to VRAM_E_OBJ_EXT_PALETTE
<br/>
<br/>
i checked the palettes in dualis and they are fine
<br/>
and the DS is still reading from the original SPRITE_PALTTE's address</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100201 - pkwong - Sat Aug 26, 2006 8:21 pm</h4>
    <div class="postbody"><span class="postbody">figured out!
<br/>
i should use VRAM_F instead of E...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
