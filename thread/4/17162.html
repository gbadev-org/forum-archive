<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>devkitARM linker broken? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > devkitARM linker broken?</h2>
<div id="posts">
<div class="post">
    <h4>#173073 - Ruben - Fri Mar 19, 2010 2:55 pm</h4>
    <div class="postbody"><span class="postbody">Hi.
<br/>
<br/>
I was working on my small just-for-the-fun-of-it game [using my own linkscripts + cart files]... and I came across a strange problem.
<br/>
<br/>
At first, it would link fine but... it would place some of my RAM sections in BSS, even though they were initialized and explicitly declared to be in RAM. However, when I placed some more safeguards [like ALIGN(4) on the VMA] in the linkscript, it came up with...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">d:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.4.3/../../../../arm-eabi/bin/ld.exe: region `ram' overflowed by -37703456 bytes</td> </tr></table><span class="postbody">
<br/>
I'm not 100% sure but... isn't a negative overflow a problem with the linker, rather than my code?
<br/>
<br/>
[it was working a few minutes ago, when the size was around 200KB bigger]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173074 - wintermute - Fri Mar 19, 2010 4:57 pm</h4>
    <div class="postbody"><span class="postbody">Most likely culprit is your linkscript.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173075 - Ruben - Fri Mar 19, 2010 4:59 pm</h4>
    <div class="postbody"><span class="postbody">That's odd, as it's 99% based on libnds' linkscript, just without the debug sections. I've already tried adding them, and while it linked fine, my RAM data ended up in BSS. Any ideas?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173078 - wintermute - Fri Mar 19, 2010 5:35 pm</h4>
    <div class="postbody"><span class="postbody">not a clue, sorry.
<br/>
<br/>
your ram data ending up in bss is a pretty big hint that you've got problems with your linkscript.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
