<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Rotating around a point - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Rotating around a point</h2>
<div id="posts">
<div class="post">
    <h4>#17689 - Lupin - Fri Mar 12, 2004 5:33 pm</h4>
    <div class="postbody"><span class="postbody">I am currently working on a voxel renderer and i have a mathematical problem. My airplane is right in front of my view, so if i rotate my plane i don't want to rotate around the cameras position but around the actual plane! What i am doing now is just rotating around my camera position.
<br/>
<br/>
How can i rotate my camera position around my plane? The problem i got is that i also have a angle of the camera that got to be changed too (but i think i just got to subtract the amount of rotation for it).
<br/>
<br/>
Well, i hope you understood my question :)
<br/>
<br/>
A explanation on how to rotate a point around another point in 2D space would help a lot too!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17691 - shadow_gg - Fri Mar 12, 2004 6:12 pm</h4>
    <div class="postbody"><span class="postbody">hello,that's strange u can do a voxel but u don't know how to rotate points!
<br/>
so simple!
<br/>
 the formulaes for rotating around a point are:
<br/>
(that comes from GBATEK and it is good)
<br/>
<br/>
Calculating Rotation/Scaling Parameters A-D
<br/>
  A = Cos (alpha) / xMag    ;distance moved in direction x, same line
<br/>
  B = Sin (alpha) / xMag    ;distance moved in direction x, next line
<br/>
  C = Sin (alpha) / yMag    ;distance moved in direction y, same line
<br/>
  D = Cos (alpha) / yMag    ;distance moved in direction y, next line
<br/>
<br/>
<br/>
<br/>
Calculating the position of a rotated/scaled dot
<br/>
Using the following expressions,
<br/>
  x0,y0    Rotation Center
<br/>
  x1,y1    Old Position of a pixel (before rotation/scaling)
<br/>
  x2,y2    New position of above pixel (after rotation scaling)
<br/>
  A,B,C,D Parameters (as calculated above)
<br/>
<br/>
<br/>
the following formula can be used to calculate x2,y2:
<br/>
  x2 = A(x1-x0) + B(y1-y0) + x0
<br/>
  y2 = C(x1-x0) + D(y1-y0) + y0
<br/>
<br/>
<br/>
for the rotation of ur camera, just add the angle of rotation to ur camera angle!
<br/>
 I hope it will help u
<br/>
good luck!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17728 - Lupin - Sat Mar 13, 2004 2:07 pm</h4>
    <div class="postbody"><span class="postbody">Thank you!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17729 - Lupin - Sat Mar 13, 2004 2:27 pm</h4>
    <div class="postbody"><span class="postbody">It doesn't work... I tried to test it using windows, but it didn't work..
<br/>
<br/>
I found out that it should be:
<br/>
xnew=(xold-x0)*cos(phi)+(yold-y0)*sin(phi)+x0
<br/>
ynew=-(xold-x0)*sin(phi)+(yold-y0)*cos(phi)+y0</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
