<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Insight VBA Help! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Insight VBA Help!</h2>
<div id="posts">
<div class="post">
    <h4>#18002 - regularkid - Thu Mar 18, 2004 8:20 am</h4>
    <div class="postbody"><span class="postbody">Ok, I can't seem to get insight working with VisualBoy advance on windows me. I've looked all over these forums for help and on the internet but can't seem to find a step by step tutorial on setting it up correctly. So heres what I've done:
<br/>
<br/>
1. Downloaded insight and the tcl files that go into ...share\ (where ... is where I installed insight).
<br/>
2. I have my .elf compiled with -g and running in visualboy advance.
<br/>
3. I go to Tools-&gt;GDB-&gt;Load And Wait. Then I select my .elf and leave the default port to 55555.
<br/>
4. I then open up insight.
<br/>
<br/>
Here is where I'm stuck. I've searched through the menus of insight but can't figure out how to make it talk to visualboy and vica versa. I see that there is "Target Settings" but I'm not sure what I should put in here.
<br/>
<br/>
Can someone please give me a straight forward step by step idiots guide to setting this debugger up? I would really appreceate it! Thanks!<br/>_________________<br/>- RegularKid</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18003 - yaustar - Thu Mar 18, 2004 8:54 am</h4>
    <div class="postbody"><span class="postbody">see: <a href="http://forum.gbadev.org/viewtopic.php?t=2894" target="_blank">http://forum.gbadev.org/viewtopic.php?t=2894</a><br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18013 - regularkid - Thu Mar 18, 2004 5:55 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, I have looked at that one, but it doesn't seem to be for the windows version. It says:
<br/>
<br/>
"i use VisualBoyAdvance &amp; GDB, works pretty well for me, all I do is: 
<br/>
VisualBoyAdvance -G tcp &lt;game&gt;.elf 
<br/>
<br/>
then run gdb: 
<br/>
gdb &lt;game&gt;.elf 
<br/>
<br/>
then in gdb type: 
<br/>
target remote localhost:55555 
<br/>
<br/>
and then type 'continue' to start the game running. Note, you have to use the SDL version of VisualBoyAdvance, and gdb must be compiled for ARM (put --target=arm-elf when you compile it if you compile it yourself, but there are places to download it already compiled) 
<br/>
Also, make sure you are running the .elf - NOT THE .BIN OR .GBA file. the .bin and .gba files have all debugging information removed. "
<br/>
<br/>
But when I try these commands from the dos prompt, I get an error with the first one when VBA opens saying "Unsupported file type: -G". Also, when I start insight, there is no place to just type in "target remote localhost:55555".
<br/>
<br/>
Has anyone got insight / vba to work together in windows? Thanks!<br/>_________________<br/>- RegularKid</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18017 - yaustar - Thu Mar 18, 2004 6:47 pm</h4>
    <div class="postbody"><span class="postbody">It eworks fine for me on an XP machine
<br/>
<br/>
Points to note
<br/>
1) Make sure you are using the SDL version of vba
<br/>
2) Download the gdb insight from vba's website.
<br/>
<br/>
In insight there is a Console button...that is where you type in the 'target remote localhost:55555' bit...I can make a video / pictures of me doing and upload it tonight if that will help you.<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18035 - regularkid - Fri Mar 19, 2004 12:42 pm</h4>
    <div class="postbody"><span class="postbody">Ok, now it looks like I get the two things to talk to each other (i needed to download the SDL version of visualboy to get it to work from the command line). So, they are connected, but then when I go and hit run, the game in the window keeps going but the debugger is stuck on a breakpoint in the main entry point. Any ideas?<br/>_________________<br/>- RegularKid</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18037 - yaustar - Fri Mar 19, 2004 1:10 pm</h4>
    <div class="postbody"><span class="postbody">Do not hit RUN 
<br/>
When you have connected the two together, either hit 'c' or 'continue' or type 'continue' in the console.
<br/>
<br/>
From there, you can hit 'F11' to jump from the emu to the debugger or it will stop on the breakpoints that you have set. 
<br/>
<br/>
Note: if the the emu is running/playing then you will need to hit 'F11' to set breakpoints etc<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18059 - Burre - Fri Mar 19, 2004 10:15 pm</h4>
    <div class="postbody"><span class="postbody">While we are at it, does anyone know how to connect to the "regular" VBA version. I've got it to connect to Insight and download (but unfortunately I don't remember the settings), but I haven't got it start debug. It's not a big deal since the SDL version works fine, but stepping frames and breaking into GDB would be nice additional features.<br/>_________________<br/>"The best optimizer is between your ears..."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18070 - yaustar - Sat Mar 20, 2004 12:55 am</h4>
    <div class="postbody"><span class="postbody">I am interested in this as well since all I get is Insight freezing. I am thinking that it has to be a certain flag when loading up VBA..but not sure what<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18496 - samhonk - Sat Mar 27, 2004 11:11 pm</h4>
    <div class="postbody"><span class="postbody">Good day, 
<br/>
<br/>
I'm a VBA newcomer, running Windows XP and VBA-SDL; using the instructions in this thread I've managed to get my program running in VBA alongside Insight, and when I press F11 in VBA it sends the SIGTRAP and returns control to me on the insight console, and all that. I can look at the registers and they seem to have what they're supposed to in 'em. So, I guess I have it working.
<br/>
<br/>
...now, how on earth do I get the source showing? If I go through the File | Source... menu item and select any of the .c or .s files related to the project, Insight immediately throws up an error dialog saying e.g. 
<br/>
<br/>
Error: F:/mpwin/gba/reintr/main.c:1 Error in sourced command file: 
<br/>
Undefined command: "". Try "help".
<br/>
<br/>
Trying help, well, doesn't. 
<br/>
<br/>
I compiled my .elf file with gcc -ggdb, so I expect that there's gdb-useable debug info around somewhere.
<br/>
<br/>
Anybody know how to deal with this?
<br/>
<br/>
Regards, Sean</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18497 - samhonk - Sat Mar 27, 2004 11:27 pm</h4>
    <div class="postbody"><span class="postbody">Disregard that last - I figured it out, sorry.
<br/>
<br/>
Embarrassing as it is, I find that often the way to fix things is for me to post on a help forum, then go looking for the answer and voila, up it pops.
<br/>
<br/>
I hope that once I get rolling some I can be of assistance to others - I was a professional game programmer for 7 years and worked extensively on the old Game Boy Color. I'm not in the Business any more, but thought hobbyist GBA programming would be a hoot.
<br/>
<br/>
Cheers, Sean</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19810 - mr_schmoe - Sun Apr 25, 2004 10:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">...now, how on earth do I get the source showing?</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Disregard that last - I figured it out, sorry.</td> </tr></table><span class="postbody">
<br/>
<br/>
Alright genius, how did you figure it out. 
<br/>
<br/>
Actually, I think I do know where my problem is. I'm not compiling my source with gcc -ggdb. When I tryed that I get all these nasty, nasty error's that I have know idea what they mean, let alone how to fix them. Is that flag essential or can I get by with out it? Well, in all honesty, I don't know if I'm as well versed in the programming world as I need to be to enter the debuggin stage. I just feel it would make things alot easier. Most of my programming experience comes from writing silly little demos in DOS with an old borland compiler and writing scripts for Microsoft Excell. Those both had debuggers built right in, I didn't have to do anything. So you can see my frustration.  And sorry if I tryed to take the  spot light from anyone on this post, it just seem like the most logical place to throw in my two cents (or lack the of). Thanks.
<br/>
<br/>
Oh and by the way, Do you want to know what I think might be an awesome project if someone is looking for a challange. Why doesn't someone make a GBA IDE with a built in debugger. Something so simple that even I can use it. Something like Visual C++ maybe?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19812 - dagamer34 - Mon Apr 26, 2004 12:10 am</h4>
    <div class="postbody"><span class="postbody">Visual HAM is probably the best IDE designed around programming for the GBA. I don't know if it will compile with DevKitAdvance, but it's basically the same compiler.
<br/>
<br/>
And you do NOT have to use HAMlib. I don't.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19814 - yaustar - Mon Apr 26, 2004 12:36 am</h4>
    <div class="postbody"><span class="postbody">Ah.. this topic again :)
<br/>
<br/>
compile like so:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">cls
<br/>
path=c:\DevkitAdv\old\bin\
<br/>
gcc -g -o main.elf main.cpp bg.cpp -lm
<br/>
objcopy -O binary main.elf rom\main.gba
<br/>
<br/>
pause
<br/>
</td> </tr></table><span class="postbody">
<br/>
I think the important flag is -g
<br/>
<br/>
Also make sure that the elf file is in the same directory as the source files for the source to show. Put it anywhere else then you get assembly stuff I think.<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
