<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Calculating the angle between 2 points - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Calculating the angle between 2 points</h2>
<div id="posts">
<div class="post">
    <h4>#4745 - Alunze - Tue Apr 08, 2003 12:46 pm</h4>
    <div class="postbody"><span class="postbody">I've got this problem: I have 2 points on screen; then, if I were to draw a line from the first point to the second, how could I obtain the angle (inclination) of that line, preferably in a quick way?
<br/>
<br/>
    I thought of calculating it using arctan (the line would be the hypotenuse, the x and y differences would be the other 2 sides of the triangle), but tan values vary way too much to be included in a table, and for some values, tan is +/- infinite. Os maybe I am wrong, I was never that good on trygonometry...
<br/>
<br/>
    Thanks in *Advance* &gt;_6</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4753 - Xok - Tue Apr 08, 2003 4:07 pm</h4>
    <div class="postbody"><span class="postbody">Note: Let  v and u be vectors.
<br/>
<br/>
 cos  ang((u,v)) =  ( u.v ) / ( |u| . |v|)
<br/>
<br/>
 ang(u,v) is the angle betwen u and v.
<br/>
|u| in the module of u.
<br/>
<br/>
<br/>
Example:
<br/>
  Y
<br/>
  |....................x   p2(4,4)
<br/>
  |  
<br/>
  |..........x p1(2,2)
<br/>
  |
<br/>
  O------------------------------------------Z
<br/>
<br/>
Let be u the vector (1,0)  directional vector of the OX axis
<br/>
Let be v the vector (2,2) = (4,4)  -  (2,2)
<br/>
<br/>
then cos(ang(u,v)) = (1,0) . (2,2) / [ | (1,0) | * | 2, 2 | ]
<br/>
<br/>
<br/>
(a,b) . (c, d) = ac+ bd
<br/>
<br/>
| (a , b) | = sqrt( a^2 + b^2 ) 
<br/>
<br/>
<br/>
then cos(ang(u, v)) = 2/  [sqrt( 1^2+0^2) * sqrt (2^2+ 2^2)] = 2 / [ 1 * 2 * sqrt (2)] =
<br/>
1/sqrt(2)
<br/>
<br/>
then ang(u,v) = arcos (1/sqrt (2)) = 45 ?   (o PI / 4 en radianes).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4756 - tom - Tue Apr 08, 2003 4:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Alunze wrote:</b></span></td> </tr> <tr> <td class="quote">I've got this problem: I have 2 points on screen; then, if I were to draw a line from the first point to the second, how could I obtain the angle (inclination) of that line, preferably in a quick way?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
so you need a line drawing algorithm: <a class="postlink" href="http://www.gamedev.net/reference/articles/article767.asp" target="_blank">http://www.gamedev.net/reference/articles/article767.asp</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4760 - tepples - Tue Apr 08, 2003 5:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Alunze wrote:</b></span></td> </tr> <tr> <td class="quote">but tan values vary way too much to be included in a table, and for some values, tan is +/- infinite.</td> </tr></table><span class="postbody">
<br/>
If you write your arctan2() right, it will not vary infinitely. The key is to decide whether to use y/x or x/y for each call based on which has a smaller absolute value. See <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=656&amp;highlight=arctan" target="_blank">previous arctan discussion</a> for details.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
