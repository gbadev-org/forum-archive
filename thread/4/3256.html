<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Own graphic-format too slow ? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Own graphic-format too slow ?</h2>
<div id="posts">
<div class="post">
    <h4>#19458 - ProfEich - Tue Apr 20, 2004 1:49 pm</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
I'm developing a little project and I designed an own graphic-format for it.
<br/>
Well reading it would be no problem - but I guess when I read it, it would be slower than loading it with DMA.
<br/>
<br/>
But DMA-Copy can't copy data from my own file because it's kind of crypted.
<br/>
<br/>
Is it really slow when I read it byte per byte in the memory?
<br/>
If yes, how to make it faster?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19459 - torne - Tue Apr 20, 2004 2:11 pm</h4>
    <div class="postbody"><span class="postbody">It's slower than DMA except for small amounts of data, yes. To make it faster, use a nice unrolled loop of ldmia/stmia instructions and copy as many bytes at once as possible..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19461 - poslundc - Tue Apr 20, 2004 2:53 pm</h4>
    <div class="postbody"><span class="postbody">Put your decompression algorithm into either IWRAM or EWRAM. That way, so long as you're loading bytes consecutively from the ROM you should be okay.
<br/>
<br/>
An alternative is to create a buffer in IWRAM for your data, use DMA to load a chunk of data from ROM to the buffer, and then decrypt it however you please.
<br/>
<br/>
As you observe, neither of these would be as fast as simply DMAing the data from ROM to VRAM. But many GBA applications compress their graphics and find the necessary time to decompress them.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
