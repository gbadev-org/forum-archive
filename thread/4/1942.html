<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Pan Screen - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Pan Screen</h2>
<div id="posts">
<div class="post">
    <h4>#9992 - RaBBi - Sun Aug 24, 2003 9:36 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
I keep on doing a RPG (I know it's a hard task, but I have time, don't worry ^^) and I finally manage to do a decent map with multilayer ^^
<br/>
<br/>
And now, I'd like to move the hero sprite through this map.
<br/>
<br/>
First, I scrolled the BGs, it was good but it was because the hero was alone on map.
<br/>
<br/>
But now, I gave life to this map by placing some NPC sprites which do thier stuff.
<br/>
<br/>
And the problem is that scrolling bg to follow hero sprite move is not a good way anymore...Cause NPC sprites are scrolling with it.
<br/>
In fact, each VBlank, the  X and Y position of NPC are calculated and set...
<br/>
<br/>
So I'd like to know how can I "pan" screen and not scroll the BGs to always have hero sprite displayed, and NPC sprites keep their positions even if they are off screen.
<br/>
<br/>
The screen would be as a "camera" which follow the hero.
<br/>
<br/>
Thank you ^^<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9995 - sgeos - Sun Aug 24, 2003 12:57 pm</h4>
    <div class="postbody"><span class="postbody">Your display code should be separate from the code that keeps track of NPC positions.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10000 - tepples - Sun Aug 24, 2003 2:34 pm</h4>
    <div class="postbody"><span class="postbody">What you do is store the locations of the camera, the player, and NPCs in world coordinates.
<br/>
<br/>
Then, each frame, transform the coordinates as follows: Set a camera location based on the location of the player, and scroll to that position. Compute the position of all NPCs by subtracting the camera position <span style="font-style: italic">into a temporary variable</span>, and if they don't overlap the screen, don't draw them to OAM.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10020 - RaBBi - Sun Aug 24, 2003 9:04 pm</h4>
    <div class="postbody"><span class="postbody">Thanks you 2 !
<br/>
<br/>
I understood the concept.
<br/>
But in fact, I use HaM devkit (newbie ^^), and there is a function that copy all objects to OAM.
<br/>
<br/>
It's why I was not able to do that unless I don't use it.<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
