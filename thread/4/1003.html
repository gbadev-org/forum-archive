<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>what mean with... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > what mean with...</h2>
<div id="posts">
<div class="post">
    <h4>#4877 - Link - Sun Apr 13, 2003 10:56 pm</h4>
    <div class="postbody"><span class="postbody">this:
<br/>
#define RGB(r,g,b) (r+(g&lt;&lt;5)+(b&lt;&lt;10))
<br/>
??
<br/>
<br/>
above all these: (r+(g&lt;&lt;5)+(b&lt;&lt;10)) why i put 5 in g and 10  in b?
<br/>
who the compiler understand r, g, b are integer or other type of variables?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4878 - pollier - Sun Apr 13, 2003 11:44 pm</h4>
    <div class="postbody"><span class="postbody">for Nayru's sake, read the tutorials, please!
<br/>
<br/>
GBA defines 16-bit colours using 5 bits for each colour component; so R takes the 5 lowest bits, G takes the next 5, and B takes the last 5 before the unused bit. Therefore, G needs to shifted to the left 5 bits, and B 10 bits.
<br/>
<br/>
The compiler sticks in whatever variables you provide; as long as you're using integer-like variables or constants the compiler won't have any more trouble than it would have with any old equation. Just don't use a string in there and the compiler will handle the rest for you, 'cause that's what compilers are for.<br/>_________________<br/>(Works for me!)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4881 - delbogun - Sun Apr 13, 2003 11:59 pm</h4>
    <div class="postbody"><span class="postbody">what you need is some basic c programming knowledge. you should seek up some c programming tutorials and learn.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4904 - jenswa - Mon Apr 14, 2003 1:16 pm</h4>
    <div class="postbody"><span class="postbody">or you shouldn't ask these questions and just use the function.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4975 - Link - Wed Apr 16, 2003 11:20 am</h4>
    <div class="postbody"><span class="postbody">i know C++...these things are not used in C++! is it?
<br/>
<br/>
futhermore how can i do it?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
To achieve good performance in C++: don't use <span style="font-weight: bold">virtual methods</span>, turn off support for exceptions and RTTI (run-time type identification), and use template types only sparingly</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4984 - crossraleigh - Wed Apr 16, 2003 5:47 pm</h4>
    <div class="postbody"><span class="postbody">They are called macros and are not used <span style="font-weight: bold">much</span> in C++. (Replaced by inline functions) Use them just like any normal function, e.g., <span style="font-style: italic">RGB(0,0,0)</span>.
<br/>
<br/>
When you call <span style="font-style: italic">gcc</span>, it goes through four distinct steps: preprocessing, converting the C to ASM, compiling the ASM, and linking the compiled code. The compiler doesn't need to knows if the arguments are integers because of the preprocessor; <span style="font-style: italic">#define</span>s, <span style="font-style: italic">#include</span>s, etc. are taken care of by the preprocessor in step one.
<br/>
<br/>
Sorry for any inaccuracies, this is just off the top of my head.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4988 - Link - Wed Apr 16, 2003 9:07 pm</h4>
    <div class="postbody"><span class="postbody">ok, but so i can use C++ as well as C without differances?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4990 - tepples - Wed Apr 16, 2003 9:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Link wrote:</b></span></td> </tr> <tr> <td class="quote">ok, but so i can use C++ as well as C without differances?</td> </tr></table><span class="postbody">
<br/>
Almost all valid C is valid C++ as well.  For instance, the RGB macro works in both.  Here it is again, in the canonical form:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define RGB(r,g,b) ((r)|(g)&lt;&lt;5|(b)&lt;&lt;10)</td> </tr></table><span class="postbody">
<br/>
When making a macro that acts like a function, always enclose the whole macro in parentheses, and enclose the variables in parentheses as well. This way, you won't run into nasty precedence problems between the preprocessor and compiler.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4995 - SmileyDude - Thu Apr 17, 2003 12:14 am</h4>
    <div class="postbody"><span class="postbody">the easiest way to explain macros is that when ever you see RGB(0,0,0), the preprocessor will substitute the following in it's place:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">((0)|(0)&lt;&lt;5|(0)&lt;&lt;10)</td> </tr></table><span class="postbody">
<br/>
<br/>
This is similar to a C++ inline call, but the key difference is that there is no type checking.  This is both a positive and a negative -- for example, you can use any integer type here -- int, short, long, unsigned/signed.  The compiler doesn't care.  On the other hand, you can also put in a string pointer... 
<br/>
<br/>
In general, as a C++ programmer, you don't have to worry about the specifics of macros -- just know that you can pretty much treat them like a normal function call.  Any code that you would create would probally just use inline functions -- if you wanted to inline them at all.<br/>_________________<br/>dennis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5001 - Link - Thu Apr 17, 2003 11:56 am</h4>
    <div class="postbody"><span class="postbody">the GCC compiler support Object Oriented programs? Do it GBA?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5009 - niltsair - Thu Apr 17, 2003 2:38 pm</h4>
    <div class="postbody"><span class="postbody">Errrr... of course. The code produced isn't some object assembly. Object programming is just a way to program, to better organize logic and data. The end result is the same assembly commands as if you had typed them. It's only really just a way to tell the computer what you want, it then decodes it and produce the same machine intructions. 
<br/>
<br/>
The only thing is that it is a little less optimized than if you had coded in C or assembly, but you make up for it in clarity of code.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
