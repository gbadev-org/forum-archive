<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problem with the 'new' operator in latest devkitarm release? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Problem with the 'new' operator in latest devkitarm release?</h2>
<div id="posts">
<div class="post">
    <h4>#93403 - rooter - Tue Jul 18, 2006 11:52 pm</h4>
    <div class="postbody"><span class="postbody">I've recently upgraded to the latest release of devkitarm and have an annoying problem. 'New' is now completely non-functional. I have used this code base across various toolchains over the past couple years with no problems in the past until updating to the latest release. Now the engine locks up whenever 'new' is called no matter what. 
<br/>
<br/>
Anyone else experienced this problem, know what might be causing it or have a workaround?
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93410 - tepples - Wed Jul 19, 2006 12:24 am</h4>
    <div class="postbody"><span class="postbody">Did you try <span style="font-weight: bold">catch</span>ing any exceptions that <span style="font-weight: bold">new</span> may throw?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93412 - rooter - Wed Jul 19, 2006 12:36 am</h4>
    <div class="postbody"><span class="postbody">bad_alloc, which is what i figured... what could that mean in terms of the GBA and what between the last version of devkitarm and the new one could have caused that?
<br/>
<br/>
EDIT: Give me bad_alloc even with new'ing just a single int. Hm.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93416 - tepples - Wed Jul 19, 2006 12:51 am</h4>
    <div class="postbody"><span class="postbody">malloc() is the backend of operator new, and it's broken in devkitARM R19. Downgrade to R18 or wait for R20.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93418 - rooter - Wed Jul 19, 2006 1:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">malloc() is the backend of operator new, and it's broken in devkitARM R19. Downgrade to R18 or wait for R20.</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks, didn't know that. malloc seemed to work when I tested it. I'll downgrade for now.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93447 - rooter - Wed Jul 19, 2006 4:50 am</h4>
    <div class="postbody"><span class="postbody">Thanks, that took care of it.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
