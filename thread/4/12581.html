<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How can i jump to 0x08800000 with thumb mode - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > How can i jump to 0x08800000 with thumb mode</h2>
<div id="posts">
<div class="post">
    <h4>#120011 - kenghot - Wed Feb 28, 2007 8:50 am</h4>
    <div class="postbody"><span class="postbody">Hi all,
<br/>
<br/>
    i try to put my function in to commercial GBA rom at blank area (end of file) so i need to jump to offset 0x08800000 and i use gold road.
<br/>
this work for arm
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
        mov r0,($88&lt;&lt;24)
<br/>
        b r0
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
but i need to use thumb mode. How can i do
<br/>
Thanks,</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120019 - chishm - Wed Feb 28, 2007 11:52 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">mov r0, #0x88
<br/>
lsl r0, #20
<br/>
bx r0</td> </tr></table><span class="postbody">
<br/>
This is the syntax used by GNU ASM. I don't know the Goldroad ASM syntax.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120029 - kenghot - Wed Feb 28, 2007 1:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chishm wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">mov r0, #0x88
<br/>
lsl r0, #20
<br/>
bx r0</td> </tr></table><span class="postbody">
<br/>
This is the syntax used by GNU ASM. I don't know the Goldroad ASM syntax.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks, chishm
<br/>
i try with your code but still have error
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
error : line 2 : syntax error
<br/>
   lsl r0,  20 
<br/>
error : line 2 : only regs 0-7 available in thumb mode
<br/>
   lsl r0,  20 
<br/>
<br/>
assembled with 2 errors</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120030 - keldon - Wed Feb 28, 2007 1:14 pm</h4>
    <div class="postbody"><span class="postbody">Check with the people at goldroad!!! Note aswell that he said that was the GNU asm syntax, and THUMB cannot access register 20!!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120032 - Cearn - Wed Feb 28, 2007 1:39 pm</h4>
    <div class="postbody"><span class="postbody">Thumb shifts need a source register too:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
mov     r0, #88
<br/>
lsl     r0, r0, #20
<br/>
bx      r0
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120034 - chishm - Wed Feb 28, 2007 1:52 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cearn wrote:</b></span></td> </tr> <tr> <td class="quote">Thumb shifts need a source register too:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
mov     r0, #88
<br/>
lsl     r0, r0, #20
<br/>
bx      r0
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
The GNU assembler will expand "lsl r0, #20" into "lsl r0, r0, #20". Also, you used the decimal constant 88 and not 0x88 in your code.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120063 - poslundc - Wed Feb 28, 2007 6:47 pm</h4>
    <div class="postbody"><span class="postbody">Hacking of commercial ROMs is a prohibited topic in these forums. Please take your question elsewhere.
<br/>
<br/>
Thanks,
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
