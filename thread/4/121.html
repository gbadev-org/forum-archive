<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>lines and stuff - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > lines and stuff</h2>
<div id="posts">
<div class="post">
    <h4>#726 - whodoo - Fri Jan 10, 2003 12:08 am</h4>
    <div class="postbody"><span class="postbody">I got another simple question..I?ve made a snake-game for gba...and everything works fine and Im using the hardware to blir the "parts" of the snake as sprites..
<br/>
but now I want a frame around the game(like walls)..only thin lines...how can I do that? I?s simple in mode 4 where I can draw them pixel by pixel but how do I do it in mode_1? I don?t wanna use sprites, just show some lines and stuff like that..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#729 - whodoo - Fri Jan 10, 2003 12:17 am</h4>
    <div class="postbody"><span class="postbody">and I don?t wanna make a tile-map or something..I just want a square around the "snake-level" the best and fastes way...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#738 - sgeos - Fri Jan 10, 2003 2:24 am</h4>
    <div class="postbody"><span class="postbody">I'd make a few simple tiles and put a BG map on top of everything else.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#755 - Quirky - Fri Jan 10, 2003 9:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>whodoo wrote:</b></span></td> </tr> <tr> <td class="quote">and I don?t wanna make a tile-map or something..I just want a square around the "snake-level" the best and fastes way...</td> </tr></table><span class="postbody">
<br/>
<br/>
The best way to do it is with tiles though. You'd only need 6 of 'em; four for the corners, one for the vertical walls one for the horizontals. Then set the relevant parts of vram with the tile map info - horizontals along the top and bottom, verticals at the sides, and the four corners. Very quick (it's all drawn by hardware) and very simple.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#756 - Touchstone - Fri Jan 10, 2003 9:43 am</h4>
    <div class="postbody"><span class="postbody">Could do with just three tiles, one corner, one vertical and one horizontal, and have the corner tiled flipped horizontally and/or vertically. If you have to save tile memory or whatever. :)<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#807 - whodoo - Fri Jan 10, 2003 7:46 pm</h4>
    <div class="postbody"><span class="postbody">can I have tiles with the width of the entire GB-screen?.. I read somewhere that the limit was 64*64 pixels...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#817 - pulstar_3 - Fri Jan 10, 2003 9:05 pm</h4>
    <div class="postbody"><span class="postbody">The maximum size of the tiles are 8x8. If you want anything bigger you just have to make it from 8x8 tiles.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#834 - ampz - Sat Jan 11, 2003 12:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Touchstone wrote:</b></span></td> </tr> <tr> <td class="quote">Could do with just three tiles, one corner, one vertical and one horizontal, and have the corner tiled flipped horizontally and/or vertically. If you have to save tile memory or whatever. :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Three tiles?!? Are you crazy? You can't be that careless with video memory.
<br/>
<br/>
It can be done with just one tile actually.
<br/>
Draw a tile with a cross on it, draw the center of the cross with one color, and the four lines leading from the center to the edges with four other colors.
<br/>
Then just setup the BG to be a 16color one, and use the same tile for the entire frame (corner tiles flipped vertically/horizontally). Set up three different palettes for horizonatal lines, vertical lines and corners. Each palette should "activate" respective colors, the other colors shall remain black or transparent.
<br/>
<br/>
That's it! I just saved you at least 50bytes of video memory. (Simple, huh?) You don't even have to thank me. :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#837 - Touchstone - Sat Jan 11, 2003 1:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ampz wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Touchstone wrote:</b></span></td> </tr> <tr> <td class="quote">Could do with just three tiles, one corner, one vertical and one horizontal, and have the corner tiled flipped horizontally and/or vertically. If you have to save tile memory or whatever. :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Three tiles?!? Are you crazy? You can't be that careless with video memory.
<br/>
<br/>
It can be done with just one tile actually.
<br/>
Draw a tile with a cross on it, draw the center of the cross with one color, and the four lines leading from the center to the edges with four other colors.
<br/>
Then just setup the BG to be a 16color one, and use the same tile for the entire frame (corner tiles flipped vertically/horizontally). Set up three different palettes for horizonatal lines, vertical lines and corners. Each palette should "activate" respective colors, the other colors shall remain black or transparent.
<br/>
<br/>
That's it! I just saved you at least 50bytes of video memory. (Simple, huh?) You don't even have to thank me. :-)</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Well... If you look at the total amount of used resources instead of counting bytes you will find that using three tiles and one palette (3T/1P) instead of one tile and three palettes (1T/3P) will save you resources since 3T/1P use about 3.2% of the total amount of resources (tileram and paletteram) whereas 1T/3P use about 9.5%. :) I know, way to serious but I'm tired, okay. Besides, those numbers probably dont add up when I recheck them tomorrow. I like the way you're thinking Ampz.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#845 - whodoo - Sat Jan 11, 2003 3:12 am</h4>
    <div class="postbody"><span class="postbody">okey thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#846 - Nessie - Sat Jan 11, 2003 3:27 am</h4>
    <div class="postbody"><span class="postbody">[EDIT]: I could have sworn someone was asking a question on how to set this up...but maybe I misread it?  Or maybe they edited their original post.  Oh well... :)
<br/>
<br/>
If you have a single 8x8 tile ( say just a solid color if you really want to go simple )...then all you have to do is create a 32x32 tile BG ( background ) layer.  This should give you enough area to cover the whole screen since 32(tiles) x 8(width of EACH tile) = 256....(remember that the GBA resolution is 240x160).
<br/>
<br/>
One thing I forgot about...you'll actually need TWO tiles...one of which is just a blank 8x8 tile.  You can make this "blank"/ transparent tile by filling the 8x8 tile with color 0 out of either a 16 color palette or a 256 color palette.  The GBA hardware just interprets that color as "don't plot any pixels here".
<br/>
<br/>
Anyway, now you just need to fill in your 32x32 tile BG map with either tile 0 ( your transparent one ) or tile 1 ( your solid one, for the walls ).  
<br/>
<br/>
Since 8 goes into 240 an even 30 times....and 8 goes into 160 and even 20 times, you only really need 30x20 out of your regular 32x32 grid..
<br/>
<br/>
...whoops, I don't have time to finish the description since I have to leave...  sorry, but hopefully this will get you started...
<br/>
<br/>
Later..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#861 - Splam - Sat Jan 11, 2003 1:09 pm</h4>
    <div class="postbody"><span class="postbody">If you're going to go on a crusade to save a few bytes of vram, which in this situation really isn't needed, then you could use 1 16colour tile with a line down the side, flip it for the other side of the screen and use an interrupt to change colour 0 for the top and the bottom lines.  32bytes, 1 palette.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#873 - ampz - Sat Jan 11, 2003 7:25 pm</h4>
    <div class="postbody"><span class="postbody">That doesn't acount for corners.
<br/>
<br/>
My version only uses 5 colors in 3 palettes, there are still 11 colors left in each palette for other purposes.
<br/>
<br/>
An interrupt could cut it down to only 2 palettes...
<br/>
<br/>
I wish it was possible to flip tiles 90 degrees... That would be quite useful sometimes...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#878 - Splam - Sat Jan 11, 2003 7:47 pm</h4>
    <div class="postbody"><span class="postbody">The corners are created by the tile meeting the line, the tile would have a vertical line on the far left (flipped for right).
<br/>
<br/>
90 degree rotation of the tiles would be very useful, ahh well maybe gba 2 ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#997 - ampz - Mon Jan 13, 2003 3:24 am</h4>
    <div class="postbody"><span class="postbody">That way you'll miss one pixel in each corner.... ;-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1003 - Splam - Mon Jan 13, 2003 7:40 am</h4>
    <div class="postbody"><span class="postbody">No :P    
<br/>
<br/>
Get a bit of graph paper, outline your "screen" draw a vertical line, draw a horizontal line across the top of it,  missing anything?  nope..
<br/>
<br/>
ie
<br/>
<br/>
2222222222
<br/>
10000000
<br/>
10000000
<br/>
10000000
<br/>
10000000
<br/>
10000000
<br/>
<br/>
1 is the tile, 2 is the colour 0 line.
<br/>
<br/>
Admitedly this only works in this case, but  a) that's all that was asked for and b) I was just pointing out there's really no point in going crazy over vram usage for a snake game :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
