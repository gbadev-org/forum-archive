<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>256 Color Sprite - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > 256 Color Sprite</h2>
<div id="posts">
<div class="post">
    <h4>#98927 - PolyStream - Fri Aug 18, 2006 3:47 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
this is my firts post!
<br/>
This community is really amazing! Good job!
<br/>
<br/>
My problem is to using 256 color sprites.
<br/>
<br/>
I've coded a small game like pong
<br/>
<a class="postlink" href="http://digilander.libero.it/blizzard.3dDevelop/bba.html" target="_blank">http://digilander.libero.it/blizzard.3dDevelop/bba.html</a>
<br/>
<br/>
In this game I use 16 color palette sprites.
<br/>
<br/>
I've tryed to use 256 colors but I have some errors in the rendering!
<br/>
I think I visualize only parts of the sprites....
<br/>
Please, can anyone can explain to me the right way to load a 256 color sprite in the OAM and show it correctly setting attributes and other features?
<br/>
<br/>
Another thing! I've also problems with the rotation of the sprites! what is the code to rotate it correctly?
<br/>
<br/>
Sorry but I'm just a beginner... I hope you want to help me!
<br/>
<br/>
Thanks
<br/>
<br/>
bye
<br/>
Giovanni<br/>_________________<br/>#include &lt;YourPassion.h&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98955 - psycorpse - Fri Aug 18, 2006 6:34 pm</h4>
    <div class="postbody"><span class="postbody">PolyStream,
<br/>
<br/>
It may be helpful if you paste your code so that we can see what you are doing. 
<br/>
<br/>
I do have some questions that would be answered in your code but since it isn't, here are my questions
<br/>
<br/>
In the OAM.attribute0 did you change the colors to 256 instead of 16?
<br/>
<br/>
Did you change your tile index in OAM.attribute2 to point to the correct tile?
<br/>
<br/>
<br/>
<br/>
You should check out TONC for the rotation information.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98957 - PolyStream - Fri Aug 18, 2006 6:57 pm</h4>
    <div class="postbody"><span class="postbody">you're right!
<br/>
<br/>
here's the code
<br/>
<br/>
<span style="font-weight: bold">sprite.h</span>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">//256 Color Tile Graphics, Tile Size: 30x20, Tiles Used: 600
<br/>
                     
<br/>
const u16 sprite_gfx[19200] = {
<br/>
0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,
<br/>
0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,0xFCFC,....................
<br/>
<br/>
//Palette, Colors Used: 256
<br/>
const u16 sprite_pal[256] = {
<br/>
0x0000,0x0010,0x0200,0x0210,0x4000,0x4010,0x4200,0x6318,
<br/>
0x6378,0x7B34,0x0088,0x008C,0x0090,0x0094,0x0098,0x009C,
<br/>
0x0100,0x0104,0x0108,0x010C,0x0110,0x0114,0x0118,0x011C,.............................
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">main.c</span>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
....
<br/>
......
<br/>
...
<br/>
REG_DISPCNT = 0x1404;  //mode set
<br/>
memcpy(((void *)0x6014000),sprite_gfx,16384);
<br/>
memcpy(((void *)0x5000200),sprite_pal,sizeof(u16) * 256);
<br/>
PALETTE[0] = BGR(0x1f,0,0);
<br/>
.......
<br/>
...
<br/>
....
<br/>
x = 50;
<br/>
y = 50;
<br/>
iAnim = 0x208;
<br/>
<br/>
OAM[0][0] = y|(0 &lt;&lt; 14) | (1&lt;&lt;13);                                                                 
<br/>
OAM[0][1] = x|(2 &lt;&lt; 14);
<br/>
OAM[0][2] = iAnim;
<br/>
..
<br/>
....
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Here is some code that may set my sprite with 256 colors!
<br/>
I don't know what's wrong!
<br/>
<br/>
thanks
<br/>
Bye<br/>_________________<br/>#include &lt;YourPassion.h&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98960 - tepples - Fri Aug 18, 2006 7:06 pm</h4>
    <div class="postbody"><span class="postbody">Could you post images of VBA's tile viewer and OAM viewer?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98962 - PolyStream - Fri Aug 18, 2006 7:28 pm</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
<br/>
Now I've not the time to upload on my site the screenshot.
<br/>
<br/>
I've seen the tileviewer of the visualboy advance, so I've seen that the image with all tiles is all destroyed... deformed, it's not sequential!
<br/>
<br/>
I'll upload the screen soon as I can
<br/>
<br/>
Bye<br/>_________________<br/>#include &lt;YourPassion.h&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99006 - psycorpse - Sat Aug 19, 2006 1:09 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PolyStream wrote:</b></span></td> </tr> <tr> <td class="quote">hi,
<br/>
<br/>
Now I've not the time to upload on my site the screenshot.
<br/>
<br/>
I've seen the tileviewer of the visualboy advance, so I've seen that the image with all tiles is all destroyed... deformed, it's not sequential!
<br/>
<br/>
I'll upload the screen soon as I can
<br/>
<br/>
Bye</td> </tr></table><span class="postbody">
<br/>
<br/>
What converter are you using to convert the graphics?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99054 - PolyStream - Sat Aug 19, 2006 8:49 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I've used kaleid 1.2.4 for the sprite creation<br/>_________________<br/>#include &lt;YourPassion.h&gt;</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
