<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Controlling Multipal Sprites... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Controlling Multipal Sprites...</h2>
<div id="posts">
<div class="post">
    <h4>#8773 - Snoobab - Sat Jul 19, 2003 1:50 pm</h4>
    <div class="postbody"><span class="postbody">Hi. I'm having a bit of trouble with a game I'm working on.
<br/>
<br/>
At the moment my main space ship can shoot missiles, the problem is it can only shoot one at a time. i.e. only one missile can be on screen at once. If I push the fire button twice quickly the same missile is re-spawned at its original launch possition. What I would really like is more than one missiles to be on screen at once. How would I do this ? How would I keep track of the different missiles ? Would a struct containing all the missile properties(position, velicity, id?) be best ? Any ideas ?
<br/>
<br/>
Thanks,
<br/>
<br/>
- Ed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8777 - tepples - Sat Jul 19, 2003 4:36 pm</h4>
    <div class="postbody"><span class="postbody">Yes, make a struct containing missile properties.  Then make an array of Missile.  Then give each Missile a state variable: dead, live, exploding.  When the player presses the fire button, look for the first dead Missile, but don't overflow the buffer.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8781 - Cyberman - Sat Jul 19, 2003 6:23 pm</h4>
    <div class="postbody"><span class="postbody">If you are using C++ You might wish to create a linked list of Missiles.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class Missile
<br/>
{
<br/>
 ...
<br/>
}
<br/>
<br/>
class MissileList
<br/>
{
<br/>
 MissileList(Missile *);
<br/>
 ~MissileList();
<br/>
 Missile * MyMissile
<br/>
 MissileList *Next;
<br/>
 Missile &amp;operator[](int Index);
<br/>
 int Add(Missile *);
<br/>
 void Delete(int);
<br/>
 int Count();
<br/>
}
<br/>
<br/>
class SpaceShip
<br/>
{
<br/>
...
<br/>
 private:
<br/>
  MissileList *Fired;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
You fire a missile by doing
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
FiredMissile = new Missile(/* whatever parameters you need to make a missile*/);
<br/>
Fired-&gt;Add(FiredMissile);
<br/>
</td> </tr></table><span class="postbody">
<br/>
You update the missile status on the display by doing.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
// start from the oldest to the newest missile
<br/>
for (Index = Fired-&gt;Count() - 1; Index &gt;=0; Index--)
<br/>
{
<br/>
 // check if the missile died someone
<br/>
 if ((*Fired)[Index].Update())
<br/>
 {
<br/>
  // the missile is dead remove it
<br/>
  Fired-&gt;Delete(Index);
<br/>
 }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
The Add() function inserts the new missile at the begining of the Missile list. Then Update returns true if the missile exploded drifted off into space or whatever (it's dead in other words) the missile is then deleted and removed from the list.
<br/>
<br/>
Update handles any animation change in orientation change in position or exploding needed for the missile as well.
<br/>
<br/>
Of course the code inside the objects will be more complicated but this should keep things at the high level simple which in my experience makes the whole thing simpler :) (well more often it does LOL).
<br/>
<br/>
Cyb</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
