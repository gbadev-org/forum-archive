<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>libfat for use on the GBA - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > libfat for use on the GBA</h2>
<div id="posts">
<div class="post">
    <h4>#130543 - norfair - Tue Jun 05, 2007 2:34 am</h4>
    <div class="postbody"><span class="postbody">Hello!
<br/>
<br/>
I'm trying to build software for an oldschool system called the GBA :)
<br/>
<br/>
I want to use libfat in my project. My problem lies here:
<br/>
<br/>
I only have an M3 perfect lite (micro SD) and an NDS lite to test.
<br/>
<br/>
Is it possible to use libfat on the M3 lite within GBA mode? Or will it only work from NDS mode?
<br/>
<br/>
I tried a basic program but the console seems to hang on fatInitDefault();
<br/>
<br/>
If it doesn't work, what would be a good compatible gba flash cart to use libfat with? There is alot of NDS information around, but very little GBA info that I could find.
<br/>
<br/>
Thanks in advance (no pun intended)
<br/>
<br/>
-Norfair</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130545 - tepples - Tue Jun 05, 2007 3:20 am</h4>
    <div class="postbody"><span class="postbody">Libfat works in GBA mode if your DLDI works. Some SLOT-2 DLDIs should work from GBA mode, even though Chishm's official DLDI tester does not support GBA mode.
<br/>
<br/>
Have you tried compiling your GBA program as multiboot? I don't know whether libfat works when executing from ROM in SLOT-2 while accessing a card in SLOT-2, and I don't know whether the available DLDIs handle this situation. All I have is a GBAMP, which requires multiboot programs.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130546 - norfair - Tue Jun 05, 2007 3:29 am</h4>
    <div class="postbody"><span class="postbody">Thank you for the quick reply Tepples.
<br/>
<br/>
I just rebuilt my basic program as a multiboot, patched it, and it worked first try!
<br/>
<br/>
Now I pretty much only need to work with multiboot restrictions in size &gt;_&gt;
<br/>
<br/>
I'm guessing the alternative solution that would work in all cases is using GBFS huh? :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130547 - Dwedit - Tue Jun 05, 2007 3:58 am</h4>
    <div class="postbody"><span class="postbody">It's possible to make the filesystem code run from iwram/ewram, then have wrapper functions for the filesystem code to switch the M3 from 32MB RAM mode to filesystem mode, and back again, but that stuff is cartridge specific.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130605 - tepples - Tue Jun 05, 2007 8:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">that stuff is cartridge specific.</td> </tr></table><span class="postbody">
<br/>
Then why doesn't the DLDI already handle it while it's handling everything else that's cartridge specific? Is it because there is no DLDI tester that runs in GBA mode?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
