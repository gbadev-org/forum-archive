<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DevKitAdvance vs. DevKitARM? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > DevKitAdvance vs. DevKitARM?</h2>
<div id="posts">
<div class="post">
    <h4>#23758 - Abscissa - Wed Jul 21, 2004 5:06 am</h4>
    <div class="postbody"><span class="postbody">I've been using DevKitAdvance, partly because I was previously under the assumption the DevKitARM used the the ARM manufacturer's compiler instead of GCC.  Now I've just found out that DevKitARM *does* use GCC, and it's still in active development and uses v.3.4 of GCC.  DevKitAdvance hasn't been updated in quite a while.  Am I correct in concluding that DevKitARM has basically replaced DevKitAdvance and that I should switch to DevKitARM?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23759 - dagamer34 - Wed Jul 21, 2004 5:34 am</h4>
    <div class="postbody"><span class="postbody">I knew this thread would be created soon enough. I'm not sure what else to think though. Has anybody posted the obvious differences between the 2 besides the fact that DevKitAdvance hasn't been updated in a while?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23764 - tepples - Wed Jul 21, 2004 6:25 am</h4>
    <div class="postbody"><span class="postbody">DevkitARM has newer GCC and newer Binutils, possibly allowing for better optimization.
<br/>
<br/>
With devkitARM, you must use -specs=gba.specs or -specs=gba_mb.specs to link, as devkitARM targets more than one ARM CPU based platform. But this also means you don't need int __gba_multiboot.
<br/>
<br/>
Some of devkitARM's link script things are probably different. I haven't tested the mechanism to put code in IWRAM yet.
<br/>
<br/>
Wintermute could probably give you a better idea.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23767 - Abscissa - Wed Jul 21, 2004 7:38 am</h4>
    <div class="postbody"><span class="postbody">Hmm, I think I'm doing something totally wrong:
<br/>
<br/>
I downloaded the latest version of DevKitARM and tried to use it on one of my existing projects.  I changed the paths in the makefile to point to DevKitARM instead of DevKitAdvance, and I added the -specs=gba.specs,  but got this compiler error:
<br/>
<br/>
gcc: gba.specs: No such file or directory
<br/>
<br/>
Then I tried omitting -specs=gba.specs, and now I get this:
<br/>
<br/>
gcc: installation problem, cannot exec `cc1': No such file or directory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23768 - tepples - Wed Jul 21, 2004 7:43 am</h4>
    <div class="postbody"><span class="postbody">You might have made a mistake when setting the path. Try
<br/>
gcc -v
<br/>
and seeing if you're really running devkitARM or something else like DevKitAdvance or MinGW or DJGPP.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23769 - Abscissa - Wed Jul 21, 2004 7:58 am</h4>
    <div class="postbody"><span class="postbody">Oh, I got it working.
<br/>
<br/>
I was using "arm-elf/bin/gcc.exe", but then after reading up on some other forum posts, I tried changing that to "bin/arm-elf-gcc.exe" along with using the "bin/arm-elf-*.exe" of ld, as, and objcopy as well.  This way it found cc1 okay, but cc1 errored out complaining it couldn't find "libiconv-2.dll".  So then I used the standard dll quick-fix of copying the dll to the same folder as the executable (;)).  And it all works now.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23869 - NoMis - Fri Jul 23, 2004 7:49 am</h4>
    <div class="postbody"><span class="postbody">Devkitadv wasn't updated in a while so devkitarm is the better one. But i'm still missing gdb.exe in the devkitarm. Don't know if it's implemented by now but without it i can't debug within eclipse so i will use Devkitadv till gdb.exe is added.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23877 - cosmic4z - Fri Jul 23, 2004 12:13 pm</h4>
    <div class="postbody"><span class="postbody">NoMis:
<br/>
<br/>
Can't you just compile with devkitARM and produce a .ELF file with debugging info ... and then use GDB (from devkitadvance) to debug the .ELF file ?<br/>_________________<br/>Qwak - <a href="http://www.qwak.co.uk" target="_blank">www.qwak.co.uk</a> | Forum - <a href="http://www.qwak.co.uk/forum/" target="_blank">www.qwak.co.uk/forum/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23883 - nrpil - Fri Jul 23, 2004 2:23 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
I'm alos using the kit from <a href="http://www.devkit.tk/" target="_blank">http://www.devkit.tk/</a>
<br/>
<br/>
Can i without problems just use the gdb from devkitadv ?
<br/>
<br/>
Greetings,
<br/>
Norbert</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23889 - f(DarkAngel) - Fri Jul 23, 2004 4:07 pm</h4>
    <div class="postbody"><span class="postbody">You can cross-compile the latest version of gdb easily. You can get the sources at <a href="http://sources.redhat.com/" target="_blank">http://sources.redhat.com/</a>
<br/>
<br/>
Assuming that you have extracted the gdb &amp; insight sources to your home dir with the default names:
<br/>
<br/>
~/gdb/insight-&lt;ver&gt;/configure --target=arm-elf --prefix=&lt;dir&gt;
<br/>
make
<br/>
(optional)
<br/>
make install<br/>_________________<br/>death scream...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23902 - wintermute - Fri Jul 23, 2004 9:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>f(DarkAngel) wrote:</b></span></td> </tr> <tr> <td class="quote">You can cross-compile the latest version of gdb easily. You can get the sources at <a href="http://sources.redhat.com/" target="_blank">http://sources.redhat.com/</a>
<br/>
<br/>
Assuming that you have extracted the gdb &amp; insight sources to your home dir with the default names:
<br/>
<br/>
~/gdb/insight-&lt;ver&gt;/configure --target=arm-elf --prefix=&lt;dir&gt;
<br/>
make
<br/>
(optional)
<br/>
make install</td> </tr></table><span class="postbody">
<br/>
<br/>
assuming you're running linux, windows isn't quite that simple - there is actually an Insight package for win32 available on devkit.tk</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23904 - f(DarkAngel) - Fri Jul 23, 2004 11:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">assuming you're running linux, windows isn't quite that simple</td> </tr></table><span class="postbody">
<br/>
<br/>
It is.
<br/>
<br/>
<a href="http://www.cygwin.com" target="_blank">http://www.cygwin.com</a>
<br/>
<a href="http://www.mingw.org" target="_blank">http://www.mingw.org</a><br/>_________________<br/>death scream...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23913 - wintermute - Sat Jul 24, 2004 3:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>f(DarkAngel) wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">assuming you're running linux, windows isn't quite that simple</td> </tr></table><span class="postbody">
<br/>
<br/>
It is.
<br/>
<br/>
<a href="http://www.cygwin.com" target="_blank">http://www.cygwin.com</a>
<br/>
<a href="http://www.mingw.org" target="_blank">http://www.mingw.org</a></span></td> </tr></table><span class="postbody">
<br/>
<br/>
go try it - it's not even close to that simple.
<br/>
<br/>
The mailing lists are full of people tearing their hair out trying to get cross debuggers built on windows.
<br/>
<br/>
Getting Insight 5.2.1 to build for windows ended up with a patch that's close to 900k.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23916 - wintermute - Sat Jul 24, 2004 3:51 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote">I knew this thread would be created soon enough. I'm not sure what else to think though. Has anybody posted the obvious differences between the 2 besides the fact that DevKitAdvance hasn't been updated in a while?</td> </tr></table><span class="postbody">
<br/>
<br/>
ok here goes
<br/>
<br/>
The built in crt0 and linkscripts are accessed using the -specs switch when linking. You *must* use arm-elf-gcc (or arm-elf-g++) to link for this option to work. The use of arm-elf-ld to link should be discouraged, especially when using any standard library functions.
<br/>
<br/>
available specs files are currently :=
<br/>
<ul>
<br/>
gba.specs - a normal cartridge based image
<br/>
gba_mb.specs - an ewram based multiboot image
<br/>
gba_er.specs - an ereader image
<br/>
gp32.specs -  a standard GP32 application, using Mirko's SDK
<br/>
gp32_gpsdk.specs - a standard GP32 application using the Gamepark SDK
<br/>
</ul>
<br/>
<br/>
The built in crt0 files do not contain conditional code or interrupt support code. The GBA library currently available at devkit.tk contains code for single interrupts and will be upgraded at some point to provide nested interrupt support. Documentation is in progress although if anyone would care to help out with that I'd be quite grateful.
<br/>
<br/>
the main function should be a standard int main() - the FAQ on devrs.com which states that using this name inserts extra code for C++ support is actually wrong for an arm-elf target (actually elf targets in general from what I can gather). I keep meaning to mail Jeff about that one &amp; keep forgetting to do it.
<br/>
<br/>
The provided linkscripts are, for the most part, equivalent to the crtls provided on devrs.com with the exception of the global variables which put the heap in iwram and generate a multiboot image. Use the gba_mb.specs file for multiboot. IWRAM heap seems a little pointless really given that there's only 32k available so I've left that one out.  There is an additional section (.sbss) which allows uninitialised data to be placed in ewram without affecting the binary size. Currently that section is not cleared at startup when the image is a multiboot binary - it will be fixed in a future release. 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
unsigned char buffer[32768] __attribute__(section(".sbss"));
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Since DevkitARM uses the most recent stable packages available for binutils, gcc and newlib (currently 2.15 3.4.0 (3.4.1 shortly) and 1.12.0) the code generation is somewhat better and binary size appears to be reduced in general.
<br/>
<br/>
The 3.4.x series is more standard compliant than earlier versions so you may get errors with code that slipped by the older parser. Of note is the requirement to specify the namespace explicitly when using C++.
<br/>
<br/>
arm-elf-as recognises the .incbin directive for including binary files - currently this appears to work only in the working directory and not from the specified include paths as the documentation states. 
<br/>
<br/>
devkitARM does not provide *nix tools such as make - I recommend using the msys package for this.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23928 - f(DarkAngel) - Sat Jul 24, 2004 4:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">go try it - it's not even close to that simple.
<br/>
<br/>
The mailing lists are full of people tearing their hair out trying to get cross debuggers built on windows.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Do you think you are the only one who can build gcc? Or are you trying to convince people that it is something very difficult and people should chicken out? If it was startup code and linker script you said to be not "that" easy, i would appreciate it. You are only speculating.
<br/>
<br/>
I have done more than trying, i have done it for m68k for Sega Genesis, not only gdb, with binuntils, gcc, g++, newlib and libstdc+++, under both cygwin and linux. It <span style="font-weight: bold">IS</span> that simple.<br/>_________________<br/>death scream...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23935 - wintermute - Sat Jul 24, 2004 11:43 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>f(DarkAngel) wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
Do you think you are the only one who can build gcc? Or are you trying to convince people that it is something very difficult and people should chicken out? If it was startup code and linker script you said to be not "that" easy, i would appreciate it. You are only speculating.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
No, I've just spent enough time helping people to build gcc and associated tools to know that the average person finds it extremely difficult to do.
<br/>
<br/>
building under linux is easy
<br/>
<br/>
building a cygwin dependent toolchain is fairly easy with a properly configured environment. It's also extremely easy to get things wrong &amp; end up in a mess.
<br/>
<br/>
building a win32 native(i.e. not cygwin dependent) toolchain is something else entirely and can be an extremely frustrating experience.
<br/>
<br/>
On a more productive note.
<br/>
<br/>
I've recently gained a Sourceforge project for my toolchains, currently I have ARM and powerpc and have had a few requests for a dreamcast version. It might be interesting to add a Genesis compiler to the list if you're interested in adding your skills to the project?  How feasible would it be to produce a generic 68k compiler as I've done for ARM?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23953 - tepples - Sun Jul 25, 2004 7:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">I've recently gained a Sourceforge project for my toolchains, currently I have ARM and powerpc and have had a few requests for a dreamcast version.</td> </tr></table><span class="postbody">
<br/>
Standardized MinGW-based sh-elf-gcc binaries would be convenient, as people wouldn't have to install Cygwin just to develop for the Dreamcast, although the KOS library's build process might have to be ported to use MSYS rather than Cygwin.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">It might be interesting to add a Genesis compiler to the list if you're interested in adding your skills to the project?  How feasible would it be to produce a generic 68k compiler as I've done for ARM?</td> </tr></table><span class="postbody">
<br/>
GCC supports m68k according to <a class="postlink" href="http://gcc.gnu.org/backends.html" target="_blank">the backends page</a>, but I don't know if that's just 68020 or later or if it works with 68000 as well. There seems to be a ? under whether a free m68k simulator exists; wouldn't DGen count?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23960 - f(DarkAngel) - Sun Jul 25, 2004 3:22 pm</h4>
    <div class="postbody"><span class="postbody">It's not a must to have a cygwin environment to run a gcc toolchain compiled under cygwin. Cygwin .dlls can be found in their homepage.
<br/>
<br/>
GCC supports m68000 (m68k familiy since they have similar instructions), but when you use configuration m68k-*-*, compiler defaults to 68020 and you have to use -m68000 switch. Binutils accepts m68000-*-* target but gcc doesn't. I had to modify the default machine in m68k header under gcc/config.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">It might be interesting to add a Genesis compiler to the list if you're interested in adding your skills to the project? How feasible would it be to produce a generic 68k compiler as I've done for ARM?</td> </tr></table><span class="postbody">
<br/>
<br/>
OK, no problem.
<br/>
"Generic"? Maybe, if you supply startup code and linkerscripts for each system.
<br/>
<br/>
An ancient version of m68k gcc is available at <a href="http://home.hiwaay.net/~eubanks/" target="_blank">http://home.hiwaay.net/~eubanks/</a><br/>_________________<br/>death scream...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23966 - tepples - Sun Jul 25, 2004 6:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>f(DarkAngel) wrote:</b></span></td> </tr> <tr> <td class="quote">It's not a must to have a cygwin environment to run a gcc toolchain compiled under cygwin.</td> </tr></table><span class="postbody">
<br/>
Other than that it's hard to find binaries of Cygwin-compiled DC-targeted GCC? This in turn is because it's hard to find an affordable web host with the space to host both the binaries and the source code for Newlib, GCC, and Binutils.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23984 - dovoto - Mon Jul 26, 2004 12:10 am</h4>
    <div class="postbody"><span class="postbody">My tutorials now support (only) devkitArm.  I have had no issues other then realizing that the -specs directive was needed and haveing to write my own interupt handler (Wintermute provides one that works quite well in the gbalib on devkit.tk ).  
<br/>
The major advantages in my opinion over devkitadv is the use of minsys as apposed to cygwin, makeing it much faster, and the more recent build of gcc that is employed.  The small 8MB package is nice too.  I see more and more people switching to this build and it is a trend i would like to see continue.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23986 - dovoto - Mon Jul 26, 2004 12:22 am</h4>
    <div class="postbody"><span class="postbody">gcc for DC with Kos iintegrated.  I have never even used the supplied make files to build kos projects btw so porting to some other makefile system should not be an issue.  Both the gcc and the kos versions are outdated but if they are really that hard to find...
<br/>
<br/>
<a href="http://www.thepernproject.com/Dreamcast/" target="_blank">http://www.thepernproject.com/Dreamcast/</a><br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
