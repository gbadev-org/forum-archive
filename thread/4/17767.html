<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>generating random numbers - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > generating random numbers</h2>
<div id="posts">
<div class="post">
    <h4>#176975 - blessingta@hotmail.co.uk - Sun Nov 13, 2011 10:11 pm</h4>
    <div class="postbody"><span class="postbody">hi
<br/>
<br/>
Are there pre-made functions for generating random numbers?
<br/>
<br/>
<br/>
And whats the equivalent for itoa (INT to CHAR*) conversion? I need this to convert the player's int score for displaying on screen.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176979 - Dwedit - Mon Nov 14, 2011 12:25 am</h4>
    <div class="postbody"><span class="postbody">There's always stdlib's rand() if you don't care about the quality of your random numbers.  People seem to like the <a class="postlink" href="http://en.wikipedia.org/wiki/Mersenne_twister" target="_blank">mersenne twister</a> algorithm better.
<br/>
But either way, you need a good source of randomness, otherwise you end up with <a class="postlink" href="http://ds.ign.com/articles/846/846586p1.html" target="_blank">NDS Deal or No Deal</a>, which always put the top prize in the exact same briefcase every first game.
<br/>
The easiest way to get good enough randomness is to call your random function at least once per frame.
<br/>
There's also another way to get randomness, if you're really hardcore about random numbers: measure exactly how long the player pushed the A or Start button at the beginning of the game.  To do that, replace the "vblank wait" function with one that:
<br/>
* Calls the random number function
<br/>
* Checks the scanline number to see if we hit vblank
<br/>
* Checks if you are still holding the A/Start button.
<br/>
* Repeats until vblank is reached, or you released A/Start.
<br/>
Only use this special version of the vblank wait function at the beginning, when you're waiting for the player to let go of the A button. at the title screen.
<br/>
<br/>
For integer to text conversion, try "sniprintf".  Traditionally, there's sprintf() for outputting to a string, but that doesn't take into account how big your destination buffer is, so you use snprintf() instead.  "sniprintf" makes it integer-only, so it excludes the floating-point conversion code.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176983 - blessingta@hotmail.co.uk - Tue Nov 15, 2011 4:48 pm</h4>
    <div class="postbody"><span class="postbody">thanks I think I'll go with the mersenne twister, but I've been googling for it yet I still can't find an easy implementation of it.
<br/>
<br/>
But at the same time how slow is the stdlib's rand() function? this may be hard to justify since I have to use asm within my coursework hence wasting memory will generally be looked down upon.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
