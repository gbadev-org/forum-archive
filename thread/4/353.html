<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Where in memory? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Where in memory?</h2>
<div id="posts">
<div class="post">
    <h4>#2164 - Grumps - Thu Jan 30, 2003 11:34 am</h4>
    <div class="postbody"><span class="postbody">A few Qs.
<br/>
When you compile under HAM or devkitadv, are the binary output files directly runnable(?) in a flash cart?
<br/>
Whereabouts in GBA memory do variables go? Are these automatically handled (and that goes for the stack too)?
<br/>
Should all chunks of memory be malloc'd or is it safe to use hard pointers?
<br/>
Why does my head hurt?
<br/>
TIA.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2171 - Splam - Thu Jan 30, 2003 1:12 pm</h4>
    <div class="postbody"><span class="postbody">Not sure about HAM or DevkitAdv cuz I don't use them BUT it all probably depends on what flash software you use, some supposedly fixes up the rom header for you as it flashes and so will run directly on hardware, I have to run gbafix on my rom files else they won't work on hardware.
<br/>
<br/>
Variables, depends where you tell them to go (probably in makefile) with the sections commands  -T  text bss etc  but once again, could be different on HAM or Devkit.
<br/>
<br/>
I wouldn't personally recommend using malloc on ANY console (and this is a personal choice) because of the fixed ram you SHOULD really know how much ram you're using for variables etc (make a map file) and how much you're allocating, if it's too big malloc will fail anyway and you're stuck PLUS malloc causes memory fragments.  If you really need to use it then write your own, can be much nicer, I did one which I use sometimes which allows "shuffling" of the allocated areas when there is spare time (when fading screens or something) just moves all the allocated areas around to remove fragments.
<br/>
<br/>
Stack is usually set up in crt0, also some crt0.s set up predefined variables for you (copy to ram etc) and some don't, make sure you know if yours does or not else you could have problems ;)
<br/>
<br/>
Your head hurts because...  well, could be one of many things ;)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
