<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Documenting your own code? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Documenting your own code?</h2>
<div id="posts">
<div class="post">
    <h4>#152941 - strat - Sun Mar 23, 2008 2:33 am</h4>
    <div class="postbody"><span class="postbody">I just got my GBA game to detect collisions between the sprite and the background, by checking the difference between the midpoints of the sprite bounding box and the background metatile.  When a sprite overlaps the metatile, it's sent back an equal amount that it moved into the solid space.
<br/>
<br/>
Now here's the dumb part...figuring the sprites would change speed at some point (but not caring at the moment, since getting the collision itself to work drove me nuts), I used a for loop to call the code to send the sprite back.  The terminating condition?  The difference between the midpoints.  Problem is, the same subroutines are used to move the sprite normally and move it out of the solid space.  The result was a bouncing screen and me taking awhile to remember those for loops even existed.
<br/>
<br/>
It's becoming clear that 40% of my coding time will be productive and the rest will be finding silly mistakes like this.  So I'm wondering how any of you document your coding?  Right now I'm just using some totally English pseudo-code.
<br/>
<br/>
I'm not willing to use flow charts, but a function and variable database might be an idea.  Like, trace a local or global var through all the functions its passed to and what's done with it.  I'm thinking about making an ODBC app for it.
<br/>
<br/>
Oh, and if this is already a topic, uh, now you really know why documenting is necessary.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152965 - Quirky - Sun Mar 23, 2008 2:06 pm</h4>
    <div class="postbody"><span class="postbody">Don't bother writing an app - somebody has probably done something already. What you mention sounds a lot like what <a class="postlink" href="http://www.stack.nl/~dimitri/doxygen/" target="_blank">Doxygen</a> can do for you. By clicking links you see where your variables are passed to. Ctags and Vim - press g] on a function call - gives a similar navigation approach.
<br/>
<br/>
I tend not to write (or read for that matter) many source code comments. They are usually noise,  "set variable x to 3", or just outright "lies" - comments that lost their meaning after changes in the code. Psuedo code is a good idea for your important algorithms. Easier to read the overview than dig in, but only if kept up to date.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153119 - strat - Tue Mar 25, 2008 6:06 am</h4>
    <div class="postbody"><span class="postbody">I might check out Doxygen.  For comments I usually summarize what a chunk of code is doing and maybe give the purpose of variables.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153171 - tepples - Wed Mar 26, 2008 12:04 am</h4>
    <div class="postbody"><span class="postbody">Java recommends a standard "javadoc" format for comments before each function, and doxygen can parse it in other C-like languages.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">/**
<br/>
 * Counts the bits in a bit vector that are true (1).
<br/>
 * @param b  a bit vector
<br/>
 * @return   the number of 1 bits
<br/>
 */
<br/>
unsigned int countOnes(LJBits b) {
<br/>
  unsigned int ones = 0;
<br/>
<br/>
  while(b) {
<br/>
    ++ones;
<br/>
    b &amp;= b - 1;
<br/>
  }
<br/>
  return ones;
<br/>
}</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153178 - Lord Graga - Wed Mar 26, 2008 1:45 am</h4>
    <div class="postbody"><span class="postbody">Heh, that's a pretty elegant algorithm, tepples.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153786 - sgeos - Sun Apr 06, 2008 7:57 am</h4>
    <div class="postbody"><span class="postbody">I follow the religion of self documenting code.  Comments are few and far between, and generally look like code.  I also believe that both method/function parameters and should be identifiable at a glance, and parameters should be treated as read only.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">BOOLEAN is_alive(critter_t pCritter)
<br/>
{
<br/>
  if (0 &lt; pCritter.hp)
<br/>
    return FALSE;
<br/>
  // else
<br/>
    return TRUE;
<br/>
}
<br/>
<br/>
id_t next_id(id_t pId)
<br/>
{
<br/>
  id_t id = pId + 1;
<br/>
  if (id &lt; gMaxId)
<br/>
    return id;
<br/>
  # else
<br/>
    return correct_id(id);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
If code is not self documenting, it should be documented.  ...OK, I'll actually argue that it should probably be refactored.  =P
<br/>
<br/>
As for tepples's code?  A good example of non-self documenting code that should be documented but not refactored.  "b &amp;= b - 1" is non-obvious.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153788 - SevenString - Sun Apr 06, 2008 9:18 am</h4>
    <div class="postbody"><span class="postbody">All my classes, variables, methods, etc.  tend to be very descriptive.  Heck, I often even name indices with specific verbose names, such as "conceptBindingArrayIndex".
<br/>
<br/>
If there's anything truly complex and non-intuitive going on (which is OFTEN in my latest system), I document the crap out of it, both in-line and externally.
<br/>
<br/>
I've built up quite a collection of architectural diagrams, white papers, API documentation, etc.
<br/>
<br/>
If I'm making some DS homebrew?  I do more explicit documentation of my asset pipeline than I do of my code.
<br/>
<br/>
Mainly because I hate coming back to fix some graphic asset, only to have forgotten half the steps that it took to get it into the game.  "Now WHAT tool was I using to merge those palettes?"   lol
<br/>
<br/>
My latest homebrew is mixing several iso backgrounds with transparency, a complex collision map system, and some 3D layering and animation.  If I didn't have a documented process, I'd be totally lost.<br/>_________________<br/><span style="font-style: italic">"Artificial Intelligence is no match for natural stupidity."</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153869 - gauauu - Mon Apr 07, 2008 5:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SevenString wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Mainly because I hate coming back to fix some graphic asset, only to have forgotten half the steps that it took to get it into the game.  </td> </tr></table><span class="postbody">
<br/>
<br/>
Do you not use makefiles and scripts to automatically convert from the original asset source into the game format? Or do you mean in addition to this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153871 - SevenString - Mon Apr 07, 2008 5:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gauauu wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SevenString wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Mainly because I hate coming back to fix some graphic asset, only to have forgotten half the steps that it took to get it into the game.  </td> </tr></table><span class="postbody">
<br/>
<br/>
Do you not use makefiles and scripts to automatically convert from the original asset source into the game format? Or do you mean in addition to this?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
In addition to make and batch files.
<br/>
<br/>
I'm talking more about the design and documentation of the overall art/asset pipeline, beyond the usual "sprites over a scrolling background" kind of thing.<br/>_________________<br/><span style="font-style: italic">"Artificial Intelligence is no match for natural stupidity."</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154082 - Jinroh - Thu Apr 10, 2008 6:45 pm</h4>
    <div class="postbody"><span class="postbody">I use a method of both self-documenting and pseudo-code comments.
<br/>
<br/>
It may be overkill, but some of my older projects, like from High School I go back and try to read some of what I was doing and I'm just baffled by the non-use of whitespace and comments. It's atrocious.
<br/>
<br/>
Anyway, I'm the type of person who if they go back to a project after a coma want to understand it and be able to pickup right away. Or Amnesia even. :D<br/>_________________<br/><span style="font-style: italic"><span style="font-weight: bold"><span style="color: gray">The lone Wolf howls, driven by pride he presses on. Knowing not where he goes, but only where he wants to be.
<br/>
~Me~</span></span></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154119 - naleksiev - Fri Apr 11, 2008 4:23 pm</h4>
    <div class="postbody"><span class="postbody">I think if the code needs comments to be understood than it's written bad. Of course some optimized algorithms or important code could benefit from 2,3 lines explanation.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154154 - sgeos - Sat Apr 12, 2008 12:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>naleksiev wrote:</b></span></td> </tr> <tr> <td class="quote">I think if the code needs comments to be understood than it's written bad. Of course some optimized algorithms or important code could benefit from 2,3 lines explanation.</td> </tr></table><span class="postbody">
<br/>
I could see this as a rule of thumb, but there are times when comments are needed.  Sometimes your task is just odd, so the code comes out odd.  In that case it should be documented.
<br/>
<br/>
I find that I sometimes put links to documentation in my code.  If, for example I searched for flood fill algorithms when writing the module, I might note the sites I used.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167234 - keldon - Fri Mar 06, 2009 6:02 pm</h4>
    <div class="postbody"><span class="postbody">Maybe try commenting your code like you are writing a tutorial, the aim is to explain what and why when needed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169637 - Karatorian - Mon Jul 27, 2009 6:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SevenString wrote:</b></span></td> </tr> <tr> <td class="quote">If I'm making some DS homebrew?  I do more explicit documentation of my asset pipeline than I do of my code.
<br/>
<br/>
Mainly because I hate coming back to fix some graphic asset, only to have forgotten half the steps that it took to get it into the game.  "Now WHAT tool was I using to merge those palettes?"</td> </tr></table><span class="postbody">
<br/>
<br/>
Hmm, that's about the exact opposite of me. My asset pipeline <span style="font-style: italic">is</span> code (make files and python scripts mostly).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169659 - elwing - Tue Jul 28, 2009 8:02 am</h4>
    <div class="postbody"><span class="postbody">you should definatly use doxygen, it is simply great... and if it does not suit your own needs you can even pre process your code for documentation using custom perl scripts...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
