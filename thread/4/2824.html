<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GNU make vs shell commands - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > GNU make vs shell commands</h2>
<div id="posts">
<div class="post">
    <h4>#16103 - Cearn - Sun Feb 08, 2004 1:58 pm</h4>
    <div class="postbody"><span class="postbody">I'm using Visual C++ and devkit advance v4 to compile my GBA projects. The compilation &amp; linking part works just fine, but when I try to use other 
<br/>
commands like "rm" and "cd" do I run into problems. 
<br/>
<br/>
For example, to clean all the object and executable files (using the well-known wildcard character '*') I use something like 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">SRCDIR= ./examples
<br/>
<br/>
.PHONY : clean_all
<br/>
clean_all:
<br/>
   rm -fv $(SRCDIR)/*.o $(SRCDIR)/*.elf $(SRCDIR)/*.gba
<br/>
</td> </tr></table><span class="postbody">
<br/>
It's supposed to remove all ".o", ".elf" and ".gba" files, but all I get is</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">/bin/sh: command not found
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The project is set up to use the GNU make from DKA v4 instead of Visual C's NMAKE, so the forward slashes aren't the problem.
<br/>
I do have a working "rm" command. If I fill in the files manually everything works fine. Somehow it's the '*' character messes the whole thing up. But only if I use a makefile, from the command line the command does what it's supposed to do.
<br/>
This problem is not limited to "rm"; other commands don't like '*' in their arguments either. But I've seen people use them in their make files, so I know it's possible. Anyone know why they don't work in my case?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16104 - tepples - Sun Feb 08, 2004 2:42 pm</h4>
    <div class="postbody"><span class="postbody">It appears that if you use the Cygwin make, you need the Cygwin shell installed. For a more Windows-friendly make, try the MinGW make.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16105 - Cearn - Sun Feb 08, 2004 2:55 pm</h4>
    <div class="postbody"><span class="postbody">I was wondering whether cygwin had anything to do with it. Thanks for clearing that up. 
<br/>
But about MinGW, uhm, I'd like to give it a try but apparently <a class="postlink" href="http://www.rmitton.com/gbacc/" target="_blank">http://www.rmitton.com/gbacc/</a> (which gbadev.org links to) doesn't have it any more :(. 
<br/>
Edit: Nevermind, <a href="http://www.mingw.org." target="_blank">www.mingw.org.</a> Duh.
<br/>
<br/>
Also, how would I tell my makefiles to use the MinGW shell? I assume it won't do so automatically.
<br/>
<br/>
And I'd still like to know <span style="font-style: italic">why</span> it chokes on a '*' character.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16106 - tepples - Sun Feb 08, 2004 3:16 pm</h4>
    <div class="postbody"><span class="postbody">Things to remember:<ul><li>MinGW's make is named <span style="font-weight: bold">mingw32-make</span> as opposed to <span style="font-weight: bold">make</span>.</li><li>If you put MinGW in front of DevKit Advance in your PATH for compiling native tools, you'll want to use <span style="font-weight: bold">arm-agb-elf-gcc</span> etc. for compiling GBA code.</li><li>You may want to switch to MinGW-based DevKit Advance R5 beta 3.</li></ul><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16107 - Paul Shirley - Sun Feb 08, 2004 3:27 pm</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 9:14 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#16108 - Cearn - Sun Feb 08, 2004 3:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">SHELL= /bin/sh</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
That simple huh? I'll try that then.
<br/>
But in the end I suppose I should switch to R5 beta 3 one of these days. Too bad there's no simple setup.exe like there is for v4, now I have to figure out how to set it up myself. But it's not like that's ever caused anyone any problems, right? :/</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
