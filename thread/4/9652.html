<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compiler error - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Compiler error</h2>
<div id="posts">
<div class="post">
    <h4>#84323 - usch_ghost - Sun May 21, 2006 10:32 pm</h4>
    <div class="postbody"><span class="postbody">Hi i tried to cmpile the kubus demo from gbadev but the compiler gives me this error:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">gba_crt0.s:(.init+0x220): undefined reference to `main'</td> </tr></table><span class="postbody">
<br/>
<br/>
can someone help me to solve this problem?
<br/>
thx in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84327 - tepples - Sun May 21, 2006 11:08 pm</h4>
    <div class="postbody"><span class="postbody">Is there a function called AgbMain()? If so, rename it to main(). If not, what command lines are you using?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84476 - usch_ghost - Mon May 22, 2006 7:40 pm</h4>
    <div class="postbody"><span class="postbody">I?m using an editet .bat file from the pernproject tutorials 
<br/>
this are the arguments:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">@echo off
<br/>
REM just add  .c file and  .o file to the next two lines 
<br/>
set CFILES= cube.c
<br/>
set OFILES= cube.o
<br/>
<br/>
<br/>
set GAME= cube
<br/>
set SPECS=gba_mb.specs
<br/>
<br/>
set DEVDIR=G:\devkitpro\devkitARM
<br/>
<br/>
PATH=%DEVDIR%\bin;%path%
<br/>
<br/>
REM set our paths so the linker knows were to look for the libs
<br/>
set LIBDIR= %DEVDIR%\arm-elf\lib\interwork
<br/>
<br/>
<br/>
REM set our include directories so the compiler can find our include files
<br/>
set INCDIR= %DEVDIR%\arm-elf\include
<br/>
set INCDIR2= ..\..\..\include
<br/>
<br/>
<br/>
REM the compiler and linker flags
<br/>
set CFLAGS= -I.  -I%INCDIR% -I%INCDIR2% -c -g -O2 -Wall -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb -mthumb-interwork 
<br/>
<br/>
set LDFLAGS=  -mthumb -mthumb-interwork -specs=%SPECS% -L%LIBDIR% -L%LIBDIR2%  
<br/>
<br/>
<br/>
<br/>
<br/>
REM Compile the cfiles
<br/>
arm-elf-gcc  %CFILES% %CFLAGS%
<br/>
<br/>
REM link the o files
<br/>
arm-elf-gcc -o %GAME%.elf  %OFILES% %LDFLAGS% 
<br/>
<br/>
REM gcc produces .elf exicutables...objcopy to .gba
<br/>
arm-elf-objcopy -v -O binary %game%.elf %game%.gba
<br/>
<br/>
gbafix %game%.gba
<br/>
<br/>
REM remove all the ofiles
<br/>
del %OFILES%
<br/>
del %game%.elf
<br/>
<br/>
pause</td> </tr></table><span class="postbody">
<br/>
<br/>
but now i get another error -.-"
<br/>
this is what the compiler says
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">cube.c:51: warning: missing braces around initializer
<br/>
cube.c:51: warning: (near initialization for 'vertices[0]')
<br/>
cube.c: In function 'RotateAndProject':
<br/>
cube.c:280: warning: 'dist' is used uninitialized in this function
<br/>
arm-elf-gcc: argument to '-L' is missing
<br/>
arm-elf-objcopy: 'cube.elf': No such file
<br/>
Error opening input file!
<br/>
G:\devkitPro\projects\examples\kubus\cube.elf konnte nicht gefunden werden
<br/>
Dr?cken Sie eine beliebige Taste . . .</td> </tr></table><span class="postbody">
<br/>
<br/>
what does " argument to '-L' is missing" mean?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84485 - tepples - Mon May 22, 2006 9:48 pm</h4>
    <div class="postbody"><span class="postbody">It means you didn't set %LIBDIR2%.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
