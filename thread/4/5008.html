<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>malloc & free not working with devkitadv - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > malloc & free not working with devkitadv</h2>
<div id="posts">
<div class="post">
    <h4>#35666 - headspin - Wed Feb 09, 2005 6:09 am</h4>
    <div class="postbody"><span class="postbody">I'm guessing it's because I'm using jeffs crt0 and linkscript, but I get the following error
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">devkitadvc:\devkitadv-r5-beta-3\bin\..\lib\gcc-lib\arm-agb-elf\3.2.2\..\..\..\..\arm-agb-elf\lib\thumb/interwork\libc.a(agb-sbrk.o): In function `_sbrk':
<br/>
../../../../../../../../gcc-3.2.2/newlib/libc/sys/agb/agb-sbrk.c:28: undefined reference to `__appended_end'
<br/>
../../../../../../../../gcc-3.2.2/newlib/libc/sys/agb/agb-sbrk.c:28: undefined reference to `__heap_limit'
<br/>
../../../../../../../../gcc-3.2.2/newlib/libc/sys/agb/agb-sbrk.c:28: undefined reference to `__appended_start'
<br/>
collect2: ld returned 1 exit status</td> </tr></table><span class="postbody">
<br/>
<br/>
Any ideas?[/quote]<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35667 - headspin - Wed Feb 09, 2005 6:36 am</h4>
    <div class="postbody"><span class="postbody">I seem to get the same error using any functions from stdio.h or stdlib.h<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36469 - Piratero - Mon Feb 21, 2005 10:30 pm</h4>
    <div class="postbody"><span class="postbody">do you get the same error if you were to update to devkitarm? <a class="postlink" href="http://www.devkit.tk/" target="_blank">http://www.devkit.tk/</a><br/>_________________<br/><a href="http://mrkotfw.ribrdb.com/" target="_blank">http://mrkotfw.ribrdb.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36515 - headspin - Wed Feb 23, 2005 4:45 am</h4>
    <div class="postbody"><span class="postbody">Good point... I guess it's time to take the plunge and move to it. Anything I should know, like will I have to modify my code much? Can I still use Jeff's crt0 and linkscript?<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36518 - tepples - Wed Feb 23, 2005 5:50 am</h4>
    <div class="postbody"><span class="postbody">A crt0 + linker script based on Jeff F's comes with DevKit Advance R4 and R5b3 and all versions of devkitARM. However, the newer versions tend to refactor built-in interrupt dispatch support (IntrTable stuff) into a separate file. That said, I didn't notice much of a change because I write my own ISRs to the metal.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
