<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Resetting the GBA - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Resetting the GBA</h2>
<div id="posts">
<div class="post">
    <h4>#824 - darkcloud - Fri Jan 10, 2003 10:35 pm</h4>
    <div class="postbody"><span class="postbody">Is there a way to reset the GBA in code?<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#826 - Vortex - Fri Jan 10, 2003 10:44 pm</h4>
    <div class="postbody"><span class="postbody">From the GBATEK Documentation:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
 BIOS Reset Functions 
<br/>
<br/>
SoftReset
<br/>
RegisterRamReset
<br/>
<br/>
SWI 0 - SoftReset
<br/>
Clears the CPU internal RAM area from 3007E00h-3007FFFh, initializes system, supervisor, and irq stack pointers, and sets R0-R12 to zero, and enters system mode.
<br/>
  [3007FFAh] Return Address Select (00h for 8000000h, 01h-FFh for 2000000h)
<br/>
<br/>
<br/>
Return: Does not return to calling procedure, instead, jumps to 8000000h (ROM) or 2000000h (WRAM), in ARM state.
<br/>
<br/>
SWI 1 - RegisterRamReset
<br/>
Resets the I/O registers and RAM specified in ResetFlags. However, it does not clear the CPU internal RAM area from 3007E00h-3007FFFh.
<br/>
  r0  ResetFlags
<br/>
       Bit   Expl.
<br/>
       0     Clear 256K on-board WRAM  ;-don't use when returning to WRAM
<br/>
       1     Clear 32K in-chip WRAM    ;-excluding last 200h bytes
<br/>
       2     Clear Palette
<br/>
       3     Clear VRAM
<br/>
       4     Clear OAM              ;-zerofilled! does NOT disable OBJs!
<br/>
       5     Reset SIO registers    ;-switches to general purpose mode!
<br/>
       6     Reset Sound registers
<br/>
       7     Reset all other registers (except SIO, Sound)
<br/>
<br/>
<br/>
Return: No return value.
<br/>
Bug: LSBs of SIODATA32 are always destroyed, even if Bit5 of R0 was cleared.
<br/>
The function always switches the screen into forced blank by setting DISPCNT=0080h (regardless of incoming R0, screen becomes white).
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1366 - Gordon - Fri Jan 17, 2003 4:27 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>darkcloud wrote:</b></span></td> </tr> <tr> <td class="quote">Is there a way to reset the GBA in code?</td> </tr></table><span class="postbody">
<br/>
Add the following Codes.  
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void softReset() {
<br/>
                asm volatile("swi 0x00000"); // 0x00 Soft Reset
<br/>
         }</td> </tr></table><span class="postbody">
<br/>
<br/>
Note: 
<br/>
Modify the [ Bios Interrrup number ] and append 4 zeros after that.
<br/>
for every bios call .
<br/>
<br/>
Format: 
<br/>
SWI 0x[Bios Interrupt number]0000
<br/>
<br/>
Bye now!
<br/>
Gordon
<br/>
<br/>
[/code]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
