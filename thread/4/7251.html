<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>libgba ANSI console bloat - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > libgba ANSI console bloat</h2>
<div id="posts">
<div class="post">
    <h4>#58102 - wintermute - Thu Oct 20, 2005 9:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>In <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=58077#58077" target="_blank">this post</a>, tepples wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Problem that I've found is that if you bring in stdio, it appears that you bring in the floating-point version of the printf engine (printf, fprintf, sprintf) and not the integer version (iprintf, fiprintf, siprintf). This brings in the whole 40 KB floating-point emulation library, which is significant especially on GBA. At least consoleInit() from libgba has this problem, and for this reason my GBAMP compatible demos will probably use something lightweight such as AGBTTY and not the libgba/libnds built-in console code.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Ever consider reporting these things?
<br/>
<br/>
<a href="http://www.devkitpro.org/bugs.shtml" target="_blank">http://www.devkitpro.org/bugs.shtml</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58268 - tepples - Sat Oct 22, 2005 1:57 am</h4>
    <div class="postbody"><span class="postbody">I considered it, but I thought better of it because as dovoto implied, it would probably have been resolved invalid. Where I come from (MozillaZine forums), it's polite to discuss misbehavior on a forum first, seeing if others can reproduce the problem or even think it's important, so that I don't waste maintainers' time by reporting intended behavior as a bug.
<br/>
<br/>
<a class="postlink" href="https://sourceforge.net/tracker/index.php?func=detail&amp;aid=1334612&amp;group_id=114505&amp;atid=668551" target="_blank">Here goes nothing...</a>
<br/>
<br/>
(And now for something completely different)
<br/>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=7250" target="_blank">I wonder... how much speed can I expect out of this driver?</a><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58273 - wintermute - Sat Oct 22, 2005 2:56 am</h4>
    <div class="postbody"><span class="postbody">Discussion on a forum is fine if the forum in question is the primary means of support for the item under discussion. Unfortunately the other developers and I seldom have the time to work through all the messages here looking for things that may be related to devkitARM and the associated libraries so we often miss some of the problems that are mentioned.
<br/>
<br/>
Dovoto was just poking fun because we removed the broken printing functions and replaced them with proper stdio support. There are many reasons for going down that route, not least the ease of porting text based apps and eventually more standard file IO handling.
<br/>
<br/>
The floating point thing with the console code was due to using sscanf to decipher the ansi escape sequences. This has been replaced with the integer equivalent in CVS and brings the ansi console example down to 26k from around 42k. It can probably be dropped a little further by using custom code to extract the ansi sequence parameters but we'll leave it at that for the time being.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
