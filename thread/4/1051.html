<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Password system - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Password system</h2>
<div id="posts">
<div class="post">
    <h4>#5053 - NovusAmor - Fri Apr 18, 2003 5:09 pm</h4>
    <div class="postbody"><span class="postbody">I'm trying to figure out how to condense about 252 bits of data into a 7 letter(A-Z, 0-9) password. Does anyone have a good method or algorithm that could achieve this or something similar? For example look at the original Metroid(NES) password.
<br/>
<br/>
Robert
<br/>
<a href="http://www.neopong.com" target="_blank">www.neopong.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5055 - sgeos - Fri Apr 18, 2003 5:38 pm</h4>
    <div class="postbody"><span class="postbody">A to Z is 26 possibilities, 0 to 9 is another 10 possibilities.  36 possibilities to the power of seven (seven digit password) is 78364164096 possibilities.
<br/>
2 to the power of 252 requires over 75000000000000000000000000000000000000000000000000000000000000000000000000000 possibilities.
<br/>
<br/>
There is no solution for the problem you describe.  Here is a working solution:  A to Z is 26 possibilities, 0 to 9 is another ten.  Cut a few characters that look the same so that we only have 32 possibilities total.  That comes out to one character per 5 bits.  252/5 is over 50, so we'll need 51 characters to store this data.
<br/>
<br/>
51 characters times 5 bits = 255 bits.  252 bits are used for the password, that means that there are 3 bits that can be used for security.  2 to the power of 3 = 8.  One in every 8 passwords entered will be valid.
<br/>
<br/>
You'll need to write something that will pack and upack you 5 bit characters into you actual data.  I could have just said this at the start, but I think you need to cut down on the data that you are storing using your password.  Storing thing like money and life as an exact figure are very expensive when it come to the number of bits available.
<br/>
<br/>
Personally, I always figure out how many possibilities my password system gives me, including security bits at this stage.  I figure out what I can actually store from there.
<br/>
<br/>
I like 10 security bits, or one in every 1024 passwords is valid. =)
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5056 - pollier - Fri Apr 18, 2003 5:42 pm</h4>
    <div class="postbody"><span class="postbody">It seems to me that in raw form you're only going to get about 35 bits of data stored on those 7 characters; even with some kind of compression I really doubt you can fit that much data in so few characters. You probably either need to save less information, restructure it, or use more characters.
<br/>
<br/>
I don't know much about Metroid passwords, but they're variable length, which might mean they're compressed. (???)
<br/>
<br/>
EDIT: sgeos beat me to the punchline! Read his, it's a lot more comprehensive.<br/>_________________<br/>(Works for me!)</span><span class="gensmall"><br/><br/>Last edited by pollier on Fri Apr 18, 2003 5:44 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#5057 - NovusAmor - Fri Apr 18, 2003 5:44 pm</h4>
    <div class="postbody"><span class="postbody">That's basically the same conclusion I came to. Unfortunately I've got to figure something out since the publisher doesn't want to spend the extra money on an EEPROM. Are there any tricks I might have over looked such as having ranges that are the same multiple or lookup tables?
<br/>
<br/>
NovusAmor</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5059 - pollier - Fri Apr 18, 2003 6:11 pm</h4>
    <div class="postbody"><span class="postbody">Seven characters is simply not enough...
<br/>
<br/>
Look-up tables would work, with a big sacrifice in accuracy; also, if your game is stage-oriented there's probably lots of assumptions you can make when loading the data, ie. lots of state flags for key points can be revamped if one can't be set without the other being previously set.
<br/>
<br/>
I just hope you're not trying to encode a non-linear RPG's savegame :)<br/>_________________<br/>(Works for me!)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5060 - sgeos - Fri Apr 18, 2003 6:20 pm</h4>
    <div class="postbody"><span class="postbody">Even non-linear RPG savegames can be done using a password system.  You need to keep track of what the "current quest" is, progress for that quest, and completed quests.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5061 - pollier - Fri Apr 18, 2003 8:40 pm</h4>
    <div class="postbody"><span class="postbody">Well, technically, everything can be saved with a password system, but once you start encoding RPG savegames it gets a bit unreasonable. I was assuming the player wants to store his/her stats, party, inventory, etc. as well as the quests &lt;-- which would still take quite a number of characters for any 'normal' RPG these days...<br/>_________________<br/>(Works for me!)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5062 - tepples - Fri Apr 18, 2003 10:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">Here is a working solution:  A to Z is 26 possibilities, 0 to 9 is another ten.</td> </tr></table><span class="postbody">
<br/>
According to <span style="font-style: italic">EGM</span>, Nintendo has not allowed vowels in passwords since about the Super NES era because parents have complained about games giving obscene sexual slang as passwords.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Cut a few characters that look the same so that we only have 32 possibilities total.</td> </tr></table><span class="postbody">
<br/>
Many Super NES games such as <span style="font-style: italic">Mario Is Missing!</span> and <span style="font-style: italic">Tetris Attack</span> used variations on the following alphabet:
<br/>
$0123456 789BCDFG HJKLMNPQ RTVWXYZ_
<br/>
(the $ replaces the S that looks like 5).
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Personally, I always figure out how many possibilities my password system gives me, including security bits at this stage.</td> </tr></table><span class="postbody">
<br/>
My preference:  Squeeze the state into 32 bits and use 8 checksum bits for a total of 40 bits or 8 characters.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pollier wrote:</b></span></td> </tr> <tr> <td class="quote">once you start encoding RPG savegames it gets a bit unreasonable.</td> </tr></table><span class="postbody">
<br/>
Darn straight.  The 48-character passwords in <span style="font-style: italic">The Lord of the Rings</span> for Super NES were a female wolf.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5063 - sgeos - Fri Apr 18, 2003 10:23 pm</h4>
    <div class="postbody"><span class="postbody">&gt; Well, technically, everything can be saved with a password system, but
<br/>
&gt; once you start encoding RPG savegames it gets a bit unreasonable.
<br/>
&gt; I was assuming the player wants to store his/her stats, party,
<br/>
&gt; inventory, etc. as well as the quests &lt;-- which would still take quite a
<br/>
&gt; number of characters for any 'normal' RPG these days...
<br/>
<br/>
It can't be a 'normal' RPG as such.  You'll probably want to recreate player stats from their level/exp values/quests complete and hardcoded pseudorandom seed numbers.  If it is a choos your own party RPG, then the seed number will be part of the password.  Equipment needs to be restricted to "levels".
<br/>
<br/>
Really the inventory is the killer.  Even 8 items for 3 characters is a lot of bits!  Storing exact amounts of cash/xp is also a problem.  This can be solved by using something like c[xp] * v, where c[xp] is a hardcoded constant based on your XP level and v is the number of bits that are set aside for this type of thing.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5064 - sgeos - Fri Apr 18, 2003 10:29 pm</h4>
    <div class="postbody"><span class="postbody">&gt; According to [i]EGM[/i], Nintendo has not allowed vowels in passwords
<br/>
&gt; since about the Super NES era because parents have complained about
<br/>
&gt; games giving obscene sexual slang as passwords.
<br/>
<br/>
I did not know that.  Sounds reasonable.
<br/>
<br/>
&gt; My preference:  Squeeze the state into 32 bits and use 8 checksum bits
<br/>
&gt; for a total of 40 bits or 8 characters.
<br/>
<br/>
Not unreasonable.  I'd probably just sqeeze it doen to a set of 32bit states and then pass each one through a reversable RNG.
<br/>
<br/>
[quote="pollier"]once you start encoding RPG savegames it gets a bit unreasonable.[/quote]
<br/>
Darn straight.  The 48-character passwords in [i]The Lord of the Rings[/i] for Super NES were a female wolf.[/quote]
<br/>
<br/>
I still suspect that the origninal Japanese version of Dragon Quest II for the NES beats them all =)  It was the equivalent of 3 sentences in hiragana!
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5067 - mbcook - Sat Apr 19, 2003 3:55 am</h4>
    <div class="postbody"><span class="postbody">Exactly what are you trying to encode? If you could tell us what the things are (and how big each one is in bits) then I'm sure we could find a way to cut that a decent ammount.
<br/>
<br/>
Other than that, your best using a battery backup ram or something. That's alot for a password. I think the above is the best idea.<br/>_________________<br/>--Michael</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5074 - tepples - Sat Apr 19, 2003 4:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">and then pass each one through a reversable RNG.</td> </tr></table><span class="postbody">
<br/>
Such as which ones? Do you know of any good ciphers using a 32-bit block size?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5106 - sgeos - Mon Apr 21, 2003 3:28 am</h4>
    <div class="postbody"><span class="postbody">&gt;&gt; and then pass each one through a reversable RNG.
<br/>
&gt; Such as which ones?
<br/>
<br/>
I couldn't find any, so I had to write them on my own.
<br/>
<br/>
&gt; Do you know of any good ciphers using a 32-bit block size?
<br/>
<br/>
Good, no.  I wrote it myself. =P  The "mixer" algorithm I wrote does use a 32 block size though.  It preformed better on the statistical tests than I ever could have hoped for.  The chi square results indicated it as a suspect non-random sequence.  It uses the fibonacci sequence and an internal state the shifts and combines itself based on the fibonacci component.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5119 - NovusAmor - Mon Apr 21, 2003 3:55 pm</h4>
    <div class="postbody"><span class="postbody">Sorry but I can't really disclose the exact info to store. I have however, after hours of staring at the design doc, reduce the number of bits by about half.
<br/>
As far as mixers go I've looked at compression and encryption techniques and none offer what I really need. Compression/encryption is not a guaranteed size every time. I thought rijndael might work but I'm not sure what the laws are for exporting it so I'm not going to consider it.
<br/>
I was hoping someone might have an example from an old school game that they could tell me about.<br/>_________________<br/>Robert
<br/>
Senior Programmer
<br/>
NeoPong Software, Inc
<br/>
<a href="http://www.neopong.com" target="_blank">www.neopong.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5131 - sgeos - Mon Apr 21, 2003 6:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>NovusAmor wrote:</b></span></td> </tr> <tr> <td class="quote">I was hoping someone might have an example from an old school game that they could tell me about.</td> </tr></table><span class="postbody">
<br/>
<br/>
It uses nowhere near the magnatudite of bits that you requre, but I'll explain the Megaman 2 password system.
<br/>
<br/>
Each rows has 5 columns.  The top row is simply your number of energy tanks, from zero to four.  After that there are two cells for each boss, one of them is used if the stage remains to be beaten, and another if it has been cleared.  There is a different map of stage on/off cells for every number of energy tanks.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
