<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>MovePlayer moves MoveMap or MoveMap on MovePlayer - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > MovePlayer moves MoveMap or MoveMap on MovePlayer</h2>
<div id="posts">
<div class="post">
    <h4>#105586 - QuantumDoja - Mon Oct 09, 2006 9:51 pm</h4>
    <div class="postbody"><span class="postbody">Hi, here is my basic loop:
<br/>
<br/>
<br/>
while(;;) {
<br/>
 getInput
<br/>
}
<br/>
<br/>
getInput - checks for key presses, if we are moving left/right, we call MovePlayer  , MovePlayer then decides if we need to update the map.
<br/>
<br/>
My Main player sprite has a limited subsection of the screen in which he can move before we decide to scroll the map: - is this a bad idea?
<br/>
(Imagine the ascie art is a box in a box)
<br/>
_____________________
<br/>
|.....______________.....|
<br/>
|.....|.........................|.....|
<br/>
|.....|.........................|.....|
<br/>
|.....|.........................|.....|
<br/>
|.....|.........................|.....|
<br/>
|.....|.........................|.....|
<br/>
|.....|____________|.....|
<br/>
|___________________|
<br/>
<br/>
I want to create movement effects like mario, or at least a nice arch when im jumping.
<br/>
<br/>
I can create velocity in the x and y co-ordinates, should I then update x and y each frame? or whats this fixed point math im hearing about!
<br/>
<br/>
please help<br/>_________________<br/>Chris Davis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105590 - keldon - Mon Oct 09, 2006 10:11 pm</h4>
    <div class="postbody"><span class="postbody">How I would do it (conceptually) ...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
checkInput (){
<br/>
   foreach ( inputHandler ){
<br/>
      inputHandler.handleInput ( input );
<br/>
   }
<br/>
}
<br/>
<br/>
// movePlayer is an input handler
<br/>
movePlayer (input) {
<br/>
   direction = inputToDirection ( input );
<br/>
   updatePlayerPosition (direction);
<br/>
   player.alertListeners();
<br/>
}
<br/>
<br/>
player.alertListeners (){
<br/>
   for each ( listener ) {
<br/>
      listener.alert ( position );
<br/>
   }
<br/>
}
<br/>
<br/>
// cameraPlayerListener is a player alertListener
<br/>
cameraPlayerListener ( playerPosition ){
<br/>
   camera.followPlayer ( playerPosition );
<br/>
}
<br/>
<br/>
camera.followPlayer ( playerPosition ) {
<br/>
   // in this method you will decide how to handle the camera
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Now you don't need to write all of these methods, but the concept behind them is a good one to follow or at least think of when developing your system. This is the <a class="postlink" href="http://en.wikipedia.org/wiki/Observer_pattern" target="_blank">observer pattern</a>, and a lot of these design patterns are useful to think about when designing and implementing your systems.
<br/>
<br/>
In google type and hit I'm feeling lucky for "design pattern wikipedia" and "fixed point maths wikipedia".</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105612 - tepples - Tue Oct 10, 2006 4:07 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>QuantumDoja wrote:</b></span></td> </tr> <tr> <td class="quote">My Main player sprite has a limited subsection of the screen in which he can move before we decide to scroll the map: - is this a bad idea?</td> </tr></table><span class="postbody">
<br/>
I've played <span style="font-style: italic">Lode Runner</span> for NES. That game's scrolling was horrible, as the inner box was rawther large. If you get close to the edge of the inner box, you can only see a few spaces in front of the guy, often making it too late to turn around when you see a Bomberman coming right for you. (<a class="postlink" href="http://www.pineight.com/tribute/bomblode.png" target="_blank">Yes, the enemies in <span style="font-style: italic">Lode Runner</span> are Bombermen</a>.) First try doing what <span style="font-style: italic">Pok?mon</span> for Game Boy does: always scroll such that the player's sprite is strictly in the center of the screen.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I want to create movement effects like mario, or at least a nice arch when im jumping.</td> </tr></table><span class="postbody">
<br/>
[[<a class="postlink" href="http://en.wikipedia.org/wiki/Kinematics" target="_blank">Kinematics</a>]]
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I can create velocity in the x and y co-ordinates, should I then update x and y each frame?</td> </tr></table><span class="postbody">
<br/>
Yes.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">or whats this fixed point math im hearing about!</td> </tr></table><span class="postbody">
<br/>
[[<a class="postlink" href="http://en.wikipedia.org/wiki/Fixed-point_arithmetic" target="_blank">Fixed-point arithmetic</a>]]<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#106263 - QuantumDoja - Tue Oct 17, 2006 10:32 am</h4>
    <div class="postbody"><span class="postbody">Thanks, i think Ill hook the sprite up to move the map whens its in the middle.<br/>_________________<br/>Chris Davis</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
