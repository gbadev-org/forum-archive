<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Collision Response - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Collision Response</h2>
<div id="posts">
<div class="post">
    <h4>#8598 - night_ - Wed Jul 16, 2003 5:33 am</h4>
    <div class="postbody"><span class="postbody">Hi guys,
<br/>
<br/>
I am currently working on a tile based jump'n'run game. The scrollengine and character control works fine so far. Right now I am trying to find a solution for collision detection with the background (tiles). I am familiar with methods of detecting collision and I read the discussions in this forum and a lot of articles about CD. What caused me a lot of headache over the last couple of days is collision response. How do I react to a collision? Where do I place the sprite when a collision occured?
<br/>
<br/>
A friend of mine told me to check before a move if a collision will occure and if yes, to just leave the sprite where it is. The problem 
<br/>
however is, that this is not possible in all cases and it gets quite inprecise.
<br/>
<br/>
All articles I found only describe determining that a collision occured  but not the response. I need a <span style="font-weight: bold">complete solution</span> for collision detection. I know this is not something new and it was done 100s of times on 16 bit systems and GBA. Isn't there any document or source code which exactly describes the whole thing? How did people do that in SNES and Genesis games?
<br/>
Is there sourcecode of a more complex, maybe even commercial (jump n run) game available? 
<br/>
<br/>
<br/>
I would greatly appreciate your help.
<br/>
Thanks,
<br/>
night</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8601 - Touchstone - Wed Jul 16, 2003 9:04 am</h4>
    <div class="postbody"><span class="postbody">Well, what do you want to happen when collision occurs? A rocket for instance would spawn an explosion and perhaps inflict damage. A grenade would bounce away. A character colliding with a sloping floor would perhaps slide off, especially if the floor is slippery like ice. If the character collides with a lava floor you might want him to receive damage and jump away. If the character just collides with a regular wall/floor you probably want the acceleration of the character to align with the surface he collides with. There you have a couple of examples to do when a collision have been detected.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8602 - Lord Graga - Wed Jul 16, 2003 11:13 am</h4>
    <div class="postbody"><span class="postbody"><ul><a class="postlink" href="http://lordgraga.sapian.co.uk/files/LordGraga-platformv1.zip" target="_blank">+ Click here for source with 2d arrays</a>
<br/>
<a class="postlink" href="http://lordgraga.sapian.co.uk/files/lordgraga-platformv.0.2source.zip" target="_blank">+ Click here for source with 1d arrays</a></ul>
<br/>
<span style="color: indigo">* LordGraga is too sexy for his hat</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9980 - sajiimori - Sat Aug 23, 2003 11:51 pm</h4>
    <div class="postbody"><span class="postbody">It sounds like you want to know what to do if a character runs into a wall, and you want him to stop there.
<br/>
<br/>
Here's a simple approach in pseudo-code:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
struct Actor
<br/>
{
<br/>
   int x, y;      // current position
<br/>
   int xv, yv;      // velocity
<br/>
   int w, h;      // width and height
<br/>
};
<br/>
<br/>
collide actor with wall
<br/>
where (wx, wy) = coordinates of block collided with
<br/>
   what direction is actor moving? (check xv and yv)
<br/>
      up:
<br/>
         actor.y = wy + block_height
<br/>
      down:
<br/>
         actor.y = wy - actor.h
<br/>
      left:
<br/>
         actor.x = wx + block_width
<br/>
      right:
<br/>
         actor.x = wx - actor.w
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
