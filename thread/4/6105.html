<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Rotation problems! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Rotation problems!</h2>
<div id="posts">
<div class="post">
    <h4>#46122 - whodoo - Mon Jun 20, 2005 2:16 pm</h4>
    <div class="postbody"><span class="postbody">I have a strange problem. My sprites are shown correctly but the other day I tried to add rotation/scaling. But when I do this, my sprite apperars as a rectangle with just one colour. (But it's shown correctly in the OAM viewer in the emulator) but not on the screen</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46124 - tepples - Mon Jun 20, 2005 2:43 pm</h4>
    <div class="postbody"><span class="postbody">Blank rectangle means that one pixel in the center is being stretched to fill the sprite's entire box. This in turn means that you aren't setting up the affine matrices correctly or aren't properly addressing them in attribute 1.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46129 - poslundc - Mon Jun 20, 2005 5:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Blank rectangle means that one pixel in the center is being stretched to fill the sprite's entire box. This in turn means that you aren't setting up the affine matrices correctly or aren't properly addressing them in attribute 1.</td> </tr></table><span class="postbody">
<br/>
<br/>
The easiest mistake to make in not having the affine matrices set up correctly is leaving the entries all zeroed... in order for a sprite to appear "normally" it must have scale values of 1.0, which translates to values of (1 &lt;&lt; 8) in PA and PD.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46184 - whodoo - Tue Jun 21, 2005 1:55 pm</h4>
    <div class="postbody"><span class="postbody">Thank's guys, works great :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46188 - vorpalarrow - Tue Jun 21, 2005 2:39 pm</h4>
    <div class="postbody"><span class="postbody">I also tried adding scaling/rotation to my sprites and I ended up with the same problem. I was a bit confused how this was done. I have seen examples of it done in a 1D array setting, but not using OBJ_MAP_2D. Would the affine transformations be the same in either setting or would it have to be changed? If so could someone point me to an example. Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46198 - poslundc - Tue Jun 21, 2005 5:38 pm</h4>
    <div class="postbody"><span class="postbody">The affine matrices are unchanged using 2D mapping. 2D mapping only affects the order in which you load tile data into VRAM. 1D mapping is generally preferable because while 2D mapping makes more sense on a piece of graph paper, 1D mapping is generally simpler to implement and understand programatically and allows for more contiguous copies, since you aren't trying to spread a sprite's tiles over multiple sections of memory.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46217 - vorpalarrow - Tue Jun 21, 2005 8:01 pm</h4>
    <div class="postbody"><span class="postbody">Ok, that cleared things up. Thanks.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
