<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Anyone know how to make a good platform engine? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Anyone know how to make a good platform engine?</h2>
<div id="posts">
<div class="post">
    <h4>#468 - darkcloud - Tue Jan 07, 2003 11:59 pm</h4>
    <div class="postbody"><span class="postbody">I am trying to build a platform engine but I keep running into bugs with my collision.  Does anyone have any platform resources I can learn from?  Or has anyone coded a platform game that I can look at the code too?<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#474 - ampz - Wed Jan 08, 2003 1:11 am</h4>
    <div class="postbody"><span class="postbody">There are different types of collision detection...
<br/>
Do you want tilebased (super mario style) or pixel based (worms style) collision detection?
<br/>
I did a game where the map changes (colisionmap has to change too) with pixelbased collisiondetection, filled almost the entire extram with just the collisionmap..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#475 - darkcloud - Wed Jan 08, 2003 1:16 am</h4>
    <div class="postbody"><span class="postbody">I could use either.  I actually have a collision detection system I use in another demo I made but something seems to go wrong when I try to implement it in a side scroller/platform game.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#530 - Lord Graga - Wed Jan 08, 2003 2:46 pm</h4>
    <div class="postbody"><span class="postbody">Haven't you learned anything from my <a class="postlink" href="http://www.geocities.com/lordgraga1" target="_blank">demo</a> and the source?.[/u]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#542 - darkcloud - Wed Jan 08, 2003 4:40 pm</h4>
    <div class="postbody"><span class="postbody">Yea i tried to use your method but it wasnt working so good so I tried a different way.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#543 - darkcloud - Wed Jan 08, 2003 4:43 pm</h4>
    <div class="postbody"><span class="postbody">I actually solved my platform engine problem yesterday, but it still has a few bugs.  The character can keep jumping while in air.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#630 - squeakytoy - Thu Jan 09, 2003 5:47 am</h4>
    <div class="postbody"><span class="postbody">Are you implementing your jump using velocity?  I do, I make y velocity &lt; 0 to jump, y velocity &gt; 0 to fall, and ignore the jump button when y velocity is not 0 to prevent mid air jumps.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#642 - Lord Graga - Thu Jan 09, 2003 10:05 am</h4>
    <div class="postbody"><span class="postbody">To make hi unable to jump in the air do this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
y++; //add 1 to his y (+1 is down)
<br/>
if(map[(x/8)+((y/8)*32)==1] //if the map is blocking at that point
<br/>
     AbleToJump = 1; //Horray!
<br/>
else
<br/>
     AbleToJump = 0; //You can't jump
<br/>
y--; //set y to the old y so he doesn't go bananas and falls down all time.
<br/>
</td> </tr></table><span class="postbody">
<br/>
Now got to the KEY_A check.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
if(!(*KEYS &amp; KEY_A)
<br/>
{
<br/>
      if(AbleToJump)
<br/>
      {
<br/>
           //Jumping code
<br/>
      }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Are you happy now?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#690 - jenswa - Thu Jan 09, 2003 7:17 pm</h4>
    <div class="postbody"><span class="postbody">Is there somewhere a tutorial about making platform games
<br/>
for the gba and collision detection with the background,
<br/>
some very simple stuff, that i can understand?
<br/>
<br/>
bye
<br/>
<br/>
JJ<br/>_________________<br/>It seems this wasn't lost after all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#762 - AnthC - Fri Jan 10, 2003 1:24 pm</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
The way I do it to get more accuracy is have a bounding box for the sprite
<br/>
and bounding box(s) for the map collision tile (this could mean one box or many box's for more accuracy)
<br/>
I get the area that the sprite covers on the map (call this x1 y1 x2 y2)
<br/>
Then for each box in the collision tile i just call a box check routine that returns 1/0 if theres collision or not
<br/>
<br/>
Here's how I split the 8x8's up
<br/>
11
<br/>
11 one box to test
<br/>
01
<br/>
11 3 box's to test  (or 2 if you are clever)
<br/>
<br/>
00
<br/>
01 1 box
<br/>
<br/>
etc...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
