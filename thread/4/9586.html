<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>getting the eclipse HDE plugin to work - please help - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > getting the eclipse HDE plugin to work - please help</h2>
<div id="posts">
<div class="post">
    <h4>#83423 - Ant6n - Tue May 16, 2006 6:04 am</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
<br/>
I am trying to get HDE for eclipse to work. It seems like a great plugin, for a great IDE, making things simpler; but so far it doesnt really work for me.
<br/>
I followed the instructions and installed insight, msys, and devkitpro r8, and set all environment variables.
<br/>
i created an empty project. that worked fine (only the project is empty ;)
<br/>
then i added a new empty c source file (main.c). 
<br/>
i add a function:
<br/>
<br/>
int main(){
<br/>
	while (1);
<br/>
	return 0;	
<br/>
}
<br/>
<br/>
but i get the errors in the problems tab:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Severity   Description   Resource   In Folder   Location   Creation Time
<br/>
2   *** [gbatest.elf] Error 1   gbatest         May 16, 2006 12:45:11 AM
<br/>
0   File not indexed because it was not built   main.c   gbatest      May 16, 2006 12:43:44 AM
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
and in the console:
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">**** Full rebuild of configuration Debug for project gbatest ****
<br/>
<br/>
make -k clean all 
<br/>
rm -rf  ./main.o  ./main.d gbatest.elf
<br/>
 
<br/>
Building file: ../main.c
<br/>
Invoking: GCC C Compiler
<br/>
arm-elf-gcc -O0 -g3 -Wall -c -fmessage-length=0 -mthumb -mthumb-interwork -omain.o ../main.c
<br/>
Finished building: ../main.c
<br/>
 
<br/>
Building target: gbatest.elf
<br/>
Invoking: GCC C Linker
<br/>
arm-elf-gcc -mthumb-interworking -specs=gba.specs -ogbatest.elf ./main.o
<br/>
c:\programs\devkitARM_r8\bin\..\lib\gcc\arm-elf\3.4.1\..\..\..\..\arm-elf\bin\ld.exe: Warning: c:/programs/devkitARM_r8/bin/../lib/gcc/arm-elf/3.4.1\libgcc.a(_call_via_rX.o) does not support interworking, whereas gbatest.elf does
<br/>
c:\programs\devkitARM_r8\bin\..\lib\gcc\arm-elf\3.4.1\..\..\..\..\arm-elf\bin\ld.exe: Warning: c:/programs/devkitARM_r8/bin/../lib/gcc/arm-elf/3.4.1/../../../../arm-elf/lib\libc.a(malloc_vars.o) does not support interworking, whereas gbatest.elf does
<br/>
c:\programs\devkitARM_r8\bin\..\lib\gcc\arm-elf\3.4.1\..\..\..\..\arm-elf\bin\ld.exe: Warning: c:/programs/devkitARM_r8/bin/../lib/gcc/arm-elf/3.4.1/crtend.o does not support interworking, whereas gbatest.elf does
<br/>
c:\programs\devkitARM_r8\bin\..\lib\gcc\arm-elf\3.4.1\..\..\..\..\arm-elf\bin\ld.exe: Warning: c:/programs/devkitARM_r8/bin/../lib/gcc/arm-elf/3.4.1/crtn.o does not support interworking, whereas gbatest.elf does
<br/>
c:/programs/devkitARM_r8/bin/../lib/gcc/arm-elf/3.4.1/../../../../arm-elf/lib/gba_crt0.o(.init+0x224): In function `$t':
<br/>
: undefined reference to `main'
<br/>
collect2: ld returned 1 exit status
<br/>
make: *** [gbatest.elf] Error 1
<br/>
make: Target `all' not remade because of errors.
<br/>
Build complete for project gbatest
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
After turning off arm-thumb interworking (in the helpfile it says it doesnt work, what is up with that anyway) i get:
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">**** Full rebuild of configuration Debug for project gbatest ****
<br/>
<br/>
make -k clean all 
<br/>
rm -rf  ./main.o  ./main.d gbatest.elf
<br/>
 
<br/>
Building file: ../main.c
<br/>
Invoking: GCC C Compiler
<br/>
arm-elf-gcc -O0 -g3 -Wall -c -fmessage-length=0 -mthumb -omain.o ../main.c
<br/>
Finished building: ../main.c
<br/>
 
<br/>
Building target: gbatest.elf
<br/>
Invoking: GCC C Linker
<br/>
arm-elf-gcc -specs=gba.specs -ogbatest.elf ./main.o
<br/>
c:/programs/devkitARM_r8/bin/../lib/gcc/arm-elf/3.4.1/../../../../arm-elf/lib/gba_crt0.o(.init+0x224): In function `$t':
<br/>
: undefined reference to `main'
<br/>
collect2: ld returned 1 exit status
<br/>
make: *** [gbatest.elf] Error 1
<br/>
make: Target `all' not remade because of errors.
<br/>
Build complete for project gbatest
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
If I launch the thing it actually starts but shows a white screen in vba-sdl. and eclipse gives a "launching - error starting process" error.
<br/>
It seems that the main.c is not added to the project at all (not built, not indexed, undefined reference to main...)
<br/>
Can anybody help me here? any hint is greatly appreciated.
<br/>
thank you
<br/>
<br/>
anton</span><span class="gensmall"><br/><br/>Last edited by Ant6n on Fri May 19, 2006 8:28 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#83588 - Ant6n - Wed May 17, 2006 4:31 am</h4>
    <div class="postbody"><span class="postbody">nobody? i thought there are some people who use eclipse for gba in this forum?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84620 - Ant6n - Tue May 23, 2006 7:31 pm</h4>
    <div class="postbody"><span class="postbody">If nobody can help me here, can at least someone tell me where i could find help?
<br/>
Or where my question was wrong?
<br/>
<br/>
thx
<br/>
anton</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84658 - Cearn - Tue May 23, 2006 11:17 pm</h4>
    <div class="postbody"><span class="postbody">Here are three things that may or may not help (I can't be sure as I'm not familiar with Eclipse or your makefile or file organisation)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
arm-elf-gcc -O0 -g3 -Wall -c -fmessage-length=0 -mthumb -mthumb-interwork -omain.o ../main.c
<br/>
../main.c
<br/>
Finished building: ../main.c 
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">This builds ../main.c, i.e. the file called main.c one directory level up from the makefile. If that's how your code is organised then nevermind, but it is a little suspicious. Also, I don't think that there is such a flag as '-g3', just '-g'.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">arm-elf-gcc -mthumb-interworking -specs=gba.specs -ogbatest.elf ./main.o</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">There is no flag called '-mthumb-interwork<span style="font-weight: bold">ing</span>'. Lose the 'ing'. 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">In function `$t':
<br/>
: undefined reference to `main'</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
An undefined reference means that the file(s) <span style="font-style: italic">is/are</span> compiled, but that there's no function called 'main()' in the project. Make sure you actually have a main function (in ../main.c, the file that's compiled, not ./main.c)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84932 - sumiguchi - Thu May 25, 2006 9:40 pm</h4>
    <div class="postbody"><span class="postbody">I can't even find the HDE plugin for eclipse!  Have a link?
<br/>
Edit: Woops!  Found it Handheld Dev Env plugin!   <a class="postlink" href="http://hde.gamedev.at/" target="_blank">http://hde.gamedev.at/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84936 - keldon - Thu May 25, 2006 10:16 pm</h4>
    <div class="postbody"><span class="postbody">I couldn't get it to work, but I was happy with my editplus setup so it didn't bother me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84967 - Ant6n - Fri May 26, 2006 3:50 am</h4>
    <div class="postbody"><span class="postbody">i was thinking to use it in a course environment, so that's linux, and the school already uses eclipse primarily for java, but also c/c++. I would really like to have a decent environment that supports debugging, works in linux and doesnt cost a fortune and is simple to use once it's setup...
<br/>
so far i am pretty stalled on this topic. It seems all that is wrong is the adding of a file that includes a function main, which actually gets indexed.
<br/>
I wish they had included a more throughout tutorial.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
