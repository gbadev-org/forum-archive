<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>span buffer - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > span buffer</h2>
<div id="posts">
<div class="post">
    <h4>#610 - PeterP - Wed Jan 08, 2003 11:50 pm</h4>
    <div class="postbody"><span class="postbody">A piece of advice:
<br/>
<br/>
It's the number of rendered pixels on the screen that determines the speed, so make sure that you keep overdraw to minimum.
<br/>
<br/>
I use a span buffer to get zero overdraw. Much faster than z-buffering and more exact than just sorting.
<br/>
<br/>
Basically:
<br/>
<br/>
void RenderFrame()
<br/>
{
<br/>
Sort triangles front-to-back.
<br/>
Clear span buffer.
<br/>
<br/>
for each triangle:
<br/>
{
<br/>
  scan convert the edges.
<br/>
  compare each horizontal line of the triangle (the span) against the currently entered spans. 
<br/>
  If no overlap =&gt; render the span and add it to the span buffer.
<br/>
  If complete overlap =&gt; don't render the span
<br/>
  Else clip the span, render it and add to the span buffer.
<br/>
}
<br/>
<br/>
}
<br/>
<br/>
<br/>
/pete</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#611 - PeterP - Wed Jan 08, 2003 11:51 pm</h4>
    <div class="postbody"><span class="postbody">That message was meant to be a reply in the topic "3d engine"...
<br/>
<br/>
sorry</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#612 - Burre - Wed Jan 08, 2003 11:52 pm</h4>
    <div class="postbody"><span class="postbody">I see, I was starting to wonder. :)<br/>_________________<br/>"The best optimizer is between your ears..."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#616 - Touchstone - Thu Jan 09, 2003 12:31 am</h4>
    <div class="postbody"><span class="postbody">For some reason I got this irresistable urge to write a software renderer of some sort when you mentioned this span-thingie. That's pretty much where I ended my ventures in software rendering on the PC about five years ago. It really tickles my imagination thinking of all kinds of optimizations and trying to figure out ways to utilize the gba hardware. Oh, I think I had a bit of a nostalgia-trip there, sorry about that.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#629 - jaymzjulian - Thu Jan 09, 2003 5:27 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PeterP wrote:</b></span></td> </tr> <tr> <td class="quote">A piece of advice:
<br/>
I use a span buffer to get zero overdraw. Much faster than z-buffering and more exact than just sorting.
<br/>
/pete</td> </tr></table><span class="postbody">
<br/>
<br/>
Span buffers are great if you're just drawing polys, however, when I was using a span buffer, because I'm trying to render sprites as well, I started having all sorts of Z axis fun :(.
<br/>
<br/>
Overdraw is a real bitch, tho
<br/>
<br/>
	- jj</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#647 - coelurus - Thu Jan 09, 2003 11:56 am</h4>
    <div class="postbody"><span class="postbody">The kind of fine occlusion algorithm to use depends heavily on what kind of 3D world you want. For example, S-buffers are only useful where there will be many triangles and a lot of overdraw. In case of possibly little overdraw, the overhead of using span-search and the complex insertion routine will just slow things down.
<br/>
There are also other algos around (Quake used AELs). Check out:
<br/>
<a href="http://www.flipcode.com/harmless/issue01.htm" target="_blank">http://www.flipcode.com/harmless/issue01.htm</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
