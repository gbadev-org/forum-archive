<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Question about program flow - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Question about program flow</h2>
<div id="posts">
<div class="post">
    <h4>#167043 - Ruben - Fri Feb 27, 2009 4:42 pm</h4>
    <div class="postbody"><span class="postbody">Hey.
<br/>
<br/>
Before you start flaming me and telling me to use the search thingo.. I did. :P But I couldn't find what I wanted..
<br/>
<br/>
So I decided to code an FFIV-like demo.. with no sound, that's all fine and dandy.. but when adding sound.. Houston, we have a problem!
<br/>
<br/>
So basically.. you're supposed to call your sound 'main' routines once per frame, right? If so, one would place this in the v-blank interrupt, after graphics processing... but what if you're actually modifying graphics in a child process? Eg..
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void VBlankISR(void) {
<br/>
  SoundVBlank();
<br/>
  //Graphics handling, blah
<br/>
  SoundMain();
<br/>
}
<br/>
<br/>
void SomeChildProcess(void) {
<br/>
  int i = 655;
<br/>
<br/>
  do {
<br/>
    Halt();
<br/>
    //Here modify graphic-related stuff, like palette, OAM, tiles, etc
<br/>
  } while(--i);
<br/>
}
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I mean.. I know I can place the SoundMain routine inside the while loop.. but what if I'm doing huge transfers.. say..
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void SomeChildProcess(u32 *Dest, u32 *Src, Map_t *Map) {
<br/>
  int TileCount = 1024;
<br/>
<br/>
  //Copy tiles
<br/>
  do {
<br/>
    *Dest++ = *Src++; *Dest++ = *Src++;
<br/>
    *Dest++ = *Src++; *Dest++ = *Src++;
<br/>
    *Dest++ = *Src++; *Dest++ = *Src++;
<br/>
    *Dest++ = *Src++; *Dest++ = *Src++;
<br/>
  } while(--TileCount);
<br/>
<br/>
  //Copy collision stuff (8-&gt;2 bit packing)
<br/>
  //I know this can be done outside the game, but
<br/>
  //just to make my point ;)
<br/>
  int Size = Map-&gt;sX * Map-&gt;sY; //Size X * Size Y
<br/>
  u8 *cDst = collisionTable;
<br/>
  u8 *cSrc = Map-&gt;Collision;
<br/>
  do {
<br/>
    *cDst  = (*cSrc++ &amp; 3) &lt;&lt; 0;
<br/>
    *cDst |= (*cSrc++ &amp; 3) &lt;&lt; 2;
<br/>
    *cDst |= (*cSrc++ &amp; 3) &lt;&lt; 4;
<br/>
    *cDst |= (*cSrc++ &amp; 3) &lt;&lt; 6;
<br/>
<br/>
    cDst++;
<br/>
  } while((Size-=4) &gt; 0);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
.. What would be the 'correct' method of doing this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167047 - samel - Fri Feb 27, 2009 7:21 pm</h4>
    <div class="postbody"><span class="postbody">May be a thread [ <a href="http://donotjava.netsons.org/?page_id=67" target="_blank">http://donotjava.netsons.org/?page_id=67</a> ]
<br/>
May be a timer
<br/>
May be you can [or you already] use a sound library that's not arm9  related
<br/>
<br/>
But may also be that i misunderstud your post 8)))))) .</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167071 - Ruben - Sat Feb 28, 2009 5:37 am</h4>
    <div class="postbody"><span class="postbody">Heh, yeah, I think you misunderstood my post, but that was my bad, cos I didn't specify much more than code..
<br/>
I'm still coding for the GBA cos it's, IMO, a lot easier than DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167081 - Ruben - Sat Feb 28, 2009 12:30 pm</h4>
    <div class="postbody"><span class="postbody">Hm..
<br/>
<br/>
Well, I was reading articles on Wikipedia and stuff... and I think threads are what I need... but do I really need to use a timer? It'd be much better if it didn't need a timer, but I suppose I can afford one if it's actually necessary...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167082 - eKid - Sat Feb 28, 2009 12:37 pm</h4>
    <div class="postbody"><span class="postbody">But DS is so easy to pick up if you know GBA. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167083 - Kyoufu Kawa - Sat Feb 28, 2009 1:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>eKid wrote:</b></span></td> </tr> <tr> <td class="quote">But DS is so easy to pick up if you know GBA. :)</td> </tr></table><span class="postbody">Ob-frikken-jection! XD</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167086 - Ruben - Sat Feb 28, 2009 2:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>eKid wrote:</b></span></td> </tr> <tr> <td class="quote">But DS is so easy to pick up if you know GBA. :)</td> </tr></table><span class="postbody">Well, I mean..
<br/>
<br/>
Yeah, the DS itself is easy to pic up.. but what makes it the most difficult thing in the world for me (even more difficult than Windows apps :P) is the whole "everything's in RAM"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167088 - sgeos - Sat Feb 28, 2009 2:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ruben wrote:</b></span></td> </tr> <tr> <td class="quote">Yeah, the DS itself is easy to pic up.. but what makes it the most difficult thing in the world for me (even more difficult than Windows apps :P) is the whole "everything's in RAM"</td> </tr></table><span class="postbody">
<br/>
On windows you generally need to load something into RAM to do anything useful with it...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167093 - samel - Sat Feb 28, 2009 7:49 pm</h4>
    <div class="postbody"><span class="postbody">[quote="Ruben"]Hm..
<br/>
<br/>
Well, I was reading articles on Wikipedia and stuff... and I think threads are what I need... but do I really need to use a timer? It'd be much better if it didn't need a timer, but I suppose I can afford one if it's actually necessary...[/quote]
<br/>
<br/>
The thread library it's a port. The original one it's for the gba and doesn't use timer.
<br/>
<a href="http://www.gbadev.org" target="_blank">www.gbadev.org</a> -&gt; search -&gt; thread</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167098 - Ruben - Sun Mar 01, 2009 6:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">On windows you generally need to load something into RAM to do anything useful with it...</td> </tr></table><span class="postbody">Well, yeah, but RAM in Windows tends to be &gt; 4MB, which makes me feel.. Hm.. Idk.. secure, maybe.. I think what most throws me off is the fact that my sound bank atm (unfinished) already uses 8MB, 16-bit @ 32768Hz.. cos I have noooooooooo idea how to do that. :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167099 - Ruben - Sun Mar 01, 2009 6:26 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>samel wrote:</b></span></td> </tr> <tr> <td class="quote">The thread library it's a port. The original one it's for the gba and doesn't use timer.
<br/>
<a href="http://www.gbadev.org" target="_blank">www.gbadev.org</a> -&gt; search -&gt; thread</td> </tr></table><span class="postbody">I had a look at the source, and it seems to use a timer, as well. :-/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167100 - Ruben - Sun Mar 01, 2009 6:29 am</h4>
    <div class="postbody"><span class="postbody">Hmmmmmm
<br/>
<br/>
I was taking another look at this.. and came up with another thought:
<br/>
Is the correct way of doing it just placing the "main" routine in v-blank, and when you go to do hugeeeee things, you disable the screen?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167101 - sgeos - Sun Mar 01, 2009 6:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ruben wrote:</b></span></td> </tr> <tr> <td class="quote">Is the correct way of doing it just placing the "main" routine in v-blank, and when you go to do hugeeeee things, you disable the screen?</td> </tr></table><span class="postbody">
<br/>
Turn the screen off?  You probably want to fade out over a few frames if you are going to turn the screen off.  Also, it displays white IIRC, so you would need to fade to white.  I don't think this is going to help you except when loading new maps.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">while (!is_done())
<br/>
{
<br/>
  wait_for_vblank();
<br/>
  update_sound();
<br/>
  do_everything_else_you_need_to_do_before_drawing_starts();
<br/>
}</td> </tr></table><span class="postbody">
<br/>
Sound needs to be syncronized exactly, so it is often the first thing called in the v-blank.  I think you could also use a v-count interrupt to make sure it gets called with consistent timing every frame.  I don't recommend timers.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167102 - Ruben - Sun Mar 01, 2009 7:03 am</h4>
    <div class="postbody"><span class="postbody">Well, I was thinking something more like fading out to black or use windowing to "blind" out and then REG_BGPAL[0] = 0, REG_DISPCNT = 0..
<br/>
<br/>
Hm.. I'm not sure how sound is done on the DS.. so I probably have no idea how it's done... ... ...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167104 - sgeos - Sun Mar 01, 2009 7:15 am</h4>
    <div class="postbody"><span class="postbody">You could do this if you don't have things you need to display...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167105 - Ruben - Sun Mar 01, 2009 7:50 am</h4>
    <div class="postbody"><span class="postbody">Hm.. so sound must be synchronized in v-blank for the DS? Hm..
<br/>
I suppose in that case it'd be useful to do what I wrote there..
<br/>
<br/>
Have you got any tutorials explaining the whole no-memory-mapped-ROM situation? I think that could really help me right now.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167116 - sgeos - Mon Mar 02, 2009 1:23 am</h4>
    <div class="postbody"><span class="postbody">No, sound must be synchronized with consistent timing.
<br/>
In general, you want to synchronize things with the display refresh rate instead of timers.
<br/>
Syncing first thing in V-blank is the easiest, but not the only way, to do this.
<br/>
<br/>
I don't know of any tutorials offhand.
<br/>
Try any of the tutorials out there or just read the API documentation for whatever library you happen to be using.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167146 - elyk1212 - Tue Mar 03, 2009 6:34 pm</h4>
    <div class="postbody"><span class="postbody">I am confused about your discussion/suggestions on threads for GBA.  
<br/>
<br/>
Am I wrong in considering this to be an operating system concept?  Should not thread abstractions and things happen at a higher level, and likely using a scheduler system for prioritization (or in the least round robin, etc,  to avoid starvation)?
<br/>
<br/>
This doesn't sound practical in GBA context. What about just using timers (which is similar behavior, sorta, but without preemption or scheduling features.... unless you built this in to the ISRs etc)?  
<br/>
<br/>
To write your own "Threads" in GBA is to write part of an OS... i would think  (yes I did see someone did something like this for NDS, interesting).
<br/>
<br/>
<br/>
BTW, my understanding was to keep any code in the Vblank ISR fairly lean, leaving large transfers elsewhere (perhaps optimized with DMA ,etc).  Designing around this idea should keep your music buffer properly fed, no?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167148 - samel - Tue Mar 03, 2009 6:50 pm</h4>
    <div class="postbody"><span class="postbody">DarkPhantom write the thread library for the gba [as he say "This is more of a computer science demo ...."] and i've ported it to the ds [and let me say "This is more of a computer science demo ...." too 8)))) ]
<br/>
<br/>
Threads are not operating system concept, you can applay them on gba and ds programs if you need them.
<br/>
Using timer it's an alternative, but remember that you have only 4 timer.
<br/>
Another trick is to use interrupts, just as someone say some post ago.
<br/>
<br/>
It's your coice! 8)
<br/>
<br/>
[quote]
<br/>
To write your own "Threads" in GBA is to write part of an OS... i would think (yes I did see someone did something like this for NDS, interesting).
<br/>
[/quote]
<br/>
<br/>
Yes, but threads are a little part of an OS. And be aware that the library just use functions as thread, so no external [loadable from fat] code.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167153 - elyk1212 - Tue Mar 03, 2009 9:09 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Threads are not operating system concept</td> </tr></table><span class="postbody">
<br/>
<br/>
Really?  Do you have any supporting documentation?  All my past engineering classes attribute timeslicing operations to a higher level layer of abstraction, implemented in the OS.  This is not to say it cannot be done on a limited resource embedded system(NDS, GBA), just that it has to be implemented (some type of thread scheduler and context switch mechanism etc) in some minimal subset to be considered a true "Thread", and is typically considered an OS concept.  
<br/>
<br/>
But.. it's all just labeling.. so I guess it could not really matter (and embedded is a grey area it seems for OS).
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Using timer it's an alternative, but remember that you have only 4 timer.
<br/>
Another trick is to use interrupts,</td> </tr></table><span class="postbody">
<br/>
<br/>
Well, so how is it implemented in hardware?  As far as I can tell, GBA timers are implemented with comparator registers that, when reaching a certain configurable value, trigger a hardware interrupt.  So, essentially we're talking about the same thing here.  
<br/>
<br/>
Also, any time a context switch happens that "interrupts" the standard execution flow (e.g. a thread switching to another for a scheduled timeslice) this would have to be implemented in GBA as a hardware interrupt, no?  
<br/>
<br/>
I guess my question is more or less, isn't it all just the same idea.. (just using HW interrupts for "threads" etc) but perhaps coding a little more abstraction on top?  
<br/>
<br/>
If so is the extra fluff really needed for this guys music buffer scheduling?  Or is it negligible when it is implemented in this case?  Maybe it doesn't use a complex scheduler.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167154 - samel - Tue Mar 03, 2009 9:43 pm</h4>
    <div class="postbody"><span class="postbody">[quote]
<br/>
If so is the extra fluff really needed for this guys music buffer scheduling? Or is it negligible when it is implemented in this case? Maybe it doesn't use a complex scheduler.
<br/>
[/quote]
<br/>
<br/>
I misunderstand your post, many sorry!!! In that case you're completly right.
<br/>
<br/>
[quote]
<br/>
Threads are not operating system concept
<br/>
[/quote]
<br/>
<br/>
I meant: Threads are not ONLY an operating system concept 8ppppp
<br/>
You can use Thread without an OS [in which case they are something like a process] the only thing you need it's a scheduler.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167158 - sgeos - Wed Mar 04, 2009 1:00 am</h4>
    <div class="postbody"><span class="postbody">Square implemented multithreading in their games on the SNES, and the SNES certainly didn't have an OS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167159 - Dwedit - Wed Mar 04, 2009 1:08 am</h4>
    <div class="postbody"><span class="postbody">It's possible to implement threads using setjmp and longjmp.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167160 - elyk1212 - Wed Mar 04, 2009 1:12 am</h4>
    <div class="postbody"><span class="postbody">OS concept, not needing full on OS... maybe by modern comparisons. But what do you consider a bare bones OS?  It doesn't need to be a kitchen sink Vista or linux Kernel.
<br/>
<br/>
Input handling
<br/>
Memory management (maybe, not virtual though, many games have a resource manager)
<br/>
Thread/process scheduler.
<br/>
Interrupt handler.
<br/>
<br/>
Sounds pretty close to a few games (if you add in the thread process scheduler).  
<br/>
<br/>
<br/>
Eh... just a categorization, but yeah "OS" is a bit grey in embedded.  Yeah you're right though, you don't need a full out GUI monolithic OS to have threads.  
<br/>
<br/>
Just stating they usually have an overhead associated with threading that can be very complex (or not) all depending on the requirements, I guess.
<br/>
<br/>
And the main point I was making (or actually asking, since I am by no means very experienced in GBA) was that a thread abstraction is probably over kill for just keeping a buffer fed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167162 - sgeos - Wed Mar 04, 2009 1:39 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>elyk1212 wrote:</b></span></td> </tr> <tr> <td class="quote">OS concept, not needing full on OS...</td> </tr></table><span class="postbody">
<br/>
Just because modern operating systems use threads does not make them an OS concept.  Ruby supports threads and it is not an OS.  Unless your definition of an OS is a thread manager, but I don't think most people think of them as equivalent.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>elyk1212 wrote:</b></span></td> </tr> <tr> <td class="quote">And the main point I was making (or actually asking, since I am by no means very experienced in GBA) was that a thread abstraction is probably over kill for just keeping a buffer fed.</td> </tr></table><span class="postbody">
<br/>
Threads are not usually the best way to do multiple things at once on the GBA or DS.  In general, you can get away with manually iterating over a list of objects that need to be updated and tasks that need to be done.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167163 - elyk1212 - Wed Mar 04, 2009 2:33 am</h4>
    <div class="postbody"><span class="postbody">I suppose you're right.  <span style="font-weight: bold">Process</span> manager would be more of a OS concept, not necessarily the internals of the process implementation (threads).  Hmm.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167166 - Ruben - Wed Mar 04, 2009 2:27 pm</h4>
    <div class="postbody"><span class="postbody">Gah, I don't watch this for 2 days and everything goes bizarre &gt;.&gt;"
<br/>
<br/>
Anyway.
<br/>
<br/>
So having a whole threading thing just to keep the sound playing nicely is overkill? Hm..
<br/>
<br/>
How about this..
<br/>
<br/>
V-Blank routine calls the V-Blank routine for sound (GBA only), calls a special routine that copies a shadow buffer of REG_BGxx to the actual registers to avoid "those glitches", using a H-Blank interrupt if needed, and calls child processes from a table, calling sound first.. or is sound handled differently on most DS music players? *blah, those DS specs look evil xD Must keep reading to use GNUARM*
<br/>
<br/>
So kinda like...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void VBlankISR(void) {
<br/>
    //SoundVBlank(); //Only called by GBA
<br/>
    CopyVideo();     //Only copies video if the right flags are set in another variable
<br/>
    SoundMain();     //Is this used in DS, or is it handled in a timer interrupt?
<br/>
<br/>
    //Now iterate through the table of child processes
<br/>
}</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167170 - sgeos - Wed Mar 04, 2009 5:09 pm</h4>
    <div class="postbody"><span class="postbody">You probably want to used interrupts to do sound.  I'd have the interrupt routine lag a frame.  Ie, it does what it needs to do to update the sound this frame, and then prepares for the next frame.
<br/>
<br/>
In theory, you could split the update and the prep into two routines.  The update has critical timing.  The prep just needs to finish before the update routine starts running.
<br/>
<br/>
The update timing is critical, so you need to make sure nothing is stepping on your sound routine.  At the same time, you need to make sure the sound routine doesn't step on anything else that is timing critical.  This is why implementing sound and GBA to GBA communications at the same time is so hard.  They are both really fussy about timing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167196 - Ruben - Thu Mar 05, 2009 5:40 am</h4>
    <div class="postbody"><span class="postbody">Hm..
<br/>
<br/>
OK.. so if I wanted to code for DS..
<br/>
<br/>
I heard that the DS timers don't time out with v-blank, so you have to have another timer cascading off the sampling timer.. So instead of having a v-blank interrupt.. you'd have a timer interrupt? (Sorry, newbie to DS)
<br/>
<br/>
Hm.. and circular buffers..
<br/>
DekuTree's explained this to me.. twice, actually.. but I never got it and I lost my MSN chat logs so.. how does one use them for the DS again? (Are they even needed if I were to use the hardware channels only?)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167211 - sgeos - Thu Mar 05, 2009 8:19 pm</h4>
    <div class="postbody"><span class="postbody">Are you using a library for your sound?
<br/>
<br/>
Depending on what you want to do, I'd either update first thing in vblank, use a v-count interrupt or use DMA1 and DMA2 to feed the sound buffers.  Does anyone know how well a timer interrupt driven sound system would work if you need to do things that way?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167227 - Ruben - Fri Mar 06, 2009 5:32 am</h4>
    <div class="postbody"><span class="postbody">ATM, I'm using my own custom libraries for the GBA, but since I'll have to move to DS (and maybe even another console, soon &gt;.&gt;"), I'll probably have to use MaxMod or something similar..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167239 - sgeos - Fri Mar 06, 2009 7:51 pm</h4>
    <div class="postbody"><span class="postbody">Why not just use a library and read the docs that come with it?  There are vaild reasons not to do so, but it seems like it would save you a lot of trouble.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167269 - Ruben - Sat Mar 07, 2009 4:17 pm</h4>
    <div class="postbody"><span class="postbody">Cos I'm stubborn and my brain refuses to let me work with something I haven't coded myself &gt;.&gt;"
<br/>
(Which is why you don't see me making computer games; hate high-level functions. :P)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167277 - elyk1212 - Sat Mar 07, 2009 6:14 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, but you haven't worked on the EBNF grammer parser that constructs the obj code from C/C++....    Even if using ASM you work on an abstraction layer, since the instruction set's op codes are abstracted into names, etc.
<br/>
<br/>
Point being, abstraction occurs at some level unless you'd like to manually invert the bits on hardware with a magnetic needle  :P.  Black boxes aren't aways bad.
<br/>
<br/>
But, yeah IMO, it's good to learn by doing also.
<br/>
<br/>
BTW, if you're really 15 I am quite impressed with what you're interests are and what you are doing.  You should consider a career in Soft Engineering/Comp Scie/Comp Engineering etc.  You'd likely fly through the course load.  Bet you could apply early to the University.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167289 - Ruben - Sun Mar 08, 2009 8:30 am</h4>
    <div class="postbody"><span class="postbody">Yeah, I really am 15 and plan to take a game programming course for Certificate IV and the diploma, but anyway..
<br/>
<br/>
Heh, well, yeah, abstraction will occur either way, but I tend to like things that I wrote, cos.. .. Hm.. Idk.. I guess I'm just stubborn. :P
<br/>
<br/>
Probably another reason why is cos the startup code included with libnds takes an ETERNITY to finish copying LMA-&gt;VMA (just a stmia, sub, bne), whereas I like to optimize code as much as I can (unless I'm using C, but even then I tend to optimize it a lot).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167300 - sgeos - Sun Mar 08, 2009 3:31 pm</h4>
    <div class="postbody"><span class="postbody">Keep in mind that you will need to work with other people and their code if you intend to be employed as a programmer in the future.  It is probably a good idea to get used to it sooner than later.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167305 - Ruben - Sun Mar 08, 2009 5:08 pm</h4>
    <div class="postbody"><span class="postbody">Well, yeah, but hm.. I suppose another reason why I like my own code is cos I know that functions are 1) Fairly optimized, and 2) Not "dumb"
<br/>
<br/>
By "dumb" I mean like a call to a function in a time-critical loop (on the console, not the computer).. eg..
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void resetMyStruct(myStruct* Thingo) {
<br/>
    memset(0, &amp;Thingo, sizeof(myStruct));
<br/>
}
<br/>
<br/>
void myFunc(void) {
<br/>
    u16 myVal;
<br/>
    myStruct *Pointer = somePointer;
<br/>
    for(int i=0;i&lt;512;i++) {
<br/>
        //Random, I have no idea what it does &gt;.&gt;"
<br/>
        myVal = sin(345/i + 93 * pi + 0.35672) * cos(85/i + 0.5) * tan(849 * i / pi);
<br/>
       resetMyStruct(Pointer++);
<br/>
    }
<br/>
}</td> </tr></table><span class="postbody">Personally, I think that code downright sucks.. First, it uses u16.. on some compilers, it may be OK but on a lot.. big no-no.. Then, it uses memset 512 times to clear continuous data.. why not just call memset(0, somePointer, sizeof(myStruct)*512)? Also the trig functions, division, floating point arithmetic.. why calculate all that during the code instead of using a LUT? I'm pretty sure (though not positive) that one can find a pattern in that data and build a small LUT and reflecting as needed. And even if you must have that.. sine tables can be calculated as small as 128 16-bit entries (or even 8-bit if you need to), co-sine is just sin(90+x), so one should be able to re-scale that logically, as for tangent.. one could use a 256-point LUT and reflect if needed. Divisions... multiplication by reciprocal. And if you "can't", use the software interrupt.. the __udiv and __divsi functions provided by GCC are *slow*. And better yet, if you know the division values are going to be in a certain (small) range, why not use a LUT?
<br/>
<br/>
Blah, I'm ranting again..
<br/>
<br/>
But my point was.. what if the programmers I have to work with have coding ethics like those?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167306 - silent_code - Sun Mar 08, 2009 5:09 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">Keep in mind that you will need to work with other people and their code if you intend to be employed as a programmer in the future.  It is probably a good idea to get used to it sooner than later.</td> </tr></table><span class="postbody">These are truly words of wisdom, man. :^D<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167307 - kusma - Sun Mar 08, 2009 5:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ruben wrote:</b></span></td> </tr> <tr> <td class="quote">Then, it uses memset 512 times to clear continuous data.. why not just call memset(0, somePointer, sizeof(myStruct)*512)? </td> </tr></table><span class="postbody">
<br/>
To be honest, I find it way more worrying that it's trying to memset a null-pointer than that it might be slow.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167308 - Ruben - Sun Mar 08, 2009 6:58 pm</h4>
    <div class="postbody"><span class="postbody">... Did I get the memset order wrong again? Damn. &gt;.&gt;"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167316 - sgeos - Sun Mar 08, 2009 11:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ruben wrote:</b></span></td> </tr> <tr> <td class="quote">But my point was.. what if the programmers I have to work with have coding ethics like those?</td> </tr></table><span class="postbody">
<br/>
Things only need to be good enough to get the job done.  Programmer time is just as important as execution time.  The best program that never got finished is not very useful.
<br/>
<br/>
If you are on the job, bring it up in a review if your company does code reviews.  Otherwise, don't worry about it until it becomes a problem.  If you inherit the code and have extra time, then feel free to rewrite the function.
<br/>
<br/>
For homebrew, don't worry about it unless it actually breaks your program.  Top priority is getting your program to feature complete status.  After that, feel free to go back and rewrite modules.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167319 - elyk1212 - Mon Mar 09, 2009 12:48 am</h4>
    <div class="postbody"><span class="postbody">Mileage may very in AU, but here in the states I had a friend that applied and started taking College classes by her Junior year in HS.. plus was taking regular classes at HS that counted for Univ credit (you know, the usual Calc, english, etc).  
<br/>
<br/>
You may want to consider this.  Although, I think she did it through our community college (the off HS classes) since it had less restrictions on age/Diploma completion etc.  
<br/>
<br/>
Just letting you know the way I wish I did things to save more time, and accumulate less debt (since in HS usually = at home saving money!) :)
<br/>
<br/>
Oh yeah, BTW, you'll have to swallow your pride when you work on a team (as they mentioned).  Just has to be that way, as everyone cannot be unwilling to compromise as the project would probably go no where.  Also, you'll run into corp imposed coding standards etc, and even customer imposed coding standards (like DOD seems to, for their contracts  in the USA).
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Top priority is getting your program to feature complete status. After that, feel free to go back and rewrite modules.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Sounds like the advice I need to start following with nearly all my projects.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167323 - Ruben - Mon Mar 09, 2009 5:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Oh yeah, BTW, you'll have to swallow your pride when you work on a team</td> </tr></table><span class="postbody">Oh, fooey &gt;.&gt;"
<br/>
<br/>
Yeah, I guess I kinda knew that.. but never really took it into account when writing programs..
<br/>
<br/>
Hm.. I suppose that what I wanted was probably something like having uber optimized code that I wrote the whole time for my personal projects, only.. but I suppose it really isn't necessary.. cos, as sgeos said, "Things only need to be good enough to get the job done."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167342 - sgeos - Mon Mar 09, 2009 3:34 pm</h4>
    <div class="postbody"><span class="postbody">The exact definition of "good enough to get the job done" changes depending on what you are doing.  Some things *need* to be uber optimized.  Most things do not.  Some things can be really inefficient.
<br/>
<br/>
Optimizing things that don't need to be optimized is often a waste of time.  Evidently some team profiled their code and foud that 80% of the time was spent in one loop.  They optimized the loop but the program didn't run any faster.  They optimized it some more.  Not faster.  They were perplexed until they realized they had optimized the idle loop.
<br/>
<br/>
Code that is easy for humans to understand is often more valuable than "uber optimized" code.  (It actually tend to run pretty well too.)  In general, you want to write the easy to understand version first, even if it is wasteful, and then go back and optimize if it needs to be optimized.  If the optimized version is hard to understand, write comments that explain what is going on.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167343 - Ruben - Mon Mar 09, 2009 3:51 pm</h4>
    <div class="postbody"><span class="postbody">While were on the topic of 'good' and 'bad' code...
<br/>
<br/>
I remember someone once mentioning "Premature optimization is the root of all evil.."
<br/>
<br/>
But what about simple optimizations like using a do{} while(--foo) loop instead of for(i=0;i&lt;foo;i++)? Are for loops regarded bad in most cases, or is the do{}while() equivalent better, in a "good enough for the job" (generic) case?
<br/>
<br/>
Cos if that's so.. I'm seriously gonna start using more stuff that I haven't used for the fear of speed &gt;.&gt;"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167344 - elhobbs - Mon Mar 09, 2009 4:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ruben wrote:</b></span></td> </tr> <tr> <td class="quote">While were on the topic of 'good' and 'bad' code...
<br/>
<br/>
I remember someone once mentioning "Premature optimization is the root of all evil.."
<br/>
<br/>
But what about simple optimizations like using a do{} while(--foo) loop instead of for(i=0;i&lt;foo;i++)? Are for loops regarded bad in most cases, or is the do{}while() equivalent better, in a "good enough for the job" (generic) case?
<br/>
<br/>
Cos if that's so.. I'm seriously gonna start using more stuff that I haven't used for the fear of speed &gt;.&gt;"</td> </tr></table><span class="postbody">ahh this quote is so frequently used... I despise it. even though the premise is sound.
<br/>
<br/>
essentially, do not optimise unless you know you need to. optimized code can be difficult to read and is easily misunderstood and it is more prone to have errors/unintended side effects. more often then not it is not necessary as most code is not time critical. keep in mind this is different than picking efficient algorithms in the first place. get something working, then profile, and optimize if needed.
<br/>
<br/>
also, do loops and for loops have different purposes. do loops have no pre-condition so they also run at least one iteration.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167346 - Ruben - Mon Mar 09, 2009 4:45 pm</h4>
    <div class="postbody"><span class="postbody">Well, yeah, but the compiler output is different. :P
<br/>
<br/>
Like this..
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">@ for(int i=0;i&lt;8;i++) {foo();}
<br/>
mov r0, #0
<br/>
<br/>
1:
<br/>
    cmp r0, #8
<br/>
    beq 1f
<br/>
<br/>
    push {r0}
<br/>
    bl foo
<br/>
    pop {r0}
<br/>
    b 1b
<br/>
<br/>
2:
<br/>
<br/>
@ i = 8; do {foo();}while(--i)
<br/>
mov r0, #8
<br/>
<br/>
1:
<br/>
    push {r0}
<br/>
    bl foo
<br/>
    pop {r0}
<br/>
    sub r0, #1
<br/>
    bne 1b</td> </tr></table><span class="postbody">
<br/>
And yeah, that difference that do executes once unconditionally aside is what I mean, heh.
<br/>
<br/>
EDIT:
<br/>
BLAH, here goes my optimization mind again &gt;.&gt;"
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">@ for(int i=0;i&lt;8;i++) {foo();}
<br/>
push {r4}
<br/>
mov r4, #0
<br/>
<br/>
1:
<br/>
    cmp r4, #8
<br/>
    beq 1f
<br/>
<br/>
    bl foo
<br/>
    b 1b
<br/>
<br/>
2:
<br/>
pop {r4}
<br/>
<br/>
@ i = 8; do {foo();}while(--i)
<br/>
push {r4}
<br/>
mov r4, #8
<br/>
<br/>
1:
<br/>
    bl foo
<br/>
    sub r4, #1
<br/>
    bne 1b
<br/>
<br/>
pop {r4}</td> </tr></table><span class="postbody">
<br/>
<br/>
EDIT 2: Forgot to add the final label. :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167349 - elhobbs - Mon Mar 09, 2009 5:26 pm</h4>
    <div class="postbody"><span class="postbody">I am not sure what the point is you are trying to make. yes, they are different so it makes sense that they generate different code. so?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167355 - albinofrenchy - Mon Mar 09, 2009 6:19 pm</h4>
    <div class="postbody"><span class="postbody">I mean, I understand the thrill of the challenge of getting something to run as fast as is computationally possible; but consider letting go of that a little so you can focus your attention on bottlenecks. There is nothing like taking a 30 second task in turning it into a 30 ms task. 
<br/>
<br/>
Also, Prepare yourself for this kind of crap. Especially if you have to ever see someone elses SQL statements.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167368 - Ruben - Tue Mar 10, 2009 5:57 am</h4>
    <div class="postbody"><span class="postbody">elhobbs:
<br/>
My point was that if the compiler came up with that, then would it be "premature optimization" to use a do{}while(--foo) loop instead of a for(int i=0;i&lt;foo;i++){} loop?
<br/>
<br/>
albinofrenchy:
<br/>
Oo, SQL.. I haven't worked with *that* in a while.. so I probably wouldn't really find any 'crap' in it, myself. :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167369 - sgeos - Tue Mar 10, 2009 6:44 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ruben wrote:</b></span></td> </tr> <tr> <td class="quote">My point was that if the compiler came up with that, then would it be "premature optimization" to use a do{}while(--foo) loop instead of a for(int i=0;i&lt;foo;i++){} loop?</td> </tr></table><span class="postbody">
<br/>
Yes.  Different compilers produce different output.  What is faster using your current compiler may be slower when you port your code.  By default your code should be portable and easy for people to read.
<br/>
<br/>
albinofrenchy's point is, how often is your code being called?  Once during setup? Once ever few frames?  Once a frame?  Multiple times a frame?  Every scanline?  The answer to that question determines how how optimized your code should be.
<br/>
<br/>
H-blank routines?  Need to optimized if you need to get a lot done.  Hit detection called 100 times a frame?  Definitely optimize this.  Code that sets in game flags when events are triggered?  This can probably be super un-optimized.
<br/>
<br/>
If something doesn't need to be optimized and you are spending time optimizing it, there is a good chance you are wasting time.  If something doesn't need to be optimized and your code becomes less readable due to your "optimization" you are harming the maintainability of your code.  If you optimize code that gets thrown away due to shifting requirements, you wasted effort.  If you rewrite the same modules every time instead of porting them, you may be wasting effort.
<br/>
<br/>
It's not as simple as "always write modules in as little time as possible" or "always optimize routines".  If you want to do a really good job, you need to know when, where, and why to optimize or do a quick and dirty job.  You need to know your requirement and the life cycle of your code.  It's not easy.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167371 - keldon - Tue Mar 10, 2009 9:07 am</h4>
    <div class="postbody"><span class="postbody">That 'do' forces the scope to be outside of the loop!
<br/>
<br/>
When learning it is good to be able to figure things out for yourself, but equally important to be able to use libraries. Using them will help you to create your own libraries in the future since your mind would be experienced in using good design.
<br/>
<br/>
Both premature optimisation and premature pessimism are bad; so for(ITERATOR i = 0; i &lt; XXX; ++i) is fine, the pre-increment does not reduce readability or negatively affect the code in any way, so the post-increment would be a needless waste.
<br/>
<br/>
But most 'rules of thumb' are there because doing otherwise [generally] leads to bad code that is harder to maintain. Experience is a good tool, I know there are things I did when I started work but now I know where it leads me so my designs are tighter.
<br/>
<br/>
And I know people who use STL in their HBlank routines (not to say that STL is slow). Talking about STL, it's totally awesome - it helps to be aware of the design patterns behind them, but once you are used to the patterns you will find STL even more useful! Even simple things like following STL's iterator and predicate template-designs can boost productivity and result in (or moreof be a part of) good code ... that being said, used blindly it will be like leaps of burning coal on your forehead ^_^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167380 - Ruben - Tue Mar 10, 2009 4:21 pm</h4>
    <div class="postbody"><span class="postbody">sgeos:
<br/>
Ahhh... So just to jot this down..
<br/>
<br/>
Startup code: Can be super un-optimzed (unless it's that horrible calculate-the-sine-table thing)?
<br/>
Code that is called once every few frames: Un-optimized but not super un-optimized to the point where it will collide with other V-Blank routines?
<br/>
Code that is called every frame: Optimized but not supper optimized? (Unless the time taken is huge, like a software 3D engine or high-quality sound mixer)
<br/>
Code that is called every H-Blank: Super optimized, and possibly in ASM?
<br/>
<br/>
Anything that doesn't need to be tightly optimized can be simply written as 'easy-to-read' code to maintain portability and avoid excess effort, whilst everything that must be optimized should contain plenty of comments and/or the previous, 'un-optimized' code?
<br/>
<br/>
keldon:
<br/>
.. But I thought using a pre-increment in a for(;;) loop didn't have any difference to using post-incrementing..?
<br/>
<br/>
Oh yeah.. STL can be a blessing or the Devil, depending on what it is.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167383 - keldon - Tue Mar 10, 2009 5:46 pm</h4>
    <div class="postbody"><span class="postbody">Note the datatype was ITERATOR, so the post increment would result in a redundant copy being made (that isn't even processed).
<br/>
<br/>
Nothing needs to be super-optimized or optimized until it becomes a problem (best rule of thumb). Experience will assist in making that decision earlier; you will most likely learn where to optimize by not writing all your code as optimized (just think about it).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167393 - Ruben - Tue Mar 10, 2009 7:43 pm</h4>
    <div class="postbody"><span class="postbody">... string::iterator?
<br/>
<br/>
.. OK, how does that work? :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167405 - sgeos - Tue Mar 10, 2009 11:55 pm</h4>
    <div class="postbody"><span class="postbody">Well, so long as things work and move at an acceptable speed, your system is optimized enough.  To the extent the code works, it should be portable and readable.
<br/>
<br/>
The "hard and fast rules" are really closer to guidelines.  Do you need extra cycles?  It will be obvious if you do.  If you needs extra cycles, you need to "optimize" something to free up cycles or change your spec to reduce the required cycles.  If you decide to optimize, first you need to know where the problem is.  After you know where the problem is, you can either replace the algorithm with a faster one written in an easy to read portable manner, or rewrite the existing one to use less cycles.  To the extent you are rewriting, there is a good chance you want to break out ASM (and leave the high level version around for reference).
<br/>
<br/>
H-blank routines need to be tight, but only to the extent you don't have enough cycles.  I've been consistently surprised with the amount of high level code I can push through H-blank routines.  When I should it to an old school ASM coder, he was horrified.  (H-blank was a lot shorter in the past.)
<br/>
<br/>
In summary, write portable and readable code.　 You may even drop some of it into your PC side tools.  When and if you run out of cycles, profile your code and fix the problem area.  Only fix the problem area.  (To the extent your interface stays the same, this should be a matter of rewriting the guts of a function.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167407 - albinofrenchy - Wed Mar 11, 2009 1:29 am</h4>
    <div class="postbody"><span class="postbody">I can't overstate how good it is to know how to use a profiler (I would say equally as good as knowing how to use a debugger or a memory profiler).  There is a port of cygprofile that works phenomenally for the the ds (hat tip to simonjhall for that). 
<br/>
<br/>
I've thought about throwing up tutorials on using cygprofile and also on using the gdb tool thats floating around; would people be interested in that?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167408 - sgeos - Wed Mar 11, 2009 1:54 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>albinofrenchy wrote:</b></span></td> </tr> <tr> <td class="quote">I've thought about throwing up tutorials on using cygprofile and also on using the gdb tool thats floating around; would people be interested in that?</td> </tr></table><span class="postbody">
<br/>
How could it hurt?  It seems like good information to have around.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167409 - Ruben - Wed Mar 11, 2009 2:07 am</h4>
    <div class="postbody"><span class="postbody">OK.. so long as it's good enough to run at a reasonable speed. Got it.
<br/>
<br/>
But anyway.. I might snap out of GBA/DS code for a bit.. GBA is kinda out-of-business (aside from the homebrew scene) and the DS is waaaay too hard for me, so I'll probably go back to coding in the Sphere environment.. uses JavaScript to run so it'll be fun getting back into that. ^_^"
<br/>
<br/>
But when that's over, I'll need the advice you guys gave me. So thanks guys~</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167423 - gauauu - Wed Mar 11, 2009 2:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ruben wrote:</b></span></td> </tr> <tr> <td class="quote"> GBA is kinda out-of-business (aside from the homebrew scene) and the DS is waaaay too hard for me,</td> </tr></table><span class="postbody">
<br/>
<br/>
If you treat the DS like a GBA with two screens, it's really only the tiniest bit harder than the GBA.  Sure, you have to set up your vram banks at the beginning.  And music runs on the ARM7 (just use someone else's music library).  Other than that, it's pretty much the same thing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167424 - Ruben - Wed Mar 11, 2009 3:03 pm</h4>
    <div class="postbody"><span class="postbody">:-|
<br/>
<br/>
You even have to set up the VRAM banks at the beginning?!?! Ayayayayay...
<br/>
<br/>
Yeah, I know that if I did anything to do with music on the DS, I would use someone else's library.. the thing that makes me go "GAH!!!!!!!" is the whole thing where everything lives in RAM, each processor has its own entry point, each processor can only do certain things, etc.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167473 - albinofrenchy - Fri Mar 13, 2009 5:50 am</h4>
    <div class="postbody"><span class="postbody">Honestly Ruben, from what I've seen on these boards you are more than competent enough to attack the DS successfully. libnds handles most of the annoying parts of the VRAM(You can set vram in four lines, and a generic video setup in like ten), and you can effectively ignore the second processor until you are ready to deal with it. I haven't actually used the arm7 on my project yet.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167485 - keldon - Fri Mar 13, 2009 6:49 pm</h4>
    <div class="postbody"><span class="postbody">Don't be put off by these little things, as said above, it's only a few lines of code. If it helps, use a checklist each time you are setting up a screen, so long as you complete the steps.
<br/>
<br/>
The agitation you get the first time coding it is good, that's your brain gaining experience. Earn yourself a few scars and you'll be a vet in no time ^_^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167490 - sgeos - Fri Mar 13, 2009 11:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">If it helps, use a checklist each time you are setting up a screen, so long as you complete the steps.</td> </tr></table><span class="postbody">
<br/>
Or just use a setup function.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
