<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>What happens when I use 'new'? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > What happens when I use 'new'?</h2>
<div id="posts">
<div class="post">
    <h4>#93688 - Lick - Thu Jul 20, 2006 6:45 pm</h4>
    <div class="postbody"><span class="postbody">Where does the memory come from? NOT from the hardware I suppose..?<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93717 - racarate - Thu Jul 20, 2006 9:40 pm</h4>
    <div class="postbody"><span class="postbody">All memory comes from hardware.  Where else would it come from?<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="font-weight: bold">Neko: I love meow-tain climbing! 
<br/>
Need anything? I'll even save your game!</span></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93723 - Lick - Thu Jul 20, 2006 10:05 pm</h4>
    <div class="postbody"><span class="postbody">Perhaps ROM? The linker allocates the memory in static ROM-space.. just like the not-newed memory..
<br/>
<br/>
But yeah, I guess so. Really hits me when the DS has 4MB RAM but just a few KB VRAM?<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93744 - tepples - Thu Jul 20, 2006 11:15 pm</h4>
    <div class="postbody"><span class="postbody">The operator new normally allocates from the heap. Many implementations of operator new use malloc() of &lt;cstdlib&gt; as a back end. In devkitARM, malloc() is supposed to use a heap in EWRAM, but this is broken on the GBA in devkitARM R19.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93855 - poslundc - Fri Jul 21, 2006 5:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lick wrote:</b></span></td> </tr> <tr> <td class="quote">Perhaps ROM? The linker allocates the memory in static ROM-space.. just like the not-newed memory.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm sure you realize ROM stands for Read Only Memory... you cannot dynamically allocate memory in ROM - not usefully, anyway - because you cannot write to it.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93914 - Lick - Fri Jul 21, 2006 11:51 pm</h4>
    <div class="postbody"><span class="postbody">Ow.. I just meant from the cartridge then. But I guess it's in the hardware after all.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93947 - tepples - Sat Jul 22, 2006 2:04 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">I'm sure you realize ROM stands for Read Only Memory... you cannot dynamically allocate memory in ROM - not usefully, anyway - because you cannot write to it.</td> </tr></table><span class="postbody">
<br/>
"Cart ROM" also stands for an address space in the Game Boy Advance and Nintendo DS. This may be writable, especially if you have a SuperCard inserted, but the known linker scripts don't support this because GCC can't be made to use read-modify-write for 8-bit writes to ROM.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
