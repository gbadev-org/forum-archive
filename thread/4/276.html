<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>textbackgrounds - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > textbackgrounds</h2>
<div id="posts">
<div class="post">
    <h4>#1726 - whodoo - Wed Jan 22, 2003 1:21 am</h4>
    <div class="postbody"><span class="postbody">okey another newbie question hope that?s okey :)
<br/>
how do I put my tiles when using a textbackground?.. with the rotationbackground its like
<br/>
<br/>
background.mapdata[Y*MAPWIDTH + X] = yada | yada &lt;&lt;8;
<br/>
<br/>
but if I wanna put a tile on (x;y) on a textbackground..it wont work with this code..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1728 - Splam - Wed Jan 22, 2003 3:16 am</h4>
    <div class="postbody"><span class="postbody">Text backgrounds are 16bit per entry ;)  so it would be something like
<br/>
<br/>
background.mapdata[Y*MAPWIDTH + X] = yada ; 
<br/>
<br/>
It looks like you're doing an X Y loop for the code you posted so remember that the X size is twice as large because it's only 1 tile per 16bit, it also means you can access tiles directly (if you want to change just 1) instead of having to do 2 at a time like with rot/scale screens.
<br/>
<br/>
Anyway,  each entry has this
<br/>
bits
<br/>
0-9 = character name
<br/>
10 = horizontal flip
<br/>
11 = vertical flip
<br/>
12-15 = colour palette (for 16 colour tiles or set to 0 for 256 colour tiles).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1736 - dummer Anf?nger - Wed Jan 22, 2003 8:46 am</h4>
    <div class="postbody"><span class="postbody">There is an other advantage, too.
<br/>
Text Backgrounds are not linear tiled as rot Backgrounds.
<br/>
<br/>
It is like the difference between Tile gfx and Mode3/4/5 gfx.
<br/>
Want to know more about?<br/>_________________<br/>... but im just a <span style="text-decoration: underline">dummy</span> <span style="font-weight: bold">Newbie</span>
<br/>
<br/>
(sorry for my terrible english)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1741 - whodoo - Wed Jan 22, 2003 10:45 am</h4>
    <div class="postbody"><span class="postbody">yeah..I just want to know how to access a special tile(x,y) when working with textbackgrounds..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1743 - Splam - Wed Jan 22, 2003 1:32 pm</h4>
    <div class="postbody"><span class="postbody">Text backgrounds not linear tiled like rot/scale ?  Not sure I understand what you mean?
<br/>
<br/>
Anyway whodoo, if you want to access a particular tile then u just use the line I posted, you'll be writing 16bit values  so (Y*width) + x will give you the correct tile in vram.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1746 - Touchstone - Wed Jan 22, 2003 2:51 pm</h4>
    <div class="postbody"><span class="postbody">I assume that "Text backgrounds not linear tiled like rot/scale" refers to when using 64x64 tile (512x512 pixel) backgrounds. When using 64x64 tile backgrounds they are arranged from four 32x32 tile linear tilemaps (MAP0-3) ordered like so (I think):
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Map0 Map1
<br/>
Map2 Map3</td> </tr></table><span class="postbody">
<br/>
When using 32x32 tile backgrounds the tilemaps are linear like rotated and scaled tilemaps.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1748 - Splam - Wed Jan 22, 2003 3:51 pm</h4>
    <div class="postbody"><span class="postbody">I thought he meant about it being byte per tile on a 16bit read/write ;)  Your Map layout is correct btw :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1752 - Splam - Wed Jan 22, 2003 4:23 pm</h4>
    <div class="postbody"><span class="postbody">@whodoo
<br/>
Is that your problem btw? Are you displaying a screen bigger than 256x256? (you should mention these things to save confusion ;) )  If so then you'll need to access the map as Touchstone said.
<br/>
To do that you'll need to do a little calculation to work out which vram area you want to access.  for a 1024x1024 map your screens will be laid out in vram offsets like this
<br/>
<br/>
0x0000 0x0800
<br/>
0x1000 0x1800</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1760 - whodoo - Wed Jan 22, 2003 5:28 pm</h4>
    <div class="postbody"><span class="postbody">hehe thank you..
<br/>
the problem was that I didnt know that the map was "split" into 4 maps when using 64x64 tiles..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1762 - Splam - Wed Jan 22, 2003 6:21 pm</h4>
    <div class="postbody"><span class="postbody">It's something of a "flaw" if you ask me ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1788 - tepples - Thu Jan 23, 2003 4:38 am</h4>
    <div class="postbody"><span class="postbody">Nintendo console nametables have been in screen-size pieces since the NES and Super NES.  It simplifies the address calculation logic (no variable shifting).
<br/>
<br/>
That said, I always use 32x32 tile maps anyway when not doing mode 7.  The visible area is small enough (240x160 on a 256x256 pixel plane) that you can update the tiles at the seam with zero artifacting (*cough*NES mirroring*cough*).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1811 - Splam - Thu Jan 23, 2003 2:48 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, using anything other than 32x32 is a bit of a waste of space because you only need to update a row and column max if you're scrolling less than 8 pixels per frame.  Fast and saves lots of vram ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1818 - whodoo - Thu Jan 23, 2003 5:55 pm</h4>
    <div class="postbody"><span class="postbody">but what if I got 64x64..and the background is split into 4...
<br/>
<br/>
do I get access to the "first" 32x32 tiles by bg.mapdata[0- 1024], the second area by bg.mapdata[1024 - 2048] and so on?..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1822 - Splam - Thu Jan 23, 2003 6:49 pm</h4>
    <div class="postbody"><span class="postbody">Yes, if you're using the 64x64 map then you can access each 1/4 like that :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1833 - whodoo - Fri Jan 24, 2003 1:48 am</h4>
    <div class="postbody"><span class="postbody">hmm is it like this?..that if the rotationbackground x/y_scrolling is set to 0,0 the left upper corner of the background is placed in the middle of the screen? but in the left corner when using textbackgrouns?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
