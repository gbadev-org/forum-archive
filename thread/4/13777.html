<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>devkitPro/msys make issues - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > devkitPro/msys make issues</h2>
<div id="posts">
<div class="post">
    <h4>#135705 - kusma - Wed Jul 25, 2007 5:58 pm</h4>
    <div class="postbody"><span class="postbody">Given this makefile:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">define template
<br/>
$1_VAR := $1
<br/>
endef
<br/>
<br/>
$(eval $(call template,TEST))
<br/>
test:
<br/>
   echo $(TEST_VAR)
<br/>
</td> </tr></table><span class="postbody">
<br/>
I get this output with cygwin make (and other unix-builds):
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">$ /c/cygwin/bin/make -f test.mak
<br/>
echo TEST
<br/>
TEST
<br/>
$</td> </tr></table><span class="postbody">
<br/>
Whereas the make that comes with devkitPro (it's a part of msys, it seems) gives me this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">$ /c/gba/devkitPro/msys/bin/make -f test.mak
<br/>
echo
<br/>
<br/>
$</td> </tr></table><span class="postbody">
<br/>
<br/>
Now, this has become a headache to me, cause I'm working on a new make system for pimpmobile, and the ability to set variables from functions that get evaluated is really handy. It seems to me that the make-version included in devkitPro is 7 years old, and this might be the cause of my problem.
<br/>
<br/>
Here's the version of my cygwin-make:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">$ /c/cygwin/bin/make --version
<br/>
GNU Make 3.81
<br/>
Copyright (C) 2006  Free Software Foundation, Inc.
<br/>
This is free software; see the source for copying conditions.
<br/>
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
<br/>
PARTICULAR PURPOSE.
<br/>
<br/>
This program built for i686-pc-cygwin
<br/>
$</td> </tr></table><span class="postbody">
<br/>
And here's the version of my msys-make:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">$ /c/gba/devkitPro/msys/bin/make --version
<br/>
GNU Make version 3.79.1, by Richard Stallman and Roland McGrath.
<br/>
Built for i686-pc-msys
<br/>
Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 2000
<br/>
        Free Software Foundation, Inc.
<br/>
This is free software; see the source for copying conditions.
<br/>
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
<br/>
PARTICULAR PURPOSE.
<br/>
<br/>
Report bugs to &lt;bug-make@gnu.org&gt;.
<br/>
$</td> </tr></table><span class="postbody">
<br/>
Does anyone know any workarounds for this, and/or will the make-version in msys ever be updated?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135726 - kusma - Wed Jul 25, 2007 8:17 pm</h4>
    <div class="postbody"><span class="postbody">Update: There's a newer version of GNU make for msys here:
<br/>
<a href="http://sourceforge.net/project/showfiles.php?group_id=32663&amp;package_id=82340" target="_blank">http://sourceforge.net/project/showfiles.php?group_id=32663&amp;package_id=82340</a>
<br/>
<br/>
If possible, it'd be neat if this or some other version based off the same source code would be included into the next release of devkitPro.
<br/>
<br/>
I don't really want to require anything else than devkitPro to build my project ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135947 - wintermute - Fri Jul 27, 2007 7:38 pm</h4>
    <div class="postbody"><span class="postbody">I'll be updating the entire msys distro provided with devkitPro soon to cope with some Vista related issues.
<br/>
<br/>
In the meantime you could give the current snapshot a whirl and see how that works out for you.
<br/>
<br/>
<a href="http://devkitpro.sf.net/msys-snapshot.zip" target="_blank">http://devkitpro.sf.net/msys-snapshot.zip</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#136124 - kusma - Sun Jul 29, 2007 3:10 pm</h4>
    <div class="postbody"><span class="postbody">Awesome! That did the trick! Thanks a lot, and I hope this will be included in the next release :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
