<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Quick Fade Question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Quick Fade Question</h2>
<div id="posts">
<div class="post">
    <h4>#888 - Epo - Sat Jan 11, 2003 8:29 pm</h4>
    <div class="postbody"><span class="postbody">When I'm fading using REG_COLEY, in VisualBoy Adv there seems to be some tearing.  I am waiting for the vblank, but that doesnt seem to work.  Is there a way to avoid this tearing?  Or is it just a VisualBoy Adv problem (I am not using a very fast computer, especially when it comes to graphics).  I have not tried the fading on an actual GBA; I have no linker, yet.
<br/>
So am I just doing the fading wrong, or is it just VBA's error?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
// Fades in
<br/>
void FadeIn (u32 nWait)
<br/>
{
<br/>
   s8 nIntensity;
<br/>
   
<br/>
   REG_BLDMOD = (1 | 2 | 4 | 8 | 16 | 32 | (192));
<br/>
   
<br/>
   for (nIntensity = 16; nIntensity &gt;= 0; nIntensity--)
<br/>
   { WaitForVBlank(); REG_COLEY = nIntensity; Sleep (nWait); }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#892 - Splam - Sat Jan 11, 2003 9:37 pm</h4>
    <div class="postbody"><span class="postbody">vboy problem..
<br/>
<br/>
vboy is trying to emulate a 60hz machine but has to refresh it's screen at the same speed as your monitor refresh (could be anything like 60,70,80  whatever hz)  so it can't draw the emulated screen at preciesly the correct time.  It is possible to do it better than vboy does but what's the point? it's just an emu ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#893 - satanicfreak2 - Sat Jan 11, 2003 10:04 pm</h4>
    <div class="postbody"><span class="postbody">this isnt a problem w/ your rom... my games do this also but on real hardware there is no problem at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#919 - Epo - Sun Jan 12, 2003 6:07 am</h4>
    <div class="postbody"><span class="postbody">Great!  So does the hardware take care of the video refresh when working with the REG_xx registers?  --&gt; Should I just forget about waiting for the vblank when changing the REG_COLEY value?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#920 - jaymzjulian - Sun Jan 12, 2003 6:39 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Epo wrote:</b></span></td> </tr> <tr> <td class="quote">Great!  So does the hardware take care of the video refresh when working with the REG_xx registers?  --&gt; Should I just forget about waiting for the vblank when changing the REG_COLEY value?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
no, you still need to wait for vblank
<br/>
<br/>
	-jj</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
