<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Any way to know if rom is playing on GBA SP or GBA? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Any way to know if rom is playing on GBA SP or GBA?</h2>
<div id="posts">
<div class="post">
    <h4>#28174 - isildur - Wed Oct 27, 2004 5:47 pm</h4>
    <div class="postbody"><span class="postbody">I need to know if my rom is playing on a gba or an sp. I want to know because on the gba, since there is no light, the colors are too dark. I want to adjust the intensity if I find the rom is not on an sp console. Better yet, is there a way to know if the sp light is on or off?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28175 - Lord Graga - Wed Oct 27, 2004 5:51 pm</h4>
    <div class="postbody"><span class="postbody">Nope.
<br/>
<br/>
<br/>
Seriously, nope.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28178 - getch - Wed Oct 27, 2004 5:54 pm</h4>
    <div class="postbody"><span class="postbody">Maybe its better to just use high instensity all the time.
<br/>
Bright colors are good on an SP also.<br/>_________________<br/>-pb</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28179 - DiscoStew - Wed Oct 27, 2004 6:02 pm</h4>
    <div class="postbody"><span class="postbody">There is no way to tell whether you're ROM is running on a GBA or a GBASP, but here is an idea off the top of my head that could help. You could have 2 sets of master palettes, one that has brighter colors for a normal GBA, and the other that has the normal colors for a GBASP. Then when the ROM boots up, give the option to choose which master palette to use. Of course, where ever in your code copies palettes from ROM to RAM, you'll have to make sure that you are copying from the correct master palette.
<br/>
<br/>
Juts to inform you that even with this method, you may not get the results you'd like.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28189 - tepples - Wed Oct 27, 2004 7:07 pm</h4>
    <div class="postbody"><span class="postbody">Simpler method: If your game engine does not use the blending registers, then give the user a "brightness" option and use the blending registers to subtly fade the whole screen to white when the player turns on brightness.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28204 - isildur - Wed Oct 27, 2004 7:42 pm</h4>
    <div class="postbody"><span class="postbody">@Dicostew:
<br/>
<br/>
I was thinking of something like that. Let the user choose from 2 different palettes. Anyways, I generate the palette at the start of the game.
<br/>
<br/>
<br/>
@Tepples: Interresting option. Can this work in mode 4? I don't use any sprites.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28210 - Touchstone - Wed Oct 27, 2004 8:24 pm</h4>
    <div class="postbody"><span class="postbody">FYI, Final Fantasy Tactics Advance have three palette-options. GBA, GBA SP and GBA PLAYER.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28217 - tepples - Wed Oct 27, 2004 11:29 pm</h4>
    <div class="postbody"><span class="postbody">Fading the whole screen part-way to white using the blend mode and fade level registers should work in any mode.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28218 - ScottLininger - Wed Oct 27, 2004 11:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Fading the whole screen part-way to white using the blend mode and fade level registers should work in any mode.</td> </tr></table><span class="postbody">
<br/>
<br/>
Seriously? Can you attach, say, a Mode4 screen to the blend? I've only ever done this with sprites and Mode0 backgrounds.
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28239 - FluBBa - Thu Oct 28, 2004 9:22 am</h4>
    <div class="postbody"><span class="postbody">The source to Goomba includes a gamma corrector that takes a 24bit RGB value and outputs a 15bit BGR value suitable for the GBA.
<br/>
It's in asm and I'm not sure it can safely be called from a C function though, I can fix it up if anyone is interested .
<br/>
<br/>
<a class="postlink" href="http://hem.passagen.se/flubba/gba.html" target="_blank">http://hem.passagen.se/flubba/gba.html</a><br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28265 - ampz - Thu Oct 28, 2004 5:34 pm</h4>
    <div class="postbody"><span class="postbody">Zelda have adjustable brightness.
<br/>
Correct me if I'am wrong but blending performs a addition, not a multiplication? Would it not distort the color saturation?
<br/>
<br/>
What you really want is probably to adjust the gamma... I think this is best done with prefabricated palettes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28268 - isildur - Thu Oct 28, 2004 5:44 pm</h4>
    <div class="postbody"><span class="postbody">Yes, I will offer the choice to the user so he can choose 'Normal colors', or 'Brighter colors'. The only problem I have is that with a brighter palette, the lighting has limited number of shades, almost no shades. 
<br/>
(It's for a 3d render).
<br/>
<br/>
But anyways, on the gba (not sp), with the normal colors, it was way too dark. I don't have a gbasp to test, but I guess that with the built-in light it will be ok.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28296 - ampz - Fri Oct 29, 2004 6:36 am</h4>
    <div class="postbody"><span class="postbody">Try gamma correction instead of brightness.. Should give you a few more shades to work with.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
