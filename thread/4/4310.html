<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Anyone gotten Eclipse (w/CDT) to build against DevArm? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Anyone gotten Eclipse (w/CDT) to build against DevArm?</h2>
<div id="posts">
<div class="post">
    <h4>#28412 - benjamin - Sun Oct 31, 2004 3:28 am</h4>
    <div class="postbody"><span class="postbody">I just downloaded Eclipse with the C++ plugin (CDT). Its supposed to work perfectly with GCC toolchains and I'm wondering how hard it would be to integrate it with DevKitArm?
<br/>
<br/>
Anyone had any experience with this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28415 - Abscissa - Sun Oct 31, 2004 4:24 am</h4>
    <div class="postbody"><span class="postbody">If it's supposed to work perfectly with GCC toolchains I can't imagine it having any problems with DevKitARM, although I haven't tried it.
<br/>
<br/>
The only things I can think of that could *possibly* be non-trivial would be telling it that the executable names start with "arm-elf-" and having it do the objcopy step after the linking.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28416 - benjamin - Sun Oct 31, 2004 4:44 am</h4>
    <div class="postbody"><span class="postbody">That could be. I'll have to take a closer look at the docs because it doesn't appear that there's anyplace to specify the name of the tools file. But I haven't looked that hard. (&lt;&lt; lazy) :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28531 - NoMis - Tue Nov 02, 2004 11:27 am</h4>
    <div class="postbody"><span class="postbody">It should already run with the standart config. But it will create an exe file and there will be some ARM specific options missing. Objcopy is missing to. You also would need to rename your gcc so the config can find it.
<br/>
<br/>
But the managed build system lets you make own configurations were you can specify all these things. If you want to make your own configuration you should take a look at this article: <a href="http://dev.eclipse.org/viewcvs/index.cgi/~checkout~/cdt-home/user/Reference%20Documents/Managed_Build/Managed_Build_Extensibility.html?cvsroot=Tools_Project" target="_blank">http://dev.eclipse.org/viewcvs/index.cgi/~checkout~/cdt-home/user/Reference%20Documents/Managed_Build/Managed_Build_Extensibility.html?cvsroot=Tools_Project</a>
<br/>
<br/>
It explains how to set up your toolchain.
<br/>
<br/>
I'm btw currently working on this.
<br/>
<br/>
Another tip if you actually using eclipse. You can debug within eclipse using VBA-SDL and gdb :)
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#29144 - benjamin - Fri Nov 12, 2004 4:14 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>NoMis wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I'm btw currently working on this.
<br/>
<br/>
NoMis</td> </tr></table><span class="postbody">
<br/>
<br/>
I'll check out the resource you cited but if you figure it out please post it here! Many thanks..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#29163 - NoMis - Fri Nov 12, 2004 6:03 pm</h4>
    <div class="postbody"><span class="postbody">I was mistaken in a few points in my previous post. It is actually possible to change the default extension and the build tool's commands since CDT 2.0. I just didn't know cause I used standart makefiles till now.
<br/>
But you still don't have the arm specific flags. 
<br/>
<br/>
I finnished the first version of my config file. Was pretty easy cause I was able to copy the most of the standart config and just add the arm options.
<br/>
Here is the file: 
<br/>
<br/>
<a href="http://members.aon.at/simonb/cybercat.gba.managedbuild.zip" target="_blank">http://members.aon.at/simonb/cybercat.gba.managedbuild.zip</a>
<br/>
<br/>
Just copy into your eclipse directory and when making a new C/C++ Managed project you should have a new build target called "GBA Rom".
<br/>
<br/>
I added the 
<br/>
-mthumb
<br/>
-marm
<br/>
-mthumb-interwok
<br/>
flags to the compiler under the "Model" section of the compiler, assambler and linker. 
<br/>
It also uses arm-elf-gcc for files with C nature and arm-elf-g++ for files with C++ nature. 
<br/>
<br/>
Whats missing at this point is objcopy. I wasn't able to get it working since it takes input pattern than all the other build tools. So the config only creates the elf files at the moment.
<br/>
<br/>
If there are any other arm or gba specific options that I should add just ask.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34739 - kareemjg - Tue Jan 25, 2005 8:35 am</h4>
    <div class="postbody"><span class="postbody">I've added this to the plugin directory with the Eclipse folder.  Currently using version 3.0 with the C/C++ extension.  When I do managed c++ project and select show all targets I'm still not seeing your plugin installed for GBA target.  
<br/>
<br/>
This is my first install of Eclipse.. plugin installation is automatic?
<br/>
<br/>
-Khova</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34741 - NoMis - Tue Jan 25, 2005 9:00 am</h4>
    <div class="postbody"><span class="postbody">Do you copied it to the plugin or the Eclipse directory? Cause my archive already has a plugin folder so you just have to copy it to the Eclipse directory.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34742 - kareemjg - Tue Jan 25, 2005 10:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Do you copied it to the plugin or the Eclipse directory? Cause my archive already has a plugin folder so you just have to copy it to the Eclipse directory. </td> </tr></table><span class="postbody">
<br/>
<br/>
I re-read your post and went with a new install but used the 2.0 CDT instead of the newest version.  Now able to see the plugin without any problems.  I'm not POSTIVE that the 2.1 CDT was the orginal problem but since I've been copying to a 1 gb memory card all night I dont feel like taking the time to verify.  Even with the USB2.0 the process is not entirely fast. :)
<br/>
<br/>
-Khova</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34746 - kareemjg - Tue Jan 25, 2005 1:30 pm</h4>
    <div class="postbody"><span class="postbody">Okay.. I finally got it running and compiling. :) Take a look at the time differnce between the two post and you can see how long I've been working on this thing.  BTW thanks for the plugin NoMis.  
<br/>
<br/>
To put it simply, there are some things that it is assumed you know when installing this Eclipise on XP.  Namely the inclusion of cwygin and also making sure your paths are set up in environmental variables.  Most of the docs go into setting up a batch file which is a very simple thing if you keep in mind that window and msdos pathing is differnt.  When I get a little break today I will throw up a quick Eclipse &amp; devkitarm_r8 install guide which should make it easy for even a sleepless dummy.
<br/>
<br/>
-khova</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34747 - NoMis - Tue Jan 25, 2005 1:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>kareemjg wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Do you copied it to the plugin or the Eclipse directory? Cause my archive already has a plugin folder so you just have to copy it to the Eclipse directory. </td> </tr></table><span class="postbody">
<br/>
<br/>
I re-read your post and went with a new install but used the 2.0 CDT instead of the newest version.  Now able to see the plugin without any problems.  I'm not POSTIVE that the 2.1 CDT was the orginal problem but since I've been copying to a 1 gb memory card all night I dont feel like taking the time to verify.  Even with the USB2.0 the process is not entirely fast. :)
<br/>
<br/>
-Khova</span></td> </tr></table><span class="postbody">
<br/>
<br/>
The plugin should run in CDT2.1 as well since you can specifie the MBS (Managed Build System) Version number in the build manifest file. And as far as I know CDT 2.1 supports the old MBS.
<br/>
I also finished a new plugin for the new MBS introduced with CDT 2.1. I was hoping to get objcopy into the build process with the new build system but it still doesn't work :(
<br/>
It doesn't link anymore if I add objcopy to the toolchain.
<br/>
<br/>
If your interessted I can upload the new plugin as well.
<br/>
<br/>
Did you used CDT2.1 with Eclipse 3.0 or 3.1 M4. Cause CDT2.1 is targeted on 3.1 M4.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36583 - tubooboo - Fri Feb 25, 2005 8:34 am</h4>
    <div class="postbody"><span class="postbody">Hi Nomis,
<br/>
<br/>
actually, from what i read CDT 2.1 is not targeted at 3.1M4 -- in fact, the use of Eclipse 3.1 is currently discouraged for CDT.
<br/>
<br/>
best
<br/>
Emanuel
<br/>
<a href="http://www.ngine.de" target="_blank">http://www.ngine.de</a><br/>_________________<br/>HAM author
<br/>
<a href="http://www.ngine.de" target="_blank">http://www.ngine.de</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36704 - NoMis - Mon Feb 28, 2005 11:36 am</h4>
    <div class="postbody"><span class="postbody">In that case I might be wrong there. But I remember that I had problems with Eclipse 3.0. Could be that I don't removed 2.0 correctly and got into conflicts.
<br/>
<br/>
But I used it with 3.1M4 all along and had no problems. Updated to M5 latly and it also works just fine.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37974 - brucesinner - Sat Mar 19, 2005 2:31 pm</h4>
    <div class="postbody"><span class="postbody">So did you folks made a tutorial on how to configure Eclipse to build GBA roms ???
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
