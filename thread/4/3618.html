<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problem with rotation - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Problem with rotation</h2>
<div id="posts">
<div class="post">
    <h4>#22657 - Mephisto - Sat Jun 26, 2004 12:41 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">Here is my problem :</span>
<br/>
i want to use all 32 rotations
<br/>
<br/>
sprite1 -&gt; rotation0
<br/>
sprite2 -&gt; rotation1
<br/>
sprite3 -&gt; rotation2
<br/>
sprite4 -&gt; rotation3
<br/>
<br/>
sprite5 -&gt; rotation4
<br/>
sprite6 -&gt; rotation5
<br/>
sprite7 -&gt; rotation6
<br/>
sprite8 -&gt; rotation7
<br/>
<br/>
<span style="font-weight: bold">Here all is fine</span>
<br/>
<br/>
sprite1 -&gt; rotation0
<br/>
sprite2 -&gt; rotation1
<br/>
sprite3 -&gt; rotation2
<br/>
sprite4 -&gt; rotation3
<br/>
<br/>
sprite5 -&gt; rotation8
<br/>
sprite6 -&gt; rotation9
<br/>
sprite7 -&gt; rotation10
<br/>
sprite8 -&gt; rotation11
<br/>
<br/>
<span style="font-weight: bold">sprites 5 6 7 &amp; 8 does not show</span>
<br/>
<br/>
sprite1 -&gt; rotation0
<br/>
sprite2 -&gt; rotation1
<br/>
sprite3 -&gt; rotation2
<br/>
sprite4 -&gt; rotation3
<br/>
<br/>
sprite5 -&gt; rotation4
<br/>
sprite6 -&gt; rotation5
<br/>
sprite7 -&gt; rotation6
<br/>
sprite8 -&gt; rotation7
<br/>
<br/>
sprite9 -&gt; rotation8
<br/>
sprite10 -&gt; rotation9
<br/>
sprite11 -&gt; rotation10
<br/>
sprite12 -&gt; rotation11
<br/>
<br/>
<span style="font-weight: bold">sprites 1 - 8 are fine
<br/>
sprite9 use rotation0 instead of rotation8
<br/>
sprite10 use rotation1 instead of rotation9
<br/>
sprite11 use rotation2 instead of rotation10
<br/>
sprite12 use rotation3 instead of rotation11</span>
<br/>
<br/>
<br/>
<br/>
<span style="font-weight: bold">here is my code:</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define ROT_NUM(num)   ( (num) &lt;&lt; 9 );
<br/>
<br/>
typedef struct spriteRot_struct
<br/>
{
<br/>
u16 Unused0[3];
<br/>
FIXED8_8 PA;
<br/>
u16 Unused1[3];
<br/>
FIXED8_8 PB;
<br/>
u16 Unused2[3];
<br/>
FIXED8_8 PC;
<br/>
u16 Unused3[3];
<br/>
FIXED8_8 PD;
<br/>
} spriteRot_struct;
<br/>
<br/>
spriteOAM_struct SpritesOAM[128];
<br/>
spriteRot_struct *RotData = (spriteRot_struct*)SpritesOAM;
<br/>
<br/>
u32 properties = ROT_NUM(num) | ROT_FLAG | SPR_COLOR256 | SPR_SIZE32x32 | SPR_PRIORITY(3);
<br/>
<br/>
sprite-&gt;Attribute0 = properties &lt;&lt; 8;
<br/>
sprite-&gt;Attribute1 = (u16)( properties &amp; 0x0000FF00 );
<br/>
sprite-&gt;Attribute2 = ......
<br/>
<br/>
//update Rotdatas in OAM
<br/>
for(i = 0; i &lt; 32; i ++)
<br/>
{
<br/>
SpritesOAM_RAM[i * 16 + 3] = RotData[i].PA;
<br/>
SpritesOAM_RAM[i * 16 + 7] = RotData[i].PB;
<br/>
SpritesOAM_RAM[i * 16 + 11] = RotData[i].PC;
<br/>
SpritesOAM_RAM[i * 16 + 15] = RotData[i].PD;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
plz help i need all 32 rotation plz !!!</span><span class="gensmall"><br/><br/>Last edited by Mephisto on Sat Jun 26, 2004 3:49 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#22659 - col - Sat Jun 26, 2004 1:18 pm</h4>
    <div class="postbody"><span class="postbody">what is spriteOAM_struct ?
<br/>
what is SpritesOAM_RAM ?
<br/>
what is sprite ?
<br/>
what is num ?
<br/>
there seem to be no references to any hardware memory locations?
<br/>
how do you 'want to use all 32 rotations' and what for?
<br/>
<br/>
with such a hazy description, and all the details that seem to be missing from the code you posted, it's difficult to know exactly what it is you are trying to do.
<br/>
<br/>
Also, please use the 'Code' button in the post dialog to make things a bit more readable:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
this text is in a code box
<br/>
   indentations work in a code box
<br/>
      :)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
cheers
<br/>
<br/>
Col</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22663 - Mephisto - Sat Jun 26, 2004 3:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">what is spriteOAM_struct ? 
<br/>
what is SpritesOAM_RAM ? 
<br/>
what is sprite ? 
<br/>
what is num ?</td> </tr></table><span class="postbody">
<br/>
<br/>
It is generic code
<br/>
spriteOAM_struct  refer to OAM struct (probably same you use)
<br/>
SpritesOAM_RAM is OAM memory location
<br/>
sprite is the sprite i display (it do not mind what real identifier i put in my code, its for a better understanding)
<br/>
num is just a variable, what ever its value, it does not mind here.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">there seem to be no references to any hardware memory locations?</td> </tr></table><span class="postbody">
<br/>
SpritesOAM_RAM : its obvious !!
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">how do you 'want to use all 32 rotations' and what for?</td> </tr></table><span class="postbody">
<br/>
Out of topic
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">with such a hazy description, and all the details that seem to be missing from the code you posted, it's difficult to know exactly what it is you are trying to do.</td> </tr></table><span class="postbody">
<br/>
Yeah you want me to post my thousands of code lines lol !
<br/>
IT IS NOT MY CODE
<br/>
it's all you need to know to find where the problem is
<br/>
it's probably a bitshifting problem ....
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Also, please use the 'Code' button in the post dialog to make things a bit more readable: </td> </tr></table><span class="postbody">
<br/>
thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22669 - dagamer34 - Sat Jun 26, 2004 4:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mephisto wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">what is spriteOAM_struct ? 
<br/>
what is SpritesOAM_RAM ? 
<br/>
what is sprite ? 
<br/>
what is num ?</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">It is generic code</span>
<br/>
spriteOAM_struct  refer to OAM struct (probably same you use)
<br/>
SpritesOAM_RAM is OAM memory location
<br/>
sprite is the sprite i display (it do not mind what real identifier i put in my code, its for a better understanding)
<br/>
num is just a variable, what ever its value, it does not mind here.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">there seem to be no references to any hardware memory locations?</td> </tr></table><span class="postbody">
<br/>
SpritesOAM_RAM : its obvious !!
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">how do you 'want to use all 32 rotations' and what for?</td> </tr></table><span class="postbody">
<br/>
Out of topic
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">with such a hazy description, and all the details that seem to be missing from the code you posted, it's difficult to know exactly what it is you are trying to do.</td> </tr></table><span class="postbody">
<br/>
Yeah you want me to post my thousands of code lines lol !
<br/>
IT IS NOT MY CODE
<br/>
it's all you need to know to find where the problem is
<br/>
it's probably a bitshifting problem ....
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Also, please use the 'Code' button in the post dialog to make things a bit more readable: </td> </tr></table><span class="postbody">
<br/>
thanks!</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Due to human error, it is impossible to fix "generic code". It's possible you made a mistake while copying the code. 
<br/>
<br/>
I can't really help you simply because the way the code is written is new to me. I'm sure it's supposed to do the same thing, but I am more clueless that you are. 
<br/>
<br/>
Where exactly did you get this code anyway?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22670 - Miked0801 - Sat Jun 26, 2004 5:16 pm</h4>
    <div class="postbody"><span class="postbody">Lol - I read "Due to Human error, it is impossible to fix <span style="font-style: italic">Genetic</span> code.  I think it reads better that way :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22688 - col - Sat Jun 26, 2004 11:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mephisto wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
it's all you need to know to find where the problem is
<br/>
</td> </tr></table><span class="postbody">
<br/>
It is <span style="text-decoration: underline">not</span> '<span style="font-style: italic">all you need to know to find where the problem is</span>' - with what you have posted, it's possible to make wild guesses at what the problem might be.
<br/>
You should post an example that compiles and exhibits the problem if you want to be sure of finding the problem. 
<br/>
Failing that, you should post the definitions of any support structures and macros that are used directly by the code if you want other people to fix it for you.
<br/>
Or at the very least give a good description of how the code is supposed to work...  
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
it's probably a bitshifting problem ....
<br/>
</td> </tr></table><span class="postbody">
<br/>
It's probably the best lager in the world
<br/>
<br/>
cheers
<br/>
<br/>
Col</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
