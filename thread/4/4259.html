<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>ham_VBAText() possible problem? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > ham_VBAText() possible problem?</h2>
<div id="posts">
<div class="post">
    <h4>#27857 - jamao - Fri Oct 22, 2004 9:57 am</h4>
    <div class="postbody"><span class="postbody">I've been working on this project that I took off the hands of another team comprised of three guys, and I'm currently working on the sprite/animation stuff. 
<br/>
<br/>
I have encountered an error about a 
<br/>
"reached empty int, this means you have an int on, but not set to a function" in int.c at line 40.
<br/>
I've seen someone else with this error but was sporadic for him and he eventually solved his problem. 
<br/>
As far as I see in the code, I do the sprite creation in ham the same as one of the previous versions of the project which worked and displayed a sprite minus the animation whatnot.
<br/>
<br/>
At one point, the line
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">ham_VBAText("MiniGame01:LoadScene - Error loading scene %d \n", aSceneNumber);</td> </tr></table><span class="postbody">
<br/>
<br/>
was causing it, because when I double slashed it the error didnt occur, but this line was in a default case of a switch that should not have even been executed. The value of the switch expression was 1 (which had a case for it), but for some reason, a ham_VBAText() call was not displaying in the log right above the switch. 
<br/>
<br/>
If anyone could help me out I'd appreciate it. Keep in mind that I didn't code most of this stuff, so I'm not entirely familiar with the different logics and designs, but according to what I see, ........, I'm just really confused.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27867 - ScottLininger - Fri Oct 22, 2004 5:28 pm</h4>
    <div class="postbody"><span class="postbody">I'm going to assume the int.h manages what are called "interrupts" in the gameboy world. These are "events" that interrupt your code-flow at a given point to go do something else.
<br/>
<br/>
One example of an interrupt is the VBlank interrupt. This event gets fired at the beginning of every "vblank" period, every frame. When this interrupt occurs, the gameboy halts whatever it is doing and goes to the function defined as the "handler" for that interrupt.
<br/>
<br/>
I suspect there is some interrupt that is firing in the middle of your program that's making you *think* there's a problem with your code, when in fact it's a problem with the interrupt.
<br/>
<br/>
So here's your error...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">"reached empty int, this means you have an int on, but not set to a function"</td> </tr></table><span class="postbody">
<br/>
<br/>
This error suggests that there is an interrupt that has been turned on, but that no function has been set as its handler. So every time the event fires, the gameboy has no idea what to do.
<br/>
<br/>
Now with that being said, I'm not familiar with HAM enough to tell you which interrupt might be active and why it would be set when the ham_VBAText function is called. They might actually be unrelated.
<br/>
<br/>
I'd look at the HAM documentation and do a search for interrupts. There should be a function or something that turns them on and off. Search your code for this function and see if there's an interrupt being enabled in there somewhere that shouldn't be.
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
