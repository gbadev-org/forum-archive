<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>can't i use H/V FLIP together with Rotation/Scaling? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > can't i use H/V FLIP together with Rotation/Scaling?</h2>
<div id="posts">
<div class="post">
    <h4>#3804 - jammin.won - Sun Mar 09, 2003 4:11 pm</h4>
    <div class="postbody"><span class="postbody">after i've created a sprite ,everything is ok ,i can flip it freely
<br/>
<br/>
but the problem happens when i made this sprite rotatable ,after this ,as soon as i flip the sprite,the sprite changes into a square of some color...then i clear the flip bit, the sprite then came back 
<br/>
<br/>
....that's really weird ....so if i cant can't i use H/V FLIP together with Rotation/Scaling?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3806 - tepples - Sun Mar 09, 2003 4:28 pm</h4>
    <div class="postbody"><span class="postbody">You can't use H/V flip with affine sprites <span style="font-style: italic">directly</span>, but you can accomplish vertically the same effect by creating another affine matrix.  
<br/>
<br/>
Explanation: For non-affine sprites, sprite flipping is mapped to matrix indices 0-7, 8-15, 16-23, and 24-31.  But for affine sprites, the matrices at those indices default to all-0, which produces a rectangle of the color of the center of your sprite.
<br/>
<br/>
Fix: Make another matrix by negating the appropriate elements of your current matrix.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3809 - jammin.won - Sun Mar 09, 2003 4:57 pm</h4>
    <div class="postbody"><span class="postbody">thanks a lot tepples,thats very helpful
<br/>
<br/>
hmmmm i nearly got it ....but still dont know the detail how to create another affine matrix and modify the flip bits
<br/>
<br/>
can u plz explain it in a little more detail ?
<br/>
<br/>
thx</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3812 - jammin.won - Sun Mar 09, 2003 5:32 pm</h4>
    <div class="postbody"><span class="postbody">hmmmmm .... if it is accomplished by create a dummy sprite ???
<br/>
<br/>
i tried but failed =(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3824 - DekuTree64 - Mon Mar 10, 2003 12:53 am</h4>
    <div class="postbody"><span class="postbody">Well, if I remember right, pa is the h scale, and pd is the v scale, so say you want to flip horizontally, set pa to -256. And say you want to scale to 2x normal size, and flip v, set pd to -128. You can try writing a little test program where you can use the keys to add/subtract from the scale value and just watch it flip when you go below 0.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3832 - jammin.won - Mon Mar 10, 2003 4:38 am</h4>
    <div class="postbody"><span class="postbody">YES!!! i got it 
<br/>
<br/>
just set 	PA = -255;PD = 255; to get a horizontally flip 
<br/>
<br/>
thx deku<br/>_________________<br/><a href="http://www.pocketzone.org/bbs/usr/8/8_10_10.jpg">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
