<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>math and screen don't match - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > math and screen don't match</h2>
<div id="posts">
<div class="post">
    <h4>#169532 - brave_orakio - Tue Jul 21, 2009 8:54 am</h4>
    <div class="postbody"><span class="postbody">Alright, I just can't seem to wrap my head around this. Using pixels as a measuring value, diagonal movement is a little confusing.
<br/>
<br/>
If we are to move horizontally or vertically by say, 8 pixels, just add +8 to either x or y values. But if we are to move diagonally by 8 pixels, we +8 to both x and y. Now if we plot that, we will see that one side has a 90 degree angle, the other 2 has a 45 degree angle.
<br/>
<br/>
Now, shouldn't the angle be 60 degrees for each side to be equal? For those fellas who made games with diagonally moving objects, did you take this into account or did you leave this as is?<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169533 - Cearn - Tue Jul 21, 2009 12:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>brave_orakio wrote:</b></span></td> </tr> <tr> <td class="quote">Alright, I just can't seem to wrap my head around this. Using pixels as a measuring value, diagonal movement is a little confusing.
<br/>
<br/>
If we are to move horizontally or vertically by say, 8 pixels, just add +8 to either x or y values. But if we are to move diagonally by 8 pixels, we +8 to both x and y. Now if we plot that, we will see that one side has a 90 degree angle, the other 2 has a 45 degree angle.
<br/>
<br/>
Now, shouldn't the angle be 60 degrees for each side to be equal?</td> </tr></table><span class="postbody">
<br/>
Yes, but you're forgetting that the sides of  triangle formed by a (8,8) movement aren't all equal. It's always a right triangle, so the diagonal is always longer than the other two sides. If you simply combine X and Y movement into diagonal movement, you're actually speeding up movement by √2. This is how things like <a class="postlink" href="http://en.wikipedia.org/wiki/Strafe-jumping" target="_blank">Strafe jumping</a> works.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">        /|
<br/>
 8√2  /  |
<br/>
    /    | dy=8 
<br/>
  /______|
<br/>
    dx=8</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
If you don't want the speed-increase, you need to divide by √2, or use sine and cosine to get the diagonal speed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169535 - elwing - Tue Jul 21, 2009 2:07 pm</h4>
    <div class="postbody"><span class="postbody">time to use hexagonal maps?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169536 - sgeos - Tue Jul 21, 2009 3:16 pm</h4>
    <div class="postbody"><span class="postbody">Sine, cosine, and fixed point math are wonderful things.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169540 - Miked0801 - Tue Jul 21, 2009 9:58 pm</h4>
    <div class="postbody"><span class="postbody">Think of your movement this way.  When moving straight vertical or horizontal, you are moving along the Hypotenuse of a triangle with 1 side being 0 and the other being equal in length to the Hypotenuse.  If you move 45 degrees, the Hypotenuse is still '8' pixels in length, but the other legs of the right triangle are shortened - in this case to 8 * sin(45), 8 * cos(45) or 5.66 each size.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169542 - Dwedit - Wed Jul 22, 2009 12:47 am</h4>
    <div class="postbody"><span class="postbody">How about just normalizing the vector?  No trigonometry required.
<br/>
<br/>
Given some vector (for example, X=+7, Y=-11), let's say you want to make it a distance of 8.
<br/>
Length of vector = sqrt(x^2+y^2)
<br/>
Divide by the length, and multiply by the new desired length.  Probably multiplying before dividing to keep precision.  I'm sure there are some good fixed point square root and division routines out there.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169560 - brave_orakio - Thu Jul 23, 2009 6:21 am</h4>
    <div class="postbody"><span class="postbody">I guess that pretty much covers it. So, using pixels as a unit of measurement isn't really a good idea huh?<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169561 - Dwedit - Thu Jul 23, 2009 12:40 pm</h4>
    <div class="postbody"><span class="postbody">Pixels are a fine measurement unit, as long as you have a way of doing fractional amounts for diagonals.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
