<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Eclipse IDE - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Eclipse IDE</h2>
<div id="posts">
<div class="post">
    <h4>#14228 - bomberman - Sat Jan 03, 2004 12:18 am</h4>
    <div class="postbody"><span class="postbody">Hi there,
<br/>
<br/>
I've discovered in this forum that some guys were using <b style="color:#FFA34F">eclipse</b> as an IDE to develop.
<br/>
So I downloaded <b style="color:#FFA34F">eclipse</b> 2.1 and CDT 1.2 (plug in for C/C++ dev) and within 30mn I could recompile all my previous projects previously built within Visual HAM. No problem here...
<br/>
<br/>
But to debug through vba-sdl, I can not figure out what to do. I have tried several combinations of parameterizations and none of them gave some results.
<br/>
Did someone succeed in this ? If yes, I would be glad to be helped a little !
<br/>
<br/>
Thanks !</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14276 - NoMis - Sat Jan 03, 2004 7:46 pm</h4>
    <div class="postbody"><span class="postbody">i am writing a tutorial at this time. heres a brief instruction what to do
<br/>
<br/>
1. get the newest vba-sdl
<br/>
<br/>
2. set up vba-sdl as an external programm and give him "-G tcp ${resource_loc}" as startparameter
<br/>
<br/>
3. set up the debugger, this is a little tricky because <b style="color:#FFA34F">eclipse</b> says you cant debug using this compiler:
<br/>
<br/>
Set up a new configuration under c/c++ local application and then 
<br/>
<br/>
First open the debuger tab and select GDB Server as Debugger. Then put in your local ip. type ipconfig in a commandprompt if you dont know it. and give him port 55555. now give him the full path to the gdb.exe in your devkitadv\bin folder
<br/>
Press aply now
<br/>
<br/>
second go to the main tab and select the elf file your programm creates. <b style="color:#FFA34F">eclipse</b> will now say there is no compiler but it will work, just press aply.
<br/>
<br/>
4. goto organize favorites... under your debug menu and add your new configuration.
<br/>
<br/>
5. select your elf file in the project browser and start vba-sdl over the external programms. then start your debug configuration and you can debug using <b style="color:#FFA34F">eclipse</b>
<br/>
<br/>
<br/>
hints:
<br/>
- <b style="color:#FFA34F">eclipse</b> may hav1e problems to shut down the gdb process. if this happens just go use the windows task manager to shut down the "arm-gdb-elf" process
<br/>
- you cant pause the programm so make some breakpoints
<br/>
<br/>
<br/>
if you have any questions ask me.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14326 - bomberman - Sun Jan 04, 2004 10:51 pm</h4>
    <div class="postbody"><span class="postbody">Hey, thanks that worked great...
<br/>
<br/>
I was almost there, except the {resource_loc} parameter in the vba launch... And also I was misled by the fact that you have a warning when setting up the debugger. With your clear explanations, everything went fine :O)
<br/>
<br/>
I'll just add that when setting vba, do not forget to tick the 'Run tool in background' box... This is obvious, OK ;O)
<br/>
<br/>
A final note... There is a way to stop the execution of your game when you want. Just press F11 in vba, it will trigger a SIGTRAP that the debugger will catch. It's just like a breakpoint without it !!!
<br/>
<br/>
What a pleasure to debug in such an environment... This is much more user friendly than Insight !
<br/>
Do a lot of people here use this IDE ?
<br/>
<br/>
P.S: my compiler chain is HAM, not DevkitAdvance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14429 - torne - Tue Jan 06, 2004 4:15 pm</h4>
    <div class="postbody"><span class="postbody">I use <b style="color:#FFA34F">Eclipse</b> and it kicks Insight. My high-level assembler will eventually integrate with <b style="color:#FFA34F">Eclipse</b> (smart editor, incremental assembly..etc).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14431 - bomberman - Tue Jan 06, 2004 4:53 pm</h4>
    <div class="postbody"><span class="postbody">What do you mean ?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I use <b style="color:#FFA34F">Eclipse</b> and it kicks Insight</td> </tr></table><span class="postbody">
<br/>
<br/>
That <b style="color:#FFA34F">Eclipse</b> runs a process of Insight ? On my configuration, it runs gbd which connects to Visualboy Advance and all the debug features like breakpoint, variables display, stack display... are in different windows of the <b style="color:#FFA34F">Eclipse</b> IDE which compiled my game just seconds before !!!
<br/>
<br/>
Which version are you using ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14435 - tepples - Tue Jan 06, 2004 5:13 pm</h4>
    <div class="postbody"><span class="postbody">Slang alert: "Foo kicks Bar" can mean that "Foo soundly defeats Bar".<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14439 - bomberman - Tue Jan 06, 2004 6:03 pm</h4>
    <div class="postbody"><span class="postbody">Ah of course.... The worst is, I knew this slang expression but it didn't come to my mind at all :O) Not being an english speaker native has its drawbacks also ;O)
<br/>
<br/>
And so, yes, <b style="color:#FFA34F">Eclipse</b> is soooooo an improvement over Insight ! I can't understand how I could work with Insight for a year now ...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24244 - RaBBi - Fri Jul 30, 2004 2:21 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I tried to follow the steps by NoMis, but the config dialog window doesn't allow me to put '55555' as port value.
<br/>
<br/>
So I hacked the config file writing 55555 in replacement of default port 10000, as I saw it in another topic.
<br/>
<br/>
Assuming this part is correctly configured, I tried to set VBA as an external tool.
<br/>
No problem during this step.
<br/>
<br/>
But when I select my .elf file then run External Tools&gt;VBA I get error message from the emulator : 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">"Error opening image -G tcp c:\<b style="color:#FFA34F">eclipse</b>\workspace\CoS\rabbi.elf"</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
So, can someone could give me some details about how to set <b style="color:#FFA34F">eclipse</b> for debugging, using VBA too ?
<br/>
<br/>
Thanks ^^
<br/>
<br/>
Edit: I managed to execute VBA as external tool, so I can bring some correction to the info given by NoMis.
<br/>
<br/>
So the startparameter is "${resource_loc} -Gtcp" without quotes and without space between "-G" and "tcp".
<br/>
<br/>
But I still have problem running gdb so my request still active ^^
<br/>
<br/>
<br/>
RE-Edit : I managed to start the debugger but get another problem : "main function not defined".
<br/>
<br/>
In fact, my main is called AgbMain and is void type instead of int.
<br/>
<br/>
So, GDB cannot insert temporary breakpoint, thus debug don't start...<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24362 - RaBBi - Mon Aug 02, 2004 6:22 am</h4>
    <div class="postbody"><span class="postbody">Hmm...
<br/>
<br/>
I've edited my crt0.S file and now my main function is defined.
<br/>
That point is ok.
<br/>
(thanks for the answer...)
<br/>
<br/>
But still cannot debug with <b style="color:#FFA34F">Eclipse</b>.
<br/>
Nobody use this IDE ?<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24377 - NoMis - Mon Aug 02, 2004 4:05 pm</h4>
    <div class="postbody"><span class="postbody">What problems are left. It should work since you get gbd and vba running.
<br/>
Are there any error messages? What are your compiler options?
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24915 - RaBBi - Fri Aug 13, 2004 2:55 pm</h4>
    <div class="postbody"><span class="postbody">Sorry to answer after a while but I didn't look at the GBA dev for some weeks ^^
<br/>
<br/>
So, back with this debugger problem.
<br/>
<br/>
I use GNUARM, with this defaults options.
<br/>
<br/>
And this is error message I get in <b style="color:#FFA34F">Eclipse</b>'s console :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">info threads
<br/>
warning: RMT ERROR : failed to get remote thread list</td> </tr></table><span class="postbody">
<br/>
<br/>
And the screen in VBA becomes white.
<br/>
(Then crash if I try to look at the memory viewers for instance)<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24948 - NoMis - Fri Aug 13, 2004 8:09 pm</h4>
    <div class="postbody"><span class="postbody">I never used GNUARM. I sticked with devkitadv and didn't do anything at all for a while now. It's maybe a problem with GNUARM's gdb implementation. Seems it can't get the thread to attach to. I have to download GNUArm and take a look at this issue but i can't promise you to find the error.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24990 - RaBBi - Sat Aug 14, 2004 5:32 pm</h4>
    <div class="postbody"><span class="postbody">Thanks ^^
<br/>
<br/>
I'll try with old devkitadv I used before switching to GNUARM this week too.<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25022 - NoMis - Sun Aug 15, 2004 2:53 pm</h4>
    <div class="postbody"><span class="postbody">I get the same error that you get but the debugging runs regardles of that error. So it should work.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25030 - RaBBi - Sun Aug 15, 2004 7:53 pm</h4>
    <div class="postbody"><span class="postbody">So lucky you are...
<br/>
<br/>
I passed several hours in a row attempting to have a little sign of debugging...
<br/>
Nothing...
<br/>
Everthing crashes, emulator first...
<br/>
<br/>
First, VBA 1.6 and later versions don't load the .elf and crash.
<br/>
<br/>
So I came back to VBA1.5
<br/>
When I break into GDB &gt; emu crashes.
<br/>
<br/>
<br/>
After trying with vba sdl, this version of the emu doesn't load the .elf file...
<br/>
it says : "Failed to load file [PATH]\rabbi.elf"
<br/>
<br/>
<br/>
So, NoMis or anybody else who managed to have a good debug way, could you explain me how in details please?<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25101 - RaBBi - Mon Aug 16, 2004 11:53 pm</h4>
    <div class="postbody"><span class="postbody">Aheum...
<br/>
<br/>
Nobody debugs their own GBA project(s) here ?<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25126 - dagamer34 - Tue Aug 17, 2004 4:44 am</h4>
    <div class="postbody"><span class="postbody">I don't think a lot of us use Eclipse as an IDE. 
<br/>
<br/>
I personally use VisualHAM which handles everything at setup. All I have to do is tell it to debug my app and it does so with only a single click of the mouse. :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25137 - NoMis - Tue Aug 17, 2004 7:44 am</h4>
    <div class="postbody"><span class="postbody">Whats happening after you get that error:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">info threads 
<br/>
warning: RMT ERROR : failed to get remote thread list</td> </tr></table><span class="postbody">
<br/>
<br/>
I get that all the time but it just starts debugging.
<br/>
<br/>
Is there any other error. There is normaly a popup opening wich has another error description when debugging wasn't possible.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25147 - RaBBi - Tue Aug 17, 2004 12:42 pm</h4>
    <div class="postbody"><span class="postbody">The problem still isn't here anymore.
<br/>
<br/>
In fact, VBA SDL cannot load .elf file, as you say in your explanation (and I find it logical), so from this point, I cannot do anything further...<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25149 - NoMis - Tue Aug 17, 2004 1:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>RaBBi wrote:</b></span></td> </tr> <tr> <td class="quote">The problem still isn't here anymore.
<br/>
<br/>
In fact, VBA SDL cannot load .elf file, as you say in your explanation (and I find it logical), so from this point, I cannot do anything further...</td> </tr></table><span class="postbody">
<br/>
<br/>
I had that problem with GNUARM to ... i didn't solved it :(
<br/>
<br/>
But i was able to compile with devkitadv and then debug with gnuarms gdb. I have no idea why it's unable to load in VBA when the source is compiled with GNUARM. Seems like an compatibility issue. If so you might be unluky unless the VBA guys take a look at this.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25173 - RaBBi - Tue Aug 17, 2004 7:28 pm</h4>
    <div class="postbody"><span class="postbody">I thought about a kind of incompatibility too ^^ 
<br/>
<br/>
Thus I tried with the .elf of an older project, compiled with devkit advance, and get the same problem : VBA fails to load .elf...<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25204 - RaBBi - Wed Aug 18, 2004 2:51 pm</h4>
    <div class="postbody"><span class="postbody">NoMis, do you use devkitARM or the older devkit?
<br/>
<br/>
'Cause I tried to load .elf compiled with devkitARM and...stille failed -__-<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25205 - NoMis - Wed Aug 18, 2004 3:26 pm</h4>
    <div class="postbody"><span class="postbody">I used the newest version of devkitadv wich is r5. I compiled everything with g++. I compiled every cpp file with the -g option and the thumbmodel with interworking on and compiled all s files exactly the same but with the arm model. Optimization was also turned off wich I recommend anyway if you making a debugable file.
<br/>
<br/>
With this configuration I have no problems to load the .elf file into vba.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25209 - RaBBi - Wed Aug 18, 2004 6:12 pm</h4>
    <div class="postbody"><span class="postbody">Just a little question...
<br/>
<br/>
Do you compile with multiboot? or not ^^ :P<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25421 - NoMis - Sun Aug 22, 2004 5:58 pm</h4>
    <div class="postbody"><span class="postbody">without. Sorry for late answer, i was on the games convention :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25821 - RaBBi - Sun Aug 29, 2004 1:33 am</h4>
    <div class="postbody"><span class="postbody">It's why it works ;)
<br/>
<br/>
The problem I had was linked to the multiboot option ^^
<br/>
Disabled it and now everything's OK.
<br/>
<br/>
Thanks for trying to help ^^<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
