<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Using GBA timer or Counting by frame - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Using GBA timer or Counting by frame</h2>
<div id="posts">
<div class="post">
    <h4>#176950 - blessingta@hotmail.co.uk - Sun Nov 06, 2011 2:12 pm</h4>
    <div class="postbody"><span class="postbody">hi 
<br/>
<br/>
Whats the advantage and disadvantage of counting time either by frame or through looking at the gba clock?
<br/>
<br/>
Plus since I've head that gba has a clock, I've been left wondering about how its initialized or called. If you could give me some code on that it would be nice, I'm increasingly running out of time to complete this project</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176953 - Dwedit - Sun Nov 06, 2011 6:26 pm</h4>
    <div class="postbody"><span class="postbody">There's 4 GBA timers, they are for high-speed events, such as the time it takes to output a single audio sample.  Time frequencies usually measured in kilohertz.  When they count up to 65536, they reset to zero.  They are not suitable for time counting where you'd encounter units like seconds or minutes.
<br/>
<br/>
There's no real-time clock that keeps time persistently, unlike the NDS.
<br/>
<br/>
For time keeping, counting frames should be enough.
<br/>
If you need precision finer than 1/60 seconds, you can also use the scanline counter.  There are scanlines numbered between 0 and 227, and Vblank (when you increment your "frame number" variable) happens at #160.  So add 67 then subtract 228 if it's &gt;= 228, that gives you the number of scanlines since vblank.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176956 - Miked0801 - Mon Nov 07, 2011 4:35 pm</h4>
    <div class="postbody"><span class="postbody">VBlank counting is how we did external timers in all our games.  Just take the vblank count divides by 59.7(ish) and it was accurate to a second or so per hour.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176966 - blessingta@hotmail.co.uk - Wed Nov 09, 2011 8:41 pm</h4>
    <div class="postbody"><span class="postbody">you mean counting by frames? I've already been suggested that and had implemented it. I had just began to wonder whether it was the best strategy for it</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176970 - Miked0801 - Thu Nov 10, 2011 4:49 pm</h4>
    <div class="postbody"><span class="postbody">Nothing wrong with simplicity.  It won't give millisecond resolution like internal timers, but its much easier to code and test.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
