<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Calling ASM-functions in IWRAM from C-functions in ROM - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Calling ASM-functions in IWRAM from C-functions in ROM</h2>
<div id="posts">
<div class="post">
    <h4>#24480 - booger - Wed Aug 04, 2004 1:50 pm</h4>
    <div class="postbody"><span class="postbody">Is there a neat way calling ASM-functions in IWRAM from C-functions in ROM without defining IWRAM-attributes? Example:
<br/>
<br/>
/* C-code begin */
<br/>
<br/>
#define CODE_IN_IWRAM __attribute__ ((section(".iwram"),long_call))
<br/>
<br/>
void asm_iwram_function(void) CODE_IN_IWRAM;
<br/>
<br/>
void main(void)
<br/>
{
<br/>
  asm_iwram_function();
<br/>
}
<br/>
<br/>
/* C-code end */
<br/>
<br/>
I'm using the latest DevkitARM.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24481 - poslundc - Wed Aug 04, 2004 1:55 pm</h4>
    <div class="postbody"><span class="postbody">That kind of <span style="font-style: italic">is</span> the neat way.
<br/>
<br/>
I'm pretty sure most devkits also support naming your C files such as: myfunction.iwram.c - but I don't know if that automates the process of generating long calls; I think you'd still have to do so in your header file's function prototype.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24510 - Lord Graga - Wed Aug 04, 2004 7:36 pm</h4>
    <div class="postbody"><span class="postbody">extern that function promo or put it in an header file.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
