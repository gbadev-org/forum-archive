<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Tilt sensor? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Tilt sensor?</h2>
<div id="posts">
<div class="post">
    <h4>#3620 - Armitage - Sun Mar 02, 2003 12:33 am</h4>
    <div class="postbody"><span class="postbody">Does anyone have any information about the GBA tilt sensor?
<br/>
<br/>
Like, specifically how to access it and how many dimensions it
<br/>
operates in?
<br/>
<br/>
Any information much appreciated.
<br/>
<br/>
<br/>
Armitage.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3622 - Probably Bob - Sun Mar 02, 2003 2:02 am</h4>
    <div class="postbody"><span class="postbody">There is no tilt sensor within the GBA.
<br/>
<br/>
However, there are games companies who plan to put them in GBA cartridges for use with GameCube games, via the GBA &lt;--&gt; GC connector.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41205 - cdubreuilfr - Tue Apr 26, 2005 12:06 pm</h4>
    <div class="postbody"><span class="postbody">Now that "Yoshi Universal Gravitation" and "Waroware twisted" are out (they do use a tilt sensor), does anybody have information on how accessing thee data (register adresses in the game pack and their meaning).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41301 - FluBBa - Wed Apr 27, 2005 8:47 am</h4>
    <div class="postbody"><span class="postbody">Haven't seen anything yet, but it can't be harder to RE than the Gameboy Player, can it?<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41516 - sgeos - Fri Apr 29, 2005 10:54 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FluBBa wrote:</b></span></td> </tr> <tr> <td class="quote">Haven't seen anything yet, but it can't be harder to RE than the Gameboy Player, can it?</td> </tr></table><span class="postbody">
<br/>
Maybe not, but there is probably less interest.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41528 - FluBBa - Fri Apr 29, 2005 2:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">Maybe not, but there is probably less interest.
<br/>
</td> </tr></table><span class="postbody">
<br/>
Well, there doesn't seem to be a huge interest in the GBP either so I seem to be doing these things mostly for my self anyway... and that's fine with me  =)<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41540 - tepples - Fri Apr 29, 2005 3:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FluBBa wrote:</b></span></td> </tr> <tr> <td class="quote">Well, there doesn't seem to be a huge interest in the GBP either</td> </tr></table><span class="postbody">
<br/>
Probably because it's not as capable as the SGB.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41836 - FluBBa - Mon May 02, 2005 9:20 am</h4>
    <div class="postbody"><span class="postbody">Yoshis UG does some weird accesses to 0x0E008000, 0x0E008100, 0x0E008200, 0x0E008300, 0x0E008400, 0x0E008500 (all byte accesses).
<br/>
Can't get it to work correctly by cart swapping though...
<br/>
<br/>
First it writes 0x55 to 0x0E008000 then 0xAA to 0x0E008100.
<br/>
Reads 0x0E008300 up to 0xAF0 times or the highest bit is set, then ORs the low nybble with 0x0E008200.
<br/>
Reads the low nybble from 0x0E008500 and ORs with 0x0E008400.
<br/>
<br/>
This is done once a frame, depending on if I write the registers before or after I read them I get:
<br/>
0xAFF or 0xFFF only...<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#63331 - FluBBa - Mon Dec 12, 2005 1:24 am</h4>
    <div class="postbody"><span class="postbody">Nintendo GBA tiltsensor doc:
<br/>
----------------------------
<br/>
<br/>
The tiltsensor is found in 1 game,
<br/>
Yoshi's Universal Gravitation / Yoshi Topsy Turvy.
<br/>
This info is only confirmed for Yoshi's Universal Gravitation.
<br/>
<br/>
<br/>
Its registers are at the top "half" of the SRAM memory range,
<br/>
all of them are byte accessed.
<br/>
<br/>
0x0E008000 (W)		Write 0x55 to start sampling?
<br/>
0x0E008100 (W)		Write 0xAA to start sampling?
<br/>
0x0E008200 (R)		Low 8 bits of X axis.
<br/>
0x0E008300 (R)		High 4 bits of X axis plus ready (bit 7)
<br/>
0x0E008400 (R)		Low 8 bits of Y axis.
<br/>
0x0E008500 (R)		High 4 bits of Y axis.
<br/>
<br/>
You must set SRAM wait control to 8 clocks to access it correctly.
<br/>
You must also set the cartridge PHI terminal to 4MHz to make it work.
<br/>
-----------------------------------------------------------------------
<br/>
<br/>
Description:
<br/>
------------
<br/>
<br/>
First set SRAM wait control to 8 clocks and phi terminal output to 4MHz.
<br/>
REG_WAITCNT = 0x0803;
<br/>
<br/>
or if you want faster rom speed, something like this:
<br/>
<br/>
REG_WAITCNT = 0x4817;
<br/>
<br/>
<br/>
<br/>
Somewhere in the VBlank routine, do this:
<br/>
<br/>
Read high x component and ready bit from 0x0E008300.
<br/>
Make sure the ready bit is set, otherwise spinnwait a couple of hundered
<br/>
times checking the value.
<br/>
Mask out the lower 4 bits.
<br/>
<br/>
Read low x component from 0x0E008200.
<br/>
Merge with the 4 bits from 0x0E008300.
<br/>
X is ready.
<br/>
<br/>
<br/>
Read high y component from 0x0E008500.
<br/>
Mask out lower 4 bits.
<br/>
<br/>
Read low y component from 0x0E008400
<br/>
Merge with the 4 bits from 0x0E008500.
<br/>
Y is ready.
<br/>
<br/>
<br/>
Write 0x55 to 0x0E008000
<br/>
Write 0xAA to 0x0E008100
<br/>
<br/>
-----------------------------------------------------------------------
<br/>
<br/>
On my cartridge I got the following readings:
<br/>
Readings for X between 0x2AF to 0x477, center at 0x392.
<br/>
Readings for Y between 0x2C3 to 0x480, center at 0x3A0.
<br/>
<br/>
<br/>
/FluBBa<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"><br/><br/>Last edited by FluBBa on Wed Sep 12, 2007 9:53 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#65015 - Quirky - Thu Dec 29, 2005 2:47 pm</h4>
    <div class="postbody"><span class="postbody">Ha ha!  That works as well. 
<br/>
<br/>
Interestingly, Yoshi recognises not only rotations left-right "around" the screen, but also tipping the GBA back and forth. The latter is a bit useless though, since you can only see the screen at limited angles.
<br/>
<br/>
Wario Ware seems to use another method, sadly and doesn't do much with this approach.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65282 - FluBBa - Sun Jan 01, 2006 9:49 pm</h4>
    <div class="postbody"><span class="postbody">And Wario Ware Twisted is not released in Europe yet either...<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66477 - Fenderocker - Wed Jan 11, 2006 2:47 am</h4>
    <div class="postbody"><span class="postbody">There was a tilt sensor in the game boy color game "kirbys tilt and tumble"....
<br/>
<br/>
*edit* Just got it out to play it and the tilt sensor sucks......*edit*</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70626 - ZueriHB - Tue Feb 07, 2006 9:20 pm</h4>
    <div class="postbody"><span class="postbody">There is also the Japan only Koro Koro Puzzle Happy Panechu which has a Tilt-Sensor.
<br/>
<br/>
What kind of tilt-sensor does Yoshi use? Happy Panechu is a 4-way tilt-sensor , and Wario Twisted has a gyration in it, for meassuring twisting.<br/>_________________<br/>We got the Dinosaurs. You're next!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73277 - HyperHacker - Fri Feb 24, 2006 9:49 am</h4>
    <div class="postbody"><span class="postbody">IIRC, writing 0x55 and 0xAA to specific addresses is a common unlock sequence for flash chips (as 0x55 = 01010101b and 0xAA = 10101010b). Are you sure those are required?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112103 - knight0fdragon - Wed Dec 13, 2006 7:00 am</h4>
    <div class="postbody"><span class="postbody">sorry to bring up a dead topic, but has anyone been able to actually get this to work???
<br/>
<br/>
I tried using this for the DS but I am not getting any good results
<br/>
<br/>
I set the WAIT_CR to 0x42
<br/>
<br/>
my X stays at 0xFFF
<br/>
and my Y bounces from  0 and 32 and that is it
<br/>
<br/>
if anyone has any demos or anything usefulthat they can point me too I'd appreciate it<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112214 - Vengyr - Thu Dec 14, 2006 12:29 pm</h4>
    <div class="postbody"><span class="postbody">Try checking these links out. Seeing this I would say the DS itself doesnt have a motion sensor. and that would be logical. Seeing nintendo was talking about a revolution for controllers with the Wii. It was their first introduction of standard motion capture
<br/>
<br/>
<a href="http://www.electronista.com/articles/06/12/08/nintendo.ds.tilt.sensor/" target="_blank">http://www.electronista.com/articles/06/12/08/nintendo.ds.tilt.sensor/</a>
<br/>
<a href="http://www.gizmodo.com/gadgets/portable-media/nintendo-ds-motion-sensing-card-220570.php" target="_blank">http://www.gizmodo.com/gadgets/portable-media/nintendo-ds-motion-sensing-card-220570.php</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112237 - knight0fdragon - Thu Dec 14, 2006 7:27 pm</h4>
    <div class="postbody"><span class="postbody">the game yoshi topsy turvy has the tilt sensor in it, not the DS, the code provided by flubba was to be used with this game, but i cant get the games hardware to work on a ds, I was wondering if there was any demos available for the GBA so that I may test and compare and hopefully get a solution for the DS<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113499 - FluBBa - Thu Dec 28, 2006 8:54 am</h4>
    <div class="postbody"><span class="postbody">Are you accesing the registers at 0x0A008zzz on the DS?<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113517 - sgeos - Thu Dec 28, 2006 1:47 pm</h4>
    <div class="postbody"><span class="postbody">GBAccelerometer <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=9660" target="_blank">Forum Thread</a> - <a class="postlink" href="http://www.kionix.com/gbaccelerometer/" target="_blank">Home Page</a>
<br/>
DS Motion Card <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=11674" target="_blank">Forum Thread</a> - <a class="postlink" href="http://ndsmotion.com/" target="_blank">Home Page </a>
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113534 - knight0fdragon - Thu Dec 28, 2006 4:54 pm</h4>
    <div class="postbody"><span class="postbody">yes I am accessing those areas, that is where SRAM is defined in libnds
<br/>
<br/>
and I have the WAIT_CR |=0x0021 to set SRAM to 8 clocks and PHI terminal output to 4 MHz.
<br/>
<br/>
to sgeos
<br/>
<br/>
GBAccelorator does not work on DS
<br/>
<br/>
DS Motion Card and DSerial are slot 1 tilt sensors
<br/>
<br/>
Yoshi is a slot 2 tilt sensor<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113561 - FluBBa - Thu Dec 28, 2006 11:09 pm</h4>
    <div class="postbody"><span class="postbody">Well, the SRAM needed 8 <span style="font-weight: bold">GBA</span> clocks to function correctly, I guess the nearest would be 18 NDS clocks, WAIT_CR |= 0x0023.
<br/>
you should probably make sure bit 6 is not set to be sure the output is set to 4MHz.
<br/>
Oh and if you get it to work on the DS put it up on the DS wiki at <a class="postlink" href="http://www.bottledlight.com/ds/" target="_blank">http://www.bottledlight.com/ds/</a> =)<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113604 - knight0fdragon - Fri Dec 29, 2006 3:41 am</h4>
    <div class="postbody"><span class="postbody">yes that does it, now it works hahaha sweet I will post on that site<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
