<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>256k WRAM Multiboot & Dynamic Allocation - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > 256k WRAM Multiboot & Dynamic Allocation</h2>
<div id="posts">
<div class="post">
    <h4>#1673 - TrisOver - Tue Jan 21, 2003 2:12 pm</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
If my executable is 255ko and that I use in my code dynamic memory allocation (50 ko ...), can I Use MultiBoot solution ?
<br/>
If the real limit of MultiBoot is effectively a 256Ko executable (and no memory or stack, how many maximum Dynamic Memory can I use ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1674 - ampz - Tue Jan 21, 2003 2:28 pm</h4>
    <div class="postbody"><span class="postbody">Not sure what you are asking.
<br/>
You can use the 256kB extRAM and the 32kB intRAM in multiboot mode.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1675 - Quirky - Tue Jan 21, 2003 3:13 pm</h4>
    <div class="postbody"><span class="postbody">If you use up all 256k on the multiboot executable, then there is no memory left for malloc (if using an unmodified devkitadvance set up) - does that answer your question?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1677 - TrisOver - Tue Jan 21, 2003 3:25 pm</h4>
    <div class="postbody"><span class="postbody">Sorry for my poor english ...
<br/>
So,
<br/>
- Executable is in ExtRAM (and is executed at this place) 
<br/>
- When I call the "alloc" function, memory is allowed in IntRAM (Work RAM)
<br/>
<br/>
I'm right ?
<br/>
<a class="postlink" href="http://trisover.free.fr" target="_blank">TrisOver</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1678 - TrisOver - Tue Jan 21, 2003 3:31 pm</h4>
    <div class="postbody"><span class="postbody">OK, Quirky: I'm wrong
<br/>
<br/>
Can I put data in IntRam (WorkRam)  ?<br/>_________________<br/><a class="postlink" href="http://trisover.free.fr" target="_blank">TrisOver</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1679 - Splam - Tue Jan 21, 2003 3:33 pm</h4>
    <div class="postbody"><span class="postbody">You can also compress your graphics data and decompress it to vram then use the space where it was in ram.  You need to code your own methods for this of course and it relys on all the gfx fitting in one go but you can even hold compressed data in there as a sort of swap buffer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1689 - Quirky - Tue Jan 21, 2003 4:51 pm</h4>
    <div class="postbody"><span class="postbody">You can put your data in IWRAM, simply don't define it as const, but the problem is that it will still be defined in the ROM, which is sat in EWRAM, and copied accross to iwram at run time. 
<br/>
<br/>
Or did you mean decompress to IWRAM? That's a bit trickier, I don't know how you could allocate a dynamic chunk of IWRAM using devkit advance. The cowboy method would be to have a global like "unsigned char big_array[2000];" and check with the linker's -Map flag that it is going into iwram where you want... but I can't think of a better way at the moment.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
