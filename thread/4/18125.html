<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>VisualboyAdvance agbPrint howto? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > VisualboyAdvance agbPrint howto?</h2>
<div id="posts">
<div class="post">
    <h4>#178811 - wjakobczyk - Thu Feb 01, 2018 9:23 am</h4>
    <div class="postbody">Hi,<br/>
<br/>
How can I use this VBA feature to print something to the emulators log, from my game code? I can't find any information on the net. I guess I can sort it out based on VBA's source code, but hopefully I don't have to :)</div>    
</div>
<div class="post">
    <h4>#178813 - Dwedit - Thu Feb 01, 2018 4:33 pm</h4>
    <div class="postbody">VbaPrint is system call 0xFF, which will fail on actual hardware, but work fine on VBA and NO$GBA.<br/>
<br/>
Example ASM function that will export vbaprint:  (ARM mode)<br/>
Put this in a .s file, and include it in your makefile as needed.
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>.arm
.global vbaprint
.type   vbaprint STT_FUNC
.text
vbaprint&amp;#58;
	swi 0xFF0000		@!!!!!!! Doesn't work on hardware !!!!!!!
	bx lr
</code></pre></div>

C function signature for that asm code:<br/>
void vbaprint(const char *message);</div>    
</div>
<div class="post">
    <h4>#178815 - Sterophonick - Fri Feb 02, 2018 3:37 am</h4>
    <div class="postbody">I had no clue that it was possble for a ROM to connect with emulators and for it to work with them, using features in the emulator itself. *clap clap* I wanna try this with Super Block Jump to see what happens.<br/>
<br/>
Question: when running on actual hardware, does the system crash when this is performed?</div>    
</div>
</div>

    </body>
</html>
