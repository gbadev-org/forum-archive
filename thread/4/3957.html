<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>address question~ - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > address question~</h2>
<div id="posts">
<div class="post">
    <h4>#25518 - black - Tue Aug 24, 2004 10:38 am</h4>
    <div class="postbody"><span class="postbody">hi all~
<br/>
<br/>
i followed the tuto which draw certain color onto screen with macro named FontBuffer like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#define FrontBuffer     ((u16*)0x6000000) 
<br/>
<br/>
for(x=0; x&lt;(240*160); x++)
<br/>
{
<br/>
    FrontBuffer[x]=RGB(31, 0, 0);
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
my question comes, is the address 0x6000000 fixed to be the beginning when drawing the screen ? can we start drawing the screen from other adress point ?<br/>_________________<br/>Never end on learning~</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25519 - black - Tue Aug 24, 2004 10:55 am</h4>
    <div class="postbody"><span class="postbody">oh i got it, 0x6000000 is the magic number we can not beyond, but somethin strange is FrontBuffer[1] points to 0x6000002 not 0x6000001 ?<br/>_________________<br/>Never end on learning~</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25521 - Krakken - Tue Aug 24, 2004 12:15 pm</h4>
    <div class="postbody"><span class="postbody">It's because the memory is written in 16-bit values.
<br/>
16-bits is 2 bytes. The memory in your case refers to the memory by bytes so to get to the next one you increment by 16-bits (2 bytes).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25539 - sajiimori - Tue Aug 24, 2004 6:05 pm</h4>
    <div class="postbody"><span class="postbody">It's not related to the memory itself, but rather the pointer type.  Recall that <span style="font-weight: bold">array[index]</span> is shorthand for <span style="font-weight: bold">*(array + index)</span>.  The way pointer math works is: when you add or subtract from a pointer, it moves in increments of the size of the object it points to.  Your pointer points to objects that are 2 bytes in size, because it's a <span style="font-weight: bold">u16*</span>.
<br/>
<br/>
Just imagine if C wasn't like that.  Then if you had an array:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int array[20];</td> </tr></table><span class="postbody">You would have to be careful about typing things like this:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">x = array[2];</td> </tr></table><span class="postbody">If C moved in increments of bytes rather than the size of an <span style="font-weight: bold">int</span>, you wouldn't get the 3rd <span style="font-weight: bold">int</span> -- you'd land in between the first one and the second one, which doesn't make much sense.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25560 - black - Wed Aug 25, 2004 4:10 am</h4>
    <div class="postbody"><span class="postbody">[quote="sajiimori"]It's not related to the memory itself, but rather the pointer type.  Recall that <span style="font-weight: bold">array[index]</span> is shorthand for <span style="font-weight: bold">*(array + index)</span>.  The way pointer math works is: when you add or subtract from a pointer, it moves in increments of the size of the object it points to.  Your pointer points to objects that are 2 bytes in size, because it's a <span style="font-weight: bold">u16*</span>.
<br/>
quote]
<br/>
<br/>
thanx, since the reason is u16 pointer, can we write graphic to screen with u8 pointer instead ? ie if possible, what's the difference between FrontBuffer be implemented u16 and u8 pointer when drawing the screen ?<br/>_________________<br/>Never end on learning~</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25563 - dagamer34 - Wed Aug 25, 2004 4:24 am</h4>
    <div class="postbody"><span class="postbody">[quote="black"]</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">It's not related to the memory itself, but rather the pointer type.  Recall that <span style="font-weight: bold">array[index]</span> is shorthand for <span style="font-weight: bold">*(array + index)</span>.  The way pointer math works is: when you add or subtract from a pointer, it moves in increments of the size of the object it points to.  Your pointer points to objects that are 2 bytes in size, because it's a <span style="font-weight: bold">u16*</span>.
<br/>
quote]
<br/>
<br/>
thanx, since the reason is u16 pointer, can we write graphic to screen with u8 pointer instead ? ie if possible, what's the difference between FrontBuffer be implemented u16 and u8 pointer when drawing the screen ?</td> </tr></table><span class="postbody">
<br/>
<br/>
Nope. The memory controller on the GBA doesn't allow 8-bit writes to VRAM. Trust me, lots of people have asked about it. :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
