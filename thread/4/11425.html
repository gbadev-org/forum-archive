<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>open source movie player? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > open source movie player?</h2>
<div id="posts">
<div class="post">
    <h4>#105878 - racarate - Thu Oct 12, 2006 9:40 pm</h4>
    <div class="postbody"><span class="postbody">Hi everyone,
<br/>
<br/>
I just got the M3 player for my GBA and I must say -- the software is terrible.  
<br/>
<br/>
Are there any documents out there that explain how flashcard software works?  I understand that the GUI must be just like regular GBA programming, but what about the File I/O?  
<br/>
<br/>
I am curious if it would be possible to write a custom flash card manager.  It might be a fun community project.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="font-weight: bold">Neko: I love meow-tain climbing! 
<br/>
Need anything? I'll even save your game!</span></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105897 - tepples - Thu Oct 12, 2006 11:25 pm</h4>
    <div class="postbody"><span class="postbody">There is an open source movie player, but it's for the DS.
<br/>
<br/>
File I/O on an M3 is just like file I/O on a PC: fopen(), fread(), fclose(), etc. The trouble is that the latest release of devkitARM+libfat doesn't have opendir() and thus can't get a list of files from the card.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105905 - Dwedit - Thu Oct 12, 2006 11:53 pm</h4>
    <div class="postbody"><span class="postbody">What is known on the M3:
<br/>
Accessing the CF/SD Card
<br/>
Switching between 32MB Ram and Bios/CF
<br/>
Write Enabling the 32MB Ram
<br/>
<br/>
What's not known on the M3:
<br/>
Bankswitching the SRAM
<br/>
Writing to the flash bios
<br/>
<br/>
And for comparison, what's known on the GBAMP V1/V2 (CF):
<br/>
Writing to the flash bios
<br/>
Accessing the CF
<br/>
And the GBAMP V2 has nothing else.
<br/>
<br/>
So you could make your own BIOS for the GBAMP V2, but not yet on the M3.
<br/>
Right now, there are no open-source movie playback programs.  I wonder if the GBA is powerful enough for MPEG?  Moonshell is slow enough on the DS with MPEG, could the GBA possiblly handle something like that?  Other than that, it's difficult to come up with an ASM optimized video codec that would decompress quickly on the GBA and get a good enough compression rate.  Even if the M3 or GBAMP's built in software sucks, they managed to get video playback down pretty well.
<br/>
As for game loading and other related tasks, that could be done with no problems.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105989 - racarate - Fri Oct 13, 2006 10:53 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the replies.
<br/>
<br/>
I agree that the current solutions work pretty well.
<br/>
<br/>
I am more interested in the "how" of writing this kind of video playback software.   
<br/>
<br/>
For example, when I convert movies using the included software I wonder what kind of format it is converting to.
<br/>
<br/>
And when I play the movies back I wonder how the software loads the movie  -- is the movie file linked in as a C array or is accessing the flash card a totally different endeavor.
<br/>
<br/>
Mostly I wonder how things differ from a traditional .gba file.
<br/>
<br/>
Also, I didn't even realize that M3 had 32MB RAM!  Is there any site that has better documentation than the official site?
<br/>
<br/>
Thanks!<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="font-weight: bold">Neko: I love meow-tain climbing! 
<br/>
Need anything? I'll even save your game!</span></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105992 - tepples - Fri Oct 13, 2006 11:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>racarate wrote:</b></span></td> </tr> <tr> <td class="quote">For example, when I convert movies using the included software I wonder what kind of format it is converting to.</td> </tr></table><span class="postbody">
<br/>
It appears to be a proprietary <a class="postlink" href="http://en.wikipedia.org/wiki/Video_compression" target="_blank">video compression</a> format designed around a low-complexity decoder. Known features of most video codecs include representing solid color or low detail areas with fewer bits and copying blocks of the previous frame to the current frame.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">And when I play the movies back I wonder how the software loads the movie  -- is the movie file linked in as a C array or is accessing the flash card a totally different endeavor.</td> </tr></table><span class="postbody">
<br/>
The CF card is a <a class="postlink" href="http://www.pineight.com/ds/block/" target="_blank">block device</a>; it allows the GBA to or write a 512-byte block at once. A "file system" is a data structure on the CF card that describes which blocks belong to which files.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105993 - Dwedit - Fri Oct 13, 2006 11:29 pm</h4>
    <div class="postbody"><span class="postbody">I haven't verified this yet, but I think the M3 may use the same odd mirroring format in its bios as the original GBAMP.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
