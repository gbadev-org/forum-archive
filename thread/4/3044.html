<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>using raw and pal files - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > using raw and pal files</h2>
<div id="posts">
<div class="post">
    <h4>#17748 - Darmstadium - Sat Mar 13, 2004 9:51 pm</h4>
    <div class="postbody"><span class="postbody">Does anybody know of a good tutorial that tells you how to use raw files when programming in C? I also need a tutorial that tells you how to use pal files when using C. Your help would be greatly appreciated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17751 - dagamer34 - Sun Mar 14, 2004 3:40 am</h4>
    <div class="postbody"><span class="postbody">Are you using that tool that I told you about?
<br/>
<br/>
All you have to do is copy the raw data to VRAM and the palette data to palette memory.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17753 - Darmstadium - Sun Mar 14, 2004 4:12 am</h4>
    <div class="postbody"><span class="postbody">yeah i'm using that tool you told me about
<br/>
could you give me a example of copying the raw file to VRAM and the pal file to palette mem?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17779 - dagamer34 - Sun Mar 14, 2004 6:49 pm</h4>
    <div class="postbody"><span class="postbody">Well, I can't really give you an example since I only used the tool when I was still using the HAM SDK but it should be something like this:
<br/>
<br/>
Just suppose you had a 16x16 size sprite called sprite:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
// How to copy the palette
<br/>
u16* temp = (u16*)sprite_Palette;
<br/>
for (loop = 0; loop &lt; 256; loop++)
<br/>
    OBJPaletteMem [loop] = temp [loop];
<br/>
<br/>
// How to copy the sprite data
<br/>
u16 loop;
<br/>
u16* temp = (u16*)sprite_Bitmap;
<br/>
for (loop = 0; loop &lt; 16 * 16 / 2; loop++)
<br/>
     OAMData [loop] = temp [loop];
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
There is one more thing though. When copying to sprite mem that isn't at index 0, more math has to be done. But I have decided to do it for you. Here is an example of copying data to tile index 512 with a 16x16 sprite. Just replace 512 with the tile index you want.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
u16 loop;
<br/>
u16* temp = (u16*)sprite_Bitmap;
<br/>
for (loop = 512*16; loop &lt; (16 * 16 / 2) + (512 * 16); loop++)
<br/>
     OAMData [loop] = temp [loop-(512*16)];
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
It should work. I just tested it.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
