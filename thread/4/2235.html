<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Raster Effect Problem.. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Raster Effect Problem..</h2>
<div id="posts">
<div class="post">
    <h4>#11693 - batblaster - Thu Oct 16, 2003 12:52 am</h4>
    <div class="postbody"><span class="postbody">Hi !
<br/>
<br/>
I'm Making an intro who use some raster bars and other raster effect, the intro works fine on all emulators but didn't work fine on real hw because the 1st line of the raster bars do not start from the beginning of the screen but some pixels later and on my logo , where i put a sine movement, i see some strange things...
<br/>
<br/>
Anyone can help me or know why about that ???
<br/>
<br/>
Thanks a lot...
<br/>
<br/>
Batblaster...<br/>_________________<br/>Batblaster / 7 Raven Studios Co. Ltd
<br/>
------------------------------------------</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11696 - poslundc - Thu Oct 16, 2003 1:39 am</h4>
    <div class="postbody"><span class="postbody">Emulators such as VisualBoy Advance typically do not properly emulate the waitstates for memory access. Your HBlank interrupt could be taking longer than the actual HBlank period, which would cause garbling in your raster effect on hardware.
<br/>
<br/>
Likewise, problems with the first scanline or so could result from your VBlank routine taking too long.
<br/>
<br/>
Hope this helps,
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11699 - SmileyDude - Thu Oct 16, 2003 3:07 am</h4>
    <div class="postbody"><span class="postbody">When I was first playing around with GBA code, I ran into a similar problem.  I fixed it by updating my color registers at the end of the line, in the h-blank.  I was updating at the beginning of the line, which for some reason, was working fine in the emulators.
<br/>
<br/>
I think the real reason is that the emulators don't emulate horizontal timings, only the vertical timings.  Mostly because it would be pretty damn tough to pull off accurate effects with vertical effects, and besides, it's not needed.  But, it does make it tougher to debug :(<br/>_________________<br/>dennis</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
