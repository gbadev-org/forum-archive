<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>tiles again :) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > tiles again :)</h2>
<div id="posts">
<div class="post">
    <h4>#968 - whodoo - Sun Jan 12, 2003 10:02 pm</h4>
    <div class="postbody"><span class="postbody">when using tiles Im storing the map like this
<br/>
const u8 map[ 16 * 16 ] = {0x00,0x15,0x15...}
<br/>
<br/>
and then
<br/>
temp = (u16*)map;
<br/>
for(loop = 0; loop &lt; 16*16/2; loop++)
<br/>
bg2.mapData[loop] = map[loop];
<br/>
this works..but if I just wanna sett all the tiles to e.g. 0x15..why cant I write like this:
<br/>
<br/>
for(loop = 0; loop &lt; 16*16/2; loop++) 
<br/>
bg2.mapData[loop] = 0x15;
<br/>
<br/>
only the half of the tiles got the value 0x15 and the rest got 0x00
<br/>
why?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#969 - whodoo - Sun Jan 12, 2003 10:13 pm</h4>
    <div class="postbody"><span class="postbody">of course this aint a problem when I just wanna display a map..
<br/>
but e.g. if I wanna change a tile...like..
<br/>
<br/>
bg2.mapData[a tile] = ...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#971 - Touchstone - Sun Jan 12, 2003 10:19 pm</h4>
    <div class="postbody"><span class="postbody">What's the size of bg2.mapData? Does it match the size of the tiles in VRAM? Plus, you can only access vram by 16 or 32 bit access, not 8 bit access, but we all know this by now don't we? :)<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#976 - Splam - Sun Jan 12, 2003 10:37 pm</h4>
    <div class="postbody"><span class="postbody">Are you sure the code you've posted is the code you're compiling?  ie 
<br/>
<br/>
what size map are you updating?  16x16? 
<br/>
<br/>
whats the temp for?  did you mean...
<br/>
<br/>
bg2.mapData[loop] = temp[loop]; 
<br/>
<br/>
If so then it would work with the /2 as you'll be writing 2 byte entries from your map each time  ie 00,15  15,??    without the temp[loop] thing you'll write 1 tile entry into every other bg entry.
<br/>
<br/>
When you then go to clear it out you're only writing to one vram register at a time so you don't want the /2 BUT you can't write bytes so what you really need is the /2 but 
<br/>
bg2.mapData[loop] = 0x1515;
<br/>
instead.
<br/>
<br/>
Make sense?  hehe  not to me,  I hope I'm right but I'm veeery tired so I might have screwed up my explanation with too many /2's  :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#977 - whodoo - Sun Jan 12, 2003 10:42 pm</h4>
    <div class="postbody"><span class="postbody">nah..I was just confused..I found it..e.g. if I wanna change tiles 0 and 1..
<br/>
<br/>
bg2.mapData[0] = 21 | 21&lt;&lt;8;
<br/>
<br/>
haven?t worked with this kinda of data before since you got lots of memory on the pc :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#978 - Splam - Sun Jan 12, 2003 10:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>whodoo wrote:</b></span></td> </tr> <tr> <td class="quote">of course this aint a problem when I just wanna display a map..
<br/>
but e.g. if I wanna change a tile...like..
<br/>
<br/>
bg2.mapData[a tile] = ...</td> </tr></table><span class="postbody">
<br/>
<br/>
For all of this I'm presuming you're using a rot/scale screen  so if not ignore everything I've said and am about to say  lol
<br/>
<br/>
Because the rot/scale entries are byte per tile if you want to change 1 you need to do it as part of a pair    so if you had a pair of  00,15 and you wanted to change the 00 to 01  you'd have to do
<br/>
<br/>
bg2.mapData[a tile] =0x0115</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#979 - Splam - Sun Jan 12, 2003 10:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>whodoo wrote:</b></span></td> </tr> <tr> <td class="quote">nah..I was just confused..I found it..e.g. if I wanna change tiles 0 and 1..
<br/>
<br/>
bg2.mapData[0] = 21 | 21&lt;&lt;8;
<br/>
<br/>
haven?t worked with this kinda of data before since you got lots of memory on the pc :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Cool, you beat me to it ;)  It's annoying not having byte access to the screen especially for drawing to the byte/pixel screen if you only want to update single pixles (say for a simple movie player) because you have to read, mask, or and write..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#988 - whodoo - Mon Jan 13, 2003 1:26 am</h4>
    <div class="postbody"><span class="postbody">yeah :) but now I got another problem..
<br/>
the tiles work fine, but the game wont display my sprites when using tiles..is there anything special I need to think about when using sprites and tiles..or I am just a bt tired this evning :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#989 - whodoo - Mon Jan 13, 2003 1:32 am</h4>
    <div class="postbody"><span class="postbody">doh..I forgot to load the palette sorry for that</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#991 - Splam - Mon Jan 13, 2003 1:38 am</h4>
    <div class="postbody"><span class="postbody">*warning* Coding whilst tired is bad m'kay ;)   Many are the times I've had some code working and instead of going to bed carried on, got up in the morning only to find disaster has struck while I was half blindly typing in nonsense code,  or thinking i'd finished some code only to find it was all a wonderful dream   lol</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#993 - whodoo - Mon Jan 13, 2003 2:00 am</h4>
    <div class="postbody"><span class="postbody">thats right :)
<br/>
huh feels like my english gettin too bad when Im trying to hack the GBA at this time :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
