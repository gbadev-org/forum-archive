<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Is it a good idea to have a variable declared in a... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Is it a good idea to have a variable declared in a...</h2>
<div id="posts">
<div class="post">
    <h4>#19204 - mr_schmoe - Wed Apr 14, 2004 1:36 am</h4>
    <div class="postbody"><span class="postbody">Ok, basically it's like this. I have an include file sprites.h and the definitions in a cpp file sprites.cpp. The idea is have a sprite class for each sprite in the game.  But to copy the attribute data to the OAM it's generally a good idea to have the OAM variable in one long array (i.e. OAMentry sprites[128]; ) so's you can copy it to the actual OAM memory right quickly like. So, what I was thinking is have the OAM variable declared and defined in the sprite.cpp and the sprite class just have a pointer to it's particular sprite number in the OAM. I don't want to start an argument on the way I want to handle the sprites, that was just to give you an idea what I was talking about.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19205 - sgeos - Wed Apr 14, 2004 1:47 am</h4>
    <div class="postbody"><span class="postbody">If I understand what you are trying to do, it sounds like a good idea to me.
<br/>
<br/>
You are talking about doing something like this, right?  (In C because I don't do the C++ thing.)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">struct oam oam[128];
<br/>
<br/>
struct sprite happy_rabbit = {&amp;oam[HAPPY_RABBIT], ...};
<br/>
struct sprite evil_fluffy = {&amp;oam[EVIL_FLUFFY], ...};
<br/>
struct sprite icecream_of_doom = {&amp;oam[ICECREAM_OF_DOOM], ...};
<br/>
...</td> </tr></table><span class="postbody">
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19207 - sajiimori - Wed Apr 14, 2004 2:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I don't want to start an argument on the way I want to handle the sprites, that was just to give you an idea what I was talking about.
<br/>
</td> </tr></table><span class="postbody">
<br/>
You want to know if it's a good idea, but you don't want to discuss alternatives?  So what are you doing, fishing for compliments?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19210 - yaustar - Wed Apr 14, 2004 2:39 am</h4>
    <div class="postbody"><span class="postbody">Just so I got this right:
<br/>
<br/>
Insted of
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">sprites[1].attribute etc</td> </tr></table><span class="postbody">
<br/>
you do
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">sprites[pacman.spriteNo].attribute etc</td> </tr></table><span class="postbody">
<br/>
<br/>
No problem with that, keeps things organised, I think it was reccomended in gbajunkie's tutorials...<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19212 - poslundc - Wed Apr 14, 2004 3:02 am</h4>
    <div class="postbody"><span class="postbody">My experience: the system you start out with to handle the OAM entries for any application is rarely the one you'll end up with.
<br/>
<br/>
So just a pick a method and go with it; you can always revise it later on.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
