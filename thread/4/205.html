<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Circle Paths - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Circle Paths</h2>
<div id="posts">
<div class="post">
    <h4>#1260 - darkcloud - Thu Jan 16, 2003 12:37 am</h4>
    <div class="postbody"><span class="postbody">Any one have a function that I could use that could fill an array with points on a circle?  I want to make a circle path that my sprites could follow.  I was thinking of using two arrays, one for x, and one for y.  Is this a good way to do paths or is there a better way?<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1265 - shadow_gg - Thu Jan 16, 2003 1:30 am</h4>
    <div class="postbody"><span class="postbody">I'm not sure I will ask your question but :
<br/>
for me the easier way ,is getting the actual angle between the sprite and the center of your rotation like atanf(deltay/deltax)  (if you don't already know it) and in function of the way you want him to rotate increment or decrement the angle.
<br/>
So the next position of the sprite with this new angle is Xnextpos = distance * cosf(angle) + Xcenter.
<br/>
Ynextpos = distance  * sinf(angle) + Ycenter.
<br/>
<br/>
So,I think if you want to use arrays for optimizing speed,you only have to build a precalculated table of cos(fixed point)-&gt;1 mul + 1 add
<br/>
I think this is the better way because you don't have const values!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1300 - Lord Graga - Thu Jan 16, 2003 3:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void Mode4_Circle(u16 xCenter, u16 yCenter, u16 radius, u8 color)
<br/>
{
<br/>
   //Local variables
<br/>
   s16 x = 0;
<br/>
   s16 y = radius;
<br/>
   s16 p = 3 - 2 * radius;
<br/>
<br/>
   while (x &lt;= y)
<br/>
   { 
<br/>
      Mode4_PlotPixel(xCenter + x, yCenter + y, color);
<br/>
      Mode4_PlotPixel(xCenter - x, yCenter + y, color);
<br/>
      Mode4_PlotPixel(xCenter + x, yCenter - y, color);
<br/>
      Mode4_PlotPixel(xCenter - x, yCenter - y, color);
<br/>
      Mode4_PlotPixel(xCenter + y, yCenter + x, color);
<br/>
      Mode4_PlotPixel(xCenter - y, yCenter + x, color);
<br/>
      Mode4_PlotPixel(xCenter + y, yCenter - x, color);
<br/>
      Mode4_PlotPixel(xCenter - y, yCenter - x, color);
<br/>
<br/>
      if (p &lt; 0)
<br/>
      {
<br/>
         p += 4 * x++ + 6;
<br/>
      }
<br/>
      else
<br/>
      {
<br/>
         p += 4 * (x++ - y--) + 10;
<br/>
      }
<br/>
   }
<br/>
}</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1648 - AnthC - Tue Jan 21, 2003 12:58 am</h4>
    <div class="postbody"><span class="postbody">From the top of my head, here's an age old poor mans rotator :-
<br/>
(You could use this to fill your circle buffer with a bit of tinkering)
<br/>
<br/>
int r=64;                 // radius
<br/>
int x=r*65536;        // ~cos(angle)*r
<br/>
int y=0*65536;        // ~sin(angle)*r
<br/>
<br/>
int cx=LCD_WIDTH/2;  //
<br/>
int cy=LCD_HEIGHT/2; // centre position
<br/>
<br/>
for (;;)
<br/>
{
<br/>
     PlotPixel(cx+x/65536,cy+y/65536);
<br/>
    x- =y*1/16; //
<br/>
    y+=x*1/16; // (*1/16 defines the rate at which the points rotate)
<br/>
}</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
