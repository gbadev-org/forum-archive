<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>White screen after compilation - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > White screen after compilation</h2>
<div id="posts">
<div class="post">
    <h4>#147951 - mog123 - Mon Dec 31, 2007 12:41 am</h4>
    <div class="postbody"><span class="postbody">Hi, I'm doing the crash course from <a href="http://www.webbesen.dk/gba/" target="_blank">http://www.webbesen.dk/gba/</a>
<br/>
<br/>
though I'm not using devkitadvance but devkitarm. I did update all the make files. I get no errors while compiling, but when I launch the GBA file to VBA in just shows me a white screen. Can somebody help?
<br/>
<br/>
Edit: the elf file runs perfectly, though the GBA file gives me a white screen, hmm.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147952 - dantheman - Mon Dec 31, 2007 1:11 am</h4>
    <div class="postbody"><span class="postbody">Does it work if you rename it to end in .mb rather than .gba?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148257 - mog123 - Fri Jan 04, 2008 12:19 am</h4>
    <div class="postbody"><span class="postbody">I have another problem and didn't want to make another topic, I'm doing the sprite routine, here's my code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "gba.h"
<br/>
#include "bg.h"
<br/>
#include "ball.h"
<br/>
<br/>
void InitializeSprites(void);
<br/>
void CopyOAM(void);
<br/>
<br/>
OAMEntry sprites[128];
<br/>
<br/>
int main()
<br/>
{
<br/>
   u16 loop;
<br/>
<br/>
   SetMode(MODE_4 | BG2_ENABLE | OBJ_ENABLE | OBJ_MAP_1D);
<br/>
<br/>
   for (loop = 0; loop &lt;256; loop++)
<br/>
   {
<br/>
   OBJ_PaletteMem[loop] = ballPalette[loop];
<br/>
   }
<br/>
<br/>
   for (loop = 0; loop &lt;256; loop++)
<br/>
   {
<br/>
   BG_PaletteMem[loop]=bgPalette[loop];
<br/>
   }
<br/>
<br/>
   for (loop = 0; loop &lt; (120*160); loop++)
<br/>
   {
<br/>
   FrontBuffer[loop] = bgData[loop];
<br/>
   }
<br/>
<br/>
   memcpy( (u16 *)0x06014000, &amp;ballData, sizeof(ballData) );
<br/>
<br/>
   sprites[0].attribute0 = COLOR_256 | SQUARE | 50;
<br/>
   sprites[0].attribute1 = SIZE_8 | 30;
<br/>
   sprites[0].attribute2 = 512;
<br/>
<br/>
   while(1)
<br/>
      {
<br/>
      WaitForVsync();
<br/>
      CopyOAM();
<br/>
      }
<br/>
   return 0;
<br/>
}
<br/>
<br/>
void InitializeSprites(void)
<br/>
{
<br/>
   u16 loop;
<br/>
   for(loop = 0; loop &lt; 128; loop++) {
<br/>
      sprites[loop].attribute0 = 160;
<br/>
      sprites[loop].attribute1 = 240;
<br/>
   }
<br/>
}
<br/>
<br/>
void CopyOAM(void)
<br/>
{
<br/>
   u16 loop;
<br/>
   u16* temp;
<br/>
   temp = (u16*)sprites;
<br/>
   for(loop = 0; loop &lt; 128*4; loop++)   {
<br/>
      OAM_Mem[loop] = temp[loop];
<br/>
   }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
It's exactly the same as on the website(though I've written it myself) I've added extra lines on the end, but I don't get a sprite on the screen, only the BG, can someone help?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148260 - wintermute - Fri Jan 04, 2008 12:27 am</h4>
    <div class="postbody"><span class="postbody">Pretend you never saw that "tutorial" and work through Tonc instead. You'll actually learn something worthwhile.
<br/>
<br/>
<a href="http://www.coranac.com/tonc/text/" target="_blank">http://www.coranac.com/tonc/text/</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148263 - mog123 - Fri Jan 04, 2008 12:38 am</h4>
    <div class="postbody"><span class="postbody">Can you just tell me what's wrong? I plan to do tonc after I do this one, So iIcan have a grasp of what is what.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148265 - wintermute - Fri Jan 04, 2008 12:46 am</h4>
    <div class="postbody"><span class="postbody">Just go straight to Tonc. That tutorial makes naive assumptions and teaches poor programming practices that will cause you a great deal of pain later.
<br/>
<br/>
Pay special attention to this section <a href="http://www.coranac.com/tonc/text/bitmaps.htm#sec-data" target="_blank">http://www.coranac.com/tonc/text/bitmaps.htm#sec-data</a> with particular regard to section 5.4.3 - "Thou shalt not #include data or code"<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148319 - mog123 - Fri Jan 04, 2008 4:17 pm</h4>
    <div class="postbody"><span class="postbody">OK, I'm trying to do tonc, and I want to compile it using PN but after everything read and done I get this when I try to compile the first.c
<br/>
<br/>
&gt; "C:\devkitPro\msys\bin\make.exe" -f first.c build
<br/>
first.c:1: *** missing separator.  Stop.
<br/>
<br/>
Here's the code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int main()
<br/>
{
<br/>
    *(unsigned int*)0x04000000 = 0x0403;
<br/>
<br/>
    ((unsigned short*)0x06000000)[120+80*240] = 0x001F;
<br/>
    ((unsigned short*)0x06000000)[136+80*240] = 0x03E0;
<br/>
    ((unsigned short*)0x06000000)[120+96*240] = 0x7C00;
<br/>
<br/>
    while(1);
<br/>
<br/>
    return 0;
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148331 - Cearn - Fri Jan 04, 2008 4:55 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mog123 wrote:</b></span></td> </tr> <tr> <td class="quote">OK, I'm trying to do tonc, and I want to compile it using PN but after everything read and done I get this when I try to compile the first.c
<br/>
<br/>
&gt; "C:\devkitPro\msys\bin\make.exe" -f first.c build
<br/>
first.c:1: *** missing separator.  Stop.
<br/>
<br/>
...
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
`make' is a tool to run makefiles. `first.c' is a <span style="font-style: italic">source</span> file, not a makefile. Just open the pnproj file that comes with the demo, hit Alt+1 and it should work.
<br/>
<br/>
<span style="font-size: 9px; line-height: normal">Fixed for silent code's remark.</span></span><span class="gensmall"><br/><br/>Last edited by Cearn on Sat Jan 05, 2008 12:18 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#148348 - silent_code - Fri Jan 04, 2008 8:32 pm</h4>
    <div class="postbody"><span class="postbody">you most likely mean it *IS* a source file... :^)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148401 - Cearn - Sat Jan 05, 2008 12:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">you most likely mean it *IS* a source file... :^)</td> </tr></table><span class="postbody">
<br/>
Uhm ... yeah &gt;_&gt;.
<br/>
<br/>
noodle also mentioned that you can get a white screen if you don't set the display control (REG_DISPCNT) correctly. But somehow both of his replies got eaten. Also note that multiboot builds may not work with devkitARM r21 due to a linkscript problem, which can cause a white screen. See <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=14493" target="_blank">here</a> for details. Easiest fix: don't use a multiboot build until DKA r22.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148414 - wintermute - Sat Jan 05, 2008 3:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cearn wrote:</b></span></td> </tr> <tr> <td class="quote"> But somehow both of his replies got eaten.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Heh, we were trying to move on from the stupid tutorial &amp; use Tonc instead. I'm really not sure I see the point in correcting small errors in an example that took all the worst parts of other tutorials and combined them into one of the worst GBA tutorials on the net.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
 Also note that multiboot builds may not work with devkitARM r21 due to a linkscript problem, which can cause a white screen. See <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=14493" target="_blank">here</a> for details. Easiest fix: don't use a multiboot build until DKA r22.</td> </tr></table><span class="postbody">
<br/>
<br/>
hehe, yeah sorry about that, I missed some minor issues in binutils updates which made some things behave slightly differently.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
