<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Switch GBA into GBC mode by software. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Switch GBA into GBC mode by software.</h2>
<div id="posts">
<div class="post">
    <h4>#178183 - AntonioND - Sun Apr 20, 2014 7:39 pm</h4>
    <div class="postbody"><span class="postbody">Hello!
<br/>
<br/>
I know dwedit did something like this a few years ago, but I never managed to compile its code and make it run (even though the precompiled binary worked fine). Anyway, the code was just an incomprehensible mess:
<br/>
<br/>
<a class="postlink" href="http://www.dwedit.org/dwedit_board/viewtopic.php?id=339" target="_blank">http://www.dwedit.org/dwedit_board/viewtopic.php?id=339</a>
<br/>
<br/>
This morning I've read that the GBA bios still had the piece of code that switches the GBA into GBC mode, like Nintendo planned to do in the begining (before deciding that it would be better to do it with a hardware switch).
<br/>
<br/>
I've disassembled the part that performs this switch and made a little demo to show that it works! Here it is:
<br/>
<br/>
<a class="postlink" href="https://github.com/AntonioND/gba-switch-to-gbc" target="_blank">https://github.com/AntonioND/gba-switch-to-gbc</a>
<br/>
<br/>
But it doesn't end here! It can also apply an affine transformation to the GBC video output, and even enable mosaic effect or GREENSWP register! The GREENSWP register works a bit different than in GBA mode, by the way.
<br/>
<br/>
The bad thing is that the video output only works in GB Micro, in GBA and GBA SP it shows a black screen, and in DS it doesn't work at all (it doesn't have a GB CPU).
<br/>
<br/>
I've also uploaded a video:
<br/>
<br/>
<a class="postlink" href="https://www.youtube.com/watch?v=-SkR8SAdS9w" target="_blank">https://www.youtube.com/watch?v=-SkR8SAdS9w</a>
<br/>
<br/>
Bye!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#178184 - sverx - Tue Apr 29, 2014 1:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>AntonioND wrote:</b></span></td> </tr> <tr> <td class="quote">The bad thing is that the video output only works in GB Micro, in GBA and GBA SP it shows a black screen</td> </tr></table><span class="postbody">
<br/>
<br/>
Oh, why? Can't it just be a background disabled?<br/>_________________<br/><a class="postlink" href="http://bit.ly/yiQrz9" target="_blank">libXM7</a>|<a class="postlink" href="http://bit.ly/yJwcOo" target="_blank">NDS programming tutorial (Italiano)</a>|<a class="postlink" href="http://disjointedstudio.blogspot.com/" target="_blank">Waimanu DS / GBA</a>|<a class="postlink" href="http://adshomebrewersdiary.blogspot.com" target="_blank">A DS Homebrewer's Diary</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#178185 - AntonioND - Thu May 01, 2014 8:20 pm</h4>
    <div class="postbody"><span class="postbody">I don't know. I suppose that the GBA and GBA SP circuits try to use 5V and, since the voltage switch is in 3.3V  (because of the cartridge) it doesn't get the energy to run. The GB Micro doesn't have that circuits so for some reason the circuits work?
<br/>
<br/>
I tried to make the GBM read some data from a cartridge I modified to output some data at 3.3V (I soldered a pin to GND and another to VCC) but it doesn't seem to work, the GBM reads 0s (the GBC reads the correct pattern with the same cartridge).</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
