<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Mode 1 display problems - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Mode 1 display problems</h2>
<div id="posts">
<div class="post">
    <h4>#4428 - Unciaa - Mon Mar 31, 2003 1:19 am</h4>
    <div class="postbody"><span class="postbody">I've been using a few tutorials to teach myself how to work with various display modes that GBA supports and have hit a snag when it came to map/tiled modes. Using a slightly modified version [to use correct image and tile files] of <a class="postlink" href="http://members.fortunecity.com/downtou/tutorials/tutorial12.htm" target="_blank">this tutorial</a> I tried to create a simple map to scroll about, but upon loading it saw <a class="postlink" href="http://www.lionking.org/~sichi/stuff/gba1.png" target="_blank">this</a>. Seems my mapping data is getting both squished vertically and isn't looped over correctly [<a class="postlink" href="http://www.lionking.org/~sichi/stuff/gba2.png" target="_blank">original map</a>], but having checked the values it should work. Any advice on just what I did wrong?
<br/>
I'll post the code and data files if need be, but given the basic level of it I don't expect it to be much more than a trivial mistake on my part. :p</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4430 - tepples - Mon Mar 31, 2003 1:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Unciaa wrote:</b></span></td> </tr> <tr> <td class="quote">I tried to create a simple map to scroll about, but upon loading it saw <a class="postlink" href="http://www.lionking.org/~sichi/stuff/gba1.png" target="_blank">this</a>. Seems my mapping data is getting both squished vertically and isn't looped over correctly [<a class="postlink" href="http://www.lionking.org/~sichi/stuff/gba2.png" target="_blank">original map</a>]</td> </tr></table><span class="postbody">
<br/>
You're starting a new row every 17 u16's rather than every 32 u16's, and you aren't writing every row.  Did you export your map data correctly?  Look over the binary (with a hex editor) or the exported header file and make sure all rows are there.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4442 - niltsair - Mon Mar 31, 2003 9:44 am</h4>
    <div class="postbody"><span class="postbody">Another common mistake : <span style="font-weight: bold">You need to write 16bits at a time</span>. Video memory can only be addressed with 16bits or 32bits pointers.
<br/>
<br/>
A Tile Pixels takes :
<br/>
-4bits in 16 color mode
<br/>
-8bit in 256 color mode.
<br/>
<br/>
A Map Entry takes:
<br/>
-16bits
<br/>
-A Basic Map has a size of 32x32 tiles.
<br/>
<br/>
A Palette Entry takes:
<br/>
-16Bits.
<br/>
<br/>
This means that :
<br/>
-You have to write the 2 Tiles in one time in 256 colors mode.
<br/>
-You have to write the 4 Tiles in one time in 16 colors mode.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4445 - Quirky - Mon Mar 31, 2003 11:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>niltsair wrote:</b></span></td> </tr> <tr> <td class="quote">This means that :
<br/>
-You have to write the 2 Tiles in one time in 256 colors mode.
<br/>
-You have to write the 4 Tiles in one time in 16 colors mode.</td> </tr></table><span class="postbody">
<br/>
<br/>
Should that be pixels instead of tiles? you can always write tiles 1 at a time (16 bits per tile, 256 or 16 colour tiles) unless they are for rotation backgrounds, when you have to write 2 at a time (8 bits per tile, needs 256 colour tile gfx)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4448 - niltsair - Mon Mar 31, 2003 11:58 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Should that be pixels instead of tiles? you can always write tiles 1 at a time (16 bits per tile, 256 or 16 colour tiles) unless they are for rotation backgrounds, when you have to write 2 at a time (8 bits per tile, needs 256 colour tile gfx)</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, you're totally. I meant Pixels of a tile.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4452 - Unciaa - Mon Mar 31, 2003 3:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">You're starting a new row every 17 u16's rather than every 32 u16's, and you aren't writing every row.  Did you export your map data correctly?  Look over the binary (with a hex editor) or the exported header file and make sure all rows are there.</td> </tr></table><span class="postbody">
<br/>
<br/>
Aaah, found the problem, cheers mate. :)
<br/>
I exported the map with size 16x16 tiles, but split the actual tile bitmap into 8x8 tiles. Matching the sizes did the trick, just split each tile into 4 pieces. Is there a point to larger tiles [past faster map creation], can they be utilized directly? Or do I always need to reduce them to 8x8 pieces?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4454 - tepples - Mon Mar 31, 2003 3:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Unciaa wrote:</b></span></td> </tr> <tr> <td class="quote">Is there a point to larger tiles [past faster map creation], can they be utilized directly?</td> </tr></table><span class="postbody">
<br/>
The NES had 8x8 pixel tiles in hardware (actually, it was more complicated than that), and the Sega Genesis and Super NES had 8x8 pixel tiles in hardware (under an architecture very similar to the GBA), but most games stored their maps with 16x16, 32x16, or 32x32 pixels per tile and expanded them at runtime. Storing a map with larger "metatiles" really helps when you've got only 64 KB to work with, and using larger tiles speeds up sprite/BG collision detection as well.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4460 - Unciaa - Mon Mar 31, 2003 5:04 pm</h4>
    <div class="postbody"><span class="postbody">Ah, so they are supported. How do you get them to work though? Quarter the amount of tiles read, but read 32 bits at a time instead of 16?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4463 - tepples - Mon Mar 31, 2003 6:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Unciaa wrote:</b></span></td> </tr> <tr> <td class="quote">Ah, so they are supported. How do you get them to work though? Quarter the amount of tiles read, but read 32 bits at a time instead of 16?</td> </tr></table><span class="postbody">
<br/>
Each HW map entry still covers 8x8 pixels and 16 bits, but each tile now uses four HW map entries. Try <a class="postlink" href="http://forum.gbadev.org/search.php?mode=results&amp;search_keywords=metatile+OR+metatiles" target="_blank">searching this board's archive for metatile OR metatiles</a> to see where this has already been discussed.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4473 - Unciaa - Tue Apr 01, 2003 12:23 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Unciaa wrote:</b></span></td> </tr> <tr> <td class="quote">Ah, so they are supported. How do you get them to work though? Quarter the amount of tiles read, but read 32 bits at a time instead of 16?</td> </tr></table><span class="postbody">
<br/>
Each HW map entry still covers 8x8 pixels and 16 bits, but each tile now uses four HW map entries. Try <a class="postlink" href="http://forum.gbadev.org/search.php?mode=results&amp;search_keywords=metatile+OR+metatiles" target="_blank">searching this board's archive for metatile OR metatiles</a> to see where this has already been discussed.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Cheers. :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
