<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DMA transfer - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > DMA transfer</h2>
<div id="posts">
<div class="post">
    <h4>#1380 - bomberman - Fri Jan 17, 2003 12:37 pm</h4>
    <div class="postbody"><span class="postbody">Hi there,
<br/>
<br/>
small question about the 16/32 bits mode to choose for a DMA transfer.
<br/>
Does it depend only on the size you want to transfer (32 bits for 0x1000 bytes, 16 bits for 0x1002 bytes) or are there some more subtil differences involved in this?
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1385 - Splam - Fri Jan 17, 2003 2:11 pm</h4>
    <div class="postbody"><span class="postbody">Pretty much based on how much you want to copy.  Only thing I can think of that NEEDS to be 32bit is the sound FIFO transfers.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1422 - Kay - Sat Jan 18, 2003 3:22 pm</h4>
    <div class="postbody"><span class="postbody">DMA transfer are generaly faster 32 bits wide than 16, depending on what purpose you use it for.
<br/>
<br/>
You can look at the transfer timing table i made in the CowBite doc:
<br/>
<br/>
<a class="postlink" href="http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm" target="_blank">http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm</a>
<br/>
<br/>
<br/>
-- Kay</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5468 - bomberman - Mon Apr 28, 2003 11:09 pm</h4>
    <div class="postbody"><span class="postbody">Effectively, it seems to be faster. To transfer 24Ko it took 20 raster lines in 16 bits mode and 15 in 32 bits mode. I did not try with other sizes of transfer but in that case it is 25% faster which is not negligeable !
<br/>
<br/>
However there is a subtil difference between these two modes. I used it to display a bitmap in tile mode (before it was a simple for(;;) ).
<br/>
My tile data are declared as unsigned char and using 16 bits mode worked fine whereas in 32 bits mode my picture was altered.
<br/>
What happened is as this is an array of char and not long, it was aligned on a multiple of 2 bytes and not 4. So my transfer was shifted.
<br/>
<br/>
If you want to use 32 bits mode, be sure your adresses are aligned with 4 bytes !</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
