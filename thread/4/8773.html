<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Illegal reads/writes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Illegal reads/writes</h2>
<div id="posts">
<div class="post">
    <h4>#74086 - sgeos - Thu Mar 02, 2006 6:42 am</h4>
    <div class="postbody"><span class="postbody">The following kinds of errors are showing up in VBA's log:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Illegal halfword write: ff24 to 0935e564 from 08022f64
<br/>
Illegal word read: 0000001c at 08078482
<br/>
Unaligned word read: 0201908e at 0805a60e</td> </tr></table><span class="postbody">
<br/>
I'm assuming that illegal reads and writes have no effect.  What is the net result of an unaligned read or write?
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span>  I'm specifically interested in the side effects of <span style="font-weight: bold">unaligned</span> reads and writes.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74087 - gladius - Thu Mar 02, 2006 7:25 am</h4>
    <div class="postbody"><span class="postbody">Un-aligned read/writes actually read/write to the address % size.  So if you write a word to 3, it will actually write a word to address 0.  Read also shifts the addressed byte into the high byte of the word I believe.
<br/>
<br/>
I actually asked this same question a while back :).
<br/>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=3330&amp;highlight=unaligned+read" target="_blank">http://forum.gbadev.org/viewtopic.php?t=3330&amp;highlight=unaligned+read</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74094 - sgeos - Thu Mar 02, 2006 10:04 am</h4>
    <div class="postbody"><span class="postbody">Thanks.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74116 - tepples - Thu Mar 02, 2006 4:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">The following kinds of errors are showing up in VBA's log:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Illegal halfword write: ff24 to 0935e564 from 08022f64
<br/>
Illegal word read: 0000001c at 08078482
<br/>
[...]</td> </tr></table><span class="postbody">
<br/>
I'm assuming that illegal reads and writes have no effect.</span></td> </tr></table><span class="postbody">
<br/>
Not always. Illegal writes to GBA ROM space (0x08000000 through 0x0DFFFFFF) may end up writing to savegame space if you're using EEPROM save, or it may end up crashing the flash card if you're on some brands of flash card (such as Nintendo's) that don't have stray write protection. In any case, try to eliminate illegal writes if you want your program to pass lot check (either Nintendo's or NO$GBA's).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
