<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>interupts - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > interupts</h2>
<div id="posts">
<div class="post">
    <h4>#8502 - whodoo - Sat Jul 12, 2003 12:47 pm</h4>
    <div class="postbody"><span class="postbody">as far as I know, an interupthandle for e.g. VBlank should look something like this:
<br/>
<br/>
...
<br/>
if(REG_IF == INT_VBLANK)
<br/>
{
<br/>
// Do VBlank stuff
<br/>
REG_IF = INT_VBLANK;  // Clear
<br/>
}
<br/>
<br/>
why do I have to set REG_IF = ... to clear it? I mean since I checked REG if in the first line, it?s allready set to 1?..so why do I have to set it to 1 when it?s allready is 1?
<br/>
<br/>
and if the program occurs more than one interupt at the same time I guess that
<br/>
 if(REG_IF == INT_VBLANK)
<br/>
 wouldnt work?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8503 - whodoo - Sat Jul 12, 2003 1:46 pm</h4>
    <div class="postbody"><span class="postbody">shouldnt it be like
<br/>
<br/>
if(REG_IF &amp; VBLANK)
<br/>
...
<br/>
if(REG_IF &amp; HBlank)..
<br/>
<br/>
to make sure the program will detect all interupts</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8514 - Darkain - Sat Jul 12, 2003 6:49 pm</h4>
    <div class="postbody"><span class="postbody">you have to clear REG_IF flags so this way, once the interupt handler finishes, it isnt called again imediatly.  i had an instance where it was calling the vblank irq more than 100 times a second cause it wasnt cleared.
<br/>
<br/>
for some strange reason, you have to set the bit to 1 to clear it, even though it is aleady set to 1.
<br/>
<br/>
and as for checking your interupts, you should be using &amp; instead of ==, because more than 1 interupt could be triggered at the same time.<br/>_________________<br/>-=- Darkain Dragoon -=-
<br/>
<a class="postlink" href="http://www.darkain.com" target="_blank">http://www.darkain.com</a>
<br/>
<a class="postlink" href="http://ds.darkain.com/hack" target="_blank">DarkStar</a> for <a class="postlink" href="http://ds.darkain.com" target="_blank">Nintendo DS</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8515 - whodoo - Sat Jul 12, 2003 7:27 pm</h4>
    <div class="postbody"><span class="postbody">thx got a lil bit confused as I read the pern project tutorial..
<br/>
works great</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
