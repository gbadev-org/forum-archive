<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GBA Frotz input question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > GBA Frotz input question</h2>
<div id="posts">
<div class="post">
    <h4>#71599 - actofgod - Mon Feb 13, 2006 6:33 pm</h4>
    <div class="postbody"><span class="postbody">GBA Frotz is a port of Frotz done by Sasq, creator of Pogoshell.  It allows you to play Infocom text adventures on your GBA and features an intuitive virtual keyboard that is often referred to in discussions of GBA text input.
<br/>
<br/>
Old homepage: <a href="http://obsession.se/frotz" target="_blank">http://obsession.se/frotz</a>
<br/>
New homepage: <a href="http://www.nightmode.org/frotz/" target="_blank">http://www.nightmode.org/frotz/</a>
<br/>
Documentation: <a href="http://www.nightmode.org/frotz/doc.html" target="_blank">http://www.nightmode.org/frotz/doc.html</a>
<br/>
<br/>
<br/>
Is anyone else using this program? I love it, but I have one problem with my favorite game Beyond Zork. In the game, a description of your surroundings is displayed in a separate text box, and viewing all of it requires that you press the up and down arrows to scroll it.
<br/>
<br/>
Unfortunately, this does not seem to be possible in the current version of Frotz, 1.15.  The program allows for setting up custom GBA-&gt;keyboard bindings and has built-in support for left and right arrows (CURSOR_LEFT, CURSOR_RIGHT), but not up or down.  The up/down keys DO work however in a special mode used at the beginning of Beyond Zork as described:
<br/>
<br/>
"There is a special mode 4 that is only active when frotz is reading a single key instead of a line. The default key bindings bind the cursor keys to cursor movement and history, but in mode 4 they are bound to keycodes 129-132 which is Frotz keycodes for cursor-movement. This makes sure (for instance) the menu in Beyond Zork works."
<br/>
<br/>
I've tried binding the keycodes above to the up/down keys in the config, but it doesn't work, perhaps since in the normal game it is reading a whole line of text input and not a single key as in the menus.  And while there are builtin functions to go into modes 0-3 (GO_MODE0, GO_MODE1, etc.) there is not one to enter the special mode 4 used for the menu system.
<br/>
<br/>
Sasq doesn't seem to be working on GBAFrotz anymore (it's been years since the last update) and does not reply to emails.  Is there anyone else who would be willing to tackle this problem? Unless I've missed something in the current version, making this change would require a little programming knowledge.  It doesn't seem that it would be terribly difficult as the C++ code is available and the up/down keys are already partially supported, but I simply don't have the know-how to make even this small change.
<br/>
<br/>
Any comments would be appreciated!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
