<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Issues using the Visual C++ IDE - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Issues using the Visual C++ IDE</h2>
<div id="posts">
<div class="post">
    <h4>#1243 - Sweex - Wed Jan 15, 2003 10:26 pm</h4>
    <div class="postbody"><span class="postbody">I'm using (as probably many of you) the Visual C++ IDE for developing my GBA stuff. I've got a workspace with two projects in it. One's the source of my library, and the second is my (test) project itself. 
<br/>
<br/>
This is working fine for most of the time, but the following occurs. If I make changes only to the library project (which I do a lot as I'm mainly coding the library at this point), the testproject will not relink! So to test any change, I have to make a change to a file in the testproject (ie. adding and deleting a space) to get it to build and link properly.
<br/>
<br/>
Does anyone have any idea how I can get it to detect changes to the library project? (Dependencies are defined)
<br/>
<br/>
Thanks in advance!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1279 - Quirky - Thu Jan 16, 2003 9:05 am</h4>
    <div class="postbody"><span class="postbody">I don't use VC++, just hand coded makefiles... But can't you put in your makefile something like this?:
<br/>
<br/>
main.o : main.c main.h mygbalib.lib
<br/>
   gcc -c $&lt;
<br/>
<br/>
Then whenever the lib file changes, your makefile will see that your main.o needs recompiling. Oh hang on that's not your question... but it might be useful.
<br/>
<br/>
You need to tell the makefile which files your .elf, from which the final .bin is made, depends on. Something like:
<br/>
<br/>
main.elf: main.o mygbalib.lib
<br/>
  gcc $(LDFLAGS) -o etc, etc...
<br/>
<br/>
The same thing here, the lib changes, it relinks main.elf ( and in turn makes a new main.bin ) Just tried that and it works a treat. In fact, my makefile had the same problem - if I would have changed my libs only, my main binary wouldn't have changed either!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1285 - Sweex - Thu Jan 16, 2003 10:50 am</h4>
    <div class="postbody"><span class="postbody">I'm using a handcoded makefile too (Couldn't get some cool use of the DSP working!:-( )... 
<br/>
<br/>
The line you gave me seems just the thing I need... Will try it later today!:)
<br/>
<br/>
Cheers!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
