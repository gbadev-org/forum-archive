<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GBA Hardware Scrolling - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > GBA Hardware Scrolling</h2>
<div id="posts">
<div class="post">
    <h4>#12796 - punchy - Wed Nov 26, 2003 7:18 pm</h4>
    <div class="postbody"><span class="postbody">I'm using 16 colour tiles and a 32*32 tile background. What i want to do is change the horizontal scrolling of the background for each horizontal line of 32 tiles. In other words I want to be able to move each horizontal line of tiles independantly.
<br/>
<br/>
I suspect this may be possible using interrupts but I have no experience of using them. Any pointers on the most efficient way of doing this would be most appreciated.
<br/>
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12797 - tepples - Wed Nov 26, 2003 7:29 pm</h4>
    <div class="postbody"><span class="postbody">If you don't know interrupts, try scrolling each scanline with hblank DMA, setting each 8 consecutive entries to the same x-value.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12798 - punchy - Wed Nov 26, 2003 7:50 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the reply.
<br/>
<br/>
I am keen to get to grips with gba interupts though so what would be the approach using interupts.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12801 - tepples - Wed Nov 26, 2003 8:22 pm</h4>
    <div class="postbody"><span class="postbody">First of all, set up your interrupts:
<br/>
1. Copy your ISR's pointer to the vector in IWRAM.
<br/>
2. Turn on the hblank interrupt source in REG_DISPSTAT.
<br/>
3. Turn on the hblank interrupt mask in REG_IE.
<br/>
4. Turn on REG_IME.
<br/>
<br/>
In the ISR, set the background's X scroll position.
<br/>
<br/>
However, this will probably incur more CPU overhead than just using HDMA.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12804 - poslundc - Wed Nov 26, 2003 8:25 pm</h4>
    <div class="postbody"><span class="postbody">See <a class="postlink" href="http://thepernproject.com/English/tutorial_5.html" target="_blank">Day 5 of the Pern Project tutorial</a> for an introduction to interrupts.
<br/>
<br/>
Make sure that interrupts are enabled in your crt0.s file; the tutorial briefly talks about this but it's easy to miss. Just open the crt0.s and scroll through the directions. You will have to uncomment a line or two.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12805 - ampz - Wed Nov 26, 2003 8:31 pm</h4>
    <div class="postbody"><span class="postbody">Trying to do mode 7 are we? :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12807 - poslundc - Wed Nov 26, 2003 8:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ampz wrote:</b></span></td> </tr> <tr> <td class="quote">Trying to do mode 7 are we? :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Not if he's just altering the horizontal scroll, he won't be... my guess is a simple raster effect (like a sinusoid).
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12808 - punchy - Wed Nov 26, 2003 9:00 pm</h4>
    <div class="postbody"><span class="postbody">Actually i'm emulating some arcade hardware :)
<br/>
<br/>
Thanks again for the replies. I'm determined to have this sussed before i go to sleep. Could be a long night.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
