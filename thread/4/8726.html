<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Video Memory - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Video Memory</h2>
<div id="posts">
<div class="post">
    <h4>#73526 - gustav05 - Sun Feb 26, 2006 9:38 am</h4>
    <div class="postbody"><span class="postbody">Hello!
<br/>
<br/>
I have a question.
<br/>
<br/>
In the header file "gba.h" there are 2 constants defined:
<br/>
#define VideoBuffer 	((u16*)0x6000000)
<br/>
#define FrontBuffer     ((u16*)0x6000000)
<br/>
Both are pointers, which points to the video memory, the VRAM.
<br/>
Is there any difference between these 2 pointers?
<br/>
And it is correct, that the VRAM begins at 0x6000000?
<br/>
Is FrontBuffer and VideoBuffer only a pointer or a pointer-array?
<br/>
<br/>
I hope you can help me.
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73547 - strager - Sun Feb 26, 2006 4:04 pm</h4>
    <div class="postbody"><span class="postbody">The reason there are two pointers is because one is supposed to be used with modes 0, 1, and 2, while the other is meant to be used with 3, 4, and 5.  Since the latter three modes are bitmap modes, they use the video buffer concept.  Mode 3 only has one buffer, so it would make sense to use the FrontBuffer define.  On the others, the name could be misleading; they merely define the two buffers, and not which one is currently active.  More accurate names would be "VideoBuffer1" and "VideoBuffer2", but that's besides the point.  :P
<br/>
So, if you choose to use the last three modes, using the FrontBuffer and BackBuffer defines would work best.
<br/>
<br/>
Here's how to reference them:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void putpixel_back(int x, int y, u16 color)
<br/>
{
<br/>
    u16 *address = &amp;FrontBuffer[x + (y * SCREEN_WIDTH)];
<br/>
<br/>
    if(!REG_DISPCNT &amp; FRAME_SELECT)
<br/>
    {
<br/>
        address += 0xA000;
<br/>
    }
<br/>
<br/>
    *address = color;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Hope that helps.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
