<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>want rom/ram+file system - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > want rom/ram+file system</h2>
<div id="posts">
<div class="post">
    <h4>#135900 - Ant6n - Fri Jul 27, 2007 7:23 am</h4>
    <div class="postbody"><span class="postbody">hey
<br/>
I'd like to have access to a file system, prefably some fat device, but i could work with an appended file system, too; but I also would like to be able to execute from gba rom and i need the flashram.
<br/>
I understand libfat runs only with a multiboot program, but i want all of the ewram as data space for my program.
<br/>
I see there is gbfs out there, which appends files. But is there something similar out there that would allow me to write to the file system by storing all writes in sram?
<br/>
Is there a different way to access a fat device, but still have the rom/ram?
<br/>
thank you</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#136217 - Ant6n - Mon Jul 30, 2007 6:51 am</h4>
    <div class="postbody"><span class="postbody">Ok, simplified question
<br/>
<br/>
How can i get access to some sort of file system (read+some write) plus flash rom and ram, without using up any ewram?
<br/>
libfat only seems to work when compiling as multiboot, which takes ewram.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#136264 - tepples - Mon Jul 30, 2007 8:28 pm</h4>
    <div class="postbody"><span class="postbody">The only way to do this without using <span style="font-style: italic">any</span> EWRAM would be to put the disc_io drivers in IWRAM or VRAM and modify each card's disc_io driver to use the card's registers for switching between file system mode and ROM mode.
<br/>
<br/>
Does your code need to read and write the GBA serial port or to display on a television? There's a way to expand EWRAM by a factor of 16 if you don't need those two features.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#136316 - Ant6n - Tue Jul 31, 2007 5:26 am</h4>
    <div class="postbody"><span class="postbody">thanks for the input
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">The only way to do this without using <span style="font-style: italic">any</span> EWRAM would be to put the disc_io drivers in IWRAM or VRAM and modify each card's disc_io driver to use the card's registers for switching between file system mode and ROM mode.</td> </tr></table><span class="postbody">
<br/>
Do you mean the drivers from libfat? or write my own drivers. I am new to filesystems on gba, so i am not sure where to start.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Does your code need to read and write the GBA serial port or to display on a television? There's a way to expand EWRAM by a factor of 16 if you don't need those two features.</td> </tr></table><span class="postbody">
<br/>
i was planning to use the gbaccelerometer as a sort of mouse. I am still intruiged though, what way are you referring to?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#136318 - Dwedit - Tue Jul 31, 2007 7:36 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ant6n wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Does your code need to read and write the GBA serial port or to display on a television? There's a way to expand EWRAM by a factor of 16 if you don't need those two features.</td> </tr></table><span class="postbody">
<br/>
i was planning to use the gbaccelerometer as a sort of mouse. I am still intruiged though, what way are you referring to?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Sounds to me like a sarcastic way of saying "Get a DS".<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#136325 - tepples - Tue Jul 31, 2007 11:24 am</h4>
    <div class="postbody"><span class="postbody">Dwedit is right. If you target the DS Motion Card or DS Motion Pak instead of the GBAccelerometer, you can use the DS's 4 MiB EWRAM.
<br/>
<br/>
Until then, I'd like to know what you're using all 256 KiB of EWRAM for, and what you're using the file system for. There may be a way to make your program's use of memory more efficient, allowing you to break up your code better.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
