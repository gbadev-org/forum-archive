<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Best way to generate random numbers - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Coding > Best way to generate random numbers</h2>
<div id="posts">
<div class="post">
    <h4>#7184 - Lupin - Wed Jun 11, 2003 6:42 pm</h4>
    <div class="postbody"><span class="postbody">What's the best way to do this on the GBA?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7191 - Touchstone - Wed Jun 11, 2003 9:33 pm</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=873" target="_blank">http://forum.gbadev.org/viewtopic.php?t=873</a>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=66" target="_blank">http://forum.gbadev.org/viewtopic.php?t=66</a>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=1154" target="_blank">http://forum.gbadev.org/viewtopic.php?t=1154</a>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=1272" target="_blank">http://forum.gbadev.org/viewtopic.php?t=1272</a> (additional)
<br/>
<br/>
Perhaps there should be a notice on the front page about the search functions for this forum. Not that I really mind but when a topic has been discussed atleast three times before....<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7192 - Daikath - Wed Jun 11, 2003 9:42 pm</h4>
    <div class="postbody"><span class="postbody">LOL :)<br/>_________________<br/>?There are no stupid questions but there are a LOT of inquisitive idiots.?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7210 - tepples - Thu Jun 12, 2003 10:11 am</h4>
    <div class="postbody"><span class="postbody">Added to FAQ.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50275 - NighTiger - Sun Aug 07, 2005 1:21 pm</h4>
    <div class="postbody"><span class="postbody">I guys,
<br/>
I would like to know if the numbers used are "special" number.
<br/>
Why I did read moretime the number 69069 or 289301 in most of example code?
<br/>
tnx</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50277 - tepples - Sun Aug 07, 2005 1:54 pm</h4>
    <div class="postbody"><span class="postbody">Some numbers used in a linear congruential generator have better statistical properties than others.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50337 - Zapf_Bandit - Mon Aug 08, 2005 8:54 am</h4>
    <div class="postbody"><span class="postbody">uint16 random ( uint16 range = 0 )
<br/>
{	
<br/>
	static uint32 randSeed = 0xB0B15BAD;
<br/>
<br/>
	randSeed *= 0x0019660D;
<br/>
	randSeed += 0x3C6EF35F;
<br/>
<br/>
	return ((randSeed &gt;&gt; 16) % range);
<br/>
}
<br/>
<br/>
This works really well for me... I haven't done any statistical analysis on it but I got the constants from numerical recipies so I trust them. If you can shove a random() call at the end of your main loop this will help with seeding.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50349 - jma - Mon Aug 08, 2005 3:40 pm</h4>
    <div class="postbody"><span class="postbody">While non-scientific, a decent way of testing your random number generator is to fill the screen with pixels. But do it in a very specific way. As you watch the pixels show up, try and check for patterns that emerge (diagonal lines with no pixels in them), or pixels that never get filled. Also, if a pixel is already filled, change its color to something else, which should help you in noticing numbers that are getting chosen more often than others.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">while(1) {
<br/>
  x = my_rand(SCREEN_WIDTH);
<br/>
  y = my_rand(SCREEN_HEIGHT);
<br/>
<br/>
  p = get_pixel(x, y);
<br/>
<br/>
  if (p == BLACK)
<br/>
    p = RED;
<br/>
  else
<br/>
    p = BLUE;
<br/>
<br/>
  put_pixel(x, y, p);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
There are more convoluted methods of testing a random number generator, but for the type of generator we're talking about (in this thread), and for the purpose it is being used (a game), this method of testing is simple and works.
<br/>
<br/>
Jeff M.<br/>_________________<br/><a href="mailto:massung@gmail.com">massung@gmail.com</a>
<br/>
<a href="http://www.retrobyte.org" target="_blank">http://www.retrobyte.org</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50351 - NighTiger - Mon Aug 08, 2005 3:54 pm</h4>
    <div class="postbody"><span class="postbody">this's very good because I would like to make a "tv not syntonized" effect</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
