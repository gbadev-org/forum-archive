<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fast collision detection using bounding boxes? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Fast collision detection using bounding boxes?</h2>
<div id="posts">
<div class="post">
    <h4>#6786 - cappeca - Mon Jun 02, 2003 8:10 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
   I'm doing a fight game on the GBA, and now I have to implement colision detection during combat. I'm going with the MUGEN approach here, so my player sprite will have a "box" for attack and 4 "boxes" of hit, meaning that whenever the vertices of the attack box of one player intersects with any of the hit boxes of the other player, there's a hit.
<br/>
<br/>
So I have the structures like this (pseudocode):
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
struct collision_box [5]
<br/>
{
<br/>
   struct pointA
<br/>
   {
<br/>
       x;
<br/>
       y;
<br/>
   };
<br/>
   struct pointB
<br/>
   {
<br/>
       x;
<br/>
       y;
<br/>
   }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
which are updated according to the player's current state.
<br/>
<br/>
My questions is: what is the fastest way to calculate an intersection between the points of one box against the four others? Do I test all "x" points then "y" points, should I go testing each at a time, or is there any way I could do an OR/AND/XOR comparision? Or is this a very wrong approach in first place?
<br/>
<br/>
Thanks for any help.
<br/>
<br/>
Cesar.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7076 - Eats - Sun Jun 08, 2003 10:57 am</h4>
    <div class="postbody"><span class="postbody">look at solution 3 here:
<br/>
<br/>
<a href="http://astronomy.swin.edu.au/~pbourke/geometry/insidepoly/" target="_blank">http://astronomy.swin.edu.au/~pbourke/geometry/insidepoly/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7078 - Lupin - Sun Jun 08, 2003 5:59 pm</h4>
    <div class="postbody"><span class="postbody">How do you save wich tile is solid and wich is not when working with tile layers?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7166 - cappeca - Wed Jun 11, 2003 5:10 am</h4>
    <div class="postbody"><span class="postbody">!!!
<br/>
Thanks! :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7181 - Lupin - Wed Jun 11, 2003 5:38 pm</h4>
    <div class="postbody"><span class="postbody">if all your boxes have an quadratic shape you could also just use an if check to check if an point or another box is within the box</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7267 - cappeca - Fri Jun 13, 2003 2:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">if all your boxes have an quadratic shape you could also just use an if check to check if an point or another box is within the box</td> </tr></table><span class="postbody">
<br/>
<br/>
That was my idea at first. I wanted to know what is the fastest way to do it. Considering my boxes have ABCD vertices, I just keep record of A(x,y) and C(x,y), up-left and down-right vertices. Then there's a lot of *ifs* going on to check points being inside boxes and causing colision - and I wanted to get rid of them.
<br/>
<br/>
That link posted by Eats gave me a lot to study, so if I come up with a better solution (for the colision problem as a whole), I'll post here. At first glance, it seems better to have a big unique polygon than 4 or 5 separate boxes, but I'll have to test it.
<br/>
<br/>
Cesar</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
