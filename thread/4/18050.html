<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Jumping mechanic in GBA game - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Jumping mechanic in GBA game</h2>
<div id="posts">
<div class="post">
    <h4>#178451 - Dzak - Mon Jul 27, 2015 10:48 pm</h4>
    <div class="postbody"><span class="postbody">This is my first post so Hello.
<br/>
<br/>
I am working on GBA game. To be more specific its a side scrolling game where player have to jump over obstacles. I am stuck on the jump mechanic. When player hit UP arrow the character will make a jump and I don't know how to make the character fall back. I am using TONC tutorial to create my game but I can't find any information about jumping.
<br/>
<br/>
Cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#178453 - gauauu - Tue Jul 28, 2015 3:29 pm</h4>
    <div class="postbody"><span class="postbody">Hi! Welcome to the forums, and to the fun world of GBA homebrew!
<br/>
<br/>
Getting jumping mechanics to work right can be tricky. (That being said, that's a general programming problem, not a GBA-specific problem, so you aren't going to find a lot of details on a GBA-specific tutorial like TONC.)
<br/>
<br/>
There's a number of different solutions, depending on the design of your game.
<br/>
<br/>
One is using a <a class="postlink" href="http://gamedevelopment.tutsplus.com/tutorials/finite-state-machines-theory-and-implementation--gamedev-11867" target="_blank">Finite State Machine</a> to keep track of the player's state. You could have a state for running, a state for the "going up" part of jumping,  (which would include a timer or other mechanism to determine when you wanted the player to start coming back down), then another state for descending. This is fairly simple, but hard to get the physics to feel right.
<br/>
<br/>
A solution that is usually better is to track the player's vertical velocity in a variable. Every frame, adjust the player's Y value by the vertical velocity. When the player jumps, you set the velocity to some fairly high value. Then, each frame, you reduce the velocity by some amount (ie by the amount of gravity you want in the world). Eventually, the velocity will become 0, then will become negative, and the player will start descending. You do need to be careful to track when the player hits the ground, to reset the velocity at that point.  With this method, you definitely will need to understand how to used <a class="postlink" href="http://www-inst.eecs.berkeley.edu/~cs61c/sp06/handout/fixedpt.html" target="_blank">fixed point math</a>, as the velocity will need to be some non-integer amount, and floating point operations on the GBA are REALLY slow.
<br/>
<br/>
Hopefully that's at least a little bit helpful. Feel free to ask more questions if you're stuck, or if you need clarification.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
