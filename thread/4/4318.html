<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Makefile? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Coding > Makefile?</h2>
<div id="posts">
<div class="post">
    <h4>#28498 - wiz - Mon Nov 01, 2004 7:42 pm</h4>
    <div class="postbody"><span class="postbody">Hi guys,
<br/>
<br/>
For some reason my make file seems to be running too fast (?!) 
<br/>
<br/>
Here is the contents of a test,
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
CFLAGS = -c -O2 
<br/>
<br/>
all: myRom.gba
<br/>
<br/>
myRom.gba: myRom.elf
<br/>
   objcopy -O binary myRom.elf myRom.gba
<br/>
<br/>
myRom.elf: main.o
<br/>
   $(CC) -o myRom.elf main.o
<br/>
<br/>
main.o: main.c
<br/>
   $(CC) $(CFLAGS) main.o main.c
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
This results in:
<br/>
<br/>
gcc -c -O2  main.o main.c
<br/>
gcc: main.o: No such file or directory
<br/>
make: *** [main.o] Error 1
<br/>
<br/>
But if I run it again (once main.o exists) - it works?  Its as though there is not enough time for main.o to be created, does that make sense?
<br/>
<br/>
Any idea on this bizzare problem?
<br/>
<br/>
Many Thanks!!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28500 - sajiimori - Mon Nov 01, 2004 7:56 pm</h4>
    <div class="postbody"><span class="postbody">It thinks main.o is an input file.  You need to put -o before it to say it's the output file, like you did with the .elf.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28501 - wiz - Mon Nov 01, 2004 8:01 pm</h4>
    <div class="postbody"><span class="postbody">wow that was a <span style="font-weight: bold">very</span> fast reply, and now I feel really stupid for asking it :(
<br/>
<br/>
works now cheers sajiimori!!
<br/>
<br/>
<br/>
:)
<br/>
<br/>
[edit] PS if you think that was a bad mistake, I called the batch file to run make as "make.bat" ... guess what happened? ;p  How embarrasing maybe I should just give in for the day</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
