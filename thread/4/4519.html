<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>More REG_BLDMOD Fun! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > More REG_BLDMOD Fun!</h2>
<div id="posts">
<div class="post">
    <h4>#30514 - JVCase - Wed Dec 01, 2004 7:46 pm</h4>
    <div class="postbody"><span class="postbody">Sorry, I know this topic seems to have been beaten to death in the forums and elsewhere, but something still isn't clicking for me...  I've got plenty of specs on the topic (e.g. where the registers are, what bits are what, etc.), but no matter what I do, I can't seem to make anything work where this is concerned.
<br/>
I'm in Mode 3, with BG2 on and painted with a fullscreen graphic.  That part works fine.
<br/>
I set REG_BLDMOD for BG2 on Top, BD on Bottom, and Fade to Black mode...  don't know if that's the problem.
<br/>
Then, I loop from 16 to 0, and put the value into REG_COLEY.
<br/>
Nothing happens.
<br/>
All I'm looking to do is fade the Mode 3 BG2 to black...
<br/>
Any suggestions?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30515 - Lupin - Wed Dec 01, 2004 7:52 pm</h4>
    <div class="postbody"><span class="postbody">REG_BLDMOD = (3 &lt;&lt; 6) | BIT2;
<br/>
REG_COLEY=a;
<br/>
a++;
<br/>
<br/>
you can put this into a timer and make "a" global.
<br/>
<br/>
don't put this into your VBLANK without adding some kind of delay because that would go way too fast..<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"><br/><br/>Last edited by Lupin on Wed Dec 01, 2004 7:54 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#30516 - ScottLininger - Wed Dec 01, 2004 7:53 pm</h4>
    <div class="postbody"><span class="postbody">Mode 3 doesn't respond to this register as far as I've found. Only tiled backgrounds can be blended. (Sprites in Mode 3 can be blended, but not the background.)
<br/>
<br/>
Doing a smooth fade to black in mode 3 means darkening every pixel over and over again, or maybe setting up a grid of large sprites that block out the entire background and "fade to solid" to cover everything up.
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30518 - Lupin - Wed Dec 01, 2004 7:59 pm</h4>
    <div class="postbody"><span class="postbody">I forgot, i am not sure if it is needed but before you start to blend add this if it doesn't work at all:
<br/>
<br/>
REG_BG2CNT = 3;
<br/>
<br/>
<br/>
arrr sorry, that will just change the priority of the background layer =)
<br/>
<br/>
I guess the code i posted first should do what you want...<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30523 - JVCase - Wed Dec 01, 2004 8:24 pm</h4>
    <div class="postbody"><span class="postbody">Ok, many thanks - it's working now.
<br/>
Fading definately works in Mode 3 - it does go quick, though :)
<br/>
Why is it, though, that increasing weight fades out, while decreasing fades in?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30526 - Lupin - Wed Dec 01, 2004 8:43 pm</h4>
    <div class="postbody"><span class="postbody">well that's how it is... you increase the weight of the black backplane and not of your background layer<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30528 - JVCase - Wed Dec 01, 2004 8:48 pm</h4>
    <div class="postbody"><span class="postbody">Ah, I see.  Cool, thanks!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
