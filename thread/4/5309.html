<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>fading text - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > fading text</h2>
<div id="posts">
<div class="post">
    <h4>#38528 - Piratero - Mon Mar 28, 2005 10:55 pm</h4>
    <div class="postbody"><span class="postbody">the effect i want to accomplish is at the end of the demo, <a class="postlink" href="http://www.pdroms.de/file_details.php?fn=1762" target="_blank">http://www.pdroms.de/file_details.php?fn=1762</a>
<br/>
<br/>
the code i wrote works but i can't find a way to move it down and up like the demo above has.
<br/>
<br/>
here is the code:
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define START_SCANLINE 1
<br/>
 
<br/>
static void 
<br/>
credits_scroll(void)
<br/>
{
<br/>
    REG_BLDMOD = 0x2241; // Backdrop, 1st: bg0, 2nd: bg1
<br/>
 
<br/>
// bg0 = text
<br/>
// bg1 = background
<br/>
 
<br/>
    switch(REG_VCOUNT)
<br/>
    {
<br/>
   case 1:
<br/>
       REG_COLEV = MAP_COLEV(16,0);
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(2);
<br/>
       break;
<br/>
   case 2:
<br/>
       REG_COLEV = MAP_COLEV(14,2);
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(3);
<br/>
       break;
<br/>
   case 3:
<br/>
       REG_COLEV = MAP_COLEV(12,4);
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(4);
<br/>
       break;
<br/>
   case 4:
<br/>
       REG_COLEV = MAP_COLEV(10,6);
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(5);
<br/>
       break;
<br/>
   case 5:
<br/>
       REG_COLEV = MAP_COLEV(8,8);
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(6);
<br/>
       break;
<br/>
   case 6:
<br/>
       REG_COLEV = MAP_COLEV(8,10);
<br/>
 
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(7);
<br/>
       break;
<br/>
   case 7:
<br/>
       REG_COLEV = MAP_COLEV(8,12);
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(8);
<br/>
       break;
<br/>
   case 8:
<br/>
       REG_COLEV = MAP_COLEV(0,16);
<br/>
 
<br/>
       REG_DISPSTAT &amp;= 0xFF;
<br/>
       REG_DISPSTAT |= IRQ_SCANLINE(1);
<br/>
       break;
<br/>
    }
<br/>
}
<br/>
 
<br/>
 
<br/>
int
<br/>
main(void)
<br/>
{
<br/>
init_display_and_copy_tiles_and_palette();
<br/>
 
<br/>
 
<br/>
    REG_DISPSTAT &amp;= 0xFF;
<br/>
    REG_DISPSTAT |= IRQ_SCANLINE(START_SCANLINE);
<br/>
 
<br/>
    irqtable[IRQ_VCOUNT] = credits_scroll;
<br/>
 
<br/>
 
<br/>
 
<br/>
while(1){
<br/>
 
<br/>
update();
<br/>
}
<br/>
 
<br/>
 
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
any ideas?
<br/>
<br/>
btw, here is a link to the effect: <a class="postlink" href="http://mrkotfw.ribrdb.com/mana.gba" target="_blank">http://mrkotfw.ribrdb.com/mana.gba</a><br/>_________________<br/><a href="http://mrkotfw.ribrdb.com/" target="_blank">http://mrkotfw.ribrdb.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38547 - tepples - Tue Mar 29, 2005 1:11 am</h4>
    <div class="postbody"><span class="postbody">I think it might be easier to use an hblank DMA to set the opacity, unless you're already using all four DMA channels.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38572 - Piratero - Tue Mar 29, 2005 5:37 am</h4>
    <div class="postbody"><span class="postbody">dma0 is not being used, so i guess i can do that :) thanks for the info! i'll see if i can get this to work<br/>_________________<br/><a href="http://mrkotfw.ribrdb.com/" target="_blank">http://mrkotfw.ribrdb.com/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
