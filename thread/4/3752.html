<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Viewing source in insight-gdb. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Coding > Viewing source in insight-gdb.</h2>
<div id="posts">
<div class="post">
    <h4>#23773 - cosmic4z - Wed Jul 21, 2004 11:19 am</h4>
    <div class="postbody"><span class="postbody">I have recently completely changed the makefile on my project to get Apex Sound System working .. and things seem to be going well so far with that.
<br/>
<br/>
However .. I when I use insight-gdb to debug the .elf file .. I cannot view source.
<br/>
<br/>
In the Code display drop-down list box the only options that work are:
<br/>
<br/>
'Assembly' and 'Mixed'.
<br/>
<br/>
(before I made the changes to my makefile, all the options worked fine).
<br/>
<br/>
I think it odd that 'Mixed' mode works and displays lines from the C source files OK .. yet it won't do this in 'Source' mode.
<br/>
<br/>
I am guessing that the problem is with the .elf file .. that it now has some vital debugging info missing (relating to source files?).
<br/>
<br/>
What params should I be passing to GCC (I am using devkitadv) to ensure that I can view source files in insight-gdb?
<br/>
<br/>
Thanks i advance,
<br/>
Jamie.<br/>_________________<br/>Qwak - <a href="http://www.qwak.co.uk" target="_blank">www.qwak.co.uk</a> | Forum - <a href="http://www.qwak.co.uk/forum/" target="_blank">www.qwak.co.uk/forum/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23775 - cosmic4z - Wed Jul 21, 2004 11:49 am</h4>
    <div class="postbody"><span class="postbody">UPDATE:
<br/>
<br/>
Just tried running insight-gdb and opening my .elf file and it works fine (can view source ok).
<br/>
<br/>
It just won't work from my makefile (and connected to visualboy advance sdl).
<br/>
<br/>
Maybe I am not invoking the debug environment correctly.
<br/>
<br/>
This is the portion of my makefile that invokes insight-gdb / vbasdl.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
RUN_VBASDL      =   /devkitadv/run_vbasdl_temp.bat
<br/>
GDB_PARAMS      =   /devkitadv/gdb_params_temp.txt
<br/>
<br/>
debug: $(TARGET_ELF)
<br/>
   @echo START d:/games/gba/vbasdl.exe -1 -Gtcp:55555 $(TARGET_BIN) &gt; $(RUN_VBASDL)
<br/>
   @$(RUN_VBASDL)
<br/>
   @echo &gt; $(GDB_PARAMS)
<br/>
   @echo file $(TARGET_ELF) &gt;&gt; $(GDB_PARAMS)
<br/>
   @echo target remote 127.0.0.1:55555 &gt;&gt; $(GDB_PARAMS)
<br/>
   @echo load $(TARGET_ELF) &gt;&gt; $(GDB_PARAMS)
<br/>
   arm-agb-elf-insight --command=$(GDB_PARAMS) $(TARGET_ELF)
<br/>
   @echo DEBUG COMPLETE.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Any ideas ?<br/>_________________<br/>Qwak - <a href="http://www.qwak.co.uk" target="_blank">www.qwak.co.uk</a> | Forum - <a href="http://www.qwak.co.uk/forum/" target="_blank">www.qwak.co.uk/forum/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23778 - cosmic4z - Wed Jul 21, 2004 12:42 pm</h4>
    <div class="postbody"><span class="postbody">PROBLEM SOLVED:
<br/>
<br/>
Appologies for clogging up the boards.<br/>_________________<br/>Qwak - <a href="http://www.qwak.co.uk" target="_blank">www.qwak.co.uk</a> | Forum - <a href="http://www.qwak.co.uk/forum/" target="_blank">www.qwak.co.uk/forum/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
