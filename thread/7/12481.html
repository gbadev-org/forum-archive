<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Blank int's have random numbers.. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>C/C++ > Blank int's have random numbers..</h2>
<div id="posts">
<div class="post">
    <h4>#118902 - Dox-999 - Sun Feb 18, 2007 2:39 am</h4>
    <div class="postbody"><span class="postbody">Hi guys I am still learning C++ and I am doing arrays so I decied to practise this by making a table where the user could input 1 number (I know it's not very practical but anyway). When I ran the program the number I input worked but all the other spaces in the table have random numbers in there. This is my code: 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;iostream&gt;
<br/>
using namespace std;
<br/>
int main()
<br/>
{
<br/>
    int x;
<br/>
    int y;
<br/>
    int array[2][2];
<br/>
    cout&lt;&lt;"Insert a number into this table:\n\n  0 1 2\n0[][][]\n1[][][]\n2[][][]";
<br/>
    cout&lt;&lt;"\n\nEnter (in this order) the x value the y value and the number you wish to input  (e.g. 1 2 62): " ;
<br/>
    cin&gt;&gt; x &gt;&gt; y &gt;&gt; array[x][y];
<br/>
    cin.ignore();
<br/>
    cout&lt;&lt;"["&lt;&lt; array[0][0] &lt;&lt;"]["&lt;&lt; array[0][1] &lt;&lt;"]["&lt;&lt; array[0][2] &lt;&lt;"]\n["&lt;&lt; array[1][0] &lt;&lt;"]["&lt;&lt; array[1][1] &lt;&lt;"]["&lt;&lt; array[1][2] &lt;&lt;"]\n["&lt;&lt; array[2][0] &lt;&lt;"]["&lt;&lt; array[2][1] &lt;&lt;"]["&lt;&lt; array[2][2] &lt;&lt;"]\n";
<br/>
    cout&lt;&lt;"\nAgain: ";
<br/>
    cin&gt;&gt; x &gt;&gt; y &gt;&gt; array[x][y];
<br/>
    cin.ignore();
<br/>
    cout&lt;&lt;"["&lt;&lt; array[0][0] &lt;&lt;"]["&lt;&lt; array[0][1] &lt;&lt;"]["&lt;&lt; array[0][2] &lt;&lt;"]\n["&lt;&lt; array[1][0] &lt;&lt;"]["&lt;&lt; array[1][1] &lt;&lt;"]["&lt;&lt; array[1][2] &lt;&lt;"]\n["&lt;&lt; array[2][0] &lt;&lt;"]["&lt;&lt; array[2][1] &lt;&lt;"]["&lt;&lt; array[2][2] &lt;&lt;"]\n";
<br/>
    cin.get();
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
is there a way for all the integers I don't use to just stay blank?
<br/>
<br/>
Thanks :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118903 - KayH - Sun Feb 18, 2007 3:53 am</h4>
    <div class="postbody"><span class="postbody">1) if you make your variable (array) global they are initialized with zero (but that is only sometimes usefull)
<br/>
2) you can use a list to initialize while creating (you can use every value you want as start value)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int m_Array[2][2] = {{0,0},{0,0}},</td> </tr></table><span class="postbody">
<br/>
3) you use a method to fill the arry with values you whish
<br/>
4) you use:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">__attribute__((section (".sbss"))) int m_Array[SIZE];</td> </tr></table><span class="postbody">
<br/>
5) you can use memset (see also cearn's website or look at the beginners forum)
<br/>
<br/>
HTH
<br/>
KaY</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118917 - HyperHacker - Sun Feb 18, 2007 5:47 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>KayH wrote:</b></span></td> </tr> <tr> <td class="quote">1) if you make your variable (array) global they are initialized with zero (but that is only sometimes usefull)</td> </tr></table><span class="postbody">
<br/>
I don't think this is reliable. In my experience if you've never assigned a value, you can't predict what the value will be.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118922 - tepples - Sun Feb 18, 2007 6:29 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>KayH wrote:</b></span></td> </tr> <tr> <td class="quote">1) if you make your variable (array) global they are initialized with zero (but that is only sometimes usefull)</td> </tr></table><span class="postbody">
<br/>
I don't think this is reliable.</span></td> </tr></table><span class="postbody">
<br/>
Then you're working with unreliable libraries. ISO C specifies that all global variables that aren't given an explicit value will be given the value 0 before main() is called. In GCC, this happens when the startup code zeroes section ".bss". Perhaps you were working with early startup code that didn't properly clear ".bss", or maybe you were using a startup code that skipped some steps if you used AgbMain() instead of main().<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118932 - Touchstone - Sun Feb 18, 2007 9:58 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dox-999 wrote:</b></span></td> </tr> <tr> <td class="quote">Hi guys I am still learning C++ and I am doing arrays so I decied to practise this by making a table where the user could input 1 number (I know it's not very practical but anyway). When I ran the program the number I input worked but all the other spaces in the table have random numbers in there.</td> </tr></table><span class="postbody">
<br/>
The reason for this is because the array you get is simply pointing to somewhere in memory where other variables used to be and since you are not explicitly setting every entry in your array to 0 they will remain whatevery value is in that memory location.
<br/>
<br/>
I think the easiest way to set every entry in your array is by doing:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int MyArray[2][2] = {0};</td> </tr></table><span class="postbody">
<br/>
<br/>
On the other hand, it's not necessarily a problem that the array isn't initialized. If you allocate an array and every entry is a random value to begin with, but your code iterate through every entry and set it to a sensible value, then it doesn't matter that the array had random numbers to begin with. I guess this is an optimization by the compiler, because it does take time to clear memory and you don't want the compiler to do things you haven't asked it to do.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118939 - Cearn - Sun Feb 18, 2007 12:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dox-999 wrote:</b></span></td> </tr> <tr> <td class="quote">Hi guys I am still learning C++ and I am doing arrays so I decied to practise this by making a table where the user could input 1 number (I know it's not very practical but anyway). When I ran the program the number I input worked but all the other spaces in the table have random numbers in there. This is my code: 
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;iostream&gt;
<br/>
using namespace std;
<br/>
int main()
<br/>
{
<br/>
    int x;
<br/>
    int y;
<br/>
    int array[2][2];
<br/>
    cout&lt;&lt;"Insert a number into this table:\n\n  0 1 2\n0[][][]\n1[][][]\n2[][][]";
<br/>
    cout&lt;&lt;"\n\nEnter (in this order) the x value the y value and the number you wish to input  (e.g. 1 2 62): " ;
<br/>
    cin&gt;&gt; x &gt;&gt; y &gt;&gt; array[x][y];
<br/>
    cin.ignore();
<br/>
    cout 
<br/>
        &lt;&lt;"["&lt;&lt; array[0][0] &lt;&lt;"]["&lt;&lt; array[0][1] &lt;&lt;"]["&lt;&lt; array[0][2]
<br/>
        &lt;&lt;"]\n["&lt;&lt; array[1][0] &lt;&lt;"]["&lt;&lt; array[1][1] &lt;&lt;"]["&lt;&lt; array[1][2]
<br/>
         &lt;&lt;"]\n["&lt;&lt; array[2][0] &lt;&lt;"]["&lt;&lt; array[2][1] &lt;&lt;"]["&lt;&lt; array[2][2]
<br/>
         &lt;&lt;"]\n";
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
is there a way for all the integers I don't use to just stay blank?
<br/>
<br/>
Thanks :)</span></td> </tr></table><span class="postbody">
<br/>
<br/>
If you want to get technical about it, it's not that the values are random but that C doesn't initialize them itself at creation, so whatever value was in that memory previously will be used. Though that probably seems random enough :P
<br/>
<br/>
There is another problem with the code, namely that array[2][2] is a 2x2 matrix, but you're using it as a 3x3 matrix. When defining an array, you indicate the size, not the number of the last valid index.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int array[8];    // 8 elements, using indices 0, 1, 2, 3, 4, 5, 6, 7
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118942 - KayH - Sun Feb 18, 2007 12:58 pm</h4>
    <div class="postbody"><span class="postbody">an array declared as :
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">typ array[SIZE];</td> </tr></table><span class="postbody">
<br/>
contains the elements array[0] ... array[SIZE-1]
<br/>
<br/>
In contras to Touchstone I would say:
<br/>
From my experience a not correctly initialized variable (in your case an array) is not only a little optical mistake, it is in fact a seed for a lot of serious issues and unforeseable behaviour of your application. Of course for a _very_ small testapp this isn't a big issue, but sometimes your projects get larger. Then you have learned the wrong way (it's not needed to initialize a var) and your project is near the end.
<br/>
So I suggest you strongly: please learn it right and initialize your vars!
<br/>
<br/>
Not to mention that your debug capabilities on GBA are not so good as e.g. on a PC.
<br/>
<br/>
Often you use a special value (e.g. 0 or -1) to indicate an invalid content or the end of valid data etc. Therefore it is good and save programming style to initialize your vars.
<br/>
Also this is mostly done on startup. Rightly done, the drawbacks are small in contrast to the benefit: reliable behaviour of your next cool game! ;-)
<br/>
<br/>
There could be some special cases where you can do it other way, but it seems you should learn the normal way.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118953 - Touchstone - Sun Feb 18, 2007 4:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>KayH wrote:</b></span></td> </tr> <tr> <td class="quote">In contras to Touchstone I would say:
<br/>
From my experience a not correctly initialized variable (in your case an array) is not only a little optical mistake, it is in fact a seed for a lot of serious issues and unforeseable behaviour of your application.</td> </tr></table><span class="postbody">
<br/>
I didn't mean that you should read from uninitialized variables. My point was that the compiler should not initialize variables unless you tell it to. Sorry for the confusion.
<br/>
<br/>
There's no point in the compiler adding code to set a variable to 0 and then you go and add your code to set that variable to 14, or whatever.
<br/>
<br/>
So, when you don't initialize a variable you need to know that it can be any random value, and if you're fine with that then it's cool, but if you need the variable to have a default value, you have to set that value yourself including when the default value should be 0. If you have an array where all elements have to be zero, it's easily done, like so:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int MyArray[2][2] = {0};</td> </tr></table><span class="postbody">
<br/>
<br/>
Then we have the whole thing about how some crt0 code clear the BSS segment and how that still doesn't help with variables on the stack..<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118967 - KayH - Sun Feb 18, 2007 6:26 pm</h4>
    <div class="postbody"><span class="postbody">Sorry Touchstone, I don't want to offend you! It seems I missed the point in your entry :-(
<br/>
But after reading the second I do agree with you! :-)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
