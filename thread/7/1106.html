<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to deal with strings - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > How to deal with strings</h2>
<div id="posts">
<div class="post">
    <h4>#5447 - Psyk - Mon Apr 28, 2003 8:16 am</h4>
    <div class="postbody"><span class="postbody">So far i have a text background that is displaying text. I can make it display a single character at a time but how do i split a string up into individual characters?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5452 - niltsair - Mon Apr 28, 2003 1:56 pm</h4>
    <div class="postbody"><span class="postbody">It depends on how many character you want to display.
<br/>
<br/>
Say you wanted to display 4 lines of text, then you could use 8 64x64sprites. You align them beside each other, and create a font fo 8pixels. You send your string to a function that put each pixels data in tile memory used by those 4 sprites. You would have to copy in the tiles data the pixels value of:
<br/>
1st : char 0,1,2,3 of line 0
<br/>
2d  : char 0,1,2,3 of line 1 
<br/>
3rd : char 0,1,2,3 of line 2
<br/>
4th : char 0,1,2,3 of line 3
<br/>
5th : char 4,5,6,7 of line 0
<br/>
6th : char 4,5,6,7 of line 1
<br/>
....
<br/>
etc...
<br/>
<br/>
This method would be using the 4 sprites objetcs and ~256 tiles(the right edge is clipped since it'S over 240pixels). Would allow you to display 240 characters.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5457 - Psyk - Mon Apr 28, 2003 7:11 pm</h4>
    <div class="postbody"><span class="postbody">Well I already have a way of displaying text but the problem is I have to do it character by character. I want to make a function that takes a string, splits it into the seperate characters and then runs my display character function. It's more of a C++ problem rather than GBA programming specifically.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5460 - niltsair - Mon Apr 28, 2003 8:12 pm</h4>
    <div class="postbody"><span class="postbody">Then i don't see the problem. 
<br/>
<br/>
A string is just an array of characters, just acess each one, one by one untill you find the value 0. (or untill the specified string lenght)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5477 - Sweex - Tue Apr 29, 2003 12:54 pm</h4>
    <div class="postbody"><span class="postbody">In case you don't get it... 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
const char* myText = "Hello woild!";
<br/>
<br/>
for (int i=0;i&lt;strlen(myText);i++)
<br/>
{
<br/>
  // Replace the printf with your function to display a character
<br/>
  printf(
<br/>
    "%c",
<br/>
    myText[i]     // THIS is the most important line!
<br/>
  );
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5480 - Psyk - Tue Apr 29, 2003 3:29 pm</h4>
    <div class="postbody"><span class="postbody">thats great. thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5481 - niltsair - Tue Apr 29, 2003 4:10 pm</h4>
    <div class="postbody"><span class="postbody">A detail about the last example.
<br/>
<br/>
The usuall way to represent a string is to use an array of char and the value 0 signify that it's the end of the string. "strlen() " basicly does that, loop untill it fidn the value 0, and return the position of it. 
<br/>
<br/>
Now, makes sure the strings you are using have this 0 value, else your string will be equal to everything in memory untill it finds a 0. 
<br/>
<br/>
When the compiler encounter a thing like this : 
<br/>
char text[] = "Some random Text";
<br/>
<br/>
it will know to insert a 0, so no needs to worry about it. In fact, the only place to worry about it, is mostly when you import data from some external sources, like say your Pc. If you encounter weird text string, then it'S most probably a forgotten 0.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5489 - tepples - Tue Apr 29, 2003 6:43 pm</h4>
    <div class="postbody"><span class="postbody">Here's a faster string output loop that implements what niltsair was talking about
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">const char* myText = "hello";
<br/>
<br/>
for (const char *cur = myText; *cur != 0; cur++)
<br/>
{
<br/>
  /* replace putchar() with your character output method
<br/>
     unless you're using devkitadv R5 and have hooked stdout */
<br/>
  putchar(*cur);
<br/>
}</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
