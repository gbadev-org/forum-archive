<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Used Unused Parameter - No Warning - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Used Unused Parameter - No Warning</h2>
<div id="posts">
<div class="post">
    <h4>#122820 - sgeos - Thu Mar 22, 2007 5:22 pm</h4>
    <div class="postbody"><span class="postbody">If unused parameters are used, no warnings are issued.  There are no adverse effects, as far as I can see.  Does anybody know if adverse effects could ever occur?  (On a different compiler with a different definition of UNUSED, perhaps?)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;stdio.h&gt;
<br/>
#define UNUSED __attribute__((unused))
<br/>
<br/>
unsigned int f(UNUSED unsigned int pU, UNUSED signed int pS)
<br/>
{
<br/>
        return pU + pS;
<br/>
}
<br/>
<br/>
int main(void)
<br/>
{
<br/>
        unsigned int    a =  100;
<br/>
        signed int      b = -1;
<br/>
        printf("&gt; %d\n", f(a, b));
<br/>
        return f(a, b);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">USER@Stardust ~/c/test
<br/>
$ gcc -O0 -Wall -Wextra -ansi -pedantic -Werror -Wconversion -o test test.c
<br/>
<br/>
USER@Stardust ~/c/test
<br/>
$ ./test.exe
<br/>
&gt; 99
<br/>
<br/>
USER@Stardust ~/c/test
<br/>
$ gcc -O3 -Wall -Wextra -ansi -pedantic -Werror -Wconversion -o test test.c
<br/>
<br/>
USER@Stardust ~/c/test
<br/>
$ ./test.exe
<br/>
&gt; 99
<br/>
<br/>
USER@Stardust ~/c/test
<br/>
$</td> </tr></table><span class="postbody">
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122826 - kusma - Thu Mar 22, 2007 6:14 pm</h4>
    <div class="postbody"><span class="postbody">I'm pretty sure that __attribute__((unused)) only silence compiler warnings. 
<br/>
Another way to silence them, btw is like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int test(int a, int b)
<br/>
{
<br/>
   a = a;
<br/>
   b = b;
<br/>
   return 1995;
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122859 - keldon - Fri Mar 23, 2007 12:03 am</h4>
    <div class="postbody"><span class="postbody">A future compiler may identify that as an unused parameter as it is never set to anything that is not itself.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122888 - sgeos - Fri Mar 23, 2007 6:38 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">A future compiler may identify that as an unused parameter as it is never set to anything that is not itself.</td> </tr></table><span class="postbody">
<br/>
If an UNUSED macro is defined and the code is ported, the macro may have to be redefined.  In theory I could see problems with a different compiler.  Then again, that compiler might issue a warning.  To the extent that anything can be called with a function pointer the compiler can't do much.  I just wish it issue a "pay more attention" warning.  =)
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122903 - kusma - Fri Mar 23, 2007 12:19 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">A future compiler may identify that as an unused parameter as it is never set to anything that is not itself.</td> </tr></table><span class="postbody">
<br/>
Why would it? The compiler is perfectly capable of seeing what parameters are used and what are not in the first place - this is just a way of shutting the compiler up about warnings on unused parameters. Yes, it would be best if the compiler issued a warning if the unused parameter was actually used again, but if someone ever wrote a compiler that actually _broke_ on such cases, I wouldn't trust it for anything at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122924 - keldon - Fri Mar 23, 2007 3:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">public class UnusedVariables {
<br/>
   public static void main ( String argv[] ) {
<br/>
      int a;
<br/>
      a = a;
<br/>
   }
<br/>
   
<br/>
   public static int foo1(int a ){
<br/>
      a=a;
<br/>
      return a;
<br/>
   }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
Try to compile that code in Java and see what errors it gives.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122925 - kusma - Fri Mar 23, 2007 4:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">Try to compile that code in Java and see what errors it gives.</td> </tr></table><span class="postbody">
<br/>
I think I misread your initial post, sorry about that ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122929 - poslundc - Fri Mar 23, 2007 5:49 pm</h4>
    <div class="postbody"><span class="postbody">Part of the problem with the whole unused-parameter-warning thing is that it loses its purpose one you introduce the concept of polymorphism and virtual functions.
<br/>
<br/>
When you have a function that exists purely on its own? Yeah, it doesn't make sense for it (at least in final implementation) to take a parameter it doesn't use. But in the OOP paradigm, where there's a compiler-enhanced separation of interface and implementation, it makes the warning a whole lot less meaningful.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122934 - sgeos - Fri Mar 23, 2007 7:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">where there's a compiler-enhanced separation of interface and implementation, it makes the warning a whole lot less meaningful.</td> </tr></table><span class="postbody">
<br/>
This is my function pointer argument.  "This function doesn't use the first parameter.  It is an unary operation."
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
