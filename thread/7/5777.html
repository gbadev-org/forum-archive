<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Variables using VisualHAM (Need Help) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Variables using VisualHAM (Need Help)</h2>
<div id="posts">
<div class="post">
    <h4>#43261 - Symphony - Sat May 21, 2005 4:53 am</h4>
    <div class="postbody"><span class="postbody">I have trouble with a variable in VisualHAM (using C).
<br/>
<br/>
Here is my code. Read the comments I made for further details
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/*
<br/>
 * Created by using HAM 2.8
<br/>
 * Author: Symphony
<br/>
*/
<br/>
<br/>
#include "mygba.h"
<br/>
<br/>
<br/>
//I expect a size about 40 KByte, depending on Code.
<br/>
MULTIBOOT
<br/>
<br/>
//The Variable has the Name: SelectState
<br/>
//This one is messed up, it won't work.
<br/>
//plz help me with this.
<br/>
u32 SelectState=0;
<br/>
<br/>
//Not used yet
<br/>
//void Pad_read(void);
<br/>
<br/>
//This is my
<br/>
void SelectMenu(void);
<br/>
/************************************************************
<br/>
 * Program entry point
<br/>
 *************************************************************/
<br/>
int main(void)
<br/>
{
<br/>
<br/>
   // Initialize HAMlib
<br/>
   // Behaviour of HAMlib is undefined if you comment this out.
<br/>
   ham_Init();
<br/>
   // Init the Text display system on the bg of your choice
<br/>
   // This function must be called if you want to use HAMlibs text display system.
<br/>
   // After calling this, you can use ham_DrawText and ham_SetTextCol.
<br/>
   ham_InitText(0);
<br/>
<br/>
   //Zeile 1 (Line 1) (unused line)
<br/>
   ham_DrawText(2,2,"Type    :");
<br/>
   ham_DrawText(2,3,"Name    :");
<br/>
   ham_DrawText(2,4,"Level   :");
<br/>
   ham_DrawText(2,5,"Gender  :");
<br/>
   //Zeile 6 (Line 6)
<br/>
   ham_DrawText(2,7,"Attack 1:");
<br/>
   ham_DrawText(2,8,"Attack 2:");
<br/>
   ham_DrawText(2,9,"Attack 3:");
<br/>
   ham_DrawText(2,10,"Attack 4:");
<br/>
   //Zeile 11 (Line 11)
<br/>
   ham_DrawText(2,12,"Item    :");
<br/>
   //Zeile 13 (Line 13)
<br/>
   ham_DrawText(2,13,"Status  :");
<br/>
   //Zeile 15 (Line 15)
<br/>
   ham_DrawText(2,16,"Trade");
<br/>
<br/>
   //Debug purposal, used as Placeholder
<br/>
   //for Design
<br/>
   ham_DrawText(12,2,"XXXXXXXXX");
<br/>
<br/>
<br/>
   while(1)
<br/>
   {
<br/>
    //If D-Down is pressed, then
<br/>
    if(F_CTRLINPUT_DOWN_PRESSED)
<br/>
   {
<br/>
      //Draw Text on the Statusline
<br/>
      ham_DrawText(12,13,"Down");
<br/>
      //increase the Variable by 1
<br/>
      //If this is wrong, plz fix it for me
<br/>
      SelectState++;
<br/>
      //Call function
<br/>
      SelectMenu();
<br/>
    }
<br/>
    //Same as above only in opposite direction
<br/>
      if(F_CTRLINPUT_UP_PRESSED)
<br/>
   {
<br/>
      ham_DrawText(12,13,"Up");
<br/>
      //Is resetting, but there is more then 2
<br/>
      //so it should decreasing instead.
<br/>
      //Can you fix that for me?
<br/>
      SelectState=0;
<br/>
      SelectMenu();
<br/>
    }
<br/>
        //This is used as Embedded Debug
<br/>
        //If the A Button is pressed, then..
<br/>
          if(F_CTRLINPUT_A_PRESSED)
<br/>
   {
<br/>
       //Print the Text including the Value from the Variable
<br/>
      //in the Statusline. (Not working, plz fix it for meee -.-)
<br/>
      ham_DrawText(12,13," " &amp;SelectState " ");
<br/>
      //Refreshing
<br/>
      SelectMenu();
<br/>
    }
<br/>
//A rest of code - USED LATER, NOT USED YET
<br/>
//    if (SelectState == 2);
<br/>
//    {
<br/>
//    ham_DrawText(23,2,"  ");
<br/>
//    ham_DrawText(23,3,"  ");
<br/>
//    ham_DrawText(23,4,"(-");
<br/>
//    }
<br/>
//    Pad_read();
<br/>
<br/>
}
<br/>
}
<br/>
//THis places the cursor depending on the Value from da Variable
<br/>
void SelectMenu(void)
<br/>
{
<br/>
    //If -Variable Value- equals 0 Then:
<br/>
    if (SelectState == 0);
<br/>
    {
<br/>
    //Draw some text which is my Cursor
<br/>
    //The Cursor is the  (-  .
<br/>
    ham_DrawText(23,2,"(-");
<br/>
    ham_DrawText(23,3,"  ");
<br/>
    ham_DrawText(23,4,"  ");
<br/>
    }
<br/>
   //If -Variable Value- equals 1 Then:
<br/>
    if (SelectState == 1);
<br/>
    {
<br/>
    ham_DrawText(23,2,"  ");
<br/>
    ham_DrawText(23,3,"(-");
<br/>
    ham_DrawText(23,4,"  ");
<br/>
    }
<br/>
}
<br/>
//This was a extra function for reading the Controls
<br/>
//and computing the Variable - not used now.
<br/>
//void Pad_read(void)
<br/>
//{
<br/>
<br/>
//}
<br/>
<br/>
<br/>
/* END OF FILE */
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Everything is fine, except this one little Thing...<br/>_________________<br/>Learning VisualHAM</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43320 - Symphony - Sat May 21, 2005 10:55 pm</h4>
    <div class="postbody"><span class="postbody">Nevermind I just figured it out...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
ham_DrawText(12,13,"%2x",SelectState); 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
It works.<br/>_________________<br/>Learning VisualHAM</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
