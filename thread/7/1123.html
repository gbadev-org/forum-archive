<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sound problems ! N00b question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Sound problems ! N00b question</h2>
<div id="posts">
<div class="post">
    <h4>#5538 - Quedex - Wed Apr 30, 2003 11:23 pm</h4>
    <div class="postbody"><span class="postbody">Hi people 
<br/>
<br/>
I just want to play a sound when the fire button is pressed i can get it to work with the tutorial off of......
<br/>
<br/>
<a href="http://www.gamedev.net/reference/articles/article1823.asp" target="_blank">http://www.gamedev.net/reference/articles/article1823.asp</a>
<br/>
<br/>
but of course this uses vblanks as a timer not very good for a game anyone got any source which will not interupt my game whilst playing i have tried but im pulling my hair out now any info is much appreciated 
<br/>
<br/>
also whats the best proggy for converting wav files to c/c++ code ?
<br/>
<br/>
thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5540 - darkcloud - Thu May 01, 2003 12:34 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quedex wrote:</b></span></td> </tr> <tr> <td class="quote">but of course this uses vblanks as a timer not very good for a game 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Um.... why would vblanks as a timer not be good for a game?
<br/>
<br/>
If you don't want to use vblanks you can use another timer to stop the sound at a certain point.  Just wait until the timer gets to the length of the sound and then stop the sound.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5541 - Quedex - Thu May 01, 2003 12:46 am</h4>
    <div class="postbody"><span class="postbody">Well in that tutorial the game stops while the sample is playing thats what i meant about not being good for a game, it stops for like 3 seconds then carries on till you press the button again sorry for not being clear about that "8)
<br/>
<br/>
i've just been messing with the sound for a day or two now and it's driving me nuts i know it's not difficult but to a n00b it's like chewing through steel 
<br/>
<br/>
Me "8)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5542 - darkcloud - Thu May 01, 2003 12:59 am</h4>
    <div class="postbody"><span class="postbody">Ohhhh yes, I think I know what you're talking about.  I remember when I first did this tutorial (or a variation on it or something) and tried to figure out how to get the game not to stop.  
<br/>
<br/>
It's not because you are using vblanks as a timer.  Are you looping to wait for the sample to stop?  If you're doing something like
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
while (vblank &lt; sample_Length)
<br/>
{
<br/>
     //do something
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
That will make everything stop until the while() loop ends.
<br/>
<br/>
If this is what you are doing, you should not put in the loop and instead, during your main game loop, just check the value of your timer every frame until it gets to the end of the sample, then stop the sample.
<br/>
<br/>
I think this is what I had to do when I was trying to get sound to work.
<br/>
<br/>
If you're still having problems, I could send you the sound functions that work for me.
<br/>
<br/>
The GBA sound system is tricky, especially when there are not so many resources devoted to it.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5543 - Quedex - Thu May 01, 2003 2:46 am</h4>
    <div class="postbody"><span class="postbody">Yup you got it ! 
<br/>
<br/>
if you could send me yours that would be great ! 
<br/>
<br/>
maybe i'll have hair left by the end of the week lol
<br/>
<br/>
thanks again 
<br/>
<br/>
Me "8)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#5544 - darkcloud - Thu May 01, 2003 2:52 am</h4>
    <div class="postbody"><span class="postbody">Alright, glad to have helped.  I'll send you my files so you can check them out.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
