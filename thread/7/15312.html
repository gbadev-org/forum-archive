<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>SOLVED: fprintf and \n - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > SOLVED: fprintf and \n</h2>
<div id="posts">
<div class="post">
    <h4>#153616 - Rajveer - Wed Apr 02, 2008 10:02 pm</h4>
    <div class="postbody"><span class="postbody">How do I create a new line if I'm writing to a file with fprintf? \n doesn't work and I can't find anything on Google (the file gets written but without the new lines).
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">FILE *file_Pointer;
<br/>
file_Pointer = fopen(/game_Directory/settings.ini,"w");
<br/>
<br/>
fprintf(file_Pointer,"[KEYS]\n");
<br/>
fprintf(file_Pointer,"\n");
<br/>
fprintf(file_Pointer,"KEY_A %d\n", playerKeys.A);
<br/>
fprintf(file_Pointer,"KEY_B %d\n", playerKeys.B);
<br/>
...
<br/>
<br/>
fclose(file_Pointer);</td> </tr></table><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by Rajveer on Wed Apr 02, 2008 10:50 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#153618 - Rajveer - Wed Apr 02, 2008 10:49 pm</h4>
    <div class="postbody"><span class="postbody">Scratch that, \n doesn't work with notepad but does with wordpad. Incase anyone else ever has this "problem", I used \r\n instead of \n, \r is the ASCII Line Feed character. Most software that handles plain ASCII text files can handle combinations of \r and \n.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162800 - mml - Sat Sep 13, 2008 9:53 am</h4>
    <div class="postbody"><span class="postbody">\r\n is a windows-style line ending; \n is unix and mac os x style; \r is mac os 9 and earlier style.
<br/>
<br/>
The C library for each system is smart enough to treat \n alone as the appropriate line ending for that system, meaning for code portability you generally stick with just \n alone and let the C library figure it out.  For files you're transferring between a couple of systems (say, between windows and your DS) it can get a little hairier as you've discovered.
<br/>
<br/>
Notepad only handles windows-style line endings; wordpad is a bit smarter and handles the others too.
<br/>
<br/>
Edit: just saw the date on this thread. Doh!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
