<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>From BGR To RGB - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > From BGR To RGB</h2>
<div id="posts">
<div class="post">
    <h4>#49211 - NighTiger - Wed Jul 27, 2005 9:21 am</h4>
    <div class="postbody"><span class="postbody">Hi guys,
<br/>
I did read that the gba saves the colors information in BGR format, in
<br/>
2 bytes where every variable takes 5 bit and the most important bit
<br/>
is not checked.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
X B B B     B B G G     G G G R     R R R R
<br/>
F E D C     B A 9 8     7 6 5 4     3 2 1 0
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
So if We want a RGB format We need to apply the following code to the
<br/>
variables
<br/>
<br/>
(r | (g&lt;&lt;5) | (b&lt;&lt;10))
<br/>
<br/>
I know how the left-shift works  and how the logical-OR works , but I
<br/>
can't understand how the compilator works  to make the correct format.
<br/>
<br/>
Can anybody help me to understand that?
<br/>
tnx</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49212 - NoMis - Wed Jul 27, 2005 9:40 am</h4>
    <div class="postbody"><span class="postbody">If you already know how shifting and bitwise OR works then I don't understand your question. 
<br/>
It's basically just a 16 bit integer.
<br/>
<br/>
NoMis<br/>_________________<br/><span style="font-style: italic"><a class="postlink" href="http://www.gamedev.at/" target="_blank">www.gamedev.at</a></span> - The austrian gamedev site
<br/>
<span style="font-style: italic"><a class="postlink" href="http://hde.gamedev.at/" target="_blank">hde.gamedev.at</a></span> - The Handheld Dev Env plugins for Eclipse</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49214 - NighTiger - Wed Jul 27, 2005 9:45 am</h4>
    <div class="postbody"><span class="postbody">I don't understand the sequence.
<br/>
<br/>
for example
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
F E D C    B A 9 8    7 6 5 4    3 2 1 0
<br/>
X 0 1 0     1 0 1 1    1 1 0 1    0 1 1 0
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
before We shift the 5 bit of the blue
<br/>
<br/>
So
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
E D C    B A
<br/>
0 1 0     1 0
<br/>
<br/>
4    3 2 1 0
<br/>
1    0 1 1 0
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
right?
<br/>
And with the logical OR?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49216 - NoMis - Wed Jul 27, 2005 10:44 am</h4>
    <div class="postbody"><span class="postbody">Lets take the color white (31,31,31) as an example of what happens.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
these are the color values in their bit format:
<br/>
<br/>
r  0000 0000 0001 1111
<br/>
g  0000 0000 0001 1111
<br/>
b  0000 0000 0001 1111
<br/>
<br/>
first of all the shifts (g&lt;&lt;5)  and  (b&lt;&lt;10) are exected wich result in the following values that will be combined with the bitwise or.
<br/>
<br/>
r  0000 0000 0001 1111
<br/>
g  0000 0011 1110 0000  -&gt; Green shifted by 5 bits
<br/>
b  0111 1100 0000 0000  -&gt; Blue shifted by 10 bits
<br/>
---------------------------------
<br/>
   0111 1111 1111 1111
<br/>
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><span style="font-style: italic"><a class="postlink" href="http://www.gamedev.at/" target="_blank">www.gamedev.at</a></span> - The austrian gamedev site
<br/>
<span style="font-style: italic"><a class="postlink" href="http://hde.gamedev.at/" target="_blank">hde.gamedev.at</a></span> - The Handheld Dev Env plugins for Eclipse</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49217 - NighTiger - Wed Jul 27, 2005 10:46 am</h4>
    <div class="postbody"><span class="postbody">Thank you so much</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
