<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fixed-Point Powers and Exponents - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Fixed-Point Powers and Exponents</h2>
<div id="posts">
<div class="post">
    <h4>#58889 - strager - Wed Oct 26, 2005 11:57 pm</h4>
    <div class="postbody"><span class="postbody">Does anybody know how to handle powers/exponents with fixed numbers?
<br/>
Here's the actual situation: I have two fixed numbers, both 16.16, and I need to raise one to the other; as in such:
<br/>
a ^ (1 / 2.4)
<br/>
a is some random number calculated by the parameters to the function and other factors.  I need to know how to calculate that in C... because using floats is slow 'n' stuffs...
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58898 - tepples - Thu Oct 27, 2005 12:38 am</h4>
    <div class="postbody"><span class="postbody">What will you use this value for? If it's for gamma correction, then use a lookup table.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58901 - strager - Thu Oct 27, 2005 1:12 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">What will you use this value for? If it's for gamma correction, then use a lookup table.</td> </tr></table><span class="postbody">
<br/>
Basically, but how am I going to use a lookup table for all possible 4 billion values?  Maybe I could leave only the 8 most accurate bits and do a LUT on that?  Or what would you recommend I do?
<br/>
<br/>
Thanks...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58903 - tepples - Thu Oct 27, 2005 1:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote">but how am I going to use a lookup table for all possible 4 billion values?  Maybe I could leave only the 8 most accurate bits and do a LUT on that?</td> </tr></table><span class="postbody">
<br/>
Remember that all you need is a 5-bit output per channel. Use enough of a lookup table that gives you accuracy down to 5 bits.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58915 - SevenString - Thu Oct 27, 2005 5:44 am</h4>
    <div class="postbody"><span class="postbody">As a shortcut, sometimes linear interpolation between lookup table values can provide reasonable results, even if the lookup table is non-linear.<br/>_________________<br/><span style="font-style: italic">"Artificial Intelligence is no match for natural stupidity."</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58965 - legalize - Thu Oct 27, 2005 5:50 pm</h4>
    <div class="postbody"><span class="postbody">Have you tried looking at the sources to a free math library, like <a class="postlink" href="http://cvs.sourceforge.net/viewcvs.py/oslib/oslib/libm/msun/src/" target="_blank">oslib on sourceforge</a>?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
