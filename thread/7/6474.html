<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How would you go about creating a Health Bar? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > How would you go about creating a Health Bar?</h2>
<div id="posts">
<div class="post">
    <h4>#49778 - lewisrevill - Tue Aug 02, 2005 12:56 pm</h4>
    <div class="postbody"><span class="postbody">Hey I'm working in Mode 4 creating an original game.  Im just wondering what would be the best way of creating a health bar.  A sprite is not option due to space.  Would I be right thinking, using a certain background and just drawing to that?  Please help.  Thank you</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49784 - strager - Tue Aug 02, 2005 1:56 pm</h4>
    <div class="postbody"><span class="postbody">Well, if you could loose a few scan lines, why not switch to mode 0 (per say) durring VBlank time then set up an HBlank interrupt to switch back to mode 4?  This would be the easiest way (other than sprites) to render a health bar (that I could think of...).  Give it a try and see what happends.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49793 - poslundc - Tue Aug 02, 2005 4:01 pm</h4>
    <div class="postbody"><span class="postbody">Mode 4 consumes all of your BG VRAM so it would be very difficult to combine it with another mode unless you're prepared to also swap a lot of data (both your map and char data) in and out of the undisplayed buffer-half during VBlank.
<br/>
<br/>
If you can't afford a sprite, then pretty much all you can do is manually draw your health bar in, using your own sprite-drawing routines.
<br/>
<br/>
More reasons to use the map modes instead...
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50036 - justinGBA - Thu Aug 04, 2005 6:44 pm</h4>
    <div class="postbody"><span class="postbody">Well my idea for such screen GUI things, was to use up a spare background.  make a map that is 256x256 but only use the portion that is the size of the screen.  make tiles for letters of the alphabet, as well as any gui drawing stuff you may need.  Then draw the letters tile by tile, along with your health bar in the locations of the map you need.  Once you have a good set of functions for arranging tile in the map properly, you could in theory change each tile at runtime... makeing a health bar.  thats what i would do, but i can't even get my sprite class to work, so maybe i'm wrong..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50038 - poslundc - Thu Aug 04, 2005 6:49 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>justinGBA wrote:</b></span></td> </tr> <tr> <td class="quote">Well my idea for such screen GUI things, was to use up a spare background.</td> </tr></table><span class="postbody">
<br/>
<br/>
There are no spare backgrounds in Mode 4.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50041 - justinGBA - Thu Aug 04, 2005 7:16 pm</h4>
    <div class="postbody"><span class="postbody">Ahh yes. My bad i saw a mode 0 in there and thought everyone was talking about mode 0.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#52837 - cooky - Sat Sep 03, 2005 8:09 pm</h4>
    <div class="postbody"><span class="postbody">Simply stretch a 8x8 sprite the alotted distance. Then when you health reduces reduce the x axis stretch. (watch out though as stretching on the gba as with most transforms is not uniform (it streches in powers of twos i think) so you will need to flattern out the streching with some counter balancing mathmatics)
<br/>
<br/>
If you wanted you could even change its colour two from green to red maybe.<br/>_________________<br/>Rolling a six is unlikely but how do you know if you have never picked up the dice.
<br/>
<a href="http://www.ceorron.co.uk" target="_blank">www.ceorron.co.uk</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#52838 - tepples - Sat Sep 03, 2005 8:21 pm</h4>
    <div class="postbody"><span class="postbody">Sprite scaling on the GBA isn't limited to factors of powers of 2, but it is limited to stretch factors of 256/x where x &gt;= 128, meaning your 8x8 sprite can't be stretched more than by a factor of 2.
<br/>
<br/>
The right way to do a health bar in a bitmap mode, whether on the PC or on the GBA, is to draw a colored rectangle for the part that is there and a dark rectangle for the part that isn't there. Do you know how to draw a rectangle in mode 4?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
