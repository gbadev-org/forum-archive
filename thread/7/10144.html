<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>HAM Text Help - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > HAM Text Help</h2>
<div id="posts">
<div class="post">
    <h4>#90335 - Split - Thu Jun 29, 2006 7:30 pm</h4>
    <div class="postbody"><span class="postbody">I am using VHAM. I know this problem is very easy for most of you but I just started doing this. My problem is this. In my program I have text didplayed then when you push a button different text appears. I can do ll of that except eraseing the text from before. How would I go about doing that? 
<br/>
<br/>
Also Is there a way to center the text as well?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90337 - KeithE - Thu Jun 29, 2006 7:33 pm</h4>
    <div class="postbody"><span class="postbody">To erase text, you can draw some spaces, like this
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">ham_DrawText(X,Y,"      ");</td> </tr></table><span class="postbody">
<br/>
<br/>
To center the text, you need to enter the appropriate X coordinate for the starting location so that the text appears centered.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90341 - Split - Thu Jun 29, 2006 8:01 pm</h4>
    <div class="postbody"><span class="postbody">Doesn't work the text just flashes</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90356 - tepples - Thu Jun 29, 2006 9:14 pm</h4>
    <div class="postbody"><span class="postbody">Is your program reaching the end of the 'main' function?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90361 - Split - Thu Jun 29, 2006 10:22 pm</h4>
    <div class="postbody"><span class="postbody">Heres my code. when I hold down A(Z Key in VBA) it flashes
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "mygba.h"
<br/>
MULTIBOOT
<br/>
<br/>
int main(void)
<br/>
{
<br/>
    ham_Init();
<br/>
    //initialize the text system
<br/>
    ham_InitText(0);
<br/>
    while(1)
<br/>
    {
<br/>
        //Display opening text
<br/>
        ham_DrawText(1,2,"Welcome to the Stupid Game");
<br/>
        ham_DrawText(1,4,"Created by Steven Innis");
<br/>
        ham_DrawText(1,6,"Press A to Begin");
<br/>
        // check A button
<br/>
        if (F_CTRLINPUT_A_PRESSED)
<br/>
        ham_DrawText(1,2,"                          ");
<br/>
<br/>
<br/>
    }
<br/>
    return 0;
<br/>
}</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90366 - gauauu - Thu Jun 29, 2006 10:37 pm</h4>
    <div class="postbody"><span class="postbody">Since the code to write the opening text is also in your while loop, whenever you press the button, it clears the text, then reaches the top of your for loop, and immediately redraws the text in question.
<br/>
<br/>
You could move the opening text drawing lines outside the for-loop, and try again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90373 - Split - Thu Jun 29, 2006 11:44 pm</h4>
    <div class="postbody"><span class="postbody">Ok I got this now but it wont work. Its not that it gets an error just when you run it the text wont show up at all. when I comment out the other function it works fine. Did i call the function wrong? If I did what do I need to fix?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "mygba.h"
<br/>
MULTIBOOT
<br/>
<br/>
int main(void)
<br/>
{
<br/>
    ham_Init();
<br/>
    //initialize the text system
<br/>
    while(1)
<br/>
    {
<br/>
        //Display opening text
<br/>
        ham_DrawText(1,2,"Welcome to the Stupid Game");
<br/>
        ham_DrawText(1,4,"Created by Steven Innis");
<br/>
        ham_DrawText(1,6,"Press A to Begin");
<br/>
        CheckForA();
<br/>
    }
<br/>
    return 0;
<br/>
}
<br/>
<br/>
void CheckForA(void)
<br/>
{
<br/>
    //initialize the text system
<br/>
    ham_InitText(0);
<br/>
    while(1)
<br/>
    {
<br/>
        // check A button
<br/>
        if (F_CTRLINPUT_A_PRESSED)
<br/>
        ham_DrawText(1,2,"                          ");
<br/>
    }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
Here are the warnings I got
<br/>
<br/>
main.c: In function `main':
<br/>
main.c:14: warning: implicit declaration of function `CheckForA'
<br/>
main.c: At top level:
<br/>
main.c:20: warning: type mismatch with previous implicit declaration
<br/>
main.c:14: warning: previous implicit declaration of `CheckForA'
<br/>
main.c:20: warning: `CheckForA' was previously implicitly declared to return `int'</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90481 - Azenris - Fri Jun 30, 2006 12:38 pm</h4>
    <div class="postbody"><span class="postbody">I've never used Ham before but this might work, reason for calling the function bad is its being called before being declared
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "mygba.h" 
<br/>
MULTIBOOT 
<br/>
<br/>
void CheckForA(void) 
<br/>
{   
<br/>
    while(1) 
<br/>
    { 
<br/>
        // check A button 
<br/>
        if (F_CTRLINPUT_A_PRESSED) 
<br/>
        ham_DrawText(1,2,"                          "); 
<br/>
    } 
<br/>
}
<br/>
<br/>
int main(void) 
<br/>
{ 
<br/>
    ham_Init(); 
<br/>
    //initialize the text system 
<br/>
    ham_InitText(0); 
<br/>
    while(1) 
<br/>
    { 
<br/>
        //Display opening text 
<br/>
        ham_DrawText(1,2,"Welcome to the Stupid Game"); 
<br/>
        ham_DrawText(1,4,"Created by Steven Innis"); 
<br/>
        ham_DrawText(1,6,"Press A to Begin"); 
<br/>
        CheckForA(); 
<br/>
    } 
<br/>
    return 0; 
<br/>
} 
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Note: If you want the function CheckForA to be below the main (although the main is usually at the bottom) you will need to make a prototype at the top of the file.
<br/>
<br/>
#include "mygba.h" 
<br/>
MULTIBOOT 
<br/>
<br/>
// prototye
<br/>
void CheckForA(void);
<br/>
<br/>
// main
<br/>
int main(void) (
<br/>
can call CheckForA() in here now
<br/>
}
<br/>
<br/>
// function
<br/>
void CheckForA(void) {
<br/>
(...)
<br/>
}</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90537 - Cearn - Fri Jun 30, 2006 6:20 pm</h4>
    <div class="postbody"><span class="postbody">What he said.
<br/>
<br/>
And just to address the next problem you'll probably run into: yes, the text won't flash anymore but you're stuck in the loop in CheckForA(). At that point you could a] use that loop as the main loop (which is probably not what you had in mind), or b] break it off when you hit A, which will only put you back it the situation you started at. I think that gauauu has something like this in mind:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int main(void)
<br/>
{
<br/>
    ham_Init();
<br/>
    //initialize the text system
<br/>
    ham_InitText(0);
<br/>
<br/>
     //Display opening text
<br/>
     ham_DrawText(1,2,"Welcome to the Stupid Game");
<br/>
     ham_DrawText(1,4,"Created by Steven Innis");
<br/>
     ham_DrawText(1,6,"Press A to Begin");
<br/>
<br/>
     while(1)
<br/>
     {
<br/>
        // check A button
<br/>
        if (F_CTRLINPUT_A_PRESSED)
<br/>
        {
<br/>
            ham_DrawText(1,2,"                          "); 
<br/>
            break;
<br/>
        }
<br/>
    }
<br/>
<br/>
    // rest of code
<br/>
<br/>
    return 0;
<br/>
} 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Also, I have a feeling you might benefit from Finite State Engines. Don't have a nice example to show you here though. I'm sure the others can provide.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
