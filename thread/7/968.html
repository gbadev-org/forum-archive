<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>~? What is that ~?! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > ~? What is that ~?!</h2>
<div id="posts">
<div class="post">
    <h4>#4781 - BhaaL - Wed Apr 09, 2003 2:31 pm</h4>
    <div class="postbody"><span class="postbody">In a tutorial on <a href="http://www.thepernproject.com" target="_blank">www.thepernproject.com</a> the author (can't remember his name...) used a function to Flip between the FrontBuffer and the BackBuffer.
<br/>
<br/>
Here's the function:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define REG_DISPCNT 0x4000000
<br/>
#define BACKBUFFER 0x10
<br/>
#define FrontBuffer (u16*)0x6000000
<br/>
#define BackBuffer (u16*)0x600A000 //start of back buffer in Mode 4 
<br/>
u16* VideoBuffer; //This is were we are currently drawing 
<br/>
<br/>
<br/>
void Flip(void)
<br/>
{
<br/>
        if(REG_DISPCNT &amp; BACKBUFFER) //back buffer is the current buffer so we need to switch it to the font buffer
<br/>
        { 
<br/>
                REG_DISPCNT &amp;= ~BACKBUFFER; //flip active buffer to front buffer by clearing back buffer bit
<br/>
                VideoBuffer = BackBuffer; //now we point our drawing buffer to the back buffer
<br/>
        }
<br/>
<br/>
        else //front buffer is active so switch it to backbuffer
<br/>
        { 
<br/>
                REG_DISPCNT |= BACKBUFFER; //flip active buffer to back buffer by setting back buffer bit
<br/>
                VideoBuffer = FrontBuffer; //now we point our drawing buffer to the front buffer
<br/>
        }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Could anybody explain the "~" in the line "REG_DISPCNT &amp;= ~BACKBUFFER;" to me?<br/>_________________<br/>Windows XP is the Answer...
<br/>
How stupid was the Question?!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4787 - tepples - Wed Apr 09, 2003 7:20 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>BhaaL wrote:</b></span></td> </tr> <tr> <td class="quote">Could anybody explain the "~" in the line "REG_DISPCNT &amp;= ~BACKBUFFER;" to me?</td> </tr></table><span class="postbody">
<br/>
<br/>
The ~ (complement) operator inverts all the bits in its operand and is often used with &amp;.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">if A = 0000001001 then
<br/>
  ~A = 1111110110</td> </tr></table><span class="postbody">
<br/>
REG | B returns REG with bit B set.
<br/>
REG &amp; ~B returns REG with bit B clear.
<br/>
<br/>
To learn more about C logical operators, read <a class="postlink" href="http://www.foogirl.de/C/EmailLesson10" target="_blank">this page</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
