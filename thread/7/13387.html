<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to compile cpp - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > How to compile cpp</h2>
<div id="posts">
<div class="post">
    <h4>#130851 - gyokimae - Fri Jun 08, 2007 6:41 pm</h4>
    <div class="postbody"><span class="postbody">I've got my devKitPro up and running and have been enjoying it for a few days.
<br/>
<br/>
As I am not fluent in reading the make file, I would appreciate advise on how make differentiates which file to search.
<br/>
<br/>
As far as I see in the makefile, it appears to me as if a scan is done to find every .c, .cpp and .s files found.
<br/>
<br/>
However, for example when I rename main.cpp to main.c in Graphics/2D/hello_world, it returns the following error.
<br/>
<br/>
make[1]: *** No rule to make target `c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp', needed by `main.o'.  Stop.
<br/>
<br/>
<br/>
I would like to know as I have some background building classes and other languages and would like to know how to utilize the templates to run c++ code.
<br/>
<br/>
Thank you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130852 - keldon - Fri Jun 08, 2007 6:51 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://www.eng.hawaii.edu/Tutor/Make/" target="_blank">http://www.eng.hawaii.edu/Tutor/Make/</a>
<br/>
^^ a simple explanation of what goes on in Make. It contains what some would call bad practises or errors but it is great at introducing newcomers by letting them know what a makefile is and what exactly goes on.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130854 - gyokimae - Fri Jun 08, 2007 7:04 pm</h4>
    <div class="postbody"><span class="postbody">keldon,
<br/>
<br/>
Thank you for the link.
<br/>
A while back I have breifly read through O'Reilley's book on GNU make and I believe I have a vague idea of the process.
<br/>
I've also ran a review through the site you have introduced me but yet not clear with this particular problem.
<br/>
<br/>
I would appreciate some pointers to specific lines that allow main.cpp to compile, and yet refuse main.c to work in the hello_world example attached libnds.
<br/>
<br/>
Thank you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130866 - Cearn - Fri Jun 08, 2007 8:43 pm</h4>
    <div class="postbody"><span class="postbody">The problem is that the header dependency files (inside the build folder) are still using the old names. In this case:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"># in build/main.d
<br/>
main.o:  \
<br/>
 e:/dev/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp \
<br/>
  e:/dev/devkitPro/libnds/include/nds.h \
<br/>
  e:/dev/devkitPro/libnds/include/nds/jtypes.h \
<br/>
  e:/dev/devkitPro/libnds/include/nds/bios.h \
<br/>
etc...</td> </tr></table><span class="postbody">
<br/>
The filelist in the makefile is updated automatically, but those in the dependencies aren't. To fix, remove the offending .d files, either manually or via make clean. Note that this relates to filename changes, not C vs C++.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130879 - gyokimae - Fri Jun 08, 2007 11:25 pm</h4>
    <div class="postbody"><span class="postbody">Cearn,
<br/>
<br/>
<br/>
Ah, of course!
<br/>
I have wondered why the comment implied 
<br/>
<br/>
main.cpp', needed by `main.o'
<br/>
<br/>
ut I had no idea why and that explained it all!
<br/>
<br/>
Thanks again to keldon also. Never have felt so releaved.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
