<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>virtual functions making Insight blow up - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > virtual functions making Insight blow up</h2>
<div id="posts">
<div class="post">
    <h4>#7050 - mpowell - Fri Jun 06, 2003 10:45 pm</h4>
    <div class="postbody"><span class="postbody">When I make a destructor virtual for a class that I have defined as a global variable, then look at it with the watch expression window, then expand it to see it's public and private members, I get the error...
<br/>
<br/>
Error: Tix Error: parent element "var1.private._vptr" does not exist
<br/>
<br/>
when I remove the "virtual" in front of the destructor, it works fine, and I can browse the member variable I and see the value 9.
<br/>
<br/>
Anyone else come across this?
<br/>
<br/>
I have two monitors, and when I move any of the Insight gui windows over to the second monitor I get errors, but this error is different, and I'm making sure everything is on my primary monitor.
<br/>
<br/>
I'm compiling with the line 
<br/>
g++ -c -g -Wall -marm main.cpp
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class test
<br/>
{
<br/>
public:
<br/>
   test(); // constructor
<br/>
<br/>
   virtual ~test(); // destructor  
<br/>
   // having "virtual" here will make Insight blow up !
<br/>
private:
<br/>
   int i;
<br/>
};
<br/>
<br/>
test::test()
<br/>
{
<br/>
   i = 9;
<br/>
}
<br/>
<br/>
test::~test()
<br/>
{
<br/>
}
<br/>
<br/>
<br/>
test bad; // watch variable "bad" in Insight's watcher window 
<br/>
   // then try to expand its private member variables to generate error
<br/>
<br/>
int main()
<br/>
{
<br/>
   int r = 0;         
<br/>
<br/>
   while(1)
<br/>
   {
<br/>
      r++; // put a break point here to view bad's variables in watcher window
<br/>
   } 
<br/>
} 
<br/>
 </td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8043 - mpowell - Tue Jul 01, 2003 5:48 am</h4>
    <div class="postbody"><span class="postbody">It seems like I can daily...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
