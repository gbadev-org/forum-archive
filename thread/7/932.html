<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Interrupts result in only white screen from rom - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Interrupts result in only white screen from rom</h2>
<div id="posts">
<div class="post">
    <h4>#4624 - guilt - Sat Apr 05, 2003 6:49 am</h4>
    <div class="postbody"><span class="postbody">I've attempted to dl and compile the code from thepernproject for his mode7 demo, which uses interrupts. The elf in the zip, when objcopy'ed to a gba binary works just fine. However, when I try to compile it myself (and this is true of all code that I have ever tried to compile that involves interrupts) I get a rom that just displays a white screen and doesn't seem to respond to input. I have yet to find a decent tool to let me watch the PC and see what it does, but was hoping not to have to go that low level (I see enough raw memory and assembly at work).
<br/>
<br/>
I compiled the toolchain myself for linux and have had plenty of success writing c for this thing without the gba. I'm using both visualboy advance sdl for linux and the windows version (my windows box is faster). Also, I've tried every amalgamation of compiler directives and crtS.s and lnkscript that I can think of and have had no luck.
<br/>
<br/>
So if anyone with a similar setup (or without) that can point me to compiling instructions that work, or perhaps a decent somewhat graphical debugger so that I can see the pc (and how to generate an assembly with the instructions numbered), either would help a lot. Thanks,
<br/>
<br/>
The code that I'm trying to compile atm is at
<br/>
<a href="http://www.thepernproject.com/English/mode7.zip" target="_blank">http://www.thepernproject.com/English/mode7.zip</a>
<br/>
<br/>
Lastly, I still quite new to the gbadev game, so I apoligize if this should be obvious or is well known/documented. I googled for a few hours, have read everything relavant I can find, and looked around these forums for a bit and haven't een able to solve this yet. Thanks again,
<br/>
<br/>
guilt</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#4650 - I.C.E - Sun Apr 06, 2003 10:58 am</h4>
    <div class="postbody"><span class="postbody">I downloaded it and it works with my project files. I think your problem is that you don't have a correct crt0. I have looked at the sources and I have seen IntrTable[] so I guess you must at least have __SingleInterrupts active in your crt0.
<br/>
<br/>
Btw, for a graphical debugger I would suggest ddd which is a graphical front end of gdb  <a href="http://www.gnu.org/software/ddd/" target="_blank">http://www.gnu.org/software/ddd/</a><br/>_________________<br/>To this day, many C programmers believe that "strong typing" just means pounding extra hard on the keyboard.
<br/>
 -  Peter van der Linden</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
