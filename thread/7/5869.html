<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Apex Audio System types and data structures - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Apex Audio System types and data structures</h2>
<div id="posts">
<div class="post">
    <h4>#44110 - booger - Mon May 30, 2005 1:21 pm</h4>
    <div class="postbody"><span class="postbody">I'm having a bit of a issue with a very simple task, but since I somehow can't get it to work properly, I turn myself to this forum.
<br/>
<br/>
The thing is, I just like to make a static list of pointers to AAS (Apex Audio System) sound samples, but my compiler (DevkitARM) refuses to do it.
<br/>
<br/>
Here's a snippet of my code:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">extern const AAS_s8* const AAS_DATA_SFX_START_8bit_KungFu_Hit;
<br/>
<br/>
const AAS_s8* sound_items[] =
<br/>
{
<br/>
   AAS_DATA_SFX_START_8bit_KungFu_Hit
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The error message I get when compiling:
<br/>
ticker.c:28: error: initializer element is not constant
<br/>
ticker.c:28: error: (near initialization for `sound_items[0]')
<br/>
<br/>
Is there anyone who knows what might be wrong?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44117 - strager - Mon May 30, 2005 3:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>booger wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Here's a snippet of my code:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">extern const AAS_s8* const AAS_DATA_SFX_START_8bit_KungFu_Hit;
<br/>
<br/>
const AAS_s8* sound_items[] =
<br/>
{
<br/>
   AAS_DATA_SFX_START_8bit_KungFu_Hit
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Where did you learn to code C from?!?!
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
extern const AAS_s8 *AAS_DATA_SFX_START_8bit_KungFu_Hit;
<br/>
<br/>
const AAS_s8 *sound_items[] =
<br/>
{
<br/>
    AAS_DATA_SFX_START_8bit_KungFu_Hit,
<br/>
    NULL /* #define NULL ((void *)0) */
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
ALWAYS put null at the end of an array of pointers, so that your code knows where the end of the list is.</span><span class="gensmall"><br/><br/>Last edited by strager on Mon May 30, 2005 4:44 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#44123 - booger - Mon May 30, 2005 4:08 pm</h4>
    <div class="postbody"><span class="postbody">strager: yes, I know about that; this was just a quick example to illustrate my problem - which remains..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44128 - strager - Mon May 30, 2005 4:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
extern const AAS_s8 *AAS_DATA_SFX_START_8bit_KungFu_Hit;
<br/>
<br/>
const AAS_s8 *sound_items[] =
<br/>
{
<br/>
    &amp;AAS_DATA_SFX_START_8bit_KungFu_Hit,
<br/>
    NULL /* #define NULL ((void *)0) */
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Might work.  Don't think so, though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44131 - booger - Mon May 30, 2005 4:48 pm</h4>
    <div class="postbody"><span class="postbody">OK! Found it myself.. I guess my C-skills are a bit rusty nowadays!
<br/>
The structure should look like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">const AAS_s8 **list[] =
<br/>
{
<br/>
   &amp;AAS_DATA_SFX_START_8bit_KungFu_Hit,
<br/>
   NULL,
<br/>
};
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44135 - strager - Mon May 30, 2005 4:52 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>booger wrote:</b></span></td> </tr> <tr> <td class="quote">OK! Found it myself.. I guess my C-skills are a bit rusty nowadays!
<br/>
The structure should look like this:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">const AAS_s8 **list[] =
<br/>
{
<br/>
   &amp;AAS_DATA_SFX_START_8bit_KungFu_Hit,
<br/>
   NULL,
<br/>
};
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
I was close; needed the extra *.  G' job on getting it to work.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
