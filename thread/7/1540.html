<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>warning ignoring #pragma pack(x) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > warning ignoring #pragma pack(x)</h2>
<div id="posts">
<div class="post">
    <h4>#7841 - Gordon - Thu Jun 26, 2003 1:35 pm</h4>
    <div class="postbody"><span class="postbody">Dear Developer
<br/>
  Are there any replace ment of <span style="font-weight: bold">#pragma pack(push, 1)</span> and <span style="font-weight: bold">#pragma pack(pop)? </span>
<br/>
<br/>
  eg. 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#parama pack(push, 1)
<br/>
 
<br/>
  typedef sturct .. {
<br/>
  } .., .. ;
<br/>
<br/>
  ..
<br/>
<br/>
  typedef sturct .. {
<br/>
  } .., .. ;
<br/>
 
<br/>
  #pragma pack(pop)</td> </tr></table><span class="postbody">
<br/>
<br/>
 Bye now!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7845 - Paul Shirley - Thu Jun 26, 2003 3:41 pm</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 10:02 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#7877 - Gordon - Fri Jun 27, 2003 8:56 am</h4>
    <div class="postbody"><span class="postbody">I have try the follwoing 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">typedef struct tagAttribute
<br/>
{
<br/>
   char c;  // 1 byte
<br/>
   short s;   // 2 bytes               
<br/>
} Attribute __attribute__ ((packed));</td> </tr></table><span class="postbody">
<br/>
or 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">typedef struct tagAttribute
<br/>
{
<br/>
   char c;   // 1 byte
<br/>
   short s;   // 2 byes                
<br/>
} Attribute __attribute__ ((aligned(1)));</td> </tr></table><span class="postbody">
<br/>
For sure it works in Windows, but it doesn't work in GBA
<br/>
<br/>
sizeof(Attriabute) allway equal to 4, it should be 3
<br/>
any help or there is a bug in devkitadv</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7878 - Paul Shirley - Fri Jun 27, 2003 10:17 am</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 10:02 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#7905 - Gordon - Sat Jun 28, 2003 2:37 am</h4>
    <div class="postbody"><span class="postbody">The thing you said may be ture for Windows apps.. or Linux apps.., 
<br/>
try it yourself, then you will see what happy in the GBA.
<br/>
<br/>
when try it, it will give you these:
<br/>
Windows (3bytes ), Linux (3bytes) but GBA Allway (4bytes)
<br/>
<br/>
If you want the answer, I will give you later on!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
