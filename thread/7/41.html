<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DMA Example? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > DMA Example?</h2>
<div id="posts">
<div class="post">
    <h4>#178 - Japster - Sat Jan 04, 2003 3:51 pm</h4>
    <div class="postbody"><span class="postbody">Where can I find a good C/C++ example using DMA?
<br/>
<br/>
Jasper</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#188 - imikeyi - Sun Jan 05, 2003 12:21 am</h4>
    <div class="postbody"><span class="postbody">Here's some code I use for DMA:
<br/>
<br/>
#define REG_DMA3SAD *(volatile u32*)    0x40000D4
<br/>
#define REG_DMA3DAD *(volatile u32*)    0x40000D8
<br/>
#define REG_DMA3CNT_L *(volatile u16*)  0x40000DC
<br/>
#define REG_DMA3CNT_H *(volatile u16*)  0x40000DE
<br/>
<br/>
void DMA3(u32 source, u32 dest, u16 ctrlLow, u16 ctrlHigh)
<br/>
{
<br/>
           REG_DMA3SAD = source;
<br/>
           REG_DMA3DAD = dest;
<br/>
           REG_DMA3CNT_L = ctrlLow;
<br/>
           REG_DMA3CNT_H = ctrlHigh;        
<br/>
}
<br/>
<br/>
Eg.
<br/>
DMA3((u32) &amp;backgroundPalette, (u32) PALETTE_RAM, 256, 0x8000);</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#246 - Japster - Sun Jan 05, 2003 2:52 pm</h4>
    <div class="postbody"><span class="postbody">Thanks. BTW What does "volatile" mean? Could  missing "volatiles" be the reason for that my programs don't work correctly?
<br/>
<br/>
Jasper</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#252 - MHz - Sun Jan 05, 2003 4:18 pm</h4>
    <div class="postbody"><span class="postbody">'Volatile' simply means the defined data may change from outside your code (certain memory locations such as counters, in/out ports etc). Because of this, the compiler will not make any assumptions about the data (in order to optimize it for instance).
<br/>
<br/>
I hope the explanation is clear enough... :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#272 - regularkid - Sun Jan 05, 2003 8:24 pm</h4>
    <div class="postbody"><span class="postbody">Check out "The PERN Project" website. He has some really good tutorials on the GBA and one specifically on DMA transfers.
<br/>
<br/>
<a class="postlink" href="http://216.167.73.47/~dovoto/English/tutorial.html" target="_blank">http://216.167.73.47/~dovoto/English/tutorial.html</a><br/>_________________<br/>- RegularKid</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#481 - tubooboo - Wed Jan 08, 2003 1:46 am</h4>
    <div class="postbody"><span class="postbody">in HAM , theres examples of DMA all over the sample sources. Check the obj sample for instance
<br/>
<br/>
Best
<br/>
Emanuel<br/>_________________<br/>HAM author
<br/>
<a href="http://www.ngine.de" target="_blank">http://www.ngine.de</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
