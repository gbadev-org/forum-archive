<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Help me understand - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Help me understand</h2>
<div id="posts">
<div class="post">
    <h4>#117529 - Dox-999 - Mon Feb 05, 2007 12:16 pm</h4>
    <div class="postbody"><span class="postbody">Hi, I am learning C++ atm and I am learning about pointers and structures. With both these topics I think I sorta know how to do them but I can't really see when they would be used. Could you guys tell me. I like to know how somthing is used when I learn about it so when I actully need it I know when and where.
<br/>
<br/>
This is an example I wrote using the two: 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;iostream&gt;
<br/>
using namespace std;
<br/>
struct doxey {
<br/>
       int age;
<br/>
       string name;
<br/>
       string gender;
<br/>
       };
<br/>
       int main() {
<br/>
           doxey stru;
<br/>
           doxey *st;
<br/>
           st = &amp;stru;
<br/>
           cout&lt;&lt;"Enter you name, age and gender in this format &lt;age&gt; &lt;Name&gt; &lt;gender&gt;";
<br/>
           cin&gt;&gt; stru.age &gt;&gt; stru.name &gt;&gt; stru.gender;
<br/>
           cin.ignore();
<br/>
           cout&lt;&lt;"Hi! "&lt;&lt; st-&gt;name &lt;&lt;" you are a "&lt;&lt; st-&gt;age &lt;&lt;" year old "&lt;&lt; st-&gt;gender;
<br/>
           cin.get();
<br/>
           } </td> </tr></table><span class="postbody">
<br/>
<br/>
Did I write that code correctly? it works but it's not really practical, when would be a good situation to use pointers and structures?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117547 - keldon - Mon Feb 05, 2007 3:33 pm</h4>
    <div class="postbody"><span class="postbody">You have much to learn young sky walker; be patient with the force for the force is patient with you ^_^
<br/>
<br/>
There are plenty of reasons why you will be using pointers and structures. Data structures such as 'linked lists', trees and many others will rely on these basic elements.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117554 - Sausage Boy - Mon Feb 05, 2007 5:56 pm</h4>
    <div class="postbody"><span class="postbody">In this case, it doesn't really make a difference, but say you wanted more people. What's easier to manage, 100 people or 100 names, 100 ages and 100 genders?
<br/>
<br/>
Also, if that's how the code looks in your source editor, you'll need to work on your <a class="postlink" href="http://en.wikipedia.org/wiki/Indent_style" target="_blank">Indentaion style</a>. Choose one that suits you, and stick with it. I prefer BSD/Allman myself.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117723 - SeanMon - Tue Feb 06, 2007 11:26 pm</h4>
    <div class="postbody"><span class="postbody">I use BSD/Allman too, because I like to have the opening and closing braces match up vertically, even though it introduces an extra unused line.<br/>_________________<br/>null</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117749 - sgeos - Wed Feb 07, 2007 2:39 am</h4>
    <div class="postbody"><span class="postbody">For what it's worth, his indentation style looks consistent to me.  I also use BSD/Allman.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118933 - Touchstone - Sun Feb 18, 2007 10:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dox-999 wrote:</b></span></td> </tr> <tr> <td class="quote">Hi, I am learning C++ atm and I am learning about pointers and structures. With both these topics I think I sorta know how to do them but I can't really see when they would be used. Could you guys tell me. I like to know how somthing is used when I learn about it so when I actully need it I know when and where.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
You want to use a structure to group a set of variables together, and you want to use pointers because you want different functions to share the same variable.
<br/>
<br/>
As someone mentioned, it's esier to have an array of 100 people instead of having three arrays, one with 100 names, one with 100 ages and one with 100 genders.
<br/>
<br/>
Example:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">typedef struct Person
<br/>
{
<br/>
    char sName[20];
<br/>
    int Age;
<br/>
    int Gender;
<br/>
};
<br/>
<br/>
void GetPersonAge(Person* pPersonData)
<br/>
{
<br/>
    pPersonData-&gt;Age = rand(100);
<br/>
}
<br/>
<br/>
void DisplayPersonData(Person PersonData)
<br/>
{
<br/>
    printf("Name: %s\n", PersonData.sName);
<br/>
    printf("Age: %d\n", PersonData.Age);
<br/>
    printf("Gender: %d\n", PersonData.Gender);
<br/>
}
<br/>
<br/>
int main()
<br/>
{
<br/>
    const int nPersons = 100;
<br/>
    Person aPerson[nPersons]; // Array of 100 persons
<br/>
    int iPerson;
<br/>
<br/>
    for (iPerson=0; iPerson&lt;nPersons; iPerson++)
<br/>
    {
<br/>
        GetPersonAge(&amp;aPerson[iPerson]); // Get the age of this person
<br/>
        ShowPersonData(aPerson[iPerson]); // Display the information for this person
<br/>
    }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
Now main will have an array of 100 people.
<br/>
<br/>
GetPersonAge() will take in a pointer to one of these people and change the age to a random number. GetPersonAge() takes in a pointer to a Person structure (in variable pPersonData), which means any reads and writes to pPersonData will actually change the entry in the main array aPerson[].
<br/>
<br/>
DisplayPersonData() takes a new instance of a Person struct as parameter, which means that the size of the Person structure is allocated on the stack and the data from the entry in the main array is copied onto the stack. This way, whatever changes DisplayPersonData is doing to it's instance of the Person struct, is going to be local and does not affect the entry in the main array. Since this involves a memcpy with the size of the struct, this is going to be slower than passing a pointer on the stack, but it is safer because the main array can't be modified. (On the other hand, you can use a const pointer and that way your function can't modify the entry either, in theory)<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
