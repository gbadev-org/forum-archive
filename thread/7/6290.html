<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Ever decreasing circles of hell! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Ever decreasing circles of hell!</h2>
<div id="posts">
<div class="post">
    <h4>#47802 - lewisrevill - Wed Jul 13, 2005 7:45 pm</h4>
    <div class="postbody"><span class="postbody">Hi people, as you will find out newbie here, but really need your help.  First of all could you help me with the code for plotting a circle the manual way with "theta", "sin" and "cos".  Also please point out if i will need a header file for any of these functions.  Secondly could you help me SOHCAHTOA - namely the TOA = tan(opposite/adjacent).  I need to find out the angle of a triangle using the lengths of the opposite and adjacent sides of the triangle?.  Please help.  Thank you</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47806 - Quirky - Wed Jul 13, 2005 8:00 pm</h4>
    <div class="postbody"><span class="postbody">Look up <span style="font-weight: bold">bresenham circle</span> on google for a much better way of plotting circles. Alternatively, use the old r? = x? + y? and square roots to do the job:
<br/>
<br/>
For a filled circle of "size" at x, y... 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
  int top = y - size;
<br/>
  int bot = y + size;
<br/>
  int ypos;
<br/>
  for (ypos = top; ypos &lt; bot; ypos++) {
<br/>
    int w = (size*size) - ((ypos-y)*(ypos-y));
<br/>
    w = gbasqrt(w);
<br/>
    int x1 = x-w;
<br/>
    int x2 = x+w;
<br/>
    horizontal_line(x1,x2,ypos);
<br/>
  }
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Plug in your own square root and horizontal line code.[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47807 - lewisrevill - Wed Jul 13, 2005 8:14 pm</h4>
    <div class="postbody"><span class="postbody">Hey thanks, but i dont understand the code, i got taught at uni that we set theta then x=sin(theta) and y=cos(theta), but how do i set the theta? cos it needs to increment.  PLease help.  I need this because i want a sprite to follow a path of a circle.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47822 - DekuTree64 - Wed Jul 13, 2005 10:24 pm</h4>
    <div class="postbody"><span class="postbody">Basically what you'll want to do is x = centerX + radius*cos(theta), y = centerY + radius*sin(theta).
<br/>
<br/>
Theta is the angle, or the distance around the circle. Units are probably radians, so about 6.28 would be a full rotation. So, if you want your sprite to make a full trip around the circle after 60 frames, add 6.28/60 (about 0.105) to theta every frame.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47824 - tepples - Wed Jul 13, 2005 10:31 pm</h4>
    <div class="postbody"><span class="postbody">In practice, doing floating point arithmetic on the GBA is slow, let alone sin() or cos(). You'll want to precompute a lookup table using a PC program (written in C, Perl, Scheme, Python, Excel, or whatever) and then compile that into your GBA program.
<br/>
<br/>
cos(num_degrees * i / (2*Pi)), for i = 0..num_degrees-1
<br/>
<br/>
The num_degrees doesn't even have to be 360; a lot of programs use 512 or some other power of 2 degrees so that they can easily handle cos(theta) and sin(theta) outside the [0, num_degrees) domain.
<br/>
<br/>
Try reading the <a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/luts.htm" target="_blank">TONC tutorial on lookup tables</a><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47834 - Dwedit - Thu Jul 14, 2005 12:00 am</h4>
    <div class="postbody"><span class="postbody">For drawing curvy shapes, it's much faster to use a midpoint algorithm with a decision parameter than doing it the slow manual way.  Midpoint algorithms only use addition and subtraction once they enter the inner loop.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
