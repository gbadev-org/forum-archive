<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>C++ classes - quick help - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > C++ classes - quick help</h2>
<div id="posts">
<div class="post">
    <h4>#69412 - justatest - Mon Jan 30, 2006 5:50 pm</h4>
    <div class="postbody"><span class="postbody">Hey,
<br/>
<br/>
I'm making the transition from C to C++, and am having problems compiling. Loads of syntax errors :-(
<br/>
<br/>
<span style="font-weight: bold">Here's a class:</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">class MyClassName {
<br/>
   private:
<br/>
      int an_integer;
<br/>
      
<br/>
      int another_var;
<br/>
      
<br/>
   public:
<br/>
      void FunctionOne(void) {
<br/>
         an_integer++;
<br/>
      }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">A Makefile:</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">@echo off
<br/>
<br/>
set CFILES= main.c 
<br/>
set OFILES= main.o
<br/>
set GAME= main
<br/>
set SPECS=gba_mb.specs
<br/>
<br/>
set DEVDIR=C:\Devkitarm
<br/>
<br/>
PATH=%DEVDIR%\bin;%path%
<br/>
<br/>
set LIBDIR= %DEVDIR%\arm-elf\lib\interwork
<br/>
set LIBDIR2= %DEVDIR%\libgba\lib
<br/>
<br/>
set INCDIR= %DEVDIR%\arm-elf\include
<br/>
set INCDIR2= ..\..\include
<br/>
<br/>
set CFLAGS= -I.  -I%INCDIR% -I%INCDIR2% -c -g -O2 -Wall -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb -mthumb-interwork 
<br/>
<br/>
set LDFLAGS= -mthumb -mthumb-interwork -specs=%SPECS% -L%LIBDIR% -L%LIBDIR2%  
<br/>
<br/>
arm-elf-gcc  %CFILES% %CFLAGS%
<br/>
arm-elf-gcc -o %GAME%.elf  %OFILES% %LDFLAGS% 
<br/>
<br/>
arm-elf-objcopy -v -O binary %game%.elf %game%.gba
<br/>
<br/>
gbafix %game%.gba
<br/>
<br/>
del %OFILES%
<br/>
del %game%.elf
<br/>
<br/>
..\..\emulators\VisualBoyAdvance.exe %game%.gba</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">Compilation errors:</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">In file included from main.c:32:
<br/>
class_mario.cpp(1): error: parse error before "MyClassName"
<br/>
class_mario.cpp(1): error: syntax error before '{' token
<br/>
class_mario.cpp(18): error: parse error before ':' token
<br/>
etc etc..</td> </tr></table><span class="postbody">
<br/>
<br/>
What the hell am I doing wrong? Do I need extra command line paremeters?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69421 - keldon - Mon Jan 30, 2006 6:36 pm</h4>
    <div class="postbody"><span class="postbody">Rename files as .cpp. Use g++ not gcc (I think CC is only C Compiler). Use semicolon at end of classes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69454 - YopYop - Mon Jan 30, 2006 9:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class MyClassName {
<br/>
   private:
<br/>
      int an_integer;
<br/>
      
<br/>
      int another_var;
<br/>
      
<br/>
   public:
<br/>
      void FunctionOne(void) {
<br/>
         an_integer++;
<br/>
      }
<br/>
}; &lt;&lt;HERE
<br/>
</td> </tr></table><span class="postbody">
<br/>
I didn't read evry thing but you must put a ; at the end of the class declaration.
<br/>
<br/>
yopyop</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69461 - wintermute - Mon Jan 30, 2006 10:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>justatest wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
<span style="font-weight: bold">A Makefile:</span>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
No it isn't, this is a batch file.
<br/>
<br/>
Don't ever do this
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
set LIBDIR= %DEVDIR%\arm-elf\lib\interwork
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
1. It doesn't match the libraries you're telling gcc to link
<br/>
2. Should you have occasion to use non interworking code then you'll spend an hour or two trying to figure out why it won't link.
<br/>
3. Using gcc or g++ to link already takes care of the proper library paths.
<br/>
<br/>
or this
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
set INCDIR= %DEVDIR%\arm-elf\include
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The compiler knows where it's include files are, you don't need to tell it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101395 - cppdungeon - Tue Sep 05, 2006 12:55 am</h4>
    <div class="postbody"><span class="postbody">dont forget class constructors/destructors<br/>_________________<br/>"in Soviet Russia, car pimps you!"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101541 - sgeos - Wed Sep 06, 2006 10:29 am</h4>
    <div class="postbody"><span class="postbody">If you are getting <span style="font-weight: bold">syntax errors</span>, I don't think you are ready for the GBA yet.  Take things one step at a time.
<br/>
<br/>
Read a C++ and spend a couple of days doing command line work on the PC.  Read the entire comp.lang.c++ FAQ.  Move to the GBA when you feel you are ready.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101581 - sajiimori - Wed Sep 06, 2006 6:38 pm</h4>
    <div class="postbody"><span class="postbody">Brendan, in case you didn't read the thread, the main cause of the errors was using the gcc front end instead of g++.  I've made the same mistake myself plenty of times.
<br/>
<br/>
Anyway, I still get <span style="font-weight: bold">syntax errors</span> even after shipping a few games.  C++ just isn't one of those languages where you learn the syntax at the beginning and never worry about it again.  ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101650 - sgeos - Thu Sep 07, 2006 12:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">Brendan, in case you didn't read the thread,</td> </tr></table><span class="postbody">
<br/>
Unless I misread the thread, the original poster made multiple errors.  Two errors at the same time are much more confusing than just one.  Even if you solve one of them, you may break it again if you don't know what you are doing.  Effects escalate with more errors.  In the original poster's case, half of his mistakes could have been resolved by feet wetting terminal programming.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">the main cause of the errors was using the gcc front end instead of g++.  I've made the same mistake myself plenty of times.</td> </tr></table><span class="postbody">
<br/>
He could (would) have made the same mistakes if he spent a couple of days doing terminal programming.  Admittedly, the library linkage is GBA specific- this compounds the problem.  The reason why I recommend a couple of days of terminal programming when transitioning to a new language.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">Anyway, I still get <span style="font-weight: bold">syntax errors</span> even after shipping a few games.</td> </tr></table><span class="postbody">
<br/>
Everybody gets syntax errors.  99% of the time you should be able to figure them out on your own.  I'll even go so far as to argue that that is part of learning the language.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">C++ just isn't one of those languages where you learn the syntax at the beginning and never worry about it again.  ;)</td> </tr></table><span class="postbody">
<br/>
Perhaps not.  Read above for my thoughts on this. =)
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101656 - sajiimori - Thu Sep 07, 2006 1:51 am</h4>
    <div class="postbody"><span class="postbody">There was one typo.  But whatever, I'm not going to debate it further.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
