<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Making an intromovie - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Making an intromovie</h2>
<div id="posts">
<div class="post">
    <h4>#37403 - donpeppoe - Fri Mar 11, 2005 1:00 pm</h4>
    <div class="postbody"><span class="postbody">Hey,
<br/>
<br/>
I'm trying to make an intromovie. Its a backgroundimage with dimensions of 240x1760 (10 frames * 176 (After Dffects add 16 rows to a filmstrip, i compensate that)). And I shift 21120 bytes every frame. 
<br/>
This all works fine if I have a 5 frame movie, but when I use a 10 frame movie, it messes up the last few frames. 
<br/>
<br/>
It seems like a memory issue. I don't really understand all the memoryfeatures of the GBA. 
<br/>
<br/>
Any idea's? Thanks in advanced!
<br/>
<br/>
This is the code i use
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">for (t = 0; t &lt; 10; t++ )
<br/>
{
<br/>
    DMA_Copy( 3, (void*)&amp;movieData[t * 21120], (void*)FrontBuffer, 19200, DMA_16NOW );
<br/>
    Sleep(20);
<br/>
    WaitForVsync();
<br/>
    Flip();
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
21120 = 240 * (160 + 16) / 2</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37420 - tepples - Fri Mar 11, 2005 4:30 pm</h4>
    <div class="postbody"><span class="postbody">Perhaps your conversion tool isn't able to translate images larger than 1024 pixels tall.
<br/>
<br/>
And what happens when you do a 'nm foo.elf' and look for the line containing the image?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37429 - Miked0801 - Fri Mar 11, 2005 5:29 pm</h4>
    <div class="postbody"><span class="postbody">Are you doing something silly like loading the entire image into EWRAM before playing with it?  That would fit the description of it failing at around the 9th frame or so depending on what other stuff is loaded into slow ram.
<br/>
<br/>
EWRAM = 256K total</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37486 - Lord Graga - Sat Mar 12, 2005 12:07 am</h4>
    <div class="postbody"><span class="postbody">since it's been played so slow then you could just FXE or LZ77 compress every frame and then unpack them to the backbuffer realtime.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37501 - tepples - Sat Mar 12, 2005 6:03 am</h4>
    <div class="postbody"><span class="postbody">I'm not sure that LZ77, FXE, Pucrunch, LZO, or any other general-purpose lossless codecs would be useful for video. Proper video compression involves frame differencing, motion estimation, and some sort of transform coding (DCT or wavelet).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37649 - Miked0801 - Mon Mar 14, 2005 6:50 pm</h4>
    <div class="postbody"><span class="postbody">Proper video does, you are correct - but even just using silly compression per frame allows some compression.  Per pixel difference per frame of course helps as well (or vectoring and all that other fun MPEG stuff)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37652 - Kyoufu Kawa - Mon Mar 14, 2005 7:22 pm</h4>
    <div class="postbody"><span class="postbody">Heck, maybe I should put some kind of difference thingy in my animation system...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37681 - Miked0801 - Tue Mar 15, 2005 1:22 am</h4>
    <div class="postbody"><span class="postbody">Do you have the extra CPU power to afford this change?  When playing a movie, you are giving the CPU everything available to render the movie.  In an animation system, you aren't given nearly as much time.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
