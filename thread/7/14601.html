<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Undefined reference to data - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Undefined reference to data</h2>
<div id="posts">
<div class="post">
    <h4>#146187 - JScott - Fri Nov 30, 2007 6:40 am</h4>
    <div class="postbody"><span class="postbody">I'm working on a GBA project using devkitPro and I'm getting linker errors. 
<br/>
<br/>
My data isn't getting linked in at all. I can throw it all into the header, but I'd rather not. I have multiple sets of .h and .cpp files, some with extern data, but the only ones that get lost in the shuffle are the tile and palette data files.
<br/>
<br/>
Any information would be helpful.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146189 - gmiller - Fri Nov 30, 2007 7:13 am</h4>
    <div class="postbody"><span class="postbody">If you are using C++ and the data is declared "const" then you need to make sure you also declare it "external" in the same file.  The behavior of C++ in this case in contrary to the way C would handle it but it is in the rules.  
<br/>
<br/>
I got burned by this.  I found out by looking at the generated assembly which had nothing in it ... "-save-temps"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146190 - JScott - Fri Nov 30, 2007 8:22 am</h4>
    <div class="postbody"><span class="postbody">Well everything works now. Thanks for the info I never would have tried that.
<br/>
<br/>
I can't use C files for some reason the linker complains about all kinds of stuff so everything is c++.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146204 - tepples - Fri Nov 30, 2007 1:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>JScott wrote:</b></span></td> </tr> <tr> <td class="quote">I can't use C files for some reason the linker complains about all kinds of stuff</td> </tr></table><span class="postbody">
<br/>
Please paste what the linker complains about so that I can help you find out whether or not it's just an <a class="postlink" href="http://www.parashift.com/c++-faq-lite/mixing-c-and-cpp.html" target="_blank">extern "C" mismatch</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146450 - JScott - Tue Dec 04, 2007 12:07 pm</h4>
    <div class="postbody"><span class="postbody">I think it's just my make file.  If I use the extension .c I get link errors but using .cpp there's no problem. I'm not concerned about it. It compiles and runs fine.
<br/>
<br/>
Maybe after I finish my assignment I'll look into it more.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
