<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Is this trick worth it? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Is this trick worth it?</h2>
<div id="posts">
<div class="post">
    <h4>#22293 - MumblyJoe - Thu Jun 17, 2004 4:57 am</h4>
    <div class="postbody"><span class="postbody">I was just thinking earlier about the ?: operators, and thought I would try something. Consider this working code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;iostream&gt;
<br/>
<br/>
#define MYWAY
<br/>
<br/>
int func1(){return 1;}
<br/>
int func2(){return 2;}
<br/>
<br/>
int main()
<br/>
{
<br/>
   using namespace std;
<br/>
<br/>
   cout &lt;&lt; "Function 1 or 2:";
<br/>
   int what;
<br/>
   cin &gt;&gt; what;
<br/>
<br/>
#ifdef MYWAY
<br/>
   cout &lt;&lt; (what==1?func1:func2)() &lt;&lt; endl;
<br/>
#else
<br/>
   if(what==1)
<br/>
      cout &lt;&lt; func1();
<br/>
   else
<br/>
      cout &lt;&lt; func2();
<br/>
   cout &lt;&lt; endl;
<br/>
#endif
<br/>
<br/>
<br/>
   return 0;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
if you can see what i am doing you can see what i am trying to do, and see that it works as long as the functions have the same signiture. I cant decide which one has what benifits (besides clearness of code) but I am playing with borland compilers now to see.
<br/>
<br/>
Tell me what you think... useless confuscation or genuine useful coding practice.
<br/>
<br/>
PS. I know indexing into an array of functions would be faster in some cases but not if you want 1==func1 and everything else == func2 because you still end up checking for that before indexing into the array and would need code like func[(what==1)]() anyway...<br/>_________________<br/><a class="postlink" href="http://www.hungrydeveloper.com" target="_blank">www.hungrydeveloper.com</a>
<br/>
Version 2.0 now up - guaranteed at least 100% more pleasing!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22294 - jma - Thu Jun 17, 2004 5:21 am</h4>
    <div class="postbody"><span class="postbody">This is a very common practice in the Lisp/Scheme worlds:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">((if flag + -) a b)</td> </tr></table><span class="postbody">
<br/>
<br/>
Hence, if flag is true, then it will return a+b, otherwise a-b. However, this would be a bad idea in the land of C/C++. Not because it isn't do-able, but because your compiler isn't designed for it. You'll get very sub-par assembly code out of it.
<br/>
<br/>
Jeff<br/>_________________<br/><a href="mailto:massung@gmail.com">massung@gmail.com</a>
<br/>
<a href="http://www.retrobyte.org" target="_blank">http://www.retrobyte.org</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22295 - DiscoStew - Thu Jun 17, 2004 5:31 am</h4>
    <div class="postbody"><span class="postbody">To me, the line...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
cout &lt;&lt; (what==1?func1:func2)() &lt;&lt; endl;
<br/>
</td> </tr></table><span class="postbody">
<br/>
...just looks odd. Then again, I've never tried something like that, let alone see if it even works. In my head, I could see this piece work...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
cout &lt;&lt; ((what==1) ? func1() : func2()) &lt;&lt; endl;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Not only would it not confuse the compiler, but each function could have separate parameters if you wanted.
<br/>
I'm more into readable code than tricks until I know exactly how it works. I even keep my original piece of code in comments if I were to try to change something, just so that I can see what I tried to do before making any tricks. Plus, I can go back to my original if I need to.
<br/>
I very rusty with pointer to functions, so I can't really help you there at the moment.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22297 - sajiimori - Thu Jun 17, 2004 5:56 am</h4>
    <div class="postbody"><span class="postbody">DiscoStew's second method is a good replacement from a technical standpoint.
<br/>
<br/>
But as far as style, I'm most inclined to do it the unclever way:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int i;
<br/>
<br/>
if(what == 1)
<br/>
  i = func1();
<br/>
else
<br/>
  i = func2();
<br/>
<br/>
cout &lt;&lt; i &lt;&lt; endl;
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22298 - sgeos - Thu Jun 17, 2004 6:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MumblyJoe wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   cout &lt;&lt; (what==1?func1:func2)() &lt;&lt; endl;</td> </tr></table><span class="postbody">
<br/>
<br/>
if you can see what i am doing you can see what i am trying to do, and see that it works as long as the functions have the same signiture.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Of course.  I'm not a C++ guy, but in C func1 is the same as &amp;func1 (is different from func1() ).  You are having your (?:) select a funtion pointer.  Then you pass parameters to your chosen function.  Neat!
<br/>
<br/>
It even works in C:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;stdio.h&gt;
<br/>
<br/>
int normal(int a) { return a; }
<br/>
int twotimes(int a) { return a &lt;&lt; 1; }
<br/>
int half(int a) { return a &gt;&gt; 1; }
<br/>
int square(int a) { return a*a; }
<br/>
<br/>
int main(int argc, char **argv)
<br/>
{
<br/>
        printf
<br/>
        (
<br/>
                "%d\n",
<br/>
                (
<br/>
                        argc &lt; 2 ? normal :
<br/>
                        argc &lt; 4 ? twotimes :
<br/>
                        argc &lt; 6 ? half :
<br/>
                                square
<br/>
                )(5)
<br/>
        );
<br/>
        return 0;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MumblyJoe wrote:</b></span></td> </tr> <tr> <td class="quote">PS. I know indexing into an array of functions would be faster in some cases...</td> </tr></table><span class="postbody">
<br/>
In the cases when an array is faster than (?:).
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22300 - Abscissa - Thu Jun 17, 2004 6:30 am</h4>
    <div class="postbody"><span class="postbody">Its a useless obfuscation.  The ?: operator is literally nothing more than shorthand for if-else, so the assembly generated is going to be extremely similar, if not identical.  The second way (the common way) is going to be 10x easier to read, debug and maintain.  The only "benefit" you'd get from the ?: style would be smaller C file, but that hasn't been remotely important in the last 20 years.
<br/>
<br/>
Since ?: is basically just an if-else with syntax that's better for numerical expressions than execution logic, it should only be used when it makes the code clearer (or at least doesn't make it any less clear).  Such as this example:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
int bestScore;
<br/>
<br/>
  // Simple and Concise
<br/>
bestScore = (score1 &gt; score2) ? score1 : score2;
<br/>
<br/>
  // Needlessly Verbose (But still perfectly ok)
<br/>
if(score1 &gt; score2)
<br/>
    bestScore = score1;
<br/>
else
<br/>
    bestScore = score2;
<br/>
<br/>
 // Note that both of the above will most likely generate
<br/>
 // the same assembly code.
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22302 - sgeos - Thu Jun 17, 2004 9:33 am</h4>
    <div class="postbody"><span class="postbody">Computer crashed before I finished posting.  Short response mode on!
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Abscissa wrote:</b></span></td> </tr> <tr> <td class="quote">The ?: operator is literally nothing more than shorthand for if-else,</td> </tr></table><span class="postbody">Disagree.  ?: is an expression.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define MIN(a,b) ((a) &lt; (b) ? (a) : (b))</td> </tr></table><span class="postbody">Please convert this to if-else form.
<br/>
[quote]so the assembly generated is going to be extremely similar, if not identical.[quote]Agree.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The second way (the common way) is going to be 10x easier to read, debug and maintain.</td> </tr></table><span class="postbody">Agree in most cases.  Note: verbosity of a function should be inversly proportional to its length.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The only "benefit" you'd get from the ?: style would be smaller C file, but that hasn't been remotely important in the last 20 years.</td> </tr></table><span class="postbody">Disagree.  Note verbosity above.  An ?: chain can be used as a terse version of a switch statement that processes logic.  (No fall through.)</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;stdio.h&gt;
<br/>
<br/>
int main(int argc, char **argv)
<br/>
{
<br/>
        char c = '0';
<br/>
<br/>
        /* switch-like */
<br/>
        if (1 &lt; argc)
<br/>
                c = argv[1][0];
<br/>
        '0' &lt;= c &amp;&amp; c &lt;= '9' ?
<br/>
                printf("numeral") :
<br/>
        'a' &lt;= c &amp;&amp; c &lt;= 'z' ?
<br/>
                printf("lower") :
<br/>
        'A' &lt;= c &amp;&amp; c &lt;= 'Z' ?
<br/>
                printf("upper") :
<br/>
        ' ' == c ?
<br/>
                printf("space") :
<br/>
        /* default */
<br/>
                printf("other");
<br/>
        return 0;
<br/>
}</td> </tr></table><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">it should only be used when it makes the code clearer (or at least doesn't make it any less clear)</td> </tr></table><span class="postbody">Good advice for any language feature.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">int bestScore;
<br/>
<br/>
  // Simple and Concise
<br/>
bestScore = (score1 &gt; score2) ? score1 : score2;
<br/>
<br/>
  // Needlessly Verbose (But still perfectly ok)
<br/>
if(score1 &gt; score2)
<br/>
    bestScore = score1;
<br/>
else
<br/>
    bestScore = score2;
<br/>
<br/>
 // Note that both of the above will most likely generate
<br/>
 // the same assembly code.
<br/>
</td> </tr></table><span class="postbody">I think ?: makes the code less clear.  The example is too short.  Short functions should be verbose, long functions should be terse (but not cryptic).
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22304 - Sweex - Thu Jun 17, 2004 10:24 am</h4>
    <div class="postbody"><span class="postbody">I'd say use if instead of the boolean operation. Easier to understand.<br/>_________________<br/>If everything fails, read the manual: If even that fails, post on forum!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22318 - sajiimori - Thu Jun 17, 2004 5:55 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define MIN(a,b) ((a) &lt; (b) ? (a) : (b))</td> </tr></table><span class="postbody">Please convert this to if-else form.</span></td> </tr></table><span class="postbody">
<br/>
Both C and C++ are weak in this regard (no lambdas, only lexical macros).  C++ can almost do it clumsily as follows:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
template&lt;class T&gt; inline T&amp; min(T&amp; a, T&amp; b)
<br/>
{
<br/>
  if(a &lt; b) return a;
<br/>
  return b;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
However, the 2 parameters can't be of different types because there's no way to specify which type is returned.  *sigh* At least it's "type safe", for what little it's worth.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Note: verbosity of a function should be inversly proportional to its length.
<br/>
</td> </tr></table><span class="postbody">
<br/>
That's a new concept for me.  Can you qualify it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22319 - isildur - Thu Jun 17, 2004 7:09 pm</h4>
    <div class="postbody"><span class="postbody">Another clever way is to use an array of function pointers like this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include &lt;iostream&gt; 
<br/>
<br/>
int func1(){return 1;} 
<br/>
int func2(){return 2;} 
<br/>
<br/>
typedef int (*intFuncPtr) (); // create a int func() type
<br/>
<br/>
// an aray of 2 function pointers
<br/>
intFuncPtr intFuncPtrArray[2] = {func1, func2};
<br/>
<br/>
int main() 
<br/>
{ 
<br/>
   using namespace std; 
<br/>
<br/>
   cout &lt;&lt; "Function 1 or 2:"; 
<br/>
   int what; 
<br/>
   cin &gt;&gt; what; 
<br/>
<br/>
   // of course, you would have to validate the user input
<br/>
   cout &lt;&lt; intFuncPtrArray[what-1]();
<br/>
<br/>
   return 0; 
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22320 - sajiimori - Thu Jun 17, 2004 7:37 pm</h4>
    <div class="postbody"><span class="postbody">isildur, maybe you're lost.  Did you mean to go <a class="postlink" href="http://www.ioccc.org/" target="_blank">here</a>? =)</span><span class="gensmall"><br/><br/>Last edited by sajiimori on Thu Jun 17, 2004 10:33 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#22321 - isildur - Thu Jun 17, 2004 7:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">isuldur, maybe you're lost.  Did you mean to go <a class="postlink" href="http://www.ioccc.org/" target="_blank">here</a>? =)</td> </tr></table><span class="postbody">
<br/>
<br/>
lol</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22322 - Miked0801 - Thu Jun 17, 2004 10:29 pm</h4>
    <div class="postbody"><span class="postbody">lol.  Great link :)
<br/>
<br/>
Though tables of function pointers have their place in the C coding world, I don't believe this is one of them :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22323 - sgeos - Fri Jun 18, 2004 12:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Note: verbosity of a function should be inversly proportional to its length.</td> </tr></table><span class="postbody">That's a new concept for me.  Can you qualify it?</span></td> </tr></table><span class="postbody">A person can only keep so much in his or her head at a time.  This <span style="font-weight: bold">mental limit</span> is a little different for each person.  As one approaches that limit, figuring something out becomes more difficult.
<br/>
<br/>
If a function is far below that limit, being more verbose will make it clearer.  If one is near or at that mental limit, the extra verbosity will be more that the reader has to keep track of.  That pushes that person to their mental limit faster.  After one reaches his or her mental limit, that person has to page up and down to figure out what is going on.
<br/>
<br/>
Consider a function that consists of nothing more than an if-else clause.  Three extra local variables are declared because it makes the code clearer.  A 25 line comment block is above the if statement, and another 25 line comment block above the else statement.
<br/>
<br/>
Now consider a function that consists of nothing more than a 200 case switch statement.  Let's do the same thing.  Three hundred extra local variables are declared because it will make the clearer.  A 25 line comment block is above each case.
<br/>
<br/>
Nobody would be motivated to go to the second extreme.  Does it illustrate the point?  Keep in mind that being terse and obfuscating code are different.  The line between making something terse and obfuscation is a little blurry.  Adding extra parentheses when they don't do anything is an obfuscation:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">for (((((((i)))=(((0))))));((((((i)))&lt;(((256)))))); ((((((i)))++)))) {{{
<br/>
   // /* /* /* Do Stuff */ */ */
<br/>
}}}</td> </tr></table><span class="postbody">It makes the code confusing.
<br/>
<br/>
I have intentionally not memorized C's precedence of operators.  Multiplication before division, parentheses around everything else.  When hard core hackers read my code, I get comments like <span style="font-weight: bold">"you know that you don't need parentheses there, right?"</span> and <span style="font-weight: bold">"if you use one set of parentheses, why not use twenty?"</span>  To them, those are "extra parentheses that don't do anything".  After I add the parentheses, I know the order of execution and I know that anyone reading the code can figure it out.  (I only need one set to achieve my goal.)
<br/>
<br/>
Eliminating whitespace would make one's code terser.  Having the entire file on one line is clearly an obfuscation.  Turning code into ascii art is even worse.  Consider <span style="font-weight: bold">happy main():</span></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"> /*~*/      /*~*/
<br/>
<br/>
   int     main
<br/>
    (      void
<br/>
                         /*===============*/
<br/>
                        /*  Hello World! */
<br/>
        )              //^^^^^^^^^^^^^^^^^
<br/>
<br/>
/*               */
<br/>
 /*             */
<br/>
   {return 0 ; }</td> </tr></table><span class="postbody">Certainly not terse.
<br/>
<br/>
Because the computer is going to figure the code out, the goal is to make the code generally easier to read and comprehend:
<br/>
<br/>
Take large functions and break them into smaller functions
<br/>
Make the intent of small functions crystal clear
<br/>
Strip verbosity from larger functions so they are easier to comprehend
<br/>
<br/>
I hope that is an adequate qualification.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22324 - isildur - Fri Jun 18, 2004 2:47 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Though tables of function pointers have their place in the C coding world, I don't believe this is one of them :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Of course using tables of function pointers are "pointless" in that example. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22325 - MumblyJoe - Fri Jun 18, 2004 2:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>isildur wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
// of course, you would have to validate the user input
<br/>
   cout &lt;&lt; intFuncPtrArray[what-1]();
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
Exactly. It certainly saves us from using ?: but yeah, still have to validate the input in some way if you want 1 to call something and anything else to call something else.[/code]<br/>_________________<br/><a class="postlink" href="http://www.hungrydeveloper.com" target="_blank">www.hungrydeveloper.com</a>
<br/>
Version 2.0 now up - guaranteed at least 100% more pleasing!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22331 - sajiimori - Fri Jun 18, 2004 7:36 am</h4>
    <div class="postbody"><span class="postbody">Thanks, sgeos.  I think I understand your reasoning.  My perspective is exactly the opposite.
<br/>
<br/>
For functions that have few elements, I can afford to be terse because it won't put additional stress on the reader.  Here is an example from a stupid assignment for a software engineering class I'm in:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
static void move_to_floor()
<br/>
{
<br/>
    Elevator* e = elevators.get(get_elevator_num());
<br/>
    cout &lt;&lt; "Floor: " &lt;&lt; flush;
<br/>
    e-&gt;move_to_floor(get_int());
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
Since the reader can hold all the elements of the function in mind at once, it makes sense to put it all within their visual field for very fast reading.  All things being equal, a shorter program is preferred to a longer one, so I can consider this terseness pure profit in lines of code.
<br/>
<br/>
For functions with many elements, first double check that there is no convenient way to split it into multiple functions.  If splitting it up wouldn't help (or if it would only make matters worse), then keep in mind that your reader is already under stress due to the number of elements.  Writing tersely creates an additional stress, which may put the reader over their limit, forcing re-readings and possibly misinterpretation.
<br/>
<br/>
Here is a function whose logic is not immediately apparent, and it has several elements.  With these stresses in mind, the code is written to allow the reader to think about only a subset of the problem at a time.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void FreightElevator::set_door_state(DoorState state, DoorSet set)
<br/>
{
<br/>
    if(set == INNER_DOORS)
<br/>
    {
<br/>
        if(state == OPEN)
<br/>
        {
<br/>
            if(outer_doors == CLOSED)
<br/>
            {
<br/>
                cout &lt;&lt; "Freight outer doors must be opened "
<br/>
                     &lt;&lt; "before inner doors" &lt;&lt; endl;
<br/>
                return;
<br/>
            }
<br/>
<br/>
            control-&gt;open_inner_doors();
<br/>
        }
<br/>
        else
<br/>
            control-&gt;close_inner_doors();
<br/>
<br/>
        inner_doors = state;
<br/>
    }
<br/>
    else
<br/>
    {
<br/>
        if(state == OPEN)
<br/>
            control-&gt;open_outer_doors();
<br/>
        else
<br/>
        {
<br/>
            if(inner_doors == OPEN)
<br/>
            {
<br/>
                cout &lt;&lt; "Freight inner doors must be closed "
<br/>
                     &lt;&lt; "before outer doors" &lt;&lt; endl;
<br/>
                return;
<br/>
            }
<br/>
<br/>
            control-&gt;close_outer_doors();
<br/>
        }
<br/>
<br/>
        outer_doors = state;
<br/>
    }
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22333 - sgeos - Fri Jun 18, 2004 9:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">My perspective is exactly the opposite.</td> </tr></table><span class="postbody">I think we agree that the goal is code another person can understand.  Putting stress on the reader is counter to that goal- especially when a function gets long.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">For functions with many elements...  Writing tersely creates an additional stress...</td> </tr></table><span class="postbody">I disagree.  Writing in an obscured fashion puts extra stress on the reader.  Expanding the information the reader needs to keep track of also increases stress.
<br/>
<br/>
Code does not ever want to be terse to the extent of being obscure.  Again, there is a blurry line in sand.  There are times where one wants to make their code extra verbose.  I do not think that long functions are place for this.  Short functions are the place for extra verbosity.  Trivial functions are self documenting in general and do not need anything extra.
<br/>
<br/>
Your example fits on a page or two.  It is not trivial, nor is it truly long.  I'll also argue that it could probably be broken up.  At the very least I'd comment the else clauses.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">if(set == INNER_DOORS)
<br/>
...
<br/>
else /*(set == OUTER_DOORS)*/
<br/>
...</td> </tr></table><span class="postbody">That way your reader/maintainer knows your assumptions, at the very least.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22338 - sajiimori - Fri Jun 18, 2004 8:21 pm</h4>
    <div class="postbody"><span class="postbody">I don't understand this idea that small functions want to grow and large functions want to shrink, as if all functions should drift toward a particular length.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">For functions with many elements... Writing tersely creates an additional stress...</td> </tr></table><span class="postbody">
<br/>
Let me clarify this.  Writing more tersely <span style="font-style: italic">always</span> creates an additional stress, not just for long functions.  This is because more elements of the problem have to be held in mind at once.  Writing verbosely allows the reader to reach an understanding in smaller increments.  It's the same reason you break large functions into small ones -- the reader doesn't have to think about the whole problem at once.
<br/>
<br/>
I don't know if you know Lisp, but code written in that language in particular has a seemingly unlimited potential for being extremely terse, without ever becoming obfuscated (due to its self-similarity at all scales).
<br/>
<br/>
Some Lisp gurus (notably Paul Graham) believe that you can recognize good Lisp code by the shape of it on the page.  Good code will flow gracefully, like the following Scheme that produces all the permutations of a list:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
(define (perms items)
<br/>
  (if (null? (cdr items))
<br/>
      (list items)
<br/>
      (let ((positions (range 0 (sub1 (length items)))))
<br/>
        (apply append
<br/>
               (map (lambda  (rst)
<br/>
                       (map (lambda  (pos)
<br/>
                               (insert (car items) pos rst))
<br/>
                            positions))
<br/>
                    (perms (cdr items)))))))
<br/>
</td> </tr></table><span class="postbody">
<br/>
I don't believe this code is obfuscated (because it is clean, and it doesn't use any funny tricks), but a lot of things are happening at once, and I personally feel that burden while reading it.
<br/>
<br/>
The code's shape is determined by indentation, and indentation is used according to the nesting of expressions.  So, code that flows this way is really just deeply nested.  The alternative is to declare a series of local variables and then apply them on the last line, which would make the code more vertically shaped.
<br/>
<br/>
It would also make the code longer.  You can tell how terse a bit of Lisp code is by how deeply nested it is.  If you see a local variable declared and only used once, the code could be made more terse by inserting the variable's value where it is used and eliminating the declaration.  The above example can be shortened by one line by eliminating the local declaration of 'positions' and inlining its assigned value, but that would make the expression even more deeply nested.
<br/>
<br/>
To a certain extent, this is also true of code written in a language from the C/Algol family.  My example of a short, terse function has 2 nested expressions.  How would the code be different if I had used local variables to capture return values instead of passing them straight to the next function?  There are 2 main differences:
<br/>
<br/>
- The code would be longer.
<br/>
- The reader could focus on smaller parts at a time.
<br/>
<br/>
To summarize, terseness is a stress, but I use it when I can afford to because all things being equal, short code is better than long code.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22339 - dagamer34 - Sat Jun 19, 2004 12:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MumblyJoe wrote:</b></span></td> </tr> <tr> <td class="quote">I was just thinking earlier about the ?: operators, and thought I would try something. Consider this working code:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;iostream&gt;
<br/>
<br/>
#define MYWAY
<br/>
<br/>
int func1(){return 1;}
<br/>
int func2(){return 2;}
<br/>
<br/>
int main()
<br/>
{
<br/>
   using namespace std;
<br/>
<br/>
   cout &lt;&lt; "Function 1 or 2:";
<br/>
   int what;
<br/>
   cin &gt;&gt; what;
<br/>
<br/>
#ifdef MYWAY
<br/>
   cout &lt;&lt; (what==1?func1:func2)() &lt;&lt; endl;
<br/>
#else
<br/>
   if(what==1)
<br/>
      cout &lt;&lt; func1();
<br/>
   else
<br/>
      cout &lt;&lt; func2();
<br/>
   cout &lt;&lt; endl;
<br/>
#endif
<br/>
<br/>
<br/>
   return 0;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
if you can see what i am doing you can see what i am trying to do, and see that it works as long as the functions have the same signiture. I cant decide which one has what benifits (besides clearness of code) but I am playing with borland compilers now to see.
<br/>
<br/>
Tell me what you think... useless confuscation or genuine useful coding practice.
<br/>
<br/>
PS. I know indexing into an array of functions would be faster in some cases but not if you want 1==func1 and everything else == func2 because you still end up checking for that before indexing into the array and would need code like func[(what==1)]() anyway...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-style: italic">Premature optimization is the root of all evil.</span><br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22353 - sgeos - Sat Jun 19, 2004 5:27 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">I don't understand this idea that small functions want to grow and large functions want to shrink, as if all functions should drift toward a particular length.</td> </tr></table><span class="postbody">It certainly makes more sense to me than the notion that small functions should be smaller and large functions should larger.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">Writing more tersely <span style="font-style: italic">always</span> creates an additional stress</td> </tr></table><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">...all things being equal, short code is better than long code.</td> </tr></table><span class="postbody">You seem to be arguing both that terse code is stressful, and that short code is better.  The way I see it, terse code always shorter.  If terse code is always more stressful, how is short code better?
<br/>
<br/>
All things are never equal.  Why don't we just keep making our code more and more verbose until it is not at all stressful to read?
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22358 - sajiimori - Sat Jun 19, 2004 6:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
It certainly makes more sense to me than the notion that small functions should be smaller and large functions should larger.
<br/>
</td> </tr></table><span class="postbody">
<br/>
I would never claim such a thing.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
You seem to be arguing both that terse code is stressful, and that short code is better. The way I see it, terse code always shorter. If terse code is always more stressful, how is short code better?
<br/>
</td> </tr></table><span class="postbody">
<br/>
I said <span style="font-style: italic">all things being equal</span> short code is better.  If being shorter means sacrificing something, then that has to be taken into account.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
All things are never equal.
<br/>
</td> </tr></table><span class="postbody">
<br/>
It's an idealization.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Why don't we just keep making our code more and more verbose until it is not at all stressful to read?
<br/>
</td> </tr></table><span class="postbody">
<br/>
Length has its own costs.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22360 - poslundc - Sat Jun 19, 2004 6:46 am</h4>
    <div class="postbody"><span class="postbody">I don't understand what is so difficult about this.
<br/>
<br/>
Code should be kept <span style="font-weight: bold">clear</span> and <span style="font-weight: bold">concise</span>. The two do not always agree, so finding a balance between the two is where <span style="font-style: italic">style</span> is derived from.
<br/>
<br/>
There is no single pure style of coding that I am aware of. So long as obfuscation is minimized, though, I don't see a problem.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22363 - sgeos - Sat Jun 19, 2004 11:36 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">It certainly makes more sense to me than the notion that small functions should be smaller and large functions should larger.</td> </tr></table><span class="postbody">I would never claim such a thing.</span></td> </tr></table><span class="postbody">I don't think you are.  I can't tell if you are claiming that verbose is always better, or if shorter is better, or both.  I suspect that you are implicitly claiming that one needs to try to find a balance between the two.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Why don't we just keep making our code more and more verbose until it is not at all stressful to read?</td> </tr></table><span class="postbody">Length has its own costs.[/quote]The cost that length has is the reason that I claimed that the verbosity should be roughly inversely proportional to its length.  Are you familiar with the concept that <span style="font-weight: bold">a function should do one thing and do it well</span>?  Rarely does a function need to be long <span style="font-weight: bold">and</span> complicated to do one thing well.  A compact expression, or a long repetitve setup (switch) are both ways of doing (completely different kinds of) single thing(s) well.
<br/>
<br/>
It seems that to directly state that a function's verbosity should be inversely proportional to it's length is a flawed simplification.  A function's verbosity should be proportional to its complexity.  If a function does one job, and does it well, it's length will usually end up being inversely proportional to its complexity.  Therefore a function's verbosity should usually be inversely proportional to its length.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">Code should be kept clear and concise. The two do not always agree, so finding a balance between the two is where style is derived from.</td> </tr></table><span class="postbody">I know that, and I suspect that sajiimori knows that.  My goal in this discussion is to stop operating under flawed assumptions, if indeed I am.  Alternatively, if there is something imporatant that I have not been exposed to before and do not understand, then I'd like to know about it.  Last, if I ever end up programming with sajiimori (or anyone he ends up training), I'd like to do my best to ensure that the logic behind his coding procedures is at the very least acceptable.  (It is far better than just acceptable.)</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">There is no single pure style of coding that I am aware of.</td> </tr></table><span class="postbody">If I knew of a "single pure style of coding" then I would surely have more important places to be than this forum.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">I don't understand what is so difficult about this.</td> </tr></table><span class="postbody">Evidently your goals in a discussion are different from mine, or you failed to see my goals given either the context or my presentation.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22378 - sajiimori - Sat Jun 19, 2004 7:24 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I can't tell if you are claiming that verbose is always better, or if shorter is better, or both.
<br/>
</td> </tr></table><span class="postbody">
<br/>
I can pretty much sum things up this way:  Make things as short as you can, and only as verbose as you must.
<br/>
<br/>
Imagine you have a function that you can write in many different ways.  Each way is acceptable from an efficiency standpoint, and each one could be considered "well written" (i.e. none would be called "obfuscated").  The various methods result in code ranging from 5 lines to 20 lines.
<br/>
<br/>
The difference between each version is their <span style="font-style: italic">density</span>.  There is currently no consensus on whether it is better to be dense or sparse.  Lisp <a class="postlink" href="http://www.paulgraham.com/onlisp.html" target="_blank">programmers</a> often believe in dense code, while Python comes with a built-in philosophy that "sparse is better than dense" (just type 'import this' at the command line).
<br/>
<br/>
One of the best arguments I've heard in favor of dense code is this:  When you are reading dense code, you feel like you're going slower because your eyes are crossing the page more slowly.  While reading equivalent sparse code, you feel like you're reading fast because you never pause for long on any given line.  In actuality, the speed is about the same, or even slower for sparse code because you have to scroll or turn pages to bring more into your field of vision.  You simply cover more material per line in dense code.
<br/>
<br/>
One of the best arguments I've heard in favor of sparse code is this:  I've had a harder time reading dense code.  In reality, dense programs use fewer named variables and more nested expressions, which forces me to hold a larger part of the problem in my head at once.  If there is too much for me, I have to mentally or actually rewrite the function in a more sparse manner, doing only subsets of the problem at once and naming the results.
<br/>
<br/>
So, I wouldn't argue for density or sparseness for their own sake.  I would only argue for <span style="font-style: italic">short</span> code -- as short as you can while staying within the mental limits of your audience (even if it's only yourself).
<br/>
<br/>
Have you ever had to read a textbook that was very sparse?  Most of my first-year college books were this way: It seemed like I had to read a whole page before I got any useful information.  This is because the author was assuming that giving more information at once would overload his freshman audience.  The result is that each sentence has very little content and so very little to keep in mind at once.
<br/>
<br/>
Have you ever read a scientific paper or an advanced textbook?  People think the main difference is in how big the words are, but that's just a side-effect of the important difference: The author assumes the reader can handle more information at once, and so writes densely (choosing words carefully for maximum effect, even if the words are obscure or long).
<br/>
<br/>
Anyway, this post is getting verbose so I'll leave you with that. =)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22391 - dagamer34 - Sun Jun 20, 2004 12:26 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I can't tell if you are claiming that verbose is always better, or if shorter is better, or both.
<br/>
</td> </tr></table><span class="postbody">
<br/>
I can pretty much sum things up this way:  Make things as short as you can, and only as verbose as you must.
<br/>
<br/>
Imagine you have a function that you can write in many different ways.  Each way is acceptable from an efficiency standpoint, and each one could be considered "well written" (i.e. none would be called "obfuscated").  The various methods result in code ranging from 5 lines to 20 lines.
<br/>
<br/>
The difference between each version is their <span style="font-style: italic">density</span>.  There is currently no consensus on whether it is better to be dense or sparse.  Lisp <a class="postlink" href="http://www.paulgraham.com/onlisp.html" target="_blank">programmers</a> often believe in dense code, while Python comes with a built-in philosophy that "sparse is better than dense" (just type 'import this' at the command line).
<br/>
<br/>
One of the best arguments I've heard in favor of dense code is this:  When you are reading dense code, you feel like you're going slower because your eyes are crossing the page more slowly.  While reading equivalent sparse code, you feel like you're reading fast because you never pause for long on any given line.  In actuality, the speed is about the same, or even slower for sparse code because you have to scroll or turn pages to bring more into your field of vision.  You simply cover more material per line in dense code.
<br/>
<br/>
One of the best arguments I've heard in favor of sparse code is this:  I've had a harder time reading dense code.  In reality, dense programs use fewer named variables and more nested expressions, which forces me to hold a larger part of the problem in my head at once.  If there is too much for me, I have to mentally or actually rewrite the function in a more sparse manner, doing only subsets of the problem at once and naming the results.
<br/>
<br/>
So, I wouldn't argue for density or sparseness for their own sake.  I would only argue for <span style="font-style: italic">short</span> code -- as short as you can while staying within the mental limits of your audience (even if it's only yourself).
<br/>
<br/>
Have you ever had to read a textbook that was very sparse?  Most of my first-year college books were this way: It seemed like I had to read a whole page before I got any useful information.  This is because the author was assuming that giving more information at once would overload his freshman audience.  The result is that each sentence has very little content and so very little to keep in mind at once.
<br/>
<br/>
Have you ever read a scientific paper or an advanced textbook?  People think the main difference is in how big the words are, but that's just a side-effect of the important difference: The author assumes the reader can handle more information at once, and so writes densely (choosing words carefully for maximum effect, even if the words are obscure or long).
<br/>
<br/>
Anyway, this post is getting verbose so I'll leave you with that. =)</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I wonder if your post was sparse or dense... :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22393 - sajiimori - Sun Jun 20, 2004 1:12 am</h4>
    <div class="postbody"><span class="postbody">Yours was definitely very sparse -- you took almost 30 lines just for a simple question! :O</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22395 - dagamer34 - Sun Jun 20, 2004 3:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">Yours was definitely very sparse -- you took almost 30 lines just for a simple question! :O</td> </tr></table><span class="postbody">
<br/>
That's the way to do it! :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
