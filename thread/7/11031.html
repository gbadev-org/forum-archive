<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Can C++/C# be used to make ds apps? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Can C++/C# be used to make ds apps?</h2>
<div id="posts">
<div class="post">
    <h4>#101206 - tarkster2 - Sun Sep 03, 2006 9:26 pm</h4>
    <div class="postbody"><span class="postbody">Im just learned about this stuff yesterday so im a noob. if i have devkitpro and select C++/C# in programmers notepad could that program be used on a ds (with movieplayer and passcard 3)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101210 - tepples - Sun Sep 03, 2006 9:33 pm</h4>
    <div class="postbody"><span class="postbody">Yes, you can use C++ in your ARM9 program. No, you currently cannot use managed code such as Java or C#.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101542 - sgeos - Wed Sep 06, 2006 10:36 am</h4>
    <div class="postbody"><span class="postbody">I'm assuming that <a class="postlink" href="http://www.onjava.com/pub/a/onjava/synd/2001/08/15/embedded.html" target="_blank">ahead-of-time Java compilers</a> and whatnot don't exist for the GBA.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101580 - sajiimori - Wed Sep 06, 2006 6:26 pm</h4>
    <div class="postbody"><span class="postbody">GCC can compile Java ahead of time, but you need a runtime environment.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101649 - sgeos - Thu Sep 07, 2006 12:17 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">GCC can compile Java ahead of time, but you need a runtime environment.</td> </tr></table><span class="postbody">
<br/>
Which I'm assuming:
<br/>
A) Has not been created yet, and
<br/>
B) Is not a straight port.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101653 - gmiller - Thu Sep 07, 2006 12:59 am</h4>
    <div class="postbody"><span class="postbody">On linux java compiles to object code not to byte code and then links with a library (or it did last time I messed with it).  Which means it could be built for some environments but the libraries are HUGE so the code might not fit too well.  I will pull out a small java app and see what it does with "gcc -type java".</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101657 - gmiller - Thu Sep 07, 2006 1:58 am</h4>
    <div class="postbody"><span class="postbody">The "gcj" compiler (front end to gcc) or gcc -x java will product assembly code on linux which you could use on an embedded machine.  The problem with these types of problems is the libraries.  I t would take a long time to trim down the library code to allow this to be ported to a machine without a java virtual machine.  Now some ARM9 processors have the java byte code as part fo their native instruction set but the ARM9 in the DS does not (I think).  What you need to understand is this is not a trivial task, but neither was trimming the C runtime library or the C++ library.  It might be possible but the language without most of the System:: and I/O code would be just like doing it in C or C++.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101660 - sajiimori - Thu Sep 07, 2006 2:25 am</h4>
    <div class="postbody"><span class="postbody">Garbage collection alone makes Java pretty different to work with.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101680 - sgeos - Thu Sep 07, 2006 12:17 pm</h4>
    <div class="postbody"><span class="postbody">How would one go about touching IO registers from java?
<br/>
<br/>
As far as garbage collection goes... I might force it every
<br/>
frame just to be predictable.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101687 - tepples - Thu Sep 07, 2006 2:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">How would one go about touching IO registers from java?</td> </tr></table><span class="postbody">
<br/>
Your program written in the Java language would call runtime libraries written in the Java language, which would call native back-ends through JNI.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101700 - gmiller - Thu Sep 07, 2006 3:14 pm</h4>
    <div class="postbody"><span class="postbody">With the gcc route you could just call C or C++ code to do the register touching and reading.  Since it is just code (the temp file are in assembly) you code generate the code and then "customize" the generated code to enable your libraries.  On linux there is no java virtual machine using this method of course this was just the gcc approach.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101707 - sgeos - Thu Sep 07, 2006 3:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">How would one go about touching IO registers from java?</td> </tr></table><span class="postbody">
<br/>
Your program written in the Java language would call runtime libraries written in the Java language, which would call native back-ends through JNI.</span></td> </tr></table><span class="postbody">
<br/>
In other words, using currently non-existant gba/ds-specific libraries?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gmiller wrote:</b></span></td> </tr> <tr> <td class="quote">On linux there is no java virtual machine using this method of course this was just the gcc approach.</td> </tr></table><span class="postbody">
<br/>
How is this to be parsed?
<br/>
<br/>
On linux, there is no java virtual machine using this method.
<br/>
Of course this was just the gcc approach.
<br/>
<br/>
On linux, there is no java virtual machine.
<br/>
Using this method, of course, this was just the gcc approach.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101709 - gmiller - Thu Sep 07, 2006 4:09 pm</h4>
    <div class="postbody"><span class="postbody">On my Linux box ....
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
gcc -S  MyFirst.java
<br/>
cat MyFirst.s
<br/>
        .file   "MyFirst.java"
<br/>
        .text
<br/>
        .align 2
<br/>
.globl _ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE
<br/>
        .type   _ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE, @function
<br/>
_ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE:
<br/>
.LFB2:
<br/>
        pushl   %ebp
<br/>
.LCFI0:
<br/>
        movl    %esp, %ebp
<br/>
.LCFI1:
<br/>
        subl    $24, %esp
<br/>
.LCFI2:
<br/>
        movl    $_ZN7MyFirst6class$E, (%esp)
<br/>
        call    _Jv_InitClass
<br/>
        movl    $6, -4(%ebp)
<br/>
        movl    $14, -8(%ebp)
<br/>
        movl    -4(%ebp), %eax
<br/>
        addl    -8(%ebp), %eax
<br/>
        movl    %eax, -12(%ebp)
<br/>
        leave
<br/>
        ret
<br/>
.LFE2:
<br/>
        .size   _ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE, .-_ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE
<br/>
.globl __gcj_personality_v0
<br/>
        .align 2
<br/>
.globl _ZN7MyFirstC1Ev
<br/>
        .type   _ZN7MyFirstC1Ev, @function
<br/>
_ZN7MyFirstC1Ev:
<br/>
.LFB3:
<br/>
        pushl   %ebp
<br/>
.LCFI3:
<br/>
        movl    %esp, %ebp
<br/>
.LCFI4:
<br/>
        subl    $8, %esp
<br/>
.LCFI5:
<br/>
        movl    8(%ebp), %eax
<br/>
        movl    %eax, (%esp)
<br/>
        call    _ZN4java4lang6ObjectC1Ev
<br/>
        leave
<br/>
        ret
<br/>
.LFE3:
<br/>
        .size   _ZN7MyFirstC1Ev, .-_ZN7MyFirstC1Ev
<br/>
        .set    .L_ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE0,_ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE
<br/>
        .section        .rodata
<br/>
        .align 2
<br/>
        .type   _Utf1, @object
<br/>
        .size   _Utf1, 4
<br/>
_Utf1:
<br/>
        .value  1465
<br/>
        .value  4
<br/>
        .ascii  "main"
<br/>
        .zero   1
<br/>
        .align 2
<br/>
        .type   _Utf2, @object
<br/>
        .size   _Utf2, 4
<br/>
_Utf2:
<br/>
        .value  59434
<br/>
        .value  22
<br/>
        .ascii  "([Ljava.lang.String;)V"
<br/>
        .zero   1
<br/>
        .set    .L_ZN7MyFirstC1Ev1,_ZN7MyFirstC1Ev
<br/>
        .align 2
<br/>
        .type   _Utf3, @object
<br/>
        .size   _Utf3, 4
<br/>
_Utf3:
<br/>
        .value  626
<br/>
        .value  6
<br/>
        .ascii  "&lt;init&gt;"
<br/>
        .zero   1
<br/>
        .align 2
<br/>
        .type   _Utf4, @object
<br/>
        .size   _Utf4, 4
<br/>
_Utf4:
<br/>
        .value  39797
<br/>
        .value  3
<br/>
        .ascii  "()V"
<br/>
        .zero   1
<br/>
        .data
<br/>
        .align 32
<br/>
        .type   _MT_MyFirst, @object
<br/>
        .size   _MT_MyFirst, 40
<br/>
_MT_MyFirst:
<br/>
        .long   _Utf1
<br/>
        .long   _Utf2
<br/>
        .value  16393
<br/>
        .value  -1
<br/>
        .long   .L_ZN7MyFirst4mainEP6JArrayIPN4java4lang6StringEE0
<br/>
        .long   0
<br/>
        .long   _Utf3
<br/>
        .long   _Utf4
<br/>
        .value  16385
<br/>
        .value  -1
<br/>
        .long   .L_ZN7MyFirstC1Ev1
<br/>
        .long   0
<br/>
.globl _ZTVN7MyFirstE
<br/>
        .align 32
<br/>
        .type   _ZTVN7MyFirstE, @object
<br/>
        .size   _ZTVN7MyFirstE, 40
<br/>
_ZTVN7MyFirstE:
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   _ZN7MyFirst6class$E
<br/>
        .long   0
<br/>
        .long   _ZN4java4lang6Object8finalizeEv
<br/>
        .long   _ZN4java4lang6Object8hashCodeEv
<br/>
        .long   _ZN4java4lang6Object6equalsEPS1_
<br/>
        .long   _ZN4java4lang6Object8toStringEv
<br/>
        .long   _ZN4java4lang6Object5cloneEv
<br/>
        .long   _ZN4java4lang6Object22throwNoSuchMethodErrorEv
<br/>
        .align 4
<br/>
        .type   _catch_classes_MyFirst, @object
<br/>
        .size   _catch_classes_MyFirst, 24
<br/>
_catch_classes_MyFirst:
<br/>
        .zero   24
<br/>
        .section        .rodata
<br/>
        .align 2
<br/>
        .type   _Utf5, @object
<br/>
        .size   _Utf5, 4
<br/>
_Utf5:
<br/>
        .value  6212
<br/>
        .value  7
<br/>
        .ascii  "MyFirst"
<br/>
        .zero   1
<br/>
.globl _ZN7MyFirst6class$E
<br/>
        .data
<br/>
        .align 32
<br/>
        .type   _ZN7MyFirst6class$E, @object
<br/>
        .size   _ZN7MyFirst6class$E, 144
<br/>
_ZN7MyFirst6class$E:
<br/>
        .long   _ZTVN4java4lang5ClassE+8
<br/>
        .long   0
<br/>
        .long   401000
<br/>
        .long   _Utf5
<br/>
        .value  1
<br/>
        .zero   2
<br/>
        .long   _ZN4java4lang6Object6class$E
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   _MT_MyFirst
<br/>
        .value  2
<br/>
        .value  6
<br/>
        .long   0
<br/>
        .long   8
<br/>
        .value  0
<br/>
        .value  0
<br/>
        .long   _ZTVN7MyFirstE+8
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   _catch_classes_MyFirst
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .value  0
<br/>
        .byte   1
<br/>
        .zero   1
<br/>
        .long   0
<br/>
        .value  0
<br/>
        .zero   2
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .long   0
<br/>
        .section        .jcr,"aw",@progbits
<br/>
        .align 4
<br/>
        .long   _ZN7MyFirst6class$E
<br/>
        .section        .eh_frame,"a",@progbits
<br/>
.Lframe1:
<br/>
        .long   .LECIE1-.LSCIE1
<br/>
.LSCIE1:
<br/>
        .long   0x0
<br/>
        .byte   0x1
<br/>
        .string "zP"
<br/>
        .uleb128 0x1
<br/>
        .sleb128 -4
<br/>
        .byte   0x8
<br/>
        .uleb128 0x5
<br/>
        .byte   0x0
<br/>
        .long   __gcj_personality_v0
<br/>
        .byte   0xc
<br/>
        .uleb128 0x4
<br/>
        .uleb128 0x4
<br/>
        .byte   0x88
<br/>
        .uleb128 0x1
<br/>
        .align 4
<br/>
.LECIE1:
<br/>
.LSFDE1:
<br/>
        .long   .LEFDE1-.LASFDE1
<br/>
.LASFDE1:
<br/>
        .long   .LASFDE1-.Lframe1
<br/>
        .long   .LFB2
<br/>
        .long   .LFE2-.LFB2
<br/>
        .uleb128 0x0
<br/>
        .byte   0x4
<br/>
        .long   .LCFI0-.LFB2
<br/>
        .byte   0xe
<br/>
        .uleb128 0x8
<br/>
        .byte   0x85
<br/>
        .uleb128 0x2
<br/>
        .byte   0x4
<br/>
        .long   .LCFI1-.LCFI0
<br/>
        .byte   0xd
<br/>
        .uleb128 0x5
<br/>
        .align 4
<br/>
.LEFDE1:
<br/>
.LSFDE3:
<br/>
        .long   .LEFDE3-.LASFDE3
<br/>
.LASFDE3:
<br/>
        .long   .LASFDE3-.Lframe1
<br/>
        .long   .LFB3
<br/>
        .long   .LFE3-.LFB3
<br/>
        .uleb128 0x0
<br/>
        .byte   0x4
<br/>
        .long   .LCFI3-.LFB3
<br/>
        .byte   0xe
<br/>
        .uleb128 0x8
<br/>
        .byte   0x85
<br/>
        .uleb128 0x2
<br/>
        .byte   0x4
<br/>
        .long   .LCFI4-.LCFI3
<br/>
        .byte   0xd
<br/>
        .uleb128 0x5
<br/>
        .align 4
<br/>
.LEFDE3:
<br/>
        .ident  "GCC: (GNU) 4.1.1 20060525 (Red Hat 4.1.1-1)"
<br/>
        .section        .note.GNU-stack,"",@progbits
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101712 - gmiller - Thu Sep 07, 2006 4:15 pm</h4>
    <div class="postbody"><span class="postbody">Of course all of this assumes the cross compiler you are using will generate code for the target machine.  My current compile does not allow an ARM target on this machine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101781 - sgeos - Fri Sep 08, 2006 12:26 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gmiller wrote:</b></span></td> </tr> <tr> <td class="quote">Of course all of this assumes the cross compiler you are using will generate code for the target machine.  My current compile does not allow an ARM target on this machine.</td> </tr></table><span class="postbody">
<br/>
Sounds interesting to try to get Java running on an ARM.  Then, in theory at least, cell phone games and applets could be ported "easily".  (Where easily probably means a fair bit of hassle =)
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#101786 - keldon - Fri Sep 08, 2006 12:50 am</h4>
    <div class="postbody"><span class="postbody">But a lot of these phones have fairly powerful processors; even in comparison with the GBA. The sony ericson p800 (for example) is a 156Mhz Arm 9 processor with 12MB of RAM.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
