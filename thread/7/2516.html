<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>warning: aggregate has a partly bracketed initializer - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > warning: aggregate has a partly bracketed initializer</h2>
<div id="posts">
<div class="post">
    <h4>#13689 - gb_feedback - Sat Dec 20, 2003 7:10 pm</h4>
    <div class="postbody"><span class="postbody">I have a piece of c++ code (which works ok) looking something like the following:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void CExpand::ExpandData()
<br/>
{
<br/>
   struct Decode
<br/>
   {
<br/>
       int   base;
<br/>
       int   extBits;
<br/>
   };
<br/>
   Decode lengthTable[] =
<br/>
   {
<br/>
      3, 0,
<br/>
      4, 0,
<br/>
      5, 0,
<br/>
      6, 0,
<br/>
      7, 0,
<br/>
      ... ... 
<br/>
      256, 0
<br/>
   };
<br/>
etc....
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Every line of the table reports:
<br/>
main.cpp:4544: warning: aggregate has a partly bracketed initializer
<br/>
<br/>
Can a C++ guru indicate the error I am making against the spirit of C++ which gives me this warning but doesn't stop the program working?<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13690 - DiscoStew - Sat Dec 20, 2003 7:24 pm</h4>
    <div class="postbody"><span class="postbody">Because you are making an array of a structure, you will need to separate your array out so that the things of a structure are grouped together. With what you have, try setting up your array like so...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
Decode lengthTable[] = {
<br/>
  {3, 0},
<br/>
  {4, 0},
<br/>
  {5, 0},
<br/>
  .........
<br/>
  {256, 0}
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
See if that works...<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13717 - gb_feedback - Sun Dec 21, 2003 10:29 am</h4>
    <div class="postbody"><span class="postbody">Brilliant! That's 59 warnings got rid of. Thanks!<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
