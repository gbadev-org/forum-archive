<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Visual Studio + Devkit Advance? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Visual Studio + Devkit Advance?</h2>
<div id="posts">
<div class="post">
    <h4>#8163 - Wanderer - Thu Jul 03, 2003 2:37 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I'm trying to switch over to using Visual Studio to compile and edit my GBA code using the Devkit Advance as the compiler, and I'm having a few problems.  I've been following the guide at <a class="postlink" href="http://www.matt-tighe.co.uk/gba/tutorials/vstudio/vstudio-devkitadv.htm" target="_blank">http://www.matt-tighe.co.uk/gba/tutorials/vstudio/vstudio-devkitadv.htm</a> but my project won't build succesfully.  The code is alright (it hasn't been changed since I brought it in) so it must be a configuration issue I guess.
<br/>
<br/>
If I try to build the project I get the error "NMAKE : fatal error U1073: don't know how to make 'Util.c'" which suggests that its reading the makefile and trying to follow the build process but seems to get confused over the first .c file it trys to compile.
<br/>
<br/>
I then tried compiling Util.c by itself and I get a different error "Cannot compile the file 'D:\mygbadevstuffpath\Util.c'; no compile tool is associated with the file extension." which seems rather worrying.
<br/>
<br/>
I'm using VisualC++ 6.0 
<br/>
<br/>
any help would be greatly welcomed,
<br/>
<br/>
cheers,
<br/>
<br/>
<br/>
Wanderer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8165 - Daikath - Thu Jul 03, 2003 3:02 pm</h4>
    <div class="postbody"><span class="postbody">Have you tried compile or build? Using build should resolve it.<br/>_________________<br/>?There are no stupid questions but there are a LOT of inquisitive idiots.?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8167 - johnny_north - Thu Jul 03, 2003 3:31 pm</h4>
    <div class="postbody"><span class="postbody">I was having this problem and I found that it was because I was unfamiliar with how the make file of a project should be set up. Most likely, your make file isn't telling the compiler how to build Util.c. Make sure that in your make file you tell the compiler that Util.o is one of your object files. Then also make sure that the rule to build .c files will include compilation of Util.c. 
<br/>
<br/>
If you're not familiar with make files, check out the make file tutorial in the docs section of gbadev.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8182 - Wanderer - Thu Jul 03, 2003 10:18 pm</h4>
    <div class="postbody"><span class="postbody">I think it was my makefile that was having problems.. I've just about got it working by a process of trial and error from the dos prompt, however I get an error which I haven't had before:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">/cygdrive/c/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ccYM2RIB.s: Assembler messages:
<br/>
/cygdrive/c/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ccYM2RIB.s:17348: Error: Invalid swi
<br/>
Â expression
<br/>
/cygdrive/c/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ccYM2RIB.s:17348: Error: Value of 32
<br/>
7680 too large for field of 2 bytes at 1488
<br/>
make: *** [Util.o] Error 1</td> </tr></table><span class="postbody">
<br/>
<br/>
this seems to be because of the line: "asm volatile("swi 0x50000");" which I'm using to call the Bios function "VBlankIntrWait".. all this worked fine when I was using a batchfile to compile my code (no interim .o stage) but now seems to be causing this error, any ideas folks?????
<br/>
<br/>
cheers,
<br/>
<br/>
<br/>
Wanderer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8185 - Wanderer - Fri Jul 04, 2003 12:37 am</h4>
    <div class="postbody"><span class="postbody">Me again..
<br/>
<br/>
my bad, I'd nicked a command line option from the make file I was using for inspiration.. which decided to bite me in the posterior.
<br/>
<br/>
for reference including '-mthumb -mthumb-interwork' in the parameters to gcc was a bad idea.
<br/>
<br/>
<br/>
Wanderer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8215 - tepples - Fri Jul 04, 2003 4:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wanderer wrote:</b></span></td> </tr> <tr> <td class="quote">for reference including '-mthumb -mthumb-interwork' in the parameters to gcc was a bad idea.</td> </tr></table><span class="postbody">
<br/>
The difference is that Thumb code expresses swi's as <span style="font-weight: bold">swi 0x05</span>, while ARM takes <span style="font-weight: bold">swi 0x050000</span>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
