<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>ORing & ANDing bits together... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>C/C++ > ORing & ANDing bits together...</h2>
<div id="posts">
<div class="post">
    <h4>#22445 - Wriggler - Mon Jun 21, 2004 1:25 pm</h4>
    <div class="postbody"><span class="postbody">Hi guys,
<br/>
<br/>
Whilst relatively new to GBA programming, I have a small bit of C experience. However, I just want someone to clarify for me what this means (code taken from Pern Project Sprite tutorial):
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
sp-&gt;attribute1 = sp-&gt;attribute1 &amp; 0xFE00; //clear the old x value
<br/>
sp-&gt;attribute1 = sp-&gt;attribute1 | x;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Now I can see that the first line ANDs the hex value and attribute one. The comment informs that this clears the memory there. How exactly does this work? I don't understand how the "&amp;" actually manages the memory and clears the pointer?
<br/>
<br/>
Also, the second line ORs the variable "x" to the attribute1 pointer. I assume this "adds" the value of x to the memory at attribute1. Again, what exactly is going on here?
<br/>
<br/>
I know this is fairly basic C, so apologies if I'm wasting anyone's time. I'm just after an explanation of the functionality of AND and OR, and a description of the difference between them.
<br/>
<br/>
Thanks a lot in advance!
<br/>
<br/>
Cheers,
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22446 - ProblemBaby - Mon Jun 21, 2004 1:43 pm</h4>
    <div class="postbody"><span class="postbody">0xFE00 = 1111 1110 0000 0000
<br/>
in bits
<br/>
the attribute is 16 bits big and the x-coordinate takes the eleven first
<br/>
bits
<br/>
<br/>
when you do the AND-operation
<br/>
you simple check two values if the both bits are same the result is 1
<br/>
else 0
<br/>
<br/>
maybe it look something like this:
<br/>
<br/>
1001 1010 0001 0000   x-coordinate = 32
<br/>
and then AND with
<br/>
1111 1110 0000 0000
<br/>
=
<br/>
1001 1010 0000 0000
<br/>
the first 7bits stay the same but the last clears out to zero
<br/>
<br/>
OR is if one of the bits is true
<br/>
<br/>
BUT you must do the &amp;-operation first to clear out everything
<br/>
then you can write the new data!
<br/>
<br/>
You use the OR to dont destroy the 7 first bits
<br/>
<br/>
Hope you got that, I didnt;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22484 - Wriggler - Tue Jun 22, 2004 9:08 pm</h4>
    <div class="postbody"><span class="postbody">Hi ProblemBaby, thanks for that explanation, it really helped me out.
<br/>
<br/>
Just to clarify, would I be right in saying that AND checks if both values are 1 (instead of just the same)? I ask because in your example, if both bits are 0 then the result was still 0. However, they were the same, so I would have expected one.
<br/>
<br/>
AND- True if both bits are equal to 1
<br/>
OR- True if either bit is equal to 1
<br/>
<br/>
Is that correct?
<br/>
<br/>
Thanks,
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22485 - tepples - Tue Jun 22, 2004 9:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wriggler wrote:</b></span></td> </tr> <tr> <td class="quote">AND- True if both bits are equal to 1
<br/>
OR- True if either bit is equal to 1
<br/>
<br/>
Is that correct?</td> </tr></table><span class="postbody">
<br/>
Yes. <a class="postlink" href="http://www.rwc.uc.edu/koehler/comath/21.html" target="_blank">There exist even more bit operators</a>: <ul><li>XOR (a ^ b): True if only ONE of the two bits is equal to 1 (that is, 1 if they're different) </li><li>XNOR or EQV or IFF or &lt;=&gt; (a ^ ~b): True if NEITHER or BOTH bits is equal to 1 (that is, 1 if they're the same) </li><li>IMPLIES or =&gt; (~a | b) : True except when A is 1 and B is 0 (unlike most other common bit ops, this one is not commutative) </li></ul><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22487 - Wriggler - Tue Jun 22, 2004 10:08 pm</h4>
    <div class="postbody"><span class="postbody">Excellent, thanks a lot to both of you for your help! Is there any way of leaving good feedback to those on this forum who have done such a good deed? (I'm new here y'see!)
<br/>
<br/>
Cheers,
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
