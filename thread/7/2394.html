<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Initialization of volatile function/variable - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > Initialization of volatile function/variable</h2>
<div id="posts">
<div class="post">
    <h4>#12832 - Rasputin77 - Fri Nov 28, 2003 4:30 pm</h4>
    <div class="postbody"><span class="postbody">Hello ! (it s my 1st topic here ;) )
<br/>
<br/>
I ve a question about the initialization of variable and functions declared for example as :
<br/>
unsigned char toto __attribute__ ((section (".ewram"))) = 1;
<br/>
<br/>
void fast_function(void) __attribute__ ((section (".iwram"), long_call)) {
<br/>
...
<br/>
}
<br/>
<br/>
the question is : When and how these volatile function/variable are initialized in RAM ? is it a piece of code inserted in (or before) main() exection ?  or this variable/function are initialized at their first use ? or else ;) ?
<br/>
<br/>
<br/>
Tkx !!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12835 - tepples - Fri Nov 28, 2003 4:40 pm</h4>
    <div class="postbody"><span class="postbody">The init code (called before main()) copies the .iwram segment, which contains functions so labeled, to IWRAM. Then they're executed whenever they're called().<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12836 - Rasputin77 - Fri Nov 28, 2003 4:44 pm</h4>
    <div class="postbody"><span class="postbody">fast reply, tkx !</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
