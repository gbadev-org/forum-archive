<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Profiling memory usage with the gba - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Profiling memory usage with the gba</h2>
<div id="posts">
<div class="post">
    <h4>#25321 - rmy - Fri Aug 20, 2004 4:13 pm</h4>
    <div class="postbody"><span class="postbody">Does anyone has a trick for profiling the memory usage on the GBA? Tricks for checking for memory leaks would be nice too.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25324 - poslundc - Fri Aug 20, 2004 4:35 pm</h4>
    <div class="postbody"><span class="postbody">Profiling: <span style="font-weight: bold">nm -n</span> on your .elf file will show you all of the symbols and their positions in memory, sorted by order. You can easily use this to determine your memory consumption.
<br/>
<br/>
Memory leaks: avoid using dynamically allocated memory. :P
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25417 - rmy - Sun Aug 22, 2004 3:48 pm</h4>
    <div class="postbody"><span class="postbody">Thanks.
<br/>
Profiling global and static variables is interesting too. But unfortunately dynamically allocated memory (allocated with the C++ new keyword) is what interests me most.
<br/>
<br/>
I did some tracking of allocation and dealloction using operator new on a different platform a few years back. Perhaps this is the way to go on the GBA too...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25420 - lordmetroid - Sun Aug 22, 2004 5:10 pm</h4>
    <div class="postbody"><span class="postbody">It is true, one should avoid using dynamic allocated memory...
<br/>
However if you need to allocate memory sometimes due to your vaiables can possible grow so big it will hurt to have lots of memory in an array never being used because the possibility exists for it's usage...
<br/>
You can make an array and make pointers pointing to different parts of that array, and so you will have allocated memory the hardcore way...
<br/>
This demands some experience to abuse pointers from the coder though!<br/>_________________<br/>*Spam*
<br/>
Open Solutions for an open mind, <a href="http://www.areta.org" target="_blank">www.areta.org</a>
<br/>
<br/>
Areta is an organization of coders codeing mostly open source project, but there is alot of sections like GBA dev, Language learning communities, RPG communities, etc...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25460 - rmy - Mon Aug 23, 2004 1:11 pm</h4>
    <div class="postbody"><span class="postbody">After doing some tests on allocating and deallocating lots of objects, it seems that the memory manager sooner or later crash (memory gets fragmentet)?
<br/>
<br/>
Having lots of objects preallocated in an array is a possible approach, but that means that I cannot have too many different classes representing in-game characters in my object hierarchy.
<br/>
<br/>
BTW: Your "SPAM link" should link to some content. ;-)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
