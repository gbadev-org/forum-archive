<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>printf/iprintf only prints first 128 characters - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>C/C++ > printf/iprintf only prints first 128 characters</h2>
<div id="posts">
<div class="post">
    <h4>#164790 - Chano Marrano - Fri Nov 21, 2008 12:13 pm</h4>
    <div class="postbody"><span class="postbody">I'm using devKitPro r23b. In r18 version printf could print characters such as '?', '?' and '?', but now it only prints the first 128 ascii characters. An example:
<br/>
<br/>
siprintf(text, "I have %d $. Good!\n", 2);
<br/>
Output: I have 2 $. Good!
<br/>
<br/>
siprintf(text, "I have %d ?. Good!\n", 2);
<br/>
Output: I have 2
<br/>
<br/>
Any ideas?<br/>_________________<br/><a class="postlink" href="http://www.playeradvance.org/forum/showthread.php?t=19881" target="_blank">Sh*tty RPG</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164792 - Ludo6431 - Fri Nov 21, 2008 12:39 pm</h4>
    <div class="postbody"><span class="postbody">All the caracters are printed but when you type '?' in your charset, '?' is not a unic caracter, i think '?' use 2 caracters to be coded in the file (and i think the first caratcer is '\0').
<br/>
<br/>
To print your '?' you should get the ascii code of '?' in an ascii table and put \xXX instead of your ? (where XX is the hexa ascii code).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164793 - kusma - Fri Nov 21, 2008 1:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ludo6431 wrote:</b></span></td> </tr> <tr> <td class="quote">To print your '?' you should get the ascii code of '?' in an ascii table and put \xXX instead of your ? (where XX is the hexa ascii code).</td> </tr></table><span class="postbody">
<br/>
'?' is not an ASCII-character, so you won't find it in the ASCII-table.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164794 - Chano Marrano - Fri Nov 21, 2008 1:21 pm</h4>
    <div class="postbody"><span class="postbody">Sorry, bad example. Another:
<br/>
<br/>
siprintf(text, "Pokemon!\n");
<br/>
Output: Pokemon!
<br/>
<br/>
siprintf(text, "Pok?mon!\n");
<br/>
Output: Pok
<br/>
<br/>
'?' character is in the <a class="postlink" href="http://www.asciitable.com/" target="_blank"><span style="font-style: italic">most popular</span> ascii extended table</a>, and as I said before it worked with devKitArm r18.<br/>_________________<br/><a class="postlink" href="http://www.playeradvance.org/forum/showthread.php?t=19881" target="_blank">Sh*tty RPG</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164796 - sverx - Fri Nov 21, 2008 2:15 pm</h4>
    <div class="postbody"><span class="postbody">maybe it's your source editor that doesn't save your source in the correct way?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164797 - Cearn - Fri Nov 21, 2008 3:14 pm</h4>
    <div class="postbody"><span class="postbody">The stdio functions of DKA r22 and up use <a class="postlink" href="http://en.wikipedia.org/wiki/UTF-8" target="_blank">UTF-8</a> instead of extended ascii. It appears that invalid UTF-characters (like a single character between 128-255) are seen as terminators, so you need the full UTF-8 characters. 
<br/>
<br/>
Note that the current libgba and libnds console routines do not have UTF-decoder parts, so in all likelihood you won't be able to render the upper ascii characters with them unless <a class="postlink" href="http://www.coranac.com/tonc/text/tte.htm#ssec-misc-utf" target="_blank">you roll your own</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164799 - Chano Marrano - Fri Nov 21, 2008 4:06 pm</h4>
    <div class="postbody"><span class="postbody">Ouch... thanks, Cearn.
<br/>
<br/>
Anyway, posprintf keeps printing extended ASCII characters as expected (now I only need vposprintf xP).<br/>_________________<br/><a class="postlink" href="http://www.playeradvance.org/forum/showthread.php?t=19881" target="_blank">Sh*tty RPG</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
