<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Making Libraries - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Making Libraries</h2>
<div id="posts">
<div class="post">
    <h4>#15553 - dagamer34 - Sat Jan 24, 2004 8:03 pm</h4>
    <div class="postbody"><span class="postbody">How would I go about making a ".a" library? I want to cut down on compile time and make it easier to redistribute to newbies.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15556 - tepples - Sat Jan 24, 2004 8:25 pm</h4>
    <div class="postbody"><span class="postbody">Here's the <a class="postlink" href="http://www.gnu.org/software/binutils/manual/html_chapter/binutils_1.html#SEC1" target="_blank">info page for GNU ar</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15558 - dagamer34 - Sat Jan 24, 2004 9:16 pm</h4>
    <div class="postbody"><span class="postbody">Maybe you can show me an example of it, please?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15561 - dagamer34 - Sun Jan 25, 2004 12:30 am</h4>
    <div class="postbody"><span class="postbody">I have tried to do it myself and get this error
<br/>
"libgba.a: could not read symbols: Archive has no index; run ranlib to add one"
<br/>
<br/>
And have already tried running randlib on it. 
<br/>
<br/>
Here is what I used to make it:
<br/>
<br/>
"ar rvs libgba.a asmfunct.o gbafunc.o gbawin.o gbaregs.o gbavideo.o gbatime.o 
<br/>
<br/>
gbasprite.o gbadma.o gbasaving.o gbamosaic.o gbabg.o gbakeys.o gbablend.o 
<br/>
<br/>
gbainterupt.o gbatext.o gbamulti.o gbasound.o gbapalette.o gbamath.o 
<br/>
<br/>
gbagraphics.o
<br/>
<br/>
pause"
<br/>
<br/>
What's wrong?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15567 - Paul Shirley - Sun Jan 25, 2004 2:55 am</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 9:18 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#15568 - dagamer34 - Sun Jan 25, 2004 3:00 am</h4>
    <div class="postbody"><span class="postbody">No difference. Still the same thing.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15570 - Paul Shirley - Sun Jan 25, 2004 3:27 am</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 9:19 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#15571 - dagamer34 - Sun Jan 25, 2004 3:36 am</h4>
    <div class="postbody"><span class="postbody">It still did not work.
<br/>
<br/>
Hey, maybe someone can just make an example for me to use and *copy* learn from instead of me pulling out my hair.
<br/>
<br/>
Thanks for trying though.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15572 - dagamer34 - Sun Jan 25, 2004 4:42 am</h4>
    <div class="postbody"><span class="postbody">I finally created a library file. Now, I need to know how the headers should be set up. Do I need to change them? I am using C++ is that matters and use function overloading.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15582 - sajiimori - Sun Jan 25, 2004 8:47 pm</h4>
    <div class="postbody"><span class="postbody">Why don't you post the solution to your previous problem for future readers to benefit from?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15586 - poslundc - Sun Jan 25, 2004 9:52 pm</h4>
    <div class="postbody"><span class="postbody">It's been a long time since I've used ar, but as I recall all you need to do is use
<br/>
<br/>
ar -q library.a file1.o file2.o ...
<br/>
<br/>
-q is the switch for "quickly append". Why bother with the fancy stuff, I figure.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15590 - Paul Shirley - Sun Jan 25, 2004 10:25 pm</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 9:19 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#15594 - tepples - Sun Jan 25, 2004 11:21 pm</h4>
    <div class="postbody"><span class="postbody">Does the 'c' modifier delete all .o files in the library as well?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15595 - Paul Shirley - Sun Jan 25, 2004 11:29 pm</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 9:19 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#15596 - dagamer34 - Sun Jan 25, 2004 11:33 pm</h4>
    <div class="postbody"><span class="postbody">Actually, i think it had to do with an invalid ar.exe. So what I did was use the one that came with VisualHAM instead and it decided to work.
<br/>
<br/>
Weird.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
