<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>gcc fails compilation at all... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > gcc fails compilation at all...</h2>
<div id="posts">
<div class="post">
    <h4>#12893 - Dragonlord - Sat Nov 29, 2003 10:08 pm</h4>
    <div class="postbody"><span class="postbody">i've downloaded the sources for gbadevkit under linux and compiled the bitch. worked after correcting a bugious patch file and compiled it, installed it.
<br/>
<br/>
now i tried a simple program of just 4 lines to test if the compiler works... but somehow it does not. the following happened.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">&gt; arm-agb-elf-gcc -o main.elf main.cpp
<br/>
/opt/devkitadv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/bin/ld: section .iwram [08000388 -&gt; 0800044f] overlaps section .init [08000374 -&gt; 0800038f]
<br/>
/opt/devkitadv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/lib/crt0.o: In function `jump_intr':
<br/>
/opt/devkitadv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/lib/crt0.o(.iwram+0xc4): undefined reference to `IntrTable'
<br/>
collect2: ld returned 1 exit status
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
what's going on there? i've tried also with the precompiled version an got the same error.
<br/>
anybody compiled/used devkitgba on linux and has encountered such a strange error?<br/>_________________<br/>Oh to be a dragon, of silkwork size or immense...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12900 - poslundc - Sun Nov 30, 2003 6:51 am</h4>
    <div class="postbody"><span class="postbody">Actually, according to your errors the compiler is working fine, it's in the stage of linking the output files that you are running into trouble.
<br/>
<br/>
The first part I'm unsure of... but it seems like there may be an error of some sort with your linker script.
<br/>
<br/>
The second part seems like you have interrupts enabled in your crt0.s file, which you should disable until you are prepared to support interrupts from within your code. If you open up crt0.s you will find it is quite easy to read. Just plough through until you find the line that enables interrupts and comment it out. (You might find you have to comment out a couple of other subsequent lines as well relating to interrupts, but I think the first one should probably be enough.)
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12920 - Dragonlord - Sun Nov 30, 2003 7:36 pm</h4>
    <div class="postbody"><span class="postbody">The strange thing is that on windows I tried out the binaries there and it works without problems. It would just interest me how the same compiler on windows works and on linux makes troubles... I've tried self compiled and precompiled and all failed.<br/>_________________<br/>Oh to be a dragon, of silkwork size or immense...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12922 - poslundc - Sun Nov 30, 2003 9:01 pm</h4>
    <div class="postbody"><span class="postbody">Well, like I said, it isn't the compiler, it's the linker.
<br/>
<br/>
My guess is that you are using a different crt0.s file on the other system, and possibly a different lnkscript as well. Try replacing those files over from the system that works to the system that doesn't, and see if it works then.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20998 - Articuno - Fri May 21, 2004 6:35 am</h4>
    <div class="postbody"><span class="postbody">I am working on this source code since 2h P.M. (now its 2h AM ;_;) ... 
<br/>
I edited the patches, disabled interrupts, even removed C++ libraries, but this kind of error still happens! 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/opt/devkitadv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/bin/ld: section .iwram [08000388 -&gt; 0800044f] overlaps section .init [08000374 -&gt; 0800038f]
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Not exactly this error (i copied the first post), but something similar ( .rodata [ xxxxxxxxx -&gt; yyyyyyyyf] overlaps .data [ zzzzzzzz-&gt;yyyyyyf ] )
<br/>
<br/>
Note: i'm a beginner in gba development , under a linux network, with no root (admin) powers ;_; - and i was working on /tmp ('cause i have no enough quota)  (this is just a warning, because i dont want windows or linux-as-root specific solutions ...)
<br/>
Note 2: I was trying to compile the Tetris from this site: <a href="http://www.gbadev.org/sources_cd.html" target="_blank">http://www.gbadev.org/sources_cd.html</a> (4th in the list)
<br/>
<br/>
<br/>
Wendel<br/>_________________<br/>---------------
<br/>
Close the World, txEn eht nepO.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
