<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compile for different platforms - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Compile for different platforms</h2>
<div id="posts">
<div class="post">
    <h4>#171266 - redoc - Tue Nov 10, 2009 9:42 pm</h4>
    <div class="postbody"><span class="postbody">Hi all, its been well over a year since visiting and I really miss GBA programming days.
<br/>
<br/>
I was wondering about starting a new project and how I would go about compiling it on different platforms.
<br/>
<br/>
So lets say I want to make the same game on the DS, iPhone, and Wii.  What is the best way to use the same code but compile for the different hardware?
<br/>
<br/>
Should I have a seperate project folder for each system?  or just a different "makefile"
<br/>
<br/>
I understand the C/C++ will compile across the systems, what I dont understand is the unique parts to each system.  Such as loading the graphics (DS uses memory banks, I doubt the iphone does?)  Plotting pixels as 16bit only, vs other system requirements.  Making sense?
<br/>
<br/>
Any thoughts would be greatly appreciated.
<br/>
<br/>
TIA</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171268 - gauauu - Tue Nov 10, 2009 11:07 pm</h4>
    <div class="postbody"><span class="postbody">That really depends on how you set things up, and how different the different platforms are.
<br/>
<br/>
Your best bet might be to have a source directory that is the common engine of the game, and then a source directory for each platform.  With separate makefiles, and a few selective uses of the preprocesser (Which you might even be able to avoid if you design it well), you should be ok.
<br/>
<br/>
That way you don't have to maintain separate almost-identical codebases for the different platforms (which is a mistake I made when I ported Anguna from GBA to DS).  When I fixed a bug in one platform, I had to go back and fix it in the other as well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171283 - redoc - Wed Nov 11, 2009 7:47 pm</h4>
    <div class="postbody"><span class="postbody">hi gauauu, thanks for getting back to me!
<br/>
<br/>
Thats along the lines how I thought, not too up with makefiles yet so I'll work on that a little and see what experiments I can come up with.
<br/>
<br/>
I really want to avoid having to make tweaks or bug-fixes on every version... knowing me I would make a right mess of it trying to manually keep it all 'in sync'</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171285 - Drovor - Wed Nov 11, 2009 9:51 pm</h4>
    <div class="postbody"><span class="postbody">If you want a relatively simple example of a Makefile, I have a program that can be built on the DS or PC.  One Makefile for each system, and a third that picks which one to use (i.e. 'make pc' and 'make ds').
<br/>
<br/>
I don't know if thats the best way to do it, but it works for me.
<br/>
<br/>
<a href="http://github.com/drovor/LoggerDS" target="_blank">http://github.com/drovor/LoggerDS</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
