<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>how can i check supported rom waitstes? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > how can i check supported rom waitstes?</h2>
<div id="posts">
<div class="post">
    <h4>#111246 - Ant6n - Tue Dec 05, 2006 4:51 am</h4>
    <div class="postbody"><span class="postbody">in gbatek the waitcnt registers is explained, allowing the user to set waitstates of 4,3,2,8 cycles for nonsequential and 2,1 for sequential reads. Is there a way to find out which speeds a rom supports, so that i can write a program that runs on all sorts of flash cards alwas at the fastest possible speed? (i.e. if i set the speed to high, will a rom-access return grabrage?)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111387 - tepples - Wed Dec 06, 2006 4:14 am</h4>
    <div class="postbody"><span class="postbody">All GBA flash cards (except Visoly's earliest products) support 3/1 wait state. Some do not support the fastest 2/1 setting, which means some demos by Shitfaced Clowns need a special "lamer version" version set to 3/1.
<br/>
<br/>
The obvious test is copy the first 4 KB of the ROM to a buffer in RAM backwards byte-by-byte using the power-on default 4/2 wait state, do the same in 2/1 wait state, and compare the results. Using backwards byte-by-byte is intended to exercise the nonsequential reads as much as possible, as they're the only significant difference among flash cards.
<br/>
<br/>
But I will warn you, as someone warned me when the undocumented EWRAM overclocking register was discovered, that the fastest supported speed might vary over time because it varies with temperature. Assume 3/1 to be safe.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111397 - Ant6n - Wed Dec 06, 2006 5:56 am</h4>
    <div class="postbody"><span class="postbody">thanks for the rply.
<br/>
cool, i can run ewram at 1 cycle sequential? -&gt; that's as fast as internal working ram (well, for 16bits). Maybe its possible to write a tool that can read the temperature of the gba hardware based on readerrors :P
<br/>
I am still a little unclear though. 1 waitstate means that an access will take 2 cycles, yes? And if all memory has at least 1 waitstate according to the specs, why do i sometimes read people talk about 0 waitstates?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#111509 - tepples - Thu Dec 07, 2006 4:41 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ant6n wrote:</b></span></td> </tr> <tr> <td class="quote">thanks for the rply.
<br/>
cool, i can run ewram at 1 cycle sequential? -&gt; that's as fast as internal working ram (well, for 16bits)</td> </tr></table><span class="postbody">
<br/>
IWRAM is 0 wait state. VRAM is between 0 and 1 wait state; as I understand it, the VRAM timing depends on when and how you access it.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">1 waitstate means that an access will take 2 cycles, yes? And if all memory has at least 1 waitstate according to the specs, why do i sometimes read people talk about 0 waitstates?</td> </tr></table><span class="postbody">
<br/>
0 wait states means the access happens in 1 cycle, as is the case with IWRAM and (sometimes) VRAM.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
