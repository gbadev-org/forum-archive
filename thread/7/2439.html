<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Comment Bleeding? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>C/C++ > Comment Bleeding?</h2>
<div id="posts">
<div class="post">
    <h4>#13101 - yaustar - Fri Dec 05, 2003 4:36 pm</h4>
    <div class="postbody"><span class="postbody">We found an interesting bug/glitch/something within c++
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//--------------hello world---------------\\
<br/>
if(something == something else)
<br/>
{
<br/>
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Somehow the comment caused the compilar to ignore the if statement on the next line. However:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//--------------hello world---------------\\
<br/>
<br/>
if(something == something else)
<br/>
{
<br/>
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
This worked. Can anyone explain why?<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13102 - Dwedit - Fri Dec 05, 2003 4:47 pm</h4>
    <div class="postbody"><span class="postbody">The Backslash + newline combo is an escape character for nothing, used to continue long lines.  Just like \n, or \t, there's also \(newline).<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13112 - Miked0801 - Fri Dec 05, 2003 7:25 pm</h4>
    <div class="postbody"><span class="postbody">I don't know that the last post was clear enough in meaning:
<br/>
<br/>
Placing a backslash on the end of the line tells the compiler to ignore the carriage return on the current line and assume that the following line is part of the statement.  Backslashes are most often used in macro definitions where all statements must be on one line.  So in essence, placing the backslashes at the end of the line tells the compiler that the following line is part of the commented statement and should be ignored.  I don't know if the is a compiler bug or not, but I'd avoid using backslashes in C code for decorations anyways just to be sure.
<br/>
<br/>
Mike</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13116 - sgeos - Fri Dec 05, 2003 8:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">Placing a backslash on the end of the line tells the compiler to ignore the carriage return on the current line and assume that the following line is part of the statement.  *SNIP*</td> </tr></table><span class="postbody">
<br/>
<br/>
I did not know that.  I was under the impression that backslash was used to continue macros.  I'd assume that:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define ADD(a,b) \
<br/>
   ((a) + (b))
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Would not work if the backslash was followed by a space?  Worse yet, I'd assume that something stupid like this would not work:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define SUB(a,b) \  /* Useless macro */
<br/>
   ((a)[(b)])
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13119 - torne - Fri Dec 05, 2003 8:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">I did not know that.  I was under the impression that backslash was used to continue macros.</td> </tr></table><span class="postbody">
<br/>
<br/>
No, it works in any context at all, including inside a literal string.
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I'd assume that:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define ADD(a,b) \
<br/>
   ((a) + (b))
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Would not work if the backslash was followed by a space?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
It works in GCC, but emits a warning as it does not work on all preprocessors/compilers. (GCC ignores any amount of trailing whitespace after a backslash IF there is nothing else on the line)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Worse yet, I'd assume that something stupid like this would not work:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define SUB(a,b) \  /* Useless macro */
<br/>
   ((a)[(b)])
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
No, that doesn't work. The \ is treated as escaping a space (to be.. a space. Wow), the comment is parsed as a comment, and the next line is parsed as a statement.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13121 - sgeos - Fri Dec 05, 2003 8:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>torne wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">I did not know that.  I was under the impression that backslash was used to continue macros.</td> </tr></table><span class="postbody">
<br/>
<br/>
No, it works in any context at all, including inside a literal string.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
That is interesting and wacky.  I'll still think I'll split strings like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">mvprintw(0, 0,
<br/>
   "What you say?\n"
<br/>
   "*All* you %d base?!?!\n",
<br/>
   base
<br/>
);</td> </tr></table><span class="postbody">
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13126 - Miked0801 - Fri Dec 05, 2003 11:17 pm</h4>
    <div class="postbody"><span class="postbody">Which is why when you place backslashes in strings, you must escape them - that is place 2 backslashes next to each other to get one in the string.  On DOS/WinDoze systems, in include statements, it's very common to see this (if you're too lazy to set your search directories correctly):
<br/>
#include "c:\\agb\\devkit\\foo.h"
<br/>
<br/>
Forget the second slash and you get all sorts of interesting characters :)
<br/>
<br/>
Again, don't use backslashes unless you absolutely have to.  They cause all sorts of hard to track behavior if used incorrectly...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13139 - sgeos - Sat Dec 06, 2003 2:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">Again, don't use backslashes unless you absolutely have to.  They cause all sorts of hard to track behavior if used incorrectly...</td> </tr></table><span class="postbody">
<br/>
<br/>
I find it bothersome that shift JIS string literals typed into source code sometimes contain "hidden" backslashes.  I suppose any non-ascii text really should be converted to hex.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13143 - tepples - Sat Dec 06, 2003 4:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">that is place 2 backslashes next to each other to get one in the string.  On DOS/WinDoze systems, in include statements, it's very common to see this (if you're too lazy to set your search directories correctly):
<br/>
#include "c:\\agb\\devkit\\foo.h"</td> </tr></table><span class="postbody">
<br/>
Or you can use forward-slashes, which do work as path separators in many DOS and Win32 console apps, including just about anything that isn't trying to be <a class="postlink" href="http://catb.org/~esr/jargon/html/B/bug-compatible.html" target="_blank">bug-compatible</a> with an old DOS 2.x/3.x app:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "e:/gbadev/asprite/pin8gba.h"</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
