<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Dev-C++ - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Dev-C++</h2>
<div id="posts">
<div class="post">
    <h4>#8864 - Geno - Tue Jul 22, 2003 8:14 am</h4>
    <div class="postbody"><span class="postbody">I've been having a hard time getting the DevKitAdv GCC compiler working with Bloodshed's <b style="color:#FFA34F">Dev</b>-C++. Can anyone give any tips to help me?<br/>_________________<br/>Out of Order.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8926 - Dwedit - Wed Jul 23, 2003 11:23 pm</h4>
    <div class="postbody"><span class="postbody">How to get Devkit Advance working under Bloodshed <b style="color:#FFA34F">Dev</b> C++:
<br/>
<br/>
First, copy rm.exe from C:\<b style="color:#FFA34F">dev</b>-cpp\bin to C:\devkitadv-r5-beta-3\bin
<br/>
Then copy make.exe to C:\devkitadv-r5-beta-3\bin
<br/>
<br/>
Tools &gt; Compiler Options:
<br/>
* Make a new compiler, call it Devkit advance or something
<br/>
* Settings tab: Pick your favorite default settings here
<br/>
* Directories tab: I added these:
<br/>
Binaries:
<br/>
C:\devkitadv-r5-beta-3\bin
<br/>
C:\devkitadv-r5-beta-3\arm-agb-elf\bin
<br/>
<br/>
Libaries:
<br/>
C:\devkitadv-r5-beta-3\lib
<br/>
C:\devkitadv-r5-beta-3\arm-agb-elf\lib
<br/>
<br/>
Includes:
<br/>
C:\devkitadv-r5-beta-3\arm-agb-elf\include
<br/>
C:\devkitadv-r5-beta-3\include
<br/>
<br/>
C++ Includes:
<br/>
C:\devkitadv-r5-beta-3\include\c++
<br/>
C:\devkitadv-r5-beta-3\include\c++\3.2.2
<br/>
<br/>
You might also have to edit project options and stuff to override the default output filename (don't want exe's now)
<br/>
Besides making the elf file, Devcpp has no way of running the game (unless you use an older version and claim you're making a dll), it also can't convert it to a gba file easily.
<br/>
<br/>
edit:
<br/>
Yeah, for best results, make it a "win32 console program".<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8927 - Geno - Thu Jul 24, 2003 12:37 am</h4>
    <div class="postbody"><span class="postbody">Thanks! But I can't configure it to compile GBA files and execute them in an emu? Oh well.<br/>_________________<br/>Out of Order.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11394 - Torlus - Sat Oct 04, 2003 4:47 am</h4>
    <div class="postbody"><span class="postbody">Hmm it's an old thread, but well... :)
<br/>
<br/>
I had a look at <b style="color:#FFA34F">Dev</b>-C++, and decided to use it on Windows then.
<br/>
I found this thread which helped me at the beginning.
<br/>
<br/>
I found a not-too-ugly way to have my GBA programs launched in an emulator directly from <b style="color:#FFA34F">Dev</b>-C++. It's rather easy, as you can specify additional files to include to the <b style="color:#FFA34F">Dev</b>-C++ generated Makefile.
<br/>
<br/>
So I wrote a small file called "after.mak", located in my project's source directory :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
EMU=C:/GBA/VisualBoyAdvance-<b style="color:#FFA34F">Dev</b>-1.3.1/VisualBoyAdvance 
<br/>
GBA_BIN=demo.bin
<br/>
<br/>
all-after: 
<br/>
   objcopy -O binary $(BIN) $(GBA_BIN)
<br/>
   $(EMU) $(GBA_BIN)
<br/>
</td> </tr></table><span class="postbody">
<br/>
(Be careful : blank space before each one of the two previous lines must be a TAB).
<br/>
<br/>
Then go to Project -&gt; Project Options. Ensure that your project type is "Win32 console" in "General" tab.
<br/>
I also changed in "Build Options" tab the filename extension from .exe to .elf. It isn't mandatory but looks better.
<br/>
Then go to "Makefile" tab, and add that "after.mak" file in the list. 
<br/>
Et voila ! Now just press F9 within <b style="color:#FFA34F">Dev</b>-C++ to compile and run your program.
<br/>
<br/>
Hope this helps...<br/>_________________<br/>GBA,GC,NGPC,GP32,FPGA,DS stuff at <a class="postlink" href="http://torlus.com/" target="_blank">http://torlus.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11468 - IAMTHEEVILBEAN - Wed Oct 08, 2003 2:14 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Torlus wrote:</b></span></td> </tr> <tr> <td class="quote">Hmm it's an old thread, but well... :)
<br/>
<br/>
I had a look at <b style="color:#FFA34F">Dev</b>-C++, and decided to use it on Windows then.
<br/>
I found this thread which helped me at the beginning.
<br/>
<br/>
I found a not-too-ugly way to have my GBA programs launched in an emulator directly from <b style="color:#FFA34F">Dev</b>-C++. It's rather easy, as you can specify additional files to include to the <b style="color:#FFA34F">Dev</b>-C++ generated Makefile.
<br/>
<br/>
So I wrote a small file called "after.mak", located in my project's source directory :
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
EMU=C:/GBA/VisualBoyAdvance-<b style="color:#FFA34F">Dev</b>-1.3.1/VisualBoyAdvance 
<br/>
GBA_BIN=demo.bin
<br/>
<br/>
all-after: 
<br/>
   objcopy -O binary $(BIN) $(GBA_BIN)
<br/>
   $(EMU) $(GBA_BIN)
<br/>
</td> </tr></table><span class="postbody">
<br/>
(Be careful : blank space before each one of the two previous lines must be a TAB).
<br/>
<br/>
Then go to Project -&gt; Project Options. Ensure that your project type is "Win32 console" in "General" tab.
<br/>
I also changed in "Build Options" tab the filename extension from .exe to .elf. It isn't mandatory but looks better.
<br/>
Then go to "Makefile" tab, and add that "after.mak" file in the list. 
<br/>
Et voila ! Now just press F9 within <b style="color:#FFA34F">Dev</b>-C++ to compile and run your program.
<br/>
<br/>
Hope this helps...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks alot but whhere do you put that program you wrote?
<br/>
<br/>
And im having trouble.....when i hit F9 a DOs window comes up...then dissapears<br/>_________________<br/>Moose</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11477 - Torlus - Wed Oct 08, 2003 8:44 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>IAMTHEEVILBEAN wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
Thanks alot but whhere do you put that program you wrote?
<br/>
<br/>
And im having trouble.....when i hit F9 a DOs window comes up...then dissapears</td> </tr></table><span class="postbody">
<br/>
<br/>
In general, I put all my files in the same directory (with the project file).
<br/>
That "DOS" popup is normal. But it seems that in your case VisualBoyAdvance isn't launched, right ?
<br/>
To see what's happening, launch a "DOS" shell, go to your project directory and try :
<br/>
<br/>
make -f Makefile.win
<br/>
<br/>
You might have to set up your PATH in order to find <b style="color:#FFA34F">Dev</b>-C++ "make.exe" and all its stuff.<br/>_________________<br/>GBA,GC,NGPC,GP32,FPGA,DS stuff at <a class="postlink" href="http://torlus.com/" target="_blank">http://torlus.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11482 - IAMTHEEVILBEAN - Wed Oct 08, 2003 12:02 pm</h4>
    <div class="postbody"><span class="postbody">Oh yes visual boy i forgot about that.....how do i make it so that pops up lol
<br/>
<br/>
Thanks alot for your help<br/>_________________<br/>Moose</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33802 - Maxamor - Sun Jan 09, 2005 9:21 am</h4>
    <div class="postbody"><span class="postbody">I got <b style="color:#FFA34F">Dev</b>-C++ set up with DevKitAdv but when I compile I get a strange error:
<br/>
<br/>
Compiler: DevKitADV
<br/>
Building Makefile: "D:\Devgba\Projects\GBATest\Makefile.win"
<br/>
Executing  make...
<br/>
make.exe -f "D:\Devgba\Projects\GBATest\Makefile.win" all
<br/>
g++.exe -c main.cpp -o main.o -I"D:/Devgba/devkitadv/include"  
<br/>
make.exe: /bin/sh.exe: Command not found
<br/>
make.exe: *** [main.o] Error 127
<br/>
Execution terminated
<br/>
<br/>
But if I use a make.bat in the same files there is no problem. The problem I'm having I believe has to do with my DevC++'s makefile. If you could fill me in on how you got a compatible makefile, I'd be pleased :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33812 - Quirky - Sun Jan 09, 2005 4:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxamor wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Compiler: DevKitADV
<br/>
Building Makefile: "D:\Devgba\Projects\GBATest\Makefile.win"
<br/>
Executing  make...
<br/>
make.exe -f "D:\Devgba\Projects\GBATest\Makefile.win" all
<br/>
g++.exe -c main.cpp -o main.o -I"D:/Devgba/devkitadv/include"  
<br/>
<span style="font-weight: bold">make.exe: /bin/sh.exe: Command not found</span>
<br/>
make.exe: *** [main.o] Error 127
<br/>
Execution terminated
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I don't use <b style="color:#FFA34F">Dev</b>-C++, but that's similar to an error I get when running one of my makefiles in MS-DOS instead of MSYS, because sh.exe is only available from within my msys installation (paths and all that).
<br/>
<br/>
Are you trying to execute a shell script inside the make file? Perhaps posting the contents of your Makefile.win would be useful.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33816 - tepples - Sun Jan 09, 2005 5:40 pm</h4>
    <div class="postbody"><span class="postbody">Some Make ports need sh.exe in order to do input or output redirection such as that used by a few data conversion tools, which read files named on the command line and write their output to standard output which gets redirected to a file.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33832 - Maxamor - Sun Jan 09, 2005 7:59 pm</h4>
    <div class="postbody"><span class="postbody">Here is the contents of my makefile:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"># Project: GBATest
<br/>
# Makefile created by <b style="color:#FFA34F">Dev</b>-C++ 4.9.8.0
<br/>
<br/>
CPP  = g++.exe
<br/>
CC   = gcc.exe
<br/>
WINDRES = windres.exe
<br/>
RES  = 
<br/>
OBJ  = main.o math.o $(RES)
<br/>
LINKOBJ  = main.o math.o $(RES)
<br/>
LIBS =  -L"D:/Devgba/devkitadv/arm-agb-elf/lib" -L"D:/Devgba/devkitadv/lib" ../../devkitadv/lib/libgba.a 
<br/>
INCS =  -I"D:/Devgba/devkitadv/arm-agb-elf/include"  -I"D:/Devgba/devkitadv/include" 
<br/>
CXXINCS =  -I"D:/Devgba/devkitadv/include" 
<br/>
BIN  = GBATest.gba
<br/>
CXXFLAGS = $(CXXINCS)  -O3
<br/>
CFLAGS = $(INCS)  -O3
<br/>
<br/>
.PHONY: all all-before all-after clean clean-custom
<br/>
<br/>
all: all-before GBATest.gba all-after
<br/>
<br/>
<br/>
clean: clean-custom
<br/>
   rm -f $(OBJ) $(BIN)
<br/>
<br/>
$(BIN): $(LINKOBJ)
<br/>
   $(CPP) $(LINKOBJ) -o "GBATest.gba" $(LIBS)
<br/>
<br/>
main.o: main.cpp
<br/>
   $(CPP) -c main.cpp -o main.o $(CXXFLAGS)
<br/>
<br/>
math.o: math.cpp
<br/>
   $(CPP) -c math.cpp -o math.o $(CXXFLAGS)</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
