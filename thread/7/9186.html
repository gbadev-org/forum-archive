<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>undefined reference - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > undefined reference</h2>
<div id="posts">
<div class="post">
    <h4>#78898 - Dan2552 - Mon Apr 10, 2006 1:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">c:/ham/gcc-arm/bin/arm-thumb-elf-ld.exe    -L c:/ham/gcc-arm/lib/gcc-lib/arm-thumb-elf/3.3.2/interwork -L c:/ham/gcc-arm/lib/gcc-lib/arm-thumb-elf/3.3.2 -L c:/ham/gcc-arm/arm-thumb-elf/lib/interwork -L c:/ham/gcc-arm/arm-thumb-elf/lib -L c:/ham/gcc-arm/lib  --script c:/ham/system/lnkscript-afm -o axeknote.elf crt0.o main.o   ./libgba/lib/libgba.a -lafm -lham -lm -lstdc++ -lsupc++ -lgcc -lc -lgcc
<br/>
main.o(.text+0x8c): In function `main':
<br/>
: undefined reference to `FAT_InitFiles'
<br/>
main.o(.text+0x90): In function `main':
<br/>
: undefined reference to `FAT_mkdir'
<br/>
main.o(.text+0x9c): In function `main':
<br/>
: undefined reference to `FAT_fputs'
<br/>
main.o(.text+0xa4): In function `main':
<br/>
: undefined reference to `FAT_FreeFiles'
<br/>
make: *** [axeknote.elf] Error 1</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
I added this to my makefile:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">CFLAGS += -I ./gba_nds_fat</td> </tr></table><span class="postbody">
<br/>
<br/>
and to my main.c:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "gba_nds_fat/gba_nds_fat.h"</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
<br/>
All the help the text file gives is
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Insert #include "gba_nds_fat/gba_nds_fat.h" into your project where you need compact flash access. Make sure you compile the included code by adding the gba_nds_cf directory to your sources.
<br/>
<br/>
This driver requires libgba on GBA or libnds on an NDS.</td> </tr></table><span class="postbody">
<br/>
<br/>
it all compiles fine if i don't try and use any functions for the gba_nds_fat lib, not really helpful..
<br/>
<br/>
What exactly do I need to do to get the LIB to work? On the HAM forums I've been advised to use a pre-compiled fat lib, is there one?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78901 - tepples - Mon Apr 10, 2006 1:54 pm</h4>
    <div class="postbody"><span class="postbody">Some C source code files should have come with the library. Add them to your project.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78909 - Dan2552 - Mon Apr 10, 2006 3:27 pm</h4>
    <div class="postbody"><span class="postbody">do you mean add as in add with visualham, or do you mean include?
<br/>
<br/>
Here's all the problems I'm having doing this
<br/>
<a href="http://forums.ngine.de/viewtopic.php?p=6085#6085" target="_blank">http://forums.ngine.de/viewtopic.php?p=6085#6085</a>
<br/>
<br/>
Cant someone just give an empty example project with the fat driver :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78931 - tepples - Mon Apr 10, 2006 6:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dan2552 wrote:</b></span></td> </tr> <tr> <td class="quote">do you mean add as in add with visualham</td> </tr></table><span class="postbody">
<br/>
Yes. Have you ever used more than one .c file in a VisualHAM project?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79081 - Dan2552 - Tue Apr 11, 2006 2:49 pm</h4>
    <div class="postbody"><span class="postbody">I tried adding them beforehand, it just adds a big list of files to OFILES and makes loads of errors at compile (I think i posted in the thread i linked to)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
