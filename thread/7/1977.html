<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>| and the opposite? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > | and the opposite?</h2>
<div id="posts">
<div class="post">
    <h4>#10243 - jenswa - Sun Aug 31, 2003 11:14 am</h4>
    <div class="postbody"><span class="postbody">sprites[0].attribute0 = COLOR_256 | SQUARE;
<br/>
<br/>
this line 'combines' the number of COLOR_256 and SQUARE in sprites[0].attribute0
<br/>
what if i would like to remove the SQUARE part, is there an operator available for it?
<br/>
<br/>
Oh and the example made much more sense if i used the display register for it,
<br/>
because i would like to disable and enable one bg, by writing to there with only BGx_ENABLE
<br/>
and not my complete display phrase again.
<br/>
<br/>
Jenswa<br/>_________________<br/>It seems this wasn't lost after all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10246 - antysix - Sun Aug 31, 2003 11:42 am</h4>
    <div class="postbody"><span class="postbody">Use this: 
<br/>
<br/>
To enable say bg0:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
REG_DISPCNT |= BG0_ENABLE;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
To disable:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
REG_DISPCNT &amp;= ~BG0_ENABLE;
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/>Currently playing: NGC: Metroid Prime
<br/>
GBA: Golden Sun: The Lost Age
<br/>
<br/>
Currently developping: Project ~ [ Phail ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10280 - Lupin - Mon Sep 01, 2003 2:42 pm</h4>
    <div class="postbody"><span class="postbody">Maybe you'd like to know what's going on (if you already know this is just for reference ^^) when using the | operator:
<br/>
<br/>
| is logical OR, it's an bitwise operator, this means that if you have an bit value like this:
<br/>
<br/>
1011 0101 = 181
<br/>
0001 1101 = 95
<br/>
...the result of (181 OR 95) would be:
<br/>
1011 1101 = 189
<br/>
<br/>
if you've an gba register and want to write some data to it, it'll most likely be cleared to a sequence of 0 bits, so if you just want to set the first two bits you'd use:
<br/>
0000 0000 = 0
<br/>
0000 0011 = 3
<br/>
<br/>
very simple though, but I felt like I'd better explain that here ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10281 - jenswa - Mon Sep 01, 2003 3:24 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the explaination, i got that with informatics.
<br/>
Just didn't know the c/c++ code for it.
<br/>
<br/>
Thanks you guys.<br/>_________________<br/>It seems this wasn't lost after all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10286 - antysix - Mon Sep 01, 2003 4:46 pm</h4>
    <div class="postbody"><span class="postbody">Ah well, I just explain my part too :).
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
REG_DISPCNT |= BG0_ENABLE; 
<br/>
 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Putting a sequence of bits in the register is obvious, just use the '=' operator, or, if there are bits in there already, use the '|' operator like Lupin explained already.
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
REG_DISPCNT &amp;= ~BG0_ENABLE; 
<br/>
 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
But if you want to set off your sequence of bits (actually reverse it), it's a bit different (but still easy to understand).
<br/>
First you use the '~' operator which only takes one operand. It just makes the opposite of your bit sequence like this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
~1100 1011
<br/>
<br/>
gets:
<br/>
<br/>
0011 0100
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Then you should put it in your register but instead of using bitwise OR 
<br/>
you use bitwise AND ('&amp;'), because you want to put in the opposite value of which there already is. I'll explain now:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
When using '|':
<br/>
<br/>
1100 1011
<br/>
0011 0100
<br/>
<br/>
1111 1111    &lt;&lt;&lt;gets this, which is bad
<br/>
<br/>
When using '&amp;':
<br/>
<br/>
1100 1011
<br/>
0011 0100
<br/>
<br/>
0000 0000  &lt;&lt;&lt;gets this and this is exactly what you want, the previous register value is cleared.
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
| is logical OR, it's an bitwise operator, this means that if you have an bit value like this: 
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Oh, probably just a typo, but '||' is logical OR, like '&amp;&amp;' is logical AND, '|' is bitwise OR, like '&amp;' bitwise AND.<br/>_________________<br/>Currently playing: NGC: Metroid Prime
<br/>
GBA: Golden Sun: The Lost Age
<br/>
<br/>
Currently developping: Project ~ [ Phail ]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
