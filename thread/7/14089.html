<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Generating a random number in C? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>C/C++ > Generating a random number in C?</h2>
<div id="posts">
<div class="post">
    <h4>#139560 - d3x - Fri Sep 07, 2007 2:37 pm</h4>
    <div class="postbody"><span class="postbody">Greetings all :)
<br/>
<br/>
I'm working with HAM and I need to generate a random number, it should be between 1 and 3, so the amount of random is not huge, but I'm new at both C and HAM, and have no clue how to generate a random number. Using rand() does not give me what I want, any way to tune that to my need?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#139561 - kusma - Fri Sep 07, 2007 2:38 pm</h4>
    <div class="postbody"><span class="postbody">In what way are the numbers from rand() not pleasing you?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#139563 - d3x - Fri Sep 07, 2007 2:51 pm</h4>
    <div class="postbody"><span class="postbody">Well, the random numbers generated are huge, and in deed random, but I need to limit them to be either 1, 2 or 3</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#139566 - Diddl - Fri Sep 07, 2007 3:16 pm</h4>
    <div class="postbody"><span class="postbody">rand() generates a number from 0 to RANDMAX. 
<br/>
<br/>
<span style="font-weight: bold">either</span> divide it by RANDMAX, multiply it by 3 and add 1
<br/>
<br/>
<span style="font-weight: bold">or</span> take a modulo (%) 3 and add 1.
<br/>
<br/>
<br/>
first methode is critical if you use integer values ...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#139568 - kusma - Fri Sep 07, 2007 3:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;stdlib.h&gt;
<br/>
<br/>
int rand_range(int range)
<br/>
{
<br/>
   return (int)(rand() * ((float)range / RAND_MAX));
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#139571 - Cearn - Fri Sep 07, 2007 5:00 pm</h4>
    <div class="postbody"><span class="postbody">There are quite a number of RNG threads already, including pros and cons of specific methods. 
<br/>
<br/>
From the FAQ: <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=1431" target="_blank">http://forum.gbadev.org/viewtopic.php?t=1431</a>, and then follow the linked threads.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
