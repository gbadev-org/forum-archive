<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>This is a C++ question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > This is a C++ question</h2>
<div id="posts">
<div class="post">
    <h4>#72875 - LOst? - Wed Feb 22, 2006 7:22 am</h4>
    <div class="postbody"><span class="postbody">Again, I have a question, and I feel I will soon get replies telling me to buy a C++ book.
<br/>
<br/>
Well, I just got Visual C++ 2005, and Microsoft's .NET Framework 2. In the framework, a class named Int32 exists. However, I don't know how it works. This is what it can do:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int this_is_a_normal_int = 5;
<br/>
<br/>
String* string = this_is_a_normal_int.ToString();
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The prototype looks something like this (it is part of the Int32 class I think):
<br/>
<span style="font-weight: bold">public: virtual String* ToString();</span>
<br/>
<br/>
This is very interesting. I would like to build a class myself that can override a normal integer like Microsoft did. How do I do? I don't want to cast!
<br/>
Maybe it is easy? I have never tried. Just give me a little hint and I will be happy.
<br/>
<br/>
What I like about this thing is that I may be able to do string conversations, fixed float types and stuff like that for my DS games. I really would love to use this type of things. I think it is very interesting!<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72878 - sajiimori - Wed Feb 22, 2006 7:57 am</h4>
    <div class="postbody"><span class="postbody">You can't make that work in C++ if you declare the variable as int, but it will work if you declare it as your own custom type and make the constructor take an int.
<br/>
<br/>
And yes, buy a C++ book.
<br/>
<br/>
Edit: BTW, your signature makes you sound ignorant of one of the most important concepts in all of computer science.  It also uses "thine" incorrectly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72880 - NoMis - Wed Feb 22, 2006 8:53 am</h4>
    <div class="postbody"><span class="postbody">Int32 is a framework type. It is not possible to use it on the DS because the framework does not run on the DS. You can only use it with Managed C++ wich only runs on windows.
<br/>
<br/>
NoMis<br/>_________________<br/><span style="font-style: italic"><a class="postlink" href="http://www.gamedev.at/" target="_blank">www.gamedev.at</a></span> - The austrian gamedev site
<br/>
<span style="font-style: italic"><a class="postlink" href="http://hde.gamedev.at/" target="_blank">hde.gamedev.at</a></span> - The Handheld Dev Env plugins for Eclipse</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72881 - keldon - Wed Feb 22, 2006 9:03 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">Edit: BTW, your signature makes you sound ignorant of one of the most important concepts in all of computer science.  It also uses "thine" incorrectly.</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, this was mentioned before in the collision detection thread. But he says he knows about, and uses recursion.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72988 - sajiimori - Wed Feb 22, 2006 8:03 pm</h4>
    <div class="postbody"><span class="postbody">The fact that more than one person has reached the same conclusion only supports my point.  :)
<br/>
<br/>
NoMis, while it's not possible to use the actual Int32 from the .NET framework without porting the framework, it's definitely possible to define a standard C++ type with many of the same capabilities.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72993 - keldon - Wed Feb 22, 2006 8:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">The fact that more than one person has reached the same conclusion only supports my point.  :)</td> </tr></table><span class="postbody">
<br/>
Yes. I was thinking of commenting on it until he acknowledged recursion, and said that he uses it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73082 - LOst? - Thu Feb 23, 2006 8:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">You can't make that work in C++ if you declare the variable as int, but it will work if you declare it as your own custom type and make the constructor take an int.</td> </tr></table><span class="postbody">
<br/>
<br/>
But it worked when I declared the variable as int. That's why I want to know how it is possible. Maybe the header files will help me then.
<br/>
<br/>
And I will buy a C++ book.
<br/>
<br/>
<br/>
EDIT:
<br/>
Maybe it is operator int() I am trying to do?
<br/>
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclang/html/_pluslang_conversion_functions.asp" target="_blank">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclang/html/_pluslang_conversion_functions.asp</a><br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73096 - keldon - Thu Feb 23, 2006 9:45 am</h4>
    <div class="postbody"><span class="postbody">.NET is completely object oriented; and visual c++ supports .NET so they must have provided support for these object types. All primitives are objects with .NET.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73099 - gauauu - Thu Feb 23, 2006 9:58 am</h4>
    <div class="postbody"><span class="postbody">Could be nasty preprocessor tricks, so what you think is an int really isn't.
<br/>
<br/>
For example, I wrote and ran this program:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include &lt;cstdlib&gt;
<br/>
#include &lt;iostream&gt;
<br/>
#include "cheating.h"
<br/>
<br/>
using namespace std;
<br/>
<br/>
main()
<br/>
{
<br/>
   int x = 4;
<br/>
   cout &lt;&lt; x.doVoodoo() &lt;&lt; endl;
<br/>
   return 0;
<br/>
   
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
and it compiled without eror, and displayed the number 23.
<br/>
<br/>
How?
<br/>
<br/>
Oh, my cheating.h looked like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class myint
<br/>
{
<br/>
   private:
<br/>
      int val;
<br/>
   
<br/>
   public: 
<br/>
      myint(int x);
<br/>
      int operator=(int x);
<br/>
      int doVoodoo();
<br/>
<br/>
};
<br/>
<br/>
myint::myint(int x)
<br/>
{
<br/>
   val = x;
<br/>
}
<br/>
<br/>
int myint::operator=(int x)
<br/>
{
<br/>
   val = x;
<br/>
   return val;
<br/>
}
<br/>
<br/>
int myint::doVoodoo()
<br/>
{
<br/>
   return 23;
<br/>
}
<br/>
<br/>
#define int myint
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
One thing I've learned in life is that the preprocessor is a wonderful and dangerous thing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73115 - strager - Thu Feb 23, 2006 1:56 pm</h4>
    <div class="postbody"><span class="postbody">Using the preprocessor to override the int is a good idea, but you must be careful with it.  For example, you must be able to convert it to other types (such as a plain int and a float).
<br/>
A "ToString" function doesn't sound right to me; why not just have:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">cout &lt;&lt; (String &amp;)myint;</td> </tr></table><span class="postbody">
<br/>
As opposed to:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">cout &lt;&lt; myint.ToString();</td> </tr></table><span class="postbody">
<br/>
I think the first looks better (and makes the int look like a <span style="font-style: italic">real</span> int), yet the second is more understandable (but confusing when a user looks at the type "int").  Whever one you choose, if either, is up to you.  With the example given in gauauu's post, and with the power of changing how the compiler typecasts, both are possible, and can be interchangable.  Also, if both are implemented, one could give other programmers of the project the power to choose the style they like best.  Don't worry about bloating your code; the (String &amp;) typecast could return the results of the int::ToString() function, and vice versa.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73122 - keldon - Thu Feb 23, 2006 2:55 pm</h4>
    <div class="postbody"><span class="postbody">I'm pretty positive that's a .NET type function. Note that the function started with a capital letter - which is what they do in .NET.
<br/>
<br/>
Like I said, in .NET even the primitives are objects.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73140 - tepples - Thu Feb 23, 2006 5:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote">A "ToString" function doesn't sound right to me</td> </tr></table><span class="postbody">
<br/>
You haven't done any Java programming, right? The .NET framework and C# language were heavily inspired by the Java platform and language.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73191 - sajiimori - Thu Feb 23, 2006 9:30 pm</h4>
    <div class="postbody"><span class="postbody">C# is not C++.  Managed C++ is not C++.  If you declare the variable as int in C++, you can't call methods on it, period.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Using the preprocessor to override the int is a good idea...</td> </tr></table><span class="postbody">Wow.  No, but it might get you on <a class="postlink" href="http://www.thedailywtf.com" target="_blank">The Daily WTF</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73205 - strager - Thu Feb 23, 2006 10:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote">A "ToString" function doesn't sound right to me</td> </tr></table><span class="postbody">
<br/>
You haven't done any Java programming, right? The .NET framework and C# language were heavily inspired by the Java platform and language.</span></td> </tr></table><span class="postbody">
<br/>
I don't really like Java.  The "ToString" function scares me.  Java uses too many classes.  The "ToString" function scares me.  And, uh, Java is a platform?  Hmm...
<br/>
I realize that C# is somewhat greety in that it takes from Java, but that's just Microsoft doing their job.  But, with the VS.NET IDE and such, C# is much easier to get working than Java.  The major downside is that C# is not very portable, while Java is.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73210 - tepples - Thu Feb 23, 2006 10:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote">The major downside is that C# is not very portable</td> </tr></table><span class="postbody">
<br/>
As the <a class="postlink" href="http://www.mono-project.com/Main_Page" target="_blank">Mono</a> CLR gets ported to more platforms, it may very well catch up with Java.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73226 - keldon - Fri Feb 24, 2006 12:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote">A "ToString" function doesn't sound right to me</td> </tr></table><span class="postbody">
<br/>
You haven't done any Java programming, right? The .NET framework and C# language were heavily inspired by the Java platform and language.</span></td> </tr></table><span class="postbody">
<br/>
I don't really like Java.  The "ToString" function scares me.  Java uses too many classes.  The "ToString" function scares me.  And, uh, Java is a platform?  Hmm...
<br/>
I realize that C# is somewhat greety in that it takes from Java, but that's just Microsoft doing their job.  But, with the VS.NET IDE and such, C# is much easier to get working than Java.  The major downside is that C# is not very portable, while Java is.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
If you didn't know; java and .NET runs in a virtual machine. Your java and .NET classes compile into bytecode, which is then interpreted by the JVM (for java) and the CLI - I believe (for .NET). However .NET uses a fast Jitter and outperforms java, and in some cases [they claim] can outperform machine dependant compiled C++. This is probably down to the cache optimisations which can be made. Just remember Microsoft's agreement with Intel - and the amount of code which they have to test cache optimisation with.
<br/>
<br/>
Just thought I'd mention that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73420 - byg - Sat Feb 25, 2006 5:20 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote">The "ToString" function scares me. </td> </tr></table><span class="postbody">
<br/>
But why? It's just a method call on an object. Like any other method call. In the case of primitive data types one just has to realise that they are first cast into wrapper classes.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">However .NET uses a fast Jitter and outperforms java...</td> </tr></table><span class="postbody">
<br/>
I'm not sure what a Jitter is (a Just-In-Time compiler?), but surely this is too generic and there are a host of things to consider before one can say that programming language A outperforms programming language B. I am sure Sun probably have some research which shows the opposite is true!<br/>_________________<br/><span style="font-weight: bold">Modasi Games</span>
<br/>
<a class="postlink" href="http://www.modasi.com/" target="_blank">www.modasi.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73423 - keldon - Sat Feb 25, 2006 5:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>byg wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strager wrote:</b></span></td> </tr> <tr> <td class="quote">The "ToString" function scares me. </td> </tr></table><span class="postbody">
<br/>
But why? It's just a method call on an object. Like any other method call. In the case of primitive data types one just has to realise that they are first cast into wrapper classes.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">However .NET uses a fast Jitter and outperforms java...</td> </tr></table><span class="postbody">
<br/>
I'm not sure what a Jitter is (a Just-In-Time compiler?), but surely this is too generic and there are a host of things to consider before one can say that programming language A outperforms programming language B. I am sure Sun probably have some research which shows the opposite is true!</span></td> </tr></table><span class="postbody">
<br/>
<br/>
.NET performs on average 5% slower than compiled c++; and can outperform c++ in some [very few] applications. It's just accepted fact - java is way slower than .NET hands down.
<br/>
<br/>
Java is very very slow in fact. Even simple loops using only integers run visibly slower. There is Jitting with java; but I'm not sure if it is used all the time. .NET will always Jit commonly executed code using a caching system.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73427 - byg - Sat Feb 25, 2006 6:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">.NET performs on average 5% slower than compiled c++; and can outperform c++ in some [very few] applications. It's just accepted fact - java is way slower than .NET hands down.
<br/>
<br/>
Java is very very slow in fact. Even simple loops using only integers run visibly slower. There is Jitting with java; but I'm not sure if it is used all the time. .NET will always Jit commonly executed code using a caching system.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm not advocating one over the other. You may be right about the speed comparison but this is becoming less and less of an issue (also surely the VM implementation will have a say in this). Even today some time critical code is implemented in asm rather than C or C++ (wasn't C++ derided at one stage for being slower than C?). One could even write C code that is slower than Basic if one didn't know what they were doing. Comparing simple loops using only integers may be slower on your machine but is not really a real world test. Also, try running the C# test on a Linux machine under Mono. When you previously said <span style="font-style: italic">outperforms</span> there are many factors to consider (i.e. development speed, ease of debugging, target device etc etc).<br/>_________________<br/><span style="font-weight: bold">Modasi Games</span>
<br/>
<a class="postlink" href="http://www.modasi.com/" target="_blank">www.modasi.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73436 - keldon - Sat Feb 25, 2006 6:41 pm</h4>
    <div class="postbody"><span class="postbody">Actually I take that back. Java's Jitter does the same thing the .NET one does - and reports say the same things about it. I was just checking out osnews.
<br/>
<br/>
But yet one of the developers for <a class="postlink" href="http://sodarace.net/index.jsp" target="_blank">sodarace</a> told me that implementing it in java forced them to do clever optimisations for the physics because of java's speed. Same thing I was told about implementing my texture mapping algo in java. I guess it must just be with those types of algorithms.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73467 - sajiimori - Sat Feb 25, 2006 9:53 pm</h4>
    <div class="postbody"><span class="postbody">What you are comparing is the relative speed of implementations of Java and C#, not the relative speed of the languages.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73468 - keldon - Sat Feb 25, 2006 10:14 pm</h4>
    <div class="postbody"><span class="postbody">I am talking about the speed of running the same code using the .NET CLI and JRE; not language speed.
<br/>
<br/>
Apparently they are supposed to be in the same league. Studies show that they can both outperform compiled code in some cases down to cache optimisation not available to conventionally compiled code and the fact that the JIT compiler will compile code specifically for the processor being ran on.
<br/>
<br/>
One thing I just realised is that I have never compiled my code with optimisations on. Let me go do that now and see some speed improvements. 
<br/>
<br/>
<a class="postlink" href="http://www.osnews.com/story.php?news_id=5602&amp;page=2" target="_blank">The osnews 9 language benchmark</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
