<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Need help with initializing an array in a C++ constructor - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>C/C++ > Need help with initializing an array in a C++ constructor</h2>
<div id="posts">
<div class="post">
    <h4>#53629 - LOst? - Fri Sep 09, 2005 11:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest
<br/>
{
<br/>
private:
<br/>
   char TestArray [4];
<br/>
<br/>
public:
<br/>
   CTest ();
<br/>
}
<br/>
<br/>
CTest::CTest ()
<br/>
:   TestArray (?????????)
<br/>
{
<br/>
<br/>
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I want to initialize all 4 array elements in TestArray to the number 3. How do I do this in propper C++ syntax?<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53638 - sajiimori - Sat Sep 10, 2005 3:33 am</h4>
    <div class="postbody"><span class="postbody">You can't do it in the initializer list, but that's okay in this case because chars don't have a default constructor, so there's no redundancy by initializing them in the body of the constructor.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53640 - LOst? - Sat Sep 10, 2005 4:07 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">You can't do it in the initializer list, but that's okay in this case because chars don't have a default constructor, so there's no redundancy by initializing them in the body of the constructor.</td> </tr></table><span class="postbody">
<br/>
<br/>
But what if i have more variables to initialize in the constructor initializer list? How do I skip TestArray?<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53641 - jumperwillow - Sat Sep 10, 2005 4:07 am</h4>
    <div class="postbody"><span class="postbody">I don't know exactly what you mean by "proper," but this will get the job done.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest
<br/>
{
<br/>
private:
<br/>
   char TestArray [4];
<br/>
<br/>
public:
<br/>
   CTest ();
<br/>
}
<br/>
<br/>
CTest::CTest ()
<br/>
{
<br/>
   int i;
<br/>
   for(i=0; i&lt;4; i++)
<br/>
      TestArray[i] = '3';
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53644 - LOst? - Sat Sep 10, 2005 4:27 am</h4>
    <div class="postbody"><span class="postbody">This is the problem:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest 
<br/>
{ 
<br/>
private: 
<br/>
   int TestInteger; 
<br/>
   char TestArray [4]; 
<br/>
   bool TestBoolean; 
<br/>
   char TestChar; 
<br/>
<br/>
public: 
<br/>
   CTest (); 
<br/>
} 
<br/>
<br/>
CTest::CTest () 
<br/>
:   TestInteger (5), 
<br/>
    ERRORERRORERRORERRORERROR,
<br/>
    TestBoolean (true),
<br/>
    TestChar ('A')
<br/>
{ 
<br/>
} 
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53647 - jumperwillow - Sat Sep 10, 2005 5:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LOst? wrote:</b></span></td> </tr> <tr> <td class="quote">This is the problem:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest 
<br/>
{ 
<br/>
private: 
<br/>
   int TestInteger; 
<br/>
   char TestArray [4]; 
<br/>
   bool TestBoolean; 
<br/>
   char TestChar; 
<br/>
<br/>
public: 
<br/>
   CTest (); 
<br/>
} 
<br/>
<br/>
CTest::CTest () 
<br/>
:   TestInteger (5), 
<br/>
    ERRORERRORERRORERRORERROR,
<br/>
    TestBoolean (true),
<br/>
    TestChar ('A')
<br/>
{ 
<br/>
} 
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
What exactly are you trying to accomplish here?  
<br/>
<br/>
The Syntax you are using vaguely resembles C++ Inheritance, but there's no actual inheritance going on here...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53650 - LOst? - Sat Sep 10, 2005 7:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>jumperwillow wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LOst? wrote:</b></span></td> </tr> <tr> <td class="quote">This is the problem:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest 
<br/>
{ 
<br/>
private: 
<br/>
   int TestInteger; 
<br/>
   char TestArray [4]; 
<br/>
   bool TestBoolean; 
<br/>
   char TestChar; 
<br/>
<br/>
public: 
<br/>
   CTest (); 
<br/>
} 
<br/>
<br/>
CTest::CTest () 
<br/>
:   TestInteger (5), 
<br/>
    ERRORERRORERRORERRORERROR,
<br/>
    TestBoolean (true),
<br/>
    TestChar ('A')
<br/>
{ 
<br/>
} 
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
What exactly are you trying to accomplish here?  
<br/>
<br/>
The Syntax you are using vaguely resembles C++ Inheritance, but there's no actual inheritance going on here...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I am just wondering what I should put instead of ERRORERRORERRORERRORERROR to not generate any compiler errors or warnings.<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53651 - jumperwillow - Sat Sep 10, 2005 7:33 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LOst? wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>jumperwillow wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LOst? wrote:</b></span></td> </tr> <tr> <td class="quote">This is the problem:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest 
<br/>
{ 
<br/>
private: 
<br/>
   int TestInteger; 
<br/>
   char TestArray [4]; 
<br/>
   bool TestBoolean; 
<br/>
   char TestChar; 
<br/>
<br/>
public: 
<br/>
   CTest (); 
<br/>
} 
<br/>
<br/>
CTest::CTest () 
<br/>
:   TestInteger (5), 
<br/>
    ERRORERRORERRORERRORERROR,
<br/>
    TestBoolean (true),
<br/>
    TestChar ('A')
<br/>
{ 
<br/>
} 
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
What exactly are you trying to accomplish here?  
<br/>
<br/>
The Syntax you are using vaguely resembles C++ Inheritance, but there's no actual inheritance going on here...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I am just wondering what I should put instead of ERRORERRORERRORERRORERROR to not generate any compiler errors or warnings.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Why are you initializing your class in the function header though?  You are  better off just initializing your variables in the actual constructor...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest 
<br/>
{ 
<br/>
private: 
<br/>
   int TestInteger; 
<br/>
   char TestArray [4]; 
<br/>
   bool TestBoolean; 
<br/>
   char TestChar; 
<br/>
<br/>
public: 
<br/>
   CTest (); 
<br/>
} 
<br/>
<br/>
CTest::CTest () 
<br/>
{
<br/>
    int i;
<br/>
    TestInteger=5;
<br/>
    for(i=0; i&lt;4; i++)
<br/>
        TestArray[i]='3';
<br/>
    TestBoolean=true;
<br/>
    TestChar='A';
<br/>
{ 
<br/>
} 
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/>-h</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53705 - sajiimori - Sat Sep 10, 2005 8:32 pm</h4>
    <div class="postbody"><span class="postbody">Jumperwillow, it's called an initializer list, and it's often critical for efficient object construction.
<br/>
<br/>
Lost, just skip the array and initialize the other variables, then fill the array in the constructor body.  The compiler won't complain.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#53721 - LOst? - Sun Sep 11, 2005 4:08 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">Jumperwillow, it's called an initializer list, and it's often critical for efficient object construction.
<br/>
<br/>
Lost, just skip the array and initialize the other variables, then fill the array in the constructor body.  The compiler won't complain.</td> </tr></table><span class="postbody">
<br/>
<br/>
Thank you for that! I will.<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
