<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>problem concerning multiboot... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>C/C++ > problem concerning multiboot...</h2>
<div id="posts">
<div class="post">
    <h4>#33625 - ImInABand - Thu Jan 06, 2005 4:54 am</h4>
    <div class="postbody"><span class="postbody">i just acquired the knowledge to use multiboot thanks to a guide or two.. 
<br/>
<br/>
so i tried to make a multiboot communication of a bg palette fading tech demo i made (51k, so its small enough).  i used B2X to make it into a header, and i modified the code so it would send my data.
<br/>
<br/>
My data sent, valid header and everything.  it doesnt seem to boot though.  just a blank white screen.  i've done a bit of research on this board and found my problem may lie in the blanking bit of the display control.  what i dont understand is how to get the display control of the slave gba out of forced blank remotely.
<br/>
<br/>
any thoughts on a simple way of doing this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33626 - tepples - Thu Jan 06, 2005 5:03 am</h4>
    <div class="postbody"><span class="postbody">You may not have linked your slave program with multiboot support (in devkitARM, replace -specs=gba.specs with -specs=gba_mb.specs). Have you tried renaming the slave program to .mb and seeing if VBA runs it?
<br/>
<br/>
To get the slave GBA out of forced blank, just set a display mode and turn on a background.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33655 - ImInABand - Thu Jan 06, 2005 2:51 pm</h4>
    <div class="postbody"><span class="postbody">yeah.. the thing is im doing this in devkitadv with the -mthumb tag, as per the guide that i was using - link :
<br/>
<br/>
<a class="postlink" href="http://devrs.com/gba/files/mbclient.txt" target="_blank">http://devrs.com/gba/files/mbclient.txt</a>
<br/>
<br/>
and i renamed my slave file to .mb and ran it in visualboy, then i checked the I/O's... the control bit only has the blanking bit enabled, then i change the control registers in the I/O directory in vba and apply them, and now i get a black screen.  its as if my program isnt running at all!
<br/>
<br/>
[if you couldn't tell, im a bit slow with this stuff :p]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36434 - Maverick - Sat Feb 19, 2005 9:56 pm</h4>
    <div class="postbody"><span class="postbody">What code are you using to init your mb rom?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40535 - Krakken - Wed Apr 20, 2005 12:53 am</h4>
    <div class="postbody"><span class="postbody">A white screen generally means that the data hasn't been sent correctly. You may want to try a forced delay in between each transfer frame to ensure the slave GBA can keep up.
<br/>
<br/>
Check your addresses for reading from the multiboot image to make sure that you're not trying to access 0x08000000 addresses. The ROM you are sending needs to be compiled as tepples mentioned not the ROM that you are using to send.
<br/>
<br/>
If I understand you correctly, the display control should be set by the ROM being transferred which boots automatically.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40573 - tepples - Wed Apr 20, 2005 2:27 pm</h4>
    <div class="postbody"><span class="postbody">You're compiling with devkitARM, right? If you're linking a multiboot image with devkitARM, you'll need to use <span style="font-weight: bold">-specs=gba_mb.specs</span> instead of <span style="font-weight: bold">-specs=gba.specs</span>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
