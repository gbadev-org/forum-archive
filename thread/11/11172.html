<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Menu Maker - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Help Wanted > Menu Maker</h2>
<div id="posts">
<div class="post">
    <h4>#102900 - jester - Sun Sep 17, 2006 8:37 pm</h4>
    <div class="postbody"><span class="postbody">A Menu helper for my DS Game</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102921 - zzo38computer - Mon Sep 18, 2006 12:12 am</h4>
    <div class="postbody"><span class="postbody">Here is a example of making a menu in NDS software:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void show_menu() {
<br/>
   u32 i,j,k,sel;
<br/>
   sel=0;
<br/>
<br/>
   while(1) {
<br/>
      swiWaitForVBlank();
<br/>
      k=keysDown();
<br/>
<br/>
      if(mylevel==0) printtext(7,8,(sel==0)?15:6,"Start Game");
<br/>
      else printtext(7,8,(sel==0)?15:6,"Resume Game");
<br/>
      if(mylevel==0) printtext(8,8,(sel==1)?15:6,"Load Game");
<br/>
      else if(mylevel==1) printtext(8,8,(sel==1)?15:6,"Save Game");
<br/>
      else printtext(8,8,(sel==1)?15:6,"Exit Level");
<br/>
      printtext(9,8,(sel==2)?15:6,"Speed: ");
<br/>
      if(maxvblanks==15) disp_sub(9,15,(sel==2)?15:6,'S');
<br/>
      if(maxvblanks==7) disp_sub(9,15,(sel==2)?15:6,'M');
<br/>
      if(maxvblanks==2) disp_sub(9,15,(sel==2)?15:6,'F');
<br/>
      printtext(10,8,(sel==3)?15:6,"Backlight");
<br/>
      printtext(11,8,(sel==4)?15:6,"Contrast: ");
<br/>
      disp_sub(11,18,(sel==4)?15:6,'0'+pal_main/5);
<br/>
      printtext(12,8,(sel==5)?15:6,"Sound Test");
<br/>
<br/>
      if(k&amp;KEY_UP &amp;&amp; sel&gt;0) sel-=1;
<br/>
      if(k&amp;KEY_DOWN &amp;&amp; sel&lt;5) sel+=1;
<br/>
      if(k&amp;KEY_SELECT) {
<br/>
         if(sel==0) return;
<br/>
         if(sel==1 &amp;&amp; mylevel&gt;1) {
<br/>
            PlaySound(SNDFX_START);
<br/>
            mylevel=1;
<br/>
            myhearts=oldhearts;
<br/>
            myarrows=oldarrows;
<br/>
            mykeys=oldkeys;
<br/>
            myscore=oldscore;
<br/>
            load_map();
<br/>
            return;
<br/>
         }
<br/>
         if(sel==2) {
<br/>
            if(maxvblanks==15) maxvblanks=7;
<br/>
            else if(maxvblanks==7) maxvblanks=2;
<br/>
            else maxvblanks=15;
<br/>
         }
<br/>
         if(sel==3) PlaySound(50);
<br/>
         if(sel==4) {
<br/>
            pal_main=(pal_main+5)%30;
<br/>
            if(pal_main==0) pal_main=5;
<br/>
            pal_hi=30-pal_main;
<br/>
            load_palette();
<br/>
         }
<br/>
         if(sel==5) {
<br/>
            cleartext(5,23);
<br/>
            soundtest_menu();
<br/>
            cleartext(5,23);
<br/>
         }
<br/>
      }
<br/>
   }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Obiously this isn't what you need and you probably can't use this code exactly, but it will give you a idea how to do it<br/>_________________<br/><span style="font-weight: bold">Important:</span> Please send messages about FWNITRO to the public forum, not privately to me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102923 - brennan - Mon Sep 18, 2006 12:16 am</h4>
    <div class="postbody"><span class="postbody">I think he's coding his game in Lua.
<br/>
<br/>
EDIT: In which case, I can help. Drop me an IM.<br/>_________________<br/>Hardware: <span style="font-style: italic">GBAMP v2</span>, <span style="font-style: italic">Datel MML</span>, <span style="font-style: italic">NDS phat (Flashme v7)</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102978 - jester - Mon Sep 18, 2006 12:13 pm</h4>
    <div class="postbody"><span class="postbody">thanks i will talk to u brennan on MSN</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
