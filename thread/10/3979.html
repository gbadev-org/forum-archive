<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>mod file size and content - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > mod file size and content</h2>
<div id="posts">
<div class="post">
    <h4>#25682 - lordmetroid - Thu Aug 26, 2004 11:10 pm</h4>
    <div class="postbody"><span class="postbody">I'm thinking of restricting my music files to 50kByte/mod file
<br/>
Now I wonder, how much detail would one generally get into such a mod file?
<br/>
<br/>
Also I heard vocal samples would take quite some space, is there anyway to decrease their size, as I really want vocal choir as an instrument.<br/>_________________<br/>*Spam*
<br/>
Open Solutions for an open mind, <a href="http://www.areta.org" target="_blank">www.areta.org</a>
<br/>
<br/>
Areta is an organization of coders codeing mostly open source project, but there is alot of sections like GBA dev, Language learning communities, RPG communities, etc...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25692 - tepples - Fri Aug 27, 2004 3:40 am</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">Redundancy among waveforms</span>
<br/>
One way to decrease the average size of your mod files is to use more than one mod file with the same instruments. Have your mod converter put the waveforms in a hash table and then load those waveforms that a particular song uses.
<br/>
<br/>
<span style="font-weight: bold">Redundancy within waveforms</span>
<br/>
Use <a class="postlink" href="http://www.pineight.com/gba/gsm/" target="_blank">GSM 06.10</a> to compress the waveforms at 4.85:1 and decompress them to EWRAM (at about 32 ksamples/s) when starting each song. To maintain the illusion of fast loading time, display a mission briefing while decompressing waveforms. Decompress the waveforms that appear in the first couple patterns, then start the song and fade out the mission briefing while decompressing the rest, then start the action.
<br/>
<br/>
<span style="font-weight: bold">Redundancy within patterns</span>
<br/>
MOD uses a very inefficient method to store pattern data. Don't store an effect column if there isn't one. Don't store an entire row if there isn't one in a given column. Use a form of run-length encoding in each column to determine what there is and isn't (for example, hold note for <span style="font-style: italic">n</span> rows), then store what there is.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
