<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>play a sound with Krawall - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > play a sound with Krawall</h2>
<div id="posts">
<div class="post">
    <h4>#79628 - Jau - Fri Apr 14, 2006 6:52 pm</h4>
    <div class="postbody"><span class="postbody">If I have a file called secondpm.s3m and I get the output secondpm.s with the conversion tool, what do I have to do to play it?
<br/>
<br/>
kragInit( KRAG_INIT_STEREO );
<br/>
krapPlay( /* what comes here? */, KRAP_MODE_LOOP, 0 );</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79863 - gauauu - Sun Apr 16, 2006 4:41 pm</h4>
    <div class="postbody"><span class="postbody">Once you use the conversion tool, it should create a header file (samples.h or modules.h) that define variables for each song or sound effect.  use the defined name for the song you want to play.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "modules.h"
<br/>
krapPlay(mod_my_song, KRAP_MODE_LOOP, 0 );
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79876 - sumiguchi - Sun Apr 16, 2006 6:37 pm</h4>
    <div class="postbody"><span class="postbody">I think that should be...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "modules.h"
<br/>
krapPlay(&amp;mod_my_song, KRAP_MODE_LOOP, 0 ); </td> </tr></table><span class="postbody">[/quote]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79911 - gauauu - Mon Apr 17, 2006 1:55 am</h4>
    <div class="postbody"><span class="postbody">Oh yeah, you're probably right.....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79980 - Jau - Mon Apr 17, 2006 10:10 pm</h4>
    <div class="postbody"><span class="postbody">ok thank you</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84777 - Toby - Wed May 24, 2006 6:31 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
do anybody know how to get a valid pointer to samples within a S3M-file? I have a modules.h and playing the music works fine, but now I want to play some samples seperatly which are included in the mod. Unfortuantely I only get a samples.h with some defines:
<br/>
e.g.
<br/>
#define SAMPLE_SMPBEATADDED 12
<br/>
#define SAMPLE_OPTIONSHORTORGAN2 36
<br/>
#define SAMPLE_OPTIONSHORTORGAN3 37
<br/>
<br/>
Thanks in advance...
<br/>
Toby</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84867 - gauauu - Thu May 25, 2006 2:37 am</h4>
    <div class="postbody"><span class="postbody">I don't have the computer with all my code handy (I'm in the process of moving), but if I remember right, you do:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
kramPlay((Sample *)samples[SAMPLE_SMPBEATADDED] , 1 ,0);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
where samples is defines in the samples.h that krawall gives you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84870 - sumiguchi - Thu May 25, 2006 2:45 am</h4>
    <div class="postbody"><span class="postbody">If you don't see your samples in your samples.h - then the converter program may have stripped them out. 
<br/>
removed  unused sample "name" or something like that.
<br/>
<br/>
I think this happens when you have a sample that is not a part of the song. To get around this, I generally create 1 mod just for effects.  I do create a track and use each one of each of the effects just so converter doesn't strip them out. 
<br/>
<br/>
Hope it helps....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#85036 - Toby - Fri May 26, 2006 5:44 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the fast help guys. It works fine now. The converter produces an empty header-file, but this is okay...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
