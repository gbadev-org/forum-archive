<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>wav faq - step by step - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Audio > wav faq - step by step</h2>
<div id="posts">
<div class="post">
    <h4>#6818 - Malefactor - Tue Jun 03, 2003 3:21 am</h4>
    <div class="postbody"><span class="postbody">I've been working at playing sound on the GBA for awhile now, specifically a wav file.
<br/>
<br/>
I have successfully generate sound via the various tutorials available, but when it comes to making a prog that plays a wav file I always seem to miss something.
<br/>
<br/>
To keep it short, I'm looking for step by step instructions; a sort of GBA sound for dummies.  I want to do this the easiest way possible, and then I'm sure I could expand on my own from there.  I don't need anything fancy like a high bitrate or stereo sound.  I just want something that doesn't snap, crackle, pop, hiss, fizz, jump or skip on hardware.
<br/>
<br/>
Let's do this in an FAQ format.
<br/>
<br/>
<br/>
<span style="font-weight: bold">1.</span>  I'm told told that the best format to use is
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">8-bit PCM with the sign bit flipped, at sample rates in the neighborhood of 21 kHz or below.</td> </tr></table><span class="postbody">
<br/>
is this true?
<br/>
<br/>
<span style="font-weight: bold">2.</span>  What tool should I use to convert a wav file to that format?<br/>_________________<br/><a class="postlink" href="http://lorrd.fearware.net" target="_blank"></a><a href="http://mysite.verizon.net/vzep3wth/sitebuildercontent/sitebuilderpictures/lorrdbanner.gif">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6823 - tepples - Tue Jun 03, 2003 4:40 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Malefactor wrote:</b></span></td> </tr> <tr> <td class="quote">To keep it short, I'm looking for step by step instructions; a sort of GBA sound for dummies.
<br/>
[...]
<br/>
<span style="font-weight: bold">1.</span>  I'm told told that the best format to use is
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">8-bit PCM with the sign bit flipped, at sample rates in the neighborhood of 21 kHz or below.</td> </tr></table><span class="postbody">
<br/>
is this true?</span></td> </tr></table><span class="postbody">
<br/>
Yes. The GBA's native sample format is 8-bit signed PCM (minimum 0x80, neutral 0x00, maximum 0x7f). The low sample rate is to keep your waves from taking up too much cart space.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-weight: bold">2.</span>  What tool should I use to convert a wav file to that format?</td> </tr></table><span class="postbody">
<br/>
For <a class="postlink" href="http://www.pineight.com/tod/" target="_blank">TOD</a>, I wrote my own conversion tool based on the wav specification, but there are probably a few tools in gbadev.org's tools section. I <span style="font-style: italic">really</span> ought to package my tools separately so that "what tool?" FAQs don't keep popping up all the time.
<br/>
<br/>
Now do you want just one or two wav files at once, at fixed volume, or do you want a full mixer?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6825 - Malefactor - Tue Jun 03, 2003 5:57 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Yes. The GBA's native sample format is 8-bit signed PCM (minimum 0x80, neutral 0x00, maximum 0x7f). The low sample rate is to keep your waves from taking up too much cart space.</td> </tr></table><span class="postbody">
<br/>
Makes sense to me.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">For <a class="postlink" href="http://www.pineight.com/tod/" target="_blank">TOD</a>, I wrote my own conversion tool based on the wav specification, but there are probably a few tools in gbadev.org's tools section.</td> </tr></table><span class="postbody">
<br/>
I think one of us is misunderstanding my question.  First I want to know how to whip a wav file into shape so that I can use one of the tools to convert it to .. lets say a header file .. I've heard that if I used Windows Recorder to record a sound, it won't work.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Now do you want just one or two wav files at once, at fixed volume, or do you want a full mixer?</td> </tr></table><span class="postbody">
<br/>
I have very little sound programming experience, and all the talk about mixers just sends me further down The Sprial of Confusion.
<br/>
<br/>
The application only requires one sound at a time so that would be fine.<br/>_________________<br/><a class="postlink" href="http://lorrd.fearware.net" target="_blank"></a><a href="http://mysite.verizon.net/vzep3wth/sitebuildercontent/sitebuilderpictures/lorrdbanner.gif">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6856 - gb_feedback - Tue Jun 03, 2003 5:19 pm</h4>
    <div class="postbody"><span class="postbody">Save your sound, from whatever app it may be, as a wav file and specify 8 bit mono.
<br/>
<br/>
Then your file will contain the bytes you need in sequence, preceded by a header, and maybe followed by some other rubbish. I have often used just a hex editor, extracted the relevant bytes, inverted the msbit of each byte, and saved the result which is the bytes you need in the gba.
<br/>
<br/>
To know which bytes to extract it helps to spend half an hour reading a specification of the wav file format, found at say, <a href="http://www.wotsit.org." target="_blank">www.wotsit.org.</a> The only caveat here is that you should read several specs to find the simplest description of the basic wav file. The 'standard' is a real bastard made up of bits and pieces from all kinds of people. But the basic spec is almost trivial.
<br/>
<br/>
If the sound capturing app can be made to save in 8 bit mono, and if it uses no fancy compression storage, then the app is fine. I don't know why Windows Recorder (which I haven't used) shouldn't do the job just fine. I'm a great fan of Goldwave myself - well worth the registration if you get on with it.
<br/>
<br/>
Finally to write your own tool to locate the right bytes, complement the first bit, and save into another file, is really simple once you know what you need.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6927 - Malefactor - Wed Jun 04, 2003 4:58 pm</h4>
    <div class="postbody"><span class="postbody">So are you saying that I need to get rid of the header and footer/trailer before I run it through one of those tools?<br/>_________________<br/><a class="postlink" href="http://lorrd.fearware.net" target="_blank"></a><a href="http://mysite.verizon.net/vzep3wth/sitebuildercontent/sitebuilderpictures/lorrdbanner.gif">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6961 - gb_feedback - Thu Jun 05, 2003 9:41 am</h4>
    <div class="postbody"><span class="postbody">I'm saying that 5 minutes with a good hex editor (and a wav file spec) will allow you to extract the data (as binary) without needing any other tools.
<br/>
This assumes the wav file was saved in mono 8 bit. 
<br/>
A 'tool' would do the same thing but much quicker and would produce the output in the form you wanted. Say, as text for a .h file.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
