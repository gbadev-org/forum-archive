<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>8ad codec - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > 8ad codec</h2>
<div id="posts">
<div class="post">
    <h4>#17302 - org - Sat Mar 06, 2004 12:08 am</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
<br/>
Can anybody tell me how to compile this 8ad codec and get it to work?
<br/>
<br/>
Or maybe somebody can do this for me?
<br/>
<br/>
<br/>
I tried long time but i still dont know how it works...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17304 - tepples - Sat Mar 06, 2004 12:53 am</h4>
    <div class="postbody"><span class="postbody">What do you want to use 8ad for?
<br/>
<br/>
What errors have you got so far? or can't you find the first step?
<br/>
<br/>
You will need both DevKit Advance R5 and MinGW installed.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17322 - org - Sat Mar 06, 2004 9:49 am</h4>
    <div class="postbody"><span class="postbody">I only like to play some music with my gba.
<br/>
<br/>
I can't do the first step, thats right.
<br/>
<br/>
I don't know where to get this DevKit and MinGW, there are so much files to download and i don't know the right one and how to install it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17340 - tepples - Sat Mar 06, 2004 5:15 pm</h4>
    <div class="postbody"><span class="postbody">If you haven't already installed DevKit Advance, it appears you're a user rather than a developer. 8ad is still optimized for developers (that is, people who want to incorporate compressed sound into their games) rather than for users. If you just want to use your GBA as a portable music player, I have something even better in the works.
<br/>
<br/>
To install DevKit Advance on Windows, you need <a class="postlink" href="http://sourceforge.net/project/showfiles.php?group_id=67315&amp;package_id=65702&amp;release_id=139893" target="_blank">all of these files</a>.
<br/>
<br/>
To install MinGW, get <a class="postlink" href="http://prdownloads.sf.net/mingw/MinGW-3.1.0-1.exe?download" target="_blank">this</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17342 - org - Sat Mar 06, 2004 5:26 pm</h4>
    <div class="postbody"><span class="postbody">Yes, i only want to use it to play music.
<br/>
<br/>
I only tried this, because i found nothing else. Ok, there are some plugins for pogoshell but they dont work for me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17351 - Lupin - Sat Mar 06, 2004 7:59 pm</h4>
    <div class="postbody"><span class="postbody">Where did you find plugins? Let me test them! :)
<br/>
<br/>
Did you try this player?
<br/>
<br/>
<a href="http://www.gameboy-advance.net/emulated/musicplayer_advance_gba_mp3.htm" target="_blank">http://www.gameboy-advance.net/emulated/musicplayer_advance_gba_mp3.htm</a>
<br/>
<br/>
Please tell me if you can get better compression rates than the musicplayer advance.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17353 - org - Sat Mar 06, 2004 8:23 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://www.mqp.com/fun/gb_dnld.htm" target="_blank">http://www.mqp.com/fun/gb_dnld.htm</a>
<br/>
<br/>
<br/>
  ./\
<br/>
.   l
<br/>
 .  l
<br/>
  . l
<br/>
<br/>
Plugins</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17355 - gb_feedback - Sat Mar 06, 2004 8:45 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, they are my plug-ins for Pogoshell. There's a midi plug-in, a wav plug-in (pcm and adpcm), and a combined one. I have only tested on Pogoshell 1.2, and I think org must be the guy who emailed me and said he couldn't get them to work with pogo 2.0 beta 2.
<br/>
<br/>
As I can't build pogo 2 on my pc I've never been able to do the test but I'm sure others have had them working.
<br/>
<br/>
If anyone does have success I'd be pleased to hear about it.
<br/>
<br/>
One of my plans, for when I have time, is to convert the plug-ins to .mbz format.
<br/>
<br/>
By the way, org, I would have asked this on the gbaemu forum.
<br/>
<br/>
Another 'by the way', org, you shouldn't have a problem with these plug-ins. My son uses them and puts whole albums on a cart. He's into the music from Grand Theft Auto (Vice City). But he's using pogo 1.2 like me.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17367 - org - Sat Mar 06, 2004 11:44 pm</h4>
    <div class="postbody"><span class="postbody">The e-mail wasn't mine *g
<br/>
<br/>
I think i tried all versions and no one worked.
<br/>
<br/>
Ther was only a black screen and no sound. 
<br/>
In some cases the black screen was only visible a very short time and then the menu again.
<br/>
<br/>
I hope you understand, what i try to say :) 
<br/>
<br/>
But i will try it once again with 1.2 now
<br/>
<br/>
ps: i dont know if this matters, but i use a 64M Flash Advance Card</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17369 - tepples - Sat Mar 06, 2004 11:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">Did you try this player?
<br/>
<br/>
<a href="http://www.gameboy-advance.net/emulated/musicplayer_advance_gba_mp3.htm" target="_blank">http://www.gameboy-advance.net/emulated/musicplayer_advance_gba_mp3.htm</a>
<br/>
<br/>
Please tell me if you can get better compression rates than the musicplayer advance.</td> </tr></table><span class="postbody">
<br/>
I don't know what kind of bitrate "musicplayer advance" gets, given the lack of source code and the fact that the ".mpa" files it emits aren't real MPEG audio files (as Winamp expects). But the "something even better" I spoke of gets 30 kbps at 18 kHz; a 64 Mbit card could hold about 36 minutes of music.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17372 - org - Sun Mar 07, 2004 12:07 am</h4>
    <div class="postbody"><span class="postbody">i tried it now and flashed it with the tool wich comes with pogoshell.
<br/>
<br/>
In the "Task-Bar" it says " Playing wav file, press B...." but it doesn't play anyting and hangs up, i have to turn the gba off to get back to the menu.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17381 - tepples - Sun Mar 07, 2004 2:35 am</h4>
    <div class="postbody"><span class="postbody">"Something even better" has arrived.
<br/>
<br/>
<a href="http://www.pineight.com/gba/gsm/" target="_blank">http://www.pineight.com/gba/gsm/</a>
<br/>
<br/>
You probably want the "Player binary and music ROM builder".<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17387 - dagamer34 - Sun Mar 07, 2004 4:34 am</h4>
    <div class="postbody"><span class="postbody">Wow... Amazing... Truly amazing....
<br/>
<br/>
I can't believe it but it works. And it sound good too!!
<br/>
<br/>
One question though, if I have a MIDI file, what is the easiest way to make convert it into a wav file?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17390 - tepples - Sun Mar 07, 2004 6:29 am</h4>
    <div class="postbody"><span class="postbody">Here's how to render MIDI into a PCM audio format: start Winamp, play with the MIDI input plug-in's settings, and use the Disk Writer output plug-in to record. If your sound card doesn't support loopback of MIDI through Windows sound, you may have to do the Good Old Analog Hole: run a patch cable from one machine playing the MIDI to another machine running <a class="postlink" href="http://audacity.sourceforge.net/" target="_blank">Audacity</a>.
<br/>
<br/>
Or you could try converting the MIDI file to an S3M file, using any of the available tools for this, and then playing the S3M through Krawall or something.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17393 - tepples - Sun Mar 07, 2004 6:55 am</h4>
    <div class="postbody"><span class="postbody">Oh, and it turns out the "reset" in my GSM player doesn't work. I think I have identified the problem (trying to Visoly-bankswitch ROM while running in ROM, what a dummkopf), the cause (I had only tested my reset code in programs that run entirely from EWRAM), and the solution (reset.ewram.o). I'll re-upload once I've tested the solution thoroughly.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17398 - gb_feedback - Sun Mar 07, 2004 9:39 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">ps: i dont know if this matters, but i use a 64M Flash Advance Card</td> </tr></table><span class="postbody">
<br/>
<br/>
Org: I've got one of those cards too, and you're right, it doesn't work. I use a Flash2Advance card for pogoshell.
<br/>
<br/>
edit: I have a faint recollection that the problem was that the number of executable programs with that cart was severely limited so you could try taking out all the other plug-ins and any (public domain or legally backed up) games you may have in the build, and try again. But it rather defeats the point of pogoshell.
<br/>
<br/>
Tepples: To save me doing the research, how does this gsm codec compare compression-wise with 8ad? 8ad is 4 bits per sample, I believe?<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17410 - Lupin - Sun Mar 07, 2004 3:53 pm</h4>
    <div class="postbody"><span class="postbody">tepples, you are amazing!! :)
<br/>
<br/>
My favourite song is now half the size as in music player advance!!! Great job!
<br/>
<br/>
What are the best settings for the wav input file?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17417 - Lupin - Sun Mar 07, 2004 6:25 pm</h4>
    <div class="postbody"><span class="postbody">you should think of improving the user interface a little bit, the text looks a little bit stretched (I guess you didn't add fancy gfx because of rom size). The song title needs a line break :)
<br/>
<br/>
I would create a new outfit for it if i would understand the code (it's pretty straightforward, but very nice!)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17420 - tepples - Sun Mar 07, 2004 7:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gb_feedback wrote:</b></span></td> </tr> <tr> <td class="quote">how does this gsm codec compare compression-wise with 8ad? 8ad is 4 bits per sample, I believe?</td> </tr></table><span class="postbody">
<br/>
8ad is 4 bits per sample, or 73 kbps at 18157 Hz. GSM RPE-LTP is 1.65 bits per sample, or 30 kbps at 18157 Hz. I'm working on an in-between codec called "Esti" that's about 2.6 bits per sample for those few people who can't tolerate GSM. Esti will also decode faster than GSM (which uses 60% CPU) but not as fast as 8ad (which uses 6% CPU), allowing it to be used for even a moderately complex game.
<br/>
<br/>
For a rough comparison of the codecs I'm working with, see <a class="postlink" href="http://pinocchio.jk0.org/ddr4gba/" target="_blank">this page</a>.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">What are the best settings for the wav input file?</td> </tr></table><span class="postbody">
<br/>
16-bit, mono, 18157 Hz. If your wav files aren't in that format, Sox will resample them for you (albeit slowly) every time you build the ROM.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">you should think of improving the user interface a little bit, the text looks a little bit stretched (I guess you didn't add fancy gfx because of rom size).</td> </tr></table><span class="postbody">
<br/>
The stretching was on purpose; I wanted to make it look a bit like a cheap MP3 player's display. I could make the font full-size at a cost of 3 KB. If you want to change anything related to the display, it's all in hud.c.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The song title needs a line break :) </td> </tr></table><span class="postbody">
<br/>
GBFS limits filenames to 24 characters, so leave off the artist name.
<br/>
<br/>
In fact, it's so good that <span style="font-weight: bold">I eat my own dogfood.</span> I stick 115-130 BPM music in it, flash it to my Visoly FA Turbo 256 Mbit flash cart (closest still-sold equivalent is F2A 256 Mbit), and go walking. If you're already developing or pirating on the GBA, it's a lot cheaper than the MP3 players and a lot more jerk-resistant than the MP3 CD players.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17426 - Lupin - Sun Mar 07, 2004 9:00 pm</h4>
    <div class="postbody"><span class="postbody">Pirating on the gba? You have weird thoughts! :P
<br/>
<br/>
I need to get headphones now...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17428 - dagamer34 - Sun Mar 07, 2004 10:42 pm</h4>
    <div class="postbody"><span class="postbody">Aren't we a little feisty today...<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17450 - Lupin - Mon Mar 08, 2004 4:23 pm</h4>
    <div class="postbody"><span class="postbody">a pogoshell plugin would be nice too... I wouldn't have to compile it to one single rom then...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17483 - headspin - Tue Mar 09, 2004 9:48 am</h4>
    <div class="postbody"><span class="postbody">Nice work there tepples. Just curious how does this codec compare to the Sand2 demo audio in terms of quality and compression?<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17503 - tepples - Tue Mar 09, 2004 6:47 pm</h4>
    <div class="postbody"><span class="postbody">This uses exactly the same codec as Sand2, except run at 18157 Hz instead of 16000 Hz for better alignment with Vblank. I'm not as good at optimizing somebody else's code as the author of Sand2, which is why my version uses twice the CPU time.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17622 - headspin - Thu Mar 11, 2004 6:58 am</h4>
    <div class="postbody"><span class="postbody">Well, the author of Sand2 didn't release any of his audio code to the public.
<br/>
<br/>
Just had a look at the readme in Sand2, got some interesting points about how he optimised his audio code. Dunno, might be helpful.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22683 - tepples - Sat Jun 26, 2004 9:54 pm</h4>
    <div class="postbody"><span class="postbody">Tursi did eventually publish Sand2's source code under yet another of those "non-commercial" licenses (which aren't anywhere near meeting OSI or DFSG standards). Afterward, inspired by having completed yard work that involved cutting branches, I took another look at my own GSM decoder port and managed to cut the CPU usage a bit by unrolling the synthesis filters; now it's down to 50% on hardware.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22696 - sgeos - Sun Jun 27, 2004 6:53 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">Pirating on the gba? You have weird thoughts! :P</td> </tr></table><span class="postbody">I envy people who have time for things like game piracy.  (I also wish they would do more productive things with their time.)  I have 3 or so unbeaten carts, <span style="font-weight: bold">plus</span> another two that have been in the shrink wrap since about Xmas.  Then there are the unopened e-reader cards...
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25494 - tepples - Tue Aug 24, 2004 1:57 am</h4>
    <div class="postbody"><span class="postbody">I've updated my <a class="postlink" href="http://www.pineight.com/gba/gsm/" target="_blank">GSM Player</a> yet again. People liked to complain that GSM Player was ugly; I've fixed that problem by switching to a higher resolution font for the UI. I've also updated the build environment to devkitARM R8 rather than the obsolete DevKit Advance.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
