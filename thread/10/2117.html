<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>MIDI Loop Controller - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > MIDI Loop Controller</h2>
<div id="posts">
<div class="post">
    <h4>#10998 - Zack Parrish - Tue Sep 23, 2003 1:14 am</h4>
    <div class="postbody"><span class="postbody">Okay, I'm just a composer, but none of the programmers in the dev team I am in are too sure about how to code a midi playback device that supports the MIDI Controller #111.  What it does is allows you to add intros and such to the music, but without the proper playback device, it's pretty much useless.
<br/>
<br/>
If you could direct me to something that explains how to do that, then I would appreciate it very much.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10999 - tepples - Tue Sep 23, 2003 3:31 am</h4>
    <div class="postbody"><span class="postbody">The <a class="postlink" href="http://www.borg.com/~jglatt/tech/midifile.htm" target="_blank">reference for standard midi file format</a> (.mid) that I use doesn't mention controller 111, but it does mention another way to make loops in a .mid file. Look under "Meta-Events in an MTrk" for Marker. What you do on the player side:
<br/>
<ul><li>When you find a marker event named "loop start", save the current state of the track (format 0) or the state of all tracks (format 1). Here, "state" includes at least the data address and the delta-time, to allow for quick seeking.</li><li>When you find a marker event named "loop end", restore the information you saved at "loop start".</li></ul>
<br/>
However, you have to be using a sequencer program that lets you drop markers into the conductor track.
<br/>
<br/>
If I were a programmer on your project, I'd suggest dropping standard MIDI format and using some sort of module format, such as .s3m or .xm with the instruments abstracted out into a separate file.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
