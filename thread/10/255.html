<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Easiest Music/Sound Implementation - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > Easiest Music/Sound Implementation</h2>
<div id="posts">
<div class="post">
    <h4>#1562 - darkcloud - Mon Jan 20, 2003 5:09 am</h4>
    <div class="postbody"><span class="postbody">What is the easiest, most simple, basic way to implement sound/music in a game?  I just want to some music without having to do too much work.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1567 - Quirky - Mon Jan 20, 2003 10:12 am</h4>
    <div class="postbody"><span class="postbody">The easiest way I found was to use the Belogic.com "wav" playing code. It won't produce small final binary files if you use an entire wav for music, but it works a treat for smaller sound fx files. Use the wav2raw program in the gbadev.org tools section to convert the wavs to raws for inclusion in a project.
<br/>
<br/>
An alternative for music is the NMOD player, which works really well for playing mods. It's fast and fairly easy to add to a project. That will give you more reasonable file sizes and probably better quality music too. It can be downloaded from gbadev too, but you have to hunt back a few weeks in the news archives. 
<br/>
<br/>
Another way is to use Krawall, which can be used for sound fx and music. I had some problems with this one, though it gives a "richer" sound for playing mods than NMOD (I don't know how to describe it properly, I'm tone deaf ;) It isn't quite as fast I don't think, but has proper documentation and a working GCC example. The modified crt0.s that comes with the krawall download is useful for the NMOD player though, as it sets up the interupt table so that the timer1 interupt is not interupted itself (to reduce the likelihood of the music skipping) Though if you are familiar with asm you could probably do that modification yourself (I'm not, so I couldn't.)
<br/>
<br/>
Finally there's Codewaves. This worked in the demo program provided, but was more difficult to add to another project, so I gave up with it. It plays mod files and wavs for sound fx though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1586 - darkcloud - Mon Jan 20, 2003 4:03 pm</h4>
    <div class="postbody"><span class="postbody">Thanks I'll try all those out and see what works for me.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1608 - JonH - Mon Jan 20, 2003 6:40 pm</h4>
    <div class="postbody"><span class="postbody">Just a summary of the options I've tried so far:
<br/>
<br/>
MusicWave by Codewaves
<br/>
Good replayer, and easy to implement. This was my choice for protracker .mod playing until recently, when I discovered that for some reason it wouldn't let me use hardware sprites while playing the tune.
<br/>
<br/>
BoyScout Advance
<br/>
Great idea for synth sound, very easy to implement and use... but has the unfortunate drawback that it only plays correctly on the emulators :( On real hardware it seems that sound channel 3 is very badly distorted.
<br/>
<br/>
NMod
<br/>
Just downloaded this, and it looks like it could be a good method for integrating a mod with a Demo, since it has callback functions. The demo sounds good, but I couldn't get the thing to work... something about "can't find makefile.1" when trying to compile it.
<br/>
<br/>
Krawall
<br/>
Recently moved to this sound system, and indeed it is the best and easiest to use (in my opinion) so far - as in that it does what i want and i'm not too worried about Rom size or processor speed ;) its easy to implement and sounds damn good.
<br/>
<br/>
thats all i've tried so far, the next step for me will be trying the Belogic.com tutorials to play raw sound fx. hope that helps?
<br/>
<br/>
laters!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1609 - darkcloud - Mon Jan 20, 2003 6:43 pm</h4>
    <div class="postbody"><span class="postbody">Thanks, any info I can get about gba sound will help.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1659 - darkcloud - Tue Jan 21, 2003 4:37 am</h4>
    <div class="postbody"><span class="postbody">When I try to convert my wav file with Wav2Raw I get an error message saying 'Cannot create RAW file'.  What could cause this?<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1671 - Quirky - Tue Jan 21, 2003 11:51 am</h4>
    <div class="postbody"><span class="postbody">Are you using "Wav2Raw v1.0 for Game Boy Advance by Sylvain Rochette"? If so, it needs to be an 8 bit mono wav file - there are several progs on the web to convert wav types to other types.
<br/>
<br/>
As for Nmod, the GCC make file that comes with it is not correct. Neimod did post on here saying it would need fixing before it'd work (or that might have been about a C version..) Anyway, I use this straightforward makefile to compile nmod.s:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
ASFLAGS = -mthumb-interwork -marm7tdmi
<br/>
<br/>
all:  nmod.lib
<br/>
<br/>
nmod.lib : nmod.s
<br/>
   as $(ASFLAGS) -o nmod.lib nmod.s
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Then link that into my game by doing this sort of thing:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
LIBS = ../nmod/nmod.lib 
<br/>
#plus other libs 
<br/>
<br/>
#linking step ...
<br/>
gcc $(LDFLAGS) -o main.elf $(OFILES) $(LIBS)
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I didn't manage to recompile the demo that came with the Neimod distrib on gbadev.org, nor did I try too hard, but it was easy enough to add it to my own game.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1720 - darkcloud - Tue Jan 21, 2003 10:41 pm</h4>
    <div class="postbody"><span class="postbody">Yes I am using that Wav2Raw and it still doesn't seem to work for me.  Could I send you my audio file and see if you could convert it for me?<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1828 - darkcloud - Thu Jan 23, 2003 11:48 pm</h4>
    <div class="postbody"><span class="postbody">Well nevermind, I got it to work.  I found another program that converted it.  Now everything works fine.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1830 - darkcloud - Fri Jan 24, 2003 12:02 am</h4>
    <div class="postbody"><span class="postbody">Well nevermind, I got it to work.  I found another program that converted it.  Now everything works fine.<br/>_________________<br/>Maybe in order to understand mankind, we have to look at the word itself: "Mankind". Basically, it's made up of two separate words - "mank" and "ind". What do these words mean ? It's a mystery, and that's why so is mankind.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
