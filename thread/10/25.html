<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Mod player - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > Mod player</h2>
<div id="posts">
<div class="post">
    <h4>#121 - remi59 - Fri Jan 03, 2003 3:55 pm</h4>
    <div class="postbody"><span class="postbody">What the best Mod player for GBA?
<br/>
<br/>
I tried Nmod 1c but I do not arrive has to compile it.
<br/>
I also Tried Code Waves but I Have a lot a error when I compile my project whith it.
<br/>
<br/>
<a href="http://membres.lycos.fr/allionb/CWError.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
Please Help me!
<br/>
If you whant Sources code send me an Email at <a href="mailto:Bennymarrou@aol.com">Bennymarrou@aol.com</a>
<br/>
<br/>
{Sorry for my English but i'm french}<br/>_________________<br/>---@Remi59@---
<br/>
BOMBERMAN ZERO
<br/>
Soon in your GBA</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126 - Corum - Fri Jan 03, 2003 7:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>remi59 wrote:</b></span></td> </tr> <tr> <td class="quote">What the best Mod player for GBA?
<br/>
<br/>
I tried Nmod 1c but I do not arrive has to compile it.
<br/>
I also Tried Code Waves but I Have a lot a error when I compile my project whith it.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
If you need .mod support, you should try Afm 1.1 library: <a class="postlink" href="http://www.hitmen-console.org" target="_blank">www.hitmen-console.org</a>
<br/>
<br/>
Here you can find a very good example (with source code, but incomplete makefile): <a class="postlink" href="http://darkfader.net/gba/" target="_blank">http://darkfader.net/gba/</a>
<br/>
<br/>
Hope it helps.
<br/>
Bye.
<br/>
<br/>
Corum.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143 - zeuhl - Fri Jan 03, 2003 10:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>remi59 wrote:</b></span></td> </tr> <tr> <td class="quote">What the best Mod player for GBA?
<br/>
<br/>
I tried Nmod 1c but I do not arrive has to compile it.
<br/>
<br/>
{Sorry for my English but i'm french}</td> </tr></table><span class="postbody">
<br/>
<br/>
nmod 1c works well with GCC or ARM SDT.
<br/>
I got it working directly using the GNU assembler (the one that is used by GCC), the nmod.s (GCC version), and Jeff Frohwein's crt0.s .
<br/>
<br/>
and btw, I'm French too (sisi j'te jure). &lt;joke&gt;Please stop believing that being French allows to write bad English messages :)&lt;/joke&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2066 - Sweex - Tue Jan 28, 2003 4:39 pm</h4>
    <div class="postbody"><span class="postbody">I'm also looking for a modplayer, preferably with ability to play sound effects. Now I was trying to get a sample of AFM to compile/link and run, but yet unsuccesful. All I got was a "buzz" tone... Does anyone here have another sample that I could try or perhaps any hints?
<br/>
<br/>
Or perhaps with another player...?
<br/>
<br/>
Thanks in advance!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2072 - NEiM0D - Tue Jan 28, 2003 7:32 pm</h4>
    <div class="postbody"><span class="postbody">Indeed, the GCC version of NMOD was based on DarkFader's libraries.
<br/>
You need his libraries in order to compile it.
<br/>
<br/>
However, it isn't that hard at all to compile it without his libraries.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2101 - Quirky - Wed Jan 29, 2003 11:16 am</h4>
    <div class="postbody"><span class="postbody">I just compiled NMOD like this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
ASFLAGS   = -mthumb-interwork -marm7tdmi
<br/>
<br/>
as $(ASFLAGS) -o nmod.o nmod.s</td> </tr></table><span class="postbody">
<br/>
<br/>
Then I could include the .o in a project as I needed. The code to set it up is really simple too:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "nmodgcc.h"
<br/>
<br/>
void PlaySong(unsigned char nSong) {
<br/>
  NMOD_SetMasterVol(64,0);
<br/>
  NMOD_SetMasterVol(64,1);
<br/>
  NMOD_SetMasterVol(64,2);
<br/>
  NMOD_SetMasterVol(64,3);
<br/>
  unsigned long int regs = REG_IE;
<br/>
  NMOD_Play( (u32)_binary_song_mod_start );
<br/>
  REG_IE |= regs;
<br/>
}
<br/>
<br/>
void StopSong(void) {
<br/>
  // remember which regs we had irqs on before, as NMOD_Stop blitzes them
<br/>
  unsigned long int regs = REG_IE;
<br/>
  NMOD_Stop();
<br/>
  
<br/>
  // the following is needed so that the last note doesn't linger
<br/>
  // otherwise, starting another tune has the last note of the last tune 
<br/>
  // still playing for a while.
<br/>
  NMOD_pattern = 0;
<br/>
  NMOD_row = 0;
<br/>
  unsigned short i;
<br/>
  for (i = 0; i &lt; BUFFER_SIZE; i++) {
<br/>
    NMOD_buffera[0][i] = 0;
<br/>
    NMOD_buffera[1][i] = 0;
<br/>
    NMOD_buffera[0][i] = 0;
<br/>
    NMOD_bufferb[1][i] = 0;
<br/>
  }
<br/>
  for (i = 0; i &lt; 4; i++) {
<br/>
    NMOD_instrument[i] = 0;
<br/>
    NMOD_effect[i] = 0;
<br/>
    NMOD_period[i] = 0;
<br/>
    NMOD_volume[i] = 0;
<br/>
  }
<br/>
  // return our irqs, minus nmod's TIMER1
<br/>
  REG_IE |= regs;
<br/>
  REG_IE &amp;= ~INT_TIMER1;  
<br/>
}
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The extra stuff after NMOD_Stop() is only needed if you stop a song then want to play a different one later. If you don't clear out all the buffers, you get some notes remaining from the first song at the start of the second one. 'Course you probably only need to clean out certain buffers, not *all* of them, but I didn't trial and error enough to find out which.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2116 - NEiM0D - Wed Jan 29, 2003 8:06 pm</h4>
    <div class="postbody"><span class="postbody">I see you've got the hang of the NMOD_* variables, nice job by the way.
<br/>
:]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#3525 - fl0w - Wed Feb 26, 2003 5:25 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
have a look at <a class="postlink" href="http://maso.r0x.free.fr" target="_blank">http://maso.r0x.free.fr</a>
<br/>
<br/>
Bye !<br/>_________________<br/>-- 
<br/>
    fl0w</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
