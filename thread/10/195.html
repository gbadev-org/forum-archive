<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>No bass through internal speaker - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Audio > No bass through internal speaker</h2>
<div id="posts">
<div class="post">
    <h4>#1223 - tepples - Wed Jan 15, 2003 7:56 pm</h4>
    <div class="postbody"><span class="postbody">The GBA's tiny internal speaker drastically cuts the relative power of frequencies lower than about 500 Hz. Thus, there's NO BASS response on the GBA unless the player uses headphones. What tricks do composers use to circumvent this lack of bass?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1226 - Splam - Wed Jan 15, 2003 8:44 pm</h4>
    <div class="postbody"><span class="postbody">Not sure there IS anything you can do, if the freqencies aren't produced then you won't hear them.  I've begged people in the readme to my sidplayer to use headphones becuase the sound from the speaker is SO bad.  Maybe for sample playback there might be something you could do but I really can't think of anything.
<br/>
<br/>
If any composers DO know of any tricks I'd like to hear about them too :)  I can think of a couple of things but I wouldn't want to mention them until I'd tested them as they're only theoretical.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1237 - snug - Wed Jan 15, 2003 9:58 pm</h4>
    <div class="postbody"><span class="postbody">There is no magic trick that will allow low frequencies to be heard on a speaker with a small frequency range. However, using a bass sample/ patch with abundant mid-range frequencies will certainly ensure that the bass can be heard on any just about anything.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1242 - Vortex - Wed Jan 15, 2003 10:25 pm</h4>
    <div class="postbody"><span class="postbody">The trick used in professional sound studios is called psychoacoustic processing. First the sound is very heavily compressed (i.e. the dynamic range is reduced) and also most of the sound processors use subharmonic synthesis.
<br/>
<br/>
To answer the original question - if you want to reproduce a sound wave with a frequency of let's say 500Hz but your speaker has a very limited range, you may want to use higher harmonic frequencies instead - i.e. for 500Hz you can use f1=1000Hz, f2=2000Hz, etc. If you mix these harmonics using proper values (new_wave = a * f1 + b * f2 + .... + z * fN ) the fact the basic frequency is missing can be diminished. 
<br/>
<br/>
Let me know if you need more information about that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1310 - snug - Thu Jan 16, 2003 5:53 pm</h4>
    <div class="postbody"><span class="postbody">... in other words, "add more mid-range frequencies" :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1341 - Vortex - Thu Jan 16, 2003 9:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>snug wrote:</b></span></td> </tr> <tr> <td class="quote">... in other words, "add more mid-range frequencies" :P</td> </tr></table><span class="postbody">
<br/>
<br/>
Not exactly - do to it right you will need to analyze the spectrum of the signal. Then, removing the base harmonic (frequency) and boost selected harmonics you need to have a spectrum which is very similar to the original one. In the same time you need to keep the energy of the resulting signal close to the energy of the original signal. If you just add more mid-range you will distort the signal and the results will be very bad.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1353 - tepples - Thu Jan 16, 2003 11:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Vortex wrote:</b></span></td> </tr> <tr> <td class="quote">you will need to analyze the spectrum of the signal. Then, removing the base harmonic (frequency) and boost selected harmonics you need to have a spectrum which is very similar to the original one.</td> </tr></table><span class="postbody">
<br/>
Can this be precomputed separately for each sample? Or does it need to be done on the final mix? Can you provide links to web pages explaining the technique?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1356 - Vortex - Fri Jan 17, 2003 12:01 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Can this be precomputed separately for each sample?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, since the spectral character of each sample is different you need to do it for each one. The question is - do you want to do that in realtime or just precalculate the spectrum/prefilter the samples ? 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Or does it need to be done on the final mix?</td> </tr></table><span class="postbody">
<br/>
<br/>
No. If you want do smooth the output you can apply a filter, but a full FFT is not required.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Can you provide links to web pages explaining the technique?</td> </tr></table><span class="postbody">
<br/>
<br/>
The best free DSP resource IMHO is <a href="http://www.dspguide.com/." target="_blank">http://www.dspguide.com/.</a> I will try to find a more specific example in my books.
<br/>
<br/>
The described method is more a sound mixing technique, so you may want to check some of the home-recording web-sites (www.home-recording.com for example).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1684 - snug - Tue Jan 21, 2003 4:19 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Vortex wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>snug wrote:</b></span></td> </tr> <tr> <td class="quote">... in other words, "add more mid-range frequencies" :P</td> </tr></table><span class="postbody">
<br/>
<br/>
Not exactly - do to it right you will need to analyze the spectrum of the signal. Then, removing the base harmonic (frequency) and boost selected harmonics you need to have a spectrum which is very similar to the original one. In the same time you need to keep the energy of the resulting signal close to the energy of the original signal. If you just add more mid-range you will distort the signal and the results will be very bad.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
You misunderstand. My suggestion is to add additional mid-range in the sound design stage, not the processing stage. This will only work for those who design their own sounds.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1688 - Vortex - Tue Jan 21, 2003 4:35 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>snug wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Vortex wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>snug wrote:</b></span></td> </tr> <tr> <td class="quote">... in other words, "add more mid-range frequencies" :P</td> </tr></table><span class="postbody">
<br/>
<br/>
Not exactly - do to it right you will need to analyze the spectrum of the signal. Then, removing the base harmonic (frequency) and boost selected harmonics you need to have a spectrum which is very similar to the original one. In the same time you need to keep the energy of the resulting signal close to the energy of the original signal. If you just add more mid-range you will distort the signal and the results will be very bad.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
You misunderstand. My suggestion is to add additional mid-range in the sound design stage, not the processing stage. This will only work for those who design their own sounds.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
You are right - if you design your own sounds there is no need to do  complicated realtime stuff - you can compensate everything at that stage. One more question - do you have any information about the frequency response of the build-in speaker ?
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#1704 - tepples - Tue Jan 21, 2003 8:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Vortex wrote:</b></span></td> </tr> <tr> <td class="quote">One more question - do you have any information about the frequency response of the build-in speaker ?</td> </tr></table><span class="postbody">
<br/>
In Cool Edit Pro, I was able to approximate the speaker's response with a three-pole Butterworth high-pass filter with half-power frequency 800 Hz.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
