<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sound ch3 worries... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Audio > Sound ch3 worries...</h2>
<div id="posts">
<div class="post">
    <h4>#2469 - FluBBa - Tue Feb 04, 2003 2:11 pm</h4>
    <div class="postbody"><span class="postbody">Maybe this is more of GBC question but the few places to look doesn't tell much so I figured maybe some old GBC developers are here =)
<br/>
If I have written data to the wave ram of channel 3 and initialized it and set it to use the counter.
<br/>
After the sound has played how do I get it to play again?
<br/>
Is the only way to start it again to do another initializing? If I have to do that I also have to rewrite the wave ram area every time.
<br/>
<br/>
/FluBBa<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2476 - tepples - Tue Feb 04, 2003 4:42 pm</h4>
    <div class="postbody"><span class="postbody">My GBA sound engine "stops" channel 3 by setting its volume to zero.  No rewriting of the wavetable is necessary.  But then, I don't use the length counters to time note releases.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2479 - FluBBa - Tue Feb 04, 2003 5:30 pm</h4>
    <div class="postbody"><span class="postbody">The problem is that it gives a click when i turn the volume completly off.
<br/>
I don't know if there is any way around this, maybe it doesn't help to use the counter either.
<br/>
And this is for emulating the NES triangle channel, which just stop the oscillation of the channel. Any ideas?
<br/>
<br/>
/FluBBa<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2482 - tepples - Tue Feb 04, 2003 6:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FluBBa wrote:</b></span></td> </tr> <tr> <td class="quote">The problem is that it gives a click when i turn the volume completly off.</td> </tr></table><span class="postbody">
<br/>
One way to smooth the click is to set the channel 3 volume to 50 percent, wait a few microseconds, then set it to 0 percent.  Still, you're a lot more likely to hear clicks on GB hardware than on NES hardware because while NES audio has a low-pass filter, GB audio has a HIGH pass filter because the tiny speaker has very little response below 500 Hz.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I don't know if there is any way around this, maybe it doesn't help to use the counter either.</td> </tr></table><span class="postbody">
<br/>
Accurate length counters are better done in software.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">And this is for emulating the NES triangle channel</td> </tr></table><span class="postbody">
<br/>
Heck, I often slip and call channel 3 on the GB the "triangle channel" by mistake.
<br/>
<br/>
If you want the most accurate emulation of NES sound hardware, you're going to have to do it in software.  For instance, the lowest pitch on the GB is 15 percent higher than the lowest pitch on the NES, so what do you do when an NES program writes a period of 1748 or greater to channel 1, 2, or 3?  And the GB doesn't have a "software envelope" mode that allows direct access to the volumes of the channels.  Writing to the volume register on GB channel 1, 2, or 4 doesn't affect the current note, and starting a new note produces a click.  What do you do when an NES program puts channel 1, 2, or 4 in "software envelope" mode?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
