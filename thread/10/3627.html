<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Trouble with Apex - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > Trouble with Apex</h2>
<div id="posts">
<div class="post">
    <h4>#22716 - Op Ivy - Sun Jun 27, 2004 9:03 pm</h4>
    <div class="postbody"><span class="postbody">First off, I'm very new to this, so if this is a real dumb question, which it probably is, sorry.:) Anyways, I've been trying to get apex up and working, just to compile one of the examples is all I want to do at the moment, but I'm having a hell of a hard time. I'm using the devkitadv and I've gone through running conv2aas, but my problem is the make file. The one originially with the program doesn't run at all. So I tried to make another one, pretty simply straight forward bat file I'd think would work. Here it is - 
<br/>
<br/>
path=C:\devkitadv\bin
<br/>
gcc -o -LLibAAS -lAAS -ILibAAS AASExample.elf AASExample.cpp -lm
<br/>
objcopy -O binary AASExample.elf AASExample.bin 
<br/>
<br/>
<br/>
The path is right, it is a .cpp file so no dumb mistake there ;) and the only error message I get is this.
<br/>
<br/>
C:\DevKitAdv\AASExample&gt;gcc -o -LLibAAS -lAAS -ILibAAS AASExample.elf AASExample.cpp -lm
<br/>
gcc: AASExample.elf: No such file or directory
<br/>
<br/>
C:\DevKitAdv\AASExample&gt;objcopy -O binary AASExample.elf AASExample.bin objcopy: AASExample.elf: No such file or directory
<br/>
<br/>
So I'm confused on what that even means.. I was under the impression that the elf file is one of the files the compiler was making. (yes I know, I know nothing about make files and what not yet heh)
<br/>
<br/>
<br/>
Thanks in advance for any help,
<br/>
Brian</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22720 - jd - Sun Jun 27, 2004 9:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Op Ivy wrote:</b></span></td> </tr> <tr> <td class="quote">I'm using the devkitadv and I've gone through running conv2aas, but my problem is the make file. The one originially with the program doesn't run at all. So I tried to make another one, pretty simply straight forward bat file I'd think would work.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Rather than making a new makefile, it might be better to try and figure out why the provided one didn't work.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Op Ivy wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
C:\DevKitAdv\AASExample&gt;gcc -o -LLibAAS -lAAS -ILibAAS AASExample.elf AASExample.cpp -lm
<br/>
gcc: AASExample.elf: No such file or directory
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The error message is because you're trying to compile AASExample.elf, which doesn't exist. You should get rid of "AASExample.elf" in the line above, and add "AASExample.o" after "-o" option. Then, you'll need to add a step to link AASExample.o to crt0.o and AAS_Data.o, after assembling them first.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Op Ivy wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
So I'm confused on what that even means.. I was under the impression that the elf file is one of the files the compiler was making. (yes I know, I know nothing about make files and what not yet heh)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The procedure goes roughly as follows:
<br/>
<br/>
1) Compile/assemble all the .c/.cpp/.s files in your project (in this case, that means AASExample.cpp, crt0.s and AAS_Data.s) using gcc/g++/as as appropriate. This will produce a corresponding object (.o) file for each input file.
<br/>
2) Link them together (I recommend using gcc rather than ld to do this as it will automatically include the relevant libraries). This will produce a single .elf file.
<br/>
3) Convert this to GBA format using objcopy.
<br/>
<br/>
It would be much easier to just use the makefile provided. How exactly does it go wrong? What error message do you get if you "cd" to the right folder and type "make"?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22879 - Op Ivy - Wed Jun 30, 2004 7:00 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the reply JD (sorry for my late response). My only problem with the make file supplied is typing make in the command line when in the directory doesn't run it. It did awhile back, but no longer does (have no clue why). Thats why I was trying to get a make.bat to work, since that I can execute in the command line.
<br/>
<br/>
(windows 2000 server, but makefile should compile fine I know, however it doesn't. :( )</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22881 - jd - Wed Jun 30, 2004 7:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Op Ivy wrote:</b></span></td> </tr> <tr> <td class="quote">Thanks for the reply JD (sorry for my late response). My only problem with the make file supplied is typing make in the command line when in the directory doesn't run it. It did awhile back, but no longer does (have no clue why).
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
What error do you get when it fails? Are you running it from the devkitadv/cygwin shell or just a standard DOS prompt? (The latter almost certainly won't work.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22883 - Op Ivy - Wed Jun 30, 2004 7:59 pm</h4>
    <div class="postbody"><span class="postbody">I've been running it off of devkitadv and it simply hangs. I'll reinstall devkit shortly and see if that fixes that part of my problem though and let you know. 
<br/>
<br/>
Again, thanks for helping me, I really appreciate it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22890 - Op Ivy - Wed Jun 30, 2004 9:00 pm</h4>
    <div class="postbody"><span class="postbody">Reinstalled DevkitAdv and cygwin, and now when I go to the directory with the make file and type make it says does not exist. o.o I think I'm just clueless when it comes to this stuff.. the programming I can do fine its these damn make files ;p</span><span class="gensmall"><br/><br/>Last edited by Op Ivy on Wed Jun 30, 2004 9:19 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#22892 - jd - Wed Jun 30, 2004 9:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Op Ivy wrote:</b></span></td> </tr> <tr> <td class="quote">Reinstalled DevkitAdv and cygwin, and now when I go to the directory with the make file and type make it says does not exist.</td> </tr></table><span class="postbody">
<br/>
<br/>
That's pretty weird. What does it say it can't find? The make executable, the makefile or something else? What version of devkitadv are you using? (You could try downloading the latest version to see if that fixes the problem.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22896 - Op Ivy - Wed Jun 30, 2004 10:05 pm</h4>
    <div class="postbody"><span class="postbody">Yeah I didn't have an up to date one it seems. Still not having much luck though. Tried using the sh.exe with devkit but it pretty much does the same thing, make won't work. . makefile will execute the file but then its just a whole mess of errors of things not found so I'm guessing thats not the way to do it. Closest I can get to running it is if I put the make file that comes with devkit in the same directory in the directory with the makefile and then go to windows command and type in make. Then I get -
<br/>
<br/>
rm -f *.o AASExample.gba AASExample.tmp   symbols.h map.out process_begin: CreateProcess((null)), rm -f *.o AASExample.gba AASExample.tmp symbols.h map.out, ...) failed.
<br/>
make (e=2): The system cannot find the file specified.
<br/>
make: *** [clean] Error 2
<br/>
<br/>
<br/>
So I doubt I'm supposed to compile the program in this way, but this is as close as I have gotton to get it to work. I don't know, I can get programs I make onto the gameboy just fine with .bats, but makefiles I can't get to run for the life of me..    Is there any good documents I could get pointed to on running them in devkitadv?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22898 - tepples - Wed Jun 30, 2004 10:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Op Ivy wrote:</b></span></td> </tr> <tr> <td class="quote">Tried using the sh.exe with devkit but it pretty much does the same thing, make won't work. . makefile will execute the file but then its just a whole mess of errors of things not found so I'm guessing thats not the way to do it.</td> </tr></table><span class="postbody">
<br/>
Please paste them.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">rm -f *.o AASExample.gba AASExample.tmp symbols.h map.out process_begin: CreateProcess((null)), rm -f *.o AASExample.gba AASExample.tmp symbols.h map.out, ...) failed.
<br/>
make (e=2): The system cannot find the file specified.
<br/>
make: *** [clean] Error 2 </td> </tr></table><span class="postbody">
<br/>
That's because 'rm' is a UNIX command, roughly corresponding to DOS's 'del'. It was easier back in the Real DOS days, when DJGPP didn't have this artificial distinction between Cygwin (UNIX API emulation) and MinGW (native Win32) environments created by the Cygwin license, and one could just install GNU Fileutils ('ls', 'rm', etc) into the PATH. Has anybody tried to build GNU Fileutils in <a class="postlink" href="http://pw32.sourceforge.net/" target="_blank">PW32</a>, a port of DJGPP's POSIX layer to Windows?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22903 - Op Ivy - Wed Jun 30, 2004 10:35 pm</h4>
    <div class="postbody"><span class="postbody">Ok, these are the errors running the sh file in the tool folder and running .makefile
<br/>
<br/>
all:: command not found
<br/>
install:: command not found
<br/>
clean:: command not found
<br/>
all-xframe:: command not found
<br/>
PATH: command not found
<br/>
make: No such file or directory
<br/>
install-xframe:: command not found
<br/>
PATH: command not found
<br/>
make: No such file or directory
<br/>
clean-xframe:: command not found
<br/>
PATH: command not found
<br/>
make: No such file or directory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22912 - jd - Thu Jul 01, 2004 12:49 am</h4>
    <div class="postbody"><span class="postbody">Are you sure you're launching devkitadv correctly? I just tried this out with devkitadv-r5-beta-3 as shown below and it worked perfectly:
<br/>
<br/>
1) Open the devkitadv folder in windows explorer. On my installation, this is "C:\devkitadv-r5-beta-3".
<br/>
2) Double click on the icon called "DevKit-Advance-R5-Beta-3" to launch command prompt.
<br/>
3) In the command prompt, "cd" to the AASExample directory.
<br/>
4) Type "make".
<br/>
<br/>
Is this exactly how you did it when you got the error messages?</span><span class="gensmall"><br/><br/>Last edited by jd on Thu Jul 01, 2004 1:30 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#22916 - Op Ivy - Thu Jul 01, 2004 1:08 am</h4>
    <div class="postbody"><span class="postbody">Yeah, I'm trying to reinstall Make on my computer, see if that fixes it or not. Hopefully it will</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22919 - Op Ivy - Thu Jul 01, 2004 1:44 am</h4>
    <div class="postbody"><span class="postbody">Bah I can't get it to work for the life of me. To get the Make files to work what do I all need? (if I simply type make, all i get is unknown command) Is devkitadv enough to run it on its own in the command line originaly or do I need the GNU make installed onto my computer? (why I'm having a hard time getting back on cywin, thought I'd try it that way).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22920 - jd - Thu Jul 01, 2004 1:53 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Op Ivy wrote:</b></span></td> </tr> <tr> <td class="quote">Bah I can't get it to work for the life of me. To get the Make files to work what do I all need? (if I simply type make, all i get is unknown command) Is devkitadv enough to run it on its own in the command line originaly or do I need the GNU make installed onto my computer? (why I'm having a hard time getting back on cywin, thought I'd try it that way).</td> </tr></table><span class="postbody">
<br/>
<br/>
devkitadv-r5-beta-3 comes with make. Is this the version of devkitadv you're using? Are you launching it exactly as I described above?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
