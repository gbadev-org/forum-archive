<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compression and Quality - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > Compression and Quality</h2>
<div id="posts">
<div class="post">
    <h4>#25220 - ProblemBaby - Wed Aug 18, 2004 11:41 pm</h4>
    <div class="postbody"><span class="postbody">Ive two questions I will start with the quality question:
<br/>
Ive made a wav-file that is about 1minute
<br/>
16384hz, 8bit, mono.
<br/>
<br/>
When I listen to this in winamp it sounds much better then it does
<br/>
when I listen to it in no$gba (not tried on hardware, but I think it will be the same), Its more noise.
<br/>
The way Ive converted is that Ive loaded the data from a wav-file
<br/>
and then subtract 128 for each sample.
<br/>
<br/>
Do winamp change the output in some way or am I doing something wrong when I convert or what is this about?? (Ive not done any compression)
<br/>
<br/>
the Compression question:
<br/>
Iam trying do compress my music (at realtime) with quite bad results the best Ive commed up with will compress it with about 30-45% (lossless)
<br/>
for a 8bit 16.384hz mono wav.
<br/>
Ive heard of adpcm how much does it compress and is it lossless?
<br/>
is there any other nice audio compression algorithms out there that is fast enough to be decoded in runtime?
<br/>
<br/>
My goal is to make it compressed to 1kb per second without much noise.
<br/>
Should I stop dreaming or is this possible?
<br/>
<br/>
Thanks in advance!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25226 - tepples - Thu Aug 19, 2004 1:46 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">Ive heard of adpcm how much does it compress and is it lossless?</td> </tr></table><span class="postbody">
<br/>
Simple forms of ADPCM such as <a class="postlink" href="http://www.pineight.com/gba/#8ad" target="_blank">8ad</a> will give you great sounding audio at 4 bits per sample, taking about 6% of the CPU.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">is there any other nice audio compression algorithms out there that is fast enough to be decoded in runtime?
<br/>
<br/>
My goal is to make it compressed to 1kb per second without much noise. Should I stop dreaming or is this possible?</td> </tr></table><span class="postbody">
<br/>
If you want Super NES quality music, you can do this with .mod/.xm/.s3m tracked formats. If you want vocals, you'll have to settle for <a class="postlink" href="http://www.pineight.com/gba/gsm" target="_blank">GSM 06.10 at 18157 Hz</a>: 3.75 KBytes per second, 50 percent CPU use.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25233 - DekuTree64 - Thu Aug 19, 2004 6:10 am</h4>
    <div class="postbody"><span class="postbody">Long story short: don't bother with wave files if you have any sort of space constraint. Sequenced music is much smaller, even if you use uncompressed waves as samples. If you reserve a big chunk of your EWRAM, you can use ADPCM or GSM on the samples and decompress the ones you need for a song. That will of course limit the total size of the samples in a song, but it should be enough for most cases, and even more so when your total ROM size is so small.
<br/>
Also, <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=3907" target="_blank">this post</a> by Tepples about generating waves dynamically is good too (for me as well, because I've never messed around with synthesis stuff before).
<br/>
<br/>
Even if you do have vocals, you can still benefit from tracked music, by chopping out silent portions of the voice channel, and recycling any lyrics that repeat. And if you have full quality tracked instrumental music going on, you can get away with a lot more lossy compression on the vocals.
<br/>
Of course, the hard part is getting your hands on the original vocals without instruments in the background...<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25292 - tepples - Fri Aug 20, 2004 5:15 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">Of course, the hard part is getting your hands on the original vocals without instruments in the background...</td> </tr></table><span class="postbody">
<br/>
If you have licensed a song or are covering a traditional song, then you most likely are performing the song yourself or are paying performers. This means you have the separate vocal track. The technique of storing the whole mix in GSM 06.10 applies mainly to licensing a recording (which is distinct from the underlying song), as Konami did in the <span style="font-style: italic">Dance Dance Revolution</span> series.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
