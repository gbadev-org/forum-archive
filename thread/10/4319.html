<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>AAS (Again!) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > AAS (Again!)</h2>
<div id="posts">
<div class="post">
    <h4>#28526 - Datch - Tue Nov 02, 2004 5:37 am</h4>
    <div class="postbody"><span class="postbody">Hi! I'm trying to set up AAS with my current project and I'm having some problems.  I followed very closely the previous thread but I don't think my problem is related.  I even tryed the make file provided by jd but the result seems to be worst.  
<br/>
<br/>
With my make file it's not too bad.  I'm able to compile without any errors, the AAS logo even shows up.  Trouble starts when I try to do the AAS_SetConfig() like in the example provided.   Here's my make file :
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">path=C:\devkitadv\bin
<br/>
<br/>
conv2aas AAS_Data
<br/>
<br/>
gccÂ  -marm -mthumb-interwork -mlong-calls -LLibAAS -O3 -o display.elf display.c libAAS.a 
<br/>
<br/>
objcopy -O binary display.elf display.gba</td> </tr></table><span class="postbody">When I uncomment the AAS_SetConfig() line, I get a very ugly :
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">C:\gbaprog\alpha&gt;gcc  -marm -mthumb-interwork -mlong-calls -LLibAAS -O3 -o display.elf display.c libAAS.a  
<br/>
libAAS.a(AAS_Main.o): In function `AAS_DoConfig':
<br/>
AAS_Main.o(.text+0x13b8): undefined reference to `AAS_data_v109'
<br/>
libAAS.a(AAS_MOD.o): In function `AAS_MOD_SetSongPos':
<br/>
AAS_MOD.o(.text+0xbc): undefined reference to `AAS_Sequence'
<br/>
AAS_MOD.o(.text+0xc8): undefined reference to `AAS_PatternData'
<br/>
libAAS.a(AAS_MOD.o): In function `AAS_MOD_Play':
<br/>
AAS_MOD.o(.text+0x28c): undefined reference to `AAS_DATA_NUM_MODS'
<br/>
AAS_MOD.o(.text+0x290): undefined reference to `AAS_NumChans'
<br/>
AAS_MOD.o(.text+0x2e8): undefined reference to `AAS_Sequence'
<br/>
AAS_MOD.o(.text+0x2ec): undefined reference to `AAS_PatternData'
<br/>
libAAS.a(AAS_MOD.o): In function `AAS_MOD_Interrupt':
<br/>
AAS_MOD.o(.text+0x538): undefined reference to `AAS_ModSamples'
<br/>
AAS_MOD.o(.text+0x53c): undefined reference to `AAS_SampleData'
<br/>
AAS_MOD.o(.text+0x674): undefined reference to `AAS_ModSamples'
<br/>
AAS_MOD.o(.text+0x920): undefined reference to `AAS_ModSamples'
<br/>
AAS_MOD.o(.text+0xaf8): undefined reference to `AAS_Sequence'
<br/>
AAS_MOD.o(.text+0xb04): undefined reference to `AAS_PatternData'
<br/>
AAS_MOD.o(.text+0xc18): undefined reference to `AAS_Sequence'
<br/>
AAS_MOD.o(.text+0xc24): undefined reference to `AAS_PatternData'
<br/>
AAS_MOD.o(.text+0xdac): undefined reference to `AAS_Sequence'
<br/>
AAS_MOD.o(.text+0xdfc): undefined reference to `AAS_PatternData'
<br/>
AAS_MOD.o(.text+0x118c): undefined reference to `AAS_RestartPos'
<br/>
AAS_MOD.o(.text+0x11cc): undefined reference to `AAS_Sequence'
<br/>
AAS_MOD.o(.text+0x11d0): undefined reference to `AAS_PatternData'
<br/>
AAS_MOD.o(.text+0x1254): undefined reference to `AAS_SampleData'
<br/>
libAAS.a(AAS_MOD.o): In function `AAS_MOD_QueueSongPos':
<br/>
AAS_MOD.o(.text+0x12c0): undefined reference to `AAS_Sequence'
<br/>
collect2: ld returned 1 exit status</td> </tr></table><span class="postbody">I need a hint please!  :)<br/>_________________<br/>Visit SR-388 now and get a 40% discount!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28532 - kashiwa - Tue Nov 02, 2004 11:29 am</h4>
    <div class="postbody"><span class="postbody">You need linking AAS_Data.o.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
conv2aas AAS_Data
<br/>
gas -o AAS_Data.o AAS_Data.s
<br/>
gcc -marm -mthumb-interwork -mlong-calls -LLibAAS -O3 -o display.elf AAS_Data.o display.c libAAS.a
<br/>
objcopy -O binary display.elf display.gba
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28587 - Datch - Wed Nov 03, 2004 1:36 am</h4>
    <div class="postbody"><span class="postbody">Thanks a lot, it works now.  :)
<br/>
<br/>
Just for the record, I also had to replace the old crt0.o in my devkitarm directory with the one provided with AAS and to change my main() entry function by AgbMain().<br/>_________________<br/>Visit SR-388 now and get a 40% discount!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
