<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Music on GBA - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > Music on GBA</h2>
<div id="posts">
<div class="post">
    <h4>#175247 - gameporter - Thu Oct 14, 2010 9:31 pm</h4>
    <div class="postbody"><span class="postbody">I'm new to GBA programming and I have some experience creating mod's, xm's, s3m's, and it's with ModPlug Tracker. How do I get these into my game?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175248 - Dwedit - Fri Oct 15, 2010 2:52 am</h4>
    <div class="postbody"><span class="postbody">Look at the DevkitPro GBA examples.
<br/>
<br/>
After you install Devkitpro, look in
<br/>
C:\devkitPro\examples\gba\audio\maxmod\basic_sound
<br/>
<br/>
This uses the MaxMod audio library.  MaxMod doesn't directly play mod files, instead it runs them through a converter.  It combines a bunch of mod files and wav files into one big soundbank, and that gets included in your gba file.  The conversion part of the process is included in that makefile, so you don't need to pre-convert anything.  But you need to copy that part out when you create your own makefile, it doesn't come standard with the default makefiles.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175249 - gameporter - Fri Oct 15, 2010 5:55 pm</h4>
    <div class="postbody"><span class="postbody">Do the files have to be mods? I like .xm or .it much better.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175250 - Dwedit - Fri Oct 15, 2010 7:24 pm</h4>
    <div class="postbody"><span class="postbody">I don't think they need to be mods.  MaxMod is the name of the library, but it accepts other types of files too.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175251 - wintermute - Fri Oct 15, 2010 8:45 pm</h4>
    <div class="postbody"><span class="postbody">xm &amp; it are both supported by maxmod.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175565 - gameporter - Tue Dec 28, 2010 10:28 pm</h4>
    <div class="postbody"><span class="postbody">More ?s:
<br/>
<br/>
Does the GBA support 16-bit samples through MaxMod?
<br/>
What is the max sample rate the GBA supports?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175575 - wintermute - Thu Dec 30, 2010 3:06 am</h4>
    <div class="postbody"><span class="postbody">No, the GBA hardware can only handle 8bit samples.
<br/>
<br/>
maxmod supports up to 21KHz playback for the final mix but obviously that's going to cost you in terms of cpu usage.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175604 - gameporter - Mon Jan 03, 2011 4:42 pm</h4>
    <div class="postbody"><span class="postbody">Does MaxMod/GBA set another other limits on mods like sample size, file size, # of channels, etc.?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175608 - Dwedit - Tue Jan 04, 2011 4:25 am</h4>
    <div class="postbody"><span class="postbody">Seems to be a 2MB limit per mod file, and it seems to have trouble with many non-MOD files I threw at it.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"><br/><br/>Last edited by Dwedit on Tue Jan 04, 2011 4:31 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#175609 - gameporter - Tue Jan 04, 2011 4:26 am</h4>
    <div class="postbody"><span class="postbody">Really? That's no problem.
<br/>
<br/>
Any others?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175610 - Dwedit - Tue Jan 04, 2011 4:33 am</h4>
    <div class="postbody"><span class="postbody">Seems to crash when it plays more than 8 channels.  Edit: Seems that's because I was editing the demo program that init-ed for 8 channels.  Trying again...
<br/>
<br/>
Edit again, seems to have no problems playing some huge IT file I'm throwing at it now.  (Dancing Mad IT file by Virt, 4MB in size).  So don't init it for too few channels, and no more problems.
<br/>
<br/>
It downsamples all samples to 8-bit, so when I thought there was a size limit, it's because it was shrinking 4MB down to 2MB.
<br/>
<br/>
one more edit: NO$GBA screws up when switching between RUN and DEBUG mode.  No clue why.
<br/>
<br/>
<br/>
<br/>
So to summarize:
<br/>
* This thing works beautifully.  Apologies for the hasty comments eariler.
<br/>
* Don't allocate too few channels for the mod file you're playing or it crashes.
<br/>
* It downsamples stuff from 16-bit to 8 bit, shrinking some files to about half their size
<br/>
* It probably has no size limit besides the 32MB size limit of a GBA file.
<br/>
* It's screwy on NO$GBA debug edition when you stop the emulator then resume it.
<br/>
<br/>
edit: Seems to screw up on a few of the patterns on Dancing Mad by virt, like it's missing the skip to next pattern command or something.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175614 - gameporter - Tue Jan 04, 2011 4:37 pm</h4>
    <div class="postbody"><span class="postbody">I'll crank out a mod for you. Can you see if it works for me?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175615 - gameporter - Wed Jan 05, 2011 1:47 am</h4>
    <div class="postbody"><span class="postbody">Here it is (and only 31 KB!). Would this work?
<br/>
<a href="http://www.box.net/shared/9jfc9zdirx" target="_blank">http://www.box.net/shared/9jfc9zdirx</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175616 - Dwedit - Wed Jan 05, 2011 3:53 am</h4>
    <div class="postbody"><span class="postbody">Works fine.  If you want to test this stuff, just mess around with the example player that comes with the devkitPro examples.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175617 - gameporter - Wed Jan 05, 2011 4:34 am</h4>
    <div class="postbody"><span class="postbody">Thank you all for your help!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
