<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>8ad on gba h/w - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Audio > 8ad on gba h/w</h2>
<div id="posts">
<div class="post">
    <h4>#55265 - sumiguchi - Tue Sep 27, 2005 5:31 am</h4>
    <div class="postbody"><span class="postbody">Hi - i have compiled the 8ad audio and it works great on my PC using visualboy - but on my gba I get only about 1 second of audio (using multiboot).  Any suggestions?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55268 - tepples - Tue Sep 27, 2005 6:25 am</h4>
    <div class="postbody"><span class="postbody">If you're using multiboot, then you're limited to about 27 seconds of sound. What file are you trying to convert? Or did you expect the 8ad demo to be able to stream audio data over the serial cable?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55291 - sumiguchi - Tue Sep 27, 2005 2:37 pm</h4>
    <div class="postbody"><span class="postbody">I tried using my own ~5 second wave file and  compiled with devkitARM with --specs=gba_mb.specs and set MULTIBOOT in the code.
<br/>
<br/>
Maybe there is a problem in the changes I made to the make file for devkitARM?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">echo === assets ===
<br/>
tools\wav28ad sample\SP0000.WAV sample\demo1.8ad
<br/>
tools\gbfs ad.gbfs text.chr sample\demo1.8ad
<br/>
tools\bin2h text.chr &gt; chr.h
<br/>
echo === code ===
<br/>
arm-elf-gcc -Wall -O -marm -mthumb-interwork -c isr.c
<br/>
if errorlevel 1 goto end
<br/>
arm-elf-gcc -Wall -O3 -marm -mthumb-interwork -c playad.iwram.c -o playad.iwram.o
<br/>
if errorlevel 1 goto end
<br/>
arm-elf-gcc -Wall -O -mthumb -mthumb-interwork -o 1.elf -DDEMO isr.o playad.iwram.o playad.c libgbfs.c --specs=gba_mb.specs
<br/>
if errorlevel 1 goto end
<br/>
arm-elf-objcopy -O binary 1.elf 1.bin 
<br/>
gbafix -tADPCM_DEMO 1.bin
<br/>
tools\padbin 256 1.bin
<br/>
copy /b 1.bin+ad.gbfs playad.gba
<br/>
start playad.gba
<br/>
:end</td> </tr></table><span class="postbody">
<br/>
<br/>
The resulting executable is only 27k so size shouldn't be a problem - I am using movie player advance to run the program.  
<br/>
<br/>
I thought I tried with the demo exactly as downloaded - but I am looking at it now and I think I only tried with my own wav file. (it was late!)   I'll give the demo a try when I get home from work..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55374 - sumiguchi - Wed Sep 28, 2005 2:24 am</h4>
    <div class="postbody"><span class="postbody">Hi, So I got home and re-extracted the 8ad archive and made changes to the  build script  (same as previous post - minus the change in wav).
<br/>
<br/>
I get the same problem. About 1-3 of the first notes of the chord play and then just a faint hissing noise.  The program is running and after a few seconds it shows the scan lines drop to 0.  I press a and it shows 14 scanlines for a few seconds then drops to 0 again.
<br/>
<br/>
When I press reset - the gba goes off and the start and select buttons blink several times - not sure how many cause I turned it off after about 4 or 5.
<br/>
<br/>
Any help or suggestions would be appreciated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56259 - sumiguchi - Fri Oct 07, 2005 2:05 pm</h4>
    <div class="postbody"><span class="postbody">So it doesn't look like anyone has any advice for me on this one - but just a quick update that I tried this on a micro and a SP with the same result as my previous post... :(
<br/>
<br/>
The only thing I can think of is a problem with the changes to the build script.  I plan to get a supercard next week, so I will try as a regular gba rom (instead of multiboot) and see how that goes.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
