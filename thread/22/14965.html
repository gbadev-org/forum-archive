<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How would I recompile old apps for Motion Pak support? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Motion Sensor > How would I recompile old apps for Motion Pak support?</h2>
<div id="posts">
<div class="post">
    <h4>#150344 - sinkhead - Sat Feb 02, 2008 5:21 pm</h4>
    <div class="postbody"><span class="postbody">Some developers unfortunately can't update their homebrew so I'll do it myself. The problem is, I don't know how.
<br/>
<br/>
I've installed devkitPro and PAlib (both the newest versions, I think). Please can somebody help me?  :)
<br/>
<br/>
Thanks in advance!
<br/>
<br/>
By the way, the ones I need to correct are
<br/>
<br/>
Marbles
<br/>
POTN*
<br/>
DoubleSkill Motion
<br/>
CarreRouge Motion
<br/>
MotionDraw 2
<br/>
SensitiveDS*
<br/>
Circular Defense Motion
<br/>
Mental Pong*
<br/>
SpoutEx*
<br/>
Holiday Toss
<br/>
Triple Rotation
<br/>
<br/>
The ones with a * have no public source code</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150355 - spinal_cord - Sat Feb 02, 2008 10:18 pm</h4>
    <div class="postbody"><span class="postbody">Here is <a class="postlink" href="http://rapidshare.com/files/88678151/SensitiveDS.nds.html" target="_blank">SensitiveDS</a>, it should support both motion card (including R6gold) and motion pak. Although for some reason, the music is gone (perhaps a palib problem).<br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150380 - sinkhead - Sun Feb 03, 2008 1:48 pm</h4>
    <div class="postbody"><span class="postbody">Thanks a lot spinal_cord, but how did you do it?
<br/>
I know I have to change motion_enable to motion_init, what else do I do?
<br/>
<br/>
Thanks  :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150387 - spinal_cord - Sun Feb 03, 2008 4:01 pm</h4>
    <div class="postbody"><span class="postbody">I think thats it, just make sure you have the latest lib.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
INSTRUCTIONS FOR UPDATING CODE TO SUPPORT DS MOTION CARD, DS MOTION PAK, AND MK6 MOTION
<br/>
<br/>
1) Download the latest ndsmotion.c and ndsmotion.h from libnds (http://sourceforge.net/cvs/?group_id=114505)
<br/>
<br/>
2) Replace motion_enable(); in your program with motion_init();
<br/>
	motion_init() determines what type of DS Motion sensor is present.
<br/>
	motion_init() needs to be run to initialize the DS Motion Sensors.
<br/>
<br/>
3) Replace motion_card_is_inserted(); in your program with motion_init();
<br/>
	motion_init() returns 0 if no DS Motion Sensor is present.
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150411 - sinkhead - Sun Feb 03, 2008 11:32 pm</h4>
    <div class="postbody"><span class="postbody">Thanks again spinal_cord, you've been great help, but some of the homebrew seems to use PAlib motion functions like 'PA_MotionInit'. How would I correct those?
<br/>
<br/>
Many thanks!
<br/>
<br/>
<span style="font-weight: bold">Edit:</span> I think I found out what to do.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150457 - nipil - Mon Feb 04, 2008 8:49 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sinkhead wrote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-weight: bold">Edit:</span> I think I found out what to do.</td> </tr></table><span class="postbody">Could you please post it, at least the basic info, ofr others with similar questionning find an answer ? (about palib, ofc ;)<br/>_________________<br/>NDS Lite Gold/Silver, MK5/R4DS, MSI PC54G2, D-Link DI-624</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150460 - sinkhead - Mon Feb 04, 2008 9:56 pm</h4>
    <div class="postbody"><span class="postbody">To correct the functions in PAlib I looked through the PAlib folder until I fould a file called 'dsmotion.c' or something, then I edited the functions in that and it worked.
<br/>
<br/>
I don't know much about homebrew so I'm probably stating the obvious here, but I'm pretty sure PAlib just translates it's own easier functions into the harder more complicated code devkitPro uses, so you edit the functions it translates to and all is well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150461 - nipil - Mon Feb 04, 2008 10:08 pm</h4>
    <div class="postbody"><span class="postbody">Ok, thanks for this. I'm not using PALib so far, but as far as i'm tempted to give it a try (and see what's different and all) knowing how to get my apps to work with my motion pak is a plus ;)<br/>_________________<br/>NDS Lite Gold/Silver, MK5/R4DS, MSI PC54G2, D-Link DI-624</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
