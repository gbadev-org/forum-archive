<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>passme behaviour - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Flash Equipment > passme behaviour</h2>
<div id="posts">
<div class="post">
    <h4>#47825 - pixxel - Wed Jul 13, 2005 10:55 pm</h4>
    <div class="postbody"><span class="postbody">ive got TWO passmes (was desperate to get it working quickly, ordered one, then ten mins later noticed a dfferent supplier selling them with sockets rather than random pins)
<br/>
<br/>
if either are inserted (with a game in the connector - any game - including metroid demo) the ds does the health screen then just hangs one a white screen - is this normal? are u supposed to insert AFTER u get to the menu? or is it because i dont have a flash card?
<br/>
<br/>
ive managed to boot the official demos using wifime, and ive got a GBAMP so im hoping soon with the stuff ive got to be able to firmware my DS and hopefullyuse wifime/CF card or something to play homebrew on, or maybe even dust off my C++ skills and do a bit of dev, but ive got a horrid feeling, without passme working, im not gonna get far. any hints would be GREATFULLY received.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47828 - kwekee - Wed Jul 13, 2005 11:03 pm</h4>
    <div class="postbody"><span class="postbody">I believe I read something about that.
<br/>
I think darkain sais it had something to do with the sync of the two processors or something. Cant remember exactly..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47829 - pixxel - Wed Jul 13, 2005 11:18 pm</h4>
    <div class="postbody"><span class="postbody">another idea...
<br/>
<br/>
is there older versions of the firmware? the reason i ask is im hoping its smaller - since its a gba file, i can run it from the GBAMP - apart from the current version is a smidgen too big - 263k versus 256k limit...
<br/>
<br/>
my hopes are either a gba reloader using the new CF stuff...
<br/>
or flash an older bios, and then use THAT to upgrade over wifime</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47832 - Dwedit - Wed Jul 13, 2005 11:52 pm</h4>
    <div class="postbody"><span class="postbody">Passme/wifime (Different from wireless multiboot you were using) needs a GBA cartridge to transfer execution to.  It could be a flash cartridge, or a GBAMP with modified firmware (once that gets released).
<br/>
With no GBA cartidge, it should always whitescreen.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47833 - pixxel - Wed Jul 13, 2005 11:58 pm</h4>
    <div class="postbody"><span class="postbody">im guessing this is also why homebrew loaded over wifime hangs as the nintendo logo fades...because its hardcoded to access gba card? (where as nintendo stuffthat works, isnt)
<br/>
i was hoping passme+wifime would be enough to run flashme.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47838 - Dwedit - Thu Jul 14, 2005 1:08 am</h4>
    <div class="postbody"><span class="postbody">A Nintendo DS will only run programs signed by Nintendo until you modify its firmware with FlashMe.  Deciphering Nintendo's private key is illegal, and would take hundreds of years.  Get or borrow a flash cartridge or something.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47840 - pixxel - Thu Jul 14, 2005 1:12 am</h4>
    <div class="postbody"><span class="postbody">wasnt the point of the passme hardware to get stuff to use a games key rather than what was loaded? will this not work with wifime?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47843 - The 9th Sage - Thu Jul 14, 2005 1:20 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pixxel wrote:</b></span></td> </tr> <tr> <td class="quote">wasnt the point of the passme hardware to get stuff to use a games key rather than what was loaded? will this not work with wifime?</td> </tr></table><span class="postbody">
<br/>
<br/>
PassMe's purpose is to load GBA homebrew from a GBA flash cart.  Basically it uses a commercial game inserted into the PassMe to trick the NDS into loading unencrypted code from the GBA flash cart instead of the game inserted into the PassMe when the NDS tries to read a bit of code in the game's header. 
<br/>
<br/>
WiFiMe can trigger a PassMe like effect, and can also upload "Official Demos' (ones that are signed by Nintendo so they can be downloaded properly by any NDS with success, only WMB demos should be signed...even if a full commerical NDS game was signed it wouldn't really make a difference to the NDS).  Now, WiFiMe can also upload non-signed NDS homebrew, but only an NDS with modified firmware (FlashMe) will run these because a normal NDS checks to see if the code is signed and will NOT run it if it isn't...
<br/>
<br/>
The hacked firmware disables this check so the NDS runs it anyway like it would an official demo.  FlashMe also gets rid of the need for a PassMe and adds a PassMe like capability to the NDS (if it detects NDS homebrew on the GBA cart inserted, it loads it otherwise it just boots as normal), and the firmware also has gotten rid of the health warning screen which I must say I really don't miss at all. :P<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47845 - pixxel - Thu Jul 14, 2005 1:27 am</h4>
    <div class="postbody"><span class="postbody">all im (despreately) trying to do is get the firmware on this beast...
<br/>
im not really into buying a flashcart (specially with the stuff chism is doing with the gbamp) and ive seen at least one LARGE homebrew (bigger than the mps 256k limit) running from the mp using chisms mp drivers.
<br/>
<br/>
with both wifime and passme available (and wifime working happily with official demos) i thought id be able to avoid buying the flash cart... i guess its looking less and less likely.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47847 - The 9th Sage - Thu Jul 14, 2005 1:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pixxel wrote:</b></span></td> </tr> <tr> <td class="quote">all im (despreately) trying to do is get the firmware on this beast...
<br/>
im not really into buying a flashcart (specially with the stuff chism is doing with the gbamp) and ive seen at least one LARGE homebrew (bigger than the mps 256k limit) running from the mp using chisms mp drivers.
<br/>
<br/>
with both wifime and passme available (and wifime working happily with official demos) i thought id be able to avoid buying the flash cart... i guess its looking less and less likely.</td> </tr></table><span class="postbody">
<br/>
<br/>
Again though, I think that his GBMP stuff is on the GBA side of things....you might be able to use the GBAMP in the future for NDS content though, but I haven't heard anything yet as far as that goes (DarkFader is working on that, although I think the two have been comparing notes).  I have seen an NDS homebrew that wrote files to the compact flash card in the GBAMP, but that's a different ball of wax since it was running from the Nintendo DS side of things in the first place (load NDS code from GBA flash cart, then insert GBMP).  Do you know anybody with a flashcart?  It's easy to flash the firmware, and you would only really need to do it once.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47848 - pixxel - Thu Jul 14, 2005 1:35 am</h4>
    <div class="postbody"><span class="postbody">i dont know wnyone with a DS even, let alone flashcart! i only know one person with a GBA infact...and thats collecting dust since we both got a PSP...
<br/>
<br/>
im just mostly gutted tbh coz i got the psp for games and the DS for hacking and messing around with since it didnt look at the time like it was gonna be possible on psp and passme had just been released at the time...
<br/>
<br/>
weird that im aware of more psps than DSs...despite the psp launch date here being several months away still.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47849 - The 9th Sage - Thu Jul 14, 2005 1:38 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pixxel wrote:</b></span></td> </tr> <tr> <td class="quote">i dont know wnyone with a DS even, let alone flashcart!</td> </tr></table><span class="postbody">
<br/>
<br/>
Ok ok, sorry.  I was just asking.  I figured that be the cheapest solution...another solution is to try searching eBay for a cheap GBA flashcart (might wanna ask here if it's compatible first, some cards have trouble because they have weird software for flashing them).  Not sure if eBay allows those kind of auctions though....if they do I bet you could find an older flash cart for cheap.  One of the cheaper flashcarts I've found is the X-ROM, but even then by the retail price it's around 80 dollars.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47851 - pixxel - Thu Jul 14, 2005 1:41 am</h4>
    <div class="postbody"><span class="postbody">eeep! didnt mean to come across like that. hell, im just being a cheapskate, iv got no reason/right to have a go or nout...
<br/>
<br/>
its always nicer to hack with things you already own than buying other things - specially if its something a bit out of the norm - gives u a real sense of acheivement.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47852 - The 9th Sage - Thu Jul 14, 2005 1:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pixxel wrote:</b></span></td> </tr> <tr> <td class="quote">eeep! didnt mean to come across like that. hell, im just being a cheapskate, iv got no reason/right to have a go or nout...
<br/>
<br/>
its always nicer to hack with things you already own than buying other things - specially if its something a bit out of the norm - gives u a real sense of acheivement.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ah, it's ok, I understand...at the time I bought my flash cart, I was kinda reluctant to drop so much money although I've gotten tons of use out of this thing so I'm pretty happy about it. :P
<br/>
<br/>
Yeah, I'm happy for all the progress (and relatively quickly I might add) that has gone into NDS homebrew, and the hacked firmware.  Just about all the major hardware in the NDS has been figured out to some degree at this point.  
<br/>
<br/>
Anyway, you'll probably have to get a flash cart sometime, I don't see a real NDS flash cart happening anytime soon, with the encryption and stuff that it'd need to run like a regular NDS card.  Heh...just look at as being in investment that lets you play SNES games on youR NDS.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47854 - pixxel - Thu Jul 14, 2005 2:01 am</h4>
    <div class="postbody"><span class="postbody">funny u should mention snes... was just playing super turrican on my psp (the amiga emulator doesnt allow overclocking yet so is a little too slow to play)
<br/>
<br/>
in theory (complete guess work here) is that with a bit of work (probably not a great deal) the tricks that get ezflash etc to drop into ds mode should work for gbamp...the 256k limit could be overcome by using chisms file system to STREAM the rom update - theres no need to load the whole thing in at once im sure, flash 16k at a time...hell, i wouldnt mind if it was a rar with a gba file, maybe then an nds file thats switched too and the rom in 16 parts- if its all on the CF it wouldnt really make any difference...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47858 - chishm - Thu Jul 14, 2005 2:48 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pixxel wrote:</b></span></td> </tr> <tr> <td class="quote">funny u should mention snes... was just playing super turrican on my psp (the amiga emulator doesnt allow overclocking yet so is a little too slow to play)
<br/>
<br/>
in theory (complete guess work here) is that with a bit of work (probably not a great deal) the tricks that get ezflash etc to drop into ds mode should work for gbamp...the 256k limit could be overcome by using chisms file system to STREAM the rom update - theres no need to load the whole thing in at once im sure, flash 16k at a time...hell, i wouldnt mind if it was a rar with a gba file, maybe then an nds file thats switched too and the rom in 16 parts- if its all on the CF it wouldnt really make any difference...</td> </tr></table><span class="postbody">
<br/>
The Passme works by changing one address, so instead of the DS running code from the DS card, it is tricked into running it from the flash cart. So far, the code run by the GBAMP is first loaded from the CF card by the GBAMP firmware. The firmware is what would be started by the passme, but because it is meant to run in GBA mode it wouldn't work. The only way to overcome this is to write a new firmware that works in DS mode. I am working on that at the moment. No promises yet.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47865 - The 9th Sage - Thu Jul 14, 2005 4:17 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pixxel wrote:</b></span></td> </tr> <tr> <td class="quote">funny u should mention snes... was just playing super turrican on my psp (the amiga emulator doesnt allow overclocking yet so is a little too slow to play)
<br/>
<br/>
<br/>
in theory (complete guess work here) is that with a bit of work (probably not a great deal) the tricks that get ezflash etc to drop into ds mode should work for gbamp...the 256k limit could be overcome by using chisms file system to STREAM the rom update - theres no need to load the whole thing in at once im sure, flash 16k at a time...hell, i wouldnt mind if it was a rar with a gba file, maybe then an nds file thats switched too and the rom in 16 parts- if its all on the CF it wouldnt really make any difference...</td> </tr></table><span class="postbody">
<br/>
<br/>
Currently to do that you'd have to be IN DS mode to begin with, therin being the problem since you don't really have a way to run any homebrew NDS code. ^_^;;  Now, a loader that first loads from a GBA cart and then loads demos from the CF card, or one that is loaded by Wifi, and then reads the CF card, that would work but as it currently stands the DS can't just access the GBMP for NDS homebrew purposes unless it's in DS mode...GBA mode can't access the NDS's hardware AFAIK.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47866 - The 9th Sage - Thu Jul 14, 2005 4:21 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chishm wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The Passme works by changing one address, so instead of the DS running code from the DS card, it is tricked into running it from the flash cart. So far, the code run by the GBAMP is first loaded from the CF card by the GBAMP firmware. The firmware is what would be started by the passme, but because it is meant to run in GBA mode it wouldn't work. The only way to overcome this is to write a new firmware that works in DS mode. I am working on that at the moment. No promises yet.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ah, I'm sorry...I keep mentioning Darkfader but not you...I didn't realize that you were also working on this firmware.  Sorry about that.  You both've made great strides in understanding how to access this thing.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47868 - chishm - Thu Jul 14, 2005 4:41 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>The 9th Sage wrote:</b></span></td> </tr> <tr> <td class="quote">Ah, I'm sorry...I keep mentioning Darkfader but not you...I didn't realize that you were also working on this firmware.  Sorry about that.  You both've made great strides in understanding how to access this thing.</td> </tr></table><span class="postbody">
<br/>
That's okay :-P. Without Darkfader I wouldn't have been able to write to the firmware, as it's his flasher that I use to flash my customized firmware (work in progress, not available yet). It has been a sort of joint collaboration.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47912 - josath - Thu Jul 14, 2005 6:10 pm</h4>
    <div class="postbody"><span class="postbody">There's the stuff in tools/nds/bootstrap in the devkitarm cvs, that deals with the gbamp. I've copied the README here:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Bootstrapping stuff for Movie Player etc.
<br/>
Currently supported hardware:
<br/>
<br/>
        GBA Movie player (The 1st version)
<br/>
<a href="http://www.gbamovie.com/product_2.htm" target="_blank">http://www.gbamovie.com/product_2.htm</a>
<br/>
                black or purple, normal sized GBA cartridge, CF card sticks out.
<br/>
<br/>
        GBA Movie player (The 2nd version)
<br/>
<a href="http://www.gbamovie.com/product_1.htm" target="_blank">http://www.gbamovie.com/product_1.htm</a>
<br/>
                red front, white back, bigger than normal size but CF card is enclosed.
<br/>
<br/>
What's what?
<br/>
============
<br/>
<br/>
flashmp
<br/>
        Flashes your GBAMP with a small bootstrapper that loads the main bootstrapper from the Master Boot Record of inserted CF card.
<br/>
        It loads 64KB to 0x02003000 and then runs it.
<br/>
        It runs either in ARM mode when it detects value 0xE??????? or thumb mode.
<br/>
        It can also restore the repair utility so you can then use update.e?? files again.
<br/>
<br/>
        GBA version:
<br/>
                Copy flashmp_mb.gba to CF card and start "FC game".
<br/>
                You might need to rename it to pocketnes.gba and create a dummy .nes file with at least one byte.
<br/>
<br/>
        DS version:
<br/>
                Just load the NDS file with WMB or *ME.
<br/>
<br/>
flashds (TODO:)
<br/>
        Flashes your DS firmware with the bootstrapper. See flashmp for more details.
<br/>
<br/>
loadmp (TODO:)
<br/>
        The main bootstrap loader. It loads either START.GBA (multiboot program) or START.NDS.
<br/>
        It also contains a filesystem driver which remains resident in memory, so application can use it.
<br/>
<br/>
parted
<br/>
        A very simple partitioning tool and bootstrap installer for use with Compact Flash cards.
<br/>
        This a Windows utility.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
You could use this currently to load nds homebrew that is less than 64kb.
<br/>
unfortunately, flashme is more than 64kb, so you can use it for that YET. once 'loadmp' is written, you'll be able to load larger homebrew from the CF.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47919 - pixxel - Thu Jul 14, 2005 7:19 pm</h4>
    <div class="postbody"><span class="postbody">ooh, thats interesting since with chisms goodies the flashing tool and the actual firmware could be seperated, removing the majority of size of the flashme tool.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47928 - The 9th Sage - Thu Jul 14, 2005 8:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>josath wrote:</b></span></td> </tr> <tr> <td class="quote">There's the stuff in tools/nds/bootstrap in the devkitarm cvs, that deals with the gbamp. I've copied the README here:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Bootstrapping stuff for Movie Player etc.
<br/>
Currently supported hardware:
<br/>
<br/>
        GBA Movie player (The 1st version)
<br/>
<a href="http://www.gbamovie.com/product_2.htm" target="_blank">http://www.gbamovie.com/product_2.htm</a>
<br/>
                black or purple, normal sized GBA cartridge, CF card sticks out.
<br/>
<br/>
        GBA Movie player (The 2nd version)
<br/>
<a href="http://www.gbamovie.com/product_1.htm" target="_blank">http://www.gbamovie.com/product_1.htm</a>
<br/>
                red front, white back, bigger than normal size but CF card is enclosed.
<br/>
<br/>
What's what?
<br/>
============
<br/>
<br/>
flashmp
<br/>
        Flashes your GBAMP with a small bootstrapper that loads the main bootstrapper from the Master Boot Record of inserted CF card.
<br/>
        It loads 64KB to 0x02003000 and then runs it.
<br/>
        It runs either in ARM mode when it detects value 0xE??????? or thumb mode.
<br/>
        It can also restore the repair utility so you can then use update.e?? files again.
<br/>
<br/>
        GBA version:
<br/>
                Copy flashmp_mb.gba to CF card and start "FC game".
<br/>
                You might need to rename it to pocketnes.gba and create a dummy .nes file with at least one byte.
<br/>
<br/>
        DS version:
<br/>
                Just load the NDS file with WMB or *ME.
<br/>
<br/>
flashds (TODO:)
<br/>
        Flashes your DS firmware with the bootstrapper. See flashmp for more details.
<br/>
<br/>
loadmp (TODO:)
<br/>
        The main bootstrap loader. It loads either START.GBA (multiboot program) or START.NDS.
<br/>
        It also contains a filesystem driver which remains resident in memory, so application can use it.
<br/>
<br/>
parted
<br/>
        A very simple partitioning tool and bootstrap installer for use with Compact Flash cards.
<br/>
        This a Windows utility.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
You could use this currently to load nds homebrew that is less than 64kb.
<br/>
unfortunately, flashme is more than 64kb, so you can use it for that YET. once 'loadmp' is written, you'll be able to load larger homebrew from the CF.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Oh man...I can think of so many good ways that folks could use something like this.  :)<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48314 - Series-8 - Tue Jul 19, 2005 1:45 am</h4>
    <div class="postbody"><span class="postbody">Like, say a Filesystem for LinuxDS?
<br/>
(btw can the GBA-MP device WRITE to a CF in the GB slot?)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48335 - pixxel - Tue Jul 19, 2005 9:22 am</h4>
    <div class="postbody"><span class="postbody">i *hink* it can - i recall a post about an emu thats now saving to CF - but i might be wrong.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48520 - Lynx - Wed Jul 20, 2005 3:54 pm</h4>
    <div class="postbody"><span class="postbody">LinuxDS?  Oh.. you Mean DSLinux.. :P
<br/>
<br/>
And yes, the DS can write to CF.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
