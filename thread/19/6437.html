<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Question about header.bin - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS Flash Equipment > Question about header.bin</h2>
<div id="posts">
<div class="post">
    <h4>#49428 - Smiley - Fri Jul 29, 2005 6:44 pm</h4>
    <div class="postbody"><span class="postbody">Hello everyone,
<br/>
<br/>
I was reading on the forum, trying to understand how WiFiMe gets to boot even if it is unsigned code, and I found out that it uses a header.bin created from dumps of the Super Mario 64 DS header.
<br/>
<br/>
My question is actually quite simple.  If it is possible for WiFiMe to use Super Mario 64 DS header, wouldn't it be possible for any homebrewed program?  I am pretty sure it's impossible since someone else would have thought about it before me, but I am just curious as to why it works for WiFiMe and not for homebrewed applications.
<br/>
<br/>
Thanks for making this rookie formation in DS world easier :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49433 - Mighty Max - Fri Jul 29, 2005 6:55 pm</h4>
    <div class="postbody"><span class="postbody">(Im taking guesses here so don't nail me on it)
<br/>
<br/>
I think it is not only using the header from mario64DS but also a already signed bit of code. (i guess captured too). Afaik there is no real code execution on that transfered thing, only a data field not protected by (within the header) is redirecting the execution start entry to the GBA rom address.
<br/>
<br/>
Only when the protection is removed it can start executing non signed stuff.
<br/>
<br/>
If anyone knows better (maybe firefly himself) please correct me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49435 - tepples - Fri Jul 29, 2005 6:57 pm</h4>
    <div class="postbody"><span class="postbody">The (signed, unmodified) SM64DS multiplayer part actually receives another binary from the master machine over Wi-Fi. If we can figure out the protocol that SM64DS uses to send another binary, then we may be able to trick the SM64DS multiplayer part into receiving an unsigned binary from the PC.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49442 - Smiley - Fri Jul 29, 2005 7:21 pm</h4>
    <div class="postbody"><span class="postbody">If I understand correctly what you are saying Tepples, WiFiMe uses a signed but modified binary header which Firefly captured from a SM64DS multiplayer hosting DS.
<br/>
<br/>
Your theory is that if we could understand the WiFi protocol for the transfer of one cart multiplayer, we could "emulate" a SM64DS multiplayer server on the PC, but instead of sending SM64DS, you would send a homebrewed binary.  
<br/>
<br/>
So to load a homebrew, you would buy SM64DS, start a hacked multiplayer server, start SM64DS on the DS and look for a server?
<br/>
<br/>
Do I understand correctly?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49473 - tepples - Sat Jul 30, 2005 12:45 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Smiley wrote:</b></span></td> </tr> <tr> <td class="quote">Your theory is that if we could understand the WiFi protocol for the transfer of one cart multiplayer, we could "emulate" a SM64DS multiplayer server on the PC, but instead of sending SM64DS, you would send a homebrewed binary.  
<br/>
<br/>
So to load a homebrew, you would buy SM64DS, start a hacked multiplayer server, start SM64DS on the DS and look for a server?</td> </tr></table><span class="postbody">
<br/>
Almost. But you wouldn't need to buy SM64DS because SM64DS has single-pak multiplayer. You'd just need to send the SM64DS client stub (which WiFiMe already does) except without the header changes, and then the PC would emulate the multiplayer server. This is why I continue to suggest disassembling the SM64DS client stub.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
