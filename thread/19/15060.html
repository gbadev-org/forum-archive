<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>M3 Lite and homebrew requires R4 DLDI? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Flash Equipment > M3 Lite and homebrew requires R4 DLDI?</h2>
<div id="posts">
<div class="post">
    <h4>#151308 - another world - Sat Feb 23, 2008 5:23 am</h4>
    <div class="postbody"><span class="postbody">I have noticed that some homebrew (ScumMVM DS, C|irc) must be DLDI patched for the R4 when running them off my M3 Lite and using the R4 as my passme device. I have noticed that these homebrew apps use the R4 as their root directory. I don't understand why this happens, and assume it is perhaps the way they are coded.
<br/>
<br/>
This really is not an issue for C|irc as it is only storing a few tiny files on the R4. However, with ScumMVM DS the app is looking to the R4 for the game files. I would perfer that it looks to the M3 lite. Is there no way to accomplish this? Why does this happen when the R4 is the passme device?
<br/>
<br/>
This is more of an annoyance right now than anything else. I am trying to keep my "retro" gaming (Nes/Snes/Genesis/ScummVM/etc) on the M3 Lite as well as my homebrew, while using the R4 just for .nds rom files.
<br/>
<br/>
Some Testing:
<br/>
C|irc 1.04
<br/>
<br/>
Will only run if it is patched for the R4. If I patched it for the M3 using either of the 2 known DLDI patches I get a filesystem error screen letting me know that I'm using the wrong DLDI. However, the app is running off of the M3 Lite so this really confuses me.
<br/>
<br/>
Pocketphysics 0.4
<br/>
<br/>
Patched for the R4 but running off of the M3 Lite, saved files are saved to the R4. Patched for the M3 Lite and running off the M3 Lite, saved files are saved to the M3 Lite.
<br/>
<br/>
Does this mean that the R4 isn't working to "pass" data to slot1 but actually rendering the app? It is highly possible that I am not fully understanding what the DLDI library is doing and/or the specific homebrew in general.
<br/>
<br/>
I am currently using Dlditool-win32-gui to DLDI patch but have used DLDIrc in the past with the same results. I have tried the above tests using both normally patched apps and versions patched using Dldino-apatch which adds the "NO" re-patch fix. 
<br/>
<br/>
If anyone can suggest what I could do or have experienced this problem and understands why, would you be so kind to post back?
<br/>
<br/>
Thanks,
<br/>
  -AW</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151317 - Sektor - Sat Feb 23, 2008 9:51 am</h4>
    <div class="postbody"><span class="postbody">The M3 Lite DLDI might not support unaligned writes/reads, so it won't work with apps like scummVM that require unaligned writes.  If you can't figure out how to fix the DLDI driver yourself then all you can do is wait for someone else to fix it.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151349 - Sweater Fish Deluxe - Sat Feb 23, 2008 11:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>another world wrote:</b></span></td> </tr> <tr> <td class="quote">Does this mean that the R4 isn't working to "pass" data to slot1 but actually rendering the app? It is highly possible that I am not fully understanding what the DLDI library is doing and/or the specific homebrew in general.</td> </tr></table><span class="postbody">
<br/>
Homebrew will try to access the filesystem of whichever card it is DLDI patched for regardless of what card it is loaded from, so that's why PocketPhysics saves to the R4 when patched for the R4 and the M3 when patched for the M3.
<br/>
<br/>
I keep many NDS files on my slot-1 card (CycloDS Evolution) that are patched for my slot-2 cart (G6 Lite) just because I prefer to keep their files on my slot-2 cart but prefer the menu of my slot-1.
<br/>
<br/>
As for why some games or apps don't seem to work with the M3 Lite DLDI driver, I don't really know.  I checked and the M3 Lite is reported as passing the unaligned read test (and write, too, if it's part of the DLDI Tester test, but I can't remember since it's been a long time since I've used that).  There may be other problems, though.
<br/>
<br/>
See this thread (which is now somewhat outdated, I think) for a link to the DLDI tester and some other info:
<br/>
<br/>
<a href="http://forum.gbadev.org/viewtopic.php?t=13856" target="_blank">http://forum.gbadev.org/viewtopic.php?t=13856</a>
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
