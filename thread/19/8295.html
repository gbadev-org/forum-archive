<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problem running .SRL files using PassMe2 + flash cartridge - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Flash Equipment > Problem running .SRL files using PassMe2 + flash cartridge</h2>
<div id="posts">
<div class="post">
    <h4>#68868 - Bastian - Fri Jan 27, 2006 3:58 am</h4>
    <div class="postbody"><span class="postbody">Hi everyone,
<br/>
<br/>
I'm having trouble running .SRL files on my NDS using the PassMe2 adapter and a flash cartridge.
<br/>
<br/>
Specifically, I am using an EZ-Flash Advance flash cartridge, and a PassMe2 with Castlevania: Dawn Of Sorrow (USA version).
<br/>
<br/>
Here are the steps I've followed.
<br/>
<br/>
1. Generate a .SRL file.
<br/>
2. Rename the .SRL file to .NDS.
<br/>
3. Use Darkain's loader to generate a .DS.GBA file from the .NDS file.
<br/>
4. Add the Castlevania DS USA SRAM .SAV file into the same directory.
<br/>
5. Rename the .SAV file to have the same basename as the .DS.GBA file, so that the SRAM will be written with the ROM.
<br/>
6. Write the ROM+SRAM to the flash cartridge using the client.
<br/>
7. Insert the PassMe2+Castlevania DS USA, and flash cartridge into the DS and power on.
<br/>
<br/>
After these steps, the DS boots to Darkain's loader, and if I choose one of Darkain's sample programs, it will load successfully.
<br/>
However, any SRL file that I write just results in two white screens. These SRL files work normally in "the official" emulator, so I am not sure what I'm doing wrong here.
<br/>
<br/>
Any help would be greatly appreciated.
<br/>
<br/>
Thanks,
<br/>
<br/>
Nick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68898 - tepples - Fri Jan 27, 2006 7:31 am</h4>
    <div class="postbody"><span class="postbody">Have you been able to boot <a class="postlink" href="http://ds.gcdev.com/dsfirmware/" target="_blank">FlashMe.srl</a>? Make sure to have a dollar-store precision screwdriver handy. If you can get FlashMe installed, you can stop worrying about SRAM.
<br/>
<br/>
By ".srl file that you write", what are you talking about? Have you tried the libnds examples?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68916 - FluBBa - Fri Jan 27, 2006 9:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Bastian wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
...
<br/>
...
<br/>
After these steps, the DS boots to Darkain's loader, and if I choose one of Darkain's sample programs, it will load successfully.
<br/>
</td> </tr></table><span class="postbody">
<br/>
Well, now you can run homebrew.
<br/>
Go <a class="postlink" href="http://boards.pocketheaven.com/" target="_blank">somewhere else</a> to disscus running of warez on the DS.<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68934 - Lynx - Fri Jan 27, 2006 1:57 pm</h4>
    <div class="postbody"><span class="postbody">Being nieve, I'm hoping:
<br/>
<br/>
1. Generate a .SRL file.
<br/>
<br/>
Means he works at a commercial software company and would like to use homebrew hardware for testing..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68954 - Bastian - Fri Jan 27, 2006 4:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">If you can get FlashMe installed, you can stop worrying about SRAM. </td> </tr></table><span class="postbody">
<br/>
<br/>
I thought the fact that I could run Darkain's homebrew samples with the setup I described meant that the writing of the SRAM was not an issue... or is this not the case? I understand that running FlashMe might simplify things, but at this stage I'm hesitant to modify my hardware.
<br/>
<br/>
At any rate, further testing has revealed that my SRL file does execute correctly for a short time, so it's not the actual running of SRLs that's the problem. I've discovered that the problem is related to the NitroSDK filesystem that is included in my SRL.
<br/>
Are there any known issues with using the NitroSDK filesystem with the PassMe2/flash cartridge setup I described? Specifically, the first call I make to open a file fails, whereas in "the official" emulator it succeeds.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69000 - revo - Fri Jan 27, 2006 10:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Bastian wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">If you can get FlashMe installed, you can stop worrying about SRAM. </td> </tr></table><span class="postbody">
<br/>
<br/>
I thought the fact that I could run Darkain's homebrew samples with the setup I described meant that the writing of the SRAM was not an issue... or is this not the case? I understand that running FlashMe might simplify things, but at this stage I'm hesitant to modify my hardware.
<br/>
<br/>
At any rate, further testing has revealed that my SRL file does execute correctly for a short time, so it's not the actual running of SRLs that's the problem. I've discovered that the problem is related to the NitroSDK filesystem that is included in my SRL.
<br/>
Are there any known issues with using the NitroSDK filesystem with the PassMe2/flash cartridge setup I described? Specifically, the first call I make to open a file fails, whereas in "the official" emulator it succeeds.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>http://forum.gbadev.org/viewtopic.php?t=4659 wrote:</b></span></td> </tr> <tr> <td class="quote">Do not post information available only under non-disclosure agreement (such as the official Nintendo SDK), and do not request information available only under non-disclosure agreement.</td> </tr></table><span class="postbody">
<br/>
<br/>
About the problem - DS game slot has different address then gba slot. Try some universal patcher (worked some time ago), or just make few changes in code.<br/>_________________<br/>[ sorry for all mistakes, but my english isn't as good as I wish it to be ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69016 - Bastian - Fri Jan 27, 2006 11:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">About the problem - DS game slot has different address then gba slot. Try some universal patcher (worked some time ago), or just make few changes in code.</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks for your advice... where can I get such a patcher? Or what changes exactly need to be made?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69024 - revo - Sat Jan 28, 2006 12:55 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Bastian wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">- DS game slot has different address then gba slot. Try some universal patcher (worked some time ago), or just make few changes in code.</td> </tr></table><span class="postbody">
<br/>
Thanks for your advice... where can I get such a patcher?</span></td> </tr></table><span class="postbody">
<br/>
look at <a href="http://boards.pocketheaven.com/" target="_blank">http://boards.pocketheaven.com/</a> (if won't work, try on older sdk)<br/>_________________<br/>[ sorry for all mistakes, but my english isn't as good as I wish it to be ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69047 - tepples - Sat Jan 28, 2006 3:51 am</h4>
    <div class="postbody"><span class="postbody">The primary changes that need to be made involve sticking all the files in an archive and appending that to the ds.gba file. If you want ready-made code to handle archives in GBA ROM space, <a class="postlink" href="http://www.pineight.com/gba/#gbfs" target="_blank">GBFS</a> is rawther popular around these parts. Or if you have a GBAMP, a SuperCard, or an M3, you might want to try Chishm's FAT code.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69061 - Bastian - Sat Jan 28, 2006 6:08 am</h4>
    <div class="postbody"><span class="postbody">Thanks for your help, I'll give it a try. :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
