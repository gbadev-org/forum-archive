<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DS Lite not working with these akkit downloable demos... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS Flash Equipment > DS Lite not working with these akkit downloable demos...</h2>
<div id="posts">
<div class="post">
    <h4>#77906 - ant1532 - Mon Apr 03, 2006 11:43 pm</h4>
    <div class="postbody"><span class="postbody">Well my old DS worked perfectly with em but when I try it with my new DS lite it wont work. I can find the game being uploaded, but when i try to download it it says "downloading" for 1 sec then says "Communication Error Download not completed".
<br/>
<br/>
<br/>
Does anyone know whats going?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77920 - altometer - Tue Apr 04, 2006 2:12 am</h4>
    <div class="postbody"><span class="postbody">firmware issue most likely<br/>_________________<br/>I have no sig. &gt;.&gt; &lt;.&lt; &gt;.&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78776 - cuavsfan - Sun Apr 09, 2006 6:51 pm</h4>
    <div class="postbody"><span class="postbody">I can't help, as I don't really know much about this stuff, but I have a question... Hopefully this can clarify the problem so somebody else can figure it out...
<br/>
<br/>
The demos worked fine on your old (non-flashed) DS but not on your new (non-flashed) DS Lite, right?  And I think you said that you were using WMB, right?
<br/>
<br/>
That is really weird... hopefully somebody can figure it out, since more and more people will have Lites in the future...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78781 - AngryBadger - Sun Apr 09, 2006 7:43 pm</h4>
    <div class="postbody"><span class="postbody">I have the same problem, as posted <a class="postlink" href="http://img448.imageshack.us/img448/9840/error2lm.png" target="_blank">here</a>
<br/>
<br/>
<a class="postlink" href="http://img448.imageshack.us/img448/9840/error2lm.png" target="_blank">Screenshot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79295 - ant1532 - Wed Apr 12, 2006 7:02 pm</h4>
    <div class="postbody"><span class="postbody">yea, can anyone please help us? is there anyone we can get these demos? (^_^)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79314 - arlow - Wed Apr 12, 2006 9:52 pm</h4>
    <div class="postbody"><span class="postbody">WMB can not be used with new firmware and the Lite has new firmware :)<br/>_________________<br/>Hardware:
<br/>
- 2 Nintendo DS (original V2; now FlashMe V6)
<br/>
- 1 SuperPass 2
<br/>
- 2 SuperCard SD + 1 * 2GB SanDisc miniSD + 1 * 3rdParty 512MB SD
<br/>
(Could get together 7 DS + 7 SCSD)
<br/>
<br/>
Languages: English, German</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79336 - tepples - Wed Apr 12, 2006 11:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>arlow wrote:</b></span></td> </tr> <tr> <td class="quote">WMB can not be used with new firmware</td> </tr></table><span class="postbody">
<br/>
By "new firmware" do you mean v4? Doesn't WMB work with official demos on v4? Or was DS Download Play changed significantly between v4 and the version in the DS lite? (Or were you thinking of WiFiMe?)<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79345 - Nushio - Thu Apr 13, 2006 1:34 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>arlow wrote:</b></span></td> </tr> <tr> <td class="quote">WMB can not be used with new firmware</td> </tr></table><span class="postbody">
<br/>
By "new firmware" do you mean v4? Doesn't WMB work with official demos on v4? Or was DS Download Play changed significantly between v4 and the version in the DS lite? (Or were you thinking of WiFiMe?)</span></td> </tr></table><span class="postbody">
<br/>
The DSLite has a new firmware that prevents WMB from working because it checks some headers thing, I read it somewhere on this forum, so it must be true!
<br/>
<br/>
I'm guessing its time for FlashMev8 :P (or FlashLiteMe as they have suggested already)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90145 - melw - Wed Jun 28, 2006 4:54 pm</h4>
    <div class="postbody"><span class="postbody">Was about to write a new post about it, but then found this thread... As stated, WMB doesn't work with DS Lite anymore. For development purposes it's tad annoying, although I still got also the old DS where I can send files directly. Does anyone have a clue how this issue could be solved? Something for a next FlashMe update maybe...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90168 - Scorpei - Wed Jun 28, 2006 7:07 pm</h4>
    <div class="postbody"><span class="postbody">Works like a charm for me, with my new unflashed DS lite (BLACK) :).
<br/>
See my nds page for details, on how I WMB.
<br/>
<a href="http://www.simonvandeberg.be/nifi" target="_blank">http://www.simonvandeberg.be/nifi</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90176 - dualscreenman - Wed Jun 28, 2006 7:55 pm</h4>
    <div class="postbody"><span class="postbody">Maybe it doesn't work only for the Japanese imported ones. Or something like that<br/>_________________<br/></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dualscreenman wrote:</b></span></td> </tr> <tr> <td class="quote">What about Gaim DS? Gaim pretty much has support for all IM programs.</td> </tr></table><span class="postbody"> </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">"Goshdammit, the DS is not a Gaim-boy! It's a third pillar!"</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90177 - Scorpei - Wed Jun 28, 2006 8:01 pm</h4>
    <div class="postbody"><span class="postbody">Do you have a rt2570 (the usb device)? Try my howto, it will work probably.
<br/>
Chances are the software for windows is different then Linux.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90179 - melw - Wed Jun 28, 2006 8:11 pm</h4>
    <div class="postbody"><span class="postbody">This was using <a class="postlink" href="http://users.belgacom.net/bn967347/download.htm" target="_blank">WMB 1.4 beta 1</a> for Windows with a RT2560/PCMCIA card. IIRC the same has happened with newer old DS versions, but can't confirm this now as the one I have is from summer 2005 (original firmware version 2). The DS Lite failing with WMB is an US import, purchased bit over 2 weeks ago, flashed with FlashMe v7 (didn't recognize the original firmware of the Lite).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90180 - Scorpei - Wed Jun 28, 2006 8:14 pm</h4>
    <div class="postbody"><span class="postbody">As I sated, my DSlite is unflashed, and works like a charm using my howto...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90295 - Sektor - Thu Jun 29, 2006 10:51 am</h4>
    <div class="postbody"><span class="postbody">Firefly's WMB must have some small difference (timing issue maybe) to an actual DS and the linux WMB.  If firefly had a DS lite, i'm sure he could fix it.  If he released the source, someone else could fix it.  I'm curious what the difference is and if nintendo intentionally found it or it's just a side effect.  I don't have a DS lite to test it.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"><br/><br/>Last edited by Sektor on Thu Jun 29, 2006 9:24 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#90299 - masscat - Thu Jun 29, 2006 11:43 am</h4>
    <div class="postbody"><span class="postbody">The communications error thing happens (on old version DS) when the DS is not seeing the beacons from the host or there is a problem with the message the host is sending the DS.
<br/>
To ensure that the problem is not the DS missing beacons put your DS right next to your wifi card (the DS lite may not pick up signals as well as old DS - unlikely but worth checking).
<br/>
<br/>
To clarify what works and what does not please fill out/correct the entries in the following table:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">               | Windows WMB | Linux WMB RT2500 | Linux WMB RT2570 | VMPlayer Linux WMB
<br/>
---------------------------------------------------------------------------------------
<br/>
Old DS &lt;V4     |  UNKNOWN    |      YES         |      YES         |       YES
<br/>
Old DS =V4     |  UNKNOWN    |      YES         |      YES         |     UNKNOWN
<br/>
Old DS &gt;V4     |  UNKNOWN    |    UNKNOWN       |    UNKNOWN       |     UNKNOWN
<br/>
Old DS FM V6   |  UNKNOWN    |      YES         |      YES         |       YES
<br/>
Old DS FM V7   |  UNKNOWN    |    UNKNOWN       |    UNKNOWN       |     UNKNOWN
<br/>
<br/>
DS Lite Orig   |    NO       |    UNKNOWN       |    UNKNOWN       |       YES
<br/>
DS Lite FM V7  |    NO       |    UNKNOWN       |    UNKNOWN       |     UNKNOWN
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I would not think the problem is a timing issue as the WMB host controls when messages are passed between it and the DS.
<br/>
Scorpei - if the problem is only present in the Windows WMB host then a work around could be to include the linux RT2500 driver in your VMPlayer stuff.
<br/>
If somebody can produce a PCAP file of a failed transfer I may be able to spot a problem in the frames being exchanged.
<br/>
If the probelm is present in the Linux host I will do my best to fix it but will be working a bit blind as I do not have a DS Lite, so will need help testing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90503 - melw - Fri Jun 30, 2006 2:35 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>masscat wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
To clarify what works and what does not please fill out/correct the entries in the following table:</td> </tr></table><span class="postbody">
<br/>
<br/>
Table updated according to my experiences... Old DS with orig. firmware &lt;3 both with all FlashMe versions works, Old DS with firmware v5 doesn't work (the one where I got also DS Lite brightness control working), DS Lite US version with FlashMe7 doesn't work either. All with Windows WMB, don't have Linux over here to test with...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">               | Windows WMB | Linux WMB RT2500 | Linux WMB RT2570 | VMPlayer Linux WMB
<br/>
---------------------------------------------------------------------------------------
<br/>
Old DS &lt;V4     |    YES      |      YES         |      YES         |       YES
<br/>
Old DS =V4     |    YES      |      YES         |      YES         |     UNKNOWN
<br/>
Old DS &gt;V4     |    NO       |    UNKNOWN       |    UNKNOWN       |     UNKNOWN
<br/>
Old DS FM V6   |    YES      |      YES         |      YES         |       YES
<br/>
Old DS FM V7   |    YES      |    UNKNOWN       |    UNKNOWN       |     UNKNOWN
<br/>
<br/>
DS Lite Orig   |    NO       |    UNKNOWN       |    UNKNOWN       |       YES
<br/>
DS Lite FM V7  |    NO       |    UNKNOWN       |    UNKNOWN       |     UNKNOWN
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I have a few friends with old DS and orig. firmware v4 - can test how WMB works with those at some point...
<br/>
<br/>
Update: Got a DS with orig. firmware v4 - WMB works there as well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90905 - masscat - Mon Jul 03, 2006 10:50 am</h4>
    <div class="postbody"><span class="postbody">If the problem is only present in the Windows WMB program then a possible solution could be to port the Linux wmbhost over to Windows using Firefly's RT2560 driver as the wireless interface. The port should not be too hard as all the platform specific function of the wmbhost are seperated out.
<br/>
If anybody is interested in doing the port I am happy to explain the layout of the wmbhost code if needs be.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90944 - techy - Mon Jul 03, 2006 5:30 pm</h4>
    <div class="postbody"><span class="postbody">I have a flashed DS and an un-flashed DS Lite..
<br/>
<br/>
Some game ROMs (demos) are working in multiplayer (Tetris DS, Magnetica)
<br/>
<br/>
But other game ROMs (demos) don't work (New Super Mario, Bubble bubble, Star Wars III etc)
<br/>
<br/>
I don't know why...?...
<br/>
<br/>
I have the same error message (shown in this pic)
<br/>
<a href="http://www.technews.gr/uploads/newbb/18_44a945ce513cc.jpg">[Images not permitted - Click here to view it]</a><br/>_________________<br/><a class="postlink" href="http://www.technews.gr" target="_blank">Technology</a> - <a class="postlink" href="http://www.technews.gr" target="_blank">tech</a> - <a class="postlink" href="http://www.technews.gr" target="_blank">technews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91073 - nornagon - Tue Jul 04, 2006 12:36 pm</h4>
    <div class="postbody"><span class="postbody">I have a DS Lite, unflashed. I also have an rt2750 usb wireless device. I downloaded and installed the hacked wireless drivers for it, which worked almost without a hitch. I offered a game for download using the latest version of NinWMB from <a class="postlink" href="http://masscat.afraid.org/ninds/wifi_apps.php" target="_blank">masscat's site</a>. It appeared on the DS, so I downloaded it... but the download freezes when it's nearly finished downloading the ARM7 data. This happens in both the demos I've tried (meteos and electroplankton, from e3).
<br/>
<br/>
Is this a known problem, and if so, is there a solution to it?
<br/>
<br/>
(Note, this is all under Linux.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91079 - masscat - Tue Jul 04, 2006 1:21 pm</h4>
    <div class="postbody"><span class="postbody">nornagon - by "freezes" do you mean that the DS sits there say that it is downloading the demo and never completes?
<br/>
This happened with old versions of the host when the host and DS got out of sync. The transfer algorithm was impoved in version 0.2 of the common code and I have not experienced the problem since. You could try playing around with the --interval option to slow the transfer down (try something like 30000) although the default value is pretty slow anyway.
<br/>
<br/>
By "latest version" do you mean version 1.1 (common 1.0, core 1.0)?
<br/>
<br/>
Could you repeat a download a number of times with your DS as close to your wireless device as possible and post any success.
<br/>
What is the output from the host?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91086 - nornagon - Tue Jul 04, 2006 2:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">nornagon - by "freezes" do you mean that the DS sits there say that it is downloading the demo and never completes?</td> </tr></table><span class="postbody">
<br/>
Yes.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">This happened with old versions of the host when the host and DS got out of sync. The transfer algorithm was impoved in version 0.2 of the common code and I have not experienced the problem since. You could try playing around with the --interval option to slow the transfer down (try something like 30000) although the default value is pretty slow anyway.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'll try that in a sec.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">By "latest version" do you mean version 1.1 (common 1.0, core 1.0)?</td> </tr></table><span class="postbody">
<br/>
$ ./wmbhost -V
<br/>
1.1 (common 1.0, core 1.0)
<br/>
<br/>
I downloaded the NinWMB_20060609b tarball.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Could you repeat a download a number of times with your DS as close to your wireless device as possible and post any success.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'll try that after I try the interval thing.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">What is the output from the host?</td> </tr></table><span class="postbody">
<br/>
send_data: 00242328 out of 0026ecf8 (ARM9)
<br/>
send_data: 00242328 out of 0026ecf8 (ARM9)
<br/>
send_data: 00242328 out of 0026ecf8 (ARM9)
<br/>
send_data: 00242328 out of 0026ecf8 (ARM9)
<br/>
send_data: 00242328 out of 0026ecf8 (ARM9)
<br/>
send_data: 00242328 out of 0026ecf8 (ARM9)
<br/>
[...]
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
[...]
<br/>
<br/>
repeat ad nauseum, then:
<br/>
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
[...]
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
[...]
<br/>
<br/>
eventually it stops spewing out those wmb_data lines and just sits there until I off the DS (man_log: Client 00:16:56:2d:72:7a has left) or Ctrl-C it.
<br/>
<br/>
Thanks for the quick reply, though :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91088 - nornagon - Tue Jul 04, 2006 2:31 pm</h4>
    <div class="postbody"><span class="postbody">Okay, I ran it with --interval=30000, and:
<br/>
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
send_data: 0001d298 out of 000289a4 (ARM7)
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
[...]
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080                                     ..
<br/>
<br/>
[nothing more happens; ds just sits there "Downloading...", wmbhost just sits there.]
<br/>
<br/>
<br/>
[EDIT]
<br/>
<br/>
Woah! Just for kicks, I set --interval=6000... and it worked perfectly!
<br/>
<br/>
Awesome! :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91114 - masscat - Tue Jul 04, 2006 5:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nornagon wrote:</b></span></td> </tr> <tr> <td class="quote">Woah! Just for kicks, I set --interval=6000... and it worked perfectly!
<br/>
<br/>
Awesome! :D</td> </tr></table><span class="postbody">
<br/>
Glad (if a little confused) that the shorter interval time works for you - you will get faster transfers too. Just some words of caution - when I used low interval values with a rt2570 device the driver would get itself into a strange state where it would not transmit anything else. It can be recovered by taking the interface down and then back up and reconfiguring it.
<br/>
<br/>
As for the original failure:
<br/>
From the output of wmbhost it appears to be sending lots of repeats of transfer blocks. The
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">wmb_data: Got a reply that is 2 bytes long:
<br/>
0000: 0080 ..</td> </tr></table><span class="postbody">
<br/>
output, I believe, indicates that the DS is busy and unable to process what the host is sending (I get lots of these if I set the --interval value to 4000 or less on my system). This is what I find confusing as to the success of using a small interval values as I would have thought this would increase the number of busy responses.
<br/>
Maybe the DS Lite (and more recent firmwares?) expects the WMB host to send data at a mimium rate and get confused if this does not happen. Although the fact that it works for Scorpei using his VMPlayer method does not support this. As Sektor suggested, maybe there is a timing issue somewhere.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91191 - nornagon - Wed Jul 05, 2006 5:19 am</h4>
    <div class="postbody"><span class="postbody">Hm, weird. The 0x0080 from the DS looked to me like "I'm waiting for more data, why is it not forthcoming?" but I'm probably entirely wrong.
<br/>
<br/>
With my rt2750, I need to take the if down and then up again after one single download of a demo anyway. Which is annoying, but I wrote a script to do it for me.
<br/>
<br/>
Also, I have to fiddle around the interval sometimes to get a game to download right... I've had everything from 4000 to 7000 work.
<br/>
<br/>
Perhaps a bios dump would help work this out?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91223 - masscat - Wed Jul 05, 2006 11:48 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nornagon wrote:</b></span></td> </tr> <tr> <td class="quote">Hm, weird. The 0x0080 from the DS looked to me like "I'm waiting for more data, why is it not forthcoming?" but I'm probably entirely wrong.
<br/>
<br/>
With my rt2750, I need to take the if down and then up again after one single download of a demo anyway. Which is annoying, but I wrote a script to do it for me.
<br/>
<br/>
Also, I have to fiddle around the interval sometimes to get a game to download right... I've had everything from 4000 to 7000 work.
<br/>
<br/>
Perhaps a bios dump would help work this out?</td> </tr></table><span class="postbody">
<br/>
From your results the 0x0080 does indeed look like a "give me more" message where as I had only ever seen it in a "you are giving me too much" situation. So maybe it is a "something is going a bit funny" message.
<br/>
There is a new rt25x0 driver in development over at <a class="postlink" href="http://rt2x00.serialmonkey.com/" target="_blank">rt2x00.serialmonkey.com</a> which should improve its stablility and remove the need for the hacked driver. Last time I looked, it did not allow frame injection so cannot be used for the wmbhost - have not looked at it for a while though.
<br/>
<br/>
A BIOS dump could indeed help figure out the WMB protocol but looking through ARM assembler and with the DS wireless hardware registers not fully understood it would not be an easy job.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91230 - nornagon - Wed Jul 05, 2006 1:10 pm</h4>
    <div class="postbody"><span class="postbody">Maybe a better way to do this would be to use a wireless capture device and monitor a conversation between two DSes during WMB.
<br/>
<br/>
Do you want pcap files from the transfer?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91403 - masscat - Fri Jul 07, 2006 12:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nornagon wrote:</b></span></td> </tr> <tr> <td class="quote">Maybe a better way to do this would be to use a wireless capture device and monitor a conversation between two DSes during WMB.
<br/>
<br/>
Do you want pcap files from the transfer?</td> </tr></table><span class="postbody">
<br/>
Looking at the wireless frames is unlikely to be helpful unless there is a frame that is obviously strange and then I would expect the host to have flagged them. Unfortunately I think the only way to get a fuller understanding of the WMB process would be through looking at the firmware but, as I said, this is not a nice fun job.
<br/>
<br/>
There was a problem with the size of the blocks transfered to the DS that I never did figure out. When two DS talk to each other they use a smaller than maximum (0xff 16bit words) transfer size (0x80 16bit words). If the Linux wmbhost uses a smaller than maximum then the DS thinks the transfer is complete before the host has sent all its data. So there are definately things that I do not understand and may relate to the DS Lite problems.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94796 - ckudige - Wed Jul 26, 2006 4:11 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ant1532 wrote:</b></span></td> </tr> <tr> <td class="quote">Well my old DS worked perfectly with em but when I try it with my new DS lite it wont work. I can find the game being uploaded, but when i try to download it it says "downloading" for 1 sec then says "Communication Error Download not completed".
<br/>
<br/>
<br/>
Does anyone know whats going?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah, I had the same problem and I just managed to get all the E3 demos working on my brand new DS Lite !!
<br/>
<br/>
The thing is, windows WMB is incompatible with the DS Lite protocol. You need to use the Linux version which you can find here:
<br/>
<br/>
<a href="http://masscat.afraid.org/ninds/wifi_apps.php" target="_blank">http://masscat.afraid.org/ninds/wifi_apps.php</a>
<br/>
<br/>
Currently I am thinking of porting this into windows, but not sure if there is enough demand for it.
<br/>
<br/>
Let me know how it goes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94823 - melw - Wed Jul 26, 2006 9:02 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The thing is, windows WMB is incompatible with the DS Lite protocol. You need to use the Linux version which you can find here:
<br/>
<br/>
<a href="http://masscat.afraid.org/ninds/wifi_apps.php" target="_blank">http://masscat.afraid.org/ninds/wifi_apps.php</a>
<br/>
<br/>
Currently I am thinking of porting this into windows, but not sure if there is enough demand for it.</td> </tr></table><span class="postbody">
<br/>
<br/>
Well, here's at least one user if you decided to port the Linux version for Windows. I'm doing these days still all the development with the old DS mostly because of this. 
<br/>
<br/>
Heck, if I had the time, might try that even myself...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94849 - HyperHacker - Wed Jul 26, 2006 12:42 pm</h4>
    <div class="postbody"><span class="postbody">If my DS breaks, which given the abuse it goes through doesn't seem unlikely, I intend to buy a Lite to replace it. And if that happens you bet there'll be demand for a Windows port. ;-)
<br/>
<br/>
BTW, sometimes my Phat does that freezing thing with Windows WMB (can't even cancel), and occasionally gets download errors.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94876 - Sodeju - Wed Jul 26, 2006 5:25 pm</h4>
    <div class="postbody"><span class="postbody">Can I run a rt2560 based pci card with WMB on Linux?
<br/>
<br/>
NVM, already get answer in the chat :p</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
