<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to modify firmware to do new things? (sample code?) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS Flash Equipment > How to modify firmware to do new things? (sample code?)</h2>
<div id="posts">
<div class="post">
    <h4>#41790 - DsPet - Sun May 01, 2005 11:04 pm</h4>
    <div class="postbody"><span class="postbody">I see there are now *two* programs that modify the built-in firmware (FlashMe, and a demo video of Wireless Multiboot unencrypted games) 
<br/>
Cool ! 
<br/>
<br/>
--- 
<br/>
<br/>
My question: how is this done ? 
<br/>
<br/>
I have found no information on the public BBSs or websites describing the details of how the firmware is organized. Here are some obvious questions: 
<br/>
<br/>
What does the 256KB firmware file store look like ? 
<br/>
How do you patch the firmware file while keeping the original intact ? 
<br/>
How to rekey it for different device IDs? 
<br/>
Source code ? (eg: to FlashMe and related encoder program) 
<br/>
... 
<br/>
<br/>
The work has been done and details figured out. Congratulations to all involved. Can you please share it? 
<br/>
<br/>
----- 
<br/>
Yes I am aware this is a dangerous operation, and may "brick" your NDS. 
<br/>
I'd like to contribute and add more things at this level and share with the public community. Am I asking to much ? 
<br/>
<br/>
Or another more provocative way of asking the question: 
<br/>
Are the techniques for opening up the closed Nintendo system going to remain closed source and hidden from the public ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41795 - tepples - Sun May 01, 2005 11:53 pm</h4>
    <div class="postbody"><span class="postbody">I'm guessing that once the process becomes more reliable, it'll be explained better.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41798 - [FireFly] - Mon May 02, 2005 12:12 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">I'm guessing that once the process becomes more reliable, it'll be explained better.</td> </tr></table><span class="postbody">
<br/>
The firmware is a very critical part of the Nintendo DS. If even one bit is incorrect then you are the new proud owner of a high-tech brick. Firmware modifcations should be done by professionals to minimize that risk, hence why the information is kept private. That's a good thing, trust me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41824 - Alec - Mon May 02, 2005 6:05 am</h4>
    <div class="postbody"><span class="postbody">You wouldn't want someone zeroing out a firmware and passing it off as one of these helpful, pre-hacked ones, now would you?<br/>_________________<br/>Eat Those Gopher Cakes 'Til You Explode!
<br/>
<a class="postlink" href="http://profile.xfire.com/eject" target="_blank"></a><a href="http://miniprofile.xfire.com/bg/bg/type/0/eject.png">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41861 - DsPet - Mon May 02, 2005 3:06 pm</h4>
    <div class="postbody"><span class="postbody">&gt; I'm guessing that once the process becomes more reliable, it'll be explained better.
<br/>
<br/>
I hope so.
<br/>
I've never been a fan of intentionally keeping information away from people who want to use it - especially since the goal is to open up the system more.
<br/>
<br/>
FWIW: There is already enough information in the public domain to easily "brickify" your device if that is your malicious goal. The true goal here is to learn from others experiences and build on top of it.
<br/>
<br/>
----
<br/>
Commentary:
<br/>
Open source has many benefits to every one, which you don't need me to elaborate here.
<br/>
<br/>
If people have written their own programs, and aren't building it on top of GPL code, they have a right to keep it private if they so wish. However, all I can ask is that they consider releasing it under GPL so it doesn't have to be reinvented from scratch.
<br/>
<br/>
I would also feel a little more confortable when reflashing my device with an open source program - but that's not essential for most people.
<br/>
<br/>
Thanks for the consideration.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41937 - Kyoufu Kawa - Tue May 03, 2005 2:54 pm</h4>
    <div class="postbody"><span class="postbody">I'd like a peek at the firmware myself. Don't intend to flash it at all for now, but I just like senseless knowledge.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41949 - Abcd1234 - Tue May 03, 2005 5:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>[FireFly] wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The firmware is a very critical part of the Nintendo DS. If even one bit is incorrect then you are the new proud owner of a high-tech brick. Firmware modifcations should be done by professionals to minimize that risk, hence why the information is kept private. That's a good thing, trust me.</td> </tr></table><span class="postbody">
<br/>
<br/>
Dude, no offense, but that's pretty damned arrogant.  Yes, you're absolutely right, modifying the firmware on your DS is an incredibly dangerous thing to do.  However, withholding information about the firmware just to protect a few idiots out there helps no one, while forcing people with the requisite expertise to work from scratch,  rather than building off existing efforts.  Besides, who's to decide who qualifies as a "professional"?  Sounds like nothing more than elitism to me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41962 - TheMikaus - Tue May 03, 2005 8:46 pm</h4>
    <div class="postbody"><span class="postbody">keeping the information private has two effects.  One it pisses some people off and two prevents numbnut-jerks from creating a firmware that turns your DS into a brick.  
<br/>
<br/>
If it's that important maybe you can talk to DarkFader or Loopy.
<br/>
<br/>
And as for professional, I would probably say that gets termed as someone who does this sort of thing (low-level hardware) as more than just a hobby.  Unless they've been doing it as a hobby for a while.  Maybe they count too.
<br/>
<br/>
::shrug::  
<br/>
<br/>
Just be happy that they even made a firmware replacement that works.
<br/>
<br/>
Edit:
<br/>
Also.  You don't have to be an idiot to make a mistake.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41963 - Abcd1234 - Tue May 03, 2005 8:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">One it pisses some people off and two prevents numbnut-jerks from creating a firmware that turns your DS into a brick. </td> </tr></table><span class="postbody">
<br/>
<br/>
By that logic, Microsoft should keep all their APIs under lock and key to prevent evil hackers from creating programs that can wipe hard drives and then tricking people into downloading them.
<br/>
<br/>
Sorry, but I look at homebrewers as a *community* (right or wrong), and in that community, you share information so that others can benefit.  This brand of intellectual elitism does nothing but inflate the egos of a few while keeping the rest ignorant, and thus helps no one.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41965 - Proteanruler - Tue May 03, 2005 9:02 pm</h4>
    <div class="postbody"><span class="postbody">think that's a bit unfair - you wouldn't be happy if people passed around viruses in their code/demos and equally its a bit unfair to expect the guys behind the firmware to want to brickify people's DS's through bad firmware, stupidity etc.  Patience is a virtue... isn't it?!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41968 - TheMikaus - Tue May 03, 2005 9:17 pm</h4>
    <div class="postbody"><span class="postbody">Difference being that you can reformat your own computer.  Can't really reformat the DS.  But point taken.  
<br/>
<br/>
You don't act the least bit thankful in the first place.  I'm sorry you didn't get exactly what you wanted from the firmware developers, but at least you could show some appreciation instead of trying to goad them or insult them because they aren't doing what you want them to.
<br/>
<br/>
And if they never release the information, then you can do the work and release the information and it'll be all good and you'll help the community in the way you see fit.
<br/>
<br/>
At least show some appreciation for their work instead of just bashing them because they aren't releasing the source for your enjoyment.  
<br/>
<br/>
And as for the elitism.  Maybe they honestly are keeping the information closed to try and protect the community.  But you'll believe what you want and continue slappin' because they aren't releasing the information when you would right?
<br/>
<br/>
::shrug:: 
<br/>
Maybe they'll release it eventually and you'll be happy.
<br/>
<br/>
Till then, enjoy what you can.
<br/>
<br/>
::blink:: that's a novel.  Sorry :/.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41972 - Abcd1234 - Tue May 03, 2005 9:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TheMikaus wrote:</b></span></td> </tr> <tr> <td class="quote">You don't act the least bit thankful in the first place.</td> </tr></table><span class="postbody">
<br/>
<br/>
And in that you'd be totally wrong.  Trust me, I'm *incredibly* grateful to these people who've done this work.  After all, I myself have benefitted from it.  Heck, the very day I flashed my DS I posted a huge thanks in these forums.
<br/>
<br/>
However, I also believe it's unproductive to hoard information for no good reason.  Frankly, it's that kind of behaviour that turns me away from the homebrewing scene, as it becomes clear that people are more interested in being l33t hackers, rather than trying to grow and develop a cooperative community.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I'm sorry you didn't get exactly what you wanted from the firmware developers, but at least you could show some appreciation instead of trying to goad them or insult them because they aren't doing what you want them to.</td> </tr></table><span class="postbody">
<br/>
<br/>
Interesting.  So, if someone does a great thing, you can't criticize them?  That's kinda silly, don't you think? 
<br/>
<br/>
Think of it this way.  Linus Torvalds has done a *ton* of great things for the open source community.  However, he's also taken a ton of criticism for various decisions he's made (the BitKeeper fiasco being the most recent one).  Does that mean people are ungrateful?  No. 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">And if they never release the information, then you can do the work and release the information and it'll be all good and you'll help the community in the way you see fit.</td> </tr></table><span class="postbody">
<br/>
<br/>
And I said just as much, and explained why I think that's silly:  needless duplication of work.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">And as for the elitism.  Maybe they honestly are keeping the information closed to try and protect the community.</td> </tr></table><span class="postbody">
<br/>
<br/>
Which is, by definition, elitism.  They feel they are in a position to "protect" people, as if they need protecting in the first place.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">But you'll believe what you want and continue slappin' because they aren't releasing the information when you would right?</td> </tr></table><span class="postbody">
<br/>
<br/>
Nope.  If my words are falling on deaf ears, I'll move on... I have DS hacking to do. :)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Maybe they'll release it eventually and you'll be happy.
<br/>
<br/>
Till then, enjoy what you can.</td> </tr></table><span class="postbody">
<br/>
<br/>
Yup, and if that happens, awesome!  I'll be the first to say thanks.
<br/>
<br/>
Ahh, a novel of my own.  Good times.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41974 - pipomolo42 - Tue May 03, 2005 10:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TheMikaus wrote:</b></span></td> </tr> <tr> <td class="quote">prevents numbnut-jerks from creating a firmware that turns your DS into a brick.</td> </tr></table><span class="postbody">
<br/>
<br/>
Not true.
<br/>
<br/>
The first region of the flash requires you to shorten SL1 to be flashed. As long as :
<br/>
<br/>
- you keep a recovery routine in this part of the flash
<br/>
- you don't run untrusted code with SL1 shorted
<br/>
<br/>
There is absolutely no risk bricking the DS.
<br/>
<br/>
So, please make a better excuse ;)
<br/>
<br/>
<br/>
Regards,
<br/>
Alex</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41975 - TheMikaus - Tue May 03, 2005 10:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Interesting. So, if someone does a great thing, you can't criticize them? That's kinda silly, don't you think?
<br/>
</td> </tr></table><span class="postbody">
<br/>
I don't think insulting is the same thing as criticism.  And if it does fall under the same literal category it's not very contrsuctive and therefore moot.
<br/>
<br/>
So giving stuff to the community to make homebrewing code easier (which they've already done) isn't expanding the community?
<br/>
<br/>
<br/>
Again for the elitism.  I guess it depends on how you look at it.  Caution says.  Someone will abuse this, release is a no no.  Elitism says you're too freaking stupid to do this correctly sorry.  (This I suppose boils down to opinions)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">a novel of my own.</td> </tr></table><span class="postbody">
<br/>
We should start our own book company ;)
<br/>
<br/>
and to pipomolo:
<br/>
how do you know a piece of firmware will brickify your DS if no-one tries it first?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41978 - Abcd1234 - Tue May 03, 2005 10:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TheMikaus wrote:</b></span></td> </tr> <tr> <td class="quote">I don't think insulting is the same thing as criticism.  And if it does fall under the same literal category it's not very contrsuctive and therefore moot.</td> </tr></table><span class="postbody">
<br/>
<br/>
True enough.  I should mention that many of my comments come out of sheer frustration.  In areas like this (homebrewing, hardware hacking, etc), it's been my experience that elitism is incredibly common.  Yes, I realize that's not very fair and I shouldn't generalize, but given the prevalance of this behaviour, it's hard not to.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">So giving stuff to the community to make homebrewing code easier (which they've already done) isn't expanding the community?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah yeah, I know.  Like I say, it's primarily frustration, and also irritation with this idea that there are people out there who feel it's their job to "protect" me, as if I'm not perfectly capable of protecting myself.  It's very condescending, to say the least... 
<br/>
<br/>
Hey, I think I might be a Libertarian... crap... ;)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Again for the elitism.  I guess it depends on how you look at it.  Caution says.  Someone will abuse this, release is a no no.  Elitism says you're too freaking stupid to do this correctly sorry.  (This I suppose boils down to opinions)</td> </tr></table><span class="postbody">
<br/>
<br/>
OTOH, there's a balance to be reached.  Releasing info about the firmware could be incredibly useful to many people.  Who knows what kind of mods we could see?  I think that outweighs the danger of a couple bad apples attempting to damage people's DSs.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41980 - tepples - Tue May 03, 2005 10:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TheMikaus wrote:</b></span></td> </tr> <tr> <td class="quote">Difference being that you can reformat your own computer.  Can't really reformat the DS.  But point taken.</td> </tr></table><span class="postbody">
<br/>
If you have the recovery code present in the firmware, then you can reformat the DS as long as you don't overwrite the recovery code.
<br/>
<br/>
I'll suggest a solution that allows firmware experimentation whilst preventing brickification, an expansion on what pipomolo was talking about: <ol type="1"><li>Standardize on one recovery code. </li><li>Keep the flashing program proprietary for now. </li><li>Let the user pass any firmware to the flashing program. </li><li>Have the flashing program verify that the SHA-1 of the recovery code in the firmware matches that of the standardized recovery code. </li></ol> That way, any random user can flash any random firmware to a Nintendo DS system without risk of brickifying the system because the un-brickification code is guaranteed to be present.
<br/>
<br/>
And yes I do thank darkfader and the rest of the DS homebrew hardware and firmware hackers for what they've done.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41992 - FourScience - Tue May 03, 2005 11:16 pm</h4>
    <div class="postbody"><span class="postbody">Good idea, tepples. I'm not up to speed on the feasability, but I like that approach.
<br/>
<br/>
My 2 cents about not sharing the firmware/flashing code...
<br/>
<br/>
I don't think that keeping it closed-source is elitist at all. I don't expect everyone to make their code open, these guys have the inherent right to keep their code private regardless of their reasons.
<br/>
<br/>
There are good reasons to keep it closed, IMHO. It could be abused, badly, possibly to run pirated commercial ROMs. We don't want this work used in that way, and judging by the attitude I've seen by the homebrew community, this is of great concern.
<br/>
<br/>
To some degree they're protecting people from themselves... and that's a good thing if you ask me, but I wouldn't say this is the primary argument for keeping this code private. If tepples' suggestion works then this argument would be void of course.
<br/>
<br/>
I don't really know, but I wouldn't be surprised if another proven DS hacker asked to work on the source, he'd be given access. Going back to abusive uses, there's a security concern here. I advocate keeping code closed-source if there's a risk that warez people will rip it off and abuse it.
<br/>
<br/>
I love and advocate OSS/FS, but not all code should be open. Ultimately, it's up to the <span style="text-decoration: underline">originating</span> author whether the source is released.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41994 - Abcd1234 - Tue May 03, 2005 11:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FourScience wrote:</b></span></td> </tr> <tr> <td class="quote">I don't think that keeping it closed-source is elitist at all. I don't expect everyone to make their code open, these guys have the inherent right to keep their code private regardless of their reasons.</td> </tr></table><span class="postbody">
<br/>
<br/>
Oh, I couldn't care less about the code.  It's this decision to keep *information* hidden that bothers me.  You can answer DsPet's questions without giving your code away.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Going back to abusive uses, there's a security concern here. I advocate keeping code closed-source if there's a risk that warez people will rip it off and abuse it.</td> </tr></table><span class="postbody">
<br/>
<br/>
Right...  because the warez folks out there don't have the ability to hack the firmware themselves...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41996 - FourScience - Tue May 03, 2005 11:29 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Oh, I couldn't care less about the code.  It's this decision to keep *information* hidden that bothers me.  You can answer DsPet's questions without giving your code away.</td> </tr></table><span class="postbody">
<br/>
<br/>
Gotcha.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Right...  because the warez folks out there don't have the ability to hack the firmware themselves...</td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah they can always do it themselves, but I wouldn't hand it to them on a silver platter. Also, if they based their work on homebrew code, that could potentially put the homebrew community at risk. If I were Nintendo I wouldn't persecute homebrew for this, but some companies do that sort of thing. According to some of the irresponsibly written, recently proposed legislation in the US, some of this homebrew development could potentially be outlawed. Btw, I don't know where legislation has gone, but it's been a real concern.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41999 - DsPet - Wed May 04, 2005 12:07 am</h4>
    <div class="postbody"><span class="postbody">re: elitism v. open source
<br/>
Being open source (or at least open information) is generally a good thing IMHO
<br/>
(also gives you legal protection to people doing risky things, not to mention protecting the community against one person deciding to take his toys and go home...)
<br/>
This is a bigger issue than this one topic.
<br/>
<br/>
However, that said, you can't force people to share their toys ;-&gt;
<br/>
=========
<br/>
<br/>
re: helping virus writers or other ill motivated people.
<br/>
<br/>
Much of this debate is moot !
<br/>
<br/>
We *do* have an open-source for a program to read the firmware.
<br/>
We *do* have the full specs for the SPI firmware chips (read + write)
<br/>
Very easy to write a program to wipe out the firmware (except for the first bytes, without the jumper)
<br/>
Very easy to patch FlashMe to brick an unsuspecting user (for those foolish enough to use an unofficial version)
<br/>
<br/>
Keeping the details of the NDS specific firmware structure private will not stop someone who wanted to do this.
<br/>
Flashing is easy, knowing what to flash is hard.
<br/>
<br/>
------
<br/>
<br/>
So to rephrase it:
<br/>
<br/>
I *do* know how brickify an NDS.
<br/>
<br/>
What I would like to know is how *not* to brickify an NDS.
<br/>
And the advice of those who have done so. Please share.
<br/>
<br/>
The only logical "newbie" argument I understand is that if you describe how to do, more people will try it (on their own device) and possibly brick their own NDS. This can easily be addressed by a strong warning, and recommend people install FlashMe first - and use its emergency recovery mode [ie. safe unless you short the jumper]
<br/>
The possible harm is only to those who are intentionally trying to do harm to themselves
<br/>
<br/>
A minor downside IMHO. The upside - many experienced programmers, sharing information, most/all working towards a common goal.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42010 - FourScience - Wed May 04, 2005 4:16 am</h4>
    <div class="postbody"><span class="postbody">Well said, DsPet. I see the fallacy in thinking that ill-motivated people would really be aided by this work.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42014 - TheMikaus - Wed May 04, 2005 6:49 am</h4>
    <div class="postbody"><span class="postbody">Tepples idea sounds pretty good.
<br/>
<br/>
More fun!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42047 - DsPet - Thu May 05, 2005 2:08 am</h4>
    <div class="postbody"><span class="postbody">Update:
<br/>
I started looking it to this myself (re-inventing the wheel waiting for someone "in the know" to spill the beans ;-)
<br/>
BTW: the getID process of FlashMe is not as important as I thought it was.
<br/>
<br/>
--
<br/>
Now my surprise:
<br/>
The FlashMe program (and related restore app) includes a mostly complete copy of the Nintendo firmware, as well as a patched version that changes the functionality.
<br/>
<br/>
Needless to say this is Nintendo copyrighted material. Regardless of form (plain, encrypted or compressed), such blatant copying can get you into big-time legal trouble even if everything else is "fair use" under the DMCA.
<br/>
<br/>
People may continue to ignore the request of "please open up your source code", however...
<br/>
if there is no public information, a simple Cease-And-Desist order to the FlashMe website may kill off this tool (at least in its current form)
<br/>
<br/>
---
<br/>
I also understand that people may want to keep some things to themselves - that is their option.
<br/>
For everyone else, realize that in using a non-open source program, you may be violating some else's copyright without actually knowing it !
<br/>
<br/>
[[ I also realize most people will ignore this warning, because they don't care if they are using a program that is blatantly copying and redistributing parts of the Nintendo firmware. But for the few people who care, I thought you may want to know ]]
<br/>
(end soap box)
<br/>
<br/>
I'm all for open source, DMCA fair use, copyright respecting hacks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42055 - kulgan_22 - Thu May 05, 2005 6:37 am</h4>
    <div class="postbody"><span class="postbody">DsPet : Can you explain how you did to "see and analyze" the content of of flashme?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42062 - olimar - Thu May 05, 2005 8:17 am</h4>
    <div class="postbody"><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by olimar on Wed Aug 20, 2008 9:39 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#42081 - DsPet - Thu May 05, 2005 3:21 pm</h4>
    <div class="postbody"><span class="postbody">&gt; DsPet : Can you explain how you did to "see and analyze" the content of of flashme?
<br/>
You can dump/disassemble the programs rather easily (like reverse engineering any ds.gba file). The firmware copies are laid out rather obviously (let me know if you can't find where they sync up). The restore app has full copies of the two versions of Firmware. The customized Flashme app you download for your specific device have a shortened version of the needed one.
<br/>
<br/>
To get the Nintendo firmware binary, use the free program to grab it from your device (256KB in four 64KB regions).  Open source (thanks loopy/olimar)
<br/>
<a href="http://www.natrium42.com/blog/?p=20" target="_blank">http://www.natrium42.com/blog/?p=20</a>
<br/>
Don't ask me how to interpret it (I only understand the rough structure -- why I am asking for more details from people "in the know" so I don't waste me time reinventing the wheel)
<br/>
<br/>
Since you are grabbing the firmware yourself, you are in safe legal territory. Posting a copy (/sharing it) is a different matter -- even if you only share it with fellow NDS owners.
<br/>
<br/>
=====
<br/>
olimar wrote:
<br/>
&gt; After all your bitching, moans, complaints, open source flag-waving, name calling, etc., 
<br/>
I'll plead guilty to the first four. I don't think I did any name calling [but I won't speak for others ;-]
<br/>
<br/>
FWIW: I made no "warez" aspersions, which IMHO gets at people's motives. I am pointing out that copying so many binary bits of Nintendo code is in dangerous territory (what I call a grey area of piracy, a lot of people do it -- no problem until the copyright holder complains)
<br/>
A future flashing program may have the same legal complications.
<br/>
<br/>
----
<br/>
&gt; ... not a single one of you bothered to actually contact me. 
<br/>
Sorry for not knowing who to contact directly. There is no contact info on the FlashMe webpage or included in the program itself
<br/>
I did post in this forum (which please correct me if I'm wrong is the right place for people to post these kind of things)
<br/>
<br/>
&gt; the next update will probably leave the whole original firmware open, so you can start toying with it
<br/>
Excellent. That's all I was asking for, and sharing of what you've learned of the structure of the firmware file.
<br/>
<br/>
[see the first post on this forum - that's what started it -- but got taken a little off track with the line "Firmware modifcations should be done by professionals"]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42084 - caitsith2 - Thu May 05, 2005 4:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DsPet wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
&gt; ... not a single one of you bothered to actually contact me. 
<br/>
Sorry for not knowing who to contact directly. There is no contact info on the FlashMe webpage or included in the program itself
<br/>
I did post in this forum (which please correct me if I'm wrong is the right place for people to post these kind of things)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Well, there is #dsdev, efnet.  Loopy hangs out there, along with most of the others in DS development.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42086 - kulgan_22 - Thu May 05, 2005 5:49 pm</h4>
    <div class="postbody"><span class="postbody">To disassemble ,you use IDA Pro, or another program?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42092 - Abcd1234 - Thu May 05, 2005 8:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>olimar wrote:</b></span></td> </tr> <tr> <td class="quote">Thank you for your insightful comments and speculation.  After all your bitching, moans, complaints, open source flag-waving, name calling, etc., not a single one of you bothered to actually contact me.</td> </tr></table><span class="postbody">
<br/>
<br/>
Just wanted to point out that my own comments were only in response to [FireFly]'s.  Obviously I wasn't accusing you, in particular, of anything, since you hadn't yet weighed in on the subject.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42193 - Proteanruler - Sat May 07, 2005 2:45 pm</h4>
    <div class="postbody"><span class="postbody">is there an ETA on the new firmware patch?? Not pressuring - simply curious.  Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42334 - olimar - Tue May 10, 2005 3:46 am</h4>
    <div class="postbody"><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by olimar on Wed Aug 20, 2008 9:34 pm; edited 5 times in total</span></div>    
</div>
<div class="post">
    <h4>#42398 - krunkster - Tue May 10, 2005 10:51 pm</h4>
    <div class="postbody"><span class="postbody">Why do you (or whoever) collect unique id and serial number?
<br/>
I would prefer to do this as anonymously as possible.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42401 - olimar - Tue May 10, 2005 11:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by olimar on Wed Aug 20, 2008 9:35 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#42407 - Proteanruler - Tue May 10, 2005 11:58 pm</h4>
    <div class="postbody"><span class="postbody">Go Olimar go ;)... everyone is seriously grateful for what you and your crew have done.  Nobody has a right to be annoyed!! Jesus - all you are owed is thanks.  Does sound good though :D!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42429 - Veg - Wed May 11, 2005 6:52 am</h4>
    <div class="postbody"><span class="postbody">I haven't flashed the first firmware yet - had trouble shorting the SL1, and then gave up.
<br/>
<br/>
Will this second update be possible from the original DS firmware, or will I have to put the first one on first?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42503 - DsPet - Thu May 12, 2005 3:01 am</h4>
    <div class="postbody"><span class="postbody">NOTE: the updated version is apparently now available (no annoying getID step, no announcement fanfare either ...)
<br/>
<a href="http://ds.gcdev.com/dsfirmware" target="_blank">http://ds.gcdev.com/dsfirmware</a>
<br/>
<br/>
----
<br/>
Obvious advice:
<br/>
&gt; I haven't flashed the first firmware yet - had trouble shorting the SL1, and then gave up. 
<br/>
If you have started the firmware update (&gt; 0%) then don't give up until it is 100% - otherwise it most likely will not boot again.
<br/>
NOTE: the new version reports percent complete not hex addresses.
<br/>
<br/>
&gt; Will this second update be possible from the original DS firmware, or will I have to put the first one on first?
<br/>
Works for me using the original FlashMe firmware and upgrades to the latest version.
<br/>
<br/>
=======
<br/>
Technical stuff:
<br/>
&gt; Some firmware notes (only applies to the newest flashme, not available on the website at the time of this writing): 
<br/>
Thanks for the pointers. Jives well with my preliminary block analysis (didn't figure out the shift values, that's weird, but I won't ask how you found it ;-)
<br/>
<br/>
---
<br/>
Any more hints on the compression algorithm details ?
<br/>
I tried using the built-in SWI LZSS/LZ77 decryption but it didn't match the standard encoding (unless I'm missing something obvious)
<br/>
<br/>
If a few more hints are provided, hopefully the firmware will be easy for other people to decode and rewrite (especially the PictoChat program)
<br/>
<br/>
TIA</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42506 - Abcd1234 - Thu May 12, 2005 6:17 am</h4>
    <div class="postbody"><span class="postbody">So, just to clarify, has anyone here upgraded to the latest firmware patch while having the old one installed at the time?  Any issues?  Or did you just uninstall the old patch and install the new one?
<br/>
<br/>
Incidentally, yes, I realize I'm being paranoid. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42510 - caitsith2 - Thu May 12, 2005 7:41 am</h4>
    <div class="postbody"><span class="postbody">DsPet:  The firmware is not only compressed, but it is also ecrypted.  It has to be decrypted first, before the decompression step will succeed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42514 - olimar - Thu May 12, 2005 8:56 am</h4>
    <div class="postbody"><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by olimar on Wed Aug 20, 2008 9:35 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#42516 - caitsith2 - Thu May 12, 2005 9:59 am</h4>
    <div class="postbody"><span class="postbody">I stand corrected.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42533 - Abcd1234 - Thu May 12, 2005 6:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>olimar wrote:</b></span></td> </tr> <tr> <td class="quote">Abcd1234 - the new flashme can be installed on top of a previous installation or on a fresh system, it shouldn't matter.</td> </tr></table><span class="postbody">
<br/>
<br/>
Sweet!  Looks like I'll be reflashing my DS after work tonight.  Awesome work, guys.  Thanks again!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42700 - lambi1982 - Sat May 14, 2005 2:59 am</h4>
    <div class="postbody"><span class="postbody">i keep getting "gba file is corrupted"  why?<br/>_________________<br/>Who, Me?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42701 - olimar - Sat May 14, 2005 3:05 am</h4>
    <div class="postbody"><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by olimar on Wed Aug 20, 2008 9:36 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#42702 - lambi1982 - Sat May 14, 2005 3:17 am</h4>
    <div class="postbody"><span class="postbody">dont have that cart buddy, never had a problem with the first firmware, I have ezf3 advanced loader.bin does nothing for this cart, when i put older flashme on cart works as expected, just this new download says corrupted<br/>_________________<br/>Who, Me?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42704 - olimar - Sat May 14, 2005 3:24 am</h4>
    <div class="postbody"><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by olimar on Wed Aug 20, 2008 9:36 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#42707 - lambi1982 - Sat May 14, 2005 3:29 am</h4>
    <div class="postbody"><span class="postbody">EZF ADVANCE III 256Mb, I downloaded it 10 times so far from <a class="postlink" href="http://ds.gcdev.com/dsfirmware" target="_blank">http://ds.gcdev.com/dsfirmware</a> every time I try and put it on the cart I get CRC32 error only with that flash file, I tried it with my older flash and all went well. just dont know what is up<br/>_________________<br/>Who, Me?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42749 - lambi1982 - Sat May 14, 2005 4:57 pm</h4>
    <div class="postbody"><span class="postbody">Is there any other place to download this copy _ new flashme ) so I can test another, I just keep getting GBA file is corrupted<br/>_________________<br/>Who, Me?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42791 - Sektor - Sun May 15, 2005 1:30 am</h4>
    <div class="postbody"><span class="postbody">Did you read this? "Note for EZ-Flash III users: Extract loader.bin of ezf3me.zip to the flash manager directory."  I don't know if that applies to EZF Advance III, very similar names but no idea if software has the same problems.</span><span class="gensmall"><br/><br/>Last edited by Sektor on Mon May 16, 2005 12:31 pm; edited 3 times in total</span></div>    
</div>
<div class="post">
    <h4>#42795 - lambi1982 - Sun May 15, 2005 2:15 am</h4>
    <div class="postbody"><span class="postbody">did you read what I wrote, I do not have the ez flash 3 cart, i have ezf advance 3 cart, no loader.bin in the folder, does not use one...if adding loader.bin was all it was it would have worked by now<br/>_________________<br/>Who, Me?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42907 - lambi1982 - Mon May 16, 2005 4:27 pm</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://imageserver0.textamerica.com/user.images.x/32/IMG_421032/_0516/TZ200516081801157.jpg" target="_blank">http://imageserver0.textamerica.com/user.images.x/32/IMG_421032/_0516/TZ200516081801157.jpg</a>
<br/>
<br/>
this is a screen shot just before I get crc32 error when transfering the flashme file.<br/>_________________<br/>Who, Me?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43741 - pceslayer - Thu May 26, 2005 3:33 am</h4>
    <div class="postbody"><span class="postbody">I think thats the card they meant... I could be wrong... try a different loader instead of Ecube</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
