<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>A big thank you... NDS revived! (+Revival howto) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Flash Equipment > A big thank you... NDS revived! (+Revival howto)</h2>
<div id="posts">
<div class="post">
    <h4>#57515 - dateq - Sun Oct 16, 2005 6:00 pm</h4>
    <div class="postbody"><span class="postbody">This is in my view certainly worth a new topic.
<br/>
<br/>
As you can read here: <a href="http://forum.gbadev.org/viewtopic.php?t=7179" target="_blank">http://forum.gbadev.org/viewtopic.php?t=7179</a> and here: <a href="http://forum.gbadev.org/viewtopic.php?t=7184" target="_blank">http://forum.gbadev.org/viewtopic.php?t=7184</a> , I have been in quite a tight spot these last two days.
<br/>
<br/>
To recap: Yesterday I tried to flash my NDS. According to the tutorials and forums all over the net, it is quite save to turn off your NDS when there are no numbers showing in the lower right bottom of the screen.
<br/>
Little did I know that all those tut's where outdated. I had NO numbers, but I had percentages in the middle part of the screen. To make a long story short, I turned of the machine while flashing (Yep, dweeb at this end).  Yesterday and today I have been painstakingly trying to revive my NDS. And at 5:57 PM it finally gave in to my wishes and started to breath again!
<br/>
<br/>
I want to take this oppurtunity to thank nman, ratx, natrium, whacko and the rest over at #brickhelp
<br/>
Last, but not least I want to say a BIG thank you to Darkfader, for giving so much support and advice on how to revive my NDS.
<br/>
<br/>
Now, to how my NDS came back to life.
<br/>
A bit of the firmware was already in place, but not enough to try the fail-safe feature. That's why I started soldering and used the plans from Darkfade for ppflash.  
<br/>
That also didn't work at first because I was missing some vital dll's. 
<br/>
After consulting Darkfader, he gave me a couple of dll's and some instructions and of I went to flashing again. 
<br/>
Again, nothing or at least, it appeared like it. (I later found out that a flat-cable was not properly inserted and kept giving me white lower screens). 
<br/>
<br/>
From a great guy, who wishes to remain anonymous, I got a working firmware and not just the fail-safe fw.bin file and flashed the working firmware (again with Darkfader's ppflash). 
<br/>
Lo' and behold! It worked!
<br/>
<br/>
I had to re-enter my data just like when it came out of the box, restarted it, enter the data AGAIN and that's that.
<br/>
<br/>
Again, a big thank you to the guys who helped me and gave me advice!!!
<br/>
<br/>
Richard</span><span class="gensmall"><br/><br/>Last edited by dateq on Mon Oct 17, 2005 2:22 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#57516 - Chetic - Sun Oct 16, 2005 6:09 pm</h4>
    <div class="postbody"><span class="postbody">That's great news!
<br/>
This is definitely a rare thing, I'm glad it happened to someone. (The resurrection, not the execution)<br/>_________________<br/>Packin':
<br/>
Grey DS with FlashMe v7
<br/>
1Gbit XG2T 2005 (Neoflash compatible)
<br/>
GBAMP, Supercard CF, 512Mb Magic Key 3 and EZFA 256Mbit</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57551 - Dudu.exe - Sun Oct 16, 2005 10:41 pm</h4>
    <div class="postbody"><span class="postbody">whold be nice if you post some images of the soldery ..<br/>_________________<br/><a class="postlink" href="http://flickr.com/photos/stuffbox" target="_blank">http://flickr.com/photos/stuffbox</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57583 - KidBomba - Mon Oct 17, 2005 3:46 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dudu.exe wrote:</b></span></td> </tr> <tr> <td class="quote">whold be nice if you post some images of the soldery ..</td> </tr></table><span class="postbody">
<br/>
<br/>
I agree, some step by step instructions, maybe with pics would be great.
<br/>
<br/>
as far as I understand, pp flash looks complicated:|</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57605 - Actreon - Mon Oct 17, 2005 9:46 am</h4>
    <div class="postbody"><span class="postbody">Good to hear DarkFader is still in the homebrew scene as he apologized for his homemade DS bricker. He even helps people out personally if their DS is bricked and develops hotfixes and tuto's for the people with a bricked DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57608 - dateq - Mon Oct 17, 2005 10:15 am</h4>
    <div class="postbody"><span class="postbody">Sorry I have made no pictures. I was too busy concentrating on doing things right :)
<br/>
<br/>
To straighten things out: It was NOT Darkfader's fault my DS was bricked, I did it MYSELF!
<br/>
<br/>
Anyways..  As for the walkthrough:
<br/>
<br/>
It's not too bad if you how, but keep in mind that the soldering points are VERY, and I mean VERY, small. 
<br/>
Also, for the cutting of trace 28, you need a very sharp knife.
<br/>
<br/>
The things I used for to flash the firmare:
<br/>
<br/>
1. A voltage/ohm meter
<br/>
2. An external power supply (Set it to 3 volts!!!!! Anything more and you'll fry you DS for good!)
<br/>
3. A soldering iron with a small tip
<br/>
4. Some soldering wire
<br/>
5. A printer cable that you don't need anymore. (I cut mine in half) (MAKE SURE YOU USE A CABLE WHERE THE CONNECTOR CAN BE OPENED, OR YOU'LL NEED A SEPARATE CONNECTOR TOO!!)
<br/>
6. A very sharp and tiny knife.
<br/>
7. Patience, a whole lot of it.
<br/>
Recommended: A magnifying glass (you DON'T want to short things out!)
<br/>
You'll also need a GBA Flash cartridge (NOT SUPERCARD!), like Flash Advance. If you don't have one, you'll need a complete firmware dump (Not just fw.bin as provided by Darkfader). 
<br/>
Ask around for a firmware dump, there are lots of people around that'll want to help you.
<br/>
<br/>
Okay.. Step by step:
<br/>
<br/>
-Cut the printercable, make it as long as you need, only keep in mind that the longer the cable is,  the bigger the chance of garbled packages and you don't want that!
<br/>
<br/>
-Solder the wires on the connector end and write down the colors you used on pins: 2,3,4,5,6,13,18. You can cut all other wires away.
<br/>
<br/>
-Make sure you have the corresponding colors on the end where you cut the cable in half and make sure they don't touch.
<br/>
<br/>
-Now it's time to start ppflash. First thing you need to do is make sure you're LPT port has been set in the BIOS to use EPP. If set, plug in the connector.
<br/>
 Secondly, you'll need at least three DLL's, namely cygwin1.dll, cygioperm-0.dll, cygpopt-0.dll. Furthermore, you'll also need ioperm.exe and ioperm.sys
<br/>
 which you can download from <a href="http://www.cygwin.org." target="_blank">www.cygwin.org.</a>
<br/>
 Open up a command prompt and go to the directory where you put ppflash. Start ioperm -i and then start 'ppflash fw.bin'.
<br/>
 The screen should show you: "Flashing.." or something in that order. Now take your voltage meter and put the Ground end 
<br/>
 on the wire that corresponds with pin 18 and put the '+' end on pin 2,3,4,5,6 (either one). The meter should now register something like 3,3 volts.
<br/>
 If it registers 5V, you'll need to use resistors. I can't tell you what kind, because I didn't need them :)
<br/>
<br/>
-Okay, now for the hard part. Stop ppflash and remove the connector from your computer. Now open up your DS.
<br/>
 The picture supplied by Darkfader is clear enough where to put the wires on the mainboard of the DS. 
<br/>
 I suggest you start at the bottom of the RFU at the left side (I'm right-handed, so it's easier to work from left to right)
<br/>
 Also, to make an attachment ready for the external powersupply, make an Y-connection on the wire corresponding pin 18 on the connector. 
<br/>
 Use one end on pin 2 of the RFU and one end on the Ground of your powersupply.
<br/>
 If you have a steady hand, it should not be too hard. If you feel unsure of your ability to solder, practise on some old piece of hardware.
<br/>
 Lastly solder the +3.3V wire to pin 28 on the RFU, but NOT before you used your sharp knife to cut away the trace between the small dot and the RFU.
<br/>
 Once the trace is cut, you can solder the +3.3V wire to the RFU and make sure you haven't made a connection between the dot and pin 28 again.
<br/>
<br/>
-Tape the wires down on the mainboard of the DS (You don't want any wires coming of and start poking around with 3.3V on the mainboard. 
<br/>
 It doesn't seem much, but it will RUIN your DS beyond the point of repair.). Now you're set for uploading your firmware.
<br/>
<br/>
Put the LPT connector in your computer, attach the power supply to the +3.3V wire and attach the Ground to the split wire of pin 2 on the RFU.
<br/>
Open up a command prompt on your computer and go to the directpory where you put ppflash. Type in 'ppflash fw.bin' and it should start as soon as you hit 'Enter'.
<br/>
You should see appearing som code (three lines to be exact) and then you're almost done! REMEMBER: If you don't have a flash cartridge like Flash Advance, 
<br/>
use a complete firmware dump!! It'll take considerably longer to upload, but you're set from the start!
<br/>
<br/>
All that is left, is removing the wires you soldered and rebuilding the trace you cut on pin 28. (Just use an excess of soldering tin. No too much mind!)
<br/>
Put the back lid back on the DS, and insert the battery. You don't have to screw all the screws back in, maybe you'll have to solder again!
<br/>
<br/>
If you boot up your DS now, a green light should be visible, if it's not something is definately wrong. 
<br/>
Plug in your socket adapter of the DS and simultaniously turn on your DS.
<br/>
If your DS boot and immediately shuts off, you most probably have blown out fuse F2 on the mainboard. 
<br/>
THAT is why I recommended not closing your back lid. 
<br/>
Remove the back lid again and look for F2 near the battery connector. Use your meter and see if there is a connection. If there is a connection, there is another
<br/>
fuse on the other side of the mainboard. If there is no connection, take a tiny piece of wire and bridge the two ends of the fuse. Quick and dirty, but it works.
<br/>
<br/>
If your DS boots up, it'll do nothing yet. Put in your Flash cartridge and boot up your DS whilst holding START+SELECT+L+R. The DS will now boot from the cartridge and 
<br/>
you can re-flash the firmware. You may or may not need to short SL1 again, you'll know if the percentage counter stops :)
<br/>
If you flashed the complete firmware, You'll immediately get the data-entry screen just as the DS came out of the box.
<br/>
<br/>
If you experience problems or need some advice, PM me.
<br/>
<br/>
Greetz, Richard</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57782 - KidBomba - Tue Oct 18, 2005 3:26 pm</h4>
    <div class="postbody"><span class="postbody">So you bricked your DS because you turned off the power while you flashed? I think thre is a time in the flashme where it pauses for like a second, maybe this confuses a lot of people?
<br/>
<br/>
When do you know when to turn it off? does the program actually say, "you are done, restart" ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57786 - Mithos - Tue Oct 18, 2005 3:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>KidBomba wrote:</b></span></td> </tr> <tr> <td class="quote">When do you know when to turn it off? does the program actually say, "you are done, restart" ?</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Yeah. Something like that...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57791 - korb_n - Tue Oct 18, 2005 4:03 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
<br/>
Yesterday my DS was "bricked" and she doesn't have FlashMe installed, so i want to try the DF's method using ppflash but i need some help about it.
<br/>
<br/>
I've the voltage meter, a soldering iron and the printercable ready,
<br/>
i've installed cygwin from cygwin.com but cygioperm-0.dll seems to be missing. I've found it in <a href="http://sourceforge.net/projects/openwince/" target="_blank">http://sourceforge.net/projects/openwince/</a> in a package name "ioperm". it also contain ioperm.exe and ioperm.sys.
<br/>
<br/>
1/ I've start "ioperm -i" for installation but when i try "ppflash pw.bin" windows send me an error about "iopl... link... cygioperm-0.dll"
<br/>
I've all the files necessary but maybe a wrong version of cygioperm-0.dll...
<br/>
My LPT port is set in EPP mode.
<br/>
<br/>
My english is not so good but i read it more easily :)
<br/>
2/ What about the famous 3.3V ? I mean as well i've 3.3V on my LPT port, i need an external power supply ? So where i must solder the cable from pin 28 of the RFU for the 3.3V ?
<br/>
That's not clear for me.
<br/>
<br/>
I'm running Windows XP with SP2, i've an experience in modchip soldering so i want to try this and i request your advices, thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57796 - KidBomba - Tue Oct 18, 2005 4:31 pm</h4>
    <div class="postbody"><span class="postbody">how did you brick it?
<br/>
<br/>
<br/>
<br/>
I noticed the screws in the DS are funny shaped. how do you take those out?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57797 - korb_n - Tue Oct 18, 2005 4:54 pm</h4>
    <div class="postbody"><span class="postbody">I brick it when i launched the bad file called as you know. It's too stupid but it's done! :/ I suppose my SC bricked too but in SC forum i've see the repair tool by DF and it's seems to work for some people. i hope.
<br/>
<br/>
I've no screwdriver for the nintendo's screws, but with a small one i can dismantle my DS...
<br/>
<br/>
EDIT : dateq &gt; my "cygioperm-0.dll" is a 268 976 bytes file, have you the same ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57817 - korb_n - Tue Oct 18, 2005 6:47 pm</h4>
    <div class="postbody"><span class="postbody">Ok i've finally find another version of cygioperm-0.dll and in the command prompt i can read "Flashing..." when launching "ppflash fw.bin"
<br/>
<br/>
So i've tested the voltage on my LPT port too, i've mesured 4.4V between wire 2,3 and 6 and 18 (ground) so i suppose i need one resistors but fot the moment i don't know which one.
<br/>
<br/>
I continue my search.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57821 - natrium42 - Tue Oct 18, 2005 7:21 pm</h4>
    <div class="postbody"><span class="postbody">You could try a different computer. Also, laptops usually output 3V.<br/>_________________<br/><a class="postlink" href="http://www.natrium42.com" target="_blank">www.natrium42.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57824 - dateq - Tue Oct 18, 2005 7:49 pm</h4>
    <div class="postbody"><span class="postbody">I would be very careful where you download your dll's.
<br/>
<br/>
I've included the ppflash and all the dll and ioperm's I got from Darkfader in this post. Use those.
<br/>
Hmm.. Apparently this forum doesn't support attachments.. Let's give an url then: <a href="http://dsbrick.dyndns.info/files/FirmwareRecover.zip" target="_blank">http://dsbrick.dyndns.info/files/FirmwareRecover.zip</a>
<br/>
<br/>
<span style="font-weight: bold">I feel it as my responsibility to point out that you abso-and I mean-ABSOlutely should not connect your DS to your LPT port unbuffered if your LPT port puts out more than 3.3 Volts!!!! You will wreck your RFU and then nobody short of Nintendo will be able to help you!!!!</span>[/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57829 - korb_n - Tue Oct 18, 2005 8:15 pm</h4>
    <div class="postbody"><span class="postbody">Now my dll's seems to be good otherwise i've an error with odd message.
<br/>
<br/>
And accordly to you i'll not connect my DS directly with my LPT Port. Before i search some good resistors.
<br/>
<br/>
I'va read and read again your post and DF's explanations and i've understand that Vss on the diagram is link to the 3.3V of my LPT port and Vcc 3.3V must be link with an external powersupply. It is good ?
<br/>
On the diagram (in ppflash.zip archive) what is the function of the battery connector ?
<br/>
<br/>
natrium42 : i've no laptop here, only another computer but not with 3.3V on LPT port.
<br/>
<br/>
Thanks
<br/>
<br/>
EDIT : dateq, thanks for your file :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57831 - dateq - Tue Oct 18, 2005 8:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">otherwise i've an error with odd message</td> </tr></table><span class="postbody">
<br/>
<br/>
Let me guess.. Somewhat like: STATUS_PRIVILEGED_INSTRUCTION ??
<br/>
That means you haven't run ioperm -i (Or it will not install properly) To make sure everything is correct start ioperm.exe -i again.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I'va read and read again your post and DF's explanations and i've understand that Vss on the diagram is link to the 3.3V of my LPT port and Vcc 3.3V must be link with an external powersupply. It is good ?</td> </tr></table><span class="postbody">
<br/>
<br/>
Vss is the ground (earth, as we call it in Holland) which means 0 Volts.
<br/>
Vcc is +3.3 Volts. You have to make an Y-like connecion where one point is connected to your LPT port pin 18, another is connected to pin 2 on the RFU and the last connection is made to the Ground (0 Volts) of an external powersupply.
<br/>
<br/>
As you can see in the diagram Vss is connected to pin 18 on the LPT port. Do a search on google for the pin-layout of the LPT port and you'll see that pin 18 (and several others) correspond with Ground. There is no pin on the LPT port that indicates a +3.3 (or +5 ) Volts outlet. 
<br/>
The +3.3 V that we are talking about coming from the LPT port are used to send 0 and 1 (Bits). 0 corresponds with 0 Volts and 1 with +3.3 Volts.
<br/>
You therefor <span style="font-weight: bold">cannot</span> use those +3.3V outlets because they will be turned on and off by the ppflash program.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">On the diagram (in ppflash.zip archive) what is the function of the battery connector ? </td> </tr></table><span class="postbody">
<br/>
<br/>
There is no function there.. That is why you have to short them in order to keep the circuit closed. (If you don't, you will probably blow out the fuse)
<br/>
<br/>
Greetz, Richard</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57838 - korb_n - Tue Oct 18, 2005 9:17 pm</h4>
    <div class="postbody"><span class="postbody">Ok thanks you for this precious advices.
<br/>
<br/>
ioperm ans ppflash works fine now, no more errors.
<br/>
<br/>
The pin 18 of my LPT port is actualy ground, and i now understand how to connect my 3.3V.
<br/>
<br/>
So i hope try to flash soon. I'll take some pictures if i can do successfully this operation.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57855 - dateq - Tue Oct 18, 2005 10:13 pm</h4>
    <div class="postbody"><span class="postbody">Take your time.. Be very meticulous in what you do. You don't want to total your DS (...further) :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58061 - korb_n - Thu Oct 20, 2005 4:23 pm</h4>
    <div class="postbody"><span class="postbody">Finally i've buffered succesfully my LPT port, using resistors (about 5K) and "diods(?)".
<br/>
<br/>
When both LPT cable and my external powersupply are linked and ready, i start "flash fw.bin" but only the "Flashing..." stay at screen.
<br/>
<br/>
All connections are good and have been tested with ohmsmeters.
<br/>
<br/>
See my two pictures for more details :
<br/>
<a class="postlink" href="http://thamelain.free.fr/PICT1921.jpg" target="_blank">PICT1921.jpg</a>
<br/>
<a class="postlink" href="http://thamelain.free.fr/PICT1919.jpg" target="_blank">PICT1919.jpg</a>
<br/>
<br/>
I don't see what's the problem ?!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58069 - dateq - Thu Oct 20, 2005 5:04 pm</h4>
    <div class="postbody"><span class="postbody">I see where your problem lies.. The LPT port has to get some answer from the RFU. in your configuration you have blocked that answer because of a reversed diode. I suggest you reverse the diode on pin 8 of the RFU (If i'm not mistaken that is the grey LPT wire in your config).
<br/>
<br/>
By the way have you confirmed the power outlet of the orange, purple and brown wires is the same as it is on the green and blue wires?
<br/>
<br/>
Good luck! Richard</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58078 - korb_n - Thu Oct 20, 2005 5:45 pm</h4>
    <div class="postbody"><span class="postbody">If i understand your question, voltagemeter give the same power outlet for the orange, purple and brown wires (pin 2, 3, 6 on LPT cable and pin 5, 6 and 10 on RFU) even though the green and blue wires (pin 4, 5 on LPT cable and 7, 9 on RFU).
<br/>
<br/>
I'am testing to reverse the diode coresponding pin 13 of the LPT cable but the message in my dos prompt is the same.
<br/>
<br/>
My LPT port is set to EPP is it really correct ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58082 - dateq - Thu Oct 20, 2005 6:07 pm</h4>
    <div class="postbody"><span class="postbody">EPP should be okay.
<br/>
<br/>
You could also try to remove the diodes all together. There's not really any need for them. Maybe the current is too low for them to be working anyway.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58089 - korb_n - Thu Oct 20, 2005 7:15 pm</h4>
    <div class="postbody"><span class="postbody">No no no... always the same "Flashing...". I believe that there's nothing to do. i'll re-test my circuit and looking for any wrong thing.
<br/>
<br/>
In all case i'll had a DS with a broken touch screen to take the mainboard from it.
<br/>
<br/>
Thanks again dateq.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58140 - michael00000001 - Fri Oct 21, 2005 8:20 am</h4>
    <div class="postbody"><span class="postbody">try flashing with a lpt port that is 3.3 v. But the problem is that after flashing with fw.bin and reviving wifi is not working correctly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58145 - korb_n - Fri Oct 21, 2005 10:03 am</h4>
    <div class="postbody"><span class="postbody">Yes i'd like to try with a 3.3V LPT port. Perhaps this weekend if i could find a friend with that...
<br/>
<br/>
Have you already experience this wiring michael ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58153 - michael00000001 - Fri Oct 21, 2005 10:37 am</h4>
    <div class="postbody"><span class="postbody">yes I have successfuly flashed fw.bin and then flashmends from a gba cart (do not use supercard, does n't work) but after that I tried pictochat and does n't work. Possibly MAC address is lost or cant be generated correctly. I don't know if noflashme.nds restores wifi problem, or the only solution is to flash complete firmware through ppflash.If someone can make a modified flashme.nds in order to work correctly after ppflashing would be great.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58157 - dateq - Fri Oct 21, 2005 10:54 am</h4>
    <div class="postbody"><span class="postbody">Like I said. I flashed my NDS with a complete firmware thourgh ppflash and my pictochat works great.. 
<br/>
<br/>
Dateq</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58159 - korb_n - Fri Oct 21, 2005 11:50 am</h4>
    <div class="postbody"><span class="postbody">A friend confirm it to me, he has a computer with the right LPT port power oultlet for flash. So i will retry this week end.
<br/>
Is PPFLASH working with Unix system ? Computer don't run with Windows :)
<br/>
<br/>
michael : i see the problem but i don't have time yet for. I need to flash my DS before testing anything else. Perhaps something here : <a class="postlink" href="http://mymateo.com/tools.htm#flashme" target="_blank">http://mymateo.com/tools.htm#flashme</a>
<br/>
<br/>
As i say before, i'll have another DS, working but with dead touch screen. How to save firmware of good DS to send it in my bricked DS ?
<br/>
<br/>
I only found some references to that but not a croncrete explaination.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58161 - michael00000001 - Fri Oct 21, 2005 12:07 pm</h4>
    <div class="postbody"><span class="postbody">find and flash the entire firmware or wifi will not work correctly.unfortunately u have to recompile ppflash for working in unix or linux.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58164 - korb_n - Fri Oct 21, 2005 12:17 pm</h4>
    <div class="postbody"><span class="postbody">no no i prefer to install windowsxp :)
<br/>
<br/>
I don't want find another firmware but take the one on another European DS. I'll have 2 DS so i want to use them directly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58166 - michael00000001 - Fri Oct 21, 2005 12:34 pm</h4>
    <div class="postbody"><span class="postbody">if you download and copy the firmware of another ds, then u can not probably connect wireless with it because will have same MAC address$</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58169 - korb_n - Fri Oct 21, 2005 1:26 pm</h4>
    <div class="postbody"><span class="postbody">I agree with that, but i've read somewhere that the MAC adress isn't be modified when flashing. I can't say if it's true.
<br/>
<br/>
That's not really important if i can't connect both wireless at same time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58176 - caitsith2 - Fri Oct 21, 2005 2:38 pm</h4>
    <div class="postbody"><span class="postbody">The program was written to check to see if the MAC address data is intact, and if it is, use it.  The first version just assigned a random MAC address.  Not entirely important, since nintendo only owns one MAC address range, and DS is not the only system where it is used.  In fact, it is used on the gamecube as well,  so the randomly assigned address generated by the program might overlap into the gamecube adaptor address.  The only time the program randomly generates one, is if that sector was totally trashed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58178 - michael00000001 - Fri Oct 21, 2005 2:46 pm</h4>
    <div class="postbody"><span class="postbody">is it possible to generate a new mac address and flash it  into firmware?I have tried ppflashing fw.bin and then flashme.nds ,flashme_stealth.nds but pictochat and wifi is not working. If I will try noflashme.nds then i have no other way to install again flashme.nds unless i ppflash again (if wifi still refuses to work correctly).I think the only way would be a program to generate  and flash a new mac address.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58264 - josath - Sat Oct 22, 2005 1:19 am</h4>
    <div class="postbody"><span class="postbody">mac addresses are only used on local networks. so as long as you aren't on the same local or adhoc network w/ someone else w/ the same mac address, you're fine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58528 - michael00000001 - Mon Oct 24, 2005 9:32 am</h4>
    <div class="postbody"><span class="postbody">After flashing a completely firmware (thanks d), pictochat and wifi works again.I flashed over flashme.nds and now all works ok.It would be nice for someone making a MAC generator for patching firmware DS's because sometimes ppflash and flashme fail to identify if stored MAC ADDRESS is ok.Flashing 2 DS's with same fw will probably prohibit them to communicate with each other.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58529 - michael00000001 - Mon Oct 24, 2005 9:34 am</h4>
    <div class="postbody"><span class="postbody">ps. In my case I have 2 DS's for kids so flashing them with same firmware will prohibit them to connect each other.Hopefuly problem was in 1 of them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65725 - leungcwk - Thu Jan 05, 2006 6:30 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dateq wrote:</b></span></td> </tr> <tr> <td class="quote">Sorry I have made no pictures. I was too busy concentrating on doing things right :)
<br/>
<br/>
To straighten things out: It was NOT Darkfader's fault my DS was bricked, I did it MYSELF!
<br/>
<br/>
Anyways..  As for the walkthrough:
<br/>
<br/>
It's not too bad if you how, but keep in mind that the soldering points are VERY, and I mean VERY, small. 
<br/>
Also, for the cutting of trace 28, you need a very sharp knife.
<br/>
<br/>
The things I used for to flash the firmare:
<br/>
<br/>
1. A voltage/ohm meter
<br/>
2. An external power supply (Set it to 3 volts!!!!! Anything more and you'll fry you DS for good!)
<br/>
3. A soldering iron with a small tip
<br/>
4. Some soldering wire
<br/>
5. A printer cable that you don't need anymore. (I cut mine in half) (MAKE SURE YOU USE A CABLE WHERE THE CONNECTOR CAN BE OPENED, OR YOU'LL NEED A SEPARATE CONNECTOR TOO!!)
<br/>
6. A very sharp and tiny knife.
<br/>
7. Patience, a whole lot of it.
<br/>
Recommended: A magnifying glass (you DON'T want to short things out!)
<br/>
You'll also need a GBA Flash cartridge (NOT SUPERCARD!), like Flash Advance. If you don't have one, you'll need a complete firmware dump (Not just fw.bin as provided by Darkfader). 
<br/>
Ask around for a firmware dump, there are lots of people around that'll want to help you.
<br/>
<br/>
Okay.. Step by step:
<br/>
<br/>
-Cut the printercable, make it as long as you need, only keep in mind that the longer the cable is,  the bigger the chance of garbled packages and you don't want that!
<br/>
<br/>
-Solder the wires on the connector end and write down the colors you used on pins: 2,3,4,5,6,13,18. You can cut all other wires away.
<br/>
<br/>
-Make sure you have the corresponding colors on the end where you cut the cable in half and make sure they don't touch.
<br/>
<br/>
-Now it's time to start ppflash. First thing you need to do is make sure you're LPT port has been set in the BIOS to use EPP. If set, plug in the connector.
<br/>
 Secondly, you'll need at least three DLL's, namely cygwin1.dll, cygioperm-0.dll, cygpopt-0.dll. Furthermore, you'll also need ioperm.exe and ioperm.sys
<br/>
 which you can download from <a href="http://www.cygwin.org." target="_blank">www.cygwin.org.</a>
<br/>
 Open up a command prompt and go to the directory where you put ppflash. Start ioperm -i and then start 'ppflash fw.bin'.
<br/>
 The screen should show you: "Flashing.." or something in that order. Now take your voltage meter and put the Ground end 
<br/>
 on the wire that corresponds with pin 18 and put the '+' end on pin 2,3,4,5,6 (either one). The meter should now register something like 3,3 volts.
<br/>
 If it registers 5V, you'll need to use resistors. I can't tell you what kind, because I didn't need them :)
<br/>
<br/>
-Okay, now for the hard part. Stop ppflash and remove the connector from your computer. Now open up your DS.
<br/>
 The picture supplied by Darkfader is clear enough where to put the wires on the mainboard of the DS. 
<br/>
 I suggest you start at the bottom of the RFU at the left side (I'm right-handed, so it's easier to work from left to right)
<br/>
 Also, to make an attachment ready for the external powersupply, make an Y-connection on the wire corresponding pin 18 on the connector. 
<br/>
 Use one end on pin 2 of the RFU and one end on the Ground of your powersupply.
<br/>
 If you have a steady hand, it should not be too hard. If you feel unsure of your ability to solder, practise on some old piece of hardware.
<br/>
 Lastly solder the +3.3V wire to pin 28 on the RFU, but NOT before you used your sharp knife to cut away the trace between the small dot and the RFU.
<br/>
 Once the trace is cut, you can solder the +3.3V wire to the RFU and make sure you haven't made a connection between the dot and pin 28 again.
<br/>
<br/>
-Tape the wires down on the mainboard of the DS (You don't want any wires coming of and start poking around with 3.3V on the mainboard. 
<br/>
 It doesn't seem much, but it will RUIN your DS beyond the point of repair.). Now you're set for uploading your firmware.
<br/>
<br/>
Put the LPT connector in your computer, attach the power supply to the +3.3V wire and attach the Ground to the split wire of pin 2 on the RFU.
<br/>
Open up a command prompt on your computer and go to the directpory where you put ppflash. Type in 'ppflash fw.bin' and it should start as soon as you hit 'Enter'.
<br/>
You should see appearing som code (three lines to be exact) and then you're almost done! REMEMBER: If you don't have a flash cartridge like Flash Advance, 
<br/>
use a complete firmware dump!! It'll take considerably longer to upload, but you're set from the start!
<br/>
<br/>
All that is left, is removing the wires you soldered and rebuilding the trace you cut on pin 28. (Just use an excess of soldering tin. No too much mind!)
<br/>
Put the back lid back on the DS, and insert the battery. You don't have to screw all the screws back in, maybe you'll have to solder again!
<br/>
<br/>
If you boot up your DS now, a green light should be visible, if it's not something is definately wrong. 
<br/>
Plug in your socket adapter of the DS and simultaniously turn on your DS.
<br/>
If your DS boot and immediately shuts off, you most probably have blown out fuse F2 on the mainboard. 
<br/>
THAT is why I recommended not closing your back lid. 
<br/>
Remove the back lid again and look for F2 near the battery connector. Use your meter and see if there is a connection. If there is a connection, there is another
<br/>
fuse on the other side of the mainboard. If there is no connection, take a tiny piece of wire and bridge the two ends of the fuse. Quick and dirty, but it works.
<br/>
<br/>
If your DS boots up, it'll do nothing yet. Put in your Flash cartridge and boot up your DS whilst holding START+SELECT+L+R. The DS will now boot from the cartridge and 
<br/>
you can re-flash the firmware. You may or may not need to short SL1 again, you'll know if the percentage counter stops :)
<br/>
If you flashed the complete firmware, You'll immediately get the data-entry screen just as the DS came out of the box.
<br/>
<br/>
If you experience problems or need some advice, PM me.
<br/>
<br/>
Greetz, Richard</td> </tr></table><span class="postbody">
<br/>
<br/>
I had follow the step to ppflash my nds. All seems ok. But when I try to power on my nds, it failed. Even the green power light not startup. 
<br/>
There seems no power, I check the fuse F1 &amp; F2 and the battery, they are ok. Anyone can help ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66121 - dateq - Sun Jan 08, 2006 10:47 am</h4>
    <div class="postbody"><span class="postbody">Are you absolutely positively sure you rebuild the trace on pin 28?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68539 - rmu1314 - Wed Jan 25, 2006 2:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>leungcwk wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
I had follow the step to ppflash my nds. All seems ok. But when I try to power on my nds, it failed. Even the green power light not startup. 
<br/>
There seems no power, I check the fuse F1 &amp; F2 and the battery, they are ok. Anyone can help ?</td> </tr></table><span class="postbody">
<br/>
<br/>
I read in a japanese site that NDS doesn't boot if the liquid cristal backlight isn't connected.
<br/>
So I check the backlight connection and BINGO, my NDS started up !</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68646 - NBA Mj - Thu Jan 26, 2006 6:24 am</h4>
    <div class="postbody"><span class="postbody">If anyone can put picture of the tools that you are using and how to solder like korb_n.
<br/>
It will really help</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70229 - NBA Mj - Sun Feb 05, 2006 3:01 am</h4>
    <div class="postbody"><span class="postbody">Hi dateq,
<br/>
I was going to start the ppflash and soldering but when I read this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dateq wrote:</b></span></td> </tr> <tr> <td class="quote">If you boot up your DS now, a green light should be visible, if it's not something is definately wrong. 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
A green light apears when I turn my ds on without doing anything of ppflash or soldering.
<br/>
Do I have to do all those steps about soldering?
<br/>
Or shoud I put a new frimware to my ds by the cartridge?
<br/>
<br/>
Please let me know
<br/>
NBA Mj</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70272 - HyperHacker - Sun Feb 05, 2006 5:26 am</h4>
    <div class="postbody"><span class="postbody">AFAIK, if it boots to two white screens you can use the cartridge. However the only time the green light wouldn't come on is if the battery is dead or missing (it won't boot from AC power without a battery being there) or the hardware is damaged.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70283 - swimgod - Sun Feb 05, 2006 7:13 am</h4>
    <div class="postbody"><span class="postbody">This is great to find people who recovered there DS 
<br/>
with good old solder and software.
<br/>
<br/>
i was wondering, do you think it posible to actually install Flashme.v6
<br/>
through this method
<br/>
<br/>
call it SolderMe
<br/>
:P
<br/>
please tell me if its posible (i have a flash cart, with out SRam)<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70284 - natrium42 - Sun Feb 05, 2006 7:27 am</h4>
    <div class="postbody"><span class="postbody">Yes, it's possible. You just need the complete image of a homebrew firmware.<br/>_________________<br/><a class="postlink" href="http://www.natrium42.com" target="_blank">www.natrium42.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70285 - swimgod - Sun Feb 05, 2006 7:33 am</h4>
    <div class="postbody"><span class="postbody">thanks :P,
<br/>
well... 
<br/>
anyone got one :D
<br/>
please send me it thought rapidshare or something.
<br/>
thank you very much natrium42<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
