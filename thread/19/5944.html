<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>WifiMe Multiboot Logo Questions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS Flash Equipment > WifiMe Multiboot Logo Questions</h2>
<div id="posts">
<div class="post">
    <h4>#44817 - Diskun - Sun Jun 05, 2005 7:51 pm</h4>
    <div class="postbody"><span class="postbody">I am setting up a DS Download kiosk using an old PC and a Radlink card. It works flawlessly but I have some questions:
<br/>
<br/>
- I would like to use my own logo in the broadcasted demos. How can I change it? The WMB author, FireFly, gives some <a class="postlink" href="http://users.belgacom.net/bn967347/download.htm" target="_blank">logos on his site</a> and shows <a class="postlink" href="http://users.belgacom.net/bn967347/images.htm" target="_blank">some photos</a>.
<br/>
<br/>
- How can I convert BMP to BIN? Found nothing about this.
<br/>
<br/>
Thanks in advance and sorry for my English :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44885 - Kyoufu Kawa - Mon Jun 06, 2005 3:04 pm</h4>
    <div class="postbody"><span class="postbody">My question exactly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45052 - headspin - Tue Jun 07, 2005 10:26 am</h4>
    <div class="postbody"><span class="postbody">Here's what I know about it, the logo is stored at 0xc0 in the header. It is 156 bytes compressed (probably huffman). Uncompressed it is 208 bytes. Now, my guess is it is 104x16x2 pixel image made up of 13 cols by 2 row tiles, 1 bpp (2 color) with no palette.
<br/>
<br/>
That's about all I know, and some of it is guessing. Next release to WMBFront I hope to add a header editor including logo &amp; icon changer. If you gather any more info about the logo please place it here.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45064 - strager - Tue Jun 07, 2005 1:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>headspin wrote:</b></span></td> </tr> <tr> <td class="quote">Here's what I know about it, the logo is stored at 0xc0 in the header. It is 156 bytes compressed (probably huffman). Uncompressed it is 208 bytes. Now, my guess is it is 104x16x2 pixel image made up of 13 cols by 2 row tiles, 1 bpp (2 color) with no palette.
<br/>
<br/>
That's about all I know, and some of it is guessing.</td> </tr></table><span class="postbody">
<br/>
<br/>
That's not what he's asking about, I don't think.  What you wrote, headspin, in info about the Nintendo Logo to confirm that the data is not corrupted (or else the NINTENDO(r) sign on the bottom will be gobbleygoop).  Use the NDSTool to add a logo and a title (type ndstool.exe without ant args. to view options).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45073 - FourScience - Tue Jun 07, 2005 2:27 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, there's two logos we can be concerned with:
<br/>
<br/>
1) The DS Download Play icon that shows up in the list of broadcasted apps.
<br/>
2) The splash logo that is generally seen in an oval, when the app is beginning to run.
<br/>
<br/>
As for the Download Play icon, I'm in the process of getting my own to work. I've gathered that it should be 32x32 pixels, 256 colors (8-bit), with a color palette with the first bit used for transparency.
<br/>
<br/>
As for the splash logo....<br/>_________________<br/>Work in progress: <a class="postlink" href="http://dual-soft.com" target="_blank">Dual-Soft.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45076 - headspin - Tue Jun 07, 2005 2:36 pm</h4>
    <div class="postbody"><span class="postbody">The icons are 16 color 4x4 tiles, 4 bit mode. Index 0 is used for transparency.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45093 - Kyoufu Kawa - Tue Jun 07, 2005 5:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FourScience wrote:</b></span></td> </tr> <tr> <td class="quote">As for the Download Play icon, I'm in the process of getting my own to work. I've gathered that it should be 32x32 pixels, 256 colors (8-bit), with a color palette with the first bit used for transparency.</td> </tr></table><span class="postbody">BZZT Wrong! It's 16 colors, 4-bit. Palette's close by.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45113 - FourScience - Tue Jun 07, 2005 7:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kyoufu Kawa wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FourScience wrote:</b></span></td> </tr> <tr> <td class="quote">As for the Download Play icon, I'm in the process of getting my own to work. I've gathered that it should be 32x32 pixels, 256 colors (8-bit), with a color palette with the first bit used for transparency.</td> </tr></table><span class="postbody">BZZT Wrong! It's 16 colors, 4-bit. Palette's close by.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Thank you, I don't know why I keep thinking that, it should be 16 colors though.<br/>_________________<br/>Work in progress: <a class="postlink" href="http://dual-soft.com" target="_blank">Dual-Soft.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45147 - darkfader - Wed Jun 08, 2005 2:32 am</h4>
    <div class="postbody"><span class="postbody">The Nintendo logo is bitpacked, diffed and then huffman compressed. I could add it to ndstool if anyone cares :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45150 - Diskun - Wed Jun 08, 2005 2:58 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>darkfader wrote:</b></span></td> </tr> <tr> <td class="quote">The Nintendo logo is bitpacked, diffed and then huffman compressed. I could add it to ndstool if anyone cares :)</td> </tr></table><span class="postbody">
<br/>
I DO, 1-zillion thanks. You're the man :P
<br/>
<br/>
Greets and keep up the good work</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45157 - headspin - Wed Jun 08, 2005 3:30 am</h4>
    <div class="postbody"><span class="postbody">Yeah, that would be awesome dv!<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45252 - darkfader - Thu Jun 09, 2005 1:30 am</h4>
    <div class="postbody"><span class="postbody"><a href="http://darkfader.net/ds/files/ndstool.exe" target="_blank">http://darkfader.net/ds/files/ndstool.exe</a> for ndstool v0.17 (sourcecode @ sf.net)
<br/>
<a href="http://darkfader.net/ds/" target="_blank">http://darkfader.net/ds/</a> for some logo's :)
<br/>
<a href="http://cvs.sourceforge.net/viewcvs.py/" target="_blank">http://cvs.sourceforge.net/viewcvs.py/</a>*checkout*/devkitpro/tools/nds/ndstool/source/logo.cpp to see how it works. Basically it just uses a fixed huffman table.
<br/>
Just keep an eye on the costs per 4 pixels :)
<br/>
Or wait until someone makes a nice pixelize program that shows the compressed size in real-time :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45274 - Diskun - Thu Jun 09, 2005 3:44 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>darkfader wrote:</b></span></td> </tr> <tr> <td class="quote">http://darkfader.net/ds/files/ndstool.exe for ndstool v0.17 (sourcecode @ sf.net)
<br/>
<a href="http://darkfader.net/ds/" target="_blank">http://darkfader.net/ds/</a> for some logo's :)
<br/>
<a href="http://cvs.sourceforge.net/viewcvs.py/" target="_blank">http://cvs.sourceforge.net/viewcvs.py/</a>*checkout*/devkitpro/tools/nds/ndstool/source/logo.cpp to see how it works. Basically it just uses a fixed huffman table.
<br/>
Just keep an eye on the costs per 4 pixels :)
<br/>
Or wait until someone makes a nice pixelize program that shows the compressed size in real-time :)</td> </tr></table><span class="postbody">
<br/>
You rule :D
<br/>
<br/>
But I have a BIG problem:
<br/>
Demos hang after logo shows O_o
<br/>
<br/>
Here is what I do:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">- extract everything:
<br/>
<br/>
ndstool.exe -x rom.nds -d rom.nds.dir
<br/>
ndstool.exe -x rom.nds -7 rom.nds.dir\arm7.bin
<br/>
ndstool.exe -x rom.nds -9 rom.nds.dir\arm9.bin
<br/>
ndstool.exe -x rom.nds -h rom.nds.dir\header.bin
<br/>
ndstool.exe -x rom.nds -t rom.nds.dir\banner.bnr
<br/>
ndstool.exe -x rom.nds -o rom.nds.dir\logo.bin
<br/>
<br/>
-Rebuild the rom:
<br/>
ndstool.exe -c rom.nds -7 rom.nds.dir\arm7.bin -9 rom.nds.dir\arm9.bin -h rom.nds.dir\header.bin -t rom.nds.dir\banner.bnr -o logo.bmp
<br/>
<br/>
Fix the rom's headers:
<br/>
do ndstool.exe -f rom.nds</td> </tr></table><span class="postbody">What I get in return:
<br/>
New .nds files of the same size of the original ones that won't boot up correctly.
<br/>
<br/>
Can u help me?
<br/>
<br/>
p.s. Logo here: <a class="postlink" href="http://img78.echo.cx/img78/6760/logo1bh.png" target="_blank">Link</a> (Sorry, png format, but you can figure)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45302 - darkfader - Thu Jun 09, 2005 12:19 pm</h4>
    <div class="postbody"><span class="postbody">Check the ram address and entry points with -i flag and pass them when creating with -r7/-r9/-e7/-e9 params. No extra fixing step is required.
<br/>
But please don't go on a taggin' frenzy. But that could be solved by checking the logo CRC from inside the program :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45330 - headspin - Thu Jun 09, 2005 5:52 pm</h4>
    <div class="postbody"><span class="postbody">Hey darkfader, you don't happen to have the reverse of the compression functions ie.
<br/>
<br/>
LogoUnPackBits()
<br/>
LogoUnCompress()
<br/>
LogoUnDiff()
<br/>
<br/>
Save me the painful task of reversing your code. I need them to display the logo, not convert a bitmap into one.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45339 - darkfader - Thu Jun 09, 2005 8:21 pm</h4>
    <div class="postbody"><span class="postbody">If you want to use BIOS routines, you can try this data: (includes huffman header)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">00000000h: 24 D4 00 00 0F 40 00 00 00 01 81 82 82 83 0F 83 ; $?...@....????.?
<br/>
00000010h: 0C C3 03 83 01 83 04 C3 08 0E 02 C2 0D C2 07 0B ; .?.?.?.?...?.?..
<br/>
00000020h: 06 0A 05 09 24 FF AE 51 69 9A A2 21 3D 84 82 0A ; ....$??Qi??!=??.
<br/>
00000030h: 84 E4 09 AD 11 24 8B 98 C0 81 7F 21 A3 52 BE 19 ; ??.?.$????!?R?.
<br/>
00000040h: 93 09 CE 20 10 46 4A 4A F8 27 31 EC 58 C7 E8 33 ; ?.? .FJJ?'1?X??3
<br/>
00000050h: 82 E3 CE BF 85 F4 DF 94 CE 4B 09 C1 94 56 8A C0 ; ???????K.??V??
<br/>
00000060h: 13 72 A7 FC 9F 84 4D 73 A3 CA 9A 61 58 97 A3 27 ; .r????Ms??aX??'
<br/>
00000070h: FC 03 98 76 23 1D C7 61 03 04 AE 56 BF 38 84 00 ; ?.?v#.?a..?V?8?.
<br/>
00000080h: 40 A7 0E FD FF 52 FE 03 6F 95 30 F1 97 FB C0 85 ; @?.??R?.o?0?????
<br/>
00000090h: 60 D6 80 25 A9 63 BE 03 01 4E 38 E2 F9 A2 34 FF ; `?%?c?..N8???4?
<br/>
000000a0h: BB 3E 03 44 78 00 90 CB 88 11 3A 94 65 C0 7C 63 ; ?&gt;.Dx.??.:?e?|c
<br/>
000000b0h: 87 F0 3C AF D6 25 E4 8B 38 0A AC 72 00 00 F8 07 ; ??&lt;??%??8.?r..?.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Just do:
<br/>
1) Uncompress huffman (4 bits).
<br/>
2) Undiff (16 bits).
<br/>
3) Convert tiles to plain bitmap &amp; unpack bits.
<br/>
<br/>
These routines should be available somewhere, but reversing my sourcecode shouldn't be too difficult either.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45352 - Diskun - Thu Jun 09, 2005 10:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>darkfader wrote:</b></span></td> </tr> <tr> <td class="quote">Check the ram address and entry points with -i flag and pass them when creating with -r7/-r9/-e7/-e9 params. No extra fixing step is required.</td> </tr></table><span class="postbody">D'oh! The problem is that I want to do it with about a dozen or more files. You know... batch patching. Here's the code I was using. It's a ".cmd" file (Win2000/XP)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">@echo off
<br/>
echo NDS Automatic Logo Applier by Diskun
<br/>
echo Website: <a href="http://www.NDSSpain.com" target="_blank">www.NDSSpain.com</a>
<br/>
echo.
<br/>
echo Extrayendo/Extracting...
<br/>
for %%i in (*.nds) do ndstool.exe -x %%i -d %%i.dir &gt; null
<br/>
for %%i in (*.nds) do ndstool.exe -x %%i -7 %%i.dir\arm7.bin &gt; null
<br/>
for %%i in (*.nds) do ndstool.exe -x %%i -9 %%i.dir\arm9.bin &gt; null
<br/>
for %%i in (*.nds) do ndstool.exe -x %%i -h %%i.dir\header.bin &gt; null
<br/>
for %%i in (*.nds) do ndstool.exe -x %%i -t %%i.dir\banner.bnr &gt; null
<br/>
for %%i in (*.nds) do ndstool.exe -x %%i -o %%i.dir\logo.bin &gt; null
<br/>
echo OK
<br/>
<br/>
echo.
<br/>
echo Reconstruyendo/Rebuilding...
<br/>
for %%i in (*.nds) do ndstool.exe -c %%i -7 %%i.dir\arm7.bin -9 %%i.dir\arm9.bin -h %%i.dir\header.bin -o logo.bmp -t %i.dir\banner.bnr &gt; null
<br/>
echo OK
<br/>
<br/>
echo.
<br/>
echo Parcheando Cabeceras/Fixing Headers...
<br/>
for %%i in (*.nds) do ndstool.exe -f %%i &gt; null
<br/>
echo OK
<br/>
echo.
<br/>
echo All Operations Completed. Now you can delete the
<br/>
echo created folders.</td> </tr></table><span class="postbody">
<br/>
It takes every rom, unpacks it and then packs it again with the new logo. But taking the entry points and using them later is not possible with this.
<br/>
I know that I should learn to code in C++ or something more useful than VB and DOS/NT scripting. I'm learning this summer at an academy, but until that... well. Can someone do something like what I need? It would be useful for others as well. A "Banner Editor" could be nice too.
<br/>
<br/>
Thanks in advance and keep up the good work</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45391 - headspin - Fri Jun 10, 2005 4:03 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>darkfader wrote:</b></span></td> </tr> <tr> <td class="quote">If you want to use BIOS routines, you can try this data: (includes huffman header)</td> </tr></table><span class="postbody">
<br/>
<br/>
Sorry I wasn't clear, I need the reverse functions for a windows program, so you can view/change the logo.
<br/>
<br/>
Oh well, a reversin' I will go... O_o<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45952 - DiemetriX - Fri Jun 17, 2005 1:25 am</h4>
    <div class="postbody"><span class="postbody">If i change the logo. wil the Demos work on an unmodified DS?<br/>_________________<br/><a href="http://www.home.no/diemetrix/1337.htm" target="_blank">www.home.no/diemetrix/1337.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45965 - Sektor - Fri Jun 17, 2005 9:36 am</h4>
    <div class="postbody"><span class="postbody">No.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
