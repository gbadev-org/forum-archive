<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>frame rate and animation - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > frame rate and animation</h2>
<div id="posts">
<div class="post">
    <h4>#19903 - gbawiz - Tue Apr 27, 2004 9:17 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
Are there any tutorials which actually explain the purpose and use of sprite movement and animation.
<br/>
Is there anything which can explain "properly" the use of moving a sprite on the screen and updating it's frames.
<br/>
This subject seems to be quite a vague one wherever I look.
<br/>
<br/>
Thanks
<br/>
GBAWIZ</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19918 - dagamer34 - Wed Apr 28, 2004 12:24 am</h4>
    <div class="postbody"><span class="postbody">The easy, hacking way, is this:
<br/>
<br/>
You know there are ~60 frames each second (if you wait for a vsync each frame).
<br/>
<br/>
So, suppose you have 6 frames and want the animation to last 2 seconds. 
<br/>
<br/>
1) You would divide the number of frames by the number of seconds (6/2 = 3) which means that every second you would display 3 frames. 
<br/>
<br/>
2) Then you divide the number of frames each second by the number of frames you are going to display each second (60/3 = 20) and that gives you the number of GBA frames that should pass before you update to the next frame. 
<br/>
<br/>
3) Take this number and create a counter. Increment it each frame, and if
<br/>
the counter equals that number (in this case, 20), set the counter to 0 and load a new frame.
<br/>
<br/>
That's how I do it and it works pretty well.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19928 - crossraleigh - Wed Apr 28, 2004 2:42 am</h4>
    <div class="postbody"><span class="postbody">Some <a class="postlink" href="http://www.fastgraph.com/diana.html" target="_blank">rarely mentioned articles</a> by Diana Gruber have taught me a lot.
<br/>
<br/>
One idea I wondered about that you probably need not think about is of sharing entire animations between multiple sprites. Since even all of sprite RAM can be loaded in a  V-blank (about 40 lines to do a 32K DMA from ROM), it makes more sense to have each sprite load its own single frame. When it's time to switch to a new frame, load it into the same spot as before.
<br/>
<br/>
See also <a class="postlink" href="http://www.pineight.com/gba/managing-sprite-vram.txt" target="_blank">http://www.pineight.com/gba/managing-sprite-vram.txt</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19963 - Gopher - Thu Apr 29, 2004 12:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>crossraleigh wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Since even all of sprite RAM can be loaded in a V-blank (about 40 lines to do a 32K DMA from ROM), it makes more sense to have each sprite load its own single frame. When it's time to switch to a new frame, load it into the same spot as before. 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
This is true as long as there are less objects on-screen using this sprite than there are frames of animation for it.<br/>_________________<br/>"Only two things are infinite: the universe, and human stupidity. The first is debatable." -Albert Einstein</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20001 - crossraleigh - Thu Apr 29, 2004 6:32 pm</h4>
    <div class="postbody"><span class="postbody">Well, in memory usage, yes, it is less efficient to give each sprite it's own frame when there are more sprites than there are frames of animation. Nevertheless, some sort of reference counting must be implemented for sprites to share cel data (at least if the data is dynamically allocated), which is a pain, especially since 32K for 16bit graphics should be plenty.
<br/>
<br/>
So, if you can fit all your animations for a level in 32K, go for it. Do it before the level loads and the animations will be guaranteed to be there. If, however you need to allocate and delete cel data (like in most games), go with a single sprite to single frame match up.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
