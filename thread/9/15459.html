<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Executing code from VRAM - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > Executing code from VRAM</h2>
<div id="posts">
<div class="post">
    <h4>#155386 - strat - Tue Apr 29, 2008 12:31 am</h4>
    <div class="postbody"><span class="postbody">I think there's a topic where this is discussed and it's mentioned that Nintendo's own NES-to-GBA emulator probably has code in VRAM.
<br/>
<br/>
Watching the recreation of the <a class="postlink" href="http://www.youtube.com/watch?v=G27pO38Z3l0" target="_blank">hangar from Metal Gear Solid</a> made me wonder about using (as a last resort) a combination of self-modifying code and execution from VRAM as a fast way to render.  If the GBA can handle a scene like that, it could probably run a whole 1st gen PSX game like Jumping Flash.
<br/>
<br/>
It also might be possible to fake a frame buffer in tile mode since most of the textures only have a few colors (some polygons appear to be flood-filled), freeing up lots of VRAM.
<br/>
<br/>
Basically I'm new to 3D coding and want to create a good software engine for the GBA before moving to 3D hardware.  These ideas sound just twisted enough to work... is there anything to shoot them down?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155403 - sajiimori - Tue Apr 29, 2008 5:45 am</h4>
    <div class="postbody"><span class="postbody">If you're new to 3D coding, you should first make something that works, long before you think about something that works fast.  Even experienced coders don't go straight from 'nothing' to 'fast' -- it's a sure way to end up with broken, incomplete, and Just Plain Bad code.
<br/>
<br/>
But writing a software renderer sounds like a great idea, and the GBA is a fine platform for it.  I'd suggest developing it for your PC first, then porting it to the GBA.  That will give you more freedom to experiment, without worrying about CPU and memory limitations at first.  You'll also have access to much nicer tools that way, especially source-level debuggers.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155421 - silent_code - Tue Apr 29, 2008 1:49 pm</h4>
    <div class="postbody"><span class="postbody">sajiimori obviously knows what he's (i assume?) talking about. ;^)
<br/>
i can only recommend that approach!
<br/>
<br/>
also, note that code execution from vram has already been talked of on the forum, so you might want to search a bit. you will surely find some valuable information.
<br/>
<br/>
good luck with your project and happy coding! :^)
<br/>
<br/>
ps: i'm a bit fan of software rendering (although i haven't done it for a long time myself), so feel free to share your project by posting some progress info at some point! :^D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155442 - sgeos - Tue Apr 29, 2008 5:33 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">If you're new to 3D coding, you should first make something that works, long before you think about something that works fast.</td> </tr></table><span class="postbody">
<br/>
This applies to all coding, actually.  The fastest renderer that never got done is useless.  All you need is something that is "good enough" for what you are doing.  Sometimes the trial effort will be good enough, and other times something fast is needed.
<br/>
<br/>
You may have architectural reasons or other reasons to drop code in VRAM.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155464 - strat - Tue Apr 29, 2008 9:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">If you're new to 3D coding, you should first make something that works, long before you think about something that works fast.</td> </tr></table><span class="postbody">
<br/>
<br/>
Oh yeah.  I just like to know what's in the toolbox.  My first plan is to code in C, profile, redo algorithms, and then resort to asm and other esoteric ideas.
<br/>
<br/>
I've found the GBA easier to program on than the PC, because its brand of memory-mapped IO is more intuitive than sifting through all the APIs (But I plan on looking at Allegro).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155479 - kusma - Tue Apr 29, 2008 11:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>strat wrote:</b></span></td> </tr> <tr> <td class="quote">Oh yeah.  I just like to know what's in the toolbox.  My first plan is to code in C, profile, redo algorithms, and then resort to asm and other esoteric ideas.</td> </tr></table><span class="postbody">
<br/>
Sounds like a good plan. I'd love to hear the performance-reports you'll (hopefully) have.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155486 - sajiimori - Wed Apr 30, 2008 1:07 am</h4>
    <div class="postbody"><span class="postbody">SDL is quite simple for PC development as well, especially if you render using a 32-bit software surface.  Slow, but super easy for starters -- you can plot pixels by simply indexing into the framebuffer as a u32 array, and there's not even a palette to deal with.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
