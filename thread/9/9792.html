<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sprite limitations? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > Sprite limitations?</h2>
<div id="posts">
<div class="post">
    <h4>#85988 - Dwedit - Sat Jun 03, 2006 6:38 pm</h4>
    <div class="postbody"><span class="postbody">Does the GBA have sprite limitations per scanline, and is there any way to intentionally trigger this?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86006 - DiscoStew - Sat Jun 03, 2006 8:02 pm</h4>
    <div class="postbody"><span class="postbody">You've got a limit of 128 sprites altogether (due to the hardware only allowing that much), but that is on a per scanline basis. You can get more sprites on the screen, but not all on the same scanline, where the limit will always be 128. You can allow changes to the sprites during each H-Blank by setting bit 5 on the Display Controller at address 0x04000000, or DISPCNT if you are using the usual gba.h file in your project.
<br/>
<br/>
For other things you might need, like learning about other sprite information, I suggest looking through the GBATek documentation at 
<br/>
<br/>
<a href="http://www.work.de/nocash/gbatek.htm" target="_blank">http://www.work.de/nocash/gbatek.htm</a><br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86026 - tepples - Sat Jun 03, 2006 11:29 pm</h4>
    <div class="postbody"><span class="postbody">If you have more than about 950 sprite pixels per scanline, it'll start dropping the rearmost sprites (like the NES). A rot/scale sprite pixel is worth 3.25 regular sprite pixels.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86029 - Dwedit - Sat Jun 03, 2006 11:46 pm</h4>
    <div class="postbody"><span class="postbody">Any more precise numbers?  I'd like to somehow turn the sprite limit into an 8 sprite limit.  (yeah, it's for PocketNES...)<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86030 - poslundc - Sat Jun 03, 2006 11:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">Any more precise numbers?</td> </tr></table><span class="postbody">
<br/>
<br/>
<a href="http://nocash.emubase.de/gbatek.htm#lcdobjoverview" target="_blank">http://nocash.emubase.de/gbatek.htm#lcdobjoverview</a>
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86037 - Dwedit - Sun Jun 04, 2006 12:40 am</h4>
    <div class="postbody"><span class="postbody">Alright, thanks for the link.  What's the way to acomplish a 64 pixel limit each scanline with the fewest sprites?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86042 - tepples - Sun Jun 04, 2006 12:58 am</h4>
    <div class="postbody"><span class="postbody">You can probably use HDMA to overwrite the first eight sprites in OAM after each scanline. This will also give you "perfect" flicker-scaling for sprites.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86069 - Dwedit - Sun Jun 04, 2006 5:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">You can probably use HDMA to overwrite the first eight sprites in OAM after each scanline. This will also give you "perfect" flicker-scaling for sprites.</td> </tr></table><span class="postbody">
<br/>
<br/>
Yowza!  That would take a ton of CPU time to do something like that.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86113 - tepples - Sun Jun 04, 2006 3:04 pm</h4>
    <div class="postbody"><span class="postbody">If you want PocketNintendulator instead of PocketNesticle, you're going to have to pay the CPU cycle cost of making PocketNintendulator. This mod may be more suitable for nesDS.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#88043 - Dwedit - Sat Jun 17, 2006 5:26 am</h4>
    <div class="postbody"><span class="postbody">I just tested out the effects of overloading the GBA rendering hardware with many large scaled sprites.  It did manage to do a sprite limit to any additional sprites, but the effect was very bad.  Things flickered a lot, and the effect was not consistent each scanline.  I tried to make it so that the number of remaining clock cycles was exactly enough to render 8 more sprites, but it still worked poorly.
<br/>
Also, the scaled sprites can not be placed offscreen.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
