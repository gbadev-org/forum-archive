<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Charas-project for PAGfx - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > Charas-project for PAGfx</h2>
<div id="posts">
<div class="post">
    <h4>#174352 - padnoter - Wed Jun 02, 2010 6:30 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I've recently found <a class="postlink" href="http://www.charas-project.net/charas2" target="_blank">http://www.charas-project.net/charas2</a> which is excellent, but only seems to produce a 3x4 sheet of 24x32 sprites. I'm using palib/PAGfx which (as far as I can see) requires 32x32 sprites in a one column sheet.
<br/>
<br/>
Does anyone know how to either get charas to save as a 1x12 sheet in 32x32 or does anyone have an easy way to convert the 3x4 sheet into a PAGfx friendly format? I can do it in GIMP, but it takes me a while of cutting &amp; pasting (fiddly pixel line up etc).
<br/>
<br/>
Any ideas/help appreciated?
<br/>
<br/>
Thanks
<br/>
pn.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174447 - padnoter - Sun Jun 13, 2010 10:48 am</h4>
    <div class="postbody"><span class="postbody">Scripted it in PHP in the end. Code is here, just in case it helps anyone;
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
&lt;?php
<br/>
echo "start conversion\n";
<br/>
$fileext='.png';
<br/>
$filein='/opt/devkitpro/PAlib/pl_development_area/LargeMaps2d/gfx/soldier';
<br/>
$fileout=$filein."out2".$fileext;
<br/>
$filein.=$fileext;
<br/>
echo $filein."\n=&gt;\n".$fileout."\n";
<br/>
$im = imagecreate(32, 288)
<br/>
    or die("Cannot Initialize new GD image stream");
<br/>
$magenta_background = imagecolorallocate($im, 255, 0, 248);
<br/>
$imin = imagecreatefrompng($filein); 
<br/>
$dsty=0;
<br/>
if (imagecopy($im,$imin,4,$dsty,24,0,24,32))
<br/>
   echo "sprite 2 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,0,0,24,32))
<br/>
   echo "sprite 1 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,48,0,24,32))
<br/>
   echo "sprite 3 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,24,32,24,32))
<br/>
   echo "sprite 5 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,0,32,24,32))
<br/>
   echo "sprite 4 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,48,32,24,32))
<br/>
   echo "sprite 6 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,24,64,24,32))
<br/>
   echo "sprite 8 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,0,64,24,32))
<br/>
   echo "sprite 7 copied\n";
<br/>
$dsty+=32;
<br/>
if (imagecopy($im,$imin,4,$dsty,48,64,24,32))
<br/>
   echo "sprite 9 copied\n";
<br/>
$green = imagecolorclosest ( $im,  32, 156,0 ); // get green colour
<br/>
imagecolorset($im,$green,255, 0, 248); // change green to MAGENTA
<br/>
echo "change green background to magenta\n";
<br/>
if (imagepng($im,$fileout))
<br/>
   echo "created\n";
<br/>
?&gt;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Couldn't see how to attach example graphic files.
<br/>
<br/>
<br/>
cheers</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
