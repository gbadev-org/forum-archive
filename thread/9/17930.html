<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Is there any advantage using mode 4 over mode 0 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > Is there any advantage using mode 4 over mode 0</h2>
<div id="posts">
<div class="post">
    <h4>#177826 - Bregalad - Sun Mar 24, 2013 12:56 pm</h4>
    <div class="postbody"><span class="postbody">I mean, if you want full screen 256-colours graphics, it is POSSIBLE with mode 0 (just use a dummy tile-map and 30x20 256 colour tiles), and you get 3 extra BGs for other stuff, while in mode 4 you only have one BG.
<br/>
<br/>
It uses a LITTLE mode VRAM because of the need of the dummy tilemap unfortunately, but that's really the only disadvantage I see.
<br/>
<br/>
The only real inconvenient I'd see is that it would be slightly harder to address pixels. Instead of doing
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">screen[240*y + x] = pixel;</td> </tr></table><span class="postbody">
<br/>
<br/>
You'd have to do :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">coarse_x = x &amp; ~7;
<br/>
fine_x = x &amp; 7;
<br/>
coarse_y = y &amp; ~7;
<br/>
finy_y = y &amp; 7;
<br/>
screen[64 * (30 * coarse_y + coarse_x) + 8*fine_y + fine_x] = pixel;</td> </tr></table><span class="postbody">
<br/>
<br/>
Slightly more complicated, but considering the ARM processor and all it's barrelshift instructions, it won't hurt performance all that much.
<br/>
<br/>
The fact that you could still use 3 BGs for other 2D graphics that don't have to be rendered in soft can be a huge plus.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#177827 - Dwedit - Sun Mar 24, 2013 3:02 pm</h4>
    <div class="postbody"><span class="postbody">The only advantage is that you get two independent screen buffers to switch between.  Mode 0 only gives you 1 screen buffer worth of graphics, plus 26.5k of additional graphics memory for other uses.  (Plus the cost of the tilemap)
<br/>
<br/>
Mode 0 is better because you can use another layer for overlays and you can also use sprites, but only mode 4 gives you two complete 8-bit buffers to page flip between, even though you lose sprites.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#177828 - Bregalad - Sun Mar 24, 2013 3:19 pm</h4>
    <div class="postbody"><span class="postbody">DMA is your friend, just have one (or 2) buffers in RAM, and send them to the screen by DMA.
<br/>
<br/>
Also I'm pretty sure I saw demoes use mode 4 and sprites at the same time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#177829 - sverx - Mon Mar 25, 2013 10:43 am</h4>
    <div class="postbody"><span class="postbody">According to GBATek:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">OBJ Tiles are stored in a separate area in VRAM: 06010000-06017FFF (32 KBytes) in BG Mode 0-2, or 06014000-06017FFF (16 KBytes) in BG Mode 3-5.</td> </tr></table><span class="postbody">
<br/>
so I guess you can have sprites even when using mode 4.<br/>_________________<br/><a class="postlink" href="http://bit.ly/yiQrz9" target="_blank">libXM7</a>|<a class="postlink" href="http://bit.ly/yJwcOo" target="_blank">NDS programming tutorial (Italiano)</a>|<a class="postlink" href="http://disjointedstudio.blogspot.com/" target="_blank">Waimanu DS / GBA</a>|<a class="postlink" href="http://adshomebrewersdiary.blogspot.com" target="_blank">A DS Homebrewer's Diary</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#177845 - Bregalad - Sat Apr 06, 2013 3:57 pm</h4>
    <div class="postbody"><span class="postbody">If the tiles are laid out vertically (that is, tiles 0-19 are column 0, 20-39 are column 1, etc...) instead of horizontally, the pixel access can be simplified further, as there is no need to separate file and coarse Y scroll :
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
coarse_x = x &amp; ~7; 
<br/>
fine_x = x &amp; 7; 
<br/>
screen[64 * 20 * coarse_x + 8*y + fine_x] = pixel;</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
