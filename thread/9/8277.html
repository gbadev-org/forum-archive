<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>gfx2gba problem, 32x32 tiles. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > gfx2gba problem, 32x32 tiles.</h2>
<div id="posts">
<div class="post">
    <h4>#68607 - razialx - Thu Jan 26, 2006 12:41 am</h4>
    <div class="postbody"><span class="postbody">I am trying to use gfx2gba to convert a sprite sheet I have made up into something useable. I am using HAM/HEL2 for development.
<br/>
<br/>
The problem is, when I use any setting other than -t8 I get garbage as my sprite output. 
<br/>
<br/>
My image is 320x320, so its 10 x 10 sprites.
<br/>
<br/>
When I use -t8, my first sprite is made up of the top 16 8x8 blocks in the image, even (with HEL object created as a 32x32 sprite).
<br/>
<br/>
My string used to create image:
<br/>
gfx2gba -t32 -c256  -fraw -ogfx -pcharacter.pal ./sourcegfx/character.bmp
<br/>
<br/>
My creation code
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
g_Handle = hel_ObjCreate(
<br/>
                     ResData(RES_CHARACTER_RAW), // Pointer to source graphic
<br/>
<br/>
                OBJ_SHAPE_SQUARE,       // Obj Shape
<br/>
                     2 ,                      // Obj Size, 1 means 16x16 pixels, if Shape is set to SQUARE
<br/>
                     OBJ_MODE_NORMAL,        // Obj Mode
<br/>
                     COLORS_256,             // Use 256 color mode
<br/>
                     0,                      // Palette number. Only neccessary in 16 color mode
<br/>
                     FALSE,                  // Don't use mosaic
<br/>
                     FALSE,                  // Don't flip the sprite vertically
<br/>
                     FALSE,                  // Don't flip the object horizontally
<br/>
                     0,                      // Priority against background. 0=higest
<br/>
                     FALSE,                  // Don't make the object double-sized
<br/>
                     50,                     // Destination horzintal screen coordinate in pixels
<br/>
                     20                      // Destination vertical screen coordinate in pixels
<br/>
                  );
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
If anyone has any idea what I am doing wrong, please let me know. Thank you. 
<br/>
<br/>
This is what I get displayed with -t32
<br/>
<a href="http://img68.imageshack.us/img68/3645/razdemo9wn.gif">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68669 - Cearn - Thu Jan 26, 2006 9:48 am</h4>
    <div class="postbody"><span class="postbody">Not really familiar with gfx2gba, but I think this is the problem. The <span style="font-style: italic">-t</span> option sets the primary tile size, which in the GBA's case should always be 8. For the larger 'tiles' you need the metatile size, <span style="font-style: italic">-T</span>. Try <span style="font-style: italic">-T32 -t8</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gfx2gba readme wrote:</b></span></td> </tr> <tr> <td class="quote">Q: metatiling? wow! cool name for a feature, BUT WHAT THE HELL IS IT?!
<br/>
A: it more or less means that your input gfx will get tiled twice. for
<br/>
   example my game "engine" is building large objects from 16x16 sprites.
<br/>
   but 16x16 sprites have to made from 8x8 data internally anyway. so
<br/>
   with a normal tool you have to group your objects in 16xY gfx to get
<br/>
   a good result. now here comes metatiling into play: it first tiles
<br/>
   your gfx into X*X and then in Y*Y. so -T16 -t8 will split up the gfx
<br/>
   into 16x16 blocks first and then this blocks into 8x8 blocks ...
<br/>
   i hope you get the idea ... :-)</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68925 - razialx - Fri Jan 27, 2006 12:22 pm</h4>
    <div class="postbody"><span class="postbody">WOW! Thank you so much. That worked perfectly.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
