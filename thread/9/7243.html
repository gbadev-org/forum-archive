<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>From Mode4 to ... something else? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Graphics > From Mode4 to ... something else?</h2>
<div id="posts">
<div class="post">
    <h4>#58216 - thegamefreak0134 - Fri Oct 21, 2005 6:26 pm</h4>
    <div class="postbody"><span class="postbody">Here's my problem. I need sprites to appear behind part of my background. I want to simply create two backgrounds and put one in front of sprites and one behind. Sounds simple enough. Problem is, I'm only familiar with mode4 backgrounds. I don't want to use tiles, I just need two backgrounds that I can use plain old pictures in. Can someone explain to me the most painfree way to make the switch?
<br/>
<br/>
On another note, how does one go about setting the depth of backgrounds?
<br/>
<br/>
Thanx in advance.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58224 - tepples - Fri Oct 21, 2005 8:18 pm</h4>
    <div class="postbody"><span class="postbody">If you want to stay in mode 4, you'll need to make a pseudo-layer out of sprites that stay in the same position from frame to frame.
<br/>
<br/>
You set the z-index of a background in the BGCTRL registers (check GBATEK for which bit you need to set, and gba_video.h if you're using libgba).
<br/>
<br/>
You set the z-index of a sprite in attribute 2.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58304 - Cearn - Sat Oct 22, 2005 1:29 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">If you want to stay in mode 4, you'll need to make a pseudo-layer out of sprites that stay in the same position from frame to frame. </td> </tr></table><span class="postbody">
<br/>
But in order to make a psuedo-lay of sprites, you need to go use tiles anyway, so you might as well do the whole thing in tilemaps anyway.
<br/>
Is there any reason you don't want to use tiles? It's really not that hard. If you know how to work with sprites, you're halfway to understanding tilemaps anyway. There is no conceptual difference between the two, just where you have to put what.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">... z-index ...</td> </tr></table><span class="postbody">
<br/>
Also know as priority. High valued priorities are draw first, so are more on the background. If you want to have sprites with different priorities, you need to be aware of this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>GBATek, OAM attributes wrote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-weight: bold">Priority</span>
<br/>
In case that the 'Priority relative to BG' is the same than the priority of one of the background layers, then the OBJ becomes higher priority and is displayed on top of that BG layer.
<br/>
Caution: Take care not to mess up BG Priority and OBJ priority. For example, the following would cause garbage to be displayed:
<br/>
  OBJ No. 0 with Priority relative to BG=1   ;hi OBJ prio, lo BG prio
<br/>
  OBJ No. 1 with Priority relative to BG=0   ;lo OBJ prio, hi BG prio
<br/>
<br/>
<br/>
That is, OBJ0 is always having priority above OBJ1-127, so assigning a lower BG Priority to OBJ0 than for OBJ1-127 would be a bad idea.</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58557 - thegamefreak0134 - Mon Oct 24, 2005 4:33 pm</h4>
    <div class="postbody"><span class="postbody">Ok, let me elaborate. I understand priority and such. I simply need to know an easy way to take my fullscreen stills and use them both in the same mode. I tried simply switching modes and pointing my image to a different bg, but I got garbage. I figure the resolution/color-depth was different or something silly like that.
<br/>
<br/>
I'm not scared of tiles, it just seems silly to use them when (as of now) my entire program has a whopping 2 backgrounds that are completely different all over.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58558 - strager - Mon Oct 24, 2005 4:41 pm</h4>
    <div class="postbody"><span class="postbody">If you need to use tiles, I have to methods in mind.
<br/>
<br/>
One is where you use the palette to write a fake bitmap.  You have your tile map set up to every line goes 01234567, 89ABCDEF, .... on to 239 (screen width).  Since you have two bitmaps, and they probably don't use most of the same colors, this isn't the best way to do it.
<br/>
<br/>
The other is using the above but use only 128 indexes for each bitmap, and if you need full color, steal 224 colors of the sprites' palette.  This leaves you with only 32 sprite colors to work with, which may be enough, or may not.
<br/>
<br/>
Both methods have their ups and downs, but if you have low-color sprites, use the second method for best results.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58559 - thegamefreak0134 - Mon Oct 24, 2005 4:44 pm</h4>
    <div class="postbody"><span class="postbody">Um... I don't need to use tiles...
<br/>
<br/>
I can't use either method because (due to the nature of the game) I need to use ALL of my sprites in 256 color mode. (meaning that the same large amount of colors is shared among sprites.) It simply wouldn't work otherwise.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58561 - strager - Mon Oct 24, 2005 4:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote">Um... I don't need to use tiles...
<br/>
<br/>
I can't use either method because (due to the nature of the game) I need to use ALL of my sprites in 256 color mode. (meaning that the same large amount of colors is shared among sprites.) It simply wouldn't work otherwise.</td> </tr></table><span class="postbody">
<br/>
<br/>
That sucks.  I don't know any other method, other than alpha-blending two layers, which would be hard to calculate.  Sorry.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58562 - thegamefreak0134 - Mon Oct 24, 2005 4:56 pm</h4>
    <div class="postbody"><span class="postbody">Why do I need to alpha blend? Why can't I just use two backgrounds with the one on top having a transparent color? Thats all I need. I just need sprites to appear in-between them, thats all. I want to learn the basics first, if thats alright... (:-))  Its a puzzle game.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58567 - poslundc - Mon Oct 24, 2005 5:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote">Ok, let me elaborate. I understand priority and such. I simply need to know an easy way to take my fullscreen stills and use them both in the same mode. I tried simply switching modes and pointing my image to a different bg, but I got garbage. I figure the resolution/color-depth was different or something silly like that.</td> </tr></table><span class="postbody">
<br/>
<br/>
Or maybe tile modes interpret data differently from bitmap modes. You've been posting here since April; it's high time you <a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/toc.htm" target="_blank">read a tutorial</a> already.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I'm not scared of tiles, it just seems silly to use them when (as of now) my entire program has a whopping 2 backgrounds that are completely different all over.</td> </tr></table><span class="postbody">
<br/>
<br/>
It seems a lot less silly when you consider the fact that you can't have multiple backgrounds in the bitmap modes. Which, as any tutorial will tell you, is why most games don't use the bitmap modes.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58585 - Miked0801 - Mon Oct 24, 2005 7:01 pm</h4>
    <div class="postbody"><span class="postbody">Ok, all Bitmap modes on the GBA are hacks.  The hardware doesn't like it, and for the most part, developers don't use it.  Why?  It takes too much away from the video hardware for almost no gain.  For the ability to use a flat bitmap as a picture you lose:
<br/>
* 1/2 of your sprite vram
<br/>
* Wrapping of bgs
<br/>
* Multiple bg layers with seperate scrolling
<br/>
* Much more BG VRAM than you should for the given graphics.
<br/>
* 4-bit graphics which 99% of the time easily suffice
<br/>
* Windowing (as no layers)
<br/>
<br/>
Take the time (a day or two at most) to learn tile modes.  You'll be much more effective.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58589 - Cearn - Mon Oct 24, 2005 7:34 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 9px; line-height: normal">yeah, yeah, crosspost. And sorry to pile up on you like this, but it needs to be said</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote">Why do I need to alpha blend? Why can't I just use two backgrounds with the one on top having a transparent color? Thats all I need. I just need sprites to appear in-between them, thats all. </td> </tr></table><span class="postbody">
<br/>
But you can only have one background in the bitmap modes; if you need to, you <span style="font-style: italic">have</span> to use tile-modes. (Or use a fake bg made from sprites, or do everything in software which is going to kill you.r performance; but these would still use only one real bg.)
<br/>
<br/>
All paletted bgs are transparent for 0-valued pixels; but in mode 4 you usually don't notice because there's nothing to show behind it except the backdrop. In tile modes you can see the transparency more clearly because you have 4 backgrounds. Anyway, to have sprites between two backgrounds you don't need alpha blend, just 2 backgrounds and sprites with the right priorities set.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I'm not scared of tiles, it just seems silly to use them when (as of now) my entire program has a whopping 2 backgrounds that are completely different all over. </td> </tr></table><span class="postbody">
<br/>
It seems a lot less silly when you consider the fact that you can't have multiple backgrounds in the bitmap modes.</span></td> </tr></table><span class="postbody">
<br/>
And that you have only half the number of sprite tiles in bitmap modes. 
<br/>
<br/>
I recently added some tile-map functionality in <a class="postlink" href="http://user.chem.tue.nl/jakvijn/downloads.htm" target="_blank">usenti</a>'s GBA exporter. Open the two images you have, export with a map (preferably with tile reduction) and you'll have a palette, a tileset and a map, ready and formatted for the tile-modes in only a few clicks.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote">I tried simply switching modes and pointing my image to a different bg, but I got garbage. I figure the resolution/color-depth was different or something silly like that. </td> </tr></table><span class="postbody">
<br/>
There is <span style="font-weight: bold">no</span> reason to expect this would have worked. They're called different modes because they act in completely different ways. That's not silly, that's exactly the point of having different modes. Remember, computers do <span style="font-style: italic">exactly</span> what you tell them to do; if you don't know what you're doing, how could they?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58595 - thegamefreak0134 - Mon Oct 24, 2005 7:50 pm</h4>
    <div class="postbody"><span class="postbody">I love being a newbie. It's so fun to post a question and have 17 different people give you ways to solve it. It's even more fun to try to figure out what the heck you're talking about. However, the feeling you get when it actually works right is quite astounding and cannot be replaced. You guys are all wonderful, and without you my life would be far from complete.
<br/>
<br/>
[/sappiness] That having been said, does this tool you recommended mean I can follow any standard tutorial on tile maps and the resultant tile map will be (look, rather) just as if I had used a Bitmapped mode? (well, kind of?)<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58598 - Cearn - Mon Oct 24, 2005 8:08 pm</h4>
    <div class="postbody"><span class="postbody">We've all been there I suppose :P But generally speaking, it's wise to look at tutorials (and the FAQ!) before you start posting.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">[/sappiness] That having been said, does this tool you recommended mean I can follow any standard tutorial on tile maps and the resultant tile map will be (look, rather) just as if I had used a Bitmapped mode? (well, kind of?)</td> </tr></table><span class="postbody">
<br/>
Should work, yeah ... if you use the right setting, of course. Strictly Garbage In, Garbage Out principle. Screenblocks are 32 tiles wide while the screen, and the pictures are probably 240 pixels (30 tiles) wide, which has to be accounted for somehow. And you have to set the bitdepth and such. I'm sorry that I don't have an example worked out for it yet, I will when I have the time. But make sure you have some understanding of how tile-modes work <span style="font-style: italic">before</span> you start fooling around.
<br/>
<br/>
And in case you haven't got them already, get Cowbite spec and GBATek. And the FAQ.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
