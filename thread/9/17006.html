<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Background problems - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > Background problems</h2>
<div id="posts">
<div class="post">
    <h4>#171654 - Tripwire999 - Tue Dec 08, 2009 10:06 pm</h4>
    <div class="postbody"><span class="postbody">Hi guys,
<br/>
<br/>
I just started programming the GBA as a project for school. Now i'm having some problems with the background not showing up correctly.
<br/>
<br/>
This is my test background image:
<br/>
<a class="postlink" href="http://img99.imageshack.us/i/testpms.png/" target="_blank">http://img99.imageshack.us/i/testpms.png/</a>
<br/>
<br/>
And here is my GBA file how it's showing up in visualboy advance:
<br/>
<br/>
<a class="postlink" href="http://www.mediafire.com/?jdenmyzymgd" target="_blank">http://www.mediafire.com/?jdenmyzymgd</a>
<br/>
<br/>
I'm using usenti for this. I wanna know if this is a code problem or an export problem? An if it's a code problem how do i solve it? (i will post the code if it is necessary)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171658 - Cearn - Wed Dec 09, 2009 10:35 am</h4>
    <div class="postbody"><span class="postbody">I think this is an export problem (or perhaps an export<span style="font-style: italic">er</span> problem). The image is mostly correct; only some edges are flipped. You've probably used incompatible exporter settings for your affine background. The problem is that affine backgrounds cannot use the full set of tile reduction options (no pal/flip flags). To fix it, use 'affine' with 'pal'/'flip' unchecked, use a regular background instead.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171659 - Dwedit - Wed Dec 09, 2009 10:47 am</h4>
    <div class="postbody"><span class="postbody">The tiles look like they require horizontal and vertical flipping, and that stuff is not provided by the rotation and scaling video modes.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171661 - Tripwire999 - Wed Dec 09, 2009 2:20 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cearn wrote:</b></span></td> </tr> <tr> <td class="quote">I think this is an export problem (or perhaps an export<span style="font-style: italic">er</span> problem). The image is mostly correct; only some edges are flipped. You've probably used incompatible exporter settings for your affine background. The problem is that affine backgrounds cannot use the full set of tile reduction options (no pal/flip flags). To fix it, use 'affine' with 'pal'/'flip' unchecked, use a regular background instead.</td> </tr></table><span class="postbody">
<br/>
<br/>
thx man that worked!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171677 - Tripwire999 - Sun Dec 13, 2009 1:10 pm</h4>
    <div class="postbody"><span class="postbody">Guys i don't get it i still got problems with backgrounds still not showing up properly. I'm using mode 2. Same problem as before! I'm using a 512x512. Map is
<br/>
<br/>
<br/>
<a class="postlink" href="http://img213.imageshack.us/i/spacemap.png/" target="_blank">http://img213.imageshack.us/i/spacemap.png/</a>
<br/>
<br/>
gba file:
<br/>
<a class="postlink" href="http://www.mediafire.com/?edekcjzgjmj" target="_blank">http://www.mediafire.com/?edekcjzgjmj</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171678 - Cearn - Sun Dec 13, 2009 2:22 pm</h4>
    <div class="postbody"><span class="postbody">You've run out of tiles. Affine tilemaps only allow 256 unique tiles and it seems your background has about 700 (the generated files should have the exact number). The image may be mostly empty, but the complexity of the planets means that pretty much every one of their tiles will be unique, bumping up the tile-count. 
<br/>
<br/>
You can try to reduce the complexity, but a better option would be to use text backgrounds, which allow for 1024 unique tiles (and pal-swapping and flipping). Unless you're actually going to use rotations or something, using an affine BG might not be good idea.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171679 - Tripwire999 - Sun Dec 13, 2009 2:26 pm</h4>
    <div class="postbody"><span class="postbody">ah so that is the problem. Now i don't know what text backgrounds are can you explain a bit or is it explained in the tonc manual?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171680 - Cearn - Sun Dec 13, 2009 4:21 pm</h4>
    <div class="postbody"><span class="postbody">Text BG == <a class="postlink" href="http://www.coranac.com/tonc/text/regbg.htm" target="_blank">regular BG.</a>. Since your background is 512x512 in size, export in 'sbb' layout to avoid problems with the awkward <a class="postlink" href="http://www.coranac.com/tonc/text/regbg.htm#ssec-map-layout" target="_blank">map layout</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171684 - Tripwire999 - Sun Dec 13, 2009 8:43 pm</h4>
    <div class="postbody"><span class="postbody">well i tryed exporting with sbb layout, now the background is completely messed up. 
<br/>
<br/>
<br/>
EDIT:
<br/>
<br/>
Fixed the problem</span><span class="gensmall"><br/><br/>Last edited by Tripwire999 on Tue Dec 22, 2009 2:24 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#171689 - Cearn - Mon Dec 14, 2009 11:22 am</h4>
    <div class="postbody"><span class="postbody">When changing the type of graphics data, you should also change the video settings to match (in this case, video mode and background control).</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
