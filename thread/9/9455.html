<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>mode 7 and vectors... the balance - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > mode 7 and vectors... the balance</h2>
<div id="posts">
<div class="post">
    <h4>#81996 - DakeDesu - Wed May 03, 2006 9:53 am</h4>
    <div class="postbody"><span class="postbody">A thought occured to me in a thread where somebody claimed they had a super compression program (in one of the coding forums I believe). Some body suggested the compression program might be vector based.
<br/>
<br/>
Well then I thought of something... in a mode, such as mode 7, could memory be freed by using vectors in areas where tiles normally be used? If so, what would the general balance be?<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82021 - poslundc - Wed May 03, 2006 3:48 pm</h4>
    <div class="postbody"><span class="postbody">Huh? The mode 7 technique is still a normal tile background mode; it just has a raster effect applied to it every scanline to give it the illusion of perspective.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82108 - tepples - Thu May 04, 2006 1:01 am</h4>
    <div class="postbody"><span class="postbody">Yes, you can free ROM by generating your tile data from vectors. No, you cannot free RAM to use more than 256 tiles on one layer.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82111 - DakeDesu - Thu May 04, 2006 1:41 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">Huh? The mode 7 technique is still a normal tile background mode; it just has a raster effect applied to it every scanline to give it the illusion of perspective.</td> </tr></table><span class="postbody">
<br/>
<br/>
Never said it was.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Yes, you can free ROM by generating your tile data from vectors. No, you cannot free RAM to use more than 256 tiles on one layer.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ah, thanks. I wasn't necessarily thinking of using more than 256 tiles per a layer. Using tiles where vectors would be cheaper just seemed like an interesting idea to me.<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82204 - poslundc - Thu May 04, 2006 4:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DakeDesu wrote:</b></span></td> </tr> <tr> <td class="quote">Ah, thanks. I wasn't necessarily thinking of using more than 256 tiles per a layer. Using tiles where vectors would be cheaper just seemed like an interesting idea to me.</td> </tr></table><span class="postbody">
<br/>
<br/>
You realize that you can't use vectors <span style="font-style: italic">instead</span> of tiles, though, right? Not at the phase where Mode 7 actually happens, anyway.
<br/>
<br/>
Even if you store vectors instead of tile data on the ROM, you will still have to render your vectors into tile data, and consume just as much VRAM as you would have otherwise.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82233 - DakeDesu - Thu May 04, 2006 6:19 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DakeDesu wrote:</b></span></td> </tr> <tr> <td class="quote">Ah, thanks. I wasn't necessarily thinking of using more than 256 tiles per a layer. Using tiles where vectors would be cheaper just seemed like an interesting idea to me.</td> </tr></table><span class="postbody">
<br/>
<br/>
You realize that you can't use vectors <span style="font-style: italic">instead</span> of tiles, though, right? Not at the phase where Mode 7 actually happens, anyway.
<br/>
<br/>
Even if you store vectors instead of tile data on the ROM, you will still have to render your vectors into tile data, and consume just as much VRAM as you would have otherwise.
<br/>
<br/>
Dan.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I never suggested tiles wouldn't be used. As per VRAM not being used. In my mind, I am pretty much thinking that is a constant anyways. Hmm... I am having difficulties getting my thoughts out here.
<br/>
<br/>
The idea is that some of the artwork for a mode 7 game could be represented by Vectors instead of tiles. Now, the tiles would still exist in memory, just there would also be vector artwork displaying more complex art... or would that be less complex art... I am not sure.
<br/>
<br/>
I will go on in this post, but I doubt I'll make sense.
<br/>
<br/>
The idea would be to draw onto one of the backgrounds vector area in a manner like:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
while(path) {
<br/>
   x = getx(path)
<br/>
   y = gety(path)
<br/>
<br/>
   position = y * screen_width + x
<br/>
   next(path)
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
where path would contain the image I'd want to draw. The tiles would either be drawn before or after this, depending on the wanted effect.
<br/>
<br/>
I am just wondering if a marriage of these two ideas would work, and some opinions on where the best balance would be on having mode 7 tiles and having vector art for thing that would take up less memory as vector artwork then as sprites.[/code]<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82234 - tepples - Thu May 04, 2006 6:30 pm</h4>
    <div class="postbody"><span class="postbody">First, you'd have to render the vectors onto a bitmap. Then you'd convert the bitmap to tiles and coalesce redundant tiles. Finally you'd build the map out of these tiles.
<br/>
<br/>
Or you could use an extended rotation background (GBA modes 3-5) and not have to worry about tiles, but in that case, the total size of your map is smaller, and it won't wrap.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82236 - DakeDesu - Thu May 04, 2006 6:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">First, you'd have to render the vectors onto a bitmap. Then you'd convert the bitmap to tiles and coalesce redundant tiles. Finally you'd build the map out of these tiles.
<br/>
<br/>
Or you could use an extended rotation background (GBA modes 3-5) and not have to worry about tiles, but in that case, the total size of your map is smaller, and it won't wrap.</td> </tr></table><span class="postbody">
<br/>
<br/>
I was under the impression that 3, 4, 5 were modes for double (or triple) buffering (with five being useless for anything other than FMV), and  that with modes 1, 2, 3 each had one background layer, as well as the tiling layers.<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82240 - tepples - Thu May 04, 2006 6:43 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DakeDesu wrote:</b></span></td> </tr> <tr> <td class="quote">I was under the impression that 3, 4, 5 were modes for double (or triple) buffering (with five being useless for anything other than FMV), and  that with modes 1, 2, 3 each had one background layer, as well as the tiling layers.</td> </tr></table><span class="postbody">
<br/>
Yes, modes 4 and 5 can be double buffered, but modes 3-5 can also be scaled and rotated in the same way as rot/scale layers. Mode 3 can also be double buffered if you scale it first.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82248 - DakeDesu - Thu May 04, 2006 7:41 pm</h4>
    <div class="postbody"><span class="postbody">Does the DS have about five gazillion different modes for graphics each with their own little quirks and nuances? Or do I have to wait until the next portable?
<br/>
<br/>
So, if I get this straight I can only use tiles or just straight pixel pushing? Well, I guess considering the hardware limitations, but... er... uh... my head hurts.
<br/>
<br/>
Anyways, this must make me look really stupid asking this... why cannot there be a libSDL wrapper available for GBA?<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82262 - kusma - Thu May 04, 2006 9:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DakeDesu wrote:</b></span></td> </tr> <tr> <td class="quote">Anyways, this must make me look really stupid asking this... why cannot there be a libSDL wrapper available for GBA?</td> </tr></table><span class="postbody">
<br/>
<br/>
there can, but it would be slower and more aggressive on memory-usage, simply because libsdl gives guarantees that the gba-hardware doesn't. you'd end up with a full software-emulation with a copy-pass in the end, more or less.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82270 - DakeDesu - Thu May 04, 2006 10:13 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for reminding me about how much memory libSDL takes up. Yeah, I guess the guaruntees it would make are a bit much.
<br/>
<br/>
Okay, I think this thread has lived past being useful.<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
