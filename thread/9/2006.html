<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>MapEd094 Examples, Anyone? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > MapEd094 Examples, Anyone?</h2>
<div id="posts">
<div class="post">
    <h4>#10379 - goro - Wed Sep 03, 2003 5:13 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
Are there any code examples/tutorials that demonstrate exactly how the output files from MapEd094 are used?
<br/>
<br/>
It seems to output 5 files :-
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
mapheaders.h
<br/>
palout.cpp
<br/>
tilesout.cpp
<br/>
mapout.cpp
<br/>
collisionout.cpp
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Please help me obi wan kenobi - you're my only hope</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10385 - jenswa - Wed Sep 03, 2003 7:40 pm</h4>
    <div class="postbody"><span class="postbody">I don't know if there are any samples out, but did you take a look in those files?
<br/>
<br/>
They same to have logical names, mapheaders.h, this file must have some headers, like size and type of map.
<br/>
And so on for the rest.<br/>_________________<br/>It seems this wasn't lost after all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10415 - goro - Thu Sep 04, 2003 11:46 am</h4>
    <div class="postbody"><span class="postbody">It contains
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//Â  File generated by: Map Ed v0.94 Lite
<br/>
<br/>
extern const u16 backgroundPalette[256];
<br/>
extern const u16 bgTiles[816]; // num tiles: 51
<br/>
extern const u16 BG_Layer0_map[1024]; // 32 x 32
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm a newbie but I think these are external constant unsigned integer arrays. I think these will store the map, palette and tile data that will be transferred to vram and stuff. 
<br/>
<br/>
But why are they in a seperate header file?
<br/>
is it not enough to just have them in their respective output files ie:-
<br/>
<br/>
mapout.cpp contains
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">const u16 BG_Layer0_map[1024]ALIGN4 = {
<br/>
0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,
<br/>
0x0000,0x0000,0x0000,0x0000,0x0000,0x0000 etc ect</td> </tr></table><span class="postbody">
<br/>
<br/>
Can anyone clarify?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10426 - Nessie - Thu Sep 04, 2003 3:48 pm</h4>
    <div class="postbody"><span class="postbody">MapEd currently spits out the different files for the way I personally like to have things organized.  
<br/>
<br/>
An alternate solution, which may or may not be what you want, is that you could copy the arrays all to a single file (nothing wrong with that if that's how you'd like to do it ).
<br/>
<br/>
If you do this and keep the data arrays in a .c file, the part of the code that needs to access this data is going to need to know what the array names are, so that's where the header file comes in.  Simply include the header file wherever your code needs to access one of these arrays and you are done.
<br/>
<br/>
Another solution is, copy the arrays to a single file and make that file a .h instead of a .c.  In that case, you can discard the generated header file and just include the data array .h file you made in your code where you need to access the actual array data.  I'd be careful with this though, because if you include the .h file you made from several .c files, you'll probably get duplicate data definition compile/link errors.
<br/>
<br/>
As you can see, many ways to shuffle it around for what you need.  Furture versions of mapEd might be allow a bit more flexibility in generated files, but for now it isn't.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10429 - goro - Thu Sep 04, 2003 5:04 pm</h4>
    <div class="postbody"><span class="postbody">I think I'll adopt your way of doing things, MapEd is a great tool. Thanks for your reply and many thanks for creating MapEd.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
