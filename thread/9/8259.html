<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Anamation? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > Anamation?</h2>
<div id="posts">
<div class="post">
    <h4>#68475 - Fenderocker - Tue Jan 24, 2006 10:27 pm</h4>
    <div class="postbody"><span class="postbody">I need to make animated sprites for my RPG game that I am making. I also need to make a short intro anamation. how would I go about doing this and also If I made it do something like this:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">draw frame
<br/>
draw next frame
<br/>
ect...</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm afraid that it might take up too much memory.......
<br/>
any help would be greatly appreciated!!!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68501 - gs2phateon - Wed Jan 25, 2006 3:06 am</h4>
    <div class="postbody"><span class="postbody">I'm no expert on this, but I've heard that you could draw all of the frames of the animation with the original sprite, all stacked in the same bitmap array.
<br/>
<br/>
Then you would draw the sprite based on the frame number you want times the total number of tiles or pixels in the sprite.
<br/>
<br/>
So if you were making a 32x32 sprite in a bitmap mode and you drew frame number 6 it would start at something like:
<br/>
<br/>
 sprite[frame * (32x32)]
<br/>
<br/>
And frame would increase every time to go to the next frame of animation.
<br/>
<br/>
I hope this kinda helps, but like I said I'm no expert.  I'm working on something that will require animation, and this is the way I plan on doing it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68502 - Fenderocker - Wed Jan 25, 2006 4:03 am</h4>
    <div class="postbody"><span class="postbody">thanks that helped a little bit........but I still need some information on how to code it....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68547 - nmain - Wed Jan 25, 2006 4:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Fenderocker wrote:</b></span></td> </tr> <tr> <td class="quote">thanks that helped a little bit........but I still need some information on how to code it....</td> </tr></table><span class="postbody">
<br/>
<br/>
Animated sprites: if you're short on vram, dma in the replacement sprite tiles in the animation on vblank.  <a href="http://www.gbadev.org/files/managing-sprite-vram.txt" target="_blank">http://www.gbadev.org/files/managing-sprite-vram.txt</a>
<br/>
<br/>
Otherwise, change the OAM entry to point to the other tiles (which are already in vram) for the next frame of the animation.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68802 - Fenderocker - Thu Jan 26, 2006 9:14 pm</h4>
    <div class="postbody"><span class="postbody">is there an easier way to make animated sprites than to make to draw frame one then draw frame two ect.... I think that that could take a whole lot of code.....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68804 - Codax - Thu Jan 26, 2006 9:52 pm</h4>
    <div class="postbody"><span class="postbody">If you place your sprite's frames of animations sequentially in VRAM it's actually very easy to do animating.  Here's what you'll need assuming the sprite you wish to animate is 8x8 and has 30 frames of animation
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
//Location of the first frame of the animation in the SPRITE_GFX
<br/>
const int initialGFXID =  1;  
<br/>
<br/>
 //Location of the last frame of the animation in the SPRITE_GFX
<br/>
const int lastGFXID = 30;
<br/>
<br/>
 //How many 8x8 tiles make up this sprite
<br/>
const int sizeofsprite = 1;
<br/>
<br/>
<br/>
while(1)
<br/>
{
<br/>
  //sprite datastructure contains a gfxID and the copy of the OAM Attributes
<br/>
<br/>
  sprite.gfxID += sizeofsprite; //Here we set up the next frame
<br/>
<br/>
  //Now we double check to make sure it's valid
<br/>
  if (sprite.gfxID &gt; lastGFXID)
<br/>
       sprite.gfxID = initialGFXID; //This will loop it back to the first frame
<br/>
<br/>
  //Now update the OAM attribute
<br/>
  sprite.oam-&gt;attribute[2] = ATTR2_PALETTE(0) |  sprite.gfxID;
<br/>
<br/>
  //Finaly we do the true OAMUpdate
<br/>
  swiWaitForVBlank();
<br/>
  updateOAM();
<br/>
}
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
And now you have a looping animation.  YAY!  It'll be going pretty fast so if you want to slow it down, just count the Vblanks and instead of incrementing it every Vblank, do it every other.  Enjoy!<br/>_________________<br/>Codax
<br/>
Dragon's Den Unlimited
<br/>
<a href="http://www.DrgnDen.com" target="_blank">http://www.DrgnDen.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68862 - Fenderocker - Fri Jan 27, 2006 3:08 am</h4>
    <div class="postbody"><span class="postbody">I'll have to try that....</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
