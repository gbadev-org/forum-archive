<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>HELP ME ON PALETTE!!! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Graphics > HELP ME ON PALETTE!!!</h2>
<div id="posts">
<div class="post">
    <h4>#12026 - dafagba - Mon Oct 27, 2003 11:28 am</h4>
    <div class="postbody"><span class="postbody">I design a game, it used MODE_0,
<br/>
BG0 show backgroud
<br/>
BG1 show text.
<br/>
<br/>
BG0 and BG1 are both 16 color, but they do not use the same palette.
<br/>
<br/>
I can use LoadPalette() to load one of the palette into ram, such as:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
for (u8 i = 0; i &lt; 255; i++)    
<br/>
	LoadPaletteEntry(i, paletteData[i]);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
then problem apeared: the two BGs use the same palette, the 2nd BG looks very ugly.
<br/>
<br/>
I know I can load two 16_color_palette into ram, but I do not know how to make BG_0 use 1st pal, and BG_1 use 2nd pal
<br/>
<br/>
So, can anyone tell me how to use different palettes.
<br/>
<br/>
 :(
<br/>
<br/>
Thanks.........   :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12030 - NoMis - Mon Oct 27, 2003 1:27 pm</h4>
    <div class="postbody"><span class="postbody">You have to specify the Palette number in the tiles itself, because every tile can have another palette.
<br/>
<br/>
A TileEntry for a textbackground has 2 bytes splitted like this:
<br/>
<br/>
bits 0-9: TileNumber
<br/>
bit 10: Horizontal flip
<br/>
bit 11: Vertical Flip flag
<br/>
bit 12-15: Palette Number (ignored if 256 colormode)
<br/>
<br/>
You have to put the number of the palette into the last bits (12-15) of the Tileentry and set the appropriate color bit of the background to 16-Colormode (which you should already have).
<br/>
<br/>
Take a look at devotos pern project day 4 for further understanding
<br/>
(http://www.thepernproject.com/index2.htm)
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12045 - dafagba - Tue Oct 28, 2003 1:02 am</h4>
    <div class="postbody"><span class="postbody">THANK YOU VERY MUCH!!!!!!
<br/>
I LOVE YOU, NOMIS!    :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
