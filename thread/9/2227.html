<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>MapEd v0.98 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > MapEd v0.98</h2>
<div id="posts">
<div class="post">
    <h4>#11644 - Nessie - Wed Oct 15, 2003 1:05 am</h4>
    <div class="postbody"><span class="postbody">A couple of new things over v0.97, just completed the last of the UI changes, there are now some Preference settings...including default Path options for maps and tilesets, etc.  Quit a few fixes in there as well.  Full changes listed in the help file.
<br/>
<br/>
The latest version can be found on the Gbadev.org sponsored MapEd site:
<br/>
<a class="postlink" href="http://nessie.gbadev.org/" target="_blank">http://nessie.gbadev.org/</a>
<br/>
<br/>
Finally, due to some recent unfortunate events, continued development of this tool may be somewhat (significantly?) hampered.  I hate to even mention it, but I am now accepting PayPal donations because of this.  ..more details in the MapEd_Help.rtf file including in the .zip download.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11665 - Foz - Wed Oct 15, 2003 4:11 pm</h4>
    <div class="postbody"><span class="postbody">Sorry man, I don't see it at that location.  I see the screenshots but not the download.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11666 - Nessie - Wed Oct 15, 2003 4:17 pm</h4>
    <div class="postbody"><span class="postbody">Dunno, I just followed the link and refreshed my browser...everything looks as it should....as in:
<br/>
<br/>
<span style="font-size: 14px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"><span style="color: blue">Download v0.98 (169k)</span></span></span></span>
<br/>
<span style="font-size: 9px; line-height: normal">v0.98 Uploaded Oct. 14, 2003
<br/>
v0.99 Available around Oct. 25, 2003</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11690 - HuangYZ - Thu Oct 16, 2003 12:21 am</h4>
    <div class="postbody"><span class="postbody">Thanks _Nessie_ for the great tool . 
<br/>
<br/>
If it could output data in a binary format defined by custom,Maped will be more professional.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11697 - Nessie - Thu Oct 16, 2003 2:01 am</h4>
    <div class="postbody"><span class="postbody">Yes, binary exporting has been stubbed into the tool even before the first public release, so it's something I have meant to do all along.
<br/>
<br/>
The main thing is that I'm not sure where to start, or rather, I haven't had a chance to do any amount of even basic research into what the requirements are etc.
<br/>
<br/>
If anyone has any tips on how to go about doing this, I'd be happy for any advice.
<br/>
<br/>
Cheers,
<br/>
Nessie</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11796 - Nessie - Sun Oct 19, 2003 3:00 am</h4>
    <div class="postbody"><span class="postbody">One other thing, I wrote a QuickStart document for a guy on my game dev team and figured I'd post it to the MapEd site in case anyone else has tried the tool but couldn't figure it out. 
<br/>
<br/>
I suppose it could also serve as a FAQ if the section titles were changed to questions...anyway... 
<br/>
<br/>
Cheers, 
<br/>
Nessie
<br/>
<br/>
<span style="color: blue"><span style="font-weight: bold">Edit</span> If you've tried or are currently using MapEd and experienced chuggy performance, I have a test version with much more optimized rendering.
<br/>
<br/>
I'm not ready for a release yet, but I'd send a new .exe to anyone willing to test this out.  Please contact me if you are interested.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11821 - HuangYZ - Mon Oct 20, 2003 2:41 pm</h4>
    <div class="postbody"><span class="postbody">Yes,MapEd is a great tool.
<br/>
<br/>
Some Advice here:
<br/>
1 Palette Manage Function 
<br/>
2 Custom Binary Data output
<br/>
3 15bit High Color Picture cut down to 4bit MultiPalette Tile Function.
<br/>
<br/>
I'm very interested in MapEd.
<br/>
<br/>
best regard!.
<br/>
                                         HuangYZ
<br/>
<a href="mailto:huangyz@citiz.net">huangyz@citiz.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11831 - Nessie - Tue Oct 21, 2003 2:05 am</h4>
    <div class="postbody"><span class="postbody">Yes, I would like to support some kind of binary exporting.  But as I already mentioned, I'm not sure exactly what format the data needs to be in.  
<br/>
<br/>
So if someone has advice, it would be greatly appreciated.
<br/>
<br/>
...though, from what I've already gathered, I could export the data in a raw binary format, and then it can be INCBIN'd.  Correct me if I'm wrong, but the limitation with this is that each map layer ( and each 256 colour palette...and each BG tileset) needs to be exported to its own raw binary chunk for this to work?
<br/>
<br/>
Or, if I could just write out an object file (.o), that would allow multiple data chunks to be in the same file?  This leads me to, is the (.o) format specification basically fixed for the known GBA compiler or does each compiler reserve the right to use some wildly different object file format?  I'm sure there are some GCC tools I could use, but if the format is trivial, I'd prefer to just go right to the final format.
<br/>
<br/>
Another option is GBFS?
<br/>
<br/>
<br/>
So, the raw binary dump is easy and I already have that.  I just figured that some kind of object file would be more useful?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11833 - tepples - Tue Oct 21, 2003 3:30 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Nessie wrote:</b></span></td> </tr> <tr> <td class="quote">I could export the data in a raw binary format, and then it can be INCBIN'd.  Correct me if I'm wrong, but the limitation with this is that each map layer ( and each 256 colour palette...and each BG tileset) needs to be exported to its own raw binary chunk for this to work?</td> </tr></table><span class="postbody">
<br/>
This would be true in the simplest case (raw chr, raw map, raw palettes). However, it wouldn't be hard to think up a data structure that would hold offsets to chr, map, and palette data, and then the game's code could read that and copy data where it goes..
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Or, if I could just write out an object file (.o), that would allow multiple data chunks to be in the same file?</td> </tr></table><span class="postbody">
<br/>
If you do, you're going to have to let the user specify the global names of chunks.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">This leads me to, is the (.o) format specification basically fixed for the known GBA compiler</td> </tr></table><span class="postbody">
<br/>
DevKit Advance's object format is ELF, which shouldn't change much from GCC version to GCC version if you're not using C++. Just make sure to put things in .rodata, aligned properly, and turn on interworking.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Another option is GBFS?</td> </tr></table><span class="postbody">
<br/>
That, or a lighter weight more specialized structure. GBFS itself began as a lighter weight more specialized alternative to .tar, inspired mostly by .tar's linear access and huge header per file.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11834 - Nessie - Tue Oct 21, 2003 3:50 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">This would be true in the simplest case (raw chr, raw map, raw palettes). However, it wouldn't be hard to think up a data structure that would hold offsets to chr, map, and palette data, and then the game's code could read that and copy data where it goes.. </td> </tr></table><span class="postbody">
<br/>
I thought of that too, but wasn't sure if I wanted to force that on anyone or not.  Then again, the thought of having a raw file for each chunk for each map in a game with many levels would quickly turn into an ugly situation.  I suppose it could be an option.  Would it also make sense to internally force a 4 byte alignment for each of the subsequent packed arrays?  If the whole binary chunk was aligned correctly, then every other sub-array should also be correct.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">If you do, you're going to have to let the user specify the global names of chunks. </td> </tr></table><span class="postbody">
<br/>
Yep.  MapEd already does allow setting up a format script of sorts that includes variable name customization.  I figure I'd just use that approach.  Though..the main problem here is that if the tool exports a global name and the user wants to change it, changing the object file is less straightforward than changing a .cpp or .h type file.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11842 - HuangYZ - Tue Oct 21, 2003 9:39 am</h4>
    <div class="postbody"><span class="postbody">Yes, Custom binary output is not easy.
<br/>
But, You could define a binary format, and give out the method  to visit its palette data,map data,tile data,etc. 
<br/>
The method must be OpenSource.
<br/>
Because every kind of Binary file has its own method to visit its data.
<br/>
<br/>
best regard.
<br/>
<br/>
HuangYZ</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11845 - Burton Radons - Tue Oct 21, 2003 2:49 pm</h4>
    <div class="postbody"><span class="postbody">For my purposes, no binary output can be flexible enough.  Just having a file format specification would be good enough for me; then I can process it however I want without having to worry about whether I'm depending upon some aspect of the map that might be different with another map.  I did that originally by thinking that tileset indices were ordered rather than allocated, for example.  Then I can do all my own processing, which is quite a lot already, and lots more in the future.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11881 - TheBlackFrog - Thu Oct 23, 2003 12:59 am</h4>
    <div class="postbody"><span class="postbody">okay i got a two layer map (80x80 tiles) and i export the layers as bitmaps, layer 0 seems to work fine, but layer 1 is messed up - it seems to have the right palette (both layers use same tileset) and the tiling seems to be coherent, but the tiles themselves are messed up, like wrong palette indexes and stuff, i dunno whats wrong, anyways heres some pics to show what i mean, the names are kinda self explanitory.
<br/>
<br/>
<a class="postlink" href="http://www3.mb.sympatico.ca/~reimann/andrew/temp/bothlayers.gif" target="_blank">bothlayers.gif</a>
<br/>
<a class="postlink" href="http://www3.mb.sympatico.ca/~reimann/andrew/temp/layer0.gif" target="_blank">layer0.gif</a>
<br/>
<a class="postlink" href="http://www3.mb.sympatico.ca/~reimann/andrew/temp/layer1.gif" target="_blank">layer1.gif</a>
<br/>
<a class="postlink" href="http://www3.mb.sympatico.ca/~reimann/andrew/temp/exportedlayer0.gif" target="_blank">exportedlayer0.gif</a>
<br/>
<a class="postlink" href="http://www3.mb.sympatico.ca/~reimann/andrew/temp/exportedlayer1.gif" target="_blank">exportedlayer1.gif</a>
<br/>
<br/>
btw i like your map editor a lot, esp the alpha blending layers, makes it real easy to edit two layered maps, now just if bitmap exporting would work, it would be perfect.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11893 - Nessie - Thu Oct 23, 2003 5:18 am</h4>
    <div class="postbody"><span class="postbody">To be honest, I wrote the export to .bmp feature pretty quickly, so it may have some issues. :)
<br/>
<br/>
So, if you don't mind, can you zip your map file (.med) and send it to: <a href="mailto:gba_dev@yahoo.com">gba_dev@yahoo.com</a>  ...I'd be happy to look at it...and fixing problems is always much easier with reproduceable test cases.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11894 - TheBlackFrog - Thu Oct 23, 2003 6:20 am</h4>
    <div class="postbody"><span class="postbody">okay email sent, thanks for taking a looksee</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11905 - Nessie - Thu Oct 23, 2003 4:17 pm</h4>
    <div class="postbody"><span class="postbody">Ok, I see what the problem is.  MapEd currently only supports 16 colour tiles, as in 16 colours per 8x8 tile block....and up to 16 total 16 colour palettes.  Your tiles are drawn in a way that would work with 256 colour mode.
<br/>
<br/>
MapEd currently does not validate the situation, so some 8x8 tiles are getting converted to use one of the 4  16-colour palettes in your artwork.  So, you are correct that it was looking like the palettes were the problem.
<br/>
<br/>
I can write a tileset validation routine for the next mapEd release...it will warn people of this problem when the load a tileset.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11914 - TheBlackFrog - Thu Oct 23, 2003 9:59 pm</h4>
    <div class="postbody"><span class="postbody">any chance of ever getting support for 256 color tilesets? i dont know about other people, but i never use 16 color mode....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11915 - Nessie - Thu Oct 23, 2003 10:05 pm</h4>
    <div class="postbody"><span class="postbody">Most professional games I've seen seem to use 16 colour mode...  though I'm sure there are some games out there that use 256 colour mode...and I think you have to use it if you are going to do RS BG's.
<br/>
<br/>
So, it's a possibility, but I don't think we plan on using 256 colour mode because you can only use half as many tiles as 16 colour mode.  512 tiles would not be enough for our project.   For that reason and a couple of others, I really don't have much time to experiment with 256 colour mode at this time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11920 - HuangYZ - Fri Oct 24, 2003 1:30 am</h4>
    <div class="postbody"><span class="postbody">16 color maps is widely used in commercial games.
<br/>
these maps are Multi-Palette.
<br/>
<br/>
I wonder there would be a function that combine N 16 color maps (0&lt;N&lt;16) into one Multi-Paletted map. Then the tile size will be half as 256's,and the Graphic Effect will be similar with 256 color map.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11993 - Nessie - Sun Oct 26, 2003 5:18 am</h4>
    <div class="postbody"><span class="postbody">There's a minor MapEd update available, maybe not even worth mentioning at this point.  
<br/>
<br/>
<span style="font-weight: bold">*</span>Map rendering is significantly faster (on my machine).   The more you zoom in, the faster it should get. (hint...hint... for those with slow cards, but even this might not be enough)
<br/>
<span style="font-weight: bold">*</span>Added a very simple tileset validation tool.
<br/>
<span style="font-weight: bold">*</span>Simple binary export is in, but don't expect much of anything out of it yet...for now it's not finished or supported. Use at your own risk.
<br/>
<span style="font-weight: bold">*</span>Assorted other fixes or changes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11999 - Worster - Sun Oct 26, 2003 12:26 pm</h4>
    <div class="postbody"><span class="postbody">I wonder that why you always release a new version with a sample whose
<br/>
image is 256 colors?
<br/>
Why your tools convert  the sample image's palette to a bgPalette[256]?
<br/>
That may mislead new guy if he/she hasn't read your word.  
<br/>
<br/>
Sorry for my bad english and forgive my rudness!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12101 - NeoGeo - Wed Oct 29, 2003 5:45 pm</h4>
    <div class="postbody"><span class="postbody">I just want to thank you for making such an excellent editor Nessie, I just cant live without this tool. And I have to say my latest game wouldnt have seen the light of day if it hasnt been for this editor (not sure that is a good thing tho, lol..).
<br/>
<br/>
Keep up the good work Nessie!!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12118 - Istondil - Thu Oct 30, 2003 1:26 pm</h4>
    <div class="postbody"><span class="postbody">I had a question regarding custom collision tiles. I'm attempting to make a isometric game. Building the map with the tiles I've drawn goes perfectly, but the provided collision tiles aren't precise enough. I've expanded the collision tiles with a few additional tiles (with 22.5 degrees slopes instead of 45 degrees slopes) and imported it into MapEd. The problem is: MapEd doesn't allow me to draw onto the collision layer with this new tileset. Updating the active tileset with the new tiles doesn't appear to help either.
<br/>
<br/>
Anyone know how to solve this problem?
<br/>
<br/>
Cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12121 - Nessie - Thu Oct 30, 2003 5:04 pm</h4>
    <div class="postbody"><span class="postbody">There should be a collisionTiles.bmp file that came with the .zip.  When this file is present in the same directory as the MapEd.exe, it should load this as the default collision tileset.
<br/>
<br/>
So, iIf you modify that image directly and keep it in the mapEd directory, that should bcome the new default tileset.  You should just make sure that it follows the mapEd tileset rules...as in, must be a POWER of 2, like 32x64 (so yes, you can resize the default collision tileset), etc.
<br/>
<br/>
From there, the collision data export will just contain an array the size of your primary map with an index for each tile pointing to one of the collision tiles in your custom collision tileset.  
<br/>
<br/>
You can encode extra information into the collision layer by painting flags into the collision layer.  These flags and the final collision data export format can be modified in MapEdFlagDef.txt, which should also be located with the MapEd.exe.
<br/>
<br/>
Hope that helps.  If you have any problems, feel free to either post here or send me an e-mail.
<br/>
<br/>
Cheers,
<br/>
Nessie</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12123 - Istondil - Thu Oct 30, 2003 6:23 pm</h4>
    <div class="postbody"><span class="postbody">Thanks, that did the trick. 
<br/>
<br/>
There's still something that puzzles me though. When I save my tiles as Bitmaps (8 bit, uncompressed) using indexed colors (making a palette of 3 hues of brown and a forced black and white) I get an image the way I wanted it. It imports as tileset just fine though when I manually use the Tileset Validation tool it says that 16 tiles are not valid 16-color tiles.
<br/>
<br/>
When I save the bitmap as 4 bit uncompressed, the bmp validates just fine but when importing as tileset it gets displaced in the tileset viewer. (Obviously when using the Update Tileset function to replace the 8 bit bmp with the 4bit bmp the entire map gets garbled). Is there any way to prevent this displacement effect? (Am I not saving the bmp properly or is the image size wrong?)
<br/>
<br/>
(edit: of course the image is 128 x 64, duh, not 64 x 32)
<br/>
<br/>
<a href="http://www.lagcher.com/4bitissues.gif">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
<a href="http://www.lagcher.com/garbled.gif">[Images not permitted - Click here to view it]</a></span><span class="gensmall"><br/><br/>Last edited by Istondil on Thu Oct 30, 2003 9:51 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#12126 - Nessie - Thu Oct 30, 2003 9:24 pm</h4>
    <div class="postbody"><span class="postbody">Would you mind sending me the bitmaps in question so I can try them out?  
<br/>
<br/>
You can .zip them and send them to: <a href="mailto:gba_dev@yahoo.com">gba_dev@yahoo.com</a>
<br/>
<br/>
From there I can determine if it's something you are doing wrong or if there is a mapEd bug.  If it's something you are doing wrong, I can potentially make mapEd more robust in error reporting.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12410 - IAMTHEEVILBEAN - Wed Nov 12, 2003 2:12 am</h4>
    <div class="postbody"><span class="postbody">Arggggg I know you're all gong to shoot me for asking this but.....
<br/>
<br/>
Im so damn confused
<br/>
<br/>
I try and open up a tile I made and it wither turns white and or does nothing
<br/>
<br/>
Can someone help?<br/>_________________<br/>Moose</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12454 - Nessie - Fri Nov 14, 2003 3:36 pm</h4>
    <div class="postbody"><span class="postbody">MapEd supports 16 colour tiles in .bmp and .pcx format.  You can load in 256 colour images, but they must be drawn such that each 8x8 tile only uses colours from one of the 16 colour banks.  
<br/>
<br/>
Colour banks should logically be organized as blocks of 16 colours, colours 0-15 are bank 0, 16-31 are bank 1, etc.
<br/>
<br/>
In 16 colour tile mode, the first colour of each bank is reserved for the transparent colour.  Pixels in a given 8x8 tile will be considered transparent when drawn with the transparent colour.  
<br/>
<br/>
Once you load a tileset into a newly created map, since the layers default to the first tile (tile 0) of the first loaded tileset, that tile will completely fill every layer.  Because of that, I always leave tile 0 as a completely transparent 8x8 block.
<br/>
<br/>
There is also a walk-through tutorial located on the mapEd site to help first time users get used to the environment.  Actually, people who are already familiar with the tool could probably benefit from scanning the tutorial.
<br/>
<br/>
Finally, I'm super busy on my current project, so I haven't really had any time or energy to focus on getting out a new mapEd update at this time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12460 - blueskies - Fri Nov 14, 2003 11:32 pm</h4>
    <div class="postbody"><span class="postbody">any suggestions on a program to use to make the tilesets?  i've used psp7 a little and it worked out all right.  I didn't realize that about the palette and the tilesets though, so thanks for clearing that up</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12461 - IAMTHEEVILBEAN - Sat Nov 15, 2003 1:56 am</h4>
    <div class="postbody"><span class="postbody">graphics gale is what I use<br/>_________________<br/>Moose</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12466 - Nessie - Sat Nov 15, 2003 6:00 am</h4>
    <div class="postbody"><span class="postbody">Hmmm,  I just uploaded a minor update....not really much in the way of new features, just...well, minor things like fixes, etc. :)
<br/>
<br/>
It may be a while for the next update, so..</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
