<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compression Tutorial for GBA - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > Compression Tutorial for GBA</h2>
<div id="posts">
<div class="post">
    <h4>#15881 - headspin - Mon Feb 02, 2004 3:17 pm</h4>
    <div class="postbody"><span class="postbody">I have written a tutorial that covers graphics compression, the GBFS (Tepples Gameboy File System), JPEG images and the common problem people have with palettes in tiles and sprites on the GBA. Future versions should cover screen effects and audio compression.
<br/>
<br/>
The URL is 
<br/>
<a class="postlink" href="http://members.iinet.net.au/~freeaxs/gbacomp/" target="_blank">http://members.iinet.net.au/~freeaxs/gbacomp/</a>
<br/>
<br/>
It basically covers some of the areas I've been researching recently. I hope this can be of some use to someone.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15884 - RaBBi - Mon Feb 02, 2004 4:09 pm</h4>
    <div class="postbody"><span class="postbody">Great Great Great !!
<br/>
<br/>
Today is a great day ! ^^
<br/>
(great demo and great tools (Grafx2), even on devrs.com ^^)
<br/>
<br/>
GBFS use and Compression were subjects I wanted more info about.
<br/>
I didn't plan to look at them for now, but your tuto seems to be very clear, so I change my mind and I'm going to study it.
<br/>
<br/>
Thank very very much :)<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15885 - headspin - Mon Feb 02, 2004 4:22 pm</h4>
    <div class="postbody"><span class="postbody">Hey I'm glad I can help u RaBBi! Yes, I think GBFS and compression are very important subjects to learn for GBA programming, which is why I made this tute. Hmm, first tute on the subject maybe? I hope this helps alot of people.
<br/>
<br/>
:)
<br/>
<br/>
Also I request any info I may of missed or may be of help, e-mail me on the address provided on the page and I will (hopefully) be able to add your info (with acknowlegement to yourself of course)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15890 - RaBBi - Tue Feb 03, 2004 1:35 am</h4>
    <div class="postbody"><span class="postbody">You should be glad ^^
<br/>
<br/>
I finally read it and it's a very clear tuto.
<br/>
I understand all that I read, and I'm really happy cause it's almost the first time on a technical web page about the GBA ^^
<br/>
(even sometimes, in certain topics of this board, I'm lost ^^, never desesperate cause I know that someday it would be ok for me ^^
<br/>
I'm not different from the others dude! lol)
<br/>
<br/>
I appreciate the LZ77 and JPEG image chapters ^^
<br/>
In fact, the tools you brought are really helpfull and I didn't think it would very simple to use them, even in code while calling functions ^^
<br/>
<br/>
So I'm really waiting for "Coming Soon..." sections ^^
<br/>
And I hope someday I could give something to this "community which has given you and me so much"...<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15899 - Lord Graga - Tue Feb 03, 2004 11:22 am</h4>
    <div class="postbody"><span class="postbody">I love that tutorial. It covers compression, which is something that I really want to use in my games, etc. It's really well written, because a routinated GBA programmer (not newbie) can understand what you write fully, in a flash, unlike The Pern Project, which has a lot of "why it is like that" stuff, which is not bad for newbies, but slower to read for routinated coders that needs a couple of bits'n'pieces.
<br/>
<br/>
<br/>
Well done!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15901 - RaBBi - Tue Feb 03, 2004 12:14 pm</h4>
    <div class="postbody"><span class="postbody">Entirely agreed with Lord !
<br/>
<br/>
Furthermore, I believe I read that headspin is a professionnal developper, so it's well clarified for a professional explanation ^^<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15904 - gb_feedback - Tue Feb 03, 2004 4:48 pm</h4>
    <div class="postbody"><span class="postbody">A very nice and clear tutorial. I like the use of pictures to clarify code organisation. It works well.
<br/>
<br/>
One thing; I think that your copy of Burton Radons' code has a bug. I was pestering Burton to fix a problem which caused my Photoshop jpegs to be badly corrupted, and he mailed me an improved version, which then didn't seem to make it to his site. The problem relates to Restart Intervals. I don't think that the images Burton was working with included such segments.
<br/>
<br/>
At any rate I have put up the version he sent me at <a class="postlink" href="http://www.mqp.com/fun/gba-jpeg.zip" target="_blank">http://www.mqp.com/fun/gba-jpeg.zip</a>, where it will be for a few days. You may like to compare the .c file looking for 'restart', and the dates on the files. If it's not a later date than yours I've put the wrong one up.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15905 - headspin - Tue Feb 03, 2004 5:58 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the positive feedback guys!
<br/>
<br/>
RaBBi: Actually I'm not a professional, just a home developer :)
<br/>
<br/>
Lord Graga: Glad you like the tute. I like to get to the point in the tute, without getting into too much technical details since they can be worked out by the coder or in your case known much of it already. I've actually played your mini-platform with the monkey &amp; the cap. It's actually really cool and playable. I had that monkey run through that level about 10 times trying to perfect the jumping! 
<br/>
<br/>
gb_feedback: Thankyou very much for posting the update really appreciate it. I've downloaded it have updated the tute. Cheers :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15906 - tepples - Tue Feb 03, 2004 6:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gb_feedback wrote:</b></span></td> </tr> <tr> <td class="quote">I was pestering Burton to fix a problem which caused my Photoshop jpegs to be badly corrupted</td> </tr></table><span class="postbody">
<br/>
Try running JPEG images through IJG's free Jpegtran if the GBA-side code won't open them. Jpegtran "normalizes" JPEG images to the bare minimum code and removes enhancements that baseline implementations can't handle, such as progressive display.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15919 - gb_feedback - Wed Feb 04, 2004 10:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Try running JPEG images through IJG's free Jpegtran if the GBA-side code won't open them. </td> </tr></table><span class="postbody">
<br/>
Yes, that may work if you can control what images are used. One of my applications was a <a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">jpeg viewer pogoshell plug-in</a> where the user can potentially put any jpeg without preprocessing. 
<br/>
Does Jpegtran remove Restarts?
<br/>
<br/>
It's certainly a good idea to pre-process though, as a lot of these jpegs have thumbnails which can almost double their size. And the original pogoshell jpeg plug-in seemed to prefer to display the thumbnail if there was one present.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15923 - tepples - Wed Feb 04, 2004 3:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gb_feedback wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Try running JPEG images through IJG's free Jpegtran if the GBA-side code won't open them. </td> </tr></table><span class="postbody">
<br/>
Yes, that may work if you can control what images are used. One of my applications was a <a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">jpeg viewer pogoshell plug-in</a> where the user can potentially put any jpeg without preprocessing. </span></td> </tr></table><span class="postbody">
<br/>
If you're going to accept user-submitted images with no preprocessing, then you'll need to handle at least progressive images and images larger than 240x160 pixels, as that's what I see most often on binaries newsgroups such as alt.binaries.pictures.fine-art.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Does Jpegtran remove Restarts?</td> </tr></table><span class="postbody">
<br/>
I think so. It reads in the DCT coefficients and then rewrites them with or without progressive and with or without restarts.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
