<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Palette Woes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > Palette Woes</h2>
<div id="posts">
<div class="post">
    <h4>#14146 - Ruiner - Wed Dec 31, 2003 4:29 am</h4>
    <div class="postbody"><span class="postbody">I have had such a hard time with palettes for the artwork Im doing lately. Its making me lose my hair! I use photoshop for my drawing but photoshop has shiest palette control. I ABHORE rearanging colors using the "color table" in photoshop.
<br/>
<br/>
First question: I have been using gfx2gba. I have 4 buttons with on/off states. They all use the exact same 149 colors and one color of their own on the flat inset part of the button. Now if all pics were combined to one palette then it should be 157 colors total (149 colors for the menu/button and 8 for each button state). But instead gfx2gba decides to match maybe 32 or so of all those colors and I end up with a 500+ color palette. Is there a switch I am missing or is gfx2gba really that shoddy?
<br/>
<br/>
Second question: Since I get along well with photoshop but not its palette tools. Is there a way that I havent found to maybe save out the 256 color palette I like to use and import it in later images that I create so that only those colors are available? And is there a way to save an image/palette as a raw file directly from photoshop that I can read in my programs? Any articles on that subject would be wonderful.
<br/>
<br/>
P.S. I am using Photoshop 7.0</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14152 - DiscoStew - Wed Dec 31, 2003 5:42 am</h4>
    <div class="postbody"><span class="postbody">Do you have a "Save for Web" selection in your Adobe Photoshop? I have v5.5, and under the File tab there is that selection. In v5.5, I use that to optimize my bitmaps so that it fits within a 256 palette index. It determines what are the needed colors, and if each of your pics have the same exact palette (or pretty close), it will notice that and should group them together into a 149 palette index (or 157, whatever). You can even have it optimize the palette so that it can have less entries while making the pics somwhat decent. Try it out. Although it doesn't save as a BMP, you can just save it as a GIF (or 8-bit PNG), and resave it as an 8-bit BMP.
<br/>
Photoshop should be able to save images as RAW, though I never tried it.
<br/>
<br/>
Oh, and for manipulating/rearranging the palette, I'd recommend using PaletteTool which can be found on the GBADEV main page under Tools/GFX. Good for setting a non-valuable color as the first index (for transparency)
<br/>
<br/>
I hope that will help you. Now, I must get back to Mario &amp; Luigi.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14213 - Ruiner - Fri Jan 02, 2004 7:56 am</h4>
    <div class="postbody"><span class="postbody">My "day job" is web programmer so I know all about that dialog. The problem is that using save for web (atleast for ver 7.0) has zero manual palette control. And there is no option for loading up multiple files to compare palettes and order them the same. (Why would you need to for the web)? So that really doesnt help me any.
<br/>
<br/>
Everyone here has to be using something that they like. Give me some pointers. What programs are you using. Or what features am I missing in photoshop? And it looks like the palette editor that DiscoStew was talking about edits the actual palette. That doesnt help me much when the bitmap data says this pixel should be [x] palette entry and I'm changing the palette in another tool (correct me if I'm wrong). If I am changing the palette then I need the bitmap data changed with it. 
<br/>
<br/>
I have also tried drawing all my sprites on the same image and then just slicing them up hoping it would maintain the palette. But thats a no go. It rearranges my palettes and sometimes even adds colors.
<br/>
<br/>
Ideally Im looking for a way to tell photoshop that I have a palette already set up which I want to use. Seems like something that should be easy to do. Especially in indexed color mode. Other than that please start listing off good pixel editors. Not $300 commercial ones either. I like to sink the brunt of my paychecks into my buisness needs not my hobbies.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14214 - tepples - Fri Jan 02, 2004 8:09 am</h4>
    <div class="postbody"><span class="postbody">I use GIMP, which has decent palette control.
<br/>
<br/>
GIMP tip: When converting an image from RGB to indexed mode, GIMP assigns color 0 as the color of the pixel in the upper left corner.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14215 - Nessie - Fri Jan 02, 2004 8:38 am</h4>
    <div class="postbody"><span class="postbody">I'm going to go out on a limb and suggest that I wouldn't use Photoshop for low colour/pixel work.  
<br/>
<br/>
Don't get me wrong, I love Photoshop and use it all the time....as you've already discovered, it's really not designed for giving you control over the palette details.
<br/>
<br/>
But since you probably don't want my advice on that..
<br/>
<br/>
Regarding what tools I use to manipulate palettes?  For starters, I'd build the desired palette first...and then draw the artwork using that palette...if you do that, I'd be surprised if it didn't circumvent most of your problems?
<br/>
<br/>
On the occasions that I need to use a tool, I use Graphics Gale which allows me to Shift+Click+Drag a color to a new slot and it remaps all of the pixels in the image.  It also allows you to load palettes from any image file and then paste those colors into your palette wherever you want.
<br/>
<br/>
I did also write a tool which takes a palette image and an image to be remapped...and then outputs a converted file.  Of course, I had to go to all of this extra hassle because the artists insisted on using Photoshop. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14257 - Ruiner - Sat Jan 03, 2004 9:01 am</h4>
    <div class="postbody"><span class="postbody">Thanks much. Thats exactly what I was looking for. I have heard of gimp before as being a gnu photoshop but have never taken the time to look at it cause I was so happy with my adobe products. And I noticed GraphicsGale some time ago in a news post somewhere but forgot to look at it when I was first having issues with my art.
<br/>
<br/>
Ill give both of these a test run and get back to you. And should I get this crap down soon then I'll be releasing my pig/skunk 2 player link game before to long. Thx for the responses :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14259 - headspin - Sat Jan 03, 2004 2:51 pm</h4>
    <div class="postbody"><span class="postbody">I honestly believe that besides getting makefiles to work properly, palette problems have been high on my list of most irritating and time consuming issues with GBA Development.
<br/>
<br/>
Oh why oh why can't Photoshop allow one to drag a colour to any palette position to change the actual index order of the colours. That would make my life so easy.
<br/>
<br/>
It's really annoying when u make a graphic and you can't bloody get Index colour 0 to be the background so that its the transparent colour on the GBA.
<br/>
<br/>
Anyways, thanks for these two suggested programs, I will check them out. If they do as you say, you have saved me many more hours in the future, cheers!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14264 - headspin - Sat Jan 03, 2004 3:25 pm</h4>
    <div class="postbody"><span class="postbody">Just checked out that GraphicsGale.. it's the perfect tool for re-indexing colours!!
<br/>
<br/>
Thankyou very much. I have spent many many hours trying to find such a tool :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
