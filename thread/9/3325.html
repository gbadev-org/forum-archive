<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>mapEd exportdata - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > mapEd exportdata</h2>
<div id="posts">
<div class="post">
    <h4>#20041 - Nikkoz - Fri Apr 30, 2004 11:58 am</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
I searched for a good map editor to use in our school project since there is no time to write one of our own. mapEd 0.98.5 seems to real good, but i have some problems with the export data.
<br/>
<br/>
The palette is no problem reading, but the tile-data is confusing. It seems like theres only 16 short ints per tile, wich makes 32 bytes / tile? However, i couldn't get it to work just by copying the data directly to the memory.
<br/>
<br/>
How is the tile- and map-data stored? The tiledata size is quite strange. Is it optimized?
<br/>
<br/>
I'll try some more, but hints and/or code that work is very appreciated.
<br/>
<br/>
-N</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20042 - NoMis - Fri Apr 30, 2004 12:43 pm</h4>
    <div class="postbody"><span class="postbody">MapEd only supports 16 color Tiles (used by most professional Games) wich is the reason for the Tiles to be smaller because the color indices only needs 4 bit. 
<br/>
The Mapdata gets exportet as a huge linear array row by row.
<br/>
If you have a mapsize bigger than 256x256 the gba separates it into blocks. You then have to copy manually.
<br/>
<br/>
NoMis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20044 - Nessie - Fri Apr 30, 2004 2:52 pm</h4>
    <div class="postbody"><span class="postbody">Correct, mapEd only supports 16 colour tiles.  
<br/>
<br/>
As noted, most professional games use 16 colour mode.  I guess the main reason being that you get twice as many BG tiles in 16 colour mode.
<br/>
<br/>
The other nice thing about 16 colour mode is that you can use different 16 colour palettes on the same tile (palette switching).  MapEd actually does support this, though not directly.  Here's how you do it:
<br/>
<br/>
1) Copy your tileset and use some art program, say, like Graphics Gale, to adjust the palette entries to create a different colour scheme.
<br/>
2) Import both tilesets into mapEd.  
<br/>
3) At export time, mapEd does the following:
<br/>
3a) Exports only the palettes used in the current map (note, NOT a bulk export of all of the palettes in the tiles)..
<br/>
3b) Exports only the tiles that are used in the current map (NOT a bulk export of the actual tilesets)
<br/>
3c) Detects tiles that are identical, but using different palettes.  In this case it exports the base tile once and then exports the 2 needed palettes, adjusting the map data to display this correctly onthe GBA.
<br/>
<br/>
So yes, the export data has been optimized.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20060 - dagamer34 - Fri Apr 30, 2004 10:59 pm</h4>
    <div class="postbody"><span class="postbody">If you think of mapEd only as a map editor and not a all-in-one map tool that does tile conversions and optimizing for you, you can use 256-colored tiles. Just use another conversion tool to get the tile data and the palette and it will work. Make sure you use the un-optimized mode though when creating a new map, otherwise the tile-indexing will be off.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
