<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Changing video mode at smoothly - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Graphics > Changing video mode at smoothly</h2>
<div id="posts">
<div class="post">
    <h4>#15698 - doudou - Wed Jan 28, 2004 2:21 am</h4>
    <div class="postbody"><span class="postbody">My game is a tile based game so it run in mode 0. I'd like to have my menus in mode 4, so i change mode at run time. It works, but the transition is not "smooth". Any suggestion ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15700 - sajiimori - Wed Jan 28, 2004 2:55 am</h4>
    <div class="postbody"><span class="postbody">How about fading the BG palette to all black before changing modes?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15705 - Miked0801 - Wed Jan 28, 2004 5:06 am</h4>
    <div class="postbody"><span class="postbody">Or Alpha blend.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15707 - sgeos - Wed Jan 28, 2004 6:26 am</h4>
    <div class="postbody"><span class="postbody">Fade Out
<br/>
Load Menu
<br/>
Fade in
<br/>
<br/>
If you fade to white, you can force a blank, load your menu and then fade from white.  Lunar Legend fades to white when entering battles.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15725 - doudou - Wed Jan 28, 2004 5:12 pm</h4>
    <div class="postbody"><span class="postbody">I think that i did not explain myself clearly. My problem is that when i pass from one mode to the other, there is a "glitch".  Even if I fade in/out, at the transition this problem will still be there.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15727 - poslundc - Wed Jan 28, 2004 5:14 pm</h4>
    <div class="postbody"><span class="postbody">There won't be any visible glitch if all of the colours in the sprite/background palette are the same.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15736 - Touchstone - Wed Jan 28, 2004 7:30 pm</h4>
    <div class="postbody"><span class="postbody">Is the glitch still there if you:
<br/>
1. fade to white
<br/>
2. turn off LCD
<br/>
3. change mode
<br/>
4. load menu
<br/>
5. turn on LCD
<br/>
6. fade to regular colors<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15739 - doudou - Wed Jan 28, 2004 8:47 pm</h4>
    <div class="postbody"><span class="postbody">how do we turn off LCD ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15742 - DekuTree64 - Wed Jan 28, 2004 9:38 pm</h4>
    <div class="postbody"><span class="postbody">There's a bit in DISPCNT to switch it off. Bit7, I think. You know how some games have a 'sleep' mode? That's mainly what it's for, to save the battery power the screen would be using, but it works for changing video modes without seeing any glitches too.
<br/>
But really, there shouldn't be any problems if you set the palette to all black and/or fade to black with BLDMOD.
<br/>
<br/>
EDIT: And wait until VBlank to switch, that should go smoothly even if the screen is not blacked out.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15744 - Touchstone - Wed Jan 28, 2004 9:48 pm</h4>
    <div class="postbody"><span class="postbody">By setting the forced blank bit in the display control register (http://www.work.de/nocash/gbatek.htm#lcdiodisplaycontrol)
<br/>
<br/>
But you don't actually turn off the LCD, which I thought when I wrote the previous post, but you make the video controller draw white instead of whatever the display control register is set up to draw. Don't know if it helps.<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
