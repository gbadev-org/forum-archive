<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Can't show multiple backgrounds - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > Can't show multiple backgrounds</h2>
<div id="posts">
<div class="post">
    <h4>#64515 - gs2phateon - Fri Dec 23, 2005 6:03 am</h4>
    <div class="postbody"><span class="postbody">I've been having trouble with this for days now.  I can draw one back ground, but not mutliple.  Every tutorial on backgrounds has only done one, so I figured I'd try here.  I can draw two backgrounds, but they always end up being the same.  Any tips?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64519 - gauauu - Fri Dec 23, 2005 6:28 am</h4>
    <div class="postbody"><span class="postbody">What do you mean by "the same"....they use the same tile graphics, or they end up having the same map?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64520 - gs2phateon - Fri Dec 23, 2005 6:32 am</h4>
    <div class="postbody"><span class="postbody">Ok, they end up using the same map.  I'm pretty sure that is because both my maps and tiles are stored at the same place, which is why I'm having this problem.
<br/>
<br/>
  I've been reading up on this (again) just now, and it says to put the tiles at different character base blocks, and the maps at different screen base blocks.  I tried that for both, but it isn't working.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64521 - poslundc - Fri Dec 23, 2005 6:35 am</h4>
    <div class="postbody"><span class="postbody">Are your REG_BGXCNT registers for the two backgrounds each pointing to the correct CBB and SBB?
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64523 - gs2phateon - Fri Dec 23, 2005 6:49 am</h4>
    <div class="postbody"><span class="postbody">Wow.  Ok, I changed REGBG0CNT and REGBG1CNT, and that definitely helped.  But it still doesn't look right...
<br/>
<br/>
This is what I have right now
<br/>
Background 0-Tiles on CBB 0, Map on SBB 30
<br/>
Background 1-Tiles on CBB 1, Map on SBB 31
<br/>
<br/>
I can see two disctinctively different backgrounds (thank you so much!), but there some corruption.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64525 - gs2phateon - Fri Dec 23, 2005 6:59 am</h4>
    <div class="postbody"><span class="postbody">I don't know if this helps, but I'm using mode 0.
<br/>
Also, my background 1 is working just fine, but background 0 isn't.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64527 - tepples - Fri Dec 23, 2005 7:12 am</h4>
    <div class="postbody"><span class="postbody">How are your background priorities set? If you're using completely nontransparent tiles, then you'll only see the frontmost background.
<br/>
<br/>
How do your tiles and maps look in VisualBoyAdvance's tile viewer and map viewer?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64528 - gs2phateon - Fri Dec 23, 2005 7:22 am</h4>
    <div class="postbody"><span class="postbody">Most of tiles for both backgrounds are transparent.  You're right, the front background is the one i can see clearly.  Here's another point that might be worth bringing up.  The background that isn't working is the one that i coded for first, meaning that something might have overlapped during the process.  I've tried spacing out the CBBs and SBBs for the backgrounds as much as I could, and that didn't fix it.  The only thing left I'm thinking is the palette memory.  How should I space that out?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64532 - tepples - Fri Dec 23, 2005 7:36 am</h4>
    <div class="postbody"><span class="postbody">Are you using 16-color or 256-color tiles for your backgrounds? In general, you should use 16-color tiles unless you have a d*rn good reason not to.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64533 - gs2phateon - Fri Dec 23, 2005 7:58 am</h4>
    <div class="postbody"><span class="postbody">I was using 256 color tiles.  I tried changing the maps so it used 16 color, but now both backgrounds don't look right.  Why isn't it a good idea to use 256 colors?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64534 - gs2phateon - Fri Dec 23, 2005 7:59 am</h4>
    <div class="postbody"><span class="postbody">O wait, the new palette is still 256, I'll try and fix that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64535 - tepples - Fri Dec 23, 2005 8:07 am</h4>
    <div class="postbody"><span class="postbody">Using 16-color tiles will let you cleanly use a separate palette for each background by changing the upper 4 bits of each map entry. It will also make the backgrounds take up much less space in your ROM. If most commercial games for Sega Genesis, Super NES, and GBA can get away with 16-color tiles...<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64536 - gs2phateon - Fri Dec 23, 2005 8:17 am</h4>
    <div class="postbody"><span class="postbody">That's pretty cool.  I tried to make the backgrounds use 16 color tiles, and it worked for the background I wasn't having trouble with.  Do the palettes have to be stored at different locations?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64569 - tepples - Fri Dec 23, 2005 5:29 pm</h4>
    <div class="postbody"><span class="postbody">You would store the 16-color palettes in BG_COLORS[0] through BG_COLORS[15], BG_COLORS[16] through BG_COLORS[31], BG_COLORS[32] through BG_COLORS[47], etc.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64676 - gs2phateon - Sun Dec 25, 2005 2:15 am</h4>
    <div class="postbody"><span class="postbody">Well, i got the backgrounds to work!  It turns out that the progam wasn't accounting for enough tiles, which was it was so messed up.  Anyways, it never would have worked without all the advice i got from everybody in this thread, and I learned a ton more about how the graphics work.  So thanks everybody!
<br/>
<br/>
-gs2</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
