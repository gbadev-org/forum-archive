<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>tile color re-indexer - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > tile color re-indexer</h2>
<div id="posts">
<div class="post">
    <h4>#13825 - RaBBi - Tue Dec 23, 2003 3:12 pm</h4>
    <div class="postbody"><span class="postbody">Hi all ^^
<br/>
<br/>
As discussed in topics about LevelMapper from GBATools, for those who read and followed them ^^, I decided to code a tool that reindexes pixels of 8x8 tiles from a 256 colors bitmap for 16 color mode use.
<br/>
<br/>
I'm going to explain, since this tool is unique-purposed.
<br/>
<br/>
Like I'm not a pixel artist, and not really prepared to write an entire game, all of my GBA stuff is only test.
<br/>
But I like having a certain good looking vision of what I code.
<br/>
So, when map time came, I didn't have tile graphics ready to use and uncrappy.
<br/>
<br/>
I decided to extract ("rip") maps or tiles from commercial game, since my project is only personnal and I don't think to release it until I didn't find an artist to produce our own graphics.
<br/>
<br/>
For games that load tiles as meta-tiles and ordered by palette (I thought about Golden Sun), there was no problem.
<br/>
But this type of game are rare, and rapidly I encoutered others that load tiles as classics 8x8.
<br/>
<br/>
I didn't want to spend too much time in editing/creating maps with little tiles like this, so I decided to use the whole maps loaded in "game memory".
<br/>
<br/>
But exported/ripped bitmaps are in 16M colors.
<br/>
So I must first assign the good palette (that I exported too) to this bitmap, with a graphic soft (like PSP or Photoshop).
<br/>
<br/>
But when reindexing pixels, these softwares take the first color they find in palette, even if this color is present in other indexes.
<br/>
So GBA palette and tile concepts for 16 colors modes are lost ! (it's logical since these tools are not aimed for that ^^) cause a tile can use colors from different 16-colors-row.
<br/>
<br/>
Thus, when I load these bitmaps into map editors (like LevelMapper-&gt;Tile Grabber, or mapEd-&gt;Tileset Validator), I have either a bad result map, either an error when grabbing tiles.
<br/>
<br/>
Let's go back to the main purpose of this topic now.
<br/>
<br/>
I wrote a tool (in a few 8 hours, I'm really surprised that it was so fast :)) that reindexes the 256 colors bitmap so each tile uses colors from a row of 16 (I'm very explicit cause I'm new to GBA dev and I think about others in the same case ^^).
<br/>
<br/>
You must use a bitmap to which you already assigned the original palette from emulator for instance.
<br/>
<br/>
To conclude, I wanted to know if it's interesting that I release this cause :
<br/>
1- it's really targetted
<br/>
2- it's for manage extracted graphics.
<br/>
3- anyone but me needs to do that, I'm a lazy stealer !!! lol
<br/>
<br/>
Tell me what ^^
<br/>
<br/>
Note: this tool is written in C#, so the .NET framework is required.<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#13874 - RaBBi - Wed Dec 24, 2003 8:12 am</h4>
    <div class="postbody"><span class="postbody">Ok, as I thought, it is not an interesting tool. So I'll keep it for my needs...<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14263 - headspin - Sat Jan 03, 2004 3:14 pm</h4>
    <div class="postbody"><span class="postbody">Sounds very helpful actually. Alot of people have issues with palette order and the like.
<br/>
<br/>
Perhaps if you made a simple tool that allows people to load a graphic and "drag" palette order around as well as load palettes from other bitmaps would be the ideal tool everyone is looking for. I've even thought about doing this myself, but I'm a little rusty on C++/Windows coding.
<br/>
<br/>
Is your tool command-line or windows?
<br/>
<br/>
Anyway, provide a link and I'd like to check it out anyway.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14273 - RaBBi - Sat Jan 03, 2004 5:05 pm</h4>
    <div class="postbody"><span class="postbody">Hi, thank for reply at least ^^
<br/>
<br/>
This tool is command-line based and it's not designed to manually manage the palette colors.
<br/>
<br/>
It is useful in addition to graphics softwares with which you can assign a 256 colors palette to your original image.
<br/>
Then, with this tool, you can launch the reindexing of all the pixels of all the tile so the output image is ready to be loaded in 16 colors map editors.
<br/>
<br/>
As all my source images have a last 8_pixels_height_row in black tiles, and like someone wasn't interested before you post, I didn't fix a little bug with this last line.
<br/>
<br/>
I'll fix it, then write the /? instructions and post a link here ^^<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
