<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sprite lighen/darken - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > Sprite lighen/darken</h2>
<div id="posts">
<div class="post">
    <h4>#26421 - Gene Ostrowski - Wed Sep 15, 2004 2:58 am</h4>
    <div class="postbody"><span class="postbody">Anyone know how to get an OBJ to lighten other OBJS and BGs?
<br/>
<br/>
The gbatak docs indicate that it's possible, and I've seen some games that <span style="font-style: italic">appear </span>to be using sprites to lighten other sprites, but I've played with every combination of BLDY, BLDCNT and BLDALPHA that I could and cant get it to work.
<br/>
<br/>
The best I can do is get the sprite to lighten BGs, but it wants to ignore the OBJS underneath it.
<br/>
<br/>
I know the unit cannot alpha-blend between OBJs, but it appears to be somehow possible to use the lighten effect between OBJs.
<br/>
<br/>
Anyone ever get this to work, and if so what values for the regs did you use?
<br/>
<br/>
Thanks in advance.<br/>_________________<br/>------------------
<br/>
Gene Ostrowski</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#26422 - sajiimori - Wed Sep 15, 2004 3:11 am</h4>
    <div class="postbody"><span class="postbody">Sprites can't blend with other sprites.  You could flicker the top sprite every frame for a poor-man's blend.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#26424 - zazery - Wed Sep 15, 2004 6:58 am</h4>
    <div class="postbody"><span class="postbody">I've never done either of these before but two solutions came to mind. I don't think they are the best solution but a solution nonetheless.
<br/>
<ol type="1"><li>Use a background just for blending effects. Have the map scroll with the sprite and using a few tiles (assuming tile mode here) and plot out an opaque sprite just like the actual one. Fill it with whatever colour to blend it with and then finally blend the layer with the sprite.
<br/>
<br/>
</li><li>Use calculations to determine the difference and change the sprite pallete accordingly.
<br/>
</li></ol></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#26426 - DekuTree64 - Wed Sep 15, 2004 7:07 am</h4>
    <div class="postbody"><span class="postbody">Well it is possible to blend certain sprites with BGs (or just brightened/darkened) without doing all sprites, by setting the alpha mode to 0 (which is normally 'off'), and turning on the alpha bit in the OAM. 
<br/>
You still can't blend sprites with sprites (if you have a half transparent sprite on top of an opaque one, the transparent just blends with the BG underneath, ignoring the opaque sprite inbetween), but it does allow a little more flexibility in special effects being able to use transparent sprites for particles and such.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
