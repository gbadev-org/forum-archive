<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Map Editor Help needed - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > Map Editor Help needed</h2>
<div id="posts">
<div class="post">
    <h4>#6884 - einhaender - Wed Jun 04, 2003 5:52 am</h4>
    <div class="postbody"><span class="postbody">Hi, iam having a little difficulties here. I have a very large tileset and every tile is different.
<br/>
<br/>
#define  BG_WIDTH   160
<br/>
#define  BG_HEIGHT  128
<br/>
const u16 BgData[] = { .... }
<br/>
<br/>
Now with Map Editor Beta I built my Background and exported it to a 
<br/>
.c file. However, since the the Editor builds something like
<br/>
const u8 map[ 64 * 64 ] = { .. } , and there are so many tiles, the map
<br/>
array will hold illegal integer values like:
<br/>
const u8 map[ 64 * 64 ] = { 
<br/>
   ... 0x104,0x105,0x106 ...
<br/>
}
<br/>
There seems to be no posibility to change the datatype in Map Editor beta.
<br/>
Then I tried Mappy with Fmp2Gba but the output is different and there are no good examples on how to use it. Since Iam coming from gbajunkies tutorial which uses Map Editor beta, my code reading the mapdata array looks like:
<br/>
<br/>
typedef struct Bg
<br/>
{ ... }Bg;
<br/>
<br/>
Bg bg0;
<br/>
<br/>
// load Background Palette
<br/>
for(loop = 0; loop &lt; 256; loop++) {
<br/>
  BGPaletteMem[loop] = BgPalette[loop]; 
<br/>
}
<br/>
<br/>
// load background tile data	                       
<br/>
for(loop = 0; loop &lt; BG_WIDTH * BG_HEIGHT /2; loop++) {
<br/>
  bg0.tileData[loop] = BgData[loop]; 
<br/>
}
<br/>
<br/>
temp = (u16*)maparray;
<br/>
for(loop = 0; loop &lt; 32*8/2; loop++) 
<br/>
  bg0.mapData[loop] = temp[loop];
<br/>
<br/>
So if anyone found a solution for Map Editor beta to deal with large tilesets and the exported Maps, or has easy to understand explaination on how to use Mappy with the above code, that would be nice.
<br/>
Thanks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9363 - www-fmsoftware-info - Sat Aug 02, 2003 11:55 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">temp = (u16*)maparray; 
<br/>
for(loop = 0; loop &lt; 32*8/2; loop++) 
<br/>
bg0.mapData[loop] = temp[loop]; </td> </tr></table><span class="postbody">
<br/>
<br/>
This may be the problem.  If the map is 256x256 its made from 32x32 8x8 tiles:
<br/>
for(loop = 0; loop &lt; (32*32)/2; loop++) 
<br/>
bg0.mapData[loop] = temp[loop];
<br/>
<br/>
If the map is 512x512 its made from 64x64 8x8 tiles:
<br/>
for(loop = 0; loop &lt; (64*64)/2; loop++) 
<br/>
bg0.mapData[loop] = temp[loop];
<br/>
<br/>
If the map is 1024x1024 its made from 128x128 8x8 tiles:
<br/>
for(loop = 0; loop &lt; (128*128)/2; loop++) 
<br/>
bg0.mapData[loop] = temp[loop];
<br/>
<br/>
hope this helps.<br/>_________________<br/><a href="http://www.fmsoftware.btinternet.co.uk/Pictures/3dGBA.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<a class="postlink" href="http://www.fmsoftware.info" target="_blank">www.fmsoftware.info</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
