<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>8-bit PCX - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > 8-bit PCX</h2>
<div id="posts">
<div class="post">
    <h4>#68380 - jake2431 - Tue Jan 24, 2006 4:47 am</h4>
    <div class="postbody"><span class="postbody">Does anyone know a program that can create 8-bit pcx files? I have photoshop elements, but fail to figure out how to save the pcx images to a certain bit depth. My favorite program for this is graphics gale, but it doesn't support pcx and thats what I need.
<br/>
<br/>
-Jake</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68384 - nmain - Tue Jan 24, 2006 5:26 am</h4>
    <div class="postbody"><span class="postbody">irfanview can convert to pcx</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68392 - tepples - Tue Jan 24, 2006 6:12 am</h4>
    <div class="postbody"><span class="postbody">This should work in GIMP or Photoshop: Convert the image to indexed color mode using 17 through 256 colors and no alpha channel, save as bmp or pcx, and you'll get what your conversion tool is expecting.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68563 - jake2431 - Wed Jan 25, 2006 6:39 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, thanks tepples. That method works great!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82448 - Dark Knight ez - Sat May 06, 2006 2:18 pm</h4>
    <div class="postbody"><span class="postbody">Is it required to have at least 17 colours in the palette? Could that be causing me not getting transparency of sprites to work?  (I only have 3 colours, of which the first I'd like to be transparent.)
<br/>
<br/>
edit: I just read in another topic, that it might be because Photoshop reverses the palette... which is exactly what I was seeing in the output of pcx2sprite. I'm going to make the last palette entry be the transparent one, and that should fix things.... I hope.
<br/>
I'm still interested in hearing about why you mentioned 17 colours though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82455 - Lord Graga - Sat May 06, 2006 3:36 pm</h4>
    <div class="postbody"><span class="postbody">You shouldn't be using pcx2gba. If you can, then use gfx2gba, as it is way more sophisticated and allows binary output, which compiles faster.
<br/>
<br/>
When I do highcolor-&gt;256 color conversion, then I use Photoshop with indexed colormode as mentioned previously, and save as 8-bit BMP. Notice that it might be a good idea to turn on dithering if you are having a lot of colors. (Alternatively, you can just convert with Graphics Gale if it supports the format with the Color Depth option).
<br/>
After Photoshop conversion, I using Graphics Gale to choose my BG color. Just right-click the image where the transperancy is, and shift-drag the highlighted palettebox to index 0. Easy, and it works like a charm.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#82463 - SevenString - Sat May 06, 2006 6:20 pm</h4>
    <div class="postbody"><span class="postbody">Sorry if this is going to go a little OT, but some of these techniques have been very useful for me...
<br/>
<br/>
<br/>
I agree with Lord Graga that gfx2gba is pretty cool, especially the versatility that lets you do binary output.  Another tool that I use AFTER the gfx2gba stage is <span style="font-style: italic"><span style="font-weight: bold">katie</span></span> -
<br/>
<br/>
<a href="http://www.console-dev.de/katie.html" target="_blank">http://www.console-dev.de/katie.html</a>
<br/>
<br/>
I use <span style="font-style: italic"><span style="font-weight: bold">katie</span></span> to concatenate all of my data into a single raw file, and it automatically produces a resource header that gives you the proper offsets and sizes for that raw data.
<br/>
<br/>
You can choose to either link the <span style="font-style: italic"><span style="font-weight: bold">katie</span></span> generated <span style="font-style: italic"><span style="font-weight: bold">ResourceData.o</span></span> file directly with the code to produce a self-contained ROM image, or if you're using a GBAMP2 or similar piece of kit, you can set up your program to load the <span style="font-style: italic"><span style="font-weight: bold">ResourceData.raw</span></span> file dynamically using chism's FAT library.
<br/>
<br/>
The cool thing is that the resource header generated by <span style="font-style: italic"><span style="font-weight: bold">katie</span></span> can be used for both types of builds.  The same offsets/sizes work with the data in your ROM, or as as offsets/sizes for FAT_fseek/FAT_fread calls as you access the <span style="font-style: italic"><span style="font-weight: bold">ResourceData.raw</span></span> file.
<br/>
<br/>
I have my own data IO wrapper functions set up so that IO requests automatically use that resource header data in the right way, depending on the type of build I have specified.  I also have a specialized "free" function that actually frees the data if it was allocated and loaded from a FAT function, or does nothing if the data was originally returned as a pointer to a ROM location.
<br/>
<br/>
As a side note, I automatically generate both types of builds in my makefile so that I can always run on my PC with an emulator using the "ROM data" version, and run on my GBAMP2 using the "CF data" version.
<br/>
<br/>
Finally, be aware that I'm no expert on gba/nds data management.  I haven't really felt the urge to investigate other similar tools because <span style="font-style: italic"><span style="font-weight: bold">katie</span></span> does what I need it to do quite nicely.  There may be something out there that someone likes better, or that works better for their needs.  Using <span style="font-style: italic"><span style="font-weight: bold">katie</span></span> is only my own personal choice.<br/>_________________<br/><span style="font-style: italic">"Artificial Intelligence is no match for natural stupidity."</span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
