<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Mode 3 or Mode 4? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > Mode 3 or Mode 4?</h2>
<div id="posts">
<div class="post">
    <h4>#17234 - josath - Thu Mar 04, 2004 6:41 pm</h4>
    <div class="postbody"><span class="postbody">I'm porting a very simple dos game to gba using mode 4, and i'm running in to some trouble with it, because it will only let me write 2 pixels at once. So, my question is, 
<br/>
<br/>
-Should I stick with mode 4, and for each pixel, read the 2 pixels from vram, modify one, and then write it back to vram, 
<br/>
-or should I switch over to mode 3, and be able to write one pixel at a time?
<br/>
<br/>
Number of colors is not an issue, it's a CGA game (ie, 4 colors only).
<br/>
Eventually, I will probably rewrite it to take advantage of the GBA's graphics hardware (sprites, bg scrolling, etc), but I want to see if I can get it up and running with more of a direct port first.
<br/>
<br/>
(in case anyone's interested, the game is called Sopwith, and I'm using this codebase here: <a class="postlink" href="http://sdl-sopwith.sf.net/" target="_blank">http://sdl-sopwith.sf.net/</a>
<br/>
<br/>
a screenshot of what i've done so far:
<br/>
<a class="postlink" href="http://rorex.isa-geek.net/sopwith.png" target="_blank">http://rorex.isa-geek.net/sopwith.png</a>
<br/>
<br/>
a screenshot from the actual game i'm trying to port:
<br/>
<a class="postlink" href="http://rorex.isa-geek.net/sopwith2.png" target="_blank">http://rorex.isa-geek.net/sopwith2.png</a>
<br/>
<br/>
notice how the pixels are doubled in mine.
<br/>
<br/>
thanks!
<br/>
<br/>
EDIT:
<br/>
Here's the game if you want to try it out, I have the input working enough to play now (read the included README.txt)
<br/>
<a class="postlink" href="http://rorex.isa-geek.net/sopwith.zip" target="_blank">http://rorex.isa-geek.net/sopwith.zip</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17236 - sajiimori - Thu Mar 04, 2004 7:51 pm</h4>
    <div class="postbody"><span class="postbody">Since you're not concerned about speed yet, just read 2, modify, and write 2.  If it turns out to be fast enough, great, and if not you can think about sprites.  Also, you could try to rearrange the code so that it always writes 2 pixels, which is easy if you're already drawing rows of pixels at a time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17238 - Lupin - Thu Mar 04, 2004 8:08 pm</h4>
    <div class="postbody"><span class="postbody">i have the same problem... but in my case it's not about speed or colors, it is about registers :)
<br/>
<br/>
I have a voxel renderer that always renders 2 columns, but I also need as twice as much registers as i need for rendering 1 column and that's why i have to use stack operations (i am pushing/poping to the stack in a loop which is definately bad for speed). But if i would use mode3 i would have no backbuffer, though at the current state my rom works just fine without one i would perhaps need one if i add more stuff to it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17240 - tepples - Thu Mar 04, 2004 8:24 pm</h4>
    <div class="postbody"><span class="postbody">If you use rotated/stretched mode 5, you will have your back buffer and your word-sized pixels, but you will drop down to 120x160, but you will probably also double your frame rate.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17241 - josath - Thu Mar 04, 2004 9:51 pm</h4>
    <div class="postbody"><span class="postbody">yay! I got it working! (except for 1 or two minor cosmetic things)
<br/>
<br/>
see screenshots and play it here:
<br/>
<br/>
<a class="postlink" href="http://rorex.isa-geek.net/sopwith/" target="_blank">http://rorex.isa-geek.net/sopwith/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17246 - Lupin - Thu Mar 04, 2004 11:59 pm</h4>
    <div class="postbody"><span class="postbody">nice port! I will test it on my gba :)
<br/>
<br/>
tepples, i also thought about that, but i want to write something special that's not like all the other voxel renderers ;P
<br/>
<br/>
I really want full resolution because it looks way better.
<br/>
<br/>
Did you play V-Rally3? It has fullscreen 3D gfx, that's way better than these mode 5 3D gfx engines (though it has less detail of course)! I really wonder how they got full 3D work in full resolution...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17263 - sajiimori - Fri Mar 05, 2004 5:56 am</h4>
    <div class="postbody"><span class="postbody">How cute!!  I love it. :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17265 - headspin - Fri Mar 05, 2004 9:18 am</h4>
    <div class="postbody"><span class="postbody">Used to play this game in highschool, nice port!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17277 - josath - Fri Mar 05, 2004 4:02 pm</h4>
    <div class="postbody"><span class="postbody">a question: is 'news@gbadev.org' the correct address to get your demo posted on the front page? i sent in something more than a week ago and it never got posted
<br/>
<br/>
EDIT: Never mind, they just posted them =P</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
