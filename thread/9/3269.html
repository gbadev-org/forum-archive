<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>BMP > *.h - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > BMP > *.h</h2>
<div id="posts">
<div class="post">
    <h4>#19525 - Viper - Wed Apr 21, 2004 2:38 pm</h4>
    <div class="postbody"><span class="postbody">Hi all I'm sorta new here to all GBA programming etc. and I got a few questions about it.
<br/>
<br/>
I'm looking for a good bmp to array (header) converter. I did found one on the site but I didn't like that one. Does anyone know one that does work good?
<br/>
<br/>
Thanks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19527 - windfive - Wed Apr 21, 2004 2:51 pm</h4>
    <div class="postbody"><span class="postbody">You can try the "gfx2gba" tool, and also the official tool "bmp2agb" is good enough.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19549 - sajiimori - Wed Apr 21, 2004 7:42 pm</h4>
    <div class="postbody"><span class="postbody">I've heard there are 2 utilities called gfx2gba.  It seems like the one here is good:
<br/>
<br/>
<a href="http://www.ohnehirn.de/tools/" target="_blank">http://www.ohnehirn.de/tools/</a>
<br/>
<br/>
If you can manage, avoid using headers and C files to store bitmaps.  It's slow to compile and bad style in general.  Try using raw binaries.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19573 - Spockmeat - Thu Apr 22, 2004 5:34 am</h4>
    <div class="postbody"><span class="postbody">I'm curious as to why storing bitmaps in a .h or .c file would be considered bad style. I mean, it's far easier to simply use an array and index into it to get the info you want than it is to read through a raw data file. I mean, there is no space savings, the and the code is far easier to write and understand.
<br/>
<br/>
And compile time shouldn't be affected unless you recompile the files, which doesn't happen unless you clean the build or change them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19574 - windfive - Thu Apr 22, 2004 6:31 am</h4>
    <div class="postbody"><span class="postbody">And here is the usage of the gfx2gba tool.
<br/>
<a class="postlink" href="http://www.aaronrogers.com/ham/gfx2gba_readme.php" target="_blank">http://www.aaronrogers.com/ham/gfx2gba_readme.php</a>
<br/>
<br/>
[/u]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19578 - Sweex - Thu Apr 22, 2004 8:35 am</h4>
    <div class="postbody"><span class="postbody">I agree with sajiimori, that it is bad style and all. BUT, for a newbie, it is a good way of learning how things work. And I'm sure that once one is familiar the way graphics work, he wants to move away from generated .c/.h files asap!
<br/>
<br/>
I've started with generated code myself, but then written my own filesystem + (really neat!:) conversion/packing tool that is included in my make file.<br/>_________________<br/>If everything fails, read the manual: If even that fails, post on forum!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19605 - sajiimori - Thu Apr 22, 2004 7:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I mean, it's far easier to simply use an array and index into it to get the info you want than it is to read through a raw data file.
<br/>
</td> </tr></table><span class="postbody">
<br/>
You can treat anything as an array -- it doesn't have to be declared as such.  In other words, you can index into raw data if you want (though most gfx data will probably be DMA copied anyway).
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
And compile time shouldn't be affected unless you recompile the files, which doesn't happen unless you clean the build or change them.
<br/>
</td> </tr></table><span class="postbody">
<br/>
Perhaps this is true if you are developing a game where the graphics are all done beforehand, and never change.  In real life, resources are changed all the time.
<br/>
<br/>
Anyway, Sweex is right that it doesn't matter that much when you're just learning.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19819 - sgeos - Mon Apr 26, 2004 2:24 am</h4>
    <div class="postbody"><span class="postbody">How do I compile some image.raw into my binary?  How do I access the data in image.raw from my source code?
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19826 - MumblyJoe - Mon Apr 26, 2004 8:50 am</h4>
    <div class="postbody"><span class="postbody">Depends how complex you want to get and how much time you have but personally i write all my own tools, i have a bunch for different bitmap conversion tools that output headers with extra data specifically for the engine i wrote.
<br/>
<br/>
Also if you are doing a really simple picture its not hard to just type in a picture straight into the code, if you are using under five colors it almost looks like ascii art. Of course the byte ordering screws this a little but if you make constants for colors that are all one letter it works pretty well all round.<br/>_________________<br/><a class="postlink" href="http://www.hungrydeveloper.com" target="_blank">www.hungrydeveloper.com</a>
<br/>
Version 2.0 now up - guaranteed at least 100% more pleasing!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21579 - tornadokick - Tue Jun 01, 2004 5:13 am</h4>
    <div class="postbody"><span class="postbody">I'm having a similar problem; I want to display an image (I'm still in the basic stages of gba development.), but most programs seem to only accept .pcx files.  I don't know how to make a .pcx file, and the only thing I can use is a .bmp file (16, 256-color types).  
<br/>
<br/>
And I'll repeat sgeos's question, "How do I compile some image.raw into my binary? How do I access the data in image.raw from my source code?"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21589 - sajiimori - Tue Jun 01, 2004 4:10 pm</h4>
    <div class="postbody"><span class="postbody">tornadokick, did you look at the converter that's linked earlier in this thread?
<br/>
<br/>
The simplest way I've found to get raw data into a ROM is to make an object file out of it and link it in.  This way is nice because you get a plain C symbol to access it.  Use this command:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
ld -A elf32-littlearm --format binary --oformat \
<br/>
  elf32-littlearm -r -EL -T bin2rodata.x \
<br/>
  -o data.o data.raw
<br/>
</td> </tr></table><span class="postbody">
<br/>
Where bin2rodata.x is a file containing this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
SECTIONS {
<br/>
   .rodata : {
<br/>
       *(.data)
<br/>
   }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
Then the contents of data.raw will be accessible via the C symbols:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
extern void* _binary_data_raw_start;
<br/>
extern void* _binary_data_raw_end;
<br/>
extern void* _binary_data_raw_size;
<br/>
</td> </tr></table><span class="postbody">
<br/>
Anybody know an easier way?  Appending can work (especially when you're using a filesystem), but how about easier ways to get multiple raw data objects accessible via C symbols?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21655 - tepples - Wed Jun 02, 2004 6:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tornadokick wrote:</b></span></td> </tr> <tr> <td class="quote">but most programs seem to only accept .pcx files.  I don't know how to make a .pcx file, and the only thing I can use is a .bmp file (16, 256-color types).</td> </tr></table><span class="postbody">
<br/>
Then you might want to raid the tools built as part of <a class="postlink" href="http://www.pineight.com/tod/" target="_blank">TOD</a>'s build process for ideas. All my tools can handle all the formats that the <a class="postlink" href="http://alleg.sourceforge.net/" target="_blank">Allegro library</a> can handle by default, namely .bmp, .pcx, and .tga.
<br/>
<br/>
What paint program are you using? <a class="postlink" href="http://www.gimp.org/" target="_blank">GIMP</a> should be able to work with both .pcx and .bmp files.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
