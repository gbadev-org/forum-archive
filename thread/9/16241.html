<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>BG Transparency Effect - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > BG Transparency Effect</h2>
<div id="posts">
<div class="post">
    <h4>#164958 - brave_orakio - Thu Dec 04, 2008 2:17 am</h4>
    <div class="postbody"><span class="postbody">Hi guys, I was wondering if there was any way to make certain parts of a BG transparent while the others are opaque(For GBA in case you're wondering what system)? 
<br/>
<br/>
Also, if you are familiar with any game with a day and night cycle, what does this game use? A transparent background or a change in palette to simulate the day/night effect?<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164960 - DekuTree64 - Thu Dec 04, 2008 3:15 am</h4>
    <div class="postbody"><span class="postbody">1. Normally, no. But I think you can make a window with blending enabled inside and disabled outside. And you could make that an OBJ window, or do HBlank resizing of it to make shapes other than a rectangle.
<br/>
<br/>
2. Not sure if I've seen any GBA games do dynamic day/night, but Seiken Densetsu 3 on SNES does, and I'm pretty sure it uses palette modification.
<br/>
If it were up to me, I'd make a day palette and night palette for everything (and morning/sunset if you have time), and interpolate between them. Or if you don't have time to do hand-made palettes, modify the palette in code.
<br/>
<br/>
An overlay might be ok if you only plan to use it a few times, but it would probably look pretty washed out since the GBA can't do per-color channel blending. So to get any sort of a blue tint, you'd have to be alpha blending against some single shade of blue.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164963 - brave_orakio - Thu Dec 04, 2008 6:00 am</h4>
    <div class="postbody"><span class="postbody">Hey thanks! I'll look into the Window of GBA and see what I can do with it. 
<br/>
<br/>
Actually I was thinking of Seiken Densetsu 3 When I asked that question. Thanks again!<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164970 - Miked0801 - Thu Dec 04, 2008 5:47 pm</h4>
    <div class="postbody"><span class="postbody">In Harry Potter 3, for night scenes, we just palette tweened to a night palette if available, or just took the red and green channels down to 50% if not.  Just tweaking the red/green gave a nice effect and can be done cheap.  The same code can be changed to take down the blue to give a nice sepia effect (used as well for flashbacks.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164980 - brave_orakio - Fri Dec 05, 2008 2:45 am</h4>
    <div class="postbody"><span class="postbody">What does palette tween mean? I'm not familiar with the process.
<br/>
<br/>
Yes it is possible for me to take down the Green and Red palette. I'll check that out as well.
<br/>
<br/>
Although I tried Seiken Densetsu 3 again and I noticed that the Dusk part seems to use an overlay and some palette change then only a palette change when it's completely night.<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164986 - nanou - Fri Dec 05, 2008 4:40 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>brave_orakio wrote:</b></span></td> </tr> <tr> <td class="quote">What does palette tween mean? I'm not familiar with the process.</td> </tr></table><span class="postbody">
<br/>
Tweening is usually the computation of intermediate frames between keyframes in animation. It makes sense to apply it to palettes, too, where you want to progress from one palette to another with a smooth fade. I.e. blend the two palettes according to time progression and the result is the palette you use during the transition. I think that's what Miked0801 is talking about.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164989 - brave_orakio - Fri Dec 05, 2008 6:00 am</h4>
    <div class="postbody"><span class="postbody">Ah I see, thank you. I think that seems a bit more complicated than lowering the red and green values.<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165002 - Miked0801 - Fri Dec 05, 2008 6:26 pm</h4>
    <div class="postbody"><span class="postbody">Not really, you either linear interpolate between a starting and ending palette over time (tween), or you lower the red/green channels of a palette over time. Either way, you need to keep the original palette for calculations so they both take roughly the same amount of work.  A tween gives you more flexibility though - you can leave certain palette entries alone or increase/change them in other ways (think lamps increasing in intensity as other lights fade in a room.)  
<br/>
<br/>
Palette tweening (and cycling) are very powerful, cheap techniques to do amazing things - in the right hands.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165035 - brave_orakio - Sun Dec 07, 2008 1:58 am</h4>
    <div class="postbody"><span class="postbody">Indeed! Thank you very much!
<br/>
I am trying to learn these techniques because I want to see what my options are when I implement certain parts of my game. Thank you very much!<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165111 - tepples - Wed Dec 10, 2008 3:45 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">Not sure if I've seen any GBA games do dynamic day/night, but Seiken Densetsu 3 on SNES does</td> </tr></table><span class="postbody">
<br/>
As does the Super NES version of Donkey Kong Country. I know Animal Crossing for DS does, and I'm guessing the Harvest Moon games might too.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165113 - nyarla - Wed Dec 10, 2008 4:01 am</h4>
    <div class="postbody"><span class="postbody">Yoshi Touch &amp; Go on the DS also does tweening between morning/day/evening/night palettes.. it looks great :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165159 - brave_orakio - Thu Dec 11, 2008 3:45 am</h4>
    <div class="postbody"><span class="postbody">Nice, thank you! I'll go look for videos and hope I see the transitions.<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
