<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>POGO plugin - JPEG - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > POGO plugin - JPEG</h2>
<div id="posts">
<div class="post">
    <h4>#66514 - pure_ev1l - Wed Jan 11, 2006 2:37 pm</h4>
    <div class="postbody"><span class="postbody">I am a fairly good programmer which has had a large increase in spare time resently and have just ordered a gba cart. put them all together and I have developed a desire to fill in the blanks of POGO shell.
<br/>
<br/>
a good jpeg viewer is needed.... fould one that can re-encode it so its viewable, but thats s*** as the point to jpeg is size.
<br/>
<br/>
basicly, all I have found is alot of ppl saying its not possible, which I think is bull after looking into it myself... but I need alittle help...
<br/>
<br/>
A) how do you code into plugins? I bet its very simple but I just dont know the basics to the gba as I have only started learning like 4-5 days ago.
<br/>
<br/>
B) I have researched the jpeg format heavily (last nite) and I need a few bits of info:
<br/>
<br/>
best source I found (and one of the only ones) was <a class="postlink" href="http://www.answers.com/topic/jpeg" target="_blank">http://www.answers.com/topic/jpeg</a>
<br/>
<br/>
and to decode it says I need to do the following steps to seperate 8x8 pixel squares tell me if I'm wrong and help explain the bits I dont get if possible:
<br/>
<br/>
1) <span style="font-weight: bold">Entropy decoding</span> using Huffman method:
<br/>
what format is the data saved? byte by byte? after looking at another explanation it seems its in varying sized words with a stop code on end when the rest of the data is not needed so that it is variable length, is this right?
<br/>
<br/>
2)<span style="font-weight: bold">adding the difference of the DC coefficient back in</span>
<br/>
where is this DC coefficent saved in the file, there would need to be one for each 8x8 pixel block, so start / end I guess?
<br/>
<br/>
3)<span style="font-weight: bold">multiplying it by the quantization matrix</span>
<br/>
this bit got me lost. as the explanation of this bit was sparse, what exactly is quatization and where can you retreive those numbers in the jpg?
<br/>
<br/>
4) <span style="font-weight: bold">adding 128 to eash element</span>
<br/>
peice of piss.
<br/>
<br/>
5)<span style="font-weight: bold"> do this to each channel</span> (brightness, blue, red)
<br/>
ok, this seems easy to understand, my only question is that it does different compession leves on different channels, any idea where this comes into play? think its the quantization part, not sure.
<br/>
<br/>
6)<span style="font-weight: bold">convert back to rgb</span> (or bgr...lol...stupid gba's)
<br/>
I'm not a total idiot, this shud pose no problem
<br/>
<br/>
ok. before you go off on one about how there isn't enough ram...blah blah blah... leave that to me, I think I can cope ;-)... going to use a index to store pointers to locations in jpeg eg line ends or what not, so the gba doesn't need to process whole jpg at once when scrolling or zooming. you may be able to visibly see it decoding, but there is obviously going to be some problem.
<br/>
<br/>
ANY input in appreciated as I will release the plugin when it works</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66540 - headspin - Wed Jan 11, 2006 8:16 pm</h4>
    <div class="postbody"><span class="postbody">Someone has already made a plugin, and released the source...
<br/>
<br/>
<a href="http://www.emuboards.com/invision/index.php?showtopic=18046" target="_blank">http://www.emuboards.com/invision/index.php?showtopic=18046</a>
<br/>
<br/>
You can get Burton Radon's original source from here...
<br/>
<br/>
<a href="http://members.iinet.net.au/~freeaxs/gbacomp/files/gba-jpeg.zip" target="_blank">http://members.iinet.net.au/~freeaxs/gbacomp/files/gba-jpeg.zip</a>
<br/>
<br/>
Write your own jpeg viewer from scratch? Are you crazy! Check out the code above O_o<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66542 - pure_ev1l - Wed Jan 11, 2006 8:22 pm</h4>
    <div class="postbody"><span class="postbody">damn, and I was getting somewhere, why didn't someone tell me sooner!
<br/>
<br/>
got the headers 1/2 way decoded. but I had a fair way to go, so better now rather than a week down the line, thanx :)
<br/>
<br/>
I had oredy tryed it, but as I aint got a cart yet I tryed it on visual boy advance or what ever its called.
<br/>
<br/>
which I have been noticing that gba games and (jpg as thats why I started writting this) dont run on pogoshell emulated.
<br/>
<br/>
is this normal?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66549 - tepples - Wed Jan 11, 2006 10:09 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pure_ev1l wrote:</b></span></td> </tr> <tr> <td class="quote">which I have been noticing that gba games and (jpg as thats why I started writting this) dont run on pogoshell emulated.</td> </tr></table><span class="postbody">
<br/>
To run .gba programs or plug-ins in .gba format, your emulator needs to support the Visoly bankswitching commands used by F2A cards. VisualBoyAdvance does not. To get PogoShell plug-ins to work in VBA, you'll need to convert them to .mb format plug-ins, which load entirely into RAM before running. This involves a re-linking (with gba_mb.specs) and possibly a retooling of how the decoder handles in-memory buffers (as you have less EWRAM available with a .mb program).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66552 - pure_ev1l - Wed Jan 11, 2006 10:23 pm</h4>
    <div class="postbody"><span class="postbody">ah ok, I get it. thanx.
<br/>
<br/>
just 2 little questions for now before I leave this thread:
<br/>
<br/>
1) to write pogo plugins am I right in thinking that you check 0x0203FC00 (to 04) for the value 0xFAB0BABE and if that is correct then the compiled code has been called by pogo then if you read 0x0203FC00 - 4 it tells you the memory address of the file it wants you to process? (also how do you escape to pogo?)
<br/>
<br/>
2) getting a flash card this week, so you dont have to answer this, is the jpg viewer any good? does it zoom? (if it doesn't I may consider moding it, but I'll but it on the back burner as I am making a game)
<br/>
<br/>
this forum is really great, very helpfull, well layed out, and ... nuf said :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78807 - spinal_cord - Sun Apr 09, 2006 11:10 pm</h4>
    <div class="postbody"><span class="postbody">Has anyone tried to make a JPG viewer for GBAMP? it would be more useful than a bmp viewer.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
