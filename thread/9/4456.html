<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>max number of sprites - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > max number of sprites</h2>
<div id="posts">
<div class="post">
    <h4>#29729 - blinky465 - Wed Nov 24, 2004 11:49 am</h4>
    <div class="postbody"><span class="postbody">Sorry if I'm repeating an old query here, but I'm just trying to get my head around best use of my objects/assets.
<br/>
<br/>
For each on screen character, I've an object with a number of parameters (x,y,z,objtype etc). Associated with each object is an on-screen sprite.
<br/>
<br/>
I've created my animations for the sprites as a big column of images (16wx320h) so I can just add an offset (256*frame number) to draw the appropriate frame on the screen.
<br/>
<br/>
What I wanted to know is - is there are limit on the size of a bitmap that can be used as a based for sprites (e.g. could I use a single bitmap of 16x3200 to give me access to 200 separate frames), and is there a limit to the total number of sprites that can be drawn on screen at one time?
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#29733 - poslundc - Wed Nov 24, 2004 3:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>blinky465 wrote:</b></span></td> </tr> <tr> <td class="quote">What I wanted to know is - is there are limit on the size of a bitmap that can be used as a based for sprites (e.g. could I use a single bitmap of 16x3200 to give me access to 200 separate frames)</td> </tr></table><span class="postbody">
<br/>
<br/>
You are limited by the amount of Sprite VRAM you have, which is 32K. An 8x8 tile takes 32 bytes in 16-colour mode, or 64 bytes in 256-colour mode. That's enough for 1024 8x8 tiles in 16-colour mode, or 512 in 256-colour mode. (You have only half that memory in Modes 3-5.) 
<br/>
<br/>
A 16x3200 bitmap will take 25,600 bytes (about 25K) in 16-colour mode, which fits into VRAM (assuming you're in mode 0-2). It will take twice that (about 50K) in 256-colour mode, which won't fit into VRAM, so you would have to swap data in and out of VRAM depending on what's on the screen in a particular frame.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">and is there a limit to the total number of sprites that can be drawn on screen at one time?</td> </tr></table><span class="postbody">
<br/>
<br/>
The short answer is 128, which is the number of OAM entries you have. The longer answer is that there's a way around that limitation, but it's an advanced technique that's fraught with other limitations and not necessary for most games.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#29741 - tepples - Wed Nov 24, 2004 5:28 pm</h4>
    <div class="postbody"><span class="postbody">But <a class="postlink" href="http://www.pineight.com/gba/managing-sprite-vram.txt" target="_blank">swapping sprite cels into VRAM is teh easy</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#29745 - ScottLininger - Wed Nov 24, 2004 6:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>blinky465 wrote:</b></span></td> </tr> <tr> <td class="quote">What I wanted to know is - is there are limit on the size of a bitmap that can be used as a based for sprites (e.g. could I use a single bitmap of 16x3200 to give me access to 200 separate frames), and is there a limit to the total number of sprites that can be drawn on screen at one time?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Yah, like Tepple said, the way to do it is for you to copy your animation frames from ROM to sprite VRAM as you animate. Otherwise you will run out of sprite tile RAM and be hosed.
<br/>
<br/>
Then you're only limited by the size of your ROM. A 16x3200 array on ROM is perfectly fine.
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
