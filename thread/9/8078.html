<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Probably an easy Sprite question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > Probably an easy Sprite question</h2>
<div id="posts">
<div class="post">
    <h4>#66515 - Issac - Wed Jan 11, 2006 3:12 pm</h4>
    <div class="postbody"><span class="postbody">Hello all, I have been searching, and looking through some tutorials, But i can't seem to figure out how to use my sprites.
<br/>
I have: 
<br/>
a 16x16 player sprite. (with black as transparent)
<br/>
a 16x16 "get-this-item" sprite (black as transparent)
<br/>
a 8x8 bullet sprite (black transparency)
<br/>
a 32x32 enemy sprite (black transparency here too)
<br/>
<br/>
Now, How do i insert em all into my game?
<br/>
<br/>
I have set's of .H, pallette.o and data.o for each sprite...
<br/>
<br/>
for example.. all those "0x000000032" things (just don't know what to call them) where in the memory should they be placed and such things...
<br/>
<br/>
hmm, running out of time now, but i hope you get what I need help with..
<br/>
<br/>
pretty noobish eh? =)
<br/>
<br/>
thanks in (gameboy) advance hehehe...<br/>_________________<br/>yeah, well, maybe... or? anyways.... eh...  what was i talking about??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66523 - keldon - Wed Jan 11, 2006 3:44 pm</h4>
    <div class="postbody"><span class="postbody">Check out the Tonc tutorials for how to use sprites in software
<br/>
<a href="http://user.chem.tue.nl/jakvijn/tonc/toc.htm" target="_blank">http://user.chem.tue.nl/jakvijn/tonc/toc.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66761 - Issac - Fri Jan 13, 2006 9:59 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Issac wrote:</b></span></td> </tr> <tr> <td class="quote">Hello all, I have been searching, <span style="font-weight: bold">and looking through some tutorials</span>, But i can't seem to figure out how to use my sprites.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
i've been looking through that... but i can't seem to figure out the things i want to know through these things....
<br/>
<br/>
can someone give a bit more precise eplanation... i must be dumb...<br/>_________________<br/>yeah, well, maybe... or? anyways.... eh...  what was i talking about??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66810 - poslundc - Fri Jan 13, 2006 6:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Issac wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Issac wrote:</b></span></td> </tr> <tr> <td class="quote">Hello all, I have been searching, <span style="font-weight: bold">and looking through some tutorials</span>, But i can't seem to figure out how to use my sprites.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
i've been <span style="font-weight: bold">looking through</span> that... but i can't seem to figure out the things i want to know through these things....</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Try <span style="font-weight: bold">doing</span> all of the code examples instead of merely looking through them, and <span style="font-weight: bold">changing</span> parts of them so you understand how they work better. Eventually you should be able to get one of the sprite demos working, and then see if you can figure out how to swap in one of your own sprites. Try making more than a superficial effort.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66863 - Issac - Fri Jan 13, 2006 11:08 pm</h4>
    <div class="postbody"><span class="postbody">well, im sorry..
<br/>
My english isn't the best, i must say, but i've been looking, reading, trying to understand... but i can't... and what i don't even understand are all the tables and stuff... i think it is kinda advanced written...
<br/>
<br/>
I do know some other stuff, so im not completely stupid.. but now i've been struggling with sprites for a month... without ANY progression.. so i'd like some explaining on certain basic things...
<br/>
<br/>
I mean... i have my small sprites... and on the tonc things there are.. sprites divided into maps and stuff... it gets all confusing...
<br/>
<br/>
what would be best, is some kickstart of my brain.. by telling me some very basic stuff so i atleast understand what all the things are in cearns tutorial...
<br/>
<br/>
(and please, no comments like: "if you don't understand, quit doing this")<br/>_________________<br/>yeah, well, maybe... or? anyways.... eh...  what was i talking about??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66864 - keldon - Fri Jan 13, 2006 11:19 pm</h4>
    <div class="postbody"><span class="postbody">Hmmm. I would suggest doing the following:
<br/>
<br/>
(a) get some code that loads a single 8x8 tile into sprite memory using any method
<br/>
(b) get this one sprite to display
<br/>
(c) get some code that loads a 16x8 (or any other size) sprite into memory in either 1D or 2D mode
<br/>
(d) get this one sprite to display
<br/>
<br/>
In fact you can just take the tonc sprite example and learn from there. First you must make sure that you have the correct sprite data loaded. Next you use the correct attributes. Use the TONC defines for setting the object attributes for now.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66866 - poslundc - Fri Jan 13, 2006 11:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Issac wrote:</b></span></td> </tr> <tr> <td class="quote">(and please, no comments like: "if you don't understand, quit doing this")</td> </tr></table><span class="postbody">
<br/>
<br/>
Quit doing what? You haven't <span style="font-style: italic">done</span> anything yet.
<br/>
<br/>
Try running the code in the tutorial. Then try changing it. Let us know where you run into <span style="font-weight: bold">specific problems</span> and we'll help as best we can.
<br/>
<br/>
Just saying "I don't get it" doesn't help us explain things to you. Things are already explained in the tutorial. What would you have us say that hasn't already been said there?
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66870 - Issac - Sat Jan 14, 2006 12:21 am</h4>
    <div class="postbody"><span class="postbody">I meant quit trying to code for the gba... and yes i HAVE done something...
<br/>
<br/>
i've already made a pong clone...
<br/>
<br/>
and.. on this one.. i've made the basic stuff, and backgrounds..
<br/>
<br/>
the pong clone had normal graphic / bitmapped things as players.... and not sprites.. and i want to use sprites for this game...
<br/>
<br/>
but okay... i will try the tonc guide for the fiftyelfth time.. :P<br/>_________________<br/>yeah, well, maybe... or? anyways.... eh...  what was i talking about??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66881 - pure_ev1l - Sat Jan 14, 2006 2:19 am</h4>
    <div class="postbody"><span class="postbody">*sigh* - experts can be mean sometimes, but you have to see it from there point of view, same questions again and again.<br/>_________________<br/>-Rory
<br/>
<br/>
 "Planning makes for a boring life, but a good game"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66884 - gauauu - Sat Jan 14, 2006 2:46 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">and what i don't even understand are all the tables and stuff.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'll go out on a limb and try to help, even though like everyone else, I'm not sure where you're having problems.
<br/>
<br/>
Those tables of sprite attributes work like this.  Each sprite has a few bytes of data that control what is displayed to the screen.    You set certain bits in these bytes to get different effects.
<br/>
<br/>
So, for example, if you want to change a sprite's shape, you look in the tables and see which bits control the shape....bits E-F of attribute 0.  So you write to those bits to set the sprite to the shape you want.  (you'll HAVE to have an understanding of bitwise operators to be able to do this....if code like:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">sprite-&gt;attribute1 &amp;= ~(0x03 &lt;&lt; 14);</td> </tr></table><span class="postbody">
<br/>
makes no sense to you, first go find a tutorial about bit operators such).
<br/>
<br/>
Another thing that might be causing you grief is how much of the tutorials refer to actual memory locations.  The tutorials are always saying things like </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">This starts at address 0700:0000h and is 1024 bytes long</td> </tr></table><span class="postbody">.
<br/>
<br/>
Unlike most windows/pc programming, on GBA, you'll be writing directly to specific memory locations A LOT.   How do you write to specific memory?  The easiest way is to get yourself a basic gba.h that defines a lot of these memory locations, possibly like:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">u32* OAMmem        =(u32*)0x7000000;</td> </tr></table><span class="postbody">
<br/>
Then you can write to the memory directly as easy as:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">*OAMmem = yourdata;</td> </tr></table><span class="postbody">
<br/>
or using array indexing:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">OAMmem[index] = value;</td> </tr></table><span class="postbody">
<br/>
<br/>
Anyway, if tonc is making no sense to you, maybe you'll need to back up and get a better grasp of how these types of memory/bitwise/pointer operations work.  
<br/>
<br/>
Or maybe I'm totally going the wrong direction, and there's something else that's losing you?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66987 - Cearn - Sat Jan 14, 2006 10:14 pm</h4>
    <div class="postbody"><span class="postbody">Before we gon into explanations of how GBA sprites work, it might be better to get an idea of how well you understand what's going on first.
<br/>
<ol type="1"><li>Do you understand the basic principles of memory and how you can use it in programming? The use of different data-types (char, short, int)? Arrays and pointers? Hexidecimal numbers? You must have used it to make the pong thing, but do you actually <span style="font-style: italic">understand</span> what you're doing, rather than copying what everybody else does?
<br/>
</li><li>Do you understand that the values in memory can have a different <span style="font-weight: bold">interpretation</span>. For example, I hope you know that VRAM starts at address 0x0600:0000. So what happens if I put 0x001F (red in 16bit BGR format) in the first halfword of VRAM? If you answered that it'd plot a red pixel on the screen, you are <span style="font-weight: bold">wrong</span>! This will only be true for modes 3 and 5, but not for the others. VRAM is not a simple representation of the screen. The way its contents are used depends on the video mode, and a few other things.
<br/>
</li><li>Do you know how memory is used for a bitmap? It is a not a bunch of colored pixels, but a bunch of bytes with values, interpreted by a program in a certain way so that it <span style="font-style: italic">looks</span> like a bunch of colored pixels to us humans. Can you see the distinction?
<br/>
</li><li>Do you understand how the IO registers work? The stuff starting at 0x0400:0000 I mean. Do you understand that bits can acts as switches (in fact, they <span style="font-style: italic">are</span> switches), and that setting or clearing a single one or a group of them can be used to establish different effects (like setting the video mode)?
<br/>
</li><li>What do you think sprites are? What does it mean when someone mentions the word 'sprite' to you? If your answer is something like "a smaller bitmap on screen", that is the wrong way of looking at them for a programmer. A sprite actually encompasses a number of things, the bitmap is only the visual <span style="font-weight: bold">representation</span>. For the GBA, what makes up a sprite are its <span style="font-style: italic">attributes</span>: position, size, shape, flip/rotation flags, order and what not. These are kept in OAM (Object Attribute Memory, 0x0700:0000). The stuff that goes into object VRAM (0x0601:0000) has almost nothing to do with what an object actually <span style="font-style: italic">is</span>, it is only a depository for what a sprite can <span style="font-style: italic">use</span> for its graphical representation. </li></ol>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Issac wrote:</b></span></td> </tr> <tr> <td class="quote">for example.. all those "0x000000032" things (just don't know what to call them) where in the memory should they be placed and such things... </td> </tr></table><span class="postbody">
<br/>
"Data" perhaps. We can't tell you where to put all the "0x000000032" things, if we don't know which things you are referring to. If it's the graphics data you mean, you put that in object VRAM in this case.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Issac wrote:</b></span></td> </tr> <tr> <td class="quote">...what i don't even understand are all the tables and stuff...</td> </tr></table><span class="postbody"> Which tables? <a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/regobj.htm#tbl-oe-attr0" target="_blank">these things</a>, for the attributes? There's nothing really to understand about them, they just indicate which bits control which effects, exactly like what all the IO registers do.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Issac wrote:</b></span></td> </tr> <tr> <td class="quote">and on the tonc things there are.. sprites divided into maps and stuff... it gets all confusing... </td> </tr></table><span class="postbody">
<br/>
Maps? Not sure what you're referring to here. I do compare them to tilemaps because in a lot of ways they are very similar, but I can't recall actually saying they are divided into maps.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">Try running the code in the tutorial. Then try changing it. Let us know where you run into specific problems and we'll help as best we can. </td> </tr></table><span class="postbody"> This is good advice. At what point do you start to get lost?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69717 - Issac - Wed Feb 01, 2006 2:48 pm</h4>
    <div class="postbody"><span class="postbody">Hey, Long time no writing for me... 
<br/>
Thanks Cearn, that helped.
<br/>
and Thanks gauauu.
<br/>
<br/>
this made some more sense...
<br/>
<br/>
And i've probably been in a "bad understanding"-period...
<br/>
<br/>
ive inserted a sprite, but it wont show up... ive been looking a lot..... and will look a bit more.. but if I fail, is it okay to mail my source or something?
<br/>
<br/>
to you cearn? or someone else?
<br/>
<br/>
well well.. im in a hurry right now.. so i got to go... 
<br/>
<br/>
thanks, and sorry for being "stupid" :p<br/>_________________<br/>yeah, well, maybe... or? anyways.... eh...  what was i talking about??</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
