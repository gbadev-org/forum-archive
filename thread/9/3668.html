<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Voxel questions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Graphics > Voxel questions</h2>
<div id="posts">
<div class="post">
    <h4>#23140 - poslundc - Mon Jul 05, 2004 1:51 pm</h4>
    <div class="postbody"><span class="postbody">Hey all,
<br/>
<br/>
I'm toying with the notion of doing some stuff with voxel landscapes as a bit of a side-project. I've been reading up on them, both in the forum and out on the net, and I want to write a voxel raycaster but there are a few things I am unsure of.
<br/>
<br/>
- Since unlike a traditional raycaster you can't just check along the map's gridlines, how do you determine the step size you use when casting a ray? Is it just trial and error to see what looks good?
<br/>
<br/>
- Assume no texture mapping for the moment, just simple flat shading. Once I've obtained the height of a span, would I just adjust the brightness of the terrain colour so that it is lit according to its distance, and then print the column?
<br/>
<br/>
- Now assume texture mapping. If I determine that there is a visible span, should I just check to see what texel would appear at that x/y coordinate, light it according to distance, and smear that texel for the entire length of the span?
<br/>
<br/>
Thanks,
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23144 - DekuTree64 - Mon Jul 05, 2004 6:58 pm</h4>
    <div class="postbody"><span class="postbody">I've never done a full voxel engine, but I did fiddle around and get one looking somewhat like ground in grayscale once.
<br/>
<br/>
From what I've read, you do just trial and error the step size. What seems to work best is to increase the step size as you get farther out, so you get plenty of accuracy up close, but don't take too much processing power. You can jump over entire hills in the distance if you make it too big though. Might be possible to mip-map your ground so this doesn't happen.
<br/>
<br/>
For lighting, I was going according to height, and doing a gradient down the column. That way hills get bright up top so you can see where they are better. You could probably do some kind of bump map-like shading depending on the slope of the hill to look even better. I think you'd still need to fade darker as you go down though, so valleys are less bright than hills, unless you have a lot of low and high flat spaces where it would seem right for the light to be the same on either one, since there's nothing around blocking it.
<br/>
Making things brighter depending on distance may turn out to look good too though, or maybe on top of whatever other shading you use, as a fog effect.
<br/>
<br/>
Never got as far as texturing, but yeah, I think you just smear down the whole column. Still use whatever shading method you had before though, just use the texture as the base color.
<br/>
I think the Lollipoop demo in the first GBADev compo used pure texture color though, and just painted the shadows on by hand. That might be the best solution of all, because it's fast, and gives you more control over exactly where the light and dark places are. You could still add fog though.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23364 - krozen - Sat Jul 10, 2004 8:42 pm</h4>
    <div class="postbody"><span class="postbody">i have done some work on voxels on the gba. the best program i find for the generation of height maps in one called "wilbur". Allows you to vary the elevation of the sun, produces height maps, light maps...everything!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23369 - poslundc - Sun Jul 11, 2004 3:13 am</h4>
    <div class="postbody"><span class="postbody">My voxel terrains would actually be generated by the GBA, not an external source. In any case, I think I'm abandoning the project anyway as it would take up too much time to complete.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
