<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>reading tiles off the edge? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Graphics > reading tiles off the edge?</h2>
<div id="posts">
<div class="post">
    <h4>#65855 - Dwedit - Fri Jan 06, 2006 6:19 am</h4>
    <div class="postbody"><span class="postbody">What happens when you set a tilemap's staring location to C000, then use tile 512 or greater?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65857 - poslundc - Fri Jan 06, 2006 6:28 am</h4>
    <div class="postbody"><span class="postbody">I'm surprised I remember that this was discussed once a couple of years back in <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=2891" target="_blank">this thread</a>.
<br/>
<br/>
The results were inconclusive, it seems. Cearn found that it worked in emulation but not on hardware.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65859 - Dwedit - Fri Jan 06, 2006 6:42 am</h4>
    <div class="postbody"><span class="postbody">404 on that demo file... I just want to know if it draws blank tiles, garbage, tiles from sprite ram, or some mirror of tile vram.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65860 - DekuTree64 - Fri Jan 06, 2006 7:11 am</h4>
    <div class="postbody"><span class="postbody">I remember trying it once a long time ago. I think I got garbage data, although it's possible that I'd just placed my screen data at the start of VRAM, and was mirroring into it. In any case, I never got anything from sprite VRAM to show up.
<br/>
<br/>
Another test I ran was to see if you'd actually get any stalls by accessing VRAM at the same time as the graphics hardware. Turns out it does stall, except sprite and BG VRAM seem to be entirely seperate, so accessing one of them while the GPU accesses the other does NOT stall. Weird, since half of sprite VRAM is mapped to the BG in the bitmap modes. 
<br/>
<br/>
Now that I think about it, I should have run those tests on the bitmap modes too.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65861 - Dwedit - Fri Jan 06, 2006 7:19 am</h4>
    <div class="postbody"><span class="postbody">I just tired it out... I got transparent tiles, which changed to junk as the screen scrolled or when there was blending.
<br/>
<br/>
I also tried it on a DS, and got transparent tiles.  Looked very different from the GBA.  I wonder what happens if you initialize the VRAM with stuff before running a GBA game?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66204 - ScottLininger - Mon Jan 09, 2006 12:34 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">I also tried it on a DS, and got transparent tiles.  Looked very different from the GBA.  I wonder what happens if you initialize the VRAM with stuff before running a GBA game?</td> </tr></table><span class="postbody">
<br/>
<br/>
Did you run the exact same ROM on both the GBA and the DS? That's kinda interesting if you did, since the DS supposedly performs the same in GBA mode... Though maybe there are some differences in what "start state" the memory is in, since it sounds like the code isn't actually overwriting the sprite VRAM.
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#66241 - tepples - Mon Jan 09, 2006 6:30 am</h4>
    <div class="postbody"><span class="postbody">"Start state" should be the same because the BIOS intro calls the same RegisterRamReset routine at the end. Perhaps the GBA and Nintendo DS work identically when running commercial games and homebrew games other than specific tests for this behavior because the result of running past the end of background VRAM is officially "undefined".<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
