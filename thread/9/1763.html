<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>BGs in tiled modes using several Palettes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Graphics > BGs in tiled modes using several Palettes</h2>
<div id="posts">
<div class="post">
    <h4>#8995 - RaBBi - Fri Jul 25, 2003 10:35 pm</h4>
    <div class="postbody"><span class="postbody">Hi, 
<br/>
<br/>
In order to apply what Peter (author of Visual HAM) tought me about tiled bg in 16 colors ^^, I tried to re-compose a map taken from the game Golden Sun 2. (always for test not for rip ^^) 
<br/>
<br/>
The map uses BG 3 to BG 1, and each BG uses tiles that are defined with different palettes of 16 colors. 
<br/>
And the palette don't have the same index 0 color. 
<br/>
<br/>
So I have some difficulty to understand the concept of using several palette by BGs and define that a tile use a palette (and not another). 
<br/>
<br/>
Does I have to use tricks in a map editor ? 
<br/>
<br/>
I suppose I have to export separatly the 3 layers, but next ? 
<br/>
If I do that, there will be a palette by BG but it will not be 16 colors coz I'd use tiles from different palettes. 
<br/>
<br/>
I'm lost with these concepts.<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8997 - Geno - Sat Jul 26, 2003 12:25 am</h4>
    <div class="postbody"><span class="postbody">Well, the pern project might have something on this, but there should be an attribute(set of bits that you can change to configure something) to select which of the 16 16-color palettes you want to use.<br/>_________________<br/>Out of Order.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9000 - RaBBi - Sat Jul 26, 2003 1:16 am</h4>
    <div class="postbody"><span class="postbody">yeah you're right ^^
<br/>
<br/>
By this night, I read some old topics in the COding section, and found reflexions about this idea.
<br/>
<br/>
Bits to set is effectively a good solution to this.
<br/>
<br/>
Hope I'll manage to identify what tiles I would affect a certain palette ^^
<br/>
<br/>
I think I'll use Tile Studio which allow to "mark" tile with a code number (it generates an array of tile/code correspondance ^^).
<br/>
And for some code number, I'll wrote code which define the palette of this tile.
<br/>
<br/>
Hope this last idea can open someone eyes ^^
<br/>
<br/>
EDIT: I found description of tile/map data on PERN PROJECT, but no tutorial about define palette for a tile.
<br/>
Really exists ?<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9108 - djei-dot - Mon Jul 28, 2003 4:41 pm</h4>
    <div class="postbody"><span class="postbody">From The Pern Project, Day 4:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">For text backgrounds the map data is a bit different. Each entry is a 16-bit number that gives a bit more information about each tile besides just the tile number. Here is the layout of a text background map entry:
<br/>
<br/>
Text background tile entry:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">15  14  13  12  11  10  9  8  7  6  5  4  3  2  1  0  
<br/>
Palette number  VF  HF  Tile Number  </td> </tr></table><span class="postbody">
<br/>
<br/>
bits 0-9: Tile number
<br/>
bit 10: Horizontal flip flag
<br/>
bit 11: Vertical flip flag
<br/>
bits 12-15: 16-color palette number. Ignored if it is a 256-color background</span></td> </tr></table><span class="postbody">
<br/>
<br/>
As you can see, the last four bits are used to select the palette. Each map entry must be in this form. Note that this is only for text backgrounds, rotation backgrounds use only one 256 color palette.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9115 - RaBBi - Mon Jul 28, 2003 5:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>RaBBi wrote:</b></span></td> </tr> <tr> <td class="quote">yeah you're right ^^
<br/>
<br/>
Bits to set is effectively a good solution to this.
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
oki so all that I read about tiles on this tuto was all that it was to be read ^^
<br/>
Thank U<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
