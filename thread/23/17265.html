<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Dual Hexen updated ! (a bit old) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS homebrew announcements > Dual Hexen updated ! (a bit old)</h2>
<div id="posts">
<div class="post">
    <h4>#174103 - MrSkiz - Tue May 18, 2010 2:09 pm</h4>
    <div class="postbody"><span class="postbody">Oh god ! I almost missed that : <a class="postlink" href="http://vespenegas.com/hexen.html" target="_blank">Dopefish released an update to Sektor's DualHexen</a> back in december 2009 !
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">This is a modified verison of Sektor's dualHexen, a port of Hexen to the Nintendo DS. Note that Sektor's version is itself a modification of Rich Whitehouse's hexenDS. Mainly I was frustrated by not being able to strafe, but there aren't enough buttons to go around, so I had to move something to the touchscreen. While I was at it I made a couple other changes, and here we are.
<br/>
<br/>
My changes include:
<br/>
<br/>
    * Saving/Loading games (however savegames are not compatible with the PC version
<br/>
    * Inventory manipulation via the touchscreen:
<br/>
          o Touch the image of the active inventory item to use it.
<br/>
          o Touch the empty area just to the right of the item to bring up the inventory bar.
<br/>
          o Touch an item in the inventory bar to make it the active item.
<br/>
          o If you have more than 7 items in inventory, select the one at the edge to scroll, then return to your inventory.
<br/>
          o This interface could stand to be improved, but it is functional.
<br/>
    * Altered control configuration:
<br/>
      A = fire
<br/>
      B = use (i.e. open doors)
<br/>
      Y = jump
<br/>
      X = cycle weapons
<br/>
      L = strafe left
<br/>
      R = strafe right
<br/>
      D-Pad = move forward/backwards, turn left/right
<br/>
      Touchscreen = mouselook, inventory</td> </tr></table><span class="postbody">
<br/>
Men you can't know how happy I am ! I've just quickly tested it and savegame seems to work, touchscreen is quite well implemented even if would prefer a control scheme more like DSHeretic's. I don't know if I could modify the source to achieve that...
<br/>
<br/>
move forward : up or x
<br/>
move backward : down or b
<br/>
strafe left : left or y
<br/>
strafe right : right or a
<br/>
jump : double tap on touchscreen
<br/>
fire : right or left trigger</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174104 - MrSkiz - Tue May 18, 2010 4:05 pm</h4>
    <div class="postbody"><span class="postbody">Ok I managed to find and modify the key bindings in m_misc.c in sources. Now I must find how to compile the code... Any tuts guys ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174107 - Cid2Mizard - Tue May 18, 2010 6:27 pm</h4>
    <div class="postbody"><span class="postbody">Thanks :)<br/>_________________<br/><a href="http://www.nintendomax.com" target="_blank">www.nintendomax.com</a> 100% Hack 0% Warez</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174108 - MrSkiz - Tue May 18, 2010 7:31 pm</h4>
    <div class="postbody"><span class="postbody">De rien Cid ! Je viens de retrouver mes infos de connexion sur nintendomax, je viendrais vous rendre visite plus ouvent ;)
<br/>
<br/>
I found it while scavenging the web looking for a method to convert ds.gba file into nds, precisely DSheretic which runs just fine on my M3real with GBA ram expansion pack but I would love to integrate it to DSkiosk, but it can't manage ds.gba</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174113 - thedopefish - Tue May 18, 2010 10:19 pm</h4>
    <div class="postbody"><span class="postbody">Glad somebody else found my changes useful.  Especially considering it was a one-off hack for my own personal benefit.
<br/>
<br/>
It should be pretty straightforward to change the key bindings in the way you want.  m_misc.c holds the mapping between game actions and keyboard keys, while i_ibm.c maps the DS hardware buttons to keyboard keys, so between those two files you should be able to rebind things however you like.
<br/>
<br/>
The touchscreen inventory stuff is in g_game.c, and should be adaptable for creating other "buttons" on the touchscreen, but that will be a bit more involved than just shifting keys around.  I'm not entirely sure how you'd add double-tap support, but I'm sure it's been discussed on these forums before if you're really interested in that feature.<br/>_________________<br/>#include &lt;sig.h&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174119 - MrSkiz - Wed May 19, 2010 7:46 am</h4>
    <div class="postbody"><span class="postbody">Excellent !
<br/>
<br/>
Just few things : how do you compile the code ? Which tools must I use ? I've read Sektor's readme and some of the tools or libs he's talking about are linked but they're dead links for most.
<br/>
<br/>
(sorry, I'm totally noob in the compiling side)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174120 - Sektor - Wed May 19, 2010 7:50 am</h4>
    <div class="postbody"><span class="postbody">The sound code will need to be modified to work with latest libnds.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"><br/><br/>Last edited by Sektor on Wed May 19, 2010 8:51 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#174121 - MrSkiz - Wed May 19, 2010 8:10 am</h4>
    <div class="postbody"><span class="postbody">That's what I thought when I saw that the devkit arm used was an older version. So unless havin gthis version, I won't be able to compile...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174122 - Sektor - Wed May 19, 2010 9:08 am</h4>
    <div class="postbody"><span class="postbody">This code compiles with the current devkit: <a href="http://gtamp.com/DS/dualHexen_0.28_src.7z" target="_blank">http://gtamp.com/DS/dualHexen_0.28_src.7z</a><br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"><br/><br/>Last edited by Sektor on Sat Feb 05, 2011 9:10 pm; edited 7 times in total</span></div>    
</div>
<div class="post">
    <h4>#174123 - MrSkiz - Wed May 19, 2010 9:14 am</h4>
    <div class="postbody"><span class="postbody">A thousand of thanx ! I'll learn with that...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174125 - sverx - Wed May 19, 2010 10:45 am</h4>
    <div class="postbody"><span class="postbody">It compiled but... is this supposed to run in an emulator? Both no$gba and DeSmuME only shows black screens...
<br/>
<br/>
edit: ouch, I've read now that it needs a WAD of a registered version of a shareware game...</span><span class="gensmall"><br/><br/>Last edited by sverx on Wed May 19, 2010 10:49 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#174126 - MrSkiz - Wed May 19, 2010 10:47 am</h4>
    <div class="postbody"><span class="postbody">You have the hexen.wad in data/hexen on your SD card, don't you ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174127 - sverx - Wed May 19, 2010 10:50 am</h4>
    <div class="postbody"><span class="postbody">you were too fast :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174130 - MrSkiz - Wed May 19, 2010 2:59 pm</h4>
    <div class="postbody"><span class="postbody">I managed to compile it... Now working on bindings.
<br/>
<br/>
In my first attempt I broke the touchscreen system, and half of my bindings failed... Silly me I should look better !
<br/>
<br/>
I see in i_ibm.c there's 2 sets of commands : 1 for the menus , the other for the ingame I guess. Is "If 0" for the menus ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174145 - MrSkiz - Thu May 20, 2010 2:09 pm</h4>
    <div class="postbody"><span class="postbody">@Sektor,
<br/>
<br/>
Weird : I compiled your source without any modification but it appears that touchscreen freelook and some buttons don't work anymore.
<br/>
<br/>
I checked files of both yours and Dopefish source with winmerge and differences are very minor, mainly in i_sound.c but some seem to cut links with .h files, probably out to date in last devkit. Maybe they're useful to touchscreen management, the few I can understand seem to be related to led blinking, power and sound.
<br/>
<br/>
Or I missed something...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174146 - Sektor - Thu May 20, 2010 2:14 pm</h4>
    <div class="postbody"><span class="postbody">I can confirm touch stopped working, I just quickly made changes so it compiled. I didn't really test it. That should be much easier to fix than sound.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174147 - MrSkiz - Thu May 20, 2010 2:44 pm</h4>
    <div class="postbody"><span class="postbody">OK if I understand well a long time ago touchscreen was controlled by ARM7 in homebrews but that's not the case anymore... Am I right ?
<br/>
<br/>
So there is probably a misuse of the new libnds' touchPosition functionality ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174148 - elhobbs - Thu May 20, 2010 3:02 pm</h4>
    <div class="postbody"><span class="postbody">I think you may want to convert this to use the default arm7 code - libnds uses the fifo now so that could definitely cause some problems. It does not look like anything special is in the arm7 code for this project - just sound and touch which are both supported by the default arm7 code.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174149 - MrSkiz - Thu May 20, 2010 3:20 pm</h4>
    <div class="postbody"><span class="postbody">devkitPro\libnds\include\nds\arm9\input.h :
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">__attribute__ ((deprecated)) touchPosition touchReadXY() ;
<br/>
<br/>
<br/>
/*!   \fn touchRead(touchPosition *data)
<br/>
   \brief Obtains the current touchpad state.
<br/>
   \param data a touchPosition ptr which will be filled by the function
<br/>
*/
<br/>
void touchRead(touchPosition *data);</td> </tr></table><span class="postbody">
<br/>
Does this say the arm7 can't be used anymore for touchscreen management in the last libnds ? (may sound quite noobesque, and I am, but try to learn a little from this)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174153 - Sektor - Thu May 20, 2010 5:56 pm</h4>
    <div class="postbody"><span class="postbody">X, Y and touch are broken because of irqInitHandler in ds_main.c but just commenting that out will cause some crashing problems after the menu that I'm not sure how to fix. edit: Actually it stopped crashing now. I think my DS-X was just faulty.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"><br/><br/>Last edited by Sektor on Sat May 22, 2010 7:24 pm; edited 4 times in total</span></div>    
</div>
<div class="post">
    <h4>#174154 - elhobbs - Thu May 20, 2010 6:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MrSkiz wrote:</b></span></td> </tr> <tr> <td class="quote">devkitPro\libnds\include\nds\arm9\input.h :
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">__attribute__ ((deprecated)) touchPosition touchReadXY() ;
<br/>
<br/>
<br/>
/*!   \fn touchRead(touchPosition *data)
<br/>
   \brief Obtains the current touchpad state.
<br/>
   \param data a touchPosition ptr which will be filled by the function
<br/>
*/
<br/>
void touchRead(touchPosition *data);</td> </tr></table><span class="postbody">
<br/>
Does this say the arm7 can't be used anymore for touchscreen management in the last libnds ? (may sound quite noobesque, and I am, but try to learn a little from this)</span></td> </tr></table><span class="postbody">no, it means that touchReadXY should no longer be used. use touchRead instead. this requires the use of default arm7 code - which sets up a fifo channel to handle the touch and X/Y buttons. they are not accessible from the arm9 directly. so the arm7 needs to send the values to the arm9.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174169 - MrSkiz - Fri May 21, 2010 10:59 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sektor wrote:</b></span></td> </tr> <tr> <td class="quote">X, Y and touch are broken because of irqInitHandler in ds_main.c</td> </tr></table><span class="postbody">
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>elhobbs wrote:</b></span></td> </tr> <tr> <td class="quote">use touchRead instead. this requires the use of default arm7 code - which sets up a fifo channel to handle the touch and X/Y buttons.</td> </tr></table><span class="postbody">
<br/>
Any link between both ?
<br/>
<br/>
Oh my I feel so stupid. I thought the XY of TouchreadXY were for touch coordinates...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174171 - elhobbs - Fri May 21, 2010 1:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MrSkiz wrote:</b></span></td> </tr> <tr> <td class="quote">Oh my I feel so stupid. I thought the XY of TouchreadXY were for touch coordinates...</td> </tr></table><span class="postbody">it was for reading the x and y coordinates. the old version returns a struct and the new version fills in a passed in struct. I am guessing it was changed to be more efficient. the struct contains more than the x and y coordinates so maybe that has something to do with it as well...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174177 - Sektor - Sat May 22, 2010 2:52 pm</h4>
    <div class="postbody"><span class="postbody">On my DS-X flash card the game crashes if I comment out irqInitHandler() but it still works on M3CF.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"><br/><br/>Last edited by Sektor on Mon Jul 19, 2010 4:27 pm; edited 3 times in total</span></div>    
</div>
<div class="post">
    <h4>#174181 - elhobbs - Sat May 22, 2010 5:51 pm</h4>
    <div class="postbody"><span class="postbody">to get sound working
<br/>
in ds_main.c - main
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   lcdMainOnTop();
<br/>
<br/>
   // IRQ basic setup
<br/>
   //irqInitHandler(on_irq);
<br/>
   irqEnable(IRQ_VBLANK);
<br/>
   
<br/>
   //Sektor ledblink
<br/>
   //irqInit();
<br/>
   irqEnable(IRQ_VBLANK);
<br/>
   soundEnable();
<br/>
   //REG_IPC_FIFO_CR = IPC_FIFO_ENABLE | IPC_FIFO_SEND_CLEAR;
<br/>
   //2010 NDSX_SetLedBlink_Off();
<br/>
   //end ledblink
<br/>
   
<br/>
   //setup the main display
<br/>
   videoSetMode(MODE_5_2D|DISPLAY_BG3_ACTIVE);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
in I_sound.c - I_StartSound
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#ifdef _HEXENDS
<br/>
#define SOUND_DATA_OFFSET 8
<br/>
   soundPlaySample((const void *)((u32)(data)+SOUND_DATA_OFFSET),
<br/>
      SoundFormat_8Bit,
<br/>
      len,
<br/>
      11025,
<br/>
      vol,
<br/>
      63,
<br/>
      0,
<br/>
      0);
<br/>
#else
<br/>
   //no sound in win32, set dead immediately
<br/>
    I_SetSfxTagDead(sfx);
<br/>
#endif
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174183 - Sektor - Sat May 22, 2010 6:25 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for that.
<br/>
<br/>
There are minor crackles in the sound but it's better than no sound.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"><br/><br/>Last edited by Sektor on Sat May 22, 2010 7:25 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#174184 - elhobbs - Sat May 22, 2010 6:50 pm</h4>
    <div class="postbody"><span class="postbody">the crackle is caused by SOUND_DATA_OFFSET - it is not needed. just pass data directly to soundPlaySample - do not add SOUND_DATA_OFFSET.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   soundPlaySample((const void *)data,
<br/>
      SoundFormat_8Bit,
<br/>
      len,
<br/>
      11025,
<br/>
      vol,
<br/>
      63,
<br/>
      0,
<br/>
      0);
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174185 - Sektor - Sat May 22, 2010 7:06 pm</h4>
    <div class="postbody"><span class="postbody">Cool.
<br/>
<br/>
<a class="postlink" href="http://gtamp.com/DS/dualHexen_0.28_src.7z" target="_blank">Full source code with your sound code changes</a>. I tried to go to warp to level 13 but it just froze. Warping to level 2 worked and the "greetings mortal" sound played fine. Warping to level 3 gave a malloc error.
<br/>
<br/>
Level warp works fine on <a class="postlink" href="http://vespenegas.com/hexen.html" target="_blank">Dopefish's version</a>.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174187 - Sektor - Sat May 22, 2010 8:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MrSkiz wrote:</b></span></td> </tr> <tr> <td class="quote">I see in i_ibm.c there's 2 sets of commands : 1 for the menus , the other for the ingame I guess. Is "If 0" for the menus ?</td> </tr></table><span class="postbody">
<br/>
#if 0 isn't used, it's just a backup of my old key bindings.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174192 - elhobbs - Sun May 23, 2010 1:53 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sektor wrote:</b></span></td> </tr> <tr> <td class="quote">Cool.
<br/>
<br/>
<a class="postlink" href="http://gtamp.com/DS/dualHexen_0.28_src.7z" target="_blank">Full source code with your sound code changes</a>. I tried to go to warp to level 13 but it just froze. Warping to level 2 worked and the "greetings mortal" sound played fine. Warping to level 3 gave a malloc error.
<br/>
<br/>
Level warp works fine on <a class="postlink" href="http://vespenegas.com/hexen.html" target="_blank">Dopefish's version</a>.</td> </tr></table><span class="postbody">I compiled the code without any of the modifications that I suggested and it still crashes. I am able to warp to level 13 sometimes but it dies frequently. particularly if I toggle the automap - though it is not required to get it to crash. I think that whatever the problem is it is just more likely to happen with the memory layout that the newer compiler generates. I did a diff of the sources and there are are only marginal differences - nothing obvious that would cause a problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174195 - MrSkiz - Sun May 23, 2010 6:43 am</h4>
    <div class="postbody"><span class="postbody">You two are my heroes of the moment, you know...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174220 - MrSkiz - Mon May 24, 2010 2:41 pm</h4>
    <div class="postbody"><span class="postbody">Oh my oh my : Actually you fixed the touchscreen freelook !
<br/>
<br/>
Two thumbs up for both of you !
<br/>
<br/>
So I managed to put my left-handed MPH-style control scheme and it works like a charm... Minus the lack of double-tap for jump, left trigger can do the job as Hexen isn't heavy on jumps but it woulf make it perfect. I must look into this - and touch areas for additionnal controls (flight) - now.
<br/>
<br/>
[HS] elhobbs : I know you want me to have a heart attack :] : I see movements on your code.google page ! Any cQuake update soon ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174226 - elhobbs - Mon May 24, 2010 5:43 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MrSkiz wrote:</b></span></td> </tr> <tr> <td class="quote">[HS] elhobbs : I know you want me to have a heart attack :] : I see movements on your code.google page ! Any cQuake update soon ?</td> </tr></table><span class="postbody">I have added in the ambient sounds as well as mp3 support for the cd music. It does not directly effect the framerate too badly but it requires a bit of memory. the lack of memory does effect the performance on some of the larger levels. I leave the latest build of the cquake.nds file in the svn. feel free to try it out - it is single player only though. the mp3 support currently requires 96kbs 22khz stereo encoded files at this point. stereo becuase I have not added mono support yet and 96kbs 22khz because the arm7 cannot decode much faster than that. it looks in the id1/music folder for files named 02.mp3 through 11.mp3 - the numbers represent the track numbers on the original CD. I was tempted to put together a zip file with the audio tracks but I am not sure if that is legit. the tracks were on the shareware cd so it makes me think it is ok - but I really do not know.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174252 - elhobbs - Tue May 25, 2010 11:10 pm</h4>
    <div class="postbody"><span class="postbody">I found the following in I_ZoneBase in i_ibm.c
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   #ifndef _HEXENDS
<br/>
      byte *thezone = (byte *)malloc(ZONE_SIZE);
<br/>
   #else
<br/>
      byte *thezone = (byte *)0x2200000;
<br/>
   #endif
<br/>
</td> </tr></table><span class="postbody">
<br/>
it is using a static address as the base for zone memory region. I am guessing this could cause lots of collisions with malloc.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174330 - wolfmanz51 - Sun May 30, 2010 6:51 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>elhobbs wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MrSkiz wrote:</b></span></td> </tr> <tr> <td class="quote">[HS] elhobbs : I know you want me to have a heart attack :] : I see movements on your code.google page ! Any cQuake update soon ?</td> </tr></table><span class="postbody">I have added in the ambient sounds as well as mp3 support for the cd music. It does not directly effect the framerate too badly but it requires a bit of memory. the lack of memory does effect the performance on some of the larger levels. I leave the latest build of the cquake.nds file in the svn. feel free to try it out - it is single player only though. the mp3 support currently requires 96kbs 22khz stereo encoded files at this point. stereo becuase I have not added mono support yet and 96kbs 22khz because the arm7 cannot decode much faster than that. it looks in the id1/music folder for files named 02.mp3 through 11.mp3 - the numbers represent the track numbers on the original CD. I was tempted to put together a zip file with the audio tracks but I am not sure if that is legit. the tracks were on the shareware cd so it makes me think it is ok - but I really do not know.</span></td> </tr></table><span class="postbody">
<br/>
its legit its sharware</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174786 - MrSkiz - Mon Jul 19, 2010 4:19 pm</h4>
    <div class="postbody"><span class="postbody">Finally, I came back to the last non-stylus version : too much instability of the program. I hope Dopefish or Sektor will find time and motivation to work on HexenDS.
<br/>
<br/>
The button-focused ergonomy isn't accurate but very enjoyable, more than stylus one if there's no double-tap for jump and extra commands on touchscreen.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176428 - another world - Tue Jul 26, 2011 6:07 am</h4>
    <div class="postbody"><span class="postbody">is the 4/4/11 binary based on dopefish's code or the recompile sources released on 5/23/10?
<br/>
<br/>
i'm curious because the 4/4/11 binary has save/loading and the touchscreen inventory that dopefish added.
<br/>
<br/>
i was also curious if the 4/4/11 binary has the music support elhobbs was working on and if so how does one get it working?
<br/>
<br/>
thanks!
<br/>
  -another world</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#176429 - Sektor - Tue Jul 26, 2011 8:18 am</h4>
    <div class="postbody"><span class="postbody">It doesn't have music support. I think it's based on Dopefish's version with some fixes by elhobbs. I'm not working on it.
<br/>
<br/>
<a href="http://gtamp.com/DS/dualhexen.php" target="_blank">http://gtamp.com/DS/dualhexen.php</a><br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
