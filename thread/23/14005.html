<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DS pico-project: slot-2 DEBUG LED - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS homebrew announcements > DS pico-project: slot-2 DEBUG LED</h2>
<div id="posts">
<div class="post">
    <h4>#138596 - truedream - Sun Aug 26, 2007 10:11 am</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
<br/>
this is very simple very small project, it allows a debug LED to be controlled in slot-2, just connect a LED (without resistor is ok) between pins 2 (clk) and 32 (gnd) in the GBA slot-2 and use following code to test it:
<br/>
<br/>
iprintf("\n\n\tDS Debug LED Test\n");
<br/>
iprintf("\n\n\tLED: Slot-2 pin 2 &gt; GND\n");
<br/>
while (1) {
<br/>
	REG_EXMEMCNT = (i &amp; 1) &lt;&lt; 5; 
<br/>
	i++;
<br/>
	swiDelay(10000000);
<br/>
}
<br/>
<br/>
this loop will toggle the LED with about once a second.
<br/>
can be handy debugging hard to debug things, as single memory write can turn the LED on or off</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138802 - Creebo - Wed Aug 29, 2007 7:18 am</h4>
    <div class="postbody"><span class="postbody">is there anyway to toggle it on and off? I would enjoy making a very simple rumble pack :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138831 - knight0fdragon - Wed Aug 29, 2007 3:50 pm</h4>
    <div class="postbody"><span class="postbody">that looks like all the rumble pack is connected to any way from the blurry pictures given on another topic
<br/>
<br/>
and of course you can turn it on and off, what would be the point if you couldnt<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138832 - truedream - Wed Aug 29, 2007 4:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>knight0fdragon wrote:</b></span></td> </tr> <tr> <td class="quote">that looks like all the rumble pack is connected to any way from the blurry pictures given on another topic
<br/>
<br/>
and of course you can turn it on and off, what would be the point if you couldnt</td> </tr></table><span class="postbody">
<br/>
<br/>
hi
<br/>
<br/>
well, yes the pin 2 can be turned off (output steady LOW) or on (output CLK !!), the Clock will make LED lit as the LED doesnt care if its high level or pulse stream.
<br/>
<br/>
if this type of control is sufficent for what you want todo, then you can use this trick, if not them very small hardware may be needed to detect the rumble access, and yes this can be done with NE555 or MCU
<br/>
<br/>
<br/>
<a href="http://code.google.com/p/nds-homebrew/w/list" target="_blank">http://code.google.com/p/nds-homebrew/w/list</a>
<br/>
<br/>
I am putting there some small docu about the slot-2 LED mod ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138860 - Dan2552 - Wed Aug 29, 2007 10:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Creebo wrote:</b></span></td> </tr> <tr> <td class="quote">is there anyway to toggle it on and off? I would enjoy making a very simple rumble pack :D</td> </tr></table><span class="postbody">
<br/>
<br/>
check <span style="font-weight: bold">hackaday</span>, I believe I saw a tutorial on how to create a DS rumble pack with a nokia phone rumble motor.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138881 - mastertop101 - Thu Aug 30, 2007 3:55 am</h4>
    <div class="postbody"><span class="postbody">That's pretty interesting... what if you used 
<br/>
<br/>
 REG_EXMEMCNT = 2 &lt;&lt; 5;    or
<br/>
 REG_EXMEMCNT = 3 &lt;&lt; 5;
<br/>
<br/>
?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138885 - truedream - Thu Aug 30, 2007 5:45 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mastertop101 wrote:</b></span></td> </tr> <tr> <td class="quote">That's pretty interesting... what if you used 
<br/>
<br/>
 REG_EXMEMCNT = 2 &lt;&lt; 5;    or
<br/>
 REG_EXMEMCNT = 3 &lt;&lt; 5;
<br/>
<br/>
?</td> </tr></table><span class="postbody">
<br/>
<br/>
i doesnt matter for the LED :)
<br/>
if bits 5,6 are 0 it off, if they are non-zero its on</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#139013 - wintermute - Fri Aug 31, 2007 6:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>truedream wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mastertop101 wrote:</b></span></td> </tr> <tr> <td class="quote">That's pretty interesting... what if you used 
<br/>
<br/>
 REG_EXMEMCNT = 2 &lt;&lt; 5;    or
<br/>
 REG_EXMEMCNT = 3 &lt;&lt; 5;
<br/>
<br/>
?</td> </tr></table><span class="postbody">
<br/>
<br/>
i doesnt matter for the LED :)
<br/>
if bits 5,6 are 0 it off, if they are non-zero its on</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Well, I haven't tried this so I don't know how it actually looks but, in theory at least, there should be a slight difference in brightness for each setting. It's probably unlikely that many people would see it though since the ratio of on to off is identical.
<br/>
<br/>
Also, a word of warning. You should <span style="font-weight: bold">not</span> set the value of this register directly like this since it will destroy the state of other, quite important bits.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
REG_EXMEMCNT = (REG_EXMEMCNT &amp; ~(3&lt;&lt;5)) | (1&lt;&lt;5);
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#139024 - truedream - Fri Aug 31, 2007 8:29 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>truedream wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mastertop101 wrote:</b></span></td> </tr> <tr> <td class="quote">That's pretty interesting... what if you used 
<br/>
<br/>
 REG_EXMEMCNT = 2 &lt;&lt; 5;    or
<br/>
 REG_EXMEMCNT = 3 &lt;&lt; 5;
<br/>
<br/>
?</td> </tr></table><span class="postbody">
<br/>
<br/>
i doesnt matter for the LED :)
<br/>
if bits 5,6 are 0 it off, if they are non-zero its on</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Well, I haven't tried this so I don't know how it actually looks but, in theory at least, there should be a slight difference in brightness for each setting. It's probably unlikely that many people would see it though since the ratio of on to off is identical.
<br/>
<br/>
Also, a word of warning. You should <span style="font-weight: bold">not</span> set the value of this register directly like this since it will destroy the state of other, quite important bits.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
REG_EXMEMCNT = (REG_EXMEMCNT &amp; ~(3&lt;&lt;5)) | (1&lt;&lt;5);
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
tere talv (hello winter) -
<br/>
<br/>
the "led demo" test was just example, and well if executed it would blink forever, so it would not much matter the other bits ;), but I just made the LED blinker DSO executable, what does return to DSO and yes I keep the bit settings there
<br/>
<br/>
but as long as the LED tester is in slot-2, the slot is otherwise unuseable, eh i take that back! the LED could be used as add on to existing cart that doesnt use PHI and then the remaining bits come important sure!
<br/>
<br/>
BTW I just made a "slot-2 geek port" PCB all done assembled this one has a small flash MCU and can do much more then blink a LED, but too tired today to test it, so cant yet report success
<br/>
<br/>
will post when it works..</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
