<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>New test kernel for DSLinux users with no Slot-2 RAM - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS homebrew announcements > New test kernel for DSLinux users with no Slot-2 RAM</h2>
<div id="posts">
<div class="post">
    <h4>#154888 - sonny_jim - Tue Apr 22, 2008 12:50 pm</h4>
    <div class="postbody"><span class="postbody">I've put together a test kernel that has a lot of things stripped out and changed to hopefully squeeze out a few more kB for those people who are using DSLinux without some kind <a class="postlink" href="http://dslinux.org/cgi-bin/moin.cgi/RunningDSLinux#Notes_on_Extra_RAM" target="_blank">supported Slot-2 RAM</a>.  Please note that if you are using Slot-2 RAM you will not gain anything from using this kernel.
<br/>
<br/>
<a href="http://two.xthost.info/dslinux/dslinux-initramfs.nds.zip" target="_blank">http://two.xthost.info/dslinux/dslinux-initramfs.nds.zip</a>
<br/>
<br/>
<a href="http://rapidshare.com/files/109273298/dslinux-initramfs.nds.zip.html" target="_blank">http://rapidshare.com/files/109273298/dslinux-initramfs.nds.zip.html</a>
<br/>
<br/>
<br/>
To get it smaller, I've replaced the romfs system with initramfs, which means root is fully rw with permissions now, including /dev.  I've also used a stripped down busybox binary.  I've taken sound out of this test kernel (mp3 playing with DSLinux sucks anyway), so web surfing only really.  Links still won't load but at least retawq should play a bit nicer now.
<br/>
<br/>
To use, unzip and place "dslinux-initramfs.nds" to the root of a card that <span style="font-weight: bold">already</span> has a copy of DSLinux installed (ie, has a /linux folder).
<br/>
<br/>
If you don't have a /linux folder (because you've never used DSLinux before or you've been using the NDS build) grab a copy of the DLDI build <a class="postlink" href="http://kineox.free.fr/DS/dslinux-dldi.tgz" target="_blank">here</a>.
<br/>
<br/>
On my Acekard, free shows this:
<br/>
<br/>
Kineox DLDI build:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
MemTotal: 2056kB
<br/>
MemFree: 804kB
<br/>
Buffers: 132kB
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
dslinux-initramfs build
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
MemTotal: 2800kB
<br/>
MemFree: 868kB
<br/>
Buffers: 120kB
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
It's still quite prone to crashing, but at least it's a tiny bit better.  To save even more memory you could try this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/usr/bin/coreutils/mv /bin/busybox /media/usr/bin/busybox2
<br/>
/usr/bin/coreutils/ln -s /media/usr/bin/busybox2 /bin/busybox
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I plan to integrate initramfs into the DLDI builds anyway at some point as it makes working with /dev a lot easier.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
