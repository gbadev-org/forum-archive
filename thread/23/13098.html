<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>QuakeDS preview two -networking and EXRAM builds coming soon - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS homebrew announcements > QuakeDS preview two -networking and EXRAM builds coming soon</h2>
<div id="posts">
<div class="post">
    <h4>#127059 - simonjhall - Sun Apr 29, 2007 6:12 pm</h4>
    <div class="postbody"><span class="postbody">I'm delighted to announce the latest version of QuakeDS for public consumption - pre-release two!
<br/>
I was going to do several releases over the last two months, but I'm kinda glad I held back as I think that "one more feature" thing really helped!
<br/>
<br/>
So, go nuts:
<br/>
<a href="http://quake.drunkencoders.com/" target="_blank">http://quake.drunkencoders.com/</a>
<br/>
<br/>
Changes from pre1-&gt;pre2:
<br/>
<ul>- faster rendering
<br/>
- vertex lighting and light animations (proper lightmapping may be in the next build)
<br/>
- Alias model texturing
<br/>
- proper timebase, so no variable speed
<br/>
- a crosshair and a HUD
<br/>
- the Quake font (or whatever font is available in the mod you're playing)
<br/>
- a nearly-proper sky
<br/>
- sky, water, lava, sludge animations
<br/>
- full control configuration
<br/>
- game save saving/loading
<br/>
- every level works - I have played from beginning to end with no crashes or thrashing
<br/>
- wifi network play, via an access point (build coming in a few days after more testing)
<br/>
- adequate support for mods/TCs in this build - full compatibility in the EXRAM build (coming in a few weeks)
<br/>
- much improved sound system on the ARM7 (no music yet...)
<br/>
- transparent water support via r_novis or VIS'ed maps
<br/>
- hardware fogging for a light depth cue, or thick fog for underwater
<br/>
- LOADS more little things (eg the end-of-episode finale messages)</ul>
<br/>
The bad,
<br/>
<ul>- if you had problems getting pre1 to run on your card before (say you had a DS Link) then it ain't gonna run this time! Same goes for cards which have no DLDI driver.
<br/>
- you will only get textured models if you use pak files - loose files won't work any more
<br/>
- if you have a slow flash card then loading textures on the fly may really annoy you
<br/>
- particles and sprites still haven't been fixed
<br/>
- there's an occasional sound glitch
<br/>
- no on-screen keyboard in this build</ul>
<br/>
To run (the quick way),
<br/>
<ul>- download the zip file, and put the NDS in the root of your card
<br/>
- DLDItool it with the DLDI driver of your choice
<br/>
- make a directory in the root of your card named id1
<br/>
- put the config file (downloaded from the site) in the id1 directory
<br/>
- put your two pak files in that directory too
<br/>
- plug into DS and power on.</ul>
<br/>
As I said before, wait a few days for the networking build (full co-op and deathmatch) and hang on a little longer for the full TC compatibility.
<br/>
Don't forget to actually read the web page as there are a bunch of options to change stuff like loading textures etc.
<br/>
<br/>
Anyway, a big thanks go my testers - I couldn't have done it without you! Oh and big greets to all the people who downloaded pre1 in the first few weeks after it came out ;-)
<br/>
<br/>
EDIT, legal: I take no credit for the development of Quake, that all goes to the guys at id Software. I also claim no copyright, trademark etc. Again, all work, copyrights, trademarks are owned by them.
<br/>
I just made the patch which coaxes the game into running on the DS.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"><br/><br/>Last edited by simonjhall on Sun Apr 29, 2007 8:42 pm; edited 3 times in total</span></div>    
</div>
<div class="post">
    <h4>#127061 - Devil_Spawn - Sun Apr 29, 2007 6:34 pm</h4>
    <div class="postbody"><span class="postbody">sweet, cant wait for the EXRAM build</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127073 - souLLy - Sun Apr 29, 2007 9:03 pm</h4>
    <div class="postbody"><span class="postbody">I just had a run through on it, that's a bloody great step up from the previous release everything runs really nicely, great stuff.
<br/>
Just a quick questionm, for the soundtrack; where would I put the MP3s and what filenames do I need?
<br/>
*edit* I presumed from the text on the site, the soundtrack was working, reading your explanation here it looks like it isn't, shoulda rtfm</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127085 - Dood77 - Sun Apr 29, 2007 11:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>souLLy wrote:</b></span></td> </tr> <tr> <td class="quote">Just a quick questionm, for the soundtrack; where would I put the MP3s and what filenames do I need?</td> </tr></table><span class="postbody">
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">- much improved sound system on the ARM7 (no music yet...)</td> </tr></table><span class="postbody">
<br/>
No music yet...
<br/>
EDIT: lol you edited right as i posted :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127112 - argus - Mon Apr 30, 2007 1:44 am</h4>
    <div class="postbody"><span class="postbody">Excellent!  I didn't try the first build, but this one is great.  I can't wait for the network build.
<br/>
<br/>
I have one suggestion.  I haven't really been keeping up with this project, so I don't know if you were planning for this or not - but could we get double tap to jump, a la Metroid Prime Hunters?  It's essential.
<br/>
<br/>
Keep up the great work!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127118 - Dood77 - Mon Apr 30, 2007 3:49 am</h4>
    <div class="postbody"><span class="postbody">Currently, if you bind R to jump, its a whole ton easier.<br/>_________________<br/>If I use a term wrong or something then feel free to correct, I?m not much of a programmer.
<br/>
<span style="font-size: 9px; line-height: normal">
<br/>
Original DS Phat obtained on day of release + flashme v7
<br/>
Supercard: miniSD, Kingston 1GB, Kingston 2GB
<br/>
Ralink chipset PCI NIC
<br/>
</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127128 - argus - Mon Apr 30, 2007 5:44 am</h4>
    <div class="postbody"><span class="postbody">Edit:  Problem solved.  See my post below.</span><span class="gensmall"><br/><br/>Last edited by argus on Mon Apr 30, 2007 3:22 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#127132 - MasterMan - Mon Apr 30, 2007 7:13 am</h4>
    <div class="postbody"><span class="postbody">Thanks, Simon. I'm a Quake enthusiast too.
<br/>
I would like you could make it run mods from RenegadeC, as Codename Corporal (over the showder deathmatchs) and The Ascession of Vigil (medieval beat'm up with capcom-esque combo sistem). Could i wait for it?
<br/>
<br/>
If needed, you could contact The Fragger for the sources of the features he implemented in WinQuake, dynamic lights, real transparecy, frame interpolation... (http://dcemulation.com/phpBB/viewtopic.php?t=73662)
<br/>
<br/>
But thanks a ton for this sweet build, and i 'can't wait for the EXRAM version.
<br/>
<br/>
This boots flawlessly from DSChannel beta5 in my SC-CF :P
<br/>
<br/>
Mod compatibility chart now? XD</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127137 - PeterM - Mon Apr 30, 2007 9:35 am</h4>
    <div class="postbody"><span class="postbody">I get the "fat init...failed!" error message on startup.
<br/>
<br/>
I use a Max Media Launcher with Supercard SD. QuakeDS.nds has been patched with the latest scsd DLDI patch from Chishm's page.<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127142 - simonjhall - Mon Apr 30, 2007 10:14 am</h4>
    <div class="postbody"><span class="postbody">@PeterM: I also get a problem with my Supercard miniSD - but I assumed that it's a problem with MY card, as no DLDI-based homebrew works on it any more! Or maybe we're both using the same driver and it's dodgy :-S
<br/>
<br/>
@MasterMan: Have a go with those mods and see what happens! Use the fake command line (read the web page) and it should hopefully 'just run', unless those mods have phat levels... Remember Alias models, brush models and gui images MUST live in pak files in order to get textures.
<br/>
<br/>
@argus: that's not in my code, sorry. In fact I find it really hard to believe that you can get that on the screen via Quake... DO you have a mod chip inside your DS? What card are you using? There is dodgy saving with some DLDIs, but nothing like that!
<br/>
<br/>
@soully: yeah, sorry mate - no music yet! I'm still not happy with the amount of CPU load on the ARM9 caused by the file streaming...(even though it's the ARM7 doing the playback)
<br/>
<br/>
EDIT: dood, have a look in the config file for ds_alias_imposters/ds_brush_imposters/ds_draw_imposters and change from 0 to 1 to taste. You don't have to see the white texture if you don't want to...<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"><br/><br/>Last edited by simonjhall on Mon Apr 30, 2007 10:23 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#127143 - PeterM - Mon Apr 30, 2007 10:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">@PeterM: I also get a problem with my Supercard miniSD - but I assumed that it's a problem with MY card, as no DLDI-based homebrew works on it any more! Or maybe we're both using the same driver and it's dodgy :-S</td> </tr></table><span class="postbody">
<br/>
That's probably the case. I've not tried any other DLDI-based homebrew until now, so it's likely not a Quake problem.<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127162 - argus - Mon Apr 30, 2007 2:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">@argus: that's not in my code, sorry. In fact I find it really hard to believe that you can get that on the screen via Quake... DO you have a mod chip inside your DS? What card are you using? There is dodgy saving with some DLDIs, but nothing like that!</td> </tr></table><span class="postbody">
<br/>
<br/>
I was afraid you were going to say something like that.  Let me try to give more details.
<br/>
<br/>
EDIT:  I had a long post here with all the details of my hardware and the events leading up to this error message.  Then I thought of something.  At the end of the message, it says "(end quote) is not a field".  I figured maybe it was referring to a "field" from the save file.  I decided to see if the .sav files were plain text.
<br/>
<br/>
Guess what?  Those save files are totally screwed up on my card.  I opened s0.sav, s1.sav, s2.sav, and s3.sav in notepad.  All four have garbage text at around the same spot in the middle.  Judging from all four of them, the text seems to be data from other text files I had on the SD card.  I think they're excerpts from articles I had saved.
<br/>
<br/>
Conclusion:  my microSD card is F'ed up.  Your app just happens to be the first one showing symptoms of it.  Sorry for the confusion!  I suppose this could also be a problem with your app, or the DLDI patch or something... but I'm willing to accept that it might just be my microSD card having problems from months of use.
<br/>
<br/>
You've got to admit, it's kinda funny.  It just happened to be an excerpt of an article about modding.  You can see why I was freaked out.  lol</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127167 - Mr. Picklesworth - Mon Apr 30, 2007 3:47 pm</h4>
    <div class="postbody"><span class="postbody">This is a great improvement!
<br/>
Really fast now, although I can still feel a slowdown when the enemies are running around. Not a problem, though.
<br/>
<br/>
Believe it or not, I <span style="font-style: italic">prefer</span> having the textures pop gradually in that visible way; it shows that the system is doing something clever. (And I quite like well designed systems).
<br/>
<br/>
I love the keyboard configuration, too. I can finally have a lefty setup using the shoulder buttons :)
<br/>
<br/>
<br/>
Judging by your screenshots, I guess Malice works, are there any others?<br/>_________________<br/>Thanks!
<br/>
<span style="font-size: 9px; line-height: normal">MKDS Friend Code: 511165-679586
<br/>
MP:H Friend Code: 2105 2377 6896</span></span><span class="gensmall"><br/><br/>Last edited by Mr. Picklesworth on Mon Apr 30, 2007 5:45 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#127173 - dantheman - Mon Apr 30, 2007 4:33 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PeterM wrote:</b></span></td> </tr> <tr> <td class="quote">That's probably the case. I've not tried any other DLDI-based homebrew until now, so it's likely not a Quake problem.</td> </tr></table><span class="postbody">
<br/>
<br/>
Have you tried the alternate SCSD_moon.dldi file posted on the <a class="postlink" href="http://dldi.drunkcoders.com" target="_blank">DLDI wiki</a>?  It's based off of Moonshell's FAT code, so it usually works when SCSD.dldi fails.  I actually have two miniSD cards, and one only works with SCSD_moon while the other works fine with both.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127176 - PeterM - Mon Apr 30, 2007 5:27 pm</h4>
    <div class="postbody"><span class="postbody">Thanks! That seemed to do the trick!<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127188 - simonjhall - Mon Apr 30, 2007 7:15 pm</h4>
    <div class="postbody"><span class="postbody">@argus - that's a complete relief! Just interested, but what flash card do you have? I have been told that some DLDIs give corrupt saves occasionally - if I can prove that its the driver that's at fault I'd like to get the actual developers to fix it, rather than me hacking a quick fix into Quake.
<br/>
<br/>
@peter - so, which how does this compare with the PSP version? ;-D
<br/>
<br/>
@picklesworth - yeah, really sorry about the slowdown. This becomes especially apparent on some levels (I could name about five, esp e4m1). Originally the rendering took about 1 second / frame, and the AI/world/physics took about 50-100 ms. Now the rendering takes 15-20ms but the physics stuff still takes the same amount of time! I still have a LOT of work to do on that code. If you don't believe me, walk into a slow bit, pause it and spin the camera around - it should be much faster!
<br/>
If you play a network game - but have the server on a 'real' computer - you get this high framerate all the time... :-D
<br/>
<br/>
Also that texture pop-in thing, I was *really* worried about how people would take that. I'm glad I've had no complaints about it! And yeah, it's doing a lot in the background (eg constantly defragging sound and texture memory)
<br/>
<br/>
Total conversions should run fine, assuming they're light on RAM. Malice requires a 16 meg heap - the DS only has 3.0. As a result, you can only run the deathmatch levels with the standard QDS build as they are smaller and have no monsters. Wait for the extended-RAM build to play it properly, assuming you have a flash card with extra RAM. Even if you don't play heavy levels it should improve texture and sound load times.
<br/>
I haven't tried any other total conversions, but people have told me that some mods work file...<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127189 - PeterM - Mon Apr 30, 2007 7:20 pm</h4>
    <div class="postbody"><span class="postbody">I'd say the upcoming PSP version is better, but the PSP hardware is much more suitable.
<br/>
<br/>
*ducks for cover*
<br/>
<br/>
Wish I could continue working on it, but my work is getting into PSP development so I'll be NDA'd shortly.<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127193 - 9th_Sage - Mon Apr 30, 2007 8:49 pm</h4>
    <div class="postbody"><span class="postbody">Been awhile since I've been here...was always one of the best places to keep up on GBA/DS homebrew.  I feel out of the loop.
<br/>
<br/>
Anyway, I'm having a weird issue with my M3 miniSD.  It seems to load things ok (I see it loading models on the lower screen), but after that point sometimes it just hangs.  Like if I can get up to the point of starting a new game, sometimes it sits there saying "Player 1 has entered the server" with the top screen fully black instead of...displaying the game.
<br/>
<br/>
Maybe the extended RAM build will work better for me, I hope.   Oh yes, and this is with the shareware version of Quake.  Don't have the full PC version, though I'll buy it if I can sort this issue out, Quake rules.  :)  By the way, when it did work for me, I have to say kudos...it's far far better than the previous pre-release build.  When it does work, it seems to have no problems loading and what not.
<br/>
<br/>
*edit*
<br/>
I tried two DLDI drivers, as well.  The standard M3 miniSD one by Chishm, and then AgentQ's ScummVM one...the alternate doesn't work at all.  O_o  Weird, I've never seen that happen.  Usually Chishm's works and if it has an issue the alt works.<br/>_________________<br/>----
<br/>
Now 10% more Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127221 - simonjhall - Mon Apr 30, 2007 11:49 pm</h4>
    <div class="postbody"><span class="postbody">Ok, open the config file and at the very bottom of the file make a new line and try and load a bogus map via the map command - write 'map XYZ' or something (but obv without the quotes). Save it and fire up the game - you should get a key symbol showing it can't load the level (as well as messages on the console saying this). You should then be able to use the menus (press start).
<br/>
<br/>
If you can't get this, but you DO get the Quake font, it doesn't sound like a DLDI problem. It sounds more like a problem with your flash card - it seems that some cards don't initialise the second processor properly. If it is this problem, we can work something out to fix this for you and other people who are having this.
<br/>
<br/>
If you can get the menu up (textured, and you get the Quake font on the subscreen) then it could be a DLDI problem. Either way, we can work something out to fix it.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127234 - xskater101189 - Tue May 01, 2007 1:45 am</h4>
    <div class="postbody"><span class="postbody">Very nice release looks great!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127238 - kusma - Tue May 01, 2007 2:26 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">Also that texture pop-in thing, I was *really* worried about how people would take that. I'm glad I've had no complaints about it!</td> </tr></table><span class="postbody">I'd like to add that I totally hate it, but I guess it's a LOT better than stalling there anyway ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127253 - argus - Tue May 01, 2007 6:16 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">@argus - that's a complete relief! Just interested, but what flash card do you have? I have been told that some DLDIs give corrupt saves occasionally - if I can prove that its the driver that's at fault I'd like to get the actual developers to fix it, rather than me hacking a quick fix into Quake.</td> </tr></table><span class="postbody">
<br/>
<br/>
I have a Supercard Lite and Superkey.  I'm using the standard Supercard Lite DLDI file:  sclt.dldi.
<br/>
<br/>
Okay, since my last post - I defragged my microSD, because I figured that might help.  It needed it.  I then deleted the Quake .nds file I was using and DLDI patched a fresh one.  This time I didn't run it through the Supercard Magic Homebrew Patcher - the first time, I did.
<br/>
<br/>
I'm still getting this problem.  It's very strange.  I can play the entire episode fine, and I can save.  I can't load those save files, though.  If I open the .sav files in a text editor, I see garbage data strewn about.  The strange thing is that it seems to be text from various files I have on the SD card.  Sometimes it's text, and sometimes it's garbage (maybe from a binary file on the card?).  Either way, it's approximately a paragraph of text.
<br/>
<br/>
It goes like this:
<br/>
<br/>
-normal Quake save data for dozens of lines-
<br/>
-paragraph of text-
<br/>
-normal Quake save data for dozens of lines-
<br/>
-paragraph of text-
<br/>
etc.
<br/>
<br/>
I have about 20 text files in j:\mydocs\feeds, and I recognize some of the garbage data is coming from those.  It seems totally random.  Those are the only .txt files on my card.  Basically everything else on the card is binary.
<br/>
<br/>
Your Quake is the only app that has given me this problem, and I use plenty of homebrew.  I know it's a completely crazy problem, and it -might- be my SD card or something.  It's just strange that other homebrew works with the same DLDI patch file.
<br/>
<br/>
This is really strange.  If I can be of any help, send me a PM.  I could send you one of the corrupt .sav files, if it would help.  The garbage might be at regular intervals.  I haven't really checked.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127283 - simonjhall - Tue May 01, 2007 11:29 am</h4>
    <div class="postbody"><span class="postbody">The other homebrew you use - does that write to the card, or just read from it? Write support seems to be dodgy in many drivers - in particular unaligned writes.
<br/>
<br/>
I do nothing fancy, I just do
<br/>
fopen
<br/>
fprintf
<br/>
fclose
<br/>
<br/>
That's it. Do you get this on *every* save?
<br/>
<br/>
It'd be nice if everyone with this card had this problem as then I could just go buy one and fix the driver myself!<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127286 - Doom5 - Tue May 01, 2007 12:04 pm</h4>
    <div class="postbody"><span class="postbody">The problem isn't always just the drivers. With my Supercard Lite, writes work great on my Toshiba made in Japan card, however, any attempt to write on either of the two Kingston Made In Taiwan cards results in the whole SD card becoming corrupt.
<br/>
<br/>
That should not happen, so I believe the driver is to blame, but using another   Microsd card is clearly the best and easiest work around.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127289 - mortys - Tue May 01, 2007 12:41 pm</h4>
    <div class="postbody"><span class="postbody">Hi Simon
<br/>
I don't suceed to create the file to use mods or custom maps. can you upload it.
<br/>
P.S : I've got a supercard CF that i don't use if it could be usefull to you...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127302 - argus - Tue May 01, 2007 3:00 pm</h4>
    <div class="postbody"><span class="postbody">simonjhall:  I do use other homebrew that reads/writes to the card.  Specifically, I'm thinking of Phidias, which is DLDI.  That reads/writes fine.  I can also save/load without problems in the DLDI version (1.1 I think) of DS Doom.
<br/>
<br/>
What are these "unaligned writes" you mention?  I'm just starting to get into DS dev myself.  I've coded and compiled some basic "hello world" examples that use fopen on my card without any problems, but I don't think I've tested any writing myself.  Perhaps I could run some fprintf tests with and without the DLDI patch.
<br/>
<br/>
Doom5:  I'm using a decent card... Sandisk Ultra II 1gb microSD.  The only reason it could be messed up is that I've used it pretty intensely for the past four months.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127305 - argus - Tue May 01, 2007 3:51 pm</h4>
    <div class="postbody"><span class="postbody">Okay, here's some more on this.  I like this project, and I want to be able to save.  I'm not trying to hijack this topic, but I want to be helpful if I can.  So I ran some more tests.  I deleted my old .sav files and put five different versions of the Quake .nds on my Supercard:
<br/>
<br/>
1. .nds without any patches
<br/>
2. .nds with DLDI
<br/>
3. .nds with SCMHB
<br/>
4. .nds with SCMHB then DLDI
<br/>
5. .nd with DLDI then SCMHB
<br/>
<br/>
SCMHB = Supercard Magic Homebrew Patcher.  I think it's obsolete now, but I got in the habit of using it because some old homebrew required it.
<br/>
<br/>
Anyway, with each version I saved a new game and tried to load it.  None of them worked.  I decided to look at the .sav files in a text editor to see if there was a pattern.  Here's what I found.  I'm using "garbage" to refer to what appears to be binary data.  "Text" means recognizable text from other files on my card.  These line numbers should just be used as approximations, because the inserted nonsense makes each file a different length.
<br/>
<br/>
1. line 801 (garbage); line 1590 (garbage); line 1962 (garbage); rest looks fine (3879 lines total)
<br/>
2. line 211 (garbage); line 363 (garbage); rest looks fine (2880 lines total)
<br/>
3. no noticable problem!
<br/>
4. line 211 (text+garbage); line 1809 (text); line 1844 (text); line 1875 (text); + lots more
<br/>
5. line 211 (text); line 735 (garbage); line 1080 (garbage); rest looks fine (2949 lines total)
<br/>
<br/>
As you can see, my trial #3 was the only one that doesn't have any noticable lines of garbage in the save file.  There must still be something subtle wrong with it, because it crashes with the message: '1.000000' is not a field.  Perhaps the messed up text in that one is taken from another save file, and that's why I didn't spot it. :-p
<br/>
<br/>
Just to give you an example of how this junk is mixed in, it goes like this:
<br/>
<br/>
"frame" "17.000000"
<br/>
"mins" "-16.000000 -16.000000 -24.000000logue and character depth in a little-known title like
<br/>
before it was announced for Ameri1"
<br/>
"th_missile" "army_atk1"
<br/>
<br/>
So you see, this stuff is mixed in the middle of the Quake data.  I don't see how this could be your program, so it must be the DLDI patch.  However, it can't be the DLDI patch, because other DLDI homebrew saves/loads just fine for me.  It's very puzzling!  Perhaps it has something to do with your app using more memory than any other DLDI homebrew yet?  It's just a guess.
<br/>
<br/>
Once again, I'd like to know if anyone with a Supercard Lite (not rumble) can confirm or deny that this happens for them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127306 - simonjhall - Tue May 01, 2007 4:05 pm</h4>
    <div class="postbody"><span class="postbody">Hmm, interesting... Ok, I'll try some tests this evening to see if I can hack around these funny bugs. So does this happen EVERY time you save? Could you PM me your email addr and I'll get back to you later this eve with some builds to test if you like.
<br/>
<br/>
@mortys - if you were to run the mods you want to run on the PC, tell me the exact command line that you would use (please check that it does actually work on the PC), and I'll tell you what you need to put in the qdsopts.txt file.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127316 - bear - Tue May 01, 2007 5:31 pm</h4>
    <div class="postbody"><span class="postbody">Great work! Once I switched to holding the ds in normal two handed style with thumb for looking around instead of using the stylus it felt very natural to play.
<br/>
<br/>
There still seems to be some problem with slopes (the fp code I guess) that will bring you to a halt but luckily it was possible to get unstuck by moving in other directions or jumping. Sometimes monsters turn invisible even when there doesn't seem to be all that much going on...
<br/>
<br/>
It's really impressive what you have accomplished so far and how much time you seem to invest in it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127343 - mortys - Tue May 01, 2007 8:09 pm</h4>
    <div class="postbody"><span class="postbody">@simon
<br/>
I've just have to type
<br/>
map orlmapstart
<br/>
<br/>
I've try by copying the example you give on your site but it did'nt work.
<br/>
Maybe it's because I keep the "&lt;new line&gt;" or put the file in a wrong folder...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127357 - bear - Tue May 01, 2007 10:53 pm</h4>
    <div class="postbody"><span class="postbody">mortys: did you put the map in a .pak? It's not convenient  but I think the release notes stated that it would only load data frmo .pak files.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127359 - Dood77 - Tue May 01, 2007 10:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mortys wrote:</b></span></td> </tr> <tr> <td class="quote">@simon
<br/>
I've just have to type
<br/>
map orlmapstart
<br/>
<br/>
I've try by copying the example you give on your site but it did'nt work.
<br/>
Maybe it's because I keep the "&lt;new line&gt;" or put the file in a wrong folder...</td> </tr></table><span class="postbody">
<br/>
Edit the config.cfg either bind a button to 'map orlmapstart' or just add it in a new line at the bottom.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127366 - simonjhall - Tue May 01, 2007 11:18 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, you can either add the map you want to one of the existing pak files or put it in a brand new one.
<br/>
Then put 'map your_level_name' at the end of the config.cfg file in id1 and it'll start when you start the game.
<br/>
<br/>
The qdsopts.txt file is only for when you want to modify the command line - for instance when you want to use mods or total conversions.
<br/>
<br/>
Oh and thanks, bear! :-)
<br/>
Yeah, those are the fp problems from ages ago. I've just not bothered fix them as due to the nature of such a problem it's probably gonna be a real problem to track down and fix!<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127370 - mortys - Tue May 01, 2007 11:32 pm</h4>
    <div class="postbody"><span class="postbody">Thanks to all for your answer
<br/>
I'll try this later on as I'm gonna sleep to go to work tomorrow.
<br/>
@simon 
<br/>
I think you should give the qdsopots.txt file with the next release for all noob and stupid guys like me. :)
<br/>
Thanks alot for your great work</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127402 - 9th_Sage - Wed May 02, 2007 6:53 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
If you can get the menu up (textured, and you get the Quake font on the subscreen) then it could be a DLDI problem. Either way, we can work something out to fix it.</td> </tr></table><span class="postbody">
<br/>
<br/>
Hm, I can get the menu with this key, and the menu does indeed look normal.
<br/>
<br/>
*edit*
<br/>
On second thought, it's still unreliable getting it to that point (I just tried it a few more times), but I can always get the console with the Quake font.<br/>_________________<br/>----
<br/>
Now 10% more Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127406 - simonjhall - Wed May 02, 2007 7:49 am</h4>
    <div class="postbody"><span class="postbody">So it sometimes still locks up when trying to get the menu?
<br/>
<br/>
Ok then, the character on the top left of the subscreen is meant to be a blur between an x character and a + character. It should be moving so fast that it looks like some kinda star shape :-)
<br/>
As you turn on the DS and go through all the loading etc, what does this top left character look like? Is it an x? Is it a blur? Or does it just have regular console text there? And when the locks up, again - what's this character doing?
<br/>
<br/>
This doesn't sound like a DLDI problem.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127422 - mortys - Wed May 02, 2007 11:01 am</h4>
    <div class="postbody"><span class="postbody">I've got the same bug (one time) as the game crash when trying to access the menu (It's said can't load XXXx.wav).
<br/>
<br/>
Simon do you think you'll be able to add support for the Rumble pack. I know it's far to be a priority but could be fun as you get the feedback of your hurt. I think there's some doc on this. 
<br/>
<br/>
If you need a Supercard (as you say for the donnation :-) ) let me know, I'll send you a Supercard CF that work great but I don't use.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127424 - simonjhall - Wed May 02, 2007 11:20 am</h4>
    <div class="postbody"><span class="postbody">Ah that's a different bug - I think the problem some other people are having is that the vblank interrupt isn't happening for some reason.
<br/>
If you're getting an error about not being able to load a sound then either,
<br/>
a) the sound isn't on the card
<br/>
b) the pak file is corrupt
<br/>
c) the filesystem is corrupt
<br/>
d) your card may not be corrupt, but the fat driver can't read your card properly
<br/>
<br/>
If you get a lot of these sound-loading problems then just disable sound via the command line (use -nosound)! Yeah, that's cheating, I know :-)
<br/>
<br/>
I really wanna add rumble support - I have an ezflash 5 but that doesn't fit in the phat. So I pulled it apart (so it fits in the phat) but the rumble broke in about five seconds! The rumble function ripped the wires off the board :-D
<br/>
I don't think there's a lot of support at the moment for homebrew on the Supercard Rumble though...
<br/>
(a Supercard CF would be really handy though - send it this way!)<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127425 - Lick - Wed May 02, 2007 11:27 am</h4>
    <div class="postbody"><span class="postbody">simonjhall, Supercard Rumble code (ASM) can be found in the Supercard LITE DLDI. In one of the .s files.
<br/>
<br/>
Grizzly is working on something that will rule the world including rumble, but I'm not sure what the ETA of his project is.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127429 - mortys - Wed May 02, 2007 12:04 pm</h4>
    <div class="postbody"><span class="postbody">Hi Simon
<br/>
I've got the sound bug only one time fotr the rest of the time it's perfect.
<br/>
For the RUmble, maybe you sould use the driver for the official one. I'll work for everybody (I've got an official one :-) ). If you want tester :), let me know...
<br/>
<br/>
Edit :
<br/>
Just an Idea.
<br/>
Simon do you think it'll be possible to make some kind of menu to choose a mod or the regular game ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127473 - 9th_Sage - Wed May 02, 2007 7:25 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">So it sometimes still locks up when trying to get the menu?
<br/>
<br/>
Ok then, the character on the top left of the subscreen is meant to be a blur between an x character and a + character. It should be moving so fast that it looks like some kinda star shape :-)
<br/>
As you turn on the DS and go through all the loading etc, what does this top left character look like? Is it an x? Is it a blur? Or does it just have regular console text there? And when the locks up, again - what's this character doing?
<br/>
<br/>
This doesn't sound like a DLDI problem.</td> </tr></table><span class="postbody">
<br/>
<br/>
Sometimes it is still spinning albeit slowly, but more (usually) often it just stops, and is an x.  The last few times I tried it just now it got past the console text, and just sat there, it also got to the menu then froze a few times.  
<br/>
<br/>
This is really weird. O_o
<br/>
<br/>
*edited for dumb spelling mistake*<br/>_________________<br/>----
<br/>
Now 10% more Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127769 - octatone - Fri May 04, 2007 7:50 pm</h4>
    <div class="postbody"><span class="postbody">Anyone know how to get the turning to be faster ... e.g. I have turn right and left set to my dpad but it's incredibly slow.  Can you increase the rate of turning somehow?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127777 - Dood77 - Fri May 04, 2007 10:29 pm</h4>
    <div class="postbody"><span class="postbody">Edit your config.cfg and type "cl_yawspeed [speed here]" default is 140.
<br/>
<br/>
I have to say though, touchscreen turning/aiming is ideal for accuracy and dodging... but whatever floats your boat!<br/>_________________<br/>If I use a term wrong or something then feel free to correct, I?m not much of a programmer.
<br/>
<span style="font-size: 9px; line-height: normal">
<br/>
Original DS Phat obtained on day of release + flashme v7
<br/>
Supercard: miniSD, Kingston 1GB, Kingston 2GB
<br/>
Ralink chipset PCI NIC
<br/>
</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127789 - Tockit - Sat May 05, 2007 12:52 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dood77 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I have to say though, touchscreen turning/aiming is ideal for accuracy and dodging... but whatever floats your boat!</td> </tr></table><span class="postbody">
<br/>
<br/>
I definitely have to agree. the PC was always my favorite console for FPS style games, because of the freedom and accuracy of mouse aiming. untill the DS came along - console FPS's were basically crap in my opinion.
<br/>
<br/>
with the flick of a wrist, you can do a 180 degree turn. I love it - quake on DS. my favorite game ever on my favorite console ever. :-D<br/>_________________<br/>-01011101001010101010 (frank)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127820 - TheYak - Sat May 05, 2007 10:18 am</h4>
    <div class="postbody"><span class="postbody">Definitely most enjoyable HB gaming release.  I'm actually enjoying it a lot more than MP:H, not to mention it gave me the first reason since GLQuake to pull out my retail CD again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127875 - simonjhall - Sun May 06, 2007 1:34 am</h4>
    <div class="postbody"><span class="postbody">To those people who have had problems starting this game (and have got stuck at the 'freeing precaches' bit) I think I've fixed it. So if you're having a problem where it locks up, mail me.
<br/>
<br/>
Time to release the wifi build...<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
