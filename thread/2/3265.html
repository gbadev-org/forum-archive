<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Eight queens effeciency - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>OffTopic > Eight queens effeciency</h2>
<div id="posts">
<div class="post">
    <h4>#19517 - TaleriaKNT - Wed Apr 21, 2004 6:05 am</h4>
    <div class="postbody"><span class="postbody">I recently had to write a program to solve the eight queens problem for a CS class, and found that my implementation of it was much different (and more effecient) than what the rest of the class did, so I tried searching around on the internet a bit to try and compare various methods, but most of them seem the same, or very similar.
<br/>
<br/>
My question then is directed at others who have seen the eight queens problem : What is the most efficient algorithm you've seen?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19526 - poslundc - Wed Apr 21, 2004 2:51 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://en.wikipedia.org/wiki/Eight_queens_puzzle" target="_blank">http://en.wikipedia.org/wiki/Eight_queens_puzzle</a>
<br/>
<br/>
Interesting stuff; I'd not heard of the eight queens puzzle before.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19550 - sajiimori - Wed Apr 21, 2004 7:48 pm</h4>
    <div class="postbody"><span class="postbody">What was your algorithm?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19551 - TaleriaKNT - Wed Apr 21, 2004 9:03 pm</h4>
    <div class="postbody"><span class="postbody">Well, rather than try to describe it all over again, here's an excerpt from the readme file I had to turn in with it.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Essentially, I'm using a brute force method, but I'm cutting
<br/>
down the number of possibilities by A LOT ahead of time. Since
<br/>
we know that there can be only one queen in each row and column,
<br/>
we can think of their positions, not as where there are queens
<br/>
in a two dimentional array, but instead, as a list of the
<br/>
locations that the queen is on in each row. If you consider a
<br/>
board such as  Q------- to be represented as 12345678, and then
<br/>
               -Q------
<br/>
               --Q-----
<br/>
               ---Q----
<br/>
               ----Q---
<br/>
               -----Q--
<br/>
               ------Q-
<br/>
               -------Q
<br/>
consider the arrangement 12345678 as possibility #0, then each
<br/>
permutation of this list could be derived from that. ie:
<br/>
12345678=0, 87654321=40319(8!-1). My algorithm considers the
<br/>
board to represented exactly that way, and since we can determine
<br/>
that there are exactly 40320 possible permutations, we can just
<br/>
generate the board pattern associated with each one and check if
<br/>
the diagonals are safe (since by definition, we know that the
<br/>
vertical and horizontal are).</td> </tr></table><span class="postbody">
<br/>
<br/>
The important code to the algorithm is as follows (written in Ada95). The array ListMultiplier is a list of factorials, where the first element is the highest factorial and the last element is zero.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">  SubType BoardRange Is Integer Range 1..8;
<br/>
  Type BoardType Is Array(BoardRange)Of BoardRange;
<br/>
  SubType BoardPossibility Is Natural Range 0..40319; --There are 8!=40320 possibilities.
<br/>
  ListMultiplier:Array(BoardRange)Of Natural;         --Array of factorials for later calculations.
<br/>
<br/>
  Procedure GeneratePossibility(Num:In BoardPossibility;Board:Out BoardType)Is
<br/>
    Available:Array(BoardRange)Of Boolean:=(Others =&gt; True);
<br/>
    Cutter,Traverser,Chosen:Natural;
<br/>
    NumCopy:BoardPossibility;
<br/>
  Begin
<br/>
    NumCopy:=Num; --Because we need to change it, but Ada won't let you.
<br/>
    For MainCount In BoardRange'First..BoardRange'Last Loop --Account for each list item...
<br/>
      If MainCount&lt;BoardRange'Last Then --We need to know how much to remove from NumCopy.
<br/>
        Cutter:=NumCopy/ListMultiplier(MainCount);
<br/>
      Else
<br/>
        Cutter:=0; --Avoid Divide by 0.
<br/>
      End If;
<br/>
      NumCopy:=NumCopy-Cutter*ListMultiplier(MainCount); --This was divided and multiplied back on to
<br/>
      Traverser:=0;                                      --remove the fractional part.
<br/>
      Chosen:=1;
<br/>
      While Traverser&lt;(Cutter+1)Loop --Find which item should be next in the list by looking through
<br/>
        If Available(Chosen)Then     --for an empty slot that is far enough to account for the inverse
<br/>
          Traverser:=Traverser+1;    --factorial of Cutter.
<br/>
        End If;
<br/>
        If Traverser&lt;(Cutter+1)Then
<br/>
          Chosen:=Chosen+1;
<br/>
        End If;
<br/>
      End Loop;
<br/>
      Available(Chosen):=False; --Set column Chosen to not be available in the rest of the passes.
<br/>
      Board(MainCount):=Chosen; --Set row MainCount of the board to have a queen in column Chosen.
<br/>
    End Loop;
<br/>
  End;
<br/>
</td> </tr></table><span class="postbody">
<br/>
This takes a number from 0..40319 and changes it into a board layout. The layouts created are always safe in the vertical and horizontal directions, so I only need to check the diagonals. When I looked around on the internet afterwards, I didn't see any examples that looked like this, so I started to wonder if anyone else has done it this way.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19554 - Miked0801 - Wed Apr 21, 2004 9:28 pm</h4>
    <div class="postbody"><span class="postbody">Funny, but this is pretty similiar to how I would have gone about it.  Solve 2 of the 4 direction trivially, then work from there.  Cool</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
