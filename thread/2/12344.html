<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>(what happens)Matrix m7 = m0 * (m1+m2) * (m3 * m4) * m5 * m6 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>OffTopic > (what happens)Matrix m7 = m0 * (m1+m2) * (m3 * m4) * m5 * m6</h2>
<div id="posts">
<div class="post">
    <h4>#117352 - keldon - Sun Feb 04, 2007 2:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Matrix m7 = m0 * (m1+m2) * (m3 * m4) * m5 * m6;</td> </tr></table><span class="postbody">
<br/>
Let's take the given line of code and assume anything you want, so long as we all can assume that there will be no memory leaks. In a managed environment with operator overloading (such as the .net CIL) the example code would have created many instances of the Matrix class, and disposed of them. Is this how it should be handled? <span style="font-weight: bold"><span style="text-decoration: underline">How many new instances would/should be created?</span></span>
<br/>
<br/>
My answer is 2; only two should be created. However with the current languages you are going to see 6 new instances created with this line of code. In fact if these variables were only created for the creation of m7 and will never be used again then we do not need to create any new instances, we can simply use existing objects. No language allows for this, in order for this sort of feature to be able to be handled by the compiler there must be two version of the overloaded operators: a mutable version and an immutable version.
<br/>
<br/>
Is there an application for an object that has both mutable and immutable types of access?
<br/>
<br/>
Discuss!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117357 - tepples - Sun Feb 04, 2007 3:41 am</h4>
    <div class="postbody"><span class="postbody">C++ has both const methods (which do not change <span style="font-weight: bold">*this</span>) and non-const methods (which change <span style="font-weight: bold">*this</span>). Compiler can guess which version is needed from context.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117370 - keldon - Sun Feb 04, 2007 10:43 am</h4>
    <div class="postbody"><span class="postbody">To be honest I was thinking more of newer languages such as C# and Java. But even in c++ if you didn't want to alter any of the instances then (m1+m2) and (m3*m4) would have to create new instances as well as m5*m6 - then making it 3 new instances [not 2]. So wouldn't you have 3 new instances created from that statement; but then again that would be fine too.
<br/>
<br/>
Ignore the c++ part, I was experimenting with scripting via a CIL and come across the garbage collection issue!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
