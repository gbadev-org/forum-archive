<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Unicode with C++ - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>OffTopic > Unicode with C++</h2>
<div id="posts">
<div class="post">
    <h4>#162449 - jake2431 - Wed Sep 03, 2008 5:01 am</h4>
    <div class="postbody"><span class="postbody">Hey, I want to write a program that uses the block and smiley face characters from unicode as my graphics (█ and ☻). I have googled a few articles on this, but I am still confused about how it was done. Can anyone show me some example code that will display these characters (I am using C::B)? I want to read a maze made of the block characters from a unicode file.
<br/>
<br/>
Or could someone at least point me in the right direction, a article that explains how to do this well, perhaps?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162457 - Kyoufu Kawa - Wed Sep 03, 2008 10:10 am</h4>
    <div class="postbody"><span class="postbody">AFAIK, Unicode is just an encoding system that assigns characters to certain byte sequences. If you save your maze as UTF-16 you can read it as a simple unsigned short (u16) array and go from there. I think the block and smiley characters are in the Basic Multilingual Plane so you should be good.
<br/>
<br/>
What the characters actually look like depends on the font artist, really. And don't forget the byte order mark.
<br/>
<br/>
Example data:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">{
<br/>
  0x2588, 0x2588, 0x2588, 0x2588, 0x2588,
<br/>
  0x2588, 0x0020, 0x0020, 0x0020, 0x2588,
<br/>
  0x2588, 0x0020, 0x263B, 0x0020, 0x2588,
<br/>
  0x2588, 0x0020, 0x0020, 0x0020, 0x2588,
<br/>
  0x2588, 0x2588, 0x2588, 0x2588, 0x2588,
<br/>
};</td> </tr></table><span class="postbody">
<br/>
Should be a five by five "room" with █ all around and a ☻ in the middle, surrounded by spaces.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162460 - sgeos - Wed Sep 03, 2008 2:10 pm</h4>
    <div class="postbody"><span class="postbody">Well... first you need a unicode font...
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162465 - jake2431 - Wed Sep 03, 2008 5:02 pm</h4>
    <div class="postbody"><span class="postbody">Oh, I just realized that I left out a huge point. I am just making it a console app. Just want it to display what it would using the command line. I have done something similar to what I want to do in my C++ class using Xs and such for the graphics. I am just clearing the screen and redrawing. It is very flickery, but is fine for what I want to do.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162466 - sgeos - Wed Sep 03, 2008 5:36 pm</h4>
    <div class="postbody"><span class="postbody">Is there a unicode font built in?  If not, you need to provide one.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162474 - Kyoufu Kawa - Wed Sep 03, 2008 8:04 pm</h4>
    <div class="postbody"><span class="postbody">I think most console windows support █ and ☻ by default. Let me look up the appropriate codes... one was in the upper range and one was... I think 0x01...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162477 - sgeos - Wed Sep 03, 2008 8:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kyoufu Kawa wrote:</b></span></td> </tr> <tr> <td class="quote">I think most console windows support █ and ☻ by default. Let me look up the appropriate codes... one was in the upper range and one was... I think 0x01...</td> </tr></table><span class="postbody">
<br/>
It does not matter what most windows do.  What does yours do?  Try using printf and see what happens.
<br/>
<br/>
Now, if you only want to read a unicode file, that seems simple enough...
<br/>
I'd probably put the file through a regex to squash the multibyte characters to single byte characters, but you can read a multibyte file just as easily.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162479 - jake2431 - Wed Sep 03, 2008 9:08 pm</h4>
    <div class="postbody"><span class="postbody">My console supports those characters, I just don't know how to display them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162480 - sgeos - Wed Sep 03, 2008 9:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>jake2431 wrote:</b></span></td> </tr> <tr> <td class="quote">My console supports those characters, I just don't know how to display them.</td> </tr></table><span class="postbody">
<br/>
What happened when you tried to printf() them?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162482 - Kyoufu Kawa - Wed Sep 03, 2008 10:04 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">It does not matter what most windows do.  What does yours do?  Try using printf and see what happens.</td> </tr></table><span class="postbody">Hold on. I'll check as soon as I know what character code █ was. Last time I seriously used that was back in my Q(uick)Basic days... maaaaan... Be back later.
<br/>
<br/>
I'm back!</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">printf("Smiley: \x2\nWall block: \xDB\n");</td> </tr></table><span class="postbody">Quick look-up in VBDOS' help file and an even quicker test in a VC6 console project.
<br/>
<br/>
Guess I was mistaken about the smiley being character #1... that's ☺.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162486 - jake2431 - Wed Sep 03, 2008 10:35 pm</h4>
    <div class="postbody"><span class="postbody">Sorry, I wasn't where I could test it. Works great! Thanks guys. I didn't know the character code for those characters, so it wasn't working last time I tried. The charts I have are only for ascii.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162490 - jake2431 - Wed Sep 03, 2008 10:59 pm</h4>
    <div class="postbody"><span class="postbody">Where do I get those character codes? The VBDOS help file, I mean. Is that something to do with visual basic?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162515 - Kyoufu Kawa - Thu Sep 04, 2008 7:33 am</h4>
    <div class="postbody"><span class="postbody">Indeed it is -- Visual Basic 1.0 for DOS. Please don't ask why I have that lying around ^^;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162533 - sgeos - Thu Sep 04, 2008 4:07 pm</h4>
    <div class="postbody"><span class="postbody">You can print an extended ASCII table with something like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">char i;
<br/>
for (i = 0x20; i != 0; i++)
<br/>
{
<br/>
   printf("0x%02X : %c", i, i);
<br/>
}</td> </tr></table><span class="postbody">Untested.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162544 - Kyoufu Kawa - Thu Sep 04, 2008 7:44 pm</h4>
    <div class="postbody"><span class="postbody">Seems about right though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162549 - sgeos - Thu Sep 04, 2008 8:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kyoufu Kawa wrote:</b></span></td> </tr> <tr> <td class="quote">Seems about right though.</td> </tr></table><span class="postbody">
<br/>
I don't doubt my ability to make simple mistakes with devastating results even in simple untested code.  Printing a unicode table is similar, but would require information on how a given unicode encoding works.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162558 - Kyoufu Kawa - Thu Sep 04, 2008 9:55 pm</h4>
    <div class="postbody"><span class="postbody">Well, for UTF16 it's piss easy if you limit yourself to the Basic Multilingual Plane I guess. Just make sure to skip over the delegates or something.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162560 - sgeos - Thu Sep 04, 2008 11:19 pm</h4>
    <div class="postbody"><span class="postbody">That sounds about right.  You could also fprintf() it to a file if you don't trust the console.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162565 - jake2431 - Fri Sep 05, 2008 2:33 am</h4>
    <div class="postbody"><span class="postbody">Okay, thanks guys. Now I have to figure out how to pull those characters from a text file. I am not at my computer right now. I want to be able to store it as those characters and pull them that way, instead of storing characte codes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162579 - Kyoufu Kawa - Fri Sep 05, 2008 12:40 pm</h4>
    <div class="postbody"><span class="postbody">Open the file as binary (despite being text), reading one character unit at a time and mangling the newlines yourself?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
