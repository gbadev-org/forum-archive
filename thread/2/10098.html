<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>NTFS vs FAT - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>OffTopic > NTFS vs FAT</h2>
<div id="posts">
<div class="post">
    <h4>#89840 - mymateo - Mon Jun 26, 2006 10:31 pm</h4>
    <div class="postbody"><span class="postbody">I've got a bit of a question.  Tepples, I think you'd know this np, and I'm pretty sure I know what I'll end up doing, but I'm just looking for personal opinions, preferrably based on actual experience.
<br/>
<br/>
I've finally upgraded from an 80GB Samsung HD to a Maxtor 200GB HD (with 8MB cache - looking forward to using it!).  I want to partition my drive, and I want to consider two basic objectives in deciding sizes and file system types.
<br/>
<br/>
I plan on having the following partitions:
<br/>
1) O/S
<br/>
2) O/S Reinstall Clone (Norton Ghost)
<br/>
3) Temp (So writing temp files only fragments temp files)
<br/>
4) Swap File
<br/>
5) User data (A mix of small and large files, from readme's to 1hr DVD quality TV recordings)
<br/>
<br/>
The OS clone I couldn't care less about how efficient on space or how fast it runs, it's only for those times I want to reinstall Windows 2000 without having to actually reinstall it.  This will probably only need to be about 2 GB (basic windows with room to grow).
<br/>
<br/>
The O/S, Temp and Swap File partitions I want speed on.  OS is going to have about 20 GB, with some office programs, audio and video editing software, DVD/CD burning software, and a few games (NFS, GTA, maybe an RPG or the Sims).  Swap file is going to be 2 GB (I need more than 512 MB Ram, seriously),  and the partition is going to be about 3 GB to prevent low on disk space errors and MFT crowding, and leave me room to expand the swap file if I need to.  The temp partition is going to be about 6 GB (video editing and DVD burning with room for internet and OS temp files).
<br/>
<br/>
The user data area will take up the rest, about 167 GB (over double what I have now).  Security is my #1 priority, so I'll use NTFS.  And since the larger files are where I want performance, I'll be using at least 4 KB cluster size.  Would anyone really suggest doing a larger cluster size (8, 16, 32, 64), keeping in mind that the most performance I want is when dealing with files larger than 2 GB?
<br/>
<br/>
So, if anyone has suggestions on using different partition sizes, cluster sizes, file system types (NTFS, FAT32... FAT16? ... FAT...12??), or might suggest partitioning my drives completely differently, I welcome your suggestions.  I want my PC's performance to benefit from upgrading my PC.  Oh, and I don't have room to simply add the new drive or else the swap file, O/S clone and my backups would reside on my old 80GB, so don't suggest I do that.  I mean, I've got free 5 1/4" bays, but I don't want to fork out any more money.  I couldn't even afford this drive, except that I was running out of room and constantly burning DVD's was driving me NUTS.
<br/>
<br/>
Thanks everyone!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89845 - Joe_Sextus - Mon Jun 26, 2006 11:28 pm</h4>
    <div class="postbody"><span class="postbody">From my experience you should go with NTFS for all partitions, because it is a journaled filesystem this prevents windows from having to run CHKDSK on each partition after a crash.
<br/>
<br/>
Your page file should either be on the first physical partition on the drive. You get faster access to it the closer it is to sector 0. The best place to put a page file though is on the first physical partition of a separate drive.
<br/>
<br/>
EDIT:
<br/>
 My partitioning scheme looks like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
hd0 (80gb IDE)
<br/>
   partition 1: EXT3 78MB (/boot for linux)
<br/>
   partition 2: NTFS 38.14GB (Windows XP)
<br/>
   partition 3: SWAP 973MB (Linux swap space)
<br/>
   logical partition 5: EXT3 27.29GB (/ on linux)
<br/>
   logical partition 6: FAT32 8.07GB (for transfer from linux to windows)
<br/>
<br/>
hd1 (200GB SATA)
<br/>
   partition 1: NTFS 186.31GB (Data Drive and Pagefile)</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89890 - Sean OBrien - Tue Jun 27, 2006 6:20 am</h4>
    <div class="postbody"><span class="postbody">Why would sector 0 have the quickest access time?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89896 - tepples - Tue Jun 27, 2006 6:40 am</h4>
    <div class="postbody"><span class="postbody">Technically, the sectors in the middle of the disc have the quickest <span style="font-style: italic">access time</span> because the seek time to the middle will be on average less than the seek time to the beginning or end. But the sectors at the beginning have the quickest <span style="font-style: italic">transfer rate</span> because more of them pass by the head per revolution.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89906 - chishm - Tue Jun 27, 2006 8:25 am</h4>
    <div class="postbody"><span class="postbody">If you ever want to run linux, make sure you keep the data you want to share between the OSes on a FAT partition. Linux doesn't like NTFS, and Windows doesn't like Ext3. They can be made to work, but I assume since you are asking this question, it will be too much hassle to set up the OSes to play nice.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89927 - Joe_Sextus - Tue Jun 27, 2006 2:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Technically, the sectors in the middle of the disc have the quickest <span style="font-style: italic">access time</span> because the seek time to the middle will be on average less than the seek time to the beginning or end. But the sectors at the beginning have the quickest <span style="font-style: italic">transfer rate</span> because more of them pass by the head per revolution.</td> </tr></table><span class="postbody">
<br/>
I wasn't sure if it was the actual access time or not, so i didn't actually say access time.
<br/>
<br/>
I looked it up on wikipedia to make sure I was thinking of the right thing and it defines access time as:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">... it is the time for the access arm to reach the desired track and the delay for the rotation of the disk to bring the required sector under the read-write mechanism. ...</td> </tr></table><span class="postbody">
<br/>
While the seek time is faster at the center of the drive, wouldn't sectors at the beginning of the disk have faster access time, even though the read arm has to be moved farther.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89949 - Lynx - Tue Jun 27, 2006 4:24 pm</h4>
    <div class="postbody"><span class="postbody">The only reason I suggest FAT16 or FAT32 on any partition is for recovery.  If you plan to use imaging as a recovery method, than it doesn't matter.  I like to fix the issue as apposed to wiping clean and starting over if at all possible.  With FAT16/32, you can boot to a floppy and repair files if needed.<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89958 - tepples - Tue Jun 27, 2006 5:16 pm</h4>
    <div class="postbody"><span class="postbody">FAT is also a good idea if you plan on dual-booting to Linux.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89979 - keldon - Tue Jun 27, 2006 7:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Technically, the sectors in the middle of the disc have the quickest <span style="font-style: italic">access time</span> because the seek time to the middle will be on average less than the seek time to the beginning or end. But the sectors at the beginning have the quickest <span style="font-style: italic">transfer rate</span> because more of them pass by the head per revolution.</td> </tr></table><span class="postbody">
<br/>
<br/>
If your swap space is what's being accessed most of the time then wouldn't the head spend most of its time there; and not around the middle since it will only really need the rest of the harddrive when loading a new process/data/file or when loading new memory / unedited data.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89985 - mymateo - Tue Jun 27, 2006 7:49 pm</h4>
    <div class="postbody"><span class="postbody">That's kinda what I was thinking.  When it comes to the swap file, it should be at the fastest read part of the drive.  After all, it's just one bit contiguous file.  Finding it, and then seeking to any part within it,  are the easy parts.  After that, the most gain is seen in rapid data access.
<br/>
<br/>
I'm not planning on running Linux on my system, just Windows 2000 for now, maybe uograde to Windows XP later when I find a good deal on it.
<br/>
<br/>
So far, it looks like I should have:
<br/>
Swap file at the beginning of the drive
<br/>
Windows next
<br/>
Temp files next
<br/>
User data next (Will cover the entire middle section of the drive and a bit on either side)
<br/>
Data clone at the very center of the drive
<br/>
<br/>
But so far no suggestions on cluster sizes?
<br/>
<br/>
Thanks for your help guys, this is good stuff.  I'm-a-gonna do some more research now.  I find that a healthy mix of technical information and practical advise provide the best solution.  We all know that the manufacturers don't always think like enthusiasts.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89990 - Joe_Sextus - Tue Jun 27, 2006 8:14 pm</h4>
    <div class="postbody"><span class="postbody">Here is a link to a comparison of the Microsoft file systems.
<br/>
<br/>
<a class="postlink" href="http://www.ntfs.com/ntfs_vs_fat.htm" target="_blank">http://www.ntfs.com/ntfs_vs_fat.htm</a>
<br/>
<br/>
The size of the partition as well as the size of the files on that partition should be used to determine cluster size.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89996 - tepples - Tue Jun 27, 2006 8:59 pm</h4>
    <div class="postbody"><span class="postbody">If you have your old drive, and you want a swap file, try putting just your swap file and the Windows backup on that drive.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90000 - mymateo - Tue Jun 27, 2006 9:05 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, I've already read through ntfs.com.  It's a great site.  I think I've found what I need for cluster sizes, and I thought I'd show you what I found.  Using Sisoft Sandra:
<br/>
<br/>
Performance Test Status
<br/>
Run ID : MATEO on Tuesday, June 27, 2006
<br/>
SMP Test : No
<br/>
Total Test Threads : 1
<br/>
SMT Test : No
<br/>
Dynamic MP/MT Load Balance : No
<br/>
Processor Affinity : No
<br/>
Operating System Disk Cache Used : No
<br/>
Use Overlapped I/O : Yes
<br/>
IO Queue Depth : 4 request(s)
<br/>
Test File Size : 512MB
<br/>
File Fragments : 1
<br/>
Block Size : 1MB
<br/>
File Server Optimised : No
<br/>
<br/>
200GB Maxtor with 8MB Cache and 64KB Cluster (biggest cluster size, should have been best IMO)
<br/>
Buffered Read : 40 MB/s
<br/>
Sequential Read : 63 MB/s
<br/>
Random Read : 41 MB/s
<br/>
Buffered Write : 109 MB/s
<br/>
Sequential Write : 62 MB/s
<br/>
Random Write : 45 MB/s
<br/>
Average Access Time : 9 ms (estimated)
<br/>
<br/>
200GB Maxtor with 8MB Cache and 16KB Cluster (best cluster size)
<br/>
Buffered Read : 60 MB/s
<br/>
Sequential Read : 63 MB/s
<br/>
Random Read : 42 MB/s
<br/>
Buffered Write : 109 MB/s
<br/>
Sequential Write : 62 MB/s
<br/>
Random Write : 45 MB/s
<br/>
Average Access Time : 8 ms (estimated)
<br/>
<br/>
80GB Samsung with 2MB Cache and 4KB Cluster (NTFS)
<br/>
Buffered Read : 30 MB/s
<br/>
Sequential Read : 35 MB/s
<br/>
Random Read : 28 MB/s
<br/>
Buffered Write : 29 MB/s
<br/>
Sequential Write : 35 MB/s
<br/>
Random Write : 28 MB/s
<br/>
Average Access Time : 7 ms (estimated)
<br/>
<br/>
As you can see, it doesn't matter what I do, the new drive is better.  I tried FAT32 as well.  Here's the ratings from worst to best.  Assume NTFS unless otherwise stated.
<br/>
8KB, 64KB, 4KB, 4KB FAT32, 32KB, 16KB
<br/>
<br/>
This baffles me, but since they're all really close (they range from overall score from 54MB/s to 55MB/s) I guess it means that cluster size doesn't make that much difference, at least in benchmarks.  I'll be taking 16KB for my swap file.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90002 - mymateo - Tue Jun 27, 2006 9:09 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">If you have your old drive, and you want a swap file, try putting just your swap file and the Windows backup on that drive.</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>I wrote:</b></span></td> </tr> <tr> <td class="quote">Oh, and I don't have room to simply add the new drive or else the swap file, O/S clone and my backups would reside on my old 80GB, so don't suggest I do that. I mean, I've got free 5 1/4" bays, but I don't want to fork out any more money.</td> </tr></table><span class="postbody">
<br/>
<br/>
That's a great idea, and I thought of it already, but I just can't justify spending another $20 on a drive bay, and the only place I can find those 30 cent pieces of metal that would do the same job of fitting my old drive in a 5 1/4" bay is on e-bay, which means I'd have to spend about $20 after shipping.  When I have finally afforded the new drive and can afford a drive bay, then I will probably do that.  Though, looking at the benchmark results, I'd probably only see a very minor performance increase.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90018 - Lynx - Tue Jun 27, 2006 10:09 pm</h4>
    <div class="postbody"><span class="postbody">How much is a drill bit from your local hardware store?  Just drill holes to match the drive in one side of the cage.  If you let it rest on the bottom of the 5.25" cage, you shouldn't have to worry.. heck, my data drive is dangling by the EIDE cable in one of my computers..<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
