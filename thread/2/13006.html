<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sending constant values to a function (which is better) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>OffTopic > Sending constant values to a function (which is better)</h2>
<div id="posts">
<div class="post">
    <h4>#125826 - keldon - Tue Apr 17, 2007 11:01 am</h4>
    <div class="postbody"><span class="postbody">This is not c/c++ specific so I put it here. Which do you think is better, and why.
<br/>
(1)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   int width;
<br/>
   int height;
<br/>
   boolean hasZBuffer;
<br/>
   Bitmap bitmap = new Bitmap ( width = 80, height = 60, hasZBuffer = true );</td> </tr></table><span class="postbody">
<br/>
(2)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   final (or const) int width = 80;
<br/>
   final (or const) int height = 60;
<br/>
   final (or const) boolean hasZBuffer = false;
<br/>
   Bitmap bitmap = new Bitmap ( width, height , hasZBuffer );</td> </tr></table><span class="postbody">
<br/>
(3)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   Bitmap bitmap = new Bitmap ( int width = 80, int height = 60, boolean hasZBuffer = true );</td> </tr></table><span class="postbody">
<br/>
<br/>
I quite like the third one because you can keep the variable local to the function while also providing a descriptive name of the variable being sent; but you cannot do this in any language (I know). The next one for me is the first one, and you can use some form of notation to separate these variables from others.
<br/>
<br/>
EDIT: in fact for the third one (if it were to be a new feature to a language/script language) you could have a different keyword altogether such as *hmm* param!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#125827 - Lick - Tue Apr 17, 2007 11:19 am</h4>
    <div class="postbody"><span class="postbody">What about (4):
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Bitmap bitmap = new Bitmap(80, 60, true);
<br/>
int width = bitmap.getWidth();
<br/>
int height = bitmap.getHeight();
<br/>
bool zbuffer = bitmap.hasZBuffer();</td> </tr></table><span class="postbody">
<br/>
<br/>
I think in all of your examples, the passed values are constant and known anyway. If you dynamically retrieve the passed values, then it's a different case.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"><br/><br/>Last edited by Lick on Tue Apr 17, 2007 11:20 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#125828 - kusma - Tue Apr 17, 2007 11:19 am</h4>
    <div class="postbody"><span class="postbody">I'm not a big fan of default parameters for things that aren't obvious as a default (width and height fall into these categories IMO - it might not have if I knew about the context). Another thing to keep in mind is when you read code like this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Bitmap *bmp = new Bitmap(34,324, true);</td> </tr></table><span class="postbody">
<br/>
<br/>
do you really know what true means when you read the code? I sure don't (IMO a zbuffer are not a property of a bitmap - a bitmap and a zbuffer (which again is a special case of a bitmap) are possible properties of a render-target). Anyway, I think it's more understandable with something like:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Bitmap *bmp = new Bitmap(234,234, ZBufferEnable);</td> </tr></table><span class="postbody">
<br/>
<br/>
10 months into your project, this you'll understand this line right away. The other one, you'll most likely have to look up the prototype to understand.
<br/>
<br/>
edit: added code-tags
<br/>
<br/>
edit: oh, and it seems I completely missed the point of the question. Ohwell, ignore me please :)</span><span class="gensmall"><br/><br/>Last edited by kusma on Tue Apr 17, 2007 11:22 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#125829 - Lick - Tue Apr 17, 2007 11:21 am</h4>
    <div class="postbody"><span class="postbody">Kusma has a point there.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#125859 - Ant6n - Tue Apr 17, 2007 5:27 pm</h4>
    <div class="postbody"><span class="postbody">i dont really see what you are asking here; but your number 3) there looks like python syntax</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#125863 - DekuTree64 - Tue Apr 17, 2007 6:12 pm</h4>
    <div class="postbody"><span class="postbody">I like the first syntax in the poll, but I think I'm treating it differently than you are... What I'm thinking is passing parameters by name rather than by order:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">class Bitmap {
<br/>
    Bitmap(int width, int height, bool hasZBuffer = false);
<br/>
};
<br/>
...
<br/>
Bitmap good1 = new Bitmap(width = 10, height = 10);
<br/>
Bitmap good2 = new Bitmap(height = 100, hasZBuffer = true, width = 200);
<br/>
Bitmap bad = new Bitmap(width = 50); // Causes error, height undefined</td> </tr></table><span class="postbody">
<br/>
i.e. parameters without default values are required, but you can pass all the parameters in any order because you specify the name along with the value. The name should make it obvious enough what type it is, and you shouldn't have to create intermediates.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#125867 - josath - Tue Apr 17, 2007 7:07 pm</h4>
    <div class="postbody"><span class="postbody">You can do this in javascript, actionscript (used in Flash), or other ECMAScript-based languages
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
var mybitmap:Bitmap = new Bitmap({width:800, height:600, zBuffer:true});
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The order of the paramaters do not matter. You can throw errors in constructors in AS3 if the paramaters you want aren't defined, but I'm not 100% sure about other versions of actionscript or javascript.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#125869 - simonjhall - Tue Apr 17, 2007 7:14 pm</h4>
    <div class="postbody"><span class="postbody">I do image processing every day, and I'd roll with the second option. I also don't like it when more than one thing happens per line (eg the others you're setting stuff as well as calling stuff). Oh and the enumeration stuff suggested by kusma sounds a good route too...
<br/>
<br/>
Btw keldon, you have 1337 posts. Teh pwn, buddy, teh pwn.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126077 - sgeos - Thu Apr 19, 2007 9:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>kusma wrote:</b></span></td> </tr> <tr> <td class="quote">I'm not a big fan of default parameters for things that aren't obvious as a default</td> </tr></table><span class="postbody">
<br/>
Then make them obviously default?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// default values
<br/>
#define DEFAULT_BMAP_WIDTH       80
<br/>
#define DEFAULT_BMAP_HEIGHT      60
<br/>
#define DEFAULT_BMAP_HASZBUFFER  true</td> </tr></table><span class="postbody">
<br/>
<br/>
There is no best general pattern for something like this.  It really depends on what you are doing- do you need the values later?  Here are a few variations.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// default bitmap
<br/>
Bitmap bitmap = new Bitmap ( DEFAULT_WIDTH, DEFAULT_HEIGHT , DEFAULT_HASZBUFFER );</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// pass default values and verify (they might be "corrected")
<br/>
Bitmap bitmap = new Bitmap ( DEFAULT_WIDTH, DEFAULT_HEIGHT , DEFAULT_HASZBUFFER );
<br/>
width   = bitmap.getWidth();
<br/>
height  = bitmap.getHeight();
<br/>
zbuffer = bitmap.hasZBuffer();</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// pass (default) values; change values if you don't want defaults
<br/>
int     width      = DEFAULT_HEIGHT;
<br/>
int     height     = DEFAULT_WIDTH;
<br/>
boolean hasZBuffer = DEFAULT_HASZBUFFER;
<br/>
Bitmap bitmap = new Bitmap ( width, height , hasZBuffer );</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// pass (default) values and verify; change values if you don't want defaults
<br/>
int     width      = DEFAULT_HEIGHT;
<br/>
int     height     = DEFAULT_WIDTH;
<br/>
boolean hasZBuffer = DEFAULT_HASZBUFFER;
<br/>
Bitmap bitmap = new Bitmap ( width, height , hasZBuffer );
<br/>
width   = bitmap.getWidth();
<br/>
height  = bitmap.getHeight();
<br/>
zbuffer = bitmap.hasZBuffer();</td> </tr></table><span class="postbody">
<br/>
The nice thing about using macros as constants is that it can make finding bugs easy.  (There is an easy to find bug in one of the the above code samples that I didn't bother to fix.)
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
