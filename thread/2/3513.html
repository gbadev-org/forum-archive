<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GBC on Gba? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>OffTopic > GBC on Gba?</h2>
<div id="posts">
<div class="post">
    <h4>#21692 - greenbayrules - Thu Jun 03, 2004 2:06 am</h4>
    <div class="postbody"><span class="postbody">is anyone planning on making a gbc emulator for the gba? just wondering because i would love to be able to play gbc only games on my f2a</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21694 - sajiimori - Thu Jun 03, 2004 2:51 am</h4>
    <div class="postbody"><span class="postbody">Yeah, there are a few listings at zophar.net.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21717 - tepples - Thu Jun 03, 2004 6:42 pm</h4>
    <div class="postbody"><span class="postbody">Last time I checked, all three GBA hosted Game Boy emulators listed at zophar.net supported the DMG (Game Boy mono) system only.
<br/>
<br/>
If you want to play GBC games stored on a Flash2Advance cartridge (<span style="font-style: italic">not</span> the F2A Ultra), get a GB Bridge.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21721 - mr_schmoe - Thu Jun 03, 2004 8:13 pm</h4>
    <div class="postbody"><span class="postbody">why would you want to emulate the GBC on the GBA? I thought the GBA plays GBC games already.<br/>_________________<br/>How many boards could the Mongols hoard, if the Mongol Hored got bored</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21722 - sajiimori - Thu Jun 03, 2004 8:28 pm</h4>
    <div class="postbody"><span class="postbody">Oh sorry, my bad.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21723 - dagamer34 - Thu Jun 03, 2004 10:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mr_schmoe wrote:</b></span></td> </tr> <tr> <td class="quote">why would you want to emulate the GBC on the GBA? I thought the GBA plays GBC games already.</td> </tr></table><span class="postbody">
<br/>
No flash cart directly supports GBC ROMs simply because one of the connecting pins that switches the GBA to GBC mode is too short (pin 31, I think).<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21727 - tepples - Thu Jun 03, 2004 11:56 pm</h4>
    <div class="postbody"><span class="postbody">Actually, the pin that switches isn't electronic but mechanical, at the side of the Game Pak connector. Look at the backs of a GB/GBC Game Pak and a GBA Game Pak, and you'll see two little notches. The GBA uses these to distinguish GBC from GBA. Why a flash cart maker hasn't made a slide switch to put a single flash cart into either GBC or GBA mode, I don't know. Such a switch would change both 1. the shape of the cart (to let the GBA detect a GBC cart) and 2. the wire protocol (5v vs. 3.3v and whether data is multiplexed over the address bus).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21731 - dagamer34 - Fri Jun 04, 2004 12:54 am</h4>
    <div class="postbody"><span class="postbody">I assume trying to physically modify your cart to remove those notches by placing something there won't help, right?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21732 - greenbayrules - Fri Jun 04, 2004 2:51 am</h4>
    <div class="postbody"><span class="postbody">ok thx guys, because i didn't know why no one had ever made a gbc to gba emulator. but now i understand</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21734 - sajiimori - Fri Jun 04, 2004 4:18 am</h4>
    <div class="postbody"><span class="postbody">Those difficulties don't preclude a GBC emulator on GBA -- you could still put GBC ROMs on a flash cart.  It's a speed issue, right?  The 8 MHz GBC processor is too fast to emulate on the 16 MHz ARM7.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21737 - tepples - Fri Jun 04, 2004 4:44 am</h4>
    <div class="postbody"><span class="postbody">A Z80 processor at a given clock rate typically gets as much done as a 6502 processor at half the clock rate. Therefore it'd be equivalent to a 6502 at 4 MHz, which isn't far off from what SNES Advance emulates. So yes, it may in theory become possible.
<br/>
<br/>
Besides, not all GBC games put the processor into double-speed mode; many just use the extra pattern tables, deeper nametables, and general-purpose DMA channels.
<br/>
<br/>
One problem that may get in the way is <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=3322&amp;highlight=patent" target="_blank">Teh Patent</a>. SNES Advance uses speed hacks selected by title. It's against the law in the United States for a handheld emulator to switch on speed hacks based on a ROM's hash.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21752 - keldon - Fri Jun 04, 2004 12:25 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">A Z80 processor at a given clock rate typically gets as much done as a 6502 processor at half the clock rate. Therefore it'd be equivalent to a 6502 at 4 MHz, which isn't far off from what SNES Advance emulates. So yes, it may in theory become possible.
<br/>
<br/>
Besides, not all GBC games put the processor into double-speed mode; many just use the extra pattern tables, deeper nametables, and general-purpose DMA channels.
<br/>
<br/>
One problem that may get in the way is <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=3322&amp;highlight=patent" target="_blank">Teh Patent</a>. SNES Advance uses speed hacks selected by title. It's against the law in the United States for a handheld emulator to switch on speed hacks based on a ROM's hash.</td> </tr></table><span class="postbody">
<br/>
Well the Z80 processor in the Gameboy has multiples 4 cycle operations, so it runs more like 1Mhz in normal speed and 2Mhz in double (per instruction), whereas the Gameboy Advanced is 1 cycle per (most) operations.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21762 - Miked0801 - Fri Jun 04, 2004 4:36 pm</h4>
    <div class="postbody"><span class="postbody">Whoa
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
A Z80 processor at a given clock rate typically gets as much done as a 6502 processor at half the clock rate.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The GBC is not even close to a real Z80. It runs as people say at 4 to 1 cycles so we pretty much treated it as a 1Mhz (2Mhz in double) CPU.  On top of that, it has no shadow registers, and it's missing 1/2 the normal Z80 intructions (no xfer function is the big one.)  It also is missing the 16-bit utility registers leaving you with a,b,c,d,e,h,l.  or a, bc, de, hl for 16-bit sutff of which only hl and a together can access things with auto incrementing at 2 cycles per.  Also, some of the intructions do take more than 1 cycle to run.  Push, Pop, and a few others I can't remember at the moment.  
<br/>
<br/>
Yes I know that 7 registers is better than 3 (a,x,y), but I doubt a GBC is twice the CPU of a 6502.  
<br/>
<br/>
Man, this brings back memories of GBC dev.  Bleh ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21770 - ampz - Fri Jun 04, 2004 5:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">Well the Z80 processor in the Gameboy has multiples 4 cycle operations, so it runs more like 1Mhz in normal speed and 2Mhz in double (per instruction), whereas the Gameboy Advanced is 1 cycle per (most) operations.</td> </tr></table><span class="postbody">
<br/>
<br/>
The proper term for "number of instructions per second" is MIPS, not MHz.
<br/>
GB runs at ~1MIPS, GBC in double speed mode runs at ~2MIPS, GBA runs at ~16MIPS (Assuming Internal RAM/BIOS).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21773 - poslundc - Fri Jun 04, 2004 6:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ampz wrote:</b></span></td> </tr> <tr> <td class="quote">The proper term for "number of instructions per second" is MIPS, not MHz.
<br/>
GB runs at ~1MIPS, GBC in double speed mode runs at ~2MIPS, GBA runs at ~16MIPS (Assuming Internal RAM/BIOS).</td> </tr></table><span class="postbody">
<br/>
<br/>
Also assuming you are only using the ALU subset of instructions with no register-specified shifts. Anything else and the MIPS drops. A lot.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21780 - ampz - Fri Jun 04, 2004 8:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ampz wrote:</b></span></td> </tr> <tr> <td class="quote">The proper term for "number of instructions per second" is MIPS, not MHz.
<br/>
GB runs at ~1MIPS, GBC in double speed mode runs at ~2MIPS, GBA runs at ~16MIPS (Assuming Internal RAM/BIOS).</td> </tr></table><span class="postbody">
<br/>
<br/>
Also assuming you are only using the ALU subset of instructions with no register-specified shifts. Anything else and the MIPS drops. A lot.
<br/>
<br/>
Dan.</span></td> </tr></table><span class="postbody">
<br/>
True.
<br/>
Instructions with register specified shifts require two cycles, memory loads, memory stores, and branches typically require three cycles. ALU instructions with or without a constant shift only require one cycle.
<br/>
<br/>
On the other hand, the z80 cannot do combined ALU+shift instructions, or even register specified shifts (since it is a 8bit CPU). Theese operations require several instructions on the z80.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
