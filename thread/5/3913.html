<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>basic 3D stuff - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>News > basic 3D stuff</h2>
<div id="posts">
<div class="post">
    <h4>#25263 - krom - Thu Aug 19, 2004 5:16 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://www.gbadev.org/demos/CuteCube.png">[Images not permitted - Click here to view it]</a> <a href="http://www.gbadev.org/demos/Voxel.png">[Images not permitted - Click here to view it]</a>
<br/>
<span style="font-weight: bold">Hugo Smits</span> has released two 3d demos that both include source code:
<br/>
<br/>
<span style="font-style: italic">I want to release 2 demos on gbadev.org,
<br/>
a simple vector demo and a simple voxel demo.
<br/>
Both include full sourcecode.  I used them to learn myself 3D.
<br/>
So the code is not superb (since it was the first time I tried 3D)
<br/>
but maybe some other newbie can learn from it, just like I did :)</span>
<br/>
<br/>
Both of the demos come complete with source code in <span style="font-weight: bold">C</span> format.
<br/>
<br/>
You can grab the <span style="font-weight: bold">CuteCube</span> and <span style="font-weight: bold">Voxel</span> demos from the main site!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25271 - Lord Graga - Thu Aug 19, 2004 6:32 pm</h4>
    <div class="postbody"><span class="postbody">eeeeeeeeeek. 
<br/>
<br/>
lots of errors in that cute cube: 
<br/>
<br/>
1) Learn to set your PATH in your OS instead of doing it in the batch file 
<br/>
2) Don't use batch files, learn to use makefiles. It took me a day, but it's absolutely brilliant to play around with them. GBADev has becomed so much easier, and compiletime has been set down. 
<br/>
3) Do not point your PATH at /devkitarmdirwhatever/arm-elf/bin, but at /devkitarmdirwhatever/bin, and use the arm-elf- prefix when calling GCC 
<br/>
4) Try to learn to recieve the SIN/COS table from the BIOS 
<br/>
5) I think it's incredibly unsafe to INCLUDE an S file into the project. Like, higly highly unwise, because it's also unwise to put C code your source by including it.
<br/>
6) There's lots and lots of other errors/things that could be fixed, like, you should update devkitarm.
<br/>
<br/>
Take this as a guideline, not as a personal critism.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25297 - tepples - Fri Aug 20, 2004 6:00 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lord Graga wrote:</b></span></td> </tr> <tr> <td class="quote">1) Learn to set your PATH in your OS</td> </tr></table><span class="postbody">
<br/>
Not everybody who uses a particular Windows machine is an Administrator. Can non-Administrators set the PATH, especially given that different projects for different platforms may use different PATHs?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">2) Don't use batch files, learn to use makefiles</td> </tr></table><span class="postbody">
<br/>
Then you get all sorts of path-separator ('/' vs. '\') and "sh.exe not found" issues that change whether you use MinGW make, MSYS make, or Cygwin make.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">4) Try to learn to recieve the SIN/COS table from the BIOS</td> </tr></table><span class="postbody">
<br/>
How precise is this table? Is it just 8-bit?
<br/>
<br/>
Otherwise, I agree with your suggestions.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25299 - DekuTree64 - Fri Aug 20, 2004 7:35 am</h4>
    <div class="postbody"><span class="postbody">Yeah, the built in tables are 8-bit. At least the only way you can acces them is, I don't know how they're handled internally but you just use the OBJ affine set SWI with an angle, and no scaling, and then check PA/PD for the cosine of the angle, or PB for sine. Now that I think about it, I'm a little curious as to what would happen if you scale the object smaller, say, 1/4 normal size, would you get 4 times the accuracy on the cosine, or would it just be 4*the 8-bit one?
<br/>
I'll report back in a minute after I run a quick test...<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25305 - DekuTree64 - Fri Aug 20, 2004 8:24 am</h4>
    <div class="postbody"><span class="postbody">Ok, the SWI calls DO have higher accuracy than 8-bit. You can safely go up to 14 bits before you overflow the 16-bit PA/B/C/D parameters for OAM, although I think it would only be 1 that overflows, so you could get 15 bits and special case cos(0).
<br/>
Here is the test code for generating a 16-bit table with 14-bits of accuracy:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void MakeTrigTable(s32 *table)
<br/>
{
<br/>
   BgAffineSrc bgSrc[256];
<br/>
   BgAffineDest bgDest[256];
<br/>
   s32 i;
<br/>
<br/>
   for(i = 0; i &lt; 256; i++)
<br/>
   {
<br/>
      bgSrc[i].x = 0;
<br/>
      bgSrc[i].y = 0;
<br/>
      bgSrc[i].tX = 0;
<br/>
      bgSrc[i].tY = 0;
<br/>
      bgSrc[i].sX = 256&lt;&lt;6;   // 14 bits
<br/>
      bgSrc[i].sY = 256&lt;&lt;6;
<br/>
      bgSrc[i].theta = i &lt;&lt; 8;
<br/>
   }
<br/>
   BgAffineSet(bgSrc, bgDest, 256);
<br/>
   for(i = 0; i &lt; 256; i++)
<br/>
      table[i] = bgDest[i].pa &lt;&lt; 2;   // +2 bits = 16 bits
<br/>
}
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
