<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>devkitARM release 12 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Announcements And Comments > devkitARM release 12</h2>
<div id="posts">
<div class="post">
    <h4>#43343 - wintermute - Sun May 22, 2005 1:37 pm</h4>
    <div class="postbody"><span class="postbody">updated to gcc 3.4.4
<br/>
updated to newlib 1.13.0
<br/>
added nds crtls
<br/>
improved gba crtls
<br/>
added makefile fragments for gba/gp32/nds
<br/>
<br/>
<a class="postlink" href="http://www.devkit.tk/" target="_blank">devkitPro</a>
<br/>
<br/>
alternative url for those having trouble with the .tk host
<br/>
<br/>
<a class="postlink" href="http://devkitpro.sourceforge.net/news.shtml" target="_blank">devkitPro</a></span><span class="gensmall"><br/><br/>Last edited by wintermute on Fri May 27, 2005 1:01 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#43349 - Quirky - Sun May 22, 2005 4:49 pm</h4>
    <div class="postbody"><span class="postbody">The new crt0 for the gba takes a long time to start compared to the r11 version. 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
  @---------------------------------------------------------------------------------
<br/>
  SkipEWRAMClear:                                 @ Clear Internal WRAM to 0x00
<br/>
  @---------------------------------------------------------------------------------
<br/>
          mov     r0, #3
<br/>
          lsl     r0, #24                         @ r0 = 0x3000000
<br/>
          ldr     r1, =__iwram_end
<br/>
          bl      ClearMem
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
this is the culprit. The ClearMem loop uses r1 as the number of words to clear at address r0, here the count is 0x3008000. In r11 it was __sp_usr_offset-16 = (__sp_usr - __iwram_start)-16 = 0x7ef0.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43390 - wintermute - Mon May 23, 2005 12:28 am</h4>
    <div class="postbody"><span class="postbody">oops, missing subtract. Fixed in cvs
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
  @---------------------------------------------------------------------------------
<br/>
  SkipEWRAMClear:                                 @ Clear Internal WRAM to 0x00
<br/>
  @---------------------------------------------------------------------------------
<br/>
          mov     r0, #3
<br/>
          lsl     r0, #24                         @ r0 = 0x3000000
<br/>
          ldr     r1, =__iwram_end
<br/>
          sub    r1, r0
<br/>
          bl      ClearMem
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
to fix this in your install, edit as above, make sure ... devkitARM/bin is in your path, open msys shell, cd to ... devkitARM/arm-elf/lib and type make CRT=gba</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43607 - tepples - Wed May 25, 2005 2:55 am</h4>
    <div class="postbody"><span class="postbody">Do you plan on making an updated binary release?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43612 - funkaster - Wed May 25, 2005 3:54 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">oops, missing subtract. Fixed in cvs</td> </tr></table><span class="postbody">
<br/>
<br/>
cvs is not compiling... it stops when trying to compile gbafix.c (file not found).
<br/>
I'll try again and post the log.
<br/>
(the machine is a G4 box, running Debian sarge)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43635 - funkaster - Wed May 25, 2005 7:11 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>funkaster wrote:</b></span></td> </tr> <tr> <td class="quote">cvs is not compiling</td> </tr></table><span class="postbody">
<br/>
<br/>
nevermind... if you download just the buildscripts from cvs, and let the scripts to download everything, it works :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43641 - Lord Graga - Wed May 25, 2005 8:48 am</h4>
    <div class="postbody"><span class="postbody">Great, will get started with DS some time soon :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43673 - wintermute - Wed May 25, 2005 6:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Do you plan on making an updated binary release?</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm currently debating an update package of some sort,  perhaps a script to autoupdate the crtls.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43674 - wintermute - Wed May 25, 2005 6:04 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>funkaster wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>funkaster wrote:</b></span></td> </tr> <tr> <td class="quote">cvs is not compiling</td> </tr></table><span class="postbody">
<br/>
<br/>
nevermind... if you download just the buildscripts from cvs, and let the scripts to download everything, it works :-)</span></td> </tr></table><span class="postbody">
<br/>
<br/>
what were you doing in the first place?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43697 - funkaster - Wed May 25, 2005 7:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">what were you doing in the first place?</td> </tr></table><span class="postbody">
<br/>
<br/>
I did:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">cvs co .</td> </tr></table><span class="postbody">
<br/>
(checked out the root directory) all the projects downloaded to the working directory. The I entered the buildscripts dir and executed the shell script. It never complained about not finding the other directories, but failed when compiling the tools. libgba compiled fine though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43699 - wintermute - Wed May 25, 2005 8:28 pm</h4>
    <div class="postbody"><span class="postbody">aha, yes, the tools module is embedded in the buildscripts module via some cvs trickery. Checking out the top level isn't necessary or recommended :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43832 - blueskies - Fri May 27, 2005 4:37 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the info.  I noticed that it was taking a loong time to start a demo in vba, but in five minutes I had it fixed.  :)<br/>_________________<br/>-Jonathan
<br/>
<a href="http://juansuave.com" target="_blank">http://juansuave.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44864 - tepples - Mon Jun 06, 2005 6:38 am</h4>
    <div class="postbody"><span class="postbody">I'm sticking with devkitARM r11 for the time being, at least until a GCC 4 based version comes out. I tried upgrading from r11 to r12, including patching crt0 as described above, but when I compiled my newest project (using gba_mb.specs), it worked on VBA but not on hardware. It would either white-screen if flashed by itself or reboot the GBA if flashed as part of a PogoShell image. Switching back to r11 fixed the issue
<br/>
<br/>
It's just one data point, but for GBA-only developers such as myself, I don't see the benefit of the upgrade vs. the risk of things breaking unpredictably.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44878 - wintermute - Mon Jun 06, 2005 1:52 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">I'm sticking with devkitARM r11 for the time being, at least until a GCC 4 based version comes out. I tried upgrading from r11 to r12, including patching crt0 as described above, but when I compiled my newest project (using gba_mb.specs), it worked on VBA but not on hardware. It would either white-screen if flashed by itself or reboot the GBA if flashed as part of a PogoShell image. Switching back to r11 fixed the issue
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
At this point gcc 4 is liable to cause similar issues, 4.0.0 has been blacklisted by KDE due to a couple of wrong code bugs. 4.0.1 is due soon and may be more stable.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
It's just one data point, but for GBA-only developers such as myself, I don't see the benefit of the upgrade vs. the risk of things breaking unpredictably.</td> </tr></table><span class="postbody">
<br/>
<br/>
Please report bugs on the mailing list rather than moaning about problems in public and encouraging people not to upgrade. While I do attempt to visit the forums regularly I often miss issues here when skimming through posts. For the most part r12 appears to be behaving rather well.
<br/>
<br/>
Where possible a testcase should be given showing the problem and, if you have the homebrew licensed no$gba, it may show up where the problem is occurring.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44886 - tepples - Mon Jun 06, 2005 3:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">It's just one data point, but for GBA-only developers such as myself, I don't see the benefit of the upgrade vs. the risk of things breaking unpredictably.</td> </tr></table><span class="postbody">
<br/>
<br/>
Please report bugs on the mailing list</span></td> </tr></table><span class="postbody">
<br/>
At the time I found the problem, I didn't have time to make a minimal test case, and I don't want to publish the project's entire build tree for fear of disqualification from any future competition where I intend to use this project. I will try to make a reduced test case when I get a chance and post it to the mailing list. Are .o files OK, or do you need source code?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">rather than moaning about problems in public and encouraging people not to upgrade.</td> </tr></table><span class="postbody">
<br/>
I was suggesting only that it might not be wise to upgrade in the middle of a project and expect everything to continue to work smoothly.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">if you have the homebrew licensed no$gba, it may show up where the problem is occurring.</td> </tr></table><span class="postbody">
<br/>
How much does it cost to wire money from a U.S. bank to a German bank?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44890 - SimonB - Mon Jun 06, 2005 4:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">How much does it cost to wire money from a U.S. bank to a German bank?</td> </tr></table><span class="postbody">
<br/>
<br/>
Depends on the bank, but it doesnt look like Martin wants you to wire money from the US...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>no$gba website wrote:</b></span></td> </tr> <tr> <td class="quote">From inside europe only (due to transfer fees).</td> </tr></table><span class="postbody">
<br/>
<br/>
Simon</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44900 - wintermute - Mon Jun 06, 2005 5:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">At the time I found the problem, I didn't have time to make a minimal test case, and I don't want to publish the project's entire build tree for fear of disqualification from any future competition where I intend to use this project. I will try to make a reduced test case when I get a chance and post it to the mailing list. Are .o files OK, or do you need source code?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
source is preferred but .o files may help if you have trouble tracking down the exact problem.
<br/>
<br/>
You inspired me to fiddle with the devkitPro web pages a little more. I've not added some basic instructions for bug reporting.
<br/>
<br/>
<a href="http://devkitpro.sourceforge.net/bugs.shtml" target="_blank">http://devkitpro.sourceforge.net/bugs.shtml</a>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I was suggesting only that it might not be wise to upgrade in the middle of a project and expect everything to continue to work smoothly.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Unfortunately this pretty much goes without saying - happily devkitPro has progressed to the point where most of the problems encountered can be traced back to the original FSF sources. A couple of devkitPro patches have even made it back into the FSF releases.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">if you have the homebrew licensed no$gba, it may show up where the problem is occurring.</td> </tr></table><span class="postbody">
<br/>
How much does it cost to wire money from a U.S. bank to a German bank?[/quote]
<br/>
<br/>
go here :-
<br/>
<br/>
<a href="http://nocash.emubase.de/gba-dev.htm" target="_blank">http://nocash.emubase.de/gba-dev.htm</a>
<br/>
<br/>
Martin has finally got a paypal account and you can pay directly by credit/debit card without your own paypal account.
<br/>
<br/>
I know I consider the $15 money well spent and, if I was still involved in commercial GBA projects I would be moaning until I got the hll debugger :) no$gmb saved our bacon more than a few times on commercial gbc projects.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
