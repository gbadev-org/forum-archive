<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Yet an other toolchain for Linux ? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Announcements And Comments > Yet an other toolchain for Linux ?</h2>
<div id="posts">
<div class="post">
    <h4>#32764 - valefor - Mon Dec 27, 2004 2:32 pm</h4>
    <div class="postbody"><span class="postbody">Hello.
<br/>
I own a GBA and would like to developp some apps for this target. I am exlusively working on Linux. So I can use some pre-build dev kits like "devkitadv" "devkitARM" or "HAM" (cf [1],[2] and [3]).
<br/>
But i would prefer to build my own toolchain for some reasons :
<br/>
  - i want to learn how to do,
<br/>
  - i want to know exaclty which is in my tools,
<br/>
  - i don't want to wait for a release of the project to upgrade so i could rebuild the toolchain as soon as a new version of gcc is release for example.
<br/>
<br/>
There are a lot of documentation that explain howto do, but they don't say the same thing, and sometimes they seem to not be exact. However, it seems to be two ways to build the toolchain  :
<br/>
<br/>
1) We download the sources of the tools (binutils, gcc, newlib, etc...),
<br/>
   we apply them a patch to support the GBA, and
<br/>
   we compile/install.
<br/>
   I have made some patch with the devkitadv project and other source from the net. 
<br/>
   For example : [4], [5], [6]
<br/>
<br/>
2) We download the sources of the tools (binutils, gcc, newlib, etc...),
<br/>
   we compile/install and
<br/>
   we use some customized config to compile our projects.
<br/>
   For example : [7], [8], [9]
<br/>
<br/>
Moreover :
<br/>
  - There seem to be two diferent "naming conventions". The 'devkitARM' that call their tools 'arm-elf-*', and 'devkitadv' call them 'arm-agb-*'. And we could add a new one if we build our own tool : 'arm-thumb-elf' for example.
<br/>
  - There seem to be different 'crt0.S' and 'linkscripts'.
<br/>
<br/>
So i have a first question : which procedure should i adopt to build a toolchain, and why peoples have used so many diferent naming convention for one target ?
<br/>
<br/>
So the idea is to find people who would like to establish and maintain a 'reference' or 'standard' devkit for Linux.
<br/>
The goal of the project is :
<br/>
  (1) explain to people what we do with the modifications (patch), and howto build/use the toolchain (with step by step explaination, exemple, simple sample code, faq, etc),
<br/>
  (2) be able to upgrade whenever a new version of gcc, binutils or newlib is released
<br/>
  (3) for newbies who came to develop for gba under Linux, there would be a reference, that would be free (libre), and well documented.
<br/>
<br/>
So the project team would produce :
<br/>
  (1) an official 'gba devkit for Linux' howto, with 'united' naming convention
<br/>
  (2) some patch and build script, with 'united' technology (join and coordinate effort to develop patch, linkscript and other specific files for the GBA)
<br/>
<br/>
A lot of work have already be done, and we could start from an existing project. For example the above points are in the TODO list of the 'devkitadv' project.
<br/>
<br/>
So if you have suggestions, or if you want to tell to me that is a useless project or anything else, i'm waiting for your advices.
<br/>
<br/>
Finally i am not a guru in hacking the sources of ld and gcc for the GBA target but at least i could maintain some script (doc in general, patch, makefile, etc). 
<br/>
<br/>
So good coding every body !
<br/>
<br/>
Cordialement.
<br/>
<br/>
Paul.
<br/>
<br/>
<br/>
[1] <a href="http://sourceforge.net/projects/devkitadv/" target="_blank">http://sourceforge.net/projects/devkitadv/</a>
<br/>
[2] <a href="http://sourceforge.net/projects/devkitpro/" target="_blank">http://sourceforge.net/projects/devkitpro/</a>
<br/>
[3] <a href="http://www.ngine.de/index.php" target="_blank">http://www.ngine.de/index.php</a>
<br/>
<br/>
[4] <a href="http://www.bits.bris.ac.uk/dooby/gba/HowTo/Readme.txt" target="_blank">http://www.bits.bris.ac.uk/dooby/gba/HowTo/Readme.txt</a>
<br/>
[5] <a class="postlink" href="http://translate.google.com/translate?u=http%3A%2F%2Fgba.imou.to%2Fgcc.html&amp;langpair=ja%7Cen&amp;hl=fr&amp;ie=UTF-8&amp;oe=UTF-8&amp;prev=%2Flanguage_tools" target="_blank">http://translate.google.com/translate?u=http%3A%2F%2Fgba.imou.to%2Fgcc.html
<br/>
&amp;langpair=ja%7Cen&amp;hl=fr&amp;ie=UTF-8&amp;oe=UTF-8&amp;prev=%2Flanguage_tools</a>
<br/>
[6] <a href="http://cvs.sourceforge.net/viewcvs.py/devkitadv/devkitadv/Makefile?rev=1.10&amp;view=markup" target="_blank">http://cvs.sourceforge.net/viewcvs.py/devkitadv/devkitadv/Makefile?rev=1.10&amp;view=markup</a>
<br/>
<br/>
[7] <a href="http://linux.gbadev.org/gcc-gba/" target="_blank">http://linux.gbadev.org/gcc-gba/</a>
<br/>
[8] <a href="http://www.devrs.com/gba/files/dwcyglin.txt" target="_blank">http://www.devrs.com/gba/files/dwcyglin.txt</a>
<br/>
[9] <a href="http://www.lifl.fr/RD2P/uploads/JITS/Makefile.gba-dev.linux" target="_blank">http://www.lifl.fr/RD2P/uploads/JITS/Makefile.gba-dev.linux</a>
<br/>
<br/>
[10] <a href="http://rod.info/arm.html" target="_blank">http://rod.info/arm.html</a>
<br/>
[11] <a href="http://www.ariusdsp.com/~gnuarm/support.html#build" target="_blank">http://www.ariusdsp.com/~gnuarm/support.html#build</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32768 - Legolas - Mon Dec 27, 2004 4:02 pm</h4>
    <div class="postbody"><span class="postbody">Uhm... Ok, I found a couple of interesting links:
<br/>
<br/>
[12] <a class="postlink" href="http://h-storm.tantos.homedns.org/gcc_arm.htm" target="_blank">http://h-storm.tantos.homedns.org/gcc_arm.htm</a>
<br/>
[13] <a class="postlink" href="http://kegel.com/crosstool/" target="_blank">http://kegel.com/crosstool/</a>
<br/>
<br/>
I built a complete arm-elf toolchain from [12] sources. C/C++ source code compiles very well (I don't have a real gba, then I use an emulator to try my code). My attempt is to build a pascal compiler for gba, but is not simple... GPC compiles pascal code, but I have some linking problems. The biggest problem with gnu pascal is the runtime library, that assumes an unix environment. :/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36031 - wintermute - Mon Feb 14, 2005 2:41 pm</h4>
    <div class="postbody"><span class="postbody">you're probably looking for this
<br/>
<br/>
<a href="http://sourceforge.net/project/showfiles.php?group_id=114505&amp;package_id=124206&amp;release_id=304899" target="_blank">http://sourceforge.net/project/showfiles.php?group_id=114505&amp;package_id=124206&amp;release_id=304899</a>
<br/>
<br/>
<br/>
:)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36047 - Abscissa - Mon Feb 14, 2005 5:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>valefor wrote:</b></span></td> </tr> <tr> <td class="quote">So the idea is to find people who would like to establish and maintain a 'reference' or 'standard' devkit for Linux.</td> </tr></table><span class="postbody">
<br/>
There is one. It's DevKitARM. DevKitAdv was dead a long time ago (Although most of the tutorials out there don't seem to have noticed...) And HAM is just a beginner's thing. From what I hear it's not full-featured, and unless I'm mistaken - which I might be - I thought I heared that it hasn't been getting updated either.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
