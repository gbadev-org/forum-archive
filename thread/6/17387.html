<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>libnds 1.4.6, default arm7 0.5.16, dswifi 0.3.13 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Announcements And Comments > libnds 1.4.6, default arm7 0.5.16, dswifi 0.3.13</h2>
<div id="posts">
<div class="post">
    <h4>#175189 - wintermute - Thu Sep 23, 2010 9:42 am</h4>
    <div class="postbody"><span class="postbody">As posted on <a href="http://devkitpro.org/viewtopic.php?f=13&amp;t=2222" target="_blank">http://devkitpro.org/viewtopic.php?f=13&amp;t=2222</a>
<br/>
<br/>
<span style="font-weight: bold">Note:</span> The current desmume stable release doesn't work with the new FIFO code. It has been fixed in SVN and will be working again with the next release.
<br/>
<br/>
<br/>
libnds 1.4.6, the  default arm7 0.5.16 and dswifi 0.3.13 are now available through the <a class="postlink" href="http://sourceforge.net/projects/devkitpro/files/Automated%20Installer/" target="_blank">windows installer</a> as usual and from the <a class="postlink" href="http://wiki.devkitpro.org/index.php/Getting_Started/devkitARM" target="_blank">getting started</a> page on the wiki.
<br/>
<br/>
libnds 1.4.6
<br/>
<ul>
<br/>
<li>Improved FIFO communication code.
<br/>
</li><li>add getBatteryLevel for power staus.
<br/>
</li><li>add glFog functions.
<br/>
</li><li>improve PCX decoder.
<br/>
</li><li>corrected affine matrix order.
<br/>
</li><li>Fixed fifoSendDatamsg to allow 0-byte messages.
<br/>
</li><li>allow for exceptions from usermode.
<br/>
</li><li>touchscreen working in DSi mode.
<br/>
</li><li>improved linked list code.
<br/>
</li><li>documentation fixes and code cleanup.</li></ul>
<br/>
<br/>
default arm7 0.5.16
<br/>
<ul>
<br/>
<li>recompiled with latest libnds.</li></ul>
<br/>
<br/>
dswifi 0.3.13
<br/>
<ul>
<br/>
<li>defer socket close while data is sending.</li></ul>
<br/>
<br/>
With thanks to Apples, Vuurrobin, Zeromus and Dovoto for their contributions to these releases.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"><br/><br/>Last edited by wintermute on Fri Sep 24, 2010 9:39 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#175191 - Rajveer - Thu Sep 23, 2010 2:41 pm</h4>
    <div class="postbody"><span class="postbody">Nice work!
<br/>
<br/>
Quick question, what was wrong with the affine matrix order? Just seeing if I'll have to update some functions.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175194 - sverx - Fri Sep 24, 2010 1:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">libnds 1.4.5, the  default arm7 0.5.14 and dswifi 0.3.13 are now available</td> </tr></table><span class="postbody">
<br/>
<br/>
typo: it's 1.4.6 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">Improved FIFO communication code.</td> </tr></table><span class="postbody">
<br/>
<br/>
Was there a bug? I had a problem with it and would be nice to know it's gone...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175195 - wintermute - Fri Sep 24, 2010 9:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Rajveer wrote:</b></span></td> </tr> <tr> <td class="quote">Nice work!
<br/>
<br/>
Quick question, what was wrong with the affine matrix order? Just seeing if I'll have to update some functions.</td> </tr></table><span class="postbody">
<br/>
<br/>
Looking at some diffs it seems that related to the libnds sprite functions. Shouldn't have any effect if you were using direct register access.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">libnds 1.4.5, the  default arm7 0.5.14 and dswifi 0.3.13 are now available</td> </tr></table><span class="postbody">
<br/>
<br/>
typo: it's 1.4.6
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
meh, fixed. That's what I get for copying text from old posts &amp; modifying.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">Improved FIFO communication code.</td> </tr></table><span class="postbody">
<br/>
<br/>
Was there a bug? I had a problem with it and would be nice to know it's gone...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Nothing specific, just refactored some code that might be unstable in particular situations. Hard to know if your problem is gone without knowing what it was.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"><br/><br/>Last edited by wintermute on Tue Sep 28, 2010 12:29 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#175197 - sverx - Mon Sep 27, 2010 3:16 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">Hard to know if your problem is gone without knowing what it was.</td> </tr></table><span class="postbody">
<br/>
<br/>
It was <span style="font-style: italic">fifoSendValue32()</span> failing after the 127th use. We were discussing it here -&gt; <a href="http://devkitpro.org/viewtopic.php?f=15&amp;t=1510" target="_blank">http://devkitpro.org/viewtopic.php?f=15&amp;t=1510</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175198 - vuurrobin - Mon Sep 27, 2010 9:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Rajveer wrote:</b></span></td> </tr> <tr> <td class="quote">Nice work!
<br/>
<br/>
Quick question, what was wrong with the affine matrix order? Just seeing if I'll have to update some functions.</td> </tr></table><span class="postbody">
<br/>
<br/>
Looking at some diffs it seems that related to the libnds sprite functions. Shouldn't have any effect if you were using direct register access.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
the hdy and vdx registers were wrong in the struct (vdx should come before hdy). the sprite rotatescale function then compensated for the bug, so I corrected them both. the rotatescale function works the same as before and the affinematrix function/direct register access now behaves as it should (remember that it's an inverse affine matrix).<br/>_________________<br/>my blog:
<br/>
<a href="http://vuurrobin.100webcustomers.com/" target="_blank">http://vuurrobin.100webcustomers.com/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
