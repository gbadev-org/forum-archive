<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Just pimping my demo in it's current state. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Announcements And Comments > Just pimping my demo in it's current state.</h2>
<div id="posts">
<div class="post">
    <h4>#20405 - Lord Graga - Mon May 10, 2004 4:41 pm</h4>
    <div class="postbody"><span class="postbody">Hey all!
<br/>
<br/>
I just want to pimp my demo so far. There's only two scenes, but I'd really like to hear what you think. It uses funky compression method to stay that tiny.
<br/>
<br/>
<br/>
<a class="postlink" href="http://graga.tri-bit.biz/files/demo5.gba" target="_blank">Download it here! (6.164 byte).</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20412 - Lupin - Mon May 10, 2004 8:50 pm</h4>
    <div class="postbody"><span class="postbody">Really nice demo you have there! I like the old scoolish vblank sine wave effect :)
<br/>
<br/>
You planned to write it in asm using arm ads, right?<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20413 - isildur - Mon May 10, 2004 9:04 pm</h4>
    <div class="postbody"><span class="postbody">Hey, I like it! :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20414 - Lord Graga - Mon May 10, 2004 9:52 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">Really nice demo you have there! I like the old scoolish vblank sine wave effect :)
<br/>
<br/>
You planned to write it in asm using arm ads, right?</td> </tr></table><span class="postbody">ARM SDT :P
<br/>
<br/>
But yes, it was planned to be in pure ASM. Saddly it became C instead :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20415 - tepples - Mon May 10, 2004 10:13 pm</h4>
    <div class="postbody"><span class="postbody">You can still make it pure asm. Once you have your algorithms working in C, you can switch it to assembly language by telling your compiler to skip assembling the result of code generation into object code. I don't know the command in ARM's tools, but in GCC it's <span style="font-weight: bold">gcc -Wall -O3 -marm -mthumb-interwork -S xform.c -o xform.s</span><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20431 - Daniel Andersen - Tue May 11, 2004 5:49 am</h4>
    <div class="postbody"><span class="postbody">Hey Graga, nice demo! Good job! :)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">You can still make it pure asm. Once you have your algorithms working in C, you can switch it to assembly language by telling your compiler to skip assembling the result of code generation into object code. I don't know the command in ARM's tools, but in GCC it's <span style="font-weight: bold">gcc -Wall -O3 -marm -mthumb-interwork -S xform.c -o xform.s</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I won't recommend that. Actually, why would you do that? You had better rewrite the critical functions - or all of them one by one, if you want to rewrite the whole thing - by scratch in assembly; there need not be an 1-1 mapping between your C-code and your assembly code.
<br/>
<br/>
When coding assembly, I stick to - when writing complex functions, at least - trying to write them in C before writing them in assembly. In that way you get a feel of what you are to do, but not necessarely precesily *how* you are to do it; just a quick scetch.
<br/>
<br/>
But of course, using GCC is a possibility, just beware that compilers do not always produce nice - or even fast! - assembly code! :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20450 - tepples - Tue May 11, 2004 4:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Daniel Andersen wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">[gist: Look at the assembly language code that GCC generates.]</td> </tr></table><span class="postbody">
<br/>
I won't recommend that. Actually, why would you do that?</span></td> </tr></table><span class="postbody">
<br/>
Prototyping a function in a high-<span style="font-style: italic">er</span>-level language makes it easier to get the system working at first:<ol type="1"><li>Get an algorithm working in C.</li><li>See the asm code that GCC generates.</li><li>Hand-optimize the asm code.</li><li>Optimize across the whole program.</li><li>SPEED!</li></ol>Which is almost like what you do:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">When coding assembly, I stick to - when writing complex functions, at least - trying to write them in C before writing them in assembly. In that way you get a feel of what you are to do, but not necessarely precesily *how* you are to do it; just a quick scetch.</td> </tr></table><span class="postbody">
<br/>
I guess the difference of approach hinges on whether or not one looks at GCC's attempt at code generation. I guess that because I use C for everything except some ISRs and signal processing, I need a bit more help.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20470 - Lupin - Tue May 11, 2004 9:31 pm</h4>
    <div class="postbody"><span class="postbody">It is always good to look at the ASM output of your C code because the compiler sometimes does some tricky optimizations that you might not think of, but for complex functions it is sometimes hard to understand the complex asm output that the compiler will give you and therefor i most likely only take parts of the C code into my asm implementation.<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20471 - Daniel Andersen - Tue May 11, 2004 9:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I guess the difference of approach hinges on whether or not one looks at GCC's attempt at code generation.</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, when prototyping in C I don't use GCC to output assembly. Rather, modulo optimizations, compilers have stardard compilation patterns for the different types of constructs which means that essentially the compiler does not know what it's doing - a clever person, however, who knows his assembly language will (sometimes at least) know how to write it in another problem-specific way. Especially GCC has to my knowledge bad optimizations.
<br/>
<br/>
But you're right, why use assembly language today? Mostly it is not worth it, if not for fun. Even on the Amiga people used C or Amos, and as far as I have heard those two machines are equally fast - someone correct me here if I'm wrong... :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
