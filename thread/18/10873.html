<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Disassembling arm9.bin? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Disassembling arm9.bin?</h2>
<div id="posts">
<div class="post">
    <h4>#99174 - DimondEdge - Sat Aug 19, 2006 10:53 pm</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
<br/>
I have the arm9.bin from ndstool, and I'd like to dissassemble/reassemble it.
<br/>
I've been looking around, and none of the programs I've found will disassemble a .bin. 
<br/>
Are there any programs that can do that?
<br/>
<br/>
Thanks,
<br/>
DimondEdge</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99175 - tepples - Sat Aug 19, 2006 10:56 pm</h4>
    <div class="postbody"><span class="postbody">arm-eabi-objdump can be configured to do this.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99176 - Sausage Boy - Sat Aug 19, 2006 10:59 pm</h4>
    <div class="postbody"><span class="postbody">To quote chishm:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">For ARM compiled files I use the command:
<br/>
arm-elf-objdump -D -b binary -m arm infile.bin &gt; outfile.s
<br/>
<br/>
and for THUMB compiled files I use:
<br/>
arm-elf-objdump -D -b binary -m arm -M force-thumb infile.bin &gt; outfile.s</td> </tr></table><span class="postbody"><br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99182 - dexter0 - Sat Aug 19, 2006 11:29 pm</h4>
    <div class="postbody"><span class="postbody">Anyway to tell if the code is THUMB or ARM?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99234 - chishm - Sun Aug 20, 2006 5:32 am</h4>
    <div class="postbody"><span class="postbody">Those will be arm-eabi-objdump in the latest versions of DevkitPro. You can usually tell ARM code from Thumb code / data by using a hex edittor. The highest nibble of the 4-byte, little-endian instructions is usually 0xE, (ARM condition code for "always") in ARM code, so you'll see many E's in that position. Thumb code and data are more tightly packed than that, so don't have any pattern that I've noticed.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99251 - AnalogMan - Sun Aug 20, 2006 8:47 am</h4>
    <div class="postbody"><span class="postbody">And to reassemble it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99264 - LiraNuna - Sun Aug 20, 2006 10:43 am</h4>
    <div class="postbody"><span class="postbody">arm-eabi-as<br/>_________________<br/>Private property.
<br/>
Violators will be shot, survivors will be shot again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99303 - DimondEdge - Sun Aug 20, 2006 4:24 pm</h4>
    <div class="postbody"><span class="postbody">Thanks Everyone!
<br/>
<br/>
That all works great!
<br/>
<br/>
DE</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99363 - DimondEdge - Mon Aug 21, 2006 2:32 am</h4>
    <div class="postbody"><span class="postbody">Hmm... when trying to reassemle with arm-eabi-as, it gives me about
<br/>
20000 errors (no exageration).
<br/>
<br/>
I'm guessing I need a few flags, but I don't know which.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99372 - HyperHacker - Mon Aug 21, 2006 4:19 am</h4>
    <div class="postbody"><span class="postbody">Disassemblers rarely produce re-assembleable code. They like to add addresses and junk. Not sure about this one, but if you see incrementing numbers on each line, it probably is.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99376 - tepples - Mon Aug 21, 2006 4:47 am</h4>
    <div class="postbody"><span class="postbody">If so, this might be your opportunity to sit down and <a class="postlink" href="http://www.gnu.org/software/sed/manual/sed.html" target="_blank">learn Sed</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99398 - chishm - Mon Aug 21, 2006 9:30 am</h4>
    <div class="postbody"><span class="postbody">Rather than reassembling disassembled output, I generally write a small amount of code, compile it, then use a hex editor to patch the binary with it.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#99420 - DimondEdge - Mon Aug 21, 2006 2:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chishm wrote:</b></span></td> </tr> <tr> <td class="quote">Rather than reassembling disassembled output, I generally write a small amount of code, compile it, then use a hex editor to patch the binary with it.</td> </tr></table><span class="postbody">
<br/>
I'll try that, but is there a spesific patching program I should use? I'm
<br/>
thinking IPSwin or bspatch, unless theres a better one... 
<br/>
<br/>
<br/>
<br/>
Ok, now I gotta debug :P ... 
<br/>
<br/>
DE</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
