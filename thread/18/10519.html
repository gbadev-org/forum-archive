<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>devkitpro is not my friend - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > devkitpro is not my friend</h2>
<div id="posts">
<div class="post">
    <h4>#94523 - skullmaster1000 - Tue Jul 25, 2006 4:29 am</h4>
    <div class="postbody"><span class="postbody">i've been following ds homebrew development for quite some time, and i thought that it's time that i gave back to the community and developed some things of my own. i've been using this tutorial: <a class="postlink" href="http://www.double.co.nz/nintendo_ds/index.html" target="_blank">http://www.double.co.nz/nintendo_ds/index.html</a>. i should say that i don't really know much about c++ but w/e. so it says to compile the arm7.cpp and the arm9.cpp with "make" but when i do it with devkitpro it gives me the following error message: 
<br/>
<br/>
C:\Users\Jake\Documents\Unzipped\demo1\demo1&gt;make
<br/>
arm-elf-g++ -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ff
<br/>
ast-math -mthumb-interwork -I/c/devkitPro/libnds/include -DARM7 -c arm7_main.cpp
<br/>
 -oarm7_main.o
<br/>
make: arm-elf-g++: Command not found
<br/>
make: *** [arm7_main.o] Error 127
<br/>
<br/>
i'm not really sure what to do. if someone could say what the heck i'm dong wrong here, i would be very grateful.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94532 - josath - Tue Jul 25, 2006 5:23 am</h4>
    <div class="postbody"><span class="postbody">Not 100% sure, but it looks like you are trying to use makefiles designed for an older version of devkitarm.
<br/>
Try playing with the included examples in devkitarm, see if those work (they should)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94538 - freemaan - Tue Jul 25, 2006 6:50 am</h4>
    <div class="postbody"><span class="postbody">Just replace every "arm-elf-" with "arm-eabi-" in every makefile.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94633 - skullmaster1000 - Tue Jul 25, 2006 4:18 pm</h4>
    <div class="postbody"><span class="postbody">so the arm-elf command doesn't work with the current version? yeah i tohught of that because it kept saying that the command didn't exist. i'll try replacing it with arm-eabi's and see what happens.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94686 - skullmaster1000 - Tue Jul 25, 2006 8:30 pm</h4>
    <div class="postbody"><span class="postbody">hmmmm it says that arm-eabi-g++ isn't a command. weird.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94709 - Sausage Boy - Tue Jul 25, 2006 9:57 pm</h4>
    <div class="postbody"><span class="postbody">Try copying the both template in the examples, and just move the code there.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94734 - skullmaster1000 - Tue Jul 25, 2006 11:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Try copying the both template in the examples, and just move the code there.</td> </tr></table><span class="postbody">
<br/>
<br/>
ummm.......what? sorry but can you explain what you just said?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94786 - josath - Wed Jul 26, 2006 3:31 am</h4>
    <div class="postbody"><span class="postbody">Can you compile the devkitarm examples? I would try those first.
<br/>
<br/>
If they work, then Sausage Boy's suggestion should help: Make a copy of on e of the devkitarm example directories, but delete the source code from it (.cpp, .c, .h), then copy the source code from your project, into that folder. Thus you will be using the Makefile from devkitarm examples, and NOT the makefile from double.co.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95076 - DynamicStability - Thu Jul 27, 2006 6:48 pm</h4>
    <div class="postbody"><span class="postbody">Check environment variables....  DEVKITPRO and DEVKITARM should be set  and/or DEVKITARM/Bin should be in your path..<br/>_________________<br/>Framebuffer is dead.
<br/>
DynaStab.DrunkenCoders.com</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95498 - Optihut - Sat Jul 29, 2006 10:02 pm</h4>
    <div class="postbody"><span class="postbody">I fear devkitpro is not my friend either... I renamend the makefiles to makefile.bat and then executed them just to find out that all the commands are not recognized.
<br/>
<br/>
So, is there a tutorial on makefiles somewhere? It's quite embarrassing that I failed to compile the examples even :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95500 - Sausage Boy - Sat Jul 29, 2006 10:43 pm</h4>
    <div class="postbody"><span class="postbody">Do not rename the makefiles! Just open a terminal (start-&gt;run-&gt;cmd), cd to the right directory and type "make".
<br/>
<br/>
Or, if you choose to install Programmer's Notepad, open the .pnproj file and hit ALT-1. That runs make for you.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95502 - Optihut - Sat Jul 29, 2006 10:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sausage Boy wrote:</b></span></td> </tr> <tr> <td class="quote">Do not rename the makefiles! Just open a terminal (start-&gt;run-&gt;cmd), cd to the right directory and type "make".
<br/>
<br/>
Or, if you choose to install Programmer's Notepad, open the .pnproj file and hit ALT-1. That runs make for you.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ah, right - strange enough, I executed the batch files by using "cmd" as the text was scrolling too fast... Now that I have renamed the example back to "makefile" and did as you said, it compiles just fine.
<br/>
<br/>
Still, since the code from the tutorial the original poster mentioned won't compile, even after renaming elf to eabi, a tutorial for those makefiles would come in handy (or maybe I just need to sober up, will keep you posted). Thanks for the help, though! Great that the examples are working now!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95503 - Sausage Boy - Sat Jul 29, 2006 11:28 pm</h4>
    <div class="postbody"><span class="postbody">How to compile doublec's stuff:
<br/>
<br/>
1. Look in the devkitPro-&gt;examples-&gt;nds-&gt;templates
<br/>
2. Copy 'Combined' to demoX (where X is the demo you're compiling)
<br/>
3. Look in doublec's zip file. You should see two .cpp files, one called something with arm7 and one called something with arm9. 
<br/>
4. Change into your demoX folder, arm7-&gt;source.
<br/>
5. Delete template.c
<br/>
6. Copy your arm7_main.cpp file to that directory.
<br/>
7. Do the same for arm9.
<br/>
<br/>
Now it gets a little tricky...
<br/>
<br/>
8. Open the pnproj file.
<br/>
9. Hit ALT-1
<br/>
10. ERROR!
<br/>
Change the row
<br/>
DISP_SR = DISP_VBLANK_IRQ;
<br/>
to
<br/>
irqEnable(IRQ_VBLANK);
<br/>
(The interrupt handler is ancient...)
<br/>
11. Hit ALT-1 again.
<br/>
12. ???
<br/>
13. PROFIT!<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95512 - Optihut - Sun Jul 30, 2006 12:18 am</h4>
    <div class="postbody"><span class="postbody">Magic! Thanks a bunch!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95513 - Sausage Boy - Sun Jul 30, 2006 12:29 am</h4>
    <div class="postbody"><span class="postbody">No problem :)<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95517 - wintermute - Sun Jul 30, 2006 1:12 am</h4>
    <div class="postbody"><span class="postbody">Unfortunately Doublec's tutorials are majorly out of date &amp; will become more so. Currently the best resource for NDS coders is the set of examples provided by devkitPro.
<br/>
<br/>
The DS shares a lot in common with the GBA so the <a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/" target="_blank">Tonc</a> tutorials will give you a good grounding.
<br/>
<br/>
And I can't help laughing at the subject of this thread :)<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
