<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Setting makefile to scan directories recursively - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Setting makefile to scan directories recursively</h2>
<div id="posts">
<div class="post">
    <h4>#167830 - Echo49 - Mon Mar 30, 2009 11:02 am</h4>
    <div class="postbody"><span class="postbody">At the moment, my makefile is full of this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">SOURCES   := \
<br/>
            source            \
<br/>
            source/Libraries   \
<br/>
            source/System      \
<br/>
            source/Graphics      \
<br/>
            source/Helpers      \
<br/>
            source/GameplayElements</td> </tr></table><span class="postbody">
<br/>
etc., etc.
<br/>
<br/>
Similarly with my data directory. Is there a way to just specify "source" and have it check every subdirectory within it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167831 - kusma - Mon Mar 30, 2009 12:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Echo49 wrote:</b></span></td> </tr> <tr> <td class="quote">Similarly with my data directory. Is there a way to just specify "source" and have it check every subdirectory within it?</td> </tr></table><span class="postbody">
<br/>
Sure, "find &lt;folder&gt; -type d" is what you need for this. If you're not that good at make, here's the syntax:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">SOURCES := $(shell find source -type d)</td> </tr></table><span class="postbody">
<br/>
However, once projects grow in complexity, automatic inclusion of source files has a chance of becoming a major head-ache. Just be warned :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167840 - Echo49 - Mon Mar 30, 2009 7:29 pm</h4>
    <div class="postbody"><span class="postbody">Thank you for that.
<br/>
<br/>
Another thing: yesterday I created a further subdirectory within my folder, so there are source files located at source/dir1/dir2/source.cpp. Naturally, I included that folder in the sources list in the makefile. Suddenly, compiling took a lot longer. I wonder if this had anything to do with it, or was it just something I changed in my code? I'm sure I don't include any code in header files.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
