<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Modifying EFA-linker to allow debug communication - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Modifying EFA-linker to allow debug communication</h2>
<div id="posts">
<div class="post">
    <h4>#38004 - darkfader - Sun Mar 20, 2005 5:45 am</h4>
    <div class="postbody"><span class="postbody">Lots of people want debug communication... and EFA linker does have an USB port, but misses the firmware to allow the GBA/DS to communicate to PC. Perhaps some people can make it work? This would require some 8051 knowledge. I have extracted the hexfile for the 256mbit version and can load it into a debugger. Oh... and while we're at it, we can make it flash while the card is inside DS and without having to remove the USB cable before running.
<br/>
More threads @ <a href="http://www.efa.cc/bbs/" target="_blank">http://www.efa.cc/bbs/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38013 - ampz - Sun Mar 20, 2005 11:41 am</h4>
    <div class="postbody"><span class="postbody">You don't see the problem here, do you?
<br/>
The card will not talk USB while inserted into a GBA or DS, and the USB cable cannot be connected while running.. You honestly think thoose are software limitations??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38016 - darkfader - Sun Mar 20, 2005 12:56 pm</h4>
    <div class="postbody"><span class="postbody">The 8051 probably controls the ASIC which in turn switches the FLASH/RAM chip between DS/GBA and PC. The EFA client software or 8051 code does not seem to understand switching to DS/GBA again and therefore need to pull the USB plug. But if it is possible to alternate between two interfaces, you could make a debug channel. Guess I'll need to dive in some code to see what's possible :|</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38019 - pissant - Sun Mar 20, 2005 2:56 pm</h4>
    <div class="postbody"><span class="postbody">When the USB cable is connected, the EFA gets power from the USB port. When the EFA is plugged into the gameboy, it gets power form the gameboy. When you have both plugged in, it powers from both, potentially damaging the hardware. 
<br/>
<br/>
I don't think that it is a software limitation.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#38032 - darkfader - Sun Mar 20, 2005 9:08 pm</h4>
    <div class="postbody"><span class="postbody">It does behave a bit strange when DS is off and the software tries to access it, but it's not broken yet. Anyway... I tried to read the CPLD, but it's locked out it seems. It's a LC4256C-XXT100.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
