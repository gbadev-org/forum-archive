<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>3d broken with updated devkitARM / libnds? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > 3d broken with updated devkitARM / libnds?</h2>
<div id="posts">
<div class="post">
    <h4>#116870 - melw - Tue Jan 30, 2007 4:04 pm</h4>
    <div class="postbody"><span class="postbody">I can't get any 3d visible on the screen anymore after updating to latest devkitARM and libnds. Same goes with included NeHe examples (tried lesson05 and lesson06) - just blank screen everywhere. Checked the update list of what has been changed but can't see how the gabebear updates could have anything to do with this...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#116956 - jackman - Wed Jan 31, 2007 9:13 am</h4>
    <div class="postbody"><span class="postbody">there are currently more problems with the new libnds, better we wait for the updated examples
<br/>
<br/>
my problem: when i recompile the watch example, it doesn't work correct, it seems to be that the ipc data is not queried correct in the current build, so the clock is set to 0:0:0 am<br/>_________________<br/>Equipment:
<br/>
Nintendo DS, GBAMP v2, SuperCard SD, SuperKey, Acekard 2i</span><span class="gensmall"><br/><br/>Last edited by jackman on Wed Jan 31, 2007 7:01 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#116959 - Vich - Wed Jan 31, 2007 10:30 am</h4>
    <div class="postbody"><span class="postbody">Same here, I have LOTS of strange 3D-related bugs (no matter what I try/set). glPerspective and glOrtho are very f'ed up and perhaps even other things.
<br/>
Also, I get different visual output in no$gba versus the DS itself.<br/>_________________<br/>[<a class="postlink" href="http://www.lifeisdigital.net" target="_blank">project website</a>] [<a class="postlink" href="http://www.kenvanhoeylandt.net" target="_blank">personal website</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#116960 - jackman - Wed Jan 31, 2007 10:34 am</h4>
    <div class="postbody"><span class="postbody">also when using the "old" examples, especially demos with graphical output using the gl*-functions, the ds screen flashes<br/>_________________<br/>Equipment:
<br/>
Nintendo DS, GBAMP v2, SuperCard SD, SuperKey, Acekard 2i</span><span class="gensmall"><br/><br/>Last edited by jackman on Wed Jan 31, 2007 7:02 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#116962 - melw - Wed Jan 31, 2007 11:57 am</h4>
    <div class="postbody"><span class="postbody">Reverting back to libnds-20060719 did the trick for now. It seems to work also together with devkit ARM r20, guess I'll go for that kind of mixed setup until the libnds and/or the examples get updated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#116969 - jackman - Wed Jan 31, 2007 1:11 pm</h4>
    <div class="postbody"><span class="postbody">is libfat-20070127-nds compatible with this release?<br/>_________________<br/>Equipment:
<br/>
Nintendo DS, GBAMP v2, SuperCard SD, SuperKey, Acekard 2i</span><span class="gensmall"><br/><br/>Last edited by jackman on Wed Jan 31, 2007 7:02 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#116974 - wintermute - Wed Jan 31, 2007 1:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>jackman wrote:</b></span></td> </tr> <tr> <td class="quote">is libfat-20070127-nds compatible with this release?</td> </tr></table><span class="postbody">
<br/>
<br/>
devkitARM r20 is a prerequisite of libfat-20070127
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
my problem: when i recompile the watch example, it doesn't work correct, it seems to be that the ipc data is not queried correct in the current build, so the clock is set to 0:0:0 am
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Actually the clock is always set to 0:0:0 and has been for a while. The way the RTC was handled originally was quite wrong and was removed but hasn't yet been replaced with something sensible. This is related to the default ARM7 core not libnds.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#116978 - wintermute - Wed Jan 31, 2007 2:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>melw wrote:</b></span></td> </tr> <tr> <td class="quote">Reverting back to libnds-20060719 did the trick for now. It seems to work also together with devkit ARM r20, guess I'll go for that kind of mixed setup until the libnds and/or the examples get updated.</td> </tr></table><span class="postbody">
<br/>
<br/>
You'll probably have some problems using the default arm7 core doing that. It might be worth giving CVS libnds &amp; examples a shot, we currently have a new slave^D^D^D^D^Ddeveloper sorting out some problems with the gl code.
<br/>
<br/>
I'll be rolling a new release shortly when that stabilises.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#116985 - melw - Wed Jan 31, 2007 3:29 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">It might be worth giving CVS libnds &amp; examples a shot</td> </tr></table><span class="postbody">
<br/>
Thanks! Updated &amp; compiled the CVS libnds, and now I got 3d back on the screen again. There's still some small graphical glitches - for example textured cube at nehe/lesson06 has visible texture borders, whereas earlier there was no borders at all. Well, Gabebear said another patch is on the way to fix the examples.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#119518 - Nelzon - Fri Feb 23, 2007 11:08 pm</h4>
    <div class="postbody"><span class="postbody">Lucky you.. I've also updated everything from CVS and the examples are compilable again. Unfortunately there is still no 3D output on any screen.. Anything else I need to change?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#119524 - simonjhall - Sat Feb 24, 2007 12:28 am</h4>
    <div class="postbody"><span class="postbody">My 3D was invisible on both my programs until I read the release notes - gluPerspective and glOrtho no longer set the current matrix to the projection matrix (as they're not necessarily viewport-fiddling functions).
<br/>
A few quick calls to glMatrixMode fixed all my 3D problems.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120024 - Nelzon - Wed Feb 28, 2007 12:45 pm</h4>
    <div class="postbody"><span class="postbody">Is this now working for everybody? I still can't get anything on the screen with both examples and libnds in the newest version from CVS. Everything compiles fine, though, but nothing's visible.. Are there additional fixes necessary in the examples code?<br/>_________________<br/>The mind creates reality.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120035 - melw - Wed Feb 28, 2007 2:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Nelzon wrote:</b></span></td> </tr> <tr> <td class="quote">Is this now working for everybody? I still can't get anything on the screen with both examples and libnds in the newest version from CVS. Everything compiles fine, though, but nothing's visible.. Are there additional fixes necessary in the examples code?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, everything is working fine since one month ago. Make sure you're having the latest examples also, not just updated libnds. Also, 3d apps don't work generally too well (if at all) on emulators, test if it works on the hardware.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#122675 - ikaris - Wed Mar 21, 2007 5:02 am</h4>
    <div class="postbody"><span class="postbody">Compared to r19, it just needs an extra
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">glMatrixMode(GL_PROJECTION);</td> </tr></table><span class="postbody">
<br/>
<br/>
right after </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">glReset();</td> </tr></table><span class="postbody">
<br/>
<br/>
that fixed it for me.[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123354 - Marcel24 - Tue Mar 27, 2007 5:04 pm</h4>
    <div class="postbody"><span class="postbody">Tnx ikaris.
<br/>
<br/>
i just lost 2 day of searching a strange bug :)
<br/>
<br/>
tnx tnx</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123360 - ikaris - Tue Mar 27, 2007 5:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Marcel24 wrote:</b></span></td> </tr> <tr> <td class="quote">Tnx ikaris.
<br/>
<br/>
i just lost 2 day of searching a strange bug :)
<br/>
<br/>
tnx tnx</td> </tr></table><span class="postbody">
<br/>
<br/>
No problem, I'm happy to help !</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
