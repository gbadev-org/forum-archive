<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Using shared palettes with grit - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Using shared palettes with grit</h2>
<div id="posts">
<div class="post">
    <h4>#165843 - headspin - Fri Jan 09, 2009 12:04 pm</h4>
    <div class="postbody"><span class="postbody">I'm looking for a way to tell grit to use a palette starting at a palette entry offset. So when I write the palette I can simply use (BG_PALETTE + offset), (BG_PALETTE_SUB + offset) etc. That way I can have one map use x number of colors and the next use x number of colors and just offset them in grit. But I have tried these two options and they both don't seem to do anything.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">-ga &lt;n&gt; 
<br/>
Pixel offset for non-zero pixels. Useful if the associated palette is at an offset. 
<br/>
<br/>
-ps &lt;n&gt; 
<br/>
Starting palette entry. -ps 16 would start the export at color 16. Works together with -pe and -pn.</td> </tr></table><span class="postbody">
<br/>
<br/>
Is there a bug or am I using the wrong command line options to do this? The only way I can currently get it to work is to use a shared palette across every map but it would be much easier if I could just tell grit to start at a palette offset instead.
<br/>
<br/>
Here are the full list of options being used
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#-------------------------------------------------------
<br/>
# graphics in tile format
<br/>
#-------------------------------------------------------
<br/>
<br/>
-gt
<br/>
<br/>
#-------------------------------------------------------
<br/>
# Our background color is magenta
<br/>
#-------------------------------------------------------
<br/>
<br/>
-gT 7c1f
<br/>
<br/>
#-------------------------------------------------------
<br/>
# Use an offset
<br/>
#-------------------------------------------------------
<br/>
<br/>
-ga 16
<br/>
<br/>
#-------------------------------------------------------
<br/>
# We only need this number of entries
<br/>
#-------------------------------------------------------
<br/>
<br/>
-pn 16
<br/>
<br/>
#-------------------------------------------------------
<br/>
# tile reduction
<br/>
#-------------------------------------------------------
<br/>
-mRtf
<br/>
<br/>
#-------------------------------------------------------
<br/>
# map output
<br/>
#-------------------------------------------------------
<br/>
-m
<br/>
<br/>
#-------------------------------------------------------
<br/>
# graphics bit depth is 4 (16 color)
<br/>
#-------------------------------------------------------
<br/>
-gB 4
<br/>
<br/>
#-------------------------------------------------------
<br/>
# Map layout for regular backgrounds. 16-bit entries, broken down into screenblocks. 
<br/>
#-------------------------------------------------------
<br/>
-mLs</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
