<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Any way to use 24bit palettes? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Any way to use 24bit palettes?</h2>
<div id="posts">
<div class="post">
    <h4>#90993 - PacoChan - Mon Jul 03, 2006 9:24 pm</h4>
    <div class="postbody"><span class="postbody">I ask this because when I draw certain 8bit bitmap on screen it appears with less colors and it looks horrible. This happens because when I load the palette, it only loads the 16bit colors. Any way to solve this?
<br/>
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90994 - Sausage Boy - Mon Jul 03, 2006 9:29 pm</h4>
    <div class="postbody"><span class="postbody">The DS can't handle 24bit colors, so don't use it. Which conversion tool are you using?<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90997 - PacoChan - Mon Jul 03, 2006 9:43 pm</h4>
    <div class="postbody"><span class="postbody">I'm using gfx2gba. But when I save the bitmap in 16bit color mode with photoshop it also appears horrible. So, if I can't use 24bit colors, is there any way to use a filter or a plugin to diffuse the colors with photoshop or something like that?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91001 - Sausage Boy - Mon Jul 03, 2006 10:08 pm</h4>
    <div class="postbody"><span class="postbody">The difference between 16bit and 24bit colors is barely visible unless you're using gradients, so I think you are confusing it with something else. Just save your image as PCX and things will probably work out.
<br/>
<br/>
Are you trying to display a paletted image? In that case, change mode to indexed with 256 colors before you save, if I recall correctly.
<br/>
<br/>
Some code would be nice, which mode you use and so on, and the command you use with gfx2gba. Also, which gfx2gba are you using? There are two very similar tools with the same name.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91017 - tepples - Mon Jul 03, 2006 11:57 pm</h4>
    <div class="postbody"><span class="postbody">Have you tried doing the same thing on a GBA? Or can you manage to get one of your programs working in an emulator? If so, take a screenshot so that we can see what is going wrong and find the right solution.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91049 - PacoChan - Tue Jul 04, 2006 7:39 am</h4>
    <div class="postbody"><span class="postbody">I'm sure it's because the 16bit colors. This is how it looks when I save the bitmap with indexed colors: <a href="http://img117.imageshack.us/img117/1611/dorm20ds.png">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
But this is how it looks in the Ds, that is the same as when I save it with photoshop in 16bit color mode: <a href="http://img117.imageshack.us/img117/4498/dorm50se.png">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
I have another images that look better, but this seems to have a lot of non 16bit colors.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91150 - silent_code - Tue Jul 04, 2006 10:22 pm</h4>
    <div class="postbody"><span class="postbody">i've got exactly the same problem... i was wondering what the hell was wrong, but the idea that it may be 24 to 16bit color conversion sounds right.
<br/>
<br/>
converting to 555 (gba) won't solve the problem, too. :(
<br/>
<br/>
i'm also using renders and it's the nature of such images to have some gradients (lighting).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91152 - Mighty Max - Tue Jul 04, 2006 10:29 pm</h4>
    <div class="postbody"><span class="postbody">There is an old method called dithering. 
<br/>
<br/>
If you got a color that is somewhere inbetween color a and b, then you can tell, it takes x% of a and y% of b to mix this color. If you know this percentage you can simply mix this by a random:
<br/>
<br/>
Get a random 0-100
<br/>
if random below x%, use color a else use color b<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91155 - silent_code - Tue Jul 04, 2006 10:48 pm</h4>
    <div class="postbody"><span class="postbody">sure, that will help. but one needs to modify the image (boring). i'll load up photoshop and dither that thing... we'll see if i'm stupid enough to fail ;p
<br/>
<br/>
EDIT:
<br/>
<br/>
i AM stupid enough... well, i bought that photoshop 6 to use it and i don't want to work with the gimb (i tried it, but found ps better). so, does anyone know how to dither an image from 24bit to 16bit in ps (some plugin... or what ever)? the only way i am able to create a 16bit image is to save it as a 16bit .tga. but it won't offer any dithering, just freak the colors up and make the gradients look wrong. looks just the same as using a 24bit image for a source. i tried the ditherbox plugin, but i don't think it's there to dither your image... it's a magic to tool to make your image look like crap by replacing it with garbage dither boxes...
<br/>
<br/>
any idea, anyone?
<br/>
<br/>
PS: i can't raytrace the image in 16bit :( i just rerendered it and set my desktop to 16bit... wooohooo, the same ugly waste, as expected. this kinda proves the issue comes from the conversion.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91171 - tepples - Wed Jul 05, 2006 1:02 am</h4>
    <div class="postbody"><span class="postbody">If you "add noise" at about 2% and then convert it, you might get better results.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91186 - silent_code - Wed Jul 05, 2006 3:52 am</h4>
    <div class="postbody"><span class="postbody">thanks for the tip, but i really want dithering... :( i'll check out what results i get, but i can't imagine there is no other way. (nice idea though [i mean it]! hiding the bad colors with noise ;D)
<br/>
<br/>
i remember i tried to export to .gif with dithering, but it was all messed up the same way (after displaying on the nds), so that means .gif uses 24bit palettes, too. :(
<br/>
<br/>
sad thing.
<br/>
<br/>
how is .pcx supposed to solve the problem? gimme a link or short introduction or something. thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91207 - melw - Wed Jul 05, 2006 9:23 am</h4>
    <div class="postbody"><span class="postbody">There's image formats that support 16bit colours as well. If you're using Photoshop, just try saving as 16bit Targa - Photoshop should do the 24-&gt;16 bit conversion smoothly enough. Although even that might be RGB565 or something not totally equivalent to DS' RGB555.
<br/>
<br/>
One might always write own tools to deal with the image conversions no matter what the source is.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91226 - silent_code - Wed Jul 05, 2006 12:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>melw wrote:</b></span></td> </tr> <tr> <td class="quote">There's image formats that support 16bit colours as well. If you're using Photoshop, just try saving as 16bit Targa - Photoshop should do the 24-&gt;16 bit conversion smoothly enough.</td> </tr></table><span class="postbody">
<br/>
<br/>
that's what i just said... .tga won't do it. :(
<br/>
<br/>
imo, it's inefficient to write tools that have been written a 1000 times before (and possibly are better then oneself could do). i mean there has to be some pluging for ps or something.
<br/>
<br/>
most images just won't look bad in 16bit color. but some do. :( from what i've seen it looks like bright light to quite dark gradients will mess the image up. i have some raytraced images that are fine, even though they are dark and others (justa few) that look messed up. maybe i'll have to modify the image (some gamma correction or whatever) to avoid that problem. i still have to check the noise hack.
<br/>
<br/>
@Paco: i'll try to work with the desktop colors set to 16bit and then play around with gamma and stuff. maybe you should try that too.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91286 - josath - Thu Jul 06, 2006 2:55 am</h4>
    <div class="postbody"><span class="postbody">a quick google turned up this page, which gives an example using ImageMagick. maybe this will give better results:
<br/>
<br/>
<a href="http://benno37.livejournal.com/10678.html" target="_blank">http://benno37.livejournal.com/10678.html</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
