<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>3D Camera?? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > 3D Camera??</h2>
<div id="posts">
<div class="post">
    <h4>#88304 - dexter0 - Sun Jun 18, 2006 5:52 pm</h4>
    <div class="postbody"><span class="postbody">I have been using 3d programs for a while now and decided to try programming 3D on the DS.  I am using a combination of PA_LIB and libnds in my code.  All the objects seem to position correctly but when I set my camera/perspective to 1.0,0.0,1.5,0.0,0.0,0.0 the camera does not seem to be moving ONLY on the x-axis.  It appears to be orbiting around the center.  Changing the Y position does the same except it orbits vertically.  The Z position behaves correctly except that when Z hits a negative value the camera rotates 180.  Is this standard 3D behavior or am I not doing something right?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;PA9.h&gt; 
<br/>
int main()
<br/>
{
<br/>
float x=1.0;
<br/>
float y=0.0;
<br/>
float z=1.5;
<br/>
float rx=0.0;
<br/>
PA_Init();
<br/>
PA_InitVBL();
<br/>
PA_InitText(1,0);
<br/>
PA_SetTextCol(1,31,31,31);
<br/>
PA_Init3D();//init the 3d
<br/>
PA_Init3DDrawing(1.0,0.0,1.5,0.0,0.0,0.0);//eyex, eyey, eyez
<br/>
while(1) 
<br/>
{
<br/>
PA_OutputText(1,0,0,"PosX: %f", x);
<br/>
PA_OutputText(1,0,1,"PosY: %f", y);
<br/>
PA_OutputText(1,0,2,"PosZ: %f", z);
<br/>
PA_OutputText(1,0,3,"RotX: %f", rx);
<br/>
if(Pad.Held.Left) {
<br/>
x=x-0.05; }
<br/>
if(Pad.Held.Right) {
<br/>
x=x+0.05; }
<br/>
if(Pad.Held.Up) {
<br/>
y=y-0.05; }
<br/>
if(Pad.Held.Down) {
<br/>
y=y+0.05; } 
<br/>
if(Pad.Held.X) {
<br/>
z=z-0.05; }
<br/>
if(Pad.Held.Y) {
<br/>
z=z+0.05; }
<br/>
if(Pad.Held.L) {
<br/>
rx=rx-0.05; }
<br/>
if(Pad.Held.R) {
<br/>
rx=rx+0.05; }
<br/>
if(Pad.Held.A) {
<br/>
x=0.0;
<br/>
y=0.0;
<br/>
z=1.0;
<br/>
rx=0.0; }
<br/>
gluLookAt(x,y,z,rx,0.0,0.0,0.0,0.1,0.0);
<br/>
glPushMatrix(); 
<br/>
PA_3DBox(0.0,0.0,0.0,0.5,0.5,0.5,0.0,0.0,0.0,255,255,255);//color
<br/>
PA_3DBox(0.0,0.0,0.0,2.0,0.1,0.1,0.0,0.0,0.0,0,255,0);//color
<br/>
PA_3DBox(0.0,0.0,0.0,0.1,2.0,0.1,0.0,0.0,0.0,0,0,255);//color
<br/>
PA_3DBox(0.0,0.0,0.0,0.1,0.1,2.0,0.0,0.0,0.0,255,0,0);//color
<br/>
glPopMatrix(1);
<br/>
glFlush();//show
<br/>
}
<br/>
<br/>
return 0;
<br/>
}</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#88316 - ProblemBaby - Sun Jun 18, 2006 7:13 pm</h4>
    <div class="postbody"><span class="postbody">I just skim through the post but I think you have misunderstood the behaviour of LookAt, first comes the position of the "eye" then the point to look at, and last which direction is up. So when you change the position of the eye (without changing the "look at"-point) it will still look at the same point just move the eye or camera.
<br/>
<br/>
I Hope this helped</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#88320 - silent_code - Sun Jun 18, 2006 7:32 pm</h4>
    <div class="postbody"><span class="postbody">in other words: first rotate the camera, then translate it... though this is just said the simple way ;)
<br/>
<br/>
what you have now is a camera orbiting around a point. such a camera model is good for modeling and third person perspectives. but for flyby cams and ego views this is not useful.
<br/>
<br/>
ps: didn't read your code...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
