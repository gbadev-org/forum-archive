<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DSi cartridges - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > DSi cartridges</h2>
<div id="posts">
<div class="post">
    <h4>#178001 - nocash - Fri Jul 12, 2013 2:29 pm</h4>
    <div class="postbody"><span class="postbody">Got told that most flashcarts cannot boot in DSi mode. Why is that?
<br/>
Does one need different hardware, encryption, or cartridge header as for NDS?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#178005 - nocash - Sun Jul 14, 2013 2:18 pm</h4>
    <div class="postbody"><span class="postbody">Found some info...
<br/>
<br/>
<a href="http://www.dsibrew.org/wiki/Card_hardware" target="_blank">http://www.dsibrew.org/wiki/Card_hardware</a> describes the cartridge protocol. The problem is that command 3Dh seems to use a different DSi specific blowfish key (another key than used by command 3Ch on DS).
<br/>
<br/>
<a href="http://www.dsibrew.org/wiki/NDS_Format" target="_blank">http://www.dsibrew.org/wiki/NDS_Format</a> describes the DSi cartridge header. With a bunch of new RSA, SHA1, AES stuff. And with one big problem: Entries 1C0h..1DFh seem to specify the boot executables for DSi mode (equivalent to entry 020h..02Fh for DS mode) but, without known entrypoints for starting that executables...?
<br/>
EDIT: Looks as if Entries 1C0h..1DFh are just some additional general purpose data blocks that get loaded (in DSi mode), alongsides with the normal NDS executables (meaning that the executables must have some way to detect if they are running on a NDS or DSi, by examing a RAM location, an I/O port, or incoming CPU register, or so).</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
