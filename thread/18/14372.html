<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Loading and launching the DS card - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Loading and launching the DS card</h2>
<div id="posts">
<div class="post">
    <h4>#143455 - The_Perfection - Sun Oct 21, 2007 10:29 pm</h4>
    <div class="postbody"><span class="postbody">I've been toying with hbfirmware and it seems that the code provided to load and run the SLOT-1 card do not work.  How would I get this to work?
<br/>
<br/>
All help is appreciated!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143456 - Mighty Max - Sun Oct 21, 2007 10:37 pm</h4>
    <div class="postbody"><span class="postbody">It does work, when it is started at the boot-time. 
<br/>
<br/>
Slot-1 is not decryptable by normal software means after the boot process is done, and no event has reset the encryption system.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143540 - The_Perfection - Tue Oct 23, 2007 4:36 pm</h4>
    <div class="postbody"><span class="postbody">So, in other words, it\'ll only work if it\'s flashed to the DS?  If that\'s the case it\'s gonna be a pain to play with.  But it <span style="font-style: italic">does</span> work?  
<br/>
<br/>
So, would it be possible to load, say, the game icon before while attempting to test my firmware without reflashing my DS?  I know that there are the different encryptions for different portions of the card.  I think.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143541 - Mighty Max - Tue Oct 23, 2007 4:44 pm</h4>
    <div class="postbody"><span class="postbody">The official firmware writes the header of the card to the main ram before passing control: <a href="http://nocash.emubase.de/gbatek.htm#dscartridgeheader" target="_blank">http://nocash.emubase.de/gbatek.htm#dscartridgeheader</a><br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143542 - The_Perfection - Tue Oct 23, 2007 5:03 pm</h4>
    <div class="postbody"><span class="postbody">So, from what I understand, if hbfirmware were flashed to the DS, it would be able to launch the card, but it cannot run it if it was booted from a Slot-2 card instead, right?
<br/>
<br/>
And from what I gather, (I\'m not terribly good at understanding GBATek,) The Icon and Title are outside the encrypted region and would be able to be read just fine, correct?
<br/>
<br/>
Thanks for your speedy replies!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143543 - Mighty Max - Tue Oct 23, 2007 5:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>The_Perfection wrote:</b></span></td> </tr> <tr> <td class="quote">So, from what I understand, if hbfirmware were flashed to the DS, it would be able to launch the card, but it cannot run it if it was booted from a Slot-2 card instead, right?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, that is how it is supposed to work. As soon the original firmware flags the encryption everything is too late, unless the encryption is reset by an physical event.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
And from what I gather, (I\'m not terribly good at understanding GBATek,) The Icon and Title are outside the encrypted region and would be able to be read just fine, correct?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Correct.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143575 - Lick - Tue Oct 23, 2007 11:48 pm</h4>
    <div class="postbody"><span class="postbody">The icondata and title are encrypted. The only way to reset the DS card is to re-insert it. After re-insertion you can do a decryption procedure, and find the icondata and title.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143650 - HyperHacker - Thu Oct 25, 2007 1:07 am</h4>
    <div class="postbody"><span class="postbody">The problem is just that once the encrypted data has been read, it can't be read again without resetting the card, which requires either removing it or turning the DS off. The BIOS reads it and leaves it in memory for the firmware to find, but all homebrew loaders I know of (as well as the firmware WMB client) remove it for whatever reason.
<br/>
<br/>
There's a bunch of info <span style="font-weight: bold">URL removed</span> but I think they require registration to view it, which is annoying. There's some nice code posted there that does all the encryption and stuff for you so you can read the card freely (still has to be reinserted though). It's GPL2-infected, though. &gt;_&gt;<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143704 - Lick - Thu Oct 25, 2007 1:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote">but all homebrew loaders I know of (as well as the firmware WMB client) remove it for whatever reason.</td> </tr></table><span class="postbody"> I think to use soft reset to boot the next binary.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">There's a bunch of info <span style="font-weight: bold">URL removed</span> but I think they require registration to view it, which is annoying. There's some nice code posted there that does all the encryption and stuff for you so you can read the card freely (still has to be reinserted though). It's GPL2-infected, though. &gt;_&gt;</td> </tr></table><span class="postbody"> I have no idea but to guess that the removed URL pointed at an illegal website, in which case I find it weird that the contents on that illegal website are GPLv2-licensed.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143744 - HyperHacker - Thu Oct 25, 2007 8:15 pm</h4>
    <div class="postbody"><span class="postbody">I'm sure there was nothing illegal on that site last I checked. You could find some distasteful things if you signed up and poked around, but not in that thread. Ah, I love it when moderators delete things without any explanation why. -_-<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143757 - wintermute - Thu Oct 25, 2007 9:28 pm</h4>
    <div class="postbody"><span class="postbody">GPL licensing doesn't magically make things legal.
<br/>
<br/>
If a site involves making copies of commercial games it should not be linked here.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143759 - tepples - Thu Oct 25, 2007 9:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote">I'm sure there was nothing illegal on that site last I checked.</td> </tr></table><span class="postbody">
<br/>
I'm not the moderator who deleted it. (I'd have been more likely to replace the URL with "PIRACY DOT COM" or the like.) But I'm guessing that "it's not illegal" has little to do with it. This server is private property. Even though the discussion of piracy methods is not necessarily unlawful, the administrators have seen fit to ban links to domains that focus on the discussion of piracy methods.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143803 - HyperHacker - Fri Oct 26, 2007 6:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">GPL licensing doesn't magically make things legal.
<br/>
<br/>
If a site involves making copies of commercial games it should not be linked here.</td> </tr></table><span class="postbody">So is card-reading code considered piracy-related, or was there a thread having something to do with piracy in there that I missed? It doesn't do much good to tell someone "you're breaking the rules" without specifying just what they're doing to break them.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
