<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Help with a single background layer over both screens - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Help with a single background layer over both screens</h2>
<div id="posts">
<div class="post">
    <h4>#117493 - rezen - Mon Feb 05, 2007 3:21 am</h4>
    <div class="postbody"><span class="postbody">Hi there.
<br/>
<br/>
Just a noob here. I am currently just messing around with the tutorials and I wanted to modify one of the bitmap ones (rotscale_text) so it can be shown within both screens when it stretches over the bottom screen.
<br/>
<br/>
Would I have to setup 2 areas in VRAM for the bitmap or can 1 be shown across both screens at the same time??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117541 - JessTicular - Mon Feb 05, 2007 2:33 pm</h4>
    <div class="postbody"><span class="postbody">Yep, you'll have to setup two areas.
<br/>
<br/>
The main VRAM starts at 0x06000000 and the sub VRAM starts at 0x06200000.
<br/>
<br/>
When the image is moved so far that it should be visible on the second screen, you'll have to then start scrolling that second background aswell as the main background. I think the gap between screens is 42px, but don't hold me to it.
<br/>
<br/>
[EDIT]
<br/>
So, you could do something like this to set it up:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   // We want an extended-rotation background
<br/>
   //  We can have up to 512x512 on BG3, but since we
<br/>
   //  only want a single full-screen image, then we'll just be using 256x256
<br/>
   //  (which conveiniently fits into just one VRAM)
<br/>
   videoSetMode(MODE_3_2D | DISPLAY_BG3_ACTIVE);
<br/>
<br/>
   // And the same for the sub screen
<br/>
   videoSetModeSub(MODE_3_2D | DISPLAY_BG3_ACTIVE);
<br/>
<br/>
   // Setting VRAM A to the main BG - givnig us 128KiB, exactly what we need for a 256x256x16 image
<br/>
   vramSetBankA(VRAM_A_MAIN_BG_0x06000000);
<br/>
<br/>
   // Setting VRAM C to be sub BG
<br/>
   vramSetBankC(VRAM_C_SUB_BG_0x6200000);</td> </tr></table><span class="postbody">
<br/>
<br/>
[/EDIT]<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="font-weight: bold">Nintendo DS &amp; Dominos :: <a class="postlink" href="http://dsdominos.sourceforge.net" target="_blank">DS Dominos</a></span>
<br/>
<a class="postlink" href="http://jt0.org" target="_blank">http://jt0.org</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117577 - HyperHacker - Mon Feb 05, 2007 10:07 pm</h4>
    <div class="postbody"><span class="postbody">I believe the gap is 96px, might be different on Lites though. That's what Moonshell uses by default.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117642 - JessTicular - Tue Feb 06, 2007 8:28 am</h4>
    <div class="postbody"><span class="postbody">Sweet, thanks for that.
<br/>
<br/>
I just whipped out my ruler and got 89.9px (so, 90px) gap.
<br/>
<br/>
96px sounds about right, and if moonshell uses it, then it's best to stick with an already established standard.
<br/>
<br/>
Cheers,
<br/>
Jess.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="font-weight: bold">Nintendo DS &amp; Dominos :: <a class="postlink" href="http://dsdominos.sourceforge.net" target="_blank">DS Dominos</a></span>
<br/>
<a class="postlink" href="http://jt0.org" target="_blank">http://jt0.org</a></span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
