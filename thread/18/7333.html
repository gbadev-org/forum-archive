<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to save BMP to CF? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > How to save BMP to CF?</h2>
<div id="posts">
<div class="post">
    <h4>#59187 - alangerow - Sun Oct 30, 2005 4:09 am</h4>
    <div class="postbody"><span class="postbody">I'm wondering is there a way to take an array of pixel color information and save it as a BMP or PNG to a CF card in the GBA MP? I have the CF FAT stuff, but what is available to create a BMP on the DS to save?
<br/>
<br/>
The Mario Kart icon template inspired me to try an icon creation app for the DS, for those times I'm out and about and feeling creative, but I'm unsure how to go about saving this information in a useful format. I have the drawing stuff done, but am now stuck on this part.
<br/>
<br/>
I'm still new to writing for the DS and in C, so anything with any sort of decent documentation would be extremely helpful.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#59194 - tepples - Sun Oct 30, 2005 5:59 am</h4>
    <div class="postbody"><span class="postbody">You can read and write .bmp files using the information at <a class="postlink" href="http://www.wotsit.org/search.asp?s=graphics" target="_blank">wotsit.org</a>. I wouldn't suggest implementing .png or .jpg until you have .bmp down pat.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#59195 - alangerow - Sun Oct 30, 2005 6:09 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">You can read and write .bmp files using the information at <a class="postlink" href="http://www.wotsit.org/search.asp?s=graphics" target="_blank">wotsit.org</a>. I wouldn't suggest implementing .png or .jpg until you have .bmp down pat.</td> </tr></table><span class="postbody">
<br/>
<br/>
I would rather do BMP anyway. :) Just looking for whatever is possible. Looks like I have some reading to do. Thank you very much.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78337 - josath - Thu Apr 06, 2006 11:08 pm</h4>
    <div class="postbody"><span class="postbody">Anyone have any luck with png saving on the DS?
<br/>
I can save raw image data fine, then I have a tool that runs on my PC to compress that into PNG.
<br/>
<br/>
However, there's a problem with png compression on the DS. When I attempt to compress it, using libpng (which depends on zlib), I get an error, Z_STREAM_ERROR. I've traced that it's being generated when libpng calls zlib's deflate() and passes some data into it.
<br/>
<br/>
It would be nice if anyone has implemented PNG saving on the DS could speak up. (I'm not interested in PNG reading, I know there's several examples out there that do it already).
<br/>
<br/>
You can find my drawing app (saves to raw image only, no PNG) here: <a href="http://blog.davr.org/" target="_blank">http://blog.davr.org/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
