<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Bug in DevkitARM? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Bug in DevkitARM?</h2>
<div id="posts">
<div class="post">
    <h4>#41306 - Jalava - Wed Apr 27, 2005 11:36 am</h4>
    <div class="postbody"><span class="postbody">Consider this kind of piece of code
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
u8 foo = 6;
<br/>
<br/>
void testFunction(void)
<br/>
{
<br/>
    consolePrintf("%X",foo); // Prints out zero!
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
It seems that global variables cannot be initialized to certain value, which is clearly a bug.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41309 - Locke - Wed Apr 27, 2005 1:47 pm</h4>
    <div class="postbody"><span class="postbody">Try consolePrintf ("%d", foo);
<br/>
<br/>
Just to see if there is a problem of devkit or consolePrintf function.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41310 - Jalava - Wed Apr 27, 2005 1:54 pm</h4>
    <div class="postbody"><span class="postbody">That was just small example code i wrote from top of my head, i can confirm in lots of other ways that this really is this way.
<br/>
<br/>
For example simple while-loop :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">u8 times = 10;
<br/>
<br/>
void testLoop(void)
<br/>
{
<br/>
   int i=0;
<br/>
   while(i&lt;times)
<br/>
   {
<br/>
     i++;
<br/>
   }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Following loop doest run even once because times is initialized to zero. Not sure which causes this bug, need to investigate a bit more.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41319 - tepples - Wed Apr 27, 2005 3:05 pm</h4>
    <div class="postbody"><span class="postbody">How is your program's main() function declared?
<br/>
<br/>
Are you using the default crt0 and link script?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41326 - Rinkwraith - Wed Apr 27, 2005 4:21 pm</h4>
    <div class="postbody"><span class="postbody">Out of interest, does this work (have no access to my dev kit at the moment)?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
u8 times;
<br/>
<br/>
void testLoop(void) 
<br/>
{ 
<br/>
   int i=0; 
<br/>
   times = 10;
<br/>
   while(i&lt;times) 
<br/>
   { 
<br/>
     i++; 
<br/>
   } 
<br/>
} 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Edit: Think it must, I'm sure I've used that form in my own proggies.
<br/>
Edit2: Certainly used a constant value that way...
<br/>
<br/>
R</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
