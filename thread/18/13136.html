<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>print  text in 3d mode - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > print  text in 3d mode</h2>
<div id="posts">
<div class="post">
    <h4>#127846 - wykz - Sat May 05, 2007 4:12 pm</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
<br/>
how do i print simple text when I have 3d mode activated? I want  the text to be on top of all the 3D objects 
<br/>
<br/>
thankfull for every hint or url</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127847 - tepples - Sat May 05, 2007 4:27 pm</h4>
    <div class="postbody"><span class="postbody">First approximation: Set the priority of BG0 to 1 and the priority of BG1 to 0 using the BGCTRL registers. Then use BG1 to display the text.
<br/>
<br/>
If you are using 3D mode, you'll probably want to use a VRAM layout similar to this:
<br/>
<ol type="a"><li>Textures </li><li>Textures </li><li>Textures </li><li>Textures </li><li>Main BG </li><li>Main sprite cels </li><li>Texture palettes </li><li>Sub BG </li><li>Sub sprite cels </li></ol><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127848 - wykz - Sat May 05, 2007 5:45 pm</h4>
    <div class="postbody"><span class="postbody">o sorry .. i dont mean textur as you putt on 3d objects ..  i mean  ordinary text from char[]
<br/>
<br/>
i have not  find any sampel for libnds how to put out char text in 3d mode
<br/>
<br/>
have i game in 3d  .. but it hard to tell other how to play it if i cant find solution how to put text on the screen that run 3d</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127850 - tepples - Sat May 05, 2007 5:59 pm</h4>
    <div class="postbody"><span class="postbody">First try getting your existing text drawing routines to work in BG2 in VRAM bank E. (Because bank E is 64 KiB, you will have to use a display mode other than a hi-color extended rotation background.) Then you can overlay BG2, containing your text, on top of BG0, containing your 3D scene.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127857 - wykz - Sat May 05, 2007 7:14 pm</h4>
    <div class="postbody"><span class="postbody">i got text on bg2 now .
<br/>
<br/>
can you tell me how BGCTRL works (sampel how i change the bg)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127859 - tepples - Sat May 05, 2007 8:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wykz wrote:</b></span></td> </tr> <tr> <td class="quote">i got text on bg2 now .</td> </tr></table><span class="postbody">
<br/>
Good job. Now do you have the main 2D core in VRAM E so that it doesn't interfere with your textures?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">can you tell me how BGCTRL works (sampel how i change the bg)</td> </tr></table><span class="postbody">
<br/>
BGCTRL[2] is the same thing as REG_BG2CNT. See <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#lcdiobgcontrol" target="_blank">GBATEK: GBA LCD I/O Background Control</a> and <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#dsvideobgmodescontrol" target="_blank">GBATEK: DS Video BG Modes / Control</a> to learn how to change each background's priority.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127863 - wykz - Sat May 05, 2007 10:47 pm</h4>
    <div class="postbody"><span class="postbody">got it working now with help from here and dsdev on irc.. gona past the code if other fell in to the same trapp
<br/>
<br/>
<a href="http://rafb.net/p/Kit5Hj55.html" target="_blank">http://rafb.net/p/Kit5Hj55.html</a>
<br/>
<br/>
big thx for the god and fast answer</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128041 - Rajveer - Tue May 08, 2007 12:17 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">First approximation: Set the priority of BG0 to 1 and the priority of BG1 to 0 using the BGCTRL registers. Then use BG1 to display the text.
<br/>
<br/>
If you are using 3D mode, you'll probably want to use a VRAM layout similar to this:
<br/>
<ol type="a"><li>Textures </li><li>Textures </li><li>Textures </li><li>Textures </li><li>Main BG </li><li>Main sprite cels </li><li>Texture palettes </li><li>Sub BG </li><li>Sub sprite cels </li></ol></td> </tr></table><span class="postbody">
<br/>
<br/>
How would one set VRAM bank G to store texture palettes? As libnds uses VRAM bank E by default.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128052 - Ant6n - Tue May 08, 2007 4:51 am</h4>
    <div class="postbody"><span class="postbody">would it make sense to put a rectangular polygon directly behind the near clipping plane (does that exist on DS?) that uses a 2bit paletted texture (thus using half the ram)?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
