<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Turn Encryption off??? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Turn Encryption off???</h2>
<div id="posts">
<div class="post">
    <h4>#31950 - nomad40 - Thu Dec 16, 2004 5:56 am</h4>
    <div class="postbody"><span class="postbody">If I was the Nintendo development engineer I would have left a control
<br/>
bit in the rom header to turn off the encryption during development.
<br/>
Is anyone pursing this possibility?????</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31954 - TJ - Thu Dec 16, 2004 6:44 am</h4>
    <div class="postbody"><span class="postbody">They don't do development on retail hardware, they use the development versions of the DS.
<br/>
<br/>
Like this one:
<br/>
<br/>
<a class="postlink" href="http://www.planetgamecube.com/news.cfm?action=item&amp;id=5611" target="_blank">http://www.planetgamecube.com/news.cfm?action=item&amp;id=5611</a>
<br/>
<br/>
They wouldn't have included the ability to use unencrypted ROM cards on the retail DS's, as that would defeat the point of the encryption.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31967 - yackom - Thu Dec 16, 2004 9:22 am</h4>
    <div class="postbody"><span class="postbody">yeah no company wants to repeat the dreamcast mistakes of doing just that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31975 - netdroid9 - Thu Dec 16, 2004 11:50 am</h4>
    <div class="postbody"><span class="postbody">Yeah.
<br/>
<br/>
But it could be done with some sort of exploit...
<br/>
<br/>
*Thinks* Could we buffer-overflow the GBA BIOS and see what we can do with it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31977 - Dib - Thu Dec 16, 2004 11:55 am</h4>
    <div class="postbody"><span class="postbody">Again, if there were a way to bypass the encryption it would defeat the point of having encryption in the first place.  You don't add fifty locks and bolts to your front door then leave the first story window open every time you leave the house.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31979 - netdroid9 - Thu Dec 16, 2004 12:00 pm</h4>
    <div class="postbody"><span class="postbody">&lt;.&lt;
<br/>
&gt;.&gt;
<br/>
...
<br/>
<br/>
Unless you forget, but by the time it reaches AUS there will be no chance of it being there :(.
<br/>
<br/>
Note to all Japanese/American/Chinese people: When a game hits europe though, it supports at least three changes and adds at least seven extra languages, and australia generally gets the european version...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31981 - darkfader - Thu Dec 16, 2004 12:07 pm</h4>
    <div class="postbody"><span class="postbody">&lt;deleted&gt;</span><span class="gensmall"><br/><br/>Last edited by darkfader on Tue Mar 01, 2005 8:40 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#31982 - MumblyJoe - Thu Dec 16, 2004 1:36 pm</h4>
    <div class="postbody"><span class="postbody">Although I think everyone is forgetting mod chips. If the DS can't run unencrypted code I would be willing to modify mine so it could.<br/>_________________<br/><a class="postlink" href="http://www.hungrydeveloper.com" target="_blank">www.hungrydeveloper.com</a>
<br/>
Version 2.0 now up - guaranteed at least 100% more pleasing!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31984 - vseznajko - Thu Dec 16, 2004 3:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>darkfader wrote:</b></span></td> </tr> <tr> <td class="quote">The ROM data itself might be pre-encrypted (per game title) because I can't dump super mario with commands that were sent to metroid.</td> </tr></table><span class="postbody">
<br/>
<br/>
i think is more likeliy that commands are also encripted with the same LFSR stream.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32004 - yackom - Thu Dec 16, 2004 11:21 pm</h4>
    <div class="postbody"><span class="postbody">i think its most likely the commands use the LFSR too (but not necessarly so).. its fair to assume they didnt plan on the metriod cart getting hacked like darkfader did.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32018 - Dib - Fri Dec 17, 2004 7:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MumblyJoe wrote:</b></span></td> </tr> <tr> <td class="quote">Although I think everyone is forgetting mod chips. If the DS can't run unencrypted code I would be willing to modify mine so it could.</td> </tr></table><span class="postbody">
<br/>
From a development standpoint that's meaningless.  You're willing to open up your DS and tinker with the internals, so that makes one target person to develop software and games for.  What about the rest of the population whom owns a DS?
<br/>
<br/>
In others words, without the ability to provide our software to people and not require them to void warranties, break the law, or have a technical knowledge, there's not going to be much software made.  It has to be as simple as flashing the software to a cartridge or inserting a custom cartridge or there's just no point.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32020 - willgonz - Fri Dec 17, 2004 8:38 am</h4>
    <div class="postbody"><span class="postbody">Because DarkFader has successfully extracted a rom and it was encrypted. From what I heard the encryption changes everytime you extract the data.
<br/>
It is my thinking that the DS or ROM would encrypt the data based on time. My theory is, there is logic on the ROM which encrypts the game based on time. If someone were able to remove the data and stick it on another card, it would indeed have the game data, but not the logic to encrypt it, so the DS would read it. I bet the only way the DS would accept data is if it comes in it's encrypted form. In order to send the data from a PC, you would have to unencrypt the data and then encrypt it again by the PC. The PC would encrypt the data based on time, which is in sync with the DS. Two DS'es setting side by side with two of the same memory cards and the time in perfect sync with each other. Is the data that is pulled from the card the same? Change them a min or two off, does the data change? Or use one DS. Set the date and time to 11-11-2004 12:00. Pull data every minute for five mins. Set the time back to 11-11-2004 12:00. Again, Pull data every minute for five mins. Is the data that is pulled off the same? 
<br/>
<br/>
RSA has been doing Time based algorithms for years now with their SecurID cards.<br/>_________________<br/>│?ig │
<br/>
All of this is research. You are going to see theories come and go. Things you think can't be done, will be done. But because you are here, you'll be the first to know.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32022 - yackom - Fri Dec 17, 2004 8:48 am</h4>
    <div class="postbody"><span class="postbody">using time is how they generate the key to seed the LFSR stream, which it passes to the cartridge during bootup and reading the header. the cartridge isnt aware of the time and the commands sent to the cartridges are encrypted as well. you can read the other threads to get a better idea of that process.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32025 - mymateo - Fri Dec 17, 2004 9:20 am</h4>
    <div class="postbody"><span class="postbody">Besides, I'm not sure how accurate that would be if it DID work.  I don't pretend to know much on the subject, in fact I probably know less than just about everyone here (having never bothered to learn anything about circutry and encryption etc), but it seems to me that you couldn't expect to be reliably accurate in any timing less than a second, half a second at best.
<br/>
<br/>
By this, I mean that you would probably have to start extracting the data at the <span style="font-style: italic">exact</span> same time, and in the same <span style="font-style: italic">exact</span> increments each time you reset the time.  I somehow doubt that if Nintendo <span style="font-style: italic">did</span> use the current time to decrypt the data / encrypt the command (or whatever), they would take the seconds from the RTC.  More likely, they would take the full time, or just the milliseconds (or smaller).
<br/>
<br/>
But like I said, I don't know much about this stuff... anyone who does, how accurate are my doubts? :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32026 - Sebbo - Fri Dec 17, 2004 9:38 am</h4>
    <div class="postbody"><span class="postbody">i'm really not sure if this would help, and i'm about as inexperienced as mymateo, but i just finished my senior year of high school, and with that advanced maths.  one thing i learned was that matrices are really useful for encrypting data and aren't apparently obvious to crack, so how likely would it be that the ROM dump was encrypted by some sort of matrix? it sure would be the smart thing to do</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#32044 - EaDS Milliways - Fri Dec 17, 2004 3:05 pm</h4>
    <div class="postbody"><span class="postbody">Just a bit more information from the SecureID side of things (which MAY be related, or maybe not). Say a company has 5 keyfobs. EACH one gets a different number every 60 seconds. However, even though you have 5 different numbers, ALL of them are valid. After another 60 seconds you have 5 new numbers and they are all valid as well. Expand this to 50, 100, 10,000 and it's possible that you have that many valid numbers for that one time period.
<br/>
<br/>
Add to this that the 60 second rule may only apply for the keyfob (ie, something a human has to see and enter) and there <span style="font-weight: bold">may</span> be a different valid code for each beat (however long that is) in embedded devices. 
<br/>
<br/>
<span style="font-style: italic">Note that what the clock is set for would have no bearing on the encryption just like a computer's clock chip doesn't say anything about time, but just gives information that the software can use to determine the duration of a second.</span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
