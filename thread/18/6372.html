<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>NDS passme boot process questions, loader questions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > NDS passme boot process questions, loader questions</h2>
<div id="posts">
<div class="post">
    <h4>#48613 - Dwedit - Thu Jul 21, 2005 4:58 am</h4>
    <div class="postbody"><span class="postbody">What is the boot process for the 512 byte stub used by passme binaries?  What fields does it look at to decide where to copy the binary to and from, then which fields to set the ARM7 and ARM9 PC?  Is the complete binary stored in RAM, or does it execute from cartridge space?
<br/>
What methods does darkain's loader use?
<br/>
Why do the E3 demos refuse to boot?
<br/>
What is the boot process for wireless multiboot, once all data has been recieved?
<br/>
<br/>
One more question regarding appended data...
<br/>
Do .nds.gba programs that read appended data from the cartridge slot care where they are executed from, or do they automatically search the entire cartridge for the first record?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48615 - chishm - Thu Jul 21, 2005 5:26 am</h4>
    <div class="postbody"><span class="postbody">The source for the boot stub is <a class="postlink" href="http://cvs.sourceforge.net/viewcvs.py/devkitpro/tools/nds/dsbuild/DefaultLoader/source/ndsmall.s?rev=1.2&amp;view=auto" target="_blank">here</a> if you are interested.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48662 - tepples - Thu Jul 21, 2005 3:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">One more question regarding appended data...
<br/>
Do .nds.gba programs that read appended data from the cartridge slot care where they are executed from, or do they automatically search the entire cartridge for the first record?</td> </tr></table><span class="postbody">
<br/>
By default, find_first_gbfs_file() of GBFS starts from the beginning of ROM (0x08000000) and will find the first instance of "PinEightGBFS\r\n\032\n". If you have the address of the .nds binary in ROM, you can use that for the search. This isn't so much of a problem for GBA programs because the GBA loaders tend to set the bankswitching such that the program always starts at 0x08000000.
<br/>
<br/>
EDIT: I thought of another way to prevent your .nds.gba program from finding someone else's file system. If you get 'file not found' (gbfs_get_obj() returning NULL), use find_first_gbfs_file() to skip to the next file system.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Fri Jul 22, 2005 12:20 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#48695 - The 9th Sage - Thu Jul 21, 2005 8:25 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Why do the E3 demos refuse to boot?</td> </tr></table><span class="postbody">
<br/>
<br/>
I've booted 'official' demos before using a GBA cart and PassMe...strangely it seems to be affected by what cart is in the PassMe.  I think I remember reading something Darkain said about the timing of the ARM processors (like some games causing them to get a bit out of sync)...maybe that has to do with it.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
