<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DS touch screen Area detection - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > DS touch screen Area detection</h2>
<div id="posts">
<div class="post">
    <h4>#129052 - SukiStrider - Fri May 18, 2007 3:51 pm</h4>
    <div class="postbody"><span class="postbody">Please can someone show me in a small c/c++ code or explain to me how to detect a screen press area.
<br/>
<br/>
For example: If the centre of the DS's touch screen is pressed how do i write the code that detects the area pressed.
<br/>
<br/>
I normally write it like this:
<br/>
<br/>
[Please excuse the coding, I am at work, THIS IS NOT WORK RELATED]
<br/>
<br/>
This is to detect a small square area when pressed.
<br/>
<br/>
if ((screen_area &gt; 5 &amp;&amp; screen_area &lt; 8) || 
<br/>
   (screen_area &gt; 20 &amp;&amp; screen_area &lt; 23) ||
<br/>
   (screen_area &gt; 35 &amp;&amp; screen_area &lt; 38) ||
<br/>
   (screen_area &gt; 50 &amp;&amp; screen_area &lt; 53))
<br/>
<br/>
But this seems wrong, can you show me another way.
<br/>
<br/>
Thanks In Advance[/b]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129055 - Lick - Fri May 18, 2007 4:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">touchPosition tp = touchReadXY();
<br/>
<br/>
if (tp.py &gt;= 32 &amp;&amp; tp.py &lt; 160 &amp;&amp;     // stylus.y = [32, 159]
<br/>
<br/>
    tp.px &gt;= 32 &amp;&amp; tp.px &lt; 224)     // stylus.x = [32, 223]
<br/>
{
<br/>
<br/>
    // code
<br/>
<br/>
}</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129058 - keldon - Fri May 18, 2007 5:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SukiStrider wrote:</b></span></td> </tr> <tr> <td class="quote">[/b]</td> </tr></table><span class="postbody">
<br/>
Note that writing an entire post in bold or capitals will not make people read it more, they have already clicked the link into your thread and therefore want to read it [in case that was your intention].</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129125 - mml - Sat May 19, 2007 5:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">Note that writing an entire post in bold or capitals...</td> </tr></table><span class="postbody">
<br/>
<br/>
PhpBB is retarded and frequently decides to automatically close tags you open when you hit submit, even if you already closed or completely deleted those tags yourself.  So I wouldn't read too much into a random trailing [/b], or any other tag really.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129143 - tepples - Sat May 19, 2007 4:36 pm</h4>
    <div class="postbody"><span class="postbody">Do you mean to detect whether the center of a touch is within a given area on the screen, or do you mean to detect the actual <span style="font-style: italic">area</span> of a single touch (e.g. finger covers more area than stylus)?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129164 - Dood77 - Sun May 20, 2007 12:26 am</h4>
    <div class="postbody"><span class="postbody">A small tech demo showing what data (graphed, not numbers) the DS actually receives from the touch screen (demonstrating how the calculated touch point changes with pressure and the instrument used) would be neat to see, there would be three modes:
<br/>
One with a dot for showing the center of the actual touch point
<br/>
One that would change the color of the background depending on what area the DS was calculating
<br/>
And one that would have a dot that faded to different colors depending on the pressure calculated.
<br/>
<br/>
But I really don't know exactly the data that the DS receives.. so I could be wrong on what a program would/could do... I'm not a programmer, at least not for the DS.<br/>_________________<br/>If I use a term wrong or something then feel free to correct, I?m not much of a programmer.
<br/>
<span style="font-size: 9px; line-height: normal">
<br/>
Original DS Phat obtained on day of release + flashme v7
<br/>
Supercard: miniSD, Kingston 1GB, Kingston 2GB
<br/>
Ralink chipset PCI NIC
<br/>
</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129167 - SukiStrider - Sun May 20, 2007 12:50 am</h4>
    <div class="postbody"><span class="postbody">Hi  tepples,
<br/>
<br/>
yeah, I mean to detect the actual area of a single touch weather it be stylus or other wise, I think Lick's suggestion (thanks for that) is understandable and any more help is appreciated.
<br/>
<br/>
Lets say I have a screen image with a square icon of 4x4 pixels on the upper left of the screen how do i detect whether that icon's area has been press.
<br/>
<br/>
I don't want to use the method I mentioned in my first post (very Amateur coding)
<br/>
<br/>
I know of another way using pointers but that is just too complicated.
<br/>
<br/>
I appreciate your interest.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129170 - SukiStrider - Sun May 20, 2007 1:16 am</h4>
    <div class="postbody"><span class="postbody">keldon sorry if that typo offended you, but that was not my doing, when i clicked preview then clicked submit it just appeared.
<br/>
<br/>
Any-who, Dood77 you may not be a DS programmer but your suggestion is very close at least your first two points (finding the matrix of the area pressed if something as accurate as a stylus was used, then highlighting that circular area with an alternate colour, but that seemed too complicated so i settled for finding the area of a screen press be it a covered area (finger press) or something else.
<br/>
<br/>
Maybe it's my explanation.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
