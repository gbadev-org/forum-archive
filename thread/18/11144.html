<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Tiled Background - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Tiled Background</h2>
<div id="posts">
<div class="post">
    <h4>#102551 - Caladus - Fri Sep 15, 2006 4:33 am</h4>
    <div class="postbody"><span class="postbody">I am currently working on a simple rpg-ish demo program that uses all the tools the ds provides that I can get into it.  I have hopes of documenting it and posting it to help other newbies like me.
<br/>
<br/>
I currently have 2 exrot's (main and sub) one is 512x512x8 and the other is 256x256x16.  I also have sprites, movement and simple animations.  My next goal is to draw a tiled background ontop of the 512x512.  I have VRam A and B set to MainBG for the 512 and C and D are for the 256 and sprites.  I have now assigned VRam E to MainBG for use with this new tiled backgroud.  I am having trouble understanding the screenbase and mapbase concept.  I seem to be writing data over my other bgs and I am not sure which values to use to get it to write into VRamE, or even if this setup is feasable.  If anyone can give a quick rundown of how to write the tile data and tile map and all other necessary bits (the tiles use the same palette as the 512) to help me display it, I will be very greatful and I believe it will help others than just me.  Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102552 - Caladus - Fri Sep 15, 2006 4:54 am</h4>
    <div class="postbody"><span class="postbody">I'd figured I'd mention that the tiles I am using are basicly a font with each character taking up 8x8 pixels for a total of 95 tiles.  I was hoping to use this for displaying text and showing how tiled backgrounds work at the same time (not using the console).  They ar 8 bit (color) aswell.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102558 - knight0fdragon - Fri Sep 15, 2006 7:47 am</h4>
    <div class="postbody"><span class="postbody">whoa whoa whoa, what are you using for your MainBG, A, B or E
<br/>
the way VRAM works with the screen is that you have to map them to certain addresses starting at 0x6000000
<br/>
tiles are limited to 1024 per background, so you can only have 64k worth of tile saved.
<br/>
<br/>
This is great for VRAM E since it is 64k
<br/>
(note you can not use all 1024 tiles in E though, unless you find a clever way to compine map and tile data)
<br/>
<br/>
I would recommend just sticking with A for now, A gives you 128k in space.
<br/>
<br/>
screen base = offset *0x800,  so offset 1 would be 0x6000800
<br/>
char base = offset * 0x4000, so offset 1 would be at 0x6004000<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102586 - Caladus - Fri Sep 15, 2006 2:08 pm</h4>
    <div class="postbody"><span class="postbody">The offset number really helped.  To answer your question.  VRam A and B are mapped to MainBG because the 512 bitmap took up 256k so I had to map 2 consecutive VRams to hold it.  The reason I chose VRam E for the tiled background is because all of the previous VRams are being used.  I am hoping my tiles take up little room, but I will try to squeeze them into whatever VRams I have left.  Can you go over how to construct a map?  I was just fillin the array with 1's hoping it would print out the second tile accross the screen.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102620 - knight0fdragon - Fri Sep 15, 2006 6:33 pm</h4>
    <div class="postbody"><span class="postbody">map corresponds to the tile you want to be placed in the screen
<br/>
<br/>
so 0 would be your first tile,(having this transparent is usually the best idea) 1 would be your second tile and so on and so forth,  for your 256x256 BG, you would have a map size of 2048,  that is 32x32 tiles x 2bytes per map (max map # is 1023, and 2 bytes are needed for it)<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
