<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>The Famous "ARM9 PassMe Loop" - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > The Famous "ARM9 PassMe Loop"</h2>
<div id="posts">
<div class="post">
    <h4>#106992 - Lick - Wed Oct 25, 2006 3:43 pm</h4>
    <div class="postbody"><span class="postbody">What is it, and is this it? 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">  .arm
<br/>
   .global _start
<br/>
_start:
<br/>
   ldr pc,jump
<br/>
jump:
<br/>
   .word _start
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107002 - josath - Wed Oct 25, 2006 5:06 pm</h4>
    <div class="postbody"><span class="postbody">When it first runs, jump == _start.
<br/>
ldr = load register, pc = program counter.
<br/>
<br/>
so it's loading the value of 'jump' into pc, which essentially is the same as 'goto _start', which is where it already is, so it keeps executing the same line over and over.
<br/>
<br/>
when the arm7 wants to boot the arm9, it simply changes the value at jump:, and on the next instruction, the arm9 will do 'goto &lt;new value&gt;'. Generally, this new value is an arm9 binary which has been loaded into main ram.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107014 - Lick - Wed Oct 25, 2006 6:15 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for explaning!<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107080 - PypeBros - Thu Oct 26, 2006 9:21 am</h4>
    <div class="postbody"><span class="postbody">hmm ... so the ARM7 has control over the ARM9's memory ? i thought it wasn't the case...<br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107098 - pepsiman - Thu Oct 26, 2006 3:24 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PypeBros wrote:</b></span></td> </tr> <tr> <td class="quote">hmm ... so the ARM7 has control over the ARM9's memory ? i thought it wasn't the case...</td> </tr></table><span class="postbody">
<br/>
You thought wrong.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107101 - Lick - Thu Oct 26, 2006 4:08 pm</h4>
    <div class="postbody"><span class="postbody">I thought the whole 0x02000000 range was shared.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107307 - Mighty Max - Sat Oct 28, 2006 12:06 pm</h4>
    <div class="postbody"><span class="postbody">It is, however usually it is cached on the arm9. Use the mirror at 0x02400000 to avoid out of date data.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107367 - omaremad - Sun Oct 29, 2006 1:09 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">hmm ... so the ARM7 has control over the ARM9's memory </td> </tr></table><span class="postbody">
<br/>
<br/>
Thats how dipstar works, there is so much empty space in the ARM7 binary you can add loads of code there to modify ARM9 values without expanding the ARM9 binary which usually has a tiny empty space.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
