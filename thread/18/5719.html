<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>trouble using ndstool - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > trouble using ndstool</h2>
<div id="posts">
<div class="post">
    <h4>#42675 - Pacifist - Fri May 13, 2005 11:06 pm</h4>
    <div class="postbody"><span class="postbody">I'm having trouble successfully building .nds files using ndstool 1.13
<br/>
<br/>
I'm not sure what to say it's pretty straight foreward.  I use
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
ndstool.exe -c theGame.nds -7 arm7.bin -9 arm9.bin
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Which seems to go well. I get a file named theGame.nds with a reasonable file size.  But when I use the wireless mutiboot to upload it straight to my DS I just get a white screen.
<br/>
<br/>
I have managed to load other people's .nds files no problem.  In fact I think an earlier version of ndstool may have worked for me, but I might have just been accidentaly booting off of the gba cart or something.
<br/>
<br/>
My game works fine over gba cart, and I get the exact same results trying to build DesktopMan's nibbles demo into an .nds file.
<br/>
<br/>
Anyone else having troubles?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42678 - Chetic - Fri May 13, 2005 11:08 pm</h4>
    <div class="postbody"><span class="postbody">Yep, I was having the same problem just now, I can't make my own .nds file anymore.
<br/>
My makefile sure does though and I feel so stupid not being able to figure it out from there.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42693 - josath - Sat May 14, 2005 1:28 am</h4>
    <div class="postbody"><span class="postbody">you need the newest firmware patch to send your own .nds to the gba over wifi.
<br/>
Also, when using ndstool, make sure to set the correct arm7 &amp; arm9 offsets &amp; entrypoints. By default, you usally want to do:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">ndstool -c game.nds -7 arm7/arm7.bin -9 arm9/arm9.bin -r7 0x02380000 -e7 0x02380000 -r9 0x02004000 -e9 0x02004000</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Edit: Yeah, i guess somewhere along the lines they decided(or accidently?) changed the ndstool defaults to be different than the ndslib defaults</span><span class="gensmall"><br/><br/>Last edited by josath on Sat May 14, 2005 2:55 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#42699 - Pacifist - Sat May 14, 2005 2:52 am</h4>
    <div class="postbody"><span class="postbody">holy crap that worked.
<br/>
<br/>
I assumed since the offsets where marked as optional in the tool's help they weren't neccesary.
<br/>
<br/>
I wouldn't have known what to set them to anyway.
<br/>
<br/>
thanks josath, big help!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42710 - Darkain - Sat May 14, 2005 3:39 am</h4>
    <div class="postbody"><span class="postbody">the reason why things probably arent working now, is because the ARM7 code now defaults to 0x03800000 if you dont specify a value for it.  this is actually recomended, as it keeps the ARM7 out of main RAM, so it wont use the bus.  (you need latest crt0 and linkscripts for this tho)<br/>_________________<br/>-=- Darkain Dragoon -=-
<br/>
<a class="postlink" href="http://www.darkain.com" target="_blank">http://www.darkain.com</a>
<br/>
<a class="postlink" href="http://ds.darkain.com/hack" target="_blank">DarkStar</a> for <a class="postlink" href="http://ds.darkain.com" target="_blank">Nintendo DS</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
