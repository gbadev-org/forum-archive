<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>glDepthMask(), glDepthRange() and glDisable(GL_DEPTH_TEST)? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > glDepthMask(), glDepthRange() and glDisable(GL_DEPTH_TEST)?</h2>
<div id="posts">
<div class="post">
    <h4>#140534 - hi2u - Mon Sep 17, 2007 7:22 am</h4>
    <div class="postbody"><span class="postbody">Does either have any equivalence in libnds?<br/>_________________<br/><a class="postlink" href="http://img101.imageshack.us/img101/4064/1184503265197kz4.gif" target="_blank">hi2u</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141009 - hi2u - Fri Sep 21, 2007 8:00 am</h4>
    <div class="postbody"><span class="postbody">Nobody knows? :/
<br/>
<br/>
Well, perhaps someone can help me out anyway; I'm creating a skybox.
<br/>
<br/>
Thankful for help.
<br/>
<br/>
Edit: I forgot to search the forums before I asked. Seems like I'm out of luck.<br/>_________________<br/><a class="postlink" href="http://img101.imageshack.us/img101/4064/1184503265197kz4.gif" target="_blank">hi2u</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141011 - simonjhall - Fri Sep 21, 2007 8:11 am</h4>
    <div class="postbody"><span class="postbody">From personal experience, I've found the DS Z-buffer a bit funky to use, since I don't think there is one. However you do get Z sorting instead, which is pretty similar.
<br/>
<br/>
Stuff:
<br/>
- your depth range is set up through glPerspective, ie setting of the near and far clip planes
<br/>
- you can either use Z or W sorting to control the visiblity of your triangles, but there's no option to turn off Z/W sorting (99% sure)
<br/>
- there's a glClearDepth function
<br/>
- I don't think you can control depth writes with a mask
<br/>
<br/>
Anyone with more experience wanna chime in?<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141016 - kusma - Fri Sep 21, 2007 9:43 am</h4>
    <div class="postbody"><span class="postbody">I don't have more experience, but it seems to me that flags to SWAP_BUFFERS control z-buffering and sorting (see <a href="http://nocash.emubase.de/gbatek.htm#ds3ddisplaycontrol" target="_blank">http://nocash.emubase.de/gbatek.htm#ds3ddisplaycontrol</a> for more details.
<br/>
). I don't quite understand why the sorting is documented to be on the y-axis though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141017 - simonjhall - Fri Sep 21, 2007 9:51 am</h4>
    <div class="postbody"><span class="postbody">That Y sorting gives a complete mess for me, so I just avoid it!
<br/>
I use W sorting, and that seems to work ok (even with orthographic projections).
<br/>
<br/>
It'd be nice to work professionally on the DS for a bit, get the hardware manuals, read them cover to cover and go "oh right! NOW it makes sense!"
<br/>
...don't see that happening any time soon though :-)<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141038 - tepples - Fri Sep 21, 2007 12:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">It'd be nice to work professionally on the DS for a bit, get the hardware manuals, read them cover to cover and go "oh right! NOW it makes sense!"
<br/>
...don't see that happening any time soon though :-)</td> </tr></table><span class="postbody">
<br/>
And watch the non-disclosure agreement kill your chances of homebrewing for any Nintendo platform in the future. That's the impression I got when I interviewed with the company that made <span style="font-style: italic">BreakThru!</span> for Game Boy. It's enough to drive people to GP2X or Windows Mobile. And the impression I got on the nesdev mailing list from a developer who worked on <span style="font-style: italic">The Three Stooges</span> was that Nintendo's NES manuals aren't nearly as detailed as the manuals that homebrewers have come up with, especially with regard to some of the 2D graphics corner cases that later games rely on.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
