<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Question - Booting? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Question - Booting?</h2>
<div id="posts">
<div class="post">
    <h4>#167827 - Nitto - Mon Mar 30, 2009 7:28 am</h4>
    <div class="postbody"><span class="postbody">Using devkitPro,C/C++ or ASM is there a way that I could boot an ROM or NDS if I could access it off a drive like an sd card (I mean programing wise)?
<br/>
<br/>
Thanks in Advance, Nitto
<br/>
<br/>
PostScript: This is my first post.<br/>_________________<br/>~Simplicity is what counts but so does design</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167828 - Dwedit - Mon Mar 30, 2009 7:46 am</h4>
    <div class="postbody"><span class="postbody">You can always load files and jump to them, provided you follow the file format.
<br/>
<br/>
If you are intending to run commercial games, those requires lots of complicated hacking.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167835 - Nitto - Mon Mar 30, 2009 4:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">You can always load files and jump to them, provided you follow the file format.
<br/>
<br/>
If you are intending to run commercial games, those requires lots of complicated hacking.</td> </tr></table><span class="postbody">
<br/>
<br/>
Yea I was reading up bit and found that I get a return address and then jump to the others and then it comes back to the address I specified. I also noticed that getting all the files corrupts the stack.
<br/>
<br/>
So:
<br/>
1. How would I go about with commercial roms? Should I check passme source?
<br/>
2. How could I load all the files into an array without corrupting the stack, and to "Hack" for commercial roms were could I look?<br/>_________________<br/>~Simplicity is what counts but so does design</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167837 - zzo38computer - Mon Mar 30, 2009 5:21 pm</h4>
    <div class="postbody"><span class="postbody">If you want to run from the DS card you can check the FWNITRO source-codes.<br/>_________________<br/><span style="font-weight: bold">Important:</span> Please send messages about FWNITRO to the public forum, not privately to me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167842 - Nitto - Mon Mar 30, 2009 11:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>zzo38computer wrote:</b></span></td> </tr> <tr> <td class="quote">If you want to run from the DS card you can check the FWNITRO source-codes.</td> </tr></table><span class="postbody">
<br/>
<br/>
Is there a way I could load it of an SD card? Ie: No flashing my firmware just using some code to boot of a chip?
<br/>
<br/>
And I am getting mix reviews here saying it flashes the firmware.<br/>_________________<br/>~Simplicity is what counts but so does design</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167843 - Nitto - Tue Mar 31, 2009 1:55 am</h4>
    <div class="postbody"><span class="postbody">Could I read a file lets say:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
char* readWholeFile(const char * filename)
<br/>
{
<br/>
   //Open file
<br/>
   FILE* dl = NULL;
<br/>
   dl = fopen(filename, "r");
<br/>
   
<br/>
   //Find file size
<br/>
   fseek(dl , 0 , SEEK_END);
<br/>
   int dlTotalBytes = ftell(dl);
<br/>
   rewind(dl);
<br/>
<br/>
   //allocate memory to contain the whole file:
<br/>
   char* fileBuffer = (char*)malloc(dlTotalBytes);      
<br/>
   int result = fread(fileBuffer,1,dlTotalBytes,dl);
<br/>
<br/>
   //Something went wrong? Free the memory.
<br/>
   if (result != dlTotalBytes)
<br/>
   {
<br/>
      free(fileBuffer);
<br/>
      fileBuffer = NULL;
<br/>
   }
<br/>
<br/>
   //Close and return
<br/>
   fclose(dl);   
<br/>
   return fileBuffer;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Thus reading it off the sd card, but My question is how could I link this to a custom built card based of pass-me? Ie: A chip, then sd input?<br/>_________________<br/>~Simplicity is what counts but so does design</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168066 - silent_code - Wed Apr 08, 2009 11:18 pm</h4>
    <div class="postbody"><span class="postbody">Please read the forum rules, where you will see that talking about software piracy (running ROMs of commercial games) is a thing we don't do here.
<br/>
Thanks.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168107 - Nitto - Fri Apr 10, 2009 8:33 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">Please read the forum rules, where you will see that talking about software piracy (running ROMs of commercial games) is a thing we don't do here.
<br/>
Thanks.</td> </tr></table><span class="postbody">
<br/>
<br/>
I am trying to boot home brew o.o - like Nitro<br/>_________________<br/>~Simplicity is what counts but so does design</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168108 - Mighty Max - Fri Apr 10, 2009 8:40 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Nitto wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I am trying to boot home brew o.o - like Nitro</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Nitto wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
So:
<br/>
1. How would I go about with commercial roms? Should I check passme source? </td> </tr></table><span class="postbody">
<br/>
So that question is done?
<br/>
<br/>
For the other cases, there are some threads on that already. Do a search and be presented with several approaches.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168109 - Nitto - Fri Apr 10, 2009 8:44 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mighty Max wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Nitto wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I am trying to boot home brew o.o - like Nitro</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Nitto wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
So:
<br/>
1. How would I go about with commercial roms? Should I check passme source? </td> </tr></table><span class="postbody">
<br/>
So that question is done?
<br/>
<br/>
For the other cases, there are some threads on that already. Do a search and be presented with several approaches.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I know I will have to load the file, so I wrote a simplistic approach to micro sd. I then will load this file, that will then load some other file (.nds) then load it into memory and execute.
<br/>
<br/>
And I stopped with commercial roms due to the fact that there will be protection.<br/>_________________<br/>~Simplicity is what counts but so does design</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168114 - spinal_cord - Fri Apr 10, 2009 12:55 pm</h4>
    <div class="postbody"><span class="postbody">Chishm has made a homebrew loader, the source is here in the forum somewhere, maybe that can help you?
<br/>
<br/>
[edit] there is a version of his loader on his <a class="postlink" href="http://chishm.drunkencoders.com/tuna-vids/index.html" target="_blank">tunavids page</a>[/edit]<br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168128 - Nitto - Fri Apr 10, 2009 5:35 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>spinal_cord wrote:</b></span></td> </tr> <tr> <td class="quote">Chishm has made a homebrew loader, the source is here in the forum somewhere, maybe that can help you?
<br/>
<br/>
[edit] there is a version of his loader on his <a class="postlink" href="http://chishm.drunkencoders.com/tuna-vids/index.html" target="_blank">tunavids page</a>[/edit]</td> </tr></table><span class="postbody">
<br/>
<br/>
Well I had the loading done: <a href="http://forum.gbadev.org/viewtopic.php?p=168106#168106" target="_blank">http://forum.gbadev.org/viewtopic.php?p=168106#168106</a><br/>_________________<br/>~Simplicity is what counts but so does design</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
