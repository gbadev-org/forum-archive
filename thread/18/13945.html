<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Crash problems (touchscreen & keys not responding) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Crash problems (touchscreen & keys not responding)</h2>
<div id="posts">
<div class="post">
    <h4>#137902 - melw - Fri Aug 17, 2007 8:21 am</h4>
    <div class="postbody"><span class="postbody">Ok, this is a bit of needle in the haystack approach - but I welcome anyways educated guesses what might be the cause of following behaviour:
<br/>
<br/>
After a while (5-30 minutes), running a DS application, the touchscreen stops responding. However, it's typical that the keys do respond still after this for a while, until keypresses are also disregarded. I haven't been able to find a single spot where this happens, as it's rather linked with how long the application has been running than where the crash occurs.
<br/>
<br/>
My personal guess: Something wrong with the ARM7/ARM9 inter-communication? The application uses FIFO for sounds and WiFi, which is one possible source of bugs, although I've had this bug also when not using network nor sounds at all. The keys/touchscreen code is pretty much straight from the nds combined template example.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137905 - PypeBros - Fri Aug 17, 2007 8:58 am</h4>
    <div class="postbody"><span class="postbody">Afaik, the kind of weird crash you describe is usually due to memory management errors (freeing blocks twice, following NULL pointers, array overflows, etc).
<br/>
The first thing you can do to find out is to install the defaultExceptionHandler() soon enough in your program. If rather than hanging, your program simply stops with a guru-meditation red screen, track what's going wrong.
<br/>
<br/>
If you really suspect something wrong with the 7-o-9 FIFO, maybe you can rewrite the ARM7 side so that e.g. it reset its state when some special key combo is detected. Still, most of the time, ARM9 doesn't wait for ARM7 so that shouldn't have much impact.<br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138002 - melw - Sat Aug 18, 2007 10:30 am</h4>
    <div class="postbody"><span class="postbody">Hmm. Funny thing is that even with defaultExceptionHandler() I never get the guru meditation screen. Further info: Also sounds stop playing shortly before a complete "crash".
<br/>
<br/>
I'll go dig bit deeper on how to debug effectively on DS - that side is still unknown territory for me.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
