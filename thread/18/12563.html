<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>[GL] Vertex arrays and .BSP quake 3 maps - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > [GL] Vertex arrays and .BSP quake 3 maps</h2>
<div id="posts">
<div class="post">
    <h4>#119816 - efegea - Mon Feb 26, 2007 5:23 pm</h4>
    <div class="postbody"><span class="postbody">Aren't vertex arrays supported on libnds' videoGL? If not (as I thought) is there any reason for them not been implemented? 
<br/>
<br/>
I'm coding a .BSP (quake 3 maps, not the BSP trees) map loader but need vertex arrays to pass all the vertex data.
<br/>
<br/>
Has anyone here coded a bsp loader for the ds? 
<br/>
<br/>
Do you know another map alternative instead of quake 3 maps? I still prefer the bsp but if it's imposible to do, I'll try another format. I'll subdivide it using an octree. 
<br/>
<br/>
My project a multi-platform 3D engine (currently it's working on linux and GP2X,when finished I'll port to windows,nds,dreamcast. It's made abstract enought to make easy the porting), and with it develop a survival horror + rpg game (something like parasite eve, but with a silent hill ambientation) But the 3D engine must support different kind of genres, not only survival horror, so I need a map format that is suitable for all of them, what do you think? Is better to develop my own format? any tips?
<br/>
<br/>
EDIT: and a way to do something similar to vertex arrays but without videoGL, calling directly the hardware?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#119834 - shash - Mon Feb 26, 2007 7:57 pm</h4>
    <div class="postbody"><span class="postbody">I coded a Quake3 map loader and renderer for the DS a while back, and did the vertex send in inmediate mode, which is kind of a hack, I know. Probably, the best way would be to pack everything you can as display lists (for example, bezier surfaces can be easily done like this, the rest might be a bit harder), and then send them to the DS through DMA.
<br/>
<br/>
Even if in inmediate mode, converting the vertex, texture coord and visibility data to fixed point got it rendering quite fast (55-60 constant fps) for a two day project. Next that I should do is convert all data to a proper format: lightmaps, for example, are now used almost in their original format (128x128x2 bytes per lightmap!), and later render everything in two passes, a diffuse pass, and later blend it with a lightmap pass.<br/>_________________<br/><a href="http://shashemudev.blogspot.com" target="_blank">http://shashemudev.blogspot.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
