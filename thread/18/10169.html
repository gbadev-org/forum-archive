<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Bank question (2D & 3D) [solved] - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Bank question (2D & 3D) [solved]</h2>
<div id="posts">
<div class="post">
    <h4>#90548 - Valmond - Fri Jun 30, 2006 7:29 pm</h4>
    <div class="postbody"><span class="postbody">Hi !
<br/>
<br/>
Just a question as my prog. works :p
<br/>
<br/>
I'v done a switcher so that I can switch between 2 2D-'Text' modes and a 2D 'text' main + 3D sub mode.
<br/>
<br/>
I use banks A,B,C and D for 2D, and VRAM_A_TEXTURE for 3D-textures.
<br/>
<br/>
The 2D is nothing fancy and should be 'OK', the 3D works like this :
<br/>
<br/>
I have some data that I convert (haven't got the time to write a converter and
<br/>
been too lazy to get a free one) on the fly into some mallocated memory
<br/>
then I use glTexImage2D(...) and then I free up my mallocated mem.
<br/>
<br/>
This I do only once, Not every time I switch state.
<br/>
<br/>
[EDIT] just to clairify, if I do this every time, it works 4 times, then
<br/>
the mesh is only colored, not textured, in emu &amp; hardware[/EDIT]
<br/>
<br/>
Well, it works (I'v tested a lot but this is the only thing that works), but
<br/>
shouldn't the data VRAM_A_TEXTURE be overwritten by
<br/>
VRAM_A_MAIN_BG (or something else) ?
<br/>
<br/>
Shouldn't I free up the texture(I bet I should) when leaving 3D and/or how can I do that ?
<br/>
<br/>
I'm a noob with opengl BTW :p
<br/>
<br/>
<br/>
<br/>
Thanks for your time :)
<br/>
<br/>
/Valmond</span><span class="gensmall"><br/><br/>Last edited by Valmond on Sun Jul 02, 2006 11:28 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#90780 - Valmond - Sun Jul 02, 2006 11:27 am</h4>
    <div class="postbody"><span class="postbody">Found it :p
<br/>
<br/>
glResetTextures();
<br/>
<br/>
/Valmond</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
