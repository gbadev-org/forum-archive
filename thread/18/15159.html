<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>lost with file system libs - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > lost with file system libs</h2>
<div id="posts">
<div class="post">
    <h4>#152139 - alcoran - Mon Mar 10, 2008 4:49 pm</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
<br/>
I'm beginner in nds dev and I've followed some tutorial <a href="http://www.double.co.nz/nintendo_ds/nds_develop6.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop6.html</a> , and for filesystem, this tutorial advise to use gbfs. It runs well on emulator, but i have problem when running the same code in the nds device (GBFS_FILE is not found, find_first_gbfs_file returns null). I've checked on this forum, didn't found a solution to my problem, it seems all is done right. I saw gbfs only run on one slot, may be i used the wrong one?
<br/>
<br/>
Now i see there are some other choices for filesystem, but i would like to avoid redoing again and again my code because of a wrong file system choice.
<br/>
<br/>
i'd like a file system that works with emulator and ds device (not necessary external file, reading file embbeded to the .nds file is ok, even preferred, as gbfs do), and convenient to use. What is the best choice today?
<br/>
<br/>
thanks you for your help :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152158 - josath - Mon Mar 10, 2008 9:10 pm</h4>
    <div class="postbody"><span class="postbody">The most compatible &amp; easiest to get going with is to use libfat. The only downside is that it is designed mostly for reading external files, not files embedded in the NDS. To use libfat, basically you follow these steps:
<br/>
1. include '-lfat' in your makefile
<br/>
2. #include &lt;fat.h&gt; in your .cpp file
<br/>
3. "int result = fatInitDefault(); // 1 = success"
<br/>
4. Use standard C file I/O functions like fopen, fread, fwrite, feof, ... many places explain how to use these
<br/>
<br/>
Later, if you want all your data contained in the .nds file, there are ways to handle this, but it takes a little more work, so I'd suggest starting with libfat.
<br/>
<br/>
PS: The doublec tutorials are unfortunately highly outdated. GBFS is pretty pointless these days on the DS, since it only works on slot-2 devices with RAM, which happen to copy the .nds file to the RAM before booting.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152163 - alcoran - Mon Mar 10, 2008 10:28 pm</h4>
    <div class="postbody"><span class="postbody">Hi Josath
<br/>
<br/>
Thank you for help and explanation, so i'll go for this library.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
