<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Invalid preprocessing directive #using - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Invalid preprocessing directive #using</h2>
<div id="posts">
<div class="post">
    <h4>#75654 - Nuja - Tue Mar 14, 2006 11:46 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
I a total noob, i'm trying to make my first homebrews but when i try to compile it I get the title of this topic as error. I think its a problem with the dll, but i don't know what.
<br/>
<br/>
my code:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "stdafx.h"
<br/>
#include &lt;PA9.h&gt;
<br/>
#define TAILLE 1000
<br/>
#using &lt;C:\\WINDOWS\\Microsoft.NET\\Framework\\v1.1.4322\\mscorlib.dll&gt;
<br/>
<br/>
using namespace System;
<br/>
int _tmain()
<br/>
{
<br/>
   PA_Init();
<br/>
   PA_InitVBL();
<br/>
   PA_InitText(1,2);
<br/>
   char mot[TAILLE] = "";
<br/>
   char ligne[TAILLE] = "";
<br/>
   char *str = "";
<br/>
   char res[TAILLE] = "";
<br/>
   PA_OutputSimpleText(1,1,1,"Veuillez saisir un mot ? traduire en anglais\n");
<br/>
PA_Init();    // Initializes PA_Lib
<br/>
PA_InitVBL(); // Initializes a standard VBL
<br/>
   
<br/>
PA_InitText(1, 0);  // Initialise the text system
<br/>
   
<br/>
PA_InitKeyboard(2); // Load the keyboard on background 2...
<br/>
   
<br/>
PA_KeyboardIn(20, 100); // This scrolls the keyboard from the bottom, until it's at the right position
<br/>
   
<br/>
PA_OutputSimpleText(1, 7, 10, "Text : "); 
<br/>
   
<br/>
s32 nletter = 0; // Next letter to right. 0 since no letters are there yet
<br/>
char letter = 0; // New letter to write.
<br/>
char text[TAILLE];  // This will be our text.
<br/>
   
<br/>
// Infinite loop to keep the program running
<br/>
while (1)
<br/>
{
<br/>
   // We'll check first for color changes, with A, B, and X
<br/>
   if (Pad.Newpress.A) PA_SetKeyboardColor(0, 1); // Blue and Red
<br/>
   if (Pad.Newpress.B) PA_SetKeyboardColor(1, 0); // Red and Blue
<br/>
   if (Pad.Newpress.X) PA_SetKeyboardColor(2, 1); // Green and Red
<br/>
   if (Pad.Newpress.Y) PA_SetKeyboardColor(0, 2); // Blue and Green
<br/>
      
<br/>
   letter = PA_CheckKeyboard();
<br/>
      
<br/>
   if (letter &gt; 31) { // there is a new letter
<br/>
      text[nletter] = letter;
<br/>
      nletter++;
<br/>
   }
<br/>
   else if ((letter == PA_BACKSPACE)&amp;&amp;nletter) { // Backspace pressed
<br/>
      nletter--;
<br/>
      text[nletter] = ' '; // Erase the last letter
<br/>
   }
<br/>
   else if (letter == '\n'){ // Enter pressed
<br/>
      text[nletter] = letter;
<br/>
      nletter++;
<br/>
   }
<br/>
      
<br/>
   mot=text;
<br/>
   PA_WaitForVBL();
<br/>
}   
<br/>
<br/>
   FILE *fichier = fopen("test.txt", "r");
<br/>
    if (fichier != NULL) {
<br/>
      while (!feof(fichier) || str == "") {
<br/>
        fgets(ligne, TAILLE, fichier);
<br/>
      strcpy (res, ligne);
<br/>
      str = strtok(ligne," ");
<br/>
      if (strcmp(mot, str) == 0) {
<br/>
         PA_OutputSimpleText(1, 8, 11, res); // Write the text
<br/>
      //printf("%s\n", res);
<br/>
      }
<br/>
      }
<br/>
      fclose(fichier);
<br/>
   }
<br/>
   return 0;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Thank in advance
<br/>
++</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75657 - waruwaru - Wed Mar 15, 2006 12:20 am</h4>
    <div class="postbody"><span class="postbody">Take out this line.  Not sure how you got a .net #using in your code....
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#using &lt;C:\\WINDOWS\\Microsoft.NET\\Framework\\v1.1.4322\\mscorlib.dll&gt;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The error message means that the compiler doesn't understand what a <span style="font-style: italic">#using</span> is...<br/>_________________<br/><a class="postlink" href="http://www.DSLua.com" target="_blank">DSLua - a scripting language for your DS!</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75658 - tepples - Wed Mar 15, 2006 12:28 am</h4>
    <div class="postbody"><span class="postbody">J++ is not Java, and neither is C# or J#. Likewise, #using is not C++; it's Microsoft Managed C++.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75700 - Nuja - Wed Mar 15, 2006 9:19 am</h4>
    <div class="postbody"><span class="postbody">If i remove it, i got lot of iostream error. I used visual c++ to make the c++ code then i modified it to make it run with emulator.
<br/>
here is a screenshot of errors:
<br/>
<br/>
<a href="http://img227.imageshack.us/img227/8979/compilingerror8lm.jpg" target="_blank">http://img227.imageshack.us/img227/8979/compilingerror8lm.jpg</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75704 - sasq - Wed Mar 15, 2006 10:23 am</h4>
    <div class="postbody"><span class="postbody">also take out stdafx.h and anything else that is windows-related (why is your main called _tmain() ? is it required by palib?)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75723 - tepples - Wed Mar 15, 2006 2:17 pm</h4>
    <div class="postbody"><span class="postbody">Keep it out. Fix most or all iostream errors by </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;iostream&gt;</td> </tr></table><span class="postbody"> and downloading Chishm's FAT library.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
