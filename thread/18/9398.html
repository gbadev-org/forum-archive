<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Division in interrupt service routines? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Division in interrupt service routines?</h2>
<div id="posts">
<div class="post">
    <h4>#81421 - tepples - Sat Apr 29, 2006 2:23 am</h4>
    <div class="postbody"><span class="postbody">DekuTree64 warned in <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=81417#81417" target="_blank">this post</a> that an interrupt service routine that uses the hardware division or square root registers should save and restore them. But what would one need division or square root for in an ISR, except possibly a vblank ISR? If for projection of coordinates for a "mode 7" floor, then that should be done in the mainline code and HDMA'd to the screen, right?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81422 - wintermute - Sat Apr 29, 2006 2:30 am</h4>
    <div class="postbody"><span class="postbody">Well sure but you may have noticed several people are attempting to implement threading. One of the reasons I used the bios divide rather than the hardware registers is that the former is interruptible but the latter is not. There are of course ways around this, like not allowing a context switch during a division operation but why make things more complex than they have to be?<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
