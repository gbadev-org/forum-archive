<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sound question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Sound question</h2>
<div id="posts">
<div class="post">
    <h4>#157910 - mfallon - Sun Jun 01, 2008 7:48 pm</h4>
    <div class="postbody"><span class="postbody">Is there a  way to tell when a sound is finished playing?  What I need to do is play several different combinations of short sounds (about 1 second each) back to back.  Keep in mind I am new to DS programming and don't really know what I'm doing yet.  I'm using libnds and I am building both arm9 and arm7 binaries though I'm not really doing anything with arm7 yet except playing around with it.
<br/>
<br/>
Thanks,
<br/>
<br/>
Matt</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157911 - Maxxie - Sun Jun 01, 2008 8:11 pm</h4>
    <div class="postbody"><span class="postbody">If you are working on the arm9 only, then keeping track of the current time is the only way. Via timers ( <a href="http://nocash.emubase.de/gbatek.htm#dstimers" target="_blank">http://nocash.emubase.de/gbatek.htm#dstimers</a> ) or regular breaks such as vblank.
<br/>
<br/>
If you are on the arm7 you can also poll the status bit in a sound channel's control register ( <a href="http://nocash.emubase.de/gbatek.htm#dssound" target="_blank">http://nocash.emubase.de/gbatek.htm#dssound</a> )
<br/>
<br/>
There is no callback generated from the sound hardware if a sound has finished playing if this is your question.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157912 - simonjhall - Sun Jun 01, 2008 8:57 pm</h4>
    <div class="postbody"><span class="postbody">Yeah you've got to do it via timers. However, if you're only playing short sounds you could just put them on the "one-shot" system so that even though you're not sure when it finishes you can be sure that it WILL finish at some point!<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157916 - mfallon - Sun Jun 01, 2008 9:52 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the input.  The control register solution was what I was looking for however using a timer on the arm9 seems to work well enough without having to use the arm7 making things simpler and I like simpler.
<br/>
<br/>
Thanks,
<br/>
<br/>
Matt</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#158072 - HyperHacker - Wed Jun 04, 2008 5:32 am</h4>
    <div class="postbody"><span class="postbody">I wonder if the sound capture would provide a way to tell about where it is? Fill a buffer with some known value that wouldn't be generated (something invalid, or some transformation of the contents of the input buffer) and read through it looking for that value as you record into it. Might even be a convenient status register or something.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
