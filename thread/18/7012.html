<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Saving SRAM Files - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Saving SRAM Files</h2>
<div id="posts">
<div class="post">
    <h4>#55569 - dannyboy - Thu Sep 29, 2005 3:02 pm</h4>
    <div class="postbody"><span class="postbody">Hey guys
<br/>
 just started deving for the DS and I'm wondering how do you save and read files to the SRAM? I've looked at Chris Doubles <a class="postlink" href="http://www.double.co.nz/nintendo_ds/nds_develop5.html" target="_blank">SRAM Tutorial</a> and it's easy enough. However that just writes to the SRAM as one big chunk. What I want is say, read and write "123" to test1.txt and "456" to test2.txt. How is that done?
<br/>
<br/>
Also, do fstream and iostream work? Here's some code I wrote for the computer, how would this translate to the DS?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;iostream&gt;
<br/>
#include &lt;string&gt;
<br/>
#include &lt;fstream.h&gt;
<br/>
<br/>
void WriteFile(const string Filename)
<br/>
{
<br/>
    ofstream fout(Filename.c_str());
<br/>
    if (fout) {
<br/>
        for(int i = 0; i &lt; 9; i++) {
<br/>
            fout &lt;&lt;  Age[i].Value;
<br/>
            fout &lt;&lt; endl;
<br/>
        }
<br/>
    }
<br/>
}
<br/>
<br/>
void Read(const string Filename)
<br/>
{
<br/>
    ifstream fin(Filename.c_str());
<br/>
    if (fin) {
<br/>
        for(int i = 0; i &lt; 9; i++) {
<br/>
            fin &gt;&gt; Age[i].Value;
<br/>
        }
<br/>
    }
<br/>
    fin.close();
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks in advance for any light you can shed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55571 - dXtr - Thu Sep 29, 2005 3:30 pm</h4>
    <div class="postbody"><span class="postbody">b\c there is no filesystem on the ds you can't read and write files. If you want to read files you have to create a virtual filesystem on the ROM and if you also want to write files it has to be created in RAM instead.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55583 - tepples - Thu Sep 29, 2005 6:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dannyboy wrote:</b></span></td> </tr> <tr> <td class="quote">What I want is say, read and write "123" to test1.txt and "456" to test2.txt. How is that done?</td> </tr></table><span class="postbody">
<br/>
With a GBA Movie Player and chishm's CompactFlash code.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55615 - Phan - Fri Sep 30, 2005 12:49 am</h4>
    <div class="postbody"><span class="postbody">dannyboy,
<br/>
<br/>
I recently wrote a small SRAM demo that is getting incorporated into my organizer software demo.
<br/>
<br/>
Here you go:
<br/>
<br/>
<a href="http://home.houston.rr.com/poffyprog/sram.c" target="_blank">http://home.houston.rr.com/poffyprog/sram.c</a>
<br/>
<br/>
<br/>
When you press the Left and Right D-pad buttons, it saves two different variables, then you press B and it assembles it into one big variable and then saves it to SRAM. Then by pressing L or R you can recall that data and its reformatted to whats specified. If you have any questions you can email me at po*f*fy@hou*st*on.rr.com (remove asterisks)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
