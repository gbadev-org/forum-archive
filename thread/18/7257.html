<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Non Square Textures - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Non Square Textures</h2>
<div id="posts">
<div class="post">
    <h4>#58317 - blaisef01 - Sat Oct 22, 2005 4:10 pm</h4>
    <div class="postbody"><span class="postbody">I seem to have problems loading in non-square textures.
<br/>
The textures just come out mangled. 
<br/>
I'm currently trying to load in a 128x32 texture.
<br/>
Is anyone else having the same problem if not, how did you solve it?
<br/>
<br/>
Cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58592 - dovoto - Mon Oct 24, 2005 7:40 pm</h4>
    <div class="postbody"><span class="postbody">On hardware or an emulator?  How is it garbled?<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58718 - blaisef01 - Tue Oct 25, 2005 3:47 pm</h4>
    <div class="postbody"><span class="postbody">It seems that my mangled textures are down to my own failure.
<br/>
I failed to realise that S and T coordinates seem to be flipped on the DS.
<br/>
So I have to rotate my image by -90 degrees before export
<br/>
and swap S and T values when using glTexCoord or whatever.
<br/>
<br/>
Cheers anyway Dovoto
<br/>
<br/>
Now if i can only understand the secret black art which is paletted textures on 3D objects....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58721 - dovoto - Tue Oct 25, 2005 3:57 pm</h4>
    <div class="postbody"><span class="postbody">It is possible that it is me that has them swapped and that you are correct.  It is amazing how close you can come to porting openGL without really knowing how it works :)<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58789 - czc - Wed Oct 26, 2005 1:34 am</h4>
    <div class="postbody"><span class="postbody">Hi blaisef01, i couldn't help you about your question, but now i see you figured it out
<br/>
I'll need your help on <a class="postlink" href="http://czc.free.fr/ds" target="_blank">Bright Star Catalogue</a>, i need to apply a small texture (a star) to a triangle.
<br/>
I just need to know what tool to use to convert that texture, and then, a paste of your triangle texturing code in that thread.
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58790 - dovoto - Wed Oct 26, 2005 1:37 am</h4>
    <div class="postbody"><span class="postbody">there is texuring example in the examples folder you should have grabbed when installing libnds/devkitpro.  It is under 3D nehe (I forget which lesson).  It uses a pcx file direcly for the texture (keep in mind the floating point version of glTexCoord only work on 128x128 textures and you should use the fixed point versions instead)<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#58791 - blaisef01 - Wed Oct 26, 2005 1:44 am</h4>
    <div class="postbody"><span class="postbody">Hi czc,
<br/>
<br/>
I used my own tool to convert textures a made up NDS format, at the moment though it only currently converts 32 bit tga textures. I need to work on that and try and get palleted textures working too.
<br/>
<br/>
Hit me up on msn @ <a href="mailto:blaisef01@hotmail.com">blaisef01@hotmail.com</a> and i'll explain it and chuck u a version of my exporter. I warn u though it's well ropey
<br/>
<br/>
Blaise</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#71211 - Dark Knight ez - Sat Feb 11, 2006 12:51 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dovoto wrote:</b></span></td> </tr> <tr> <td class="quote">there is texuring example in the examples folder you should have grabbed when installing libnds/devkitpro.  It is under 3D nehe (I forget which lesson).  It uses a pcx file direcly for the texture (keep in mind the floating point version of glTexCoord only work on 128x128 textures and you should use the fixed point versions instead)</td> </tr></table><span class="postbody">
<br/>
Sorry for bringing up an old topic, but this is the proper place to ask my question, I believe.
<br/>
I've been trying to get nehe's lesson06 example to get to work with different sized textures as well, but I can not get it to work with the fixed point version of glTexCoord.
<br/>
I replaced "glTexCoord2f" with "glTexCoord2f32" and made the arguments present in those function calls wrapped in a "floattof32(...)" so to speak.
<br/>
<br/>
With the fixed point version of glTexCoord, I can see the cube only when I set the size of the texture used (in the function call glTexImage2D) to 128x128, but then it is only displayed as a blue cube it seems without any form of texture.
<br/>
Is there an example available which I could check out on how to get different sized textures to work?
<br/>
<br/>
Btw, I did get my own 128x128 texture working with the floating point version of glTextCoord, so I'm pretty sure it's got nothing to do with a faulty pcx-file or the likes.
<br/>
<br/>
<br/>
Oh, and one more question... is there a more elegent way to use fixed point values then by converting from a float? I have never used fixed point values before, and upon reading some information regarding this, it seems the "dot" is imaginary, so I haven't got a clue how to use it properly without using a function which uses another type and converts it to fixed point.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#71214 - tepples - Sat Feb 11, 2006 1:48 am</h4>
    <div class="postbody"><span class="postbody">If the function to convert from float to fixed is marked static inline and <a class="postlink" href="http://www.delorie.com/gnu/docs/gcc/gcc_55.html" target="_blank">__attribute__((const))</a>, then the compiler will convert them at compile time if possible.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#71216 - ishraam - Sat Feb 11, 2006 2:40 am</h4>
    <div class="postbody"><span class="postbody">This leads me to other tricky questions : 
<br/>
1. is it possible to store fixed point values in a binary file? 
<br/>
2. And then, is it possible to take a binary file full of floats (mesh data e.g.) and convert the data to fixed point format, and then store it to another file ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#71217 - josath - Sat Feb 11, 2006 3:00 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ishraam wrote:</b></span></td> </tr> <tr> <td class="quote">This leads me to other tricky questions : 
<br/>
1. is it possible to store fixed point values in a binary file? 
<br/>
2. And then, is it possible to take a binary file full of floats (mesh data e.g.) and convert the data to fixed point format, and then store it to another file ?</td> </tr></table><span class="postbody">
<br/>
1. yes 
<br/>
2. yes 
<br/>
<br/>
it is actually pretty simple if you know how to read and write to files. depends on how complicated the file formats are, and if you can make up your own, or you have to follow some standard</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
