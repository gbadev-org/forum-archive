<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Linking Problem - Undefined Reference - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Linking Problem - Undefined Reference</h2>
<div id="posts">
<div class="post">
    <h4>#54927 - byg - Fri Sep 23, 2005 6:02 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I'm hoping someone can help me out here. I've set up the DS toolchain using the devkitPro Windows Installer (v1.0.9). Everything installed ok. Next, I was looking at doublec's great tutorials at <a class="postlink" href="http://www.double.co.nz/nintendo_ds/" target="_blank">http://www.double.co.nz/nintendo_ds/</a>, but when trying to compile the demo1 sample I get the following errors:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
arm-elf-g++ -g -mthumb-interwork -mno-fpu -specs=ds_arm9.specs arm9_main.o -L/C/dev/tools/devkitPro/libnds/lib -lnds9 -o arm9.elf
<br/>
c:/dev/tools/devkitpro/devkitarm/bin/../lib/gcc/arm-elf/4.0.1/../../../../arm-elf/lib/interwork/
<br/>
ds_arm9_crt0.o: In function `CIDLoop':
<br/>
ds_arm9_crt0.s:(.init+0x1f4): undefined reference to `fake_heap_end'
<br/>
arm9_main.o: In function `main':
<br/>
C:\dev\consoles\nds\src\demos\demo1/arm9_main.cpp:24: undefined reference to `puts'
<br/>
C:\dev\consoles\nds\src\demos\demo1/arm9_main.cpp:28: undefined reference to `printf'
<br/>
C:\dev\consoles\nds\src\demos\demo1/arm9_main.cpp:29: undefined reference to `printf'
<br/>
C:\dev\consoles\nds\src\demos\demo1/arm9_main.cpp:30: undefined reference to `printf'
<br/>
c:/dev/tools/devkitPro/libnds/lib\libnds9.a(console.o): In function `consoleInit':
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:292: undefined reference to `setvbuf'
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:293: undefined reference to `setvbuf'
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:256: undefined reference to `devoptab_list'
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:256: undefined reference to `_impure_ptr'
<br/>
c:/dev/tools/devkitPro/libnds/lib\libnds9.a(console.o): In function `con_write':
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:160: undefined reference to `sscanf'
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:165: undefined reference to `sscanf'
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:170: undefined reference to `sscanf'
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:156: undefined reference to `sscanf'
<br/>
c:/projects/devkitPro/libnds/source/arm9/console.c:175: undefined reference to `sscanf'
<br/>
c:/dev/tools/devkitPro/libnds/lib\libnds9.a(console.o):c:/projects/devkitPro/libnds/source/arm9/
<br/>
console.c:152: more undefined references to `sscanf' follow
<br/>
make: *** [arm9.elf] Error 1
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I get very similar errors when trying to compile other sample code too. I've tried everything I can think of to fix this (reinstalling the toolchain, installing previous versions of libnds etc), but can't work my way around it. I've also searched these forums but couldn't find a solution. If anyone has any suggestions or a fix please let me know. I cannot wait to start dev'ing on the DS and so am willing to try almost anything!
<br/>
<br/>
Thanks in advance.
<br/>
<br/>
Byg<br/>_________________<br/><span style="font-weight: bold">Modasi Games</span>
<br/>
<a class="postlink" href="http://www.modasi.com/" target="_blank">www.modasi.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54931 - wintermute - Fri Sep 23, 2005 6:22 pm</h4>
    <div class="postbody"><span class="postbody">looks like you managed to get the early broken r16.
<br/>
<br/>
If you downloaded r16, go get r16a. If you used the installer use update.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54947 - byg - Fri Sep 23, 2005 7:35 pm</h4>
    <div class="postbody"><span class="postbody">wintermute,
<br/>
<br/>
Thanks! I thought that was one of the things I tried, but I guess in my confusion I didn't update correctly. The updater has now downloaded and installed r16a and it all looks good.
<br/>
<br/>
Thanks again.<br/>_________________<br/><span style="font-weight: bold">Modasi Games</span>
<br/>
<a class="postlink" href="http://www.modasi.com/" target="_blank">www.modasi.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
