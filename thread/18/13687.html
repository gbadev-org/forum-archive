<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sprites and extended palettes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Sprites and extended palettes</h2>
<div id="posts">
<div class="post">
    <h4>#134658 - Twindruff - Sun Jul 15, 2007 11:35 am</h4>
    <div class="postbody"><span class="postbody">Hi, I've got one question:
<br/>
how can I use extended palettes for sprites ?
<br/>
I think it is possible because I saw VRAM E could be mapped to VRAM_E_OBJ_EXT_PALETTE for example (see <a href="http://www.dev-scene.com/NDS/NDS_Tutorials_VramTable" target="_blank">http://www.dev-scene.com/NDS/NDS_Tutorials_VramTable</a>) and NDeSmuME has <span style="font-style: italic">Main spr ExtPAL 0</span> in its palette viewer.
<br/>
But I can't find any doc on this :(
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134673 - knight0fdragon - Sun Jul 15, 2007 3:26 pm</h4>
    <div class="postbody"><span class="postbody">add this to your display_cd (set video mode) 
<br/>
<br/>
DISPLAY_SPR_EXT_PALETTE
<br/>
<br/>
<br/>
then set the vram to LCDC mode
<br/>
write pallete
<br/>
set the vram to VRAM_?_OBJ_EXT_PALETTE ? depends on bank
<br/>
<br/>
then set ATTR2_PALETTE(n) in attr2 of your spriteEntry, n can be from 0 - 15<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134679 - Twindruff - Sun Jul 15, 2007 6:07 pm</h4>
    <div class="postbody"><span class="postbody">Thanks :)
<br/>
But when I use the extended palette, I can't use the normal palette any more. I thought I could have had 32 palettes at the same time (normal + extended). There's no way to do that ?
<br/>
And if there no way to have both sets of palettes at the same time, what is the use of an extended palette ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134681 - tepples - Sun Jul 15, 2007 7:25 pm</h4>
    <div class="postbody"><span class="postbody">Extended palettes can be 255 colors in size, not 15.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134684 - Twindruff - Sun Jul 15, 2007 7:45 pm</h4>
    <div class="postbody"><span class="postbody">You mean, in extended palette mode I have 16 palettes of 256 colors ? Really cool :D
<br/>
Okay, I understand now the slider in dualis :p</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134701 - knight0fdragon - Mon Jul 16, 2007 12:11 am</h4>
    <div class="postbody"><span class="postbody">who said anything about extended palettes being 15 in size, what I was talking about is you can have 16 different palettes, and yes they can be 256 colors<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134743 - Twindruff - Mon Jul 16, 2007 9:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>knight0fdragon wrote:</b></span></td> </tr> <tr> <td class="quote">who said anything about extended palettes being 15 in size</td> </tr></table><span class="postbody">
<br/>
It was me I didn't know extended palettes had 256 colors :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134758 - Twindruff - Mon Jul 16, 2007 1:19 pm</h4>
    <div class="postbody"><span class="postbody">Another question, where did you learn how the extended palette mode worked ? I couldn't find any doc on google :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134775 - knight0fdragon - Mon Jul 16, 2007 5:25 pm</h4>
    <div class="postbody"><span class="postbody">forums and trial and error<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134925 - Twindruff - Wed Jul 18, 2007 12:56 pm</h4>
    <div class="postbody"><span class="postbody">ok :|
<br/>
In fact it is a bit documented in no$ <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#dsvideoextendedpalettes" target="_blank">gbatek</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135269 - LiraNuna - Sat Jul 21, 2007 5:49 pm</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://liranuna.drunkencoders.com/Files/extpaldemo.zip" target="_blank">Hope this helps</a>
<br/>
<br/>
The 'frightening' sprite union will be added on the next libnds update, afaik.<br/>_________________<br/>Private property.
<br/>
Violators will be shot, survivors will be shot again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135271 - Twindruff - Sat Jul 21, 2007 5:55 pm</h4>
    <div class="postbody"><span class="postbody">I already succeeded to make it work, but thank you it will help some other people for sure ;)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
