<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Backgrounds And Text? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Backgrounds And Text?</h2>
<div id="posts">
<div class="post">
    <h4>#100359 - DimondEdge - Sun Aug 27, 2006 3:07 pm</h4>
    <div class="postbody"><span class="postbody">Hello!
<br/>
<br/>
I'm trying to make a screen with the main and sub screens both displaying a background, 
<br/>
but when I use iprintf, the text dosen't appear! The backgrounds are both on
<br/>
BG3, main and sub. Can anyone tell me whats going on? 
<br/>
<br/>
Thanks!
<br/>
<br/>
DE</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100379 - knight0fdragon - Sun Aug 27, 2006 4:59 pm</h4>
    <div class="postbody"><span class="postbody">post some code, otherwise we are just blind men trying to find the corner of a round room lol<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100438 - DimondEdge - Sun Aug 27, 2006 10:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
   vramSetMainBanks(
<br/>
         VRAM_A_MAIN_BG_0x6000000,
<br/>
         VRAM_B_MAIN_BG_0x6020000,
<br/>
         VRAM_C_SUB_BG_0x6200000,
<br/>
         VRAM_D_LCD);
<br/>
   vramSetBankE(VRAM_E_MAIN_SPRITE);
<br/>
<br/>
   videoSetMode( MODE_5_2D |
<br/>
         DISPLAY_SPR_ACTIVE |
<br/>
         DISPLAY_BG3_ACTIVE |
<br/>
         DISPLAY_SPR_1D);
<br/>
   videoSetModeSub(MODE_5_2D | DISPLAY_BG3_ACTIVE);
<br/>
<br/>
    SUB_BG3_CR = BG_MAP_BASE(31);
<br/>
<br/>
   BG_PALETTE_SUB[255] = RGB15(31,31,31);rendered with color 255
<br/>
<br/>
   
<br/>
   consoleInitDefault((u16*)SCREEN_BASE_BLOCK_SUB(31), (u16*)CHAR_BASE_BLOCK_SUB(0), 16);
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100525 - Lick - Mon Aug 28, 2006 1:00 pm</h4>
    <div class="postbody"><span class="postbody">You might want to set the background color also. This is BG_PALETTE_SUB[0].<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100529 - DimondEdge - Mon Aug 28, 2006 2:18 pm</h4>
    <div class="postbody"><span class="postbody">Oh, yeah, <span style="font-style: italic">thats</span> what I forgot to say... I'm using images as backgrounds on both screens,
<br/>
normally I have no problem with text.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100532 - knight0fdragon - Mon Aug 28, 2006 2:25 pm</h4>
    <div class="postbody"><span class="postbody">BG_PALETTE_SUB[255] = RGB15(31,31,31) | BIT(15);rendered with color 255<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#100534 - Lick - Mon Aug 28, 2006 3:14 pm</h4>
    <div class="postbody"><span class="postbody">KoD, that's not needed for paletted modes. Only for 16-bit color mode. In paletted modes, the first entry (in this case 0) is transparent.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
