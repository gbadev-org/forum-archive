<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>weird touchscreen coordinate on new firmware ds - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > weird touchscreen coordinate on new firmware ds</h2>
<div id="posts">
<div class="post">
    <h4>#60249 - Onori - Tue Nov 08, 2005 12:14 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I've made a little game that use touchscreen using latest devkitpro/libnds, and all worked fine on a normal grey old firmware ds.
<br/>
now I've a new blue ds with new firmware, using passme2 etc...
<br/>
and I experiment strange thing with the touchscreen, I didn't modified my code, so it must came from the ds, or maybe new firmware.
<br/>
in the middle of the screen the coordinate seems ok, but when coming to the border of the screen (both top left right and bottom) the reading are incorrect.
<br/>
for example, If I go to the very left of the screen I don't get '0' but something like ~5.
<br/>
I use IPC-&gt;touchXpx and IPC-&gt;touchYpx for my reading.
<br/>
does anyone have had the same problem on new ds ?
<br/>
<br/>
and before you ask, yes I've correctly calibrated my touchscreen dozen time on both ds, it work the same
<br/>
I also tested my ds with an official game like meteos, and the cursor follow the stylus perfectly on the whole screen.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60266 - tepples - Tue Nov 08, 2005 3:05 pm</h4>
    <div class="postbody"><span class="postbody">I think it might have something to do with the fact that the stylus has a finite width. If its radius is 5 pixels, then you're not going to get closer to the left side of the screen than 5 pixels.
<br/>
<br/>
Have you tried moving a sprite under the stylus?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60271 - Onori - Tue Nov 08, 2005 3:43 pm</h4>
    <div class="postbody"><span class="postbody">Actually my program use a sprite moving under the stylus (I said like 5 pixels but it might be more, I don't have coordinate printed at screen)
<br/>
on the grey ds (tested 2 of them) the sprite is exactly under the stylus when coming to the border of the screen, and on the blue ds it is like 5 or 10 pixels shift to the opposite direction.
<br/>
like this:
<br/>
<a href="http://onori.free.fr/stylus.png">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60281 - nman - Tue Nov 08, 2005 4:57 pm</h4>
    <div class="postbody"><span class="postbody">Just calibrate the touch-screen in the options menu.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60282 - Onori - Tue Nov 08, 2005 5:05 pm</h4>
    <div class="postbody"><span class="postbody">go learn to read ...
<br/>
I already say that I calibrated the touchscreen dozen time, and actually it work with official game, so it IS calibrated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60283 - nman - Tue Nov 08, 2005 5:29 pm</h4>
    <div class="postbody"><span class="postbody">ok, sorry.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60291 - josath - Tue Nov 08, 2005 6:30 pm</h4>
    <div class="postbody"><span class="postbody">How do you know it is completely correct in official games? are there any games that read out the cursor position at the borders?
<br/>
<br/>
But really, there must be 500 topics that are exactly the same as this by now.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60306 - BLKGHOST - Tue Nov 08, 2005 9:07 pm</h4>
    <div class="postbody"><span class="postbody">But he's right...There is something strange with the reading. I never was able to get accurate reading from my blue DS but only with homebrew. Works fine with commercial games.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60343 - Onori - Wed Nov 09, 2005 10:09 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>josath wrote:</b></span></td> </tr> <tr> <td class="quote">How do you know it is completely correct in official games? are there any games that read out the cursor position at the borders?
<br/>
</td> </tr></table><span class="postbody">
<br/>
just play meteos, there is a cursor that follow the stylus on the whole screen.
<br/>
and on blue ds the cursor is perfectly under the stylus, whereas it is really not the case with a sprite following the stylus on a homebrew app, I also got the same problem with all other homebrew app.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60389 - ventilo - Wed Nov 09, 2005 10:01 pm</h4>
    <div class="postbody"><span class="postbody">hi, not sure if it will help but...
<br/>
<br/>
I had correct readings on my old gray DS until I installed a screen protector, now the readings are accurate near the center but very inaccurate near the borders (sprite under the stylus also). Maybe you installed a screen protector on your new DS ?<br/>_________________<br/>Firstname's Y.A.N.N..... yet another NDS noob :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60441 - Mollusk - Thu Nov 10, 2005 10:36 am</h4>
    <div class="postbody"><span class="postbody">for the screen protector, it has already been said quite a few times... and commercial games seem to have rather good coordinates, even with them, so that still means that the touch screen code will need some improvement... which is tough<br/>_________________<br/>PAlib official forum : <a class="postlink" href="http://www.palib.info" target="_blank">http://www.palib.info</a>
<br/>
PAlib official tutorials: <a class="postlink" href="http://www.palib.info/wiki" target="_blank">http://www.palib.info/wiki</a>
<br/>
Updates, help, code examples, tutorials, etc...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
