<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Profiling on the DS [Tutorial] - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Profiling on the DS [Tutorial]</h2>
<div id="posts">
<div class="post">
    <h4>#167782 - albinofrenchy - Fri Mar 27, 2009 9:37 am</h4>
    <div class="postbody"><span class="postbody">I've written a <a class="postlink" href="http://ands-pdf.blogspot.com/2009/03/profiling-on-ds.html" target="_blank">tutorial on profiling apps on the DS</a> using simonjhall's code given previously. 
<br/>
<br/>
If this is something people find helpful, I'll do more; probably one on the desmume-gdb tool for starters. Tell me what you think! For people who end up going through it and using it, please tell me how it could be better. If you got caught up somewhere, I can help that too.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167786 - hacker013 - Fri Mar 27, 2009 3:53 pm</h4>
    <div class="postbody"><span class="postbody">you are saying that you must rename resolve to resolve.py (.py is a pythom script) and then you say that you must install perl, .pl is a perl script :) The rest of the tutorial is very usable, I only don't get it how to use resolve.py.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167787 - elhobbs - Fri Mar 27, 2009 4:35 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">you are saying that you must rename resolve to resolve.py (.py is a pythom script) and then you say that you must install perl, .pl is a perl script :) The rest of the tutorial is very usable, I only don't get it how to use resolve.py.</td> </tr></table><span class="postbody">the extension on the script file does not matter - but, yes it is a perl script. go back and reread the tutorial it is in there.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167788 - elhobbs - Fri Mar 27, 2009 4:51 pm</h4>
    <div class="postbody"><span class="postbody">since cyg-profile can only keep track of so many functions and it adversely effects performance I like to have it only profile the code in certain certain files. so, I change the extension on the files I want to profile to be .clk.c and setup a special rule to compile them. I use the 'magic' makefiles provided by devkitpro so I just add the section to my projects arm9 makefile right after the ds_rules include like so</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">include $(DEVKITARM)/ds_rules
<br/>
<br/>
%.clk.o: %.clk.c
<br/>
   @echo $(notdir $&lt;)
<br/>
   $(CC) -MMD -MP -MF $(DEPSDIR)/$*.d $(CFLAGS) -finstrument-functions -mpoke-function-name -c $&lt; -o $@
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167789 - albinofrenchy - Fri Mar 27, 2009 5:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">since cyg-profile can only keep track of so many functions and it adversely effects performance I like to have it only profile the code in certain certain files. </td> </tr></table><span class="postbody">
<br/>
<br/>
Good tip! mind if I add it to the tutorial?[/quote]
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">you are saying that you must rename resolve to resolve.py (.py is a pythom script) and then you say that you must install perl, .pl is a perl script :) The rest of the tutorial is very usable, I only don't get it how to use resolve.py.</td> </tr></table><span class="postbody">
<br/>
<br/>
Good catch! It is a perl script; I'll change the extension. I got the py from the simonjhall post, but it could be just a typo there.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167790 - elhobbs - Fri Mar 27, 2009 5:24 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>albinofrenchy wrote:</b></span></td> </tr> <tr> <td class="quote">Good tip! mind if I add it to the tutorial?</td> </tr></table><span class="postbody">
<br/>
go for it</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
