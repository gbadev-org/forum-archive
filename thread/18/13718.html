<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Touch & Audio support on Emulators, help please - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Touch & Audio support on Emulators, help please</h2>
<div id="posts">
<div class="post">
    <h4>#135007 - jonnyhilly - Thu Jul 19, 2007 10:08 am</h4>
    <div class="postbody"><span class="postbody">Hi, just started some homebrew DS coding.
<br/>
and got screens and sprites setup OK, but I seem to be stuck with Touch and Audio.
<br/>
I have Yarr and NDeSmuME emulators....
<br/>
<br/>
My code runs fine in Yarr but not the NDeS
<br/>
The Devkitpro Touch demo runs fine in NDes, 
<br/>
...but not in Yarr (bottom screen is blank, and no touch input)
<br/>
Does Yarr support touch input ? should it just be mouse clicking on the window ? anything special I have to do to switch it on ?
<br/>
<br/>
The DevKitPro AUdio demo Runs fine on NDeS, and not correct on Yarr (top screen is white) but I dont hear any sound on either emu when I press buttons.
<br/>
Do these emulators support Audio ?
<br/>
<br/>
Are there any more reliable emulators than these two ?
<br/>
Any tips for making Touch input work (or the devkitpro touch demo) on Yarr ?
<br/>
<br/>
thanks
<br/>
J</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135012 - jetboy - Thu Jul 19, 2007 10:51 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>jonnyhilly wrote:</b></span></td> </tr> <tr> <td class="quote">Do these emulators support Audio ?</td> </tr></table><span class="postbody">
<br/>
<br/>
I dont know about the other one, but ensata does not support audio.<br/>_________________<br/>Colors! gallery -&gt; <a href="http://colors.collectingsmiles.com" target="_blank">http://colors.collectingsmiles.com</a>
<br/>
Any questions? Try <a href="http://colors.collectingsmiles.com/faq.php" target="_blank">http://colors.collectingsmiles.com/faq.php</a> first, or official forums <a href="http://forum.brombra.net" target="_blank">http://forum.brombra.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135018 - Sunray - Thu Jul 19, 2007 12:08 pm</h4>
    <div class="postbody"><span class="postbody">Try no$gba, the best emulator IMO (but slow in some cases, my game runs in 2 fps :).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135025 - chuckstudios - Thu Jul 19, 2007 1:57 pm</h4>
    <div class="postbody"><span class="postbody">If you are doing homebrew and not commercial coding, how do you have NITRO Ensata?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135027 - dualscreenman - Thu Jul 19, 2007 2:04 pm</h4>
    <div class="postbody"><span class="postbody">It was leaked at one point.<br/>_________________<br/></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dualscreenman wrote:</b></span></td> </tr> <tr> <td class="quote">What about Gaim DS? Gaim pretty much has support for all IM programs.</td> </tr></table><span class="postbody"> </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">"Goshdammit, the DS is not a Gaim-boy! It's a third pillar!"</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135034 - jonnyhilly - Thu Jul 19, 2007 4:54 pm</h4>
    <div class="postbody"><span class="postbody">"If you are doing homebrew and not commercial coding, how do you have NITRO Ensata?"
<br/>
<br/>
yeah, I just did a google search for NDS emulators and it was one of the ones that cropped up.
<br/>
<br/>
Thanks very much
<br/>
I just tried No$..... works very nice, with my code and Touch and audio works. :)
<br/>
Its also super fast compared to both other emulators.
<br/>
<br/>
The only apparent immediate issue is that my everything  only colors 0-15 appear to be drawn or something?
<br/>
none of my paletted EBG sprites draw to screen if the color is &gt;15
<br/>
Is there a setting for this ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135047 - calcprogrammer1 - Thu Jul 19, 2007 7:29 pm</h4>
    <div class="postbody"><span class="postbody">I use iDeaS, it works great from what I've tried, even the Metroid demo runs.<br/>_________________<br/>DS Firmware 1, Datel Games n' Music card / Chism's FW hacked GBA MP v2 CF
<br/>
<br/>
There's no place like 127.0.0.1.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135048 - Dwedit - Thu Jul 19, 2007 7:32 pm</h4>
    <div class="postbody"><span class="postbody">If it fails on nocash, but works on hardware, maybe send in a bug report.  Even if the programmer is completely unresponsive to emails, he still requests them.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135058 - jonnyhilly - Thu Jul 19, 2007 8:32 pm</h4>
    <div class="postbody"><span class="postbody">actually I had a thought about why some of the sprites dont show up.
<br/>
<br/>
My regular sprites use dma to copy the data to the rotation screen.
<br/>
(those show up ok)
<br/>
But my colored/(palette shifted) sprites use regular char by char copy with pointers to copy the graphics to the screen VRAM.....  and these don't show up on No$
<br/>
<br/>
I just had a thought that maybe you HAVE TO use DMA to write to vram on NDS?   or should I do something specific like halt interrupts or DMA before writing to VRAM with processor.
<br/>
<br/>
is this the case ?
<br/>
<br/>
if not then I'll check it again tonight, and maybe send a bug report as you suggest.
<br/>
<br/>
thanks guys</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135062 - elhobbs - Thu Jul 19, 2007 8:44 pm</h4>
    <div class="postbody"><span class="postbody">you need to do 16 bit writes to the vram. 8 bit writes are not supported except on banks C and D when they are owned by the the arm7.. or something like that</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135066 - jonnyhilly - Thu Jul 19, 2007 10:15 pm</h4>
    <div class="postbody"><span class="postbody">thanks elhobbs
<br/>
that explains it then
<br/>
<br/>
so that means No$ is emulating properly, and NDeSmuME is allowing me to do things I shouldn't be able to do.
<br/>
<br/>
its going to make sprite rendering and clipping a bummer though on 256 color EBG :(
<br/>
<br/>
<br/>
cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135087 - tepples - Fri Jul 20, 2007 4:12 am</h4>
    <div class="postbody"><span class="postbody">Sprite rendering can be done in hardware, you know ;-)<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135114 - jonnyhilly - Fri Jul 20, 2007 8:06 am</h4>
    <div class="postbody"><span class="postbody">yeah I know, thanks
<br/>
but I'm trying to print a bunch of japanese text on screen, I figured sprites were not a good way to do that.
<br/>
Are there enough sprites to fill the screen with arbitrary sized fonts ?
<br/>
10,12,16,18 dot pitch kanji fonts ?
<br/>
<br/>
I figured, that would be tricky to do with sprites, but easy with bitmap, and speed doesn't matter much.
<br/>
<br/>
The sprite routines for byte for pixed screen were trivial till I found out about the having to write 2 pixels at a time thing.
<br/>
<br/>
Talking of that.. it seems like the pointer does not need to be 2-byte aligned when reading and writing from vram ?
<br/>
is that correct ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135233 - tepples - Sat Jul 21, 2007 2:53 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>jonnyhilly wrote:</b></span></td> </tr> <tr> <td class="quote">but I'm trying to print a bunch of japanese text on screen, I figured sprites were not a good way to do that.
<br/>
Are there enough sprites to fill the screen with arbitrary sized fonts ?
<br/>
10,12,16,18 dot pitch kanji fonts ?</td> </tr></table><span class="postbody">
<br/>
For text, it might be worthwhile to consider drawing the glyphs to a 4-bit background. Yes, tiled VRAM is hard to get used to at first, but there are tricks to make it easy; the text engine of <a class="postlink" href="http://www.pineight.com/dx/RAC" target="_blank">RAC</a> demonstrates this. But if you go 16x16, you can cheat by loading each glyph into four contiguous tiles.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135236 - knight0fdragon - Sat Jul 21, 2007 5:25 am</h4>
    <div class="postbody"><span class="postbody">I would just like to point out that Yarr is not a new NDS emulator, it is the sound a pirate makes, shiver me timbers<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135237 - Dwedit - Sat Jul 21, 2007 5:30 am</h4>
    <div class="postbody"><span class="postbody">I believe the post was edited to include such yarr.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
