<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problems with 256*256 bitmap for 32*32 sprites - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Problems with 256*256 bitmap for 32*32 sprites</h2>
<div id="posts">
<div class="post">
    <h4>#97772 - iainprice - Fri Aug 11, 2006 1:56 pm</h4>
    <div class="postbody"><span class="postbody">I have a 256*256 bitmap. I use Usenti and convert it to a c file as a tiled image with palette, tile group 16*16. I then copy the image into my program:
<br/>
<br/>
	for(i = 0; i &lt; 32768; i++)
<br/>
		SPRITE_GFX[i] = spritesTiles[i];
<br/>
<br/>
but when I index into the image to allocate the sprites, it only goes half way across the 256*256 and then starts on the left-hand side again.....
<br/>
<br/>
<br/>
sprites[i].attribute[0] = ATTR0_COLOR_256 | ATTR0_SQUARE | ypos;
<br/>
sprites[i].attribute[1] = ATTR1_SIZE_32 | xpos;
<br/>
sprites[i].attribute[2] = ATTR2_ALPHA(1) | index;
<br/>
<br/>
where index is either 0, 8, 16 etc but it jumps to 128 for the next row 32 pixels down my 256*256...
<br/>
<br/>
Thius means I can only use 128*128 which is not many 32*32 sprites!
<br/>
<br/>
any ideas?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97777 - silent_code - Fri Aug 11, 2006 2:37 pm</h4>
    <div class="postbody"><span class="postbody">search the forum, there was a topic like "...sprite memory ...something.. at 128..." or something (not so) recently (like two months ago). good luck</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97791 - iainprice - Fri Aug 11, 2006 3:26 pm</h4>
    <div class="postbody"><span class="postbody">This is a new thread based on a previous one on 256*256 sprites..... the majority of the code is working but the 128*128 area is the only bit available.... :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97795 - Cearn - Fri Aug 11, 2006 4:08 pm</h4>
    <div class="postbody"><span class="postbody">Object VRAM is only 256x256 for 4bit objects. For 8bit objects the width is halved because each 8bit tile actually takes up two cells, so you have a effectively have a 128x256 area. So you can fit 4 32x32 objects next to each other here, and the next 'row' of objects starts at 128. 
<br/>
Note that this problem only occurs when you use 2D object mapping; in 1D, the indexing is simply object_index * tiles_in_object.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97814 - iainprice - Fri Aug 11, 2006 7:12 pm</h4>
    <div class="postbody"><span class="postbody">Thanks...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
