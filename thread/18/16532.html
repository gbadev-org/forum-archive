<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problems with hinge sleep with devkitProUpdater-1.4.10.exe - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Problems with hinge sleep with devkitProUpdater-1.4.10.exe</h2>
<div id="posts">
<div class="post">
    <h4>#167431 - Zapf_Bandit - Wed Mar 11, 2009 9:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167432 - Dwedit - Wed Mar 11, 2009 9:30 pm</h4>
    <div class="postbody"><span class="postbody">The newest devkitpro and libnds don't use a vcount handler on the ARM7 anymore, check out the new template program.
<br/>
<br/>
To get sleep mode working, you just make sure that the ARM7 initializes the FIFO routines and IRQs, then the library will take care of sleep mode with no additional code from you.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167433 - elhobbs - Wed Mar 11, 2009 9:42 pm</h4>
    <div class="postbody"><span class="postbody">inputGetAndSend already handles KEY_LID for sleeping. your code is probably conflicting. you may need to enable the sleep functionality from the arm9 if it is not enabled by default.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   fifoSendValue32(FIFO_PM, PM_REQ_SLEEP_ENABLE);
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167436 - Echo49 - Thu Mar 12, 2009 1:51 am</h4>
    <div class="postbody"><span class="postbody">If I have music and graphics running synced before I close the lid, after I open the lid the graphics falls behind by many frames (haven't timed it). I haven't looked into fixing this myself yet, but I was wondering if anyone knows why this is happening and if there is any way to fix it short of completely resyncing the music by seeking.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167441 - Zapf_Bandit - Thu Mar 12, 2009 4:57 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the info elhobbs... I feel really silly now ;-)
<br/>
<br/>
The new libnds does already have the sleep support in place.
<br/>
<br/>
I removed all my sleep code and then found that it worked 100% properly.
<br/>
<br/>
This is great news as I no longer need any custom arm7 code anymore.
<br/>
<br/>
Now I can happily use the default arm7 and have sound and music working. 
<br/>
<br/>
Hooray, this updated has got rid of a lot of my code and only took a day of debugging!
<br/>
<br/>
Thanks again for the help,
<br/>
Zapf Bandit</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
