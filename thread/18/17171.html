<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>What's wrong with my display list? (using glOrtho) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > What's wrong with my display list? (using glOrtho)</h2>
<div id="posts">
<div class="post">
    <h4>#173128 - gusano - Tue Mar 23, 2010 6:35 pm</h4>
    <div class="postbody"><span class="postbody">I'm trying to render a quad using a display list, but I'm seeing nothing... if I do:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glBegin();
<br/>
glTexCoord2f(u1, v1); glVertex3v16(x1,y1,z1);
<br/>
glTexCoord2f(u2, v2); glVertex3v16(x2,y2,z2)
<br/>
glTexCoord2f(u3, v3); glVertex3v16(x3,y3,z3)
<br/>
glTexCoord2f(u4, v4); glVertex3v16(x4,y4,z4)
<br/>
glEnd();
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
it works...
<br/>
<br/>
but if I use my display list:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
      u32 quad1[] = 
<br/>
      {
<br/>
         17,
<br/>
         FIFO_COMMAND_PACK(FIFO_BEGIN, FIFO_TEX_COORD, FIFO_VERTEX16, FIFO_VERTEX16),
<br/>
         GL_QUAD,
<br/>
         TEXTURE_PACK(floattot16(u0), floattot16(v0)),
<br/>
         VERTEX_PACK(x1, y1), VERTEX_PACK(z1,0),
<br/>
         FIFO_COMMAND_PACK(FIFO_TEX_COORD, FIFO_VERTEX16, FIFO_VERTEX16, FIFO_TEX_COORD),
<br/>
         TEXTURE_PACK(floattot16(u1), floattot16(v1)),
<br/>
         VERTEX_PACK(x2, y2), VERTEX_PACK(z2,0),
<br/>
         TEXTURE_PACK(floattot16(u2), floattot16(v2)),
<br/>
         FIFO_COMMAND_PACK(FIFO_VERTEX16, FIFO_VERTEX16, FIFO_TEX_COORD, FIFO_NOP),
<br/>
         VERTEX_PACK(x3, y3), VERTEX_PACK(z3,0),
<br/>
         TEXTURE_PACK(floattot16(u3), floattot16(v3)),
<br/>
         FIFO_COMMAND_PACK(FIFO_VERTEX16, FIFO_VERTEX16, FIFO_NOP, FIFO_NOP),
<br/>
         VERTEX_PACK(x4, y4), VERTEX_PACK(z4,0)
<br/>
      };
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
nothing is drawn... what could be wrong?
<br/>
<br/>
<br/>
EDIT: the tex coords are floats which is why im using floattot16... and the xyz's are already v16's...
<br/>
<br/>
EDIT 2: I've gotten a display list to work with a perspective projection, but not an orthographic projection... is this a known issue?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173143 - DiscoStew - Wed Mar 24, 2010 2:40 am</h4>
    <div class="postbody"><span class="postbody">Don't you only need one FIFO_VERTEX16 per pair of VERTEX_PACK?<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173157 - gusano - Wed Mar 24, 2010 3:33 pm</h4>
    <div class="postbody"><span class="postbody">You're right DiscoStew... only one FIFO_VERTEX16 is needed... but it still doesn't work... have you tried calling a display list using a projection created with glOrthof32() ? I tried changing the DisplayList example that comes with devkitpro to use an orthographic projection and I didn't see anything... is building a display list for approximately 10-40 quads that much faster than doing glBegin(GL_QUADS) ... glEnd() ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173159 - sverx - Wed Mar 24, 2010 3:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gusano wrote:</b></span></td> </tr> <tr> <td class="quote">I tried changing the DisplayList example that comes with devkitpro to use an orthographic projection and I didn't see anything.</td> </tr></table><span class="postbody">
<br/>
<br/>
The same with Textured_Quad, I did that one year ago, then I gave up trying orthographic projection.
<br/>
<br/>
Does somebody have a working example with orthographic projection?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
