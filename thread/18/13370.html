<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Helix mp3dec - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Helix mp3dec</h2>
<div id="posts">
<div class="post">
    <h4>#130673 - DVSoftware - Wed Jun 06, 2007 3:38 pm</h4>
    <div class="postbody"><span class="postbody">Sorry if i'm repeating a question, but i could not find what i need on this forum, so i'll ask.
<br/>
First, i couldn't find a link for helix mp3dec download on their website.
<br/>
Second, i need an advice and help on how to use it from my application (game) to stream mp3 file from fat. I'd like to use ARM7 to decode data because i don't think ARM9 can handle both mp3 decoding and game actions.
<br/>
Why mp3 you may ask? Well, i'm making a music game (something similar to guitar hero) where full songs should be played, and i don't want to lose quality on songs.
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130675 - kusma - Wed Jun 06, 2007 3:57 pm</h4>
    <div class="postbody"><span class="postbody">Why not use RAW audio instead of MP3, then? MP3s are lossy, you know...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130678 - DVSoftware - Wed Jun 06, 2007 4:25 pm</h4>
    <div class="postbody"><span class="postbody">raw audio is big. i didn't say that it needs to be lossless, mp3 is just fine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130690 - Dood77 - Wed Jun 06, 2007 6:11 pm</h4>
    <div class="postbody"><span class="postbody">You might wanna have a look at the thread entitled: Helix mp3 Decoder
<br/>
Its a little ways down the first page on DS development<br/>_________________<br/>If I use a term wrong or something then feel free to correct, I?m not much of a programmer.
<br/>
<span style="font-size: 9px; line-height: normal">
<br/>
Original DS Phat obtained on day of release + flashme v7
<br/>
Supercard: miniSD, Kingston 1GB, Kingston 2GB
<br/>
Ralink chipset PCI NIC
<br/>
</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130695 - DVSoftware - Wed Jun 06, 2007 7:40 pm</h4>
    <div class="postbody"><span class="postbody">i did, but again, i couldn't find download link (ok, maybe i'm stupid but i really can't find it)
<br/>
and second, i have no idea how to stream it</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130728 - DVSoftware - Thu Jun 07, 2007 2:51 am</h4>
    <div class="postbody"><span class="postbody">can anyone at least point me to the download link so i can experiment. Helix website is so damn confusing, under download there aren't any packages :/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130731 - DragonMinded - Thu Jun 07, 2007 5:33 am</h4>
    <div class="postbody"><span class="postbody">You have to check the decoder out of their CVS repository.<br/>_________________<br/>Enter the mind of the dragon.
<br/>
<br/>
<a href="http://dragonminded.blogspot.com" target="_blank">http://dragonminded.blogspot.com</a>
<br/>
<br/>
Seriously guys, how hard is it to simply TRY something yourself?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130775 - DVSoftware - Thu Jun 07, 2007 8:45 pm</h4>
    <div class="postbody"><span class="postbody">ok, i did download it now, but i can't get it to compile (i did change the makefile)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
arm-eabi-gcc -MMD -MP -MF /home/dvsoftware/devkitpro/mp3/arm7/build/polyphase.d -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math  -I/home/dvsoftware/devkitpro/mp3/arm7/include -I/home/dvsoftware/devkitpro/mp3/arm7/build -I/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/pub -I/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/pub/hxclib -I/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/pub/include -I/home/dvsoftware/devkitpro/libnds/include -I/home/dvsoftware/devkitpro/mp3/arm7/build -DARM7 -c /home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c -o polyphase.o
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c: In function 'xmp3_PolyphaseMono':
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:118: error: 'Word64' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:118: error: (Each undeclared identifier is reported only once
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:118: error: for each function it appears in.)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:118: error: expected ';' before 'sum1L'
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:120: error: 'rndVal' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:125: error: 'sum1L' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:127: warning: implicit declaration of function 'MADD64'
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:136: warning: implicit declaration of function 'SAR64'
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:161: error: 'sum2L' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c: In function 'xmp3_PolyphaseStereo':
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:231: error: 'Word64' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:231: error: expected ';' before 'sum1L'
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:233: error: 'rndVal' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:238: error: 'sum1L' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:238: error: 'sum1R' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:276: error: 'sum2L' undeclared (first use in this function)
<br/>
/home/dvsoftware/devkitpro/mp3/arm7/source/mp3/real/polyphase.c:277: error: 'sum2R' undeclared (first use in this function)
<br/>
make[2]: *** [polyphase.o] Error 1
<br/>
make[1]: *** [build] Error 2
<br/>
make[1]: Leaving directory `/home/dvsoftware/devkitpro/mp3/arm7'
<br/>
make: *** [arm7/mp3.elf] Error 2
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130793 - DragonMinded - Fri Jun 08, 2007 1:06 am</h4>
    <div class="postbody"><span class="postbody">Did you bother to make sure things were defined properly.  Just look at the right data type for word64 and the rest of those will be properly defined...<br/>_________________<br/>Enter the mind of the dragon.
<br/>
<br/>
<a href="http://dragonminded.blogspot.com" target="_blank">http://dragonminded.blogspot.com</a>
<br/>
<br/>
Seriously guys, how hard is it to simply TRY something yourself?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130795 - DVSoftware - Fri Jun 08, 2007 1:19 am</h4>
    <div class="postbody"><span class="postbody">yes i did, i even tried manually defining it, but then real/arm/*.s wouldn't compile :/
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">asmmisc.s
<br/>
arm-eabi-gcc -MMD -MP -MF /home/dvsoftware/devkitpro/mp3/arm9/build/asmmisc.d -x assemb  ler-with-cpp -g  -march=armv5te -mtune=arm946e-s -c /home/dvsoftware/devkitpro/mp3/arm9  /source/mp3/real/arm/asmmisc.s -o asmmisc.o
<br/>
/home/dvsoftware/devkitpro/mp3/arm9/source/mp3/real/arm/asmmisc.s:47:5: warning: no new  line at end of file
<br/>
/home/dvsoftware/devkitpro/mp3/arm9/source/mp3/real/arm/asmmisc.s: Assembler messages:
<br/>
/home/dvsoftware/devkitpro/mp3/arm9/source/mp3/real/arm/asmmisc.s:36: Error: bad instru  ction `area |.text|,CODE,READONLY'
<br/>
/home/dvsoftware/devkitpro/mp3/arm9/source/mp3/real/arm/asmmisc.s:38: Error: bad instru  ction `int xmp3_MULSHIFT32(int x,int y)'
<br/>
/home/dvsoftware/devkitpro/mp3/arm9/source/mp3/real/arm/asmmisc.s:40: Error: bad instru  ction `export xmp3_MULSHIFT32'
<br/>
/home/dvsoftware/devkitpro/mp3/arm9/source/mp3/real/arm/asmmisc.s:42: Error: bad instru  ction `xmp3_mulshift32'
<br/>
/home/dvsoftware/devkitpro/mp3/arm9/source/mp3/real/arm/asmmisc.s:47: Error: bad instru  ction `end'
<br/>
make[1]: *** [asmmisc.o] Error 1
<br/>
make: *** [build] Error 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
(Yes in the meantime i switched to arm9, to see if that's the problem, but no...)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130815 - tyraen - Fri Jun 08, 2007 12:13 pm</h4>
    <div class="postbody"><span class="postbody">I'm no expert, but could it be that there are some assembler instructions that aren't implemented in the DS ARM processor that the Helix assembly code expects?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130816 - DVSoftware - Fri Jun 08, 2007 12:49 pm</h4>
    <div class="postbody"><span class="postbody">ok, i figured it out, i just needed asmpoly_gcc.s without other .s files and without polyphase.c
<br/>
<br/>
now, i have to figure out how to playback mp3 from fat with this :D</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
