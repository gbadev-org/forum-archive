<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Retrieving Dir of Executable - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Retrieving Dir of Executable</h2>
<div id="posts">
<div class="post">
    <h4>#140535 - gamix - Mon Sep 17, 2007 7:48 am</h4>
    <div class="postbody"><span class="postbody">Simple questions. How can I retrieve the path of the current executable from libfat? Essentially I would like my program to save files in the current folder instead of the root, but I haven't found a way without changing directory to a named directory with "chdir". I also tried querying argv[ 0 ], but with no luck. 
<br/>
<br/>
I observed the behavior of many homebrew applications and they all seem to dump files on the root folder unless I specify a path explicitly ( e.g. ScummVM DS ).  I actually wonder if it is possible to do something like that, conssidering that this information should come from the device itself ( MK5-GIGA in my case ).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140536 - Sektor - Mon Sep 17, 2007 8:19 am</h4>
    <div class="postbody"><span class="postbody">It's not possible at the moment.  The majority of launchers don't save the current path in any standard location (most don't save it at all).  Hopefully there will be some standard in the next devkit but it will require the launcher  and .nds to support it (Chishm and Wintermute were working on it).
<br/>
<br/>
You can search the file system for your .nds file, Lick released some code that does this and I think someone else made something like that.
<br/>
<br/>
Saving data in root/data/appname/ seems to be common but not everyone does it.  Sticking an ini file in root with the path to the data folder is also used by a few apps.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140608 - HyperHacker - Tue Sep 18, 2007 6:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sektor wrote:</b></span></td> </tr> <tr> <td class="quote">Saving data in root/data/appname/ seems to be common but not everyone does it.  Sticking an ini file in root with the path to the data folder is also used by a few apps.</td> </tr></table><span class="postbody">The former is much less annoying, since it avoids having a ton of files in the root.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140667 - Jesse - Wed Sep 19, 2007 12:02 am</h4>
    <div class="postbody"><span class="postbody">You can also use EFS lib and grab the exe-path from that, since that scans the memorycard during initialization (and it's a great library).
<br/>
<br/>
<a href="http://forum.gbadev.org/viewtopic.php?t=13195" target="_blank">http://forum.gbadev.org/viewtopic.php?t=13195</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141235 - gamix - Sun Sep 23, 2007 11:43 am</h4>
    <div class="postbody"><span class="postbody">Thanks a ton! I like this EFS lib you mentioned!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
