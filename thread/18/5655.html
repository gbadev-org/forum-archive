<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>New DS Libs -> PA_Libs - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > New DS Libs -> PA_Libs</h2>
<div id="posts">
<div class="post">
    <h4>#42130 - YaW - Fri May 06, 2005 2:29 pm</h4>
    <div class="postbody"><span class="postbody"><span style="color: darkred">Hi, 
<br/>
There are a new DS libs called PA_libs, chek out:
<br/>
<a href="http://membres.lycos.fr/existepas/PA/" target="_blank">http://membres.lycos.fr/existepas/PA/</a></span><br/>_________________<br/>Sorry for my english &gt;&lt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42260 - Mollusk - Sun May 08, 2005 6:05 pm</h4>
    <div class="postbody"><span class="postbody">Hi everyone
<br/>
<br/>
I don't post here often, but I'm the current main programmer of the PA_lib. Just so things are clear, I know some people just don't like it, because you're a step away from the hardware... It is in no way similar to ndslib, it even uses it... 
<br/>
It's main point is to be similar to Ham, actually, in that you don't need to know too much on the hardware to be able to use. So for now, it has basic 2d functions (for sprites, backgrounds, touch pad, and sound in a few hours...). 
<br/>
<br/>
Concerning the website given, you should first download the PA.zip, which is a complete template containing the lib, based on Joat's template... Tested to work on DS, but apparently doesn't work with the latest version of ndslib, I'll check that now.
<br/>
PA_lib.zip is just a package to update the template, with just the lib files and not the whole template.
<br/>
<br/>
A website is currently in the works, should be up soon.
<br/>
<br/>
Oh,a nd there's an IRC channel, even though we're not much on it yet : #PA_lib</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42275 - BMcC - Sun May 08, 2005 9:54 pm</h4>
    <div class="postbody"><span class="postbody">It looks like solid work so far, keep it up!
<br/>
<br/>
It's nice of you to write English docs, too.
<br/>
<br/>
How close are you guys really to sound?<br/>_________________<br/>&lt;3,
<br/>
BMcC</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42278 - Mollusk - Sun May 08, 2005 10:05 pm</h4>
    <div class="postbody"><span class="postbody">real close :p
<br/>
<br/>
It's currently working using ndslib for the sound, 16 channels seem to work, play and stop sounds, set the volume. I made an a structure array in RAM, the arm9 functions write to that array to tell which sounds and channels to use, and the arm7 checks it during every VBL to update the sounds.
<br/>
<br/>
I'm currently waiting for the template generating .nds files to work proporly (compiles but gives a blank screen over here, even with the base template given in ndslib) to update the template file. I hope to have it up tomorrow...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42294 - The 9th Sage - Mon May 09, 2005 3:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mollusk wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
It's currently working using ndslib for the sound, 16 channels seem to work, play and stop sounds, set the volume. I made an a structure array in RAM, the arm9 functions write to that array to tell which sounds and channels to use, and the arm7 checks it during every VBL to update the sounds</td> </tr></table><span class="postbody">
<br/>
<br/>
Wow, I hadn't heard of anyone being this close to mod/SNES-type sampled music tracks yet (as opposed to streaming audio).  Very cool.  :)<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42298 - BMcC - Mon May 09, 2005 3:44 am</h4>
    <div class="postbody"><span class="postbody">Yeah, this is all very exciting!
<br/>
<br/>
How efficient is this going to be, do you think?<br/>_________________<br/>&lt;3,
<br/>
BMcC</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42302 - jstart - Mon May 09, 2005 5:29 am</h4>
    <div class="postbody"><span class="postbody">got really close to compiling a demo with a mac had some trouble loading the arm9 library but i will fix that later. I get to right before the arm9.bin is made anyidea why it won't load the the nds library?
<br/>
/Developer/devkitARM/bin/../lib/gcc/arm-elf/3.4.3/../../../../arm-elf/bin/ld: cannot find -l/Developer/ndslib/lib/libnds9.a
<br/>
collect2: ld returned 1 exit status
<br/>
make[2]: *** [/Users/nathan/Desktop/PA/PASound/arm9/arm9.elf] Error 1
<br/>
make[1]: *** [build] Error 2
<br/>
make: *** [all] Error 2
<br/>
is what i get after making the arm7.bin
<br/>
anyway...
<br/>
  This is really cool that a new nds library is being made! Do you think it could continue to support macs unlike ham like with ported image and sound tools and stuff?<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42313 - Mollusk - Mon May 09, 2005 6:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"> Do you think it could continue to support macs unlike ham like with ported image and sound tools and stuff?</td> </tr></table><span class="postbody">
<br/>
Well, this is only a lib, so just bits of code... so you can be on mac, windows, or linux, it doesn't change anything. Ham contained not only a lib, but also a dev environnement with Visual Ham and all the compiling stuff, so that would reduce it portability... Ham also contained tools for conversions, PA_lib probably won't, except of the author of each tool feels like letting me do it...
<br/>
<br/>
On PC, de ndslib lib is contained in c:/ndsdev/ndslib, I think the makefile looks for it at that location... not sure if with that info you can get it to work :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42314 - dovoto - Mon May 09, 2005 6:54 pm</h4>
    <div class="postbody"><span class="postbody">I have mod play back working (not very good play back mind you).  THere is a demo on my site from a week or so ago.  As soon as i have some time to look at it and fix a few things i will clean it up and release the source.
<br/>
<br/>
As for templates not working i believe i fixed that this weekend.  Be sure and update your lib from the cvs and re-run the install batch.  Apperantly the ndstool got updated but not the linker/crt.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42315 - Mollusk - Mon May 09, 2005 7:00 pm</h4>
    <div class="postbody"><span class="postbody">ok, thanks dovoto.
<br/>
<br/>
I'm sure I had the latest version, updated a few times to check that... The linker/crt could be a problem, would it not work if I don't have the latest files generated by ndslib ? (I only have the ndsdev ones for now, I'll upadte manually...)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42317 - Mollusk - Mon May 09, 2005 7:35 pm</h4>
    <div class="postbody"><span class="postbody">Weird...
<br/>
<br/>
With the linker scripts updated, any project I compile is 24MB ! Any idea why ?? :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42318 - DekuTree64 - Mon May 09, 2005 8:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dovoto wrote:</b></span></td> </tr> <tr> <td class="quote">I have mod play back working (not very good play back mind you).  THere is a demo on my site from a week or so ago.  As soon as i have some time to look at it and fix a few things i will clean it up and release the source.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm doing a port of the MOD player I made while writing my sound tutorial series too. Blows up right now, but the code is mostly there with loading from a standard .mod file (so you can just append them with your favorite file system), and a simple command buffer for ARM9 to send messages. 
<br/>
<br/>
Dovoto, I'm a little curious how you planned to handle memory allocation for sound... I'm just using a dedicated lump of memory, and loading song data in stack-like fashion. Works fine for music, but I can't think how to handle SFX without either using a memory manager, or having them all loaded all the time.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42321 - Mollusk - Mon May 09, 2005 9:04 pm</h4>
    <div class="postbody"><span class="postbody">Nice to see different people working on mod players :D
<br/>
<br/>
Just a small post to ask if some coders could be interested in joining the project... It's always nice to have other coders add some code :p</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42890 - Hawky - Mon May 16, 2005 7:09 am</h4>
    <div class="postbody"><span class="postbody">The library is great an makes life much easier to a newbie like me. But I don' t get my files to work on a real DS though they work on Dualis emulator.
<br/>
Anyone any ideas please ???
<br/>
Which version of ndslib do I have to use?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42891 - Mollusk - Mon May 16, 2005 7:11 am</h4>
    <div class="postbody"><span class="postbody">You should use the latest version of ndslib, and start out with the the PA template.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42894 - Hawky - Mon May 16, 2005 9:25 am</h4>
    <div class="postbody"><span class="postbody">It seems that something' s wrong with the makefile, loader.bin or the dsbuild.exe in ndslib, because after I created the .nds.gba manually (<span style="font-style: italic">You just got to prepend an NDS loader to the file and it will become a PassMe version. 
<br/>
For example, get <a href="http://darkfader.net/ds/files/ndsmall.bin" target="_blank">http://darkfader.net/ds/files/ndsmall.bin</a>
<br/>
(note, this one doesn't provide a callback for filesystem calls yet. working on that) 
<br/>
Then you can do: 
<br/>
cat ndsmall.bin mydemo.nds &gt; mydemo.ds.gba 
<br/>
or 
<br/>
copy /b ndsmall.bin + mydemo.nds mydemo.ds.gba </span> Thanks to Darkfader!!!)  my files no work fine on a real DS!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46601 - GPFerror - Mon Jun 27, 2005 10:20 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mollusk wrote:</b></span></td> </tr> <tr> <td class="quote">You should use the latest version of ndslib, and start out with the the PA template.</td> </tr></table><span class="postbody">
<br/>
<br/>
where can i download the PA_lib template? I have the latest PA_0.41a working with the modplayer example, but don't know how to start a new project :)
<br/>
<br/>
Also is there any plan to make the PA_lib a library .a ?
<br/>
<br/>
Thanks,
<br/>
Troy</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46624 - Mollusk - Tue Jun 28, 2005 8:25 am</h4>
    <div class="postbody"><span class="postbody">The lib is the template... So just rename the folder and change de main.cpp in the arm9, and you're good to go ! I hope to have a .a this week, I just need a little time to do it :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46626 - Mollusk - Tue Jun 28, 2005 9:52 am</h4>
    <div class="postbody"><span class="postbody">Man, I just **** at makefiles ! I have code that compiles to libPA7.a and libPA9.a, but can't seem to get that to work on a template :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46640 - GPFerror - Tue Jun 28, 2005 3:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mollusk wrote:</b></span></td> </tr> <tr> <td class="quote">The lib is the template... So just rename the folder and change de main.cpp in the arm9, and you're good to go ! I hope to have a .a this week, I just need a little time to do it :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Well I finally read through the code and docs and figured that out last night, had to edit the code and makefile to get it to compile for libnds, since Im not using ndslib.
<br/>
<br/>
Got my first little demo running on dualis, just the touchscreen keyboard and letter typing on the top screen, but still very cool to me. :)
<br/>
<br/>
I registered at your forums <a href="http://teamnnc.free.fr/html//modules.php?name=Forums" target="_blank">http://teamnnc.free.fr/html//modules.php?name=Forums</a> now so Ill start reading through the information over there
<br/>
<br/>
Troy</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
