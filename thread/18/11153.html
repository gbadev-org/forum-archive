<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Rein r17 compiles, but doesn't work - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Rein r17 compiles, but doesn't work</h2>
<div id="posts">
<div class="post">
    <h4>#102648 - Lick - Fri Sep 15, 2006 10:24 pm</h4>
    <div class="postbody"><span class="postbody">I'm trying to replace libFat (DKP r19) with Rein r17 for more compatability. However, I have everything compiling but all the FAT_f* functions fail. 
<br/>
<br/>
- I'm using Supercard MiniSD.
<br/>
- FAT_InitFiles() returns true, FAT_fopen() fails. [I use modes "r", and "w"]
<br/>
- I have 2 swiWaitForVBlank()s prior to FAT_InitFiles().
<br/>
- All the Rein code is getting compiled.
<br/>
<br/>
Did I miss something?<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102685 - chishm - Sat Sep 16, 2006 3:15 am</h4>
    <div class="postbody"><span class="postbody">What does rein's version of gba_nds_fat support that libfat doesn't?<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102697 - TJ - Sat Sep 16, 2006 7:46 am</h4>
    <div class="postbody"><span class="postbody">More devices, I thought.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102701 - Lick - Sat Sep 16, 2006 9:37 am</h4>
    <div class="postbody"><span class="postbody">I think the main difference is writing to microSD devices. DSLiveWeather users have reported that they can't seem to save, but they can load though.
<br/>
<br/>
Hmm.. So no one knows? I better check my code again then.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102707 - Lick - Sat Sep 16, 2006 10:38 am</h4>
    <div class="postbody"><span class="postbody">I added the following code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "reinfat17/disc_io.h"
<br/>
<br/>
..
<br/>
<br/>
disc_HostType();</td> </tr></table><span class="postbody">
<br/>
<br/>
But I get an undefined reference error when linking. When I look at /build I can see disc_io.o, though.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102712 - Lick - Sat Sep 16, 2006 11:03 am</h4>
    <div class="postbody"><span class="postbody"><span style="font-style: italic">Errr.. Wait.</span> Does Rein r17 even work with DevKitPro r19?
<br/>
<br/>
<span style="font-weight: bold">Yuck! Disgusting!</span> The project uses arm-elf-* so I guess it doesn't work. Blegh..<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102841 - chishm - Sun Sep 17, 2006 9:59 am</h4>
    <div class="postbody"><span class="postbody">If you are not using directory listing functions, I suggest you move to libfat. From your descriptions, it appears that you were originally using gba_nds_fat, not libfat as you specified; if I'm wrong, feel free to correct me.
<br/>
<br/>
Most of the supoprt provided by gba_nds_fat is for CF based devices. libfat, on the other hand, should support almost as many devices as REIN's lib, including proper M3SD and SCSD support.
<br/>
<br/>
EDIT: Rephrased for clarity<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"><br/><br/>Last edited by chishm on Sun Sep 17, 2006 12:33 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#102847 - wintermute - Sun Sep 17, 2006 10:49 am</h4>
    <div class="postbody"><span class="postbody">REIN's lib is gba_nds_fat with some horrible assembly patches<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102902 - Lick - Sun Sep 17, 2006 8:44 pm</h4>
    <div class="postbody"><span class="postbody">chishm: I was using LibFat (DKP r19) at first, but it seems that writing doesn't work on microSD cards (SC Lite) and a few other cards as well. I will of course use LibFat again when DKP r20 comes out, but I thought I had waited long enough to implement REIN for the time being.
<br/>
<br/>
wintermute: Hmm.. You're actually the first to say this. Hmm.. Really, if DKP r20 comes out soon enough, I won't have to think about this.. AT ALL!! Hehe.. :p<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102967 - chishm - Mon Sep 18, 2006 9:02 am</h4>
    <div class="postbody"><span class="postbody">Ah, I must've added the SC Lite changes (2006-08-19) to CVS after the latest library release (2006-08-13).<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
