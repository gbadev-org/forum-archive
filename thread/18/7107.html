<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>[RELEASE] Combined M3 & GBAMP - CF-FAT-Driver - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > [RELEASE] Combined M3 & GBAMP - CF-FAT-Driver</h2>
<div id="posts">
<div class="post">
    <h4>#56572 - Mighty Max - Sun Oct 09, 2005 9:28 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
After the tests where successfull i have modified chishm's gbamp_cf. ( <a href="http://www.geocities.com/chishm1/" target="_blank">http://www.geocities.com/chishm1/</a> )
<br/>
<br/>
The main credits still goes to Chishm, 
<br/>
Thanks to Pepsiman for hinting me to the unlock sequence (and doing the most work there)
<br/>
Thanks to El Hobito (even it didn't work) and WileEQuixote for testing it.
<br/>
<br/>
You can find the modified source at [link removed, please use Chishm's]
<br/>
<br/>
Greets
<br/>
Mighty Max
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
Old Thread:
<br/>
Hi there,
<br/>
<br/>
I think i have my multiboot ready to read files from the M3 perfect CF. Yet i can't test if that is correct. 
<br/>
<br/>
I have uploaded a modified Multiboot to <a href="http://mightymax.org/M3_Test.rar" target="_blank">http://mightymax.org/M3_Test.rar</a>
<br/>
<br/>
It'd be cool if someone could be so kind to put that onto his M3 and start the _boot_mp.nds (prefereable via wmb to exclude any execute/flasher problems)
<br/>
<br/>
Thanks in advance
<br/>
<br/>
(PS the booting won't work, as there is no modified firmware for it (yet))
<br/>
<br/>
<br/>
:edit: Added the unlock sequence (Thanks pepsiman_) hope we get positive results.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"><br/><br/>Last edited by Mighty Max on Sun Oct 16, 2005 11:09 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#56579 - tepples - Sun Oct 09, 2005 11:02 pm</h4>
    <div class="postbody"><span class="postbody">Have you tried it in GBA mode first?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56585 - pepsiman - Sun Oct 09, 2005 11:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Have you tried it in GBA mode first?</td> </tr></table><span class="postbody">
<br/>
Neither of us have an M3, so we haven't tried it at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56643 - El Hobito - Mon Oct 10, 2005 12:37 pm</h4>
    <div class="postbody"><span class="postbody">i guess this is where i come in then...
<br/>
<br/>
hmmm no love so far it doesnt even power up (ie all is black).
<br/>
<br/>
any other way i can help?
<br/>
maybe if you pm me the modified driver i can add it to my test program? i might be able to diagnose it easier</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56972 - Mighty Max - Wed Oct 12, 2005 8:09 pm</h4>
    <div class="postbody"><span class="postbody">I'll contact you on the weekend . I'm pretty sure i got the right registers, just have to check if the magic numbers are used right :p
<br/>
<br/>
I'll write a test application so that we can get it running step by step. So if anyone else wants to help, just say here :p
<br/>
<br/>
Greets<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57102 - Mighty Max - Thu Oct 13, 2005 8:15 pm</h4>
    <div class="postbody"><span class="postbody">Heya,
<br/>
<br/>
I've checked and redone the unlocking.  Can someone let <a href="http://mightymax.org/m3_test.nds" target="_blank">http://mightymax.org/m3_test.nds</a> run with the m3 plugged in and make a screenshot / write down the output?
<br/>
<br/>
:)
<br/>
<br/>
Thanks<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57114 - El Hobito - Thu Oct 13, 2005 9:28 pm</h4>
    <div class="postbody"><span class="postbody">thats very odd indeed, i just get black screens.  im assuming this test would be similar to pepsimans previous ones (ie sending the unlock code and then testing to see if it then allows it to be read/written to.  Have a few ideas of other ways to boot but every other app runs so im not sure why this is crashing it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57116 - Mighty Max - Thu Oct 13, 2005 9:31 pm</h4>
    <div class="postbody"><span class="postbody">It's a "real" nds, iirc the m3 wants them to be .ds.gba named as .nds?
<br/>
<br/>
It's WMB able tho, and only contains a few console prints and the sequence. It shouldn't crash, at least not before the first output is made.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57118 - El Hobito - Thu Oct 13, 2005 9:42 pm</h4>
    <div class="postbody"><span class="postbody">the m3 can boot both types unlike the supercard.  you press A to boot ds.gba and start for .nds files.  Could you make it ds.gba anyway?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57119 - Mighty Max - Thu Oct 13, 2005 9:47 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://mightymax.org/m3_test.ds.gba" target="_blank">http://mightymax.org/m3_test.ds.gba</a>
<br/>
<br/>
In hope that it works better<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57123 - El Hobito - Thu Oct 13, 2005 10:06 pm</h4>
    <div class="postbody"><span class="postbody">sorry still nothing  the screens dont even power up :(
<br/>
i've reformatted my card in both fat16 and fat32 just to be sure
<br/>
<br/>
p.s. maybe you could have a "press start to run" first? at least then you'd know the rom was running and it was the code itself causing it to not boot.
<br/>
<br/>
<br/>
<br/>
p.p.s. i appreciate the work here considering neither you or pepsiman own this!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57128 - Mighty Max - Thu Oct 13, 2005 10:14 pm</h4>
    <div class="postbody"><span class="postbody">Hmm thats weird, it just run's fine here (as it starts and shows debug info) alltho it can't unlock the m3 which is not plugged in *g*
<br/>
<br/>
I'd think even if there is some HAX in there to protect whatever however it should show "Testapplication M3" on the lower screen. It is not accessing anything before that step, so ...
<br/>
<br/>
I hope i'll get my m3 soon (atm are all retailers in germany  seem to be out of stock ... still)<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57130 - El Hobito - Thu Oct 13, 2005 10:24 pm</h4>
    <div class="postbody"><span class="postbody">would you mind pm-ing me the source to the test? i might have a look it certainly should work since they managed to mod moonshell to use it but its a really old one</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57172 - WileEQuixote - Fri Oct 14, 2005 1:33 am</h4>
    <div class="postbody"><span class="postbody">I just tested all the posted files using my m3 &amp; passkey.  I also get two black screens with the first multiboot test file.
<br/>
<br/>
With the second m3_test.nds I get:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
Testapplication M3
<br/>
- Mighty Max -
<br/>
<br/>
M3-Hardware-Register:
<br/>
  aaab5054 # eae25561 # b1db1570
<br/>
 # e02a5950 # aa6a5413
<br/>
M2-Hardware-Register:
<br/>
  abaa8391 # bba84155 # 9da27951
<br/>
 # a2a25dd9 # f7a97d91
<br/>
Running unlock...done
<br/>
M3-Hardware-Register:
<br/>
  aaab5054 # eae25561 # b1db1570
<br/>
 # e02a5950 # aa6a5413
<br/>
M2-Hardware-Register:
<br/>
  abaa8391 # bba84155 # 9da27951
<br/>
 # a2a25dd9 # f7a97d91
<br/>
</td> </tr></table><span class="postbody">
<br/>
On the bottom screen.
<br/>
<br/>
m3_test.ds.gba gives identical results.
<br/>
<br/>
From the system update page on my M3:
<br/>
Current system version is NDS Movie Player V2.10 English
<br/>
version(updategc.e03)
<br/>
<br/>
Let me know if there is anything else you want me to test.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57191 - Mighty Max - Fri Oct 14, 2005 6:21 am</h4>
    <div class="postbody"><span class="postbody">The .nds and the .ds.gba has been updated with another unlock step (i hope at least)<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57196 - WileEQuixote - Fri Oct 14, 2005 7:05 am</h4>
    <div class="postbody"><span class="postbody">Only slightly different results.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
Testapplication M3
<br/>
- Mighty Max -
<br/>
<br/>
M3-Hardware-Register:
<br/>
  aaab5054 # eae25561 # b1db1570
<br/>
 # e02a5950 # aa6a5413
<br/>
M2-Hardware-Register:
<br/>
  8a2a8391 # bbaa4155 # 9da27951
<br/>
 # a2a25dd9 # d6257dd3
<br/>
Running unlock...done
<br/>
Failed
<br/>
M3-Hardware-Register:
<br/>
  aaab5054 # eae25561 # b1db1570
<br/>
 # e02a5950 # aa6a5413
<br/>
M2-Hardware-Register:
<br/>
  8a2a8391 # bbaa4155 # 9da27951
<br/>
 # a2a25dd9 # d6257dd3
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
There is now a Failed message, and the M2-Hardware-Register numbers are slightly different from what they were last time.  Again, same results with .nds and .ds.gba.
<br/>
<br/>
Actually... I just noticed that the register numbers can be different every time I run it.  But the unlock always fails.
<br/>
<br/>
Just so you know, I can use the M3 moonshell to access the card with no problems, so my CF card &amp; M3 should work.
<br/>
<br/>
I'm going to get some sleep, but I can do more testing tomorrow.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57217 - El Hobito - Fri Oct 14, 2005 11:21 am</h4>
    <div class="postbody"><span class="postbody">i still get nothing...the latest firmware must break compatability since im on e06 revision.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57243 - Mighty Max - Fri Oct 14, 2005 2:45 pm</h4>
    <div class="postbody"><span class="postbody">Yes, the Failed is new, it should turn into a "passed" as soon as i got the unlock working, as it is trying to set the cf to a ready state.
<br/>
<br/>
That the M2 register dither on your NDS on each run is no problem, i just included them to compare your M3 with my movieplayer 2 results :p
<br/>
<br/>
but ... hmm thats weird i just noticed, i do 16bit reads (volatile unsigned short) why does it read a full long? guess i should disasm my own code to see if its optimized the wrong way / disable optimzing *hides*
<br/>
<br/>
<br/>
<br/>
Very odd El Hobito, all i do in this nds till first printing to the display is setting the WAIT_CR, setting the display mode and init the console. All standard code taken from the tutorials.
<br/>
<br/>
<br/>
<br/>
:edit: yes, just checked my own code in arm-asm and it is reading via 32bit instead of 16 ... so, i'll brb with an updated nds
<br/>
<br/>
:edit^2: updated both files again. now doing the intended reads.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57250 - El Hobito - Fri Oct 14, 2005 4:10 pm</h4>
    <div class="postbody"><span class="postbody">darn can't it to do anything..sorry i can't help i tried to flashing it to e04 which seems to be the earliest one bar the original and the recently released e08 but i get nothing when running the file it doesnt even turn the screens on.  The only other homebrew app it does this with is the keyboard example so its not related to your code specifically.  It works fine when i put it in the gbamp v2 but obviously thats no use!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57261 - WileEQuixote - Fri Oct 14, 2005 5:35 pm</h4>
    <div class="postbody"><span class="postbody">Hey, that last update made a difference!
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
Testapplication M3
<br/>
- Mighty Max -
<br/>
M3-Hardware-Register:
<br/>
  5054 # 5561 # 1570 # 5950 # 5413
<br/>
M2-Hardware-Register:
<br/>
  8391 # 4155 # 5d51 # 5dd9 # 7c91
<br/>
Running unlock...done
<br/>
Passed
<br/>
M3-Hardware-Register:
<br/>
  50 # 50 #   # fa # 33
<br/>
M2-Hardware-Register:
<br/>
  #    #    #    #
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Hopefully that is the result you are looking for.
<br/>
<br/>
<span style="font-weight: bold">@El Hobito</span>:
<br/>
I've read that the e06 firmware causes problems for some homebrew.  Hopefully they fix the problem in future updates.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57264 - Mighty Max - Fri Oct 14, 2005 5:46 pm</h4>
    <div class="postbody"><span class="postbody">That are EXACTLY the results i wanted to see, great :)) the next version will be up soon, hopefully accessing a file. If that works, i'll submit the changes to chishm.
<br/>
<br/>
:)
<br/>
<br/>
I'd like to see apps running on GBAMP &amp; M3 with CF without the dever to care what of both is plugged in. 
<br/>
<br/>
BRB :D<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57265 - El Hobito - Fri Oct 14, 2005 5:51 pm</h4>
    <div class="postbody"><span class="postbody">yeah cheers bud glad you could help mighty max instead, the e08 update still doesnt fix it so i'd suggest staying on that one for now.  i'll get in touch with the m3 people and see what they have to say.
<br/>
<br/>
edit: MM your a legend!  this added to the ability to use it as a 32Meg ram extension which pepsiman already figured out could have some serious benefits for dslinux and other homebrew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57267 - Mighty Max - Fri Oct 14, 2005 5:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>El Hobito wrote:</b></span></td> </tr> <tr> <td class="quote">yeah cheers bud glad you could help mighty max instead, the e08 update still doesnt fix it so i'd suggest staying on that one for now.  i'll get in touch with the m3 people and see what they have to say.</td> </tr></table><span class="postbody">
<br/>
<br/>
As soon as i got it running, we can start finding out what causes the incompatibility ... maybe i should switch to the latest devkit sometime soon :p<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57269 - El Hobito - Fri Oct 14, 2005 6:00 pm</h4>
    <div class="postbody"><span class="postbody">heh typicial that this (and the keyboard demo) are the only two homebrews that dont work...you'll probably find it just works when you put it on the loader.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57270 - Mighty Max - Fri Oct 14, 2005 6:19 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://mightymax.org/m3_test.nds" target="_blank">http://mightymax.org/m3_test.nds</a>
<br/>
<a href="http://mightymax.org/m3_test.txt" target="_blank">http://mightymax.org/m3_test.txt</a>
<br/>
<br/>
Please put the text into the root dir of the inserted card. It should open the txt file and prints it contents. Should be enough for a verify it's function :)<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57273 - WileEQuixote - Fri Oct 14, 2005 6:44 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">@Mighty Max</span>:
<br/>
<br/>
It works, nice job!
<br/>
<br/>
If you want, I can type the full output, but it's pretty much the same as before.  It now ends with:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">This test was successfull!
<br/>
<br/>
Done output
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Awesome work!  I can't wait for this to start appearing in the other homebrew.
<br/>
<br/>
<span style="font-weight: bold">@El Hobito</span>:
<br/>
According to this <a class="postlink" href="http://rampen.ca/leo/blog/rowiki/index.php?page=M3compat" target="_blank">compatibility wiki</a>, e04 and later also break Hexen, but Heretic works.  Interesting.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57274 - Mighty Max - Fri Oct 14, 2005 6:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>WileEQuixote wrote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-weight: bold">@Mighty Max</span>:
<br/>
<br/>
It works, nice job!
<br/>
<br/>
If you want, I can type the full output, but it's pretty much the same as before.  It now ends with:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">This test was successfull!
<br/>
<br/>
Done output
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Awesome work!  I can't wait for this to start appearing in the other homebrew.
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I'll start merging my code with chsishm's latest driver. Thank you very much for testing the code :) I feared noone would trust it in the first place.
<br/>
<br/>
PS: you can change the .txt and the message displayed will change too. Just so you can see it's really working :p<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57275 - El Hobito - Fri Oct 14, 2005 7:00 pm</h4>
    <div class="postbody"><span class="postbody">Everyother homebrew app works fine but the newer firmwares mess upp lcdswap() so that it ends up displaying on the wrong screens.  DsHexen works on here but the touch pad is also the playing screen so its not pleasant.  I'm looking forward to the m3 gaining the gbamp's cf features so i dont have to keep bringing them both with me!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57280 - Mighty Max - Fri Oct 14, 2005 7:32 pm</h4>
    <div class="postbody"><span class="postbody">Updated the nds once again, could you please try this version too? I integrated my changes to chishm's code and if i didn't make an error will post the modified source so everyone can grab it / chishm can include it into his.
<br/>
<br/>
El Hobito, if it works, i'll sent you the source code of the testing app, so you can better figure out what's causing it.
<br/>
<br/>
<br/>
<span style="font-weight: bold">:edit: Changed Title and first post to point to the source code.</span><br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57288 - WileEQuixote - Fri Oct 14, 2005 8:51 pm</h4>
    <div class="postbody"><span class="postbody">Yes, the latest version works correctly.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Testapplication M3 
<br/>
- Mighty Max -
<br/>
<br/>
This test was successfull! 
<br/>
<br/>
Done output
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
No register output now.
<br/>
<br/>
A question.  Can your code auto-detect the difference between a MP and a M3?  Will it just be a recompile with the new lib?  Or will homebrewers have to create separate MP and M3 versions of their programs?
<br/>
<br/>
Thanks again!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57290 - Mighty Max - Fri Oct 14, 2005 8:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>WileEQuixote wrote:</b></span></td> </tr> <tr> <td class="quote">Yes, the latest version works correctly.
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Testapplication M3 
<br/>
- Mighty Max -
<br/>
<br/>
This test was successfull! 
<br/>
<br/>
Done output
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
No register output now.
<br/>
<br/>
A question.  Can your code auto-detect the difference between a MP and a M3?  Will it just be a recompile with the new lib?  Or will homebrewers have to create separate MP and M3 versions of their programs?
<br/>
<br/>
Thanks again!</span></td> </tr></table><span class="postbody">
<br/>
<br/>
It's fully transparent against the "normal" gbamp cf driver of chishm. On the first CF access it tries to unlock the M3 and if it works it's using M3 code, otherwise GBAMP. The app itself does not notice any difference.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57298 - zubiac - Fri Oct 14, 2005 9:15 pm</h4>
    <div class="postbody"><span class="postbody">so what do I gain when I update chishm's gbamp v2 to yours?<br/>_________________<br/>Abusing Cube and DS with all sorts of homebrew and hacks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57301 - Mighty Max - Fri Oct 14, 2005 9:20 pm</h4>
    <div class="postbody"><span class="postbody">This is not the modified firmware. It does not replace chishm's firmware nor his gbamp cf work.
<br/>
<br/>
<br/>
It's just extends the lib to access the CF card from your homebrew.
<br/>
<br/>
The advance you get (as a dever) is that you can access M3 CF card and GBAMP CF card with the same source code.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57302 - zubiac - Fri Oct 14, 2005 9:25 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mighty Max wrote:</b></span></td> </tr> <tr> <td class="quote">This is not the modified firmware. It does not replace chishm's firmware nor his gbamp cf work.
<br/>
<br/>
<br/>
It's just extends the lib to access the CF card from your homebrew.
<br/>
<br/>
The advance you get (as a dever) is that you can access M3 CF card and GBAMP CF card with the same source code.</td> </tr></table><span class="postbody">
<br/>
<br/>
oh,thanx for clearing this
<br/>
so nothing for me as I don't own a M3 and never will(too pricey).
<br/>
great work anyway!<br/>_________________<br/>Abusing Cube and DS with all sorts of homebrew and hacks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57318 - El Hobito - Fri Oct 14, 2005 10:33 pm</h4>
    <div class="postbody"><span class="postbody">darn i was hoping to just put it into the moonshell sources and recompile but it seems hes made some modification to the cf driver so its gonna take some time to update</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57320 - Mighty Max - Fri Oct 14, 2005 10:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>El Hobito wrote:</b></span></td> </tr> <tr> <td class="quote">darn i was hoping to just put it into the moonshell sources and recompile but it seems hes made some modification to the cf driver so its gonna take some time to update</td> </tr></table><span class="postbody">
<br/>
<br/>
I only added M3_* definitions, M3_Unlock(), the cfHost var and modified the CF_* functions. 
<br/>
<br/>
All other (FAT_*) functions remained the same
<br/>
<br/>
So do the same, and you'll be set. its simply just onther set of registers + unlocking.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57322 - El Hobito - Fri Oct 14, 2005 10:54 pm</h4>
    <div class="postbody"><span class="postbody">i got it compiling but i dont understand how to work imfs.  it has its own bat file which as a far as i can see works but nothing happens so it wont run since it cant find the data it needs</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57351 - chishm - Sat Oct 15, 2005 2:31 am</h4>
    <div class="postbody"><span class="postbody">Great work MightyMax! I will add this to my source as soon as I get time. In the mean time, I suggest people use MightyMax's modified version. Hopefully I can still use my new CF_read &amp; CF_write functions with the M3. They make use of the consecutive read ability of CF cards.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57369 - gl0b - Sat Oct 15, 2005 11:26 am</h4>
    <div class="postbody"><span class="postbody">any hope of a supercard port? ;)<br/>_________________<br/>----!-----
<br/>
<br/>
<a class="postlink" href="http://saiminbot.blog8.fc2.com/blog-entry-29.html" target="_blank">Next generation DS</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57375 - Mighty Max - Sat Oct 15, 2005 11:48 am</h4>
    <div class="postbody"><span class="postbody">I'm just atm looking on some supercard bin. So i'm on it :p<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57418 - MaHe - Sat Oct 15, 2005 6:43 pm</h4>
    <div class="postbody"><span class="postbody">You know you rule, Mighty Max?
<br/>
If you crack SuperCard, I'll worship you like a god (please try both SD and CF version, if neccesary, create a donations site to get some money for 'em ;) )</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57423 - pepsiman - Sat Oct 15, 2005 7:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>El Hobito wrote:</b></span></td> </tr> <tr> <td class="quote">hmmm no love so far it doesnt even power up (ie all is black).
<br/>
</td> </tr></table><span class="postbody">
<br/>
This happens on the G6 if you don't set POWER_CR.
<br/>
Is the M3 the same?
<br/>
Fix:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">POWER_CR = POWER_ALL_2D ;</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57424 - Mighty Max - Sat Oct 15, 2005 7:11 pm</h4>
    <div class="postbody"><span class="postbody">Let's test it then :p
<br/>
<br/>
updated the m3_test.nds with the power all instruction.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57426 - El Hobito - Sat Oct 15, 2005 7:35 pm</h4>
    <div class="postbody"><span class="postbody">guess what.......it works lol
<br/>
<br/>
that what i thought was wrong but i assumed you'd have it in.  Thanks a bunch though pepsoman cos now i know how to get the keyboard example working!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57427 - Mighty Max - Sat Oct 15, 2005 8:09 pm</h4>
    <div class="postbody"><span class="postbody">yeah, you know ... im still a nds noob :p
<br/>
<br/>
Thank you pepsiman very much (again)<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57450 - Mr. Picklesworth - Sat Oct 15, 2005 11:17 pm</h4>
    <div class="postbody"><span class="postbody">Thank you for doing this. I have been worried about each homebrew app only being compatible with five different people's DSs, and this helps a lot :)
<br/>
I was hoping for exactly what you have made.<br/>_________________<br/>Thanks!
<br/>
<span style="font-size: 9px; line-height: normal">MKDS Friend Code: 511165-679586
<br/>
MP:H Friend Code: 2105 2377 6896</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57455 - amiga - Sun Oct 16, 2005 12:01 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MaHe wrote:</b></span></td> </tr> <tr> <td class="quote">You know you rule, Mighty Max?
<br/>
If you crack SuperCard, I'll worship you like a god (please try both SD and CF version, if neccesary, create a donations site to get some money for 'em ;) )</td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah, and then if you need money to buy a supercard sd we could donate for it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57486 - El Hobito - Sun Oct 16, 2005 12:42 pm</h4>
    <div class="postbody"><span class="postbody">are there any programs out there that use the supercard cf?  i believe mighty max probably dissassembled some of the roms that already used the m3 (like its own save game writer for roms or their modified moonshell)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57545 - gl0b - Sun Oct 16, 2005 9:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mighty Max wrote:</b></span></td> </tr> <tr> <td class="quote">I'm just atm looking on some supercard bin. So i'm on it :p</td> </tr></table><span class="postbody">
<br/>
<br/>
fine! ask darkfader, he was asking romman for the supercard firmware dump to recover his mistakes :P<br/>_________________<br/>----!-----
<br/>
<br/>
<a class="postlink" href="http://saiminbot.blog8.fc2.com/blog-entry-29.html" target="_blank">Next generation DS</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57554 - chishm - Sun Oct 16, 2005 11:03 pm</h4>
    <div class="postbody"><span class="postbody">I guess it's time to announce my latest version. I wasn't intending to release it for a little while, but MightyMax forced my hand :-).
<br/>
<br/>
Things added / changed (from memory):
<br/>
* M3 support! Big thanks to MightyMax for this.
<br/>
* Improved fseek speed - again thanks to MightyMax.
<br/>
* Improved fread and fwrite speed - my own doing, using the consecutive sector ability of ATA.
<br/>
* Modified API. File handles are now FAT_FILE* instead of int. 
<br/>
* Time / Date stamping for files on the NDS - thanks to Joat for the idea and partial implementation.
<br/>
* Files split into hardware level and disc level routines.
<br/>
* Plus a few bug fixes.
<br/>
<br/>
Get it <a class="postlink" href="http://www.geocities.com/chishm1/gbamp/gba_nds_fat.zip" target="_blank">here</a>.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57555 - Mighty Max - Sun Oct 16, 2005 11:12 pm</h4>
    <div class="postbody"><span class="postbody">Hehe, thanks to you Chishm,
<br/>
<br/>
I removed the link to mine from the first page. I'll change the link on my HP to your version tomorrow.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
