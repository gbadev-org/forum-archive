<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>how to calculate the viewpoint for double sreen 3D? [solved] - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > how to calculate the viewpoint for double sreen 3D? [solved]</h2>
<div id="posts">
<div class="post">
    <h4>#145727 - Noda - Wed Nov 21, 2007 1:18 am</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
<br/>
I would like to have the same effect as the introduction of a course in mario kart ds : having a 3D scene using both screen, like if it was a single big one.
<br/>
<br/>
I already have the double screen setup for 3D, but I don't have any idea on how to get the bottom screen viewpoint based on the top one to make the continuity between the screens...
<br/>
<br/>
Concretely: here is my top screen viewpoint:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
        gluLookAt(0, -2.5, -5.2,
<br/>
                  0, -4, 15,
<br/>
                  0.0, 1.0, 0.0);</td> </tr></table><span class="postbody">
<br/>
<br/>
how to calculate values for the bottom screen from theses?
<br/>
<br/>
Thanks.</span><span class="gensmall"><br/><br/>Last edited by Noda on Wed Nov 21, 2007 4:19 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#145729 - tepples - Wed Nov 21, 2007 1:38 am</h4>
    <div class="postbody"><span class="postbody">You'll need to pitch the camera down by the equivalent of 280 pixels. (Each screen is 192 pixels tall; the gap between them is nominally 88 pixels.) How large of a field of view are you specifying in glFrustum?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145731 - Noda - Wed Nov 21, 2007 1:56 am</h4>
    <div class="postbody"><span class="postbody">I only set my view (perspective matrix) with this:
<br/>
<br/>
gluPerspective(35, 256.0 / 192.0, 0.1, 500);
<br/>
<br/>
then I change the viewpoint in the model_view matrix, as modifying the camera causes problems with specular lightning, but it should not be problematic, right?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145732 - tepples - Wed Nov 21, 2007 3:47 am</h4>
    <div class="postbody"><span class="postbody">Try pitching the camera down in modelview by 280/192 times the y field of view. In your case, it's 35*280/192 = 51 degrees.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145735 - Noda - Wed Nov 21, 2007 4:19 am</h4>
    <div class="postbody"><span class="postbody">Thanks, but I finally got the effect working quite right with the following:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
    // tilt camera to make a single screen illusion
<br/>
    if (!ulGetMainLcd()) {
<br/>
        glRotateXi(-2 &lt;&lt; 4);
<br/>
    } else {
<br/>
        glRotateXi(2.5 * 32.0);
<br/>
    }
<br/>
<br/>
    // set camera
<br/>
    gluLookAt(0, -3.5, -10,
<br/>
              0, -6, 15,
<br/>
              0.0, 1.0, 0.0);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
;)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
