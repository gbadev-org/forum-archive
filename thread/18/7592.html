<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Everything you need to know about Sprites - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Everything you need to know about Sprites</h2>
<div id="posts">
<div class="post">
    <h4>#61916 - RedRobot - Fri Nov 25, 2005 3:57 am</h4>
    <div class="postbody"><span class="postbody">I spent over an hour trying to figure out some answers to questions I had about Sprites today and I didn't get anywhere. I think that there is a gap in the available information for newbies in the Sprites area. 
<br/>
<br/>
So here are some questions I had that hopefully some people can answer.
<br/>
<br/>
<br/>
- The 2D graphics examples that come with libnds have .bin files in the data folder. I'm assuming that .jpgs or .bmp files are turned into .bin files somehow? How is this done. Which program?
<br/>
<br/>
- I have noticed gfx2gba mentioned in several tutorials. The readme file is quite bare to say the least. I quickly ran it without any options and it outputted a .raw file and a .pal file. How are these files used in a DS programming context? What options should people be using with gfx2gba? Can someone provide an example command for gfx2gba? Are there tutorials?
<br/>
<br/>
- Are there other methods that you use for getting Sprites on the DS other than .bin files or using gfx2gba?
<br/>
<br/>
<br/>
<br/>
<br/>
As a newbie outsider trying to find out info about the DS I have found that there is a big hole where info about Sprites should be. Let's make a thread full of Sprite knowledge so the next newbie who goes looking for info can find it easier. Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#61918 - DekuTree64 - Fri Nov 25, 2005 4:41 am</h4>
    <div class="postbody"><span class="postbody">Probably why you're having trouble finding info is that DS's sprite hardware is nearly identical to the GBA's (with a few added features), so nobody's gone to the trouble of writing a DS-specific sprite tutorial.
<br/>
<br/>
Here are some GBA sprite links:
<br/>
<a class="postlink" href="http://www.work.de/nocash/gbatek.htm#lcdobjoverview" target="_blank">GBATEK sprite info</a>
<br/>
<a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/" target="_blank">TONC</a>, especially <a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/objbg.htm" target="_blank">BG/sprite overview</a> and <a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/regobj.htm" target="_blank">sprites</a>
<br/>
<a class="postlink" href="http://www.thepernproject.com/tutorials/GBA/day_3.html" target="_blank">PERN project sprites</a><br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#61938 - RedRobot - Fri Nov 25, 2005 4:12 pm</h4>
    <div class="postbody"><span class="postbody">Quickly reading over those pages, some of which I've already seen, I can tell that there is an amazing amount of great technical information about how graphics are done on the GBA/DS. However, none of these pages actually specifically answer any of the questions I posed. 
<br/>
<br/>
Maybe I shouldn't be so subtle this time. I have no doubt that with the help of these great technical pages, I'll be able to use sprites on the DS effectively, but the main interest of mine and the thing I think would help new DS developers the most is the personal opinions of DS developers. 
<br/>
<br/>
If you look at this page, <a href="http://www.gbadev.org/tools.php?section=gfx" target="_blank">http://www.gbadev.org/tools.php?section=gfx</a> , there  is a huge listing of graphics programs, but very little detail about their operations or whether they are any good or not. 
<br/>
<br/>
So what do you use? Why do you use it? Where would you start? I mentioned earlier in my post about the NDS examples with libNDS using .bin files in the data folder. Which program do you find works best for converting images to .bin files? Do you not use .bin files? It's these sort of questions that aren't answered AT ALL in these tutorials. Authors of these tutorials usually pick one method arbitrarily and not explain how they do it, why they do it, or it's advantages over other methods.
<br/>
<br/>
If we take the short time to flesh out this thread with a wealth of knowledge instead of simply posting links to other sources (even though they are very useful!) it will be a much more relevant source of information to new DS developers.
<br/>
<br/>
I'll reiterate my earlier questions again:
<br/>
<br/>
- The 2D graphics examples that come with libnds have .bin files in the data folder. I'm assuming that .jpgs or .bmp files are turned into .bin files somehow? How is this done. Which program?
<br/>
<br/>
- I have noticed gfx2gba mentioned in several tutorials. The readme file is quite bare to say the least. I quickly ran it without any options and it outputted a .raw file and a .pal file. How are these files used in a DS programming context? What options should people be using with gfx2gba? Can someone provide an example command for gfx2gba? Are there tutorials?
<br/>
<br/>
- Are there other methods that you use for getting Sprites on the DS other than .bin files or using gfx2gba?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#61955 - crossraleigh - Fri Nov 25, 2005 8:26 pm</h4>
    <div class="postbody"><span class="postbody">A .bin file could be in any raw binary format. (Even many of the early GBA demos were released with a .bin extension.) Data files in the libnds examples are given .bin extensions because the default devkitARM makefile will automatically convert and link .bin files. The programmer still needs to know what format they are in.
<br/>
<br/>
Note that there are 2 gfx2gba programs in the tools section of this site. When most people talk about gfx2gba, they mean the one with more options. Its <a class="postlink" href="http://www.ohnehirn.de/tools/readme.txt" target="_blank">readme.txt</a> is comprehensive.
<br/>
<br/>
If you convert foo.bmp with gfx2gba and get the files foo.raw and foo.pal, you could rename them to foo.bin and foo_pal.bin so that the makefile will find them.
<br/>
<br/>
To make a 256-color 1D sprite, try this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">gfx2gba -St.bin -pfoo_pal.bin -t8 foo.bmp</td> </tr></table><span class="postbody"><br/>_________________<br/>My world is black and white, but if I blink fast enough, I see it in grayscale.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#62025 - Codax - Sat Nov 26, 2005 5:18 pm</h4>
    <div class="postbody"><span class="postbody">I like to use Mirach and Usenti for all my graphics needs for the DS.  ( <a href="http://user.chem.tue.nl/jakvijn/index.htm" target="_blank">http://user.chem.tue.nl/jakvijn/index.htm</a> )  I export them as source code and #include them as necessary.  It's important to remember that sprites are just collections of pixel data.  And that pixel data is based off a palette.  So...some psuedo code
<br/>
<br/>
Please note this is probably not the BEST way, but it is the EASIEST to understand
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include yourgraphics.h;
<br/>
//This contains two arrays yourPALETTE[] and yourIMAGE[];
<br/>
<br/>
//Code to setup screens and memory areas, blah blah blah
<br/>
<br/>
<br/>
for(i = 0; i &lt; 256; i++)
<br/>
{//Load 256 colors into the SPRITE_PALETTE
<br/>
<br/>
  SPRITE_PALETTE[i] = yourPALETTE[i];
<br/>
<br/>
}
<br/>
<br/>
//Load yourIMAGE into SPRITE Pixel data
<br/>
for(i = 0; i &lt; 64 * numof8x8tiles; i++)
<br/>
{
<br/>
  SPRITE_GFX[i] = yourIMAGE[i]
<br/>
}
<br/>
<br/>
//Do all the fun stuff with OEM data remembering that GFXid is the number of the first 8x8 chunk of your sprite
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
While I couldn't be as far as I am with sprites without the above mentioned pages, it's important to also look at source code.  There are a few demos that come with devkitArm that really made the difference.  Don't be afraid to butcher them in such a way that you know what EACH LINE does.  The more your read those docs the sense any of this will make.  There is a lot of information there, so try to go into it with a goal.  Also don't forget to check out memory.h and video.h in NDSlib<br/>_________________<br/>Codax
<br/>
Dragon's Den Unlimited
<br/>
<a href="http://www.DrgnDen.com" target="_blank">http://www.DrgnDen.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
