<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DS memory mirroring / layout? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > DS memory mirroring / layout?</h2>
<div id="posts">
<div class="post">
    <h4>#47680 - chishm - Tue Jul 12, 2005 6:52 am</h4>
    <div class="postbody"><span class="postbody">I know I have asked this before, but it was kinda buried in another topic. Sorry for the spam if you care. Anyway here is my question:
<br/>
According to DSTek IWRAM starts at 037F:8000. There is no memory mapped to 0300:0000 (normally GBA IWRAM). What actually happens if you try to read or write 0300:0000 (from the ARM7)? Is it a mirror of shared IWRAM or exclusive IWRAM, or is it constantly zeroed, or is it simply not connected? 
<br/>
This is kinda important for me to know, as it makes the difference between easily running code on both DS and GBA and having to detect the DS and switch address spaces manually.
<br/>
Thanks for any help, and sorry for being a pain in the a**.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47700 - tepples - Tue Jul 12, 2005 2:36 pm</h4>
    <div class="postbody"><span class="postbody">The GBA mirrors its IWRAM at 0x037F8000.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47747 - chishm - Wed Jul 13, 2005 12:15 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">The GBA mirrors its IWRAM at 0x037F8000.</td> </tr></table><span class="postbody">
<br/>
Of course! Why didn't I think of that. Thanks for reminding me of this. Stupid me. :-D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47750 - gladius - Wed Jul 13, 2005 1:32 am</h4>
    <div class="postbody"><span class="postbody">Just for clarification, the DS IWRAM is also located at 0x03000000 (well, who knows where it really is, but that makes sense).  The entire region up to 0x037FFFFF is a mirror that repeats every 32k.
<br/>
<br/>
Making it 0x037F8000 makes it very convenient to get a contiguous 96k region of ram, which is why I believe Neimod did that.  In earlier versions of dstek it was actually at 0x03000000.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47751 - chishm - Wed Jul 13, 2005 1:45 am</h4>
    <div class="postbody"><span class="postbody">Thanks Gladius, that's even better. I only need 1K, so contiguousness <span style="font-size: 9px; line-height: normal">(is that a word)</span> is not a problem. I thought it might be mirrored there, but because DSTek specified 0x03F80000 I thought it might have to be accessed at that address.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
