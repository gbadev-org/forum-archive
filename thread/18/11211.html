<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>matrix deforming 3d object - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > matrix deforming 3d object</h2>
<div id="posts">
<div class="post">
    <h4>#103284 - Rajveer - Wed Sep 20, 2006 5:42 pm</h4>
    <div class="postbody"><span class="postbody">hi guys. i have a matrix for an objects 3d rotation. since the math library is in fixed point math, eventually after loads of multiplications of matrices the tiny discontinuities become large enough to scale/stretch my object. normalising each axis ever frame (the 1st 3 columns of the matrix) helps but eventually the object still becomes distorted. ive used different methods i.e. creating the matrix every frame so i start with a "fresh" matrix every frame, but there are some advantages to keeping the same matrix. what would you guys suggest?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103285 - AN_D_K - Wed Sep 20, 2006 5:51 pm</h4>
    <div class="postbody"><span class="postbody">Are you saving the translated vectors? You shouldn't.
<br/>
<br/>
Each frame you should be translating the original local model vertices each time. This will stop any major distortions.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103288 - Rajveer - Wed Sep 20, 2006 6:11 pm</h4>
    <div class="postbody"><span class="postbody">by saving the translated vectors, do you mean the rotation matrix? i am, im using a 4x4 matrix which im multiplying to each frame. i was calculating the matrix by scratch each frame, but the problem lies when rotating and then adding another rotation to it. to be specific i was trying to rotate between ground polygons smoothly. i guess ill go back and try to create it each frame, its the best way :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103292 - sajiimori - Wed Sep 20, 2006 6:33 pm</h4>
    <div class="postbody"><span class="postbody">Before renormalizing, you have to reorthogonalize to ensure that the axis vectors stay 90 degrees apart.</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void orthogonalize(Vector3* x, Vector3* y, Vector3* z)
<br/>
{
<br/>
  *z = cross(x, y);
<br/>
  *y = cross(z, x);
<br/>
}</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103295 - Rajveer - Wed Sep 20, 2006 6:47 pm</h4>
    <div class="postbody"><span class="postbody">cheers for the reply, ill try it now :)
<br/>
<br/>
in your function, im not sure what the * means, is that a pointer?
<br/>
or are *z and *y different variables to z and y so that you dont use the "new" variable in the calculations?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103300 - sajiimori - Wed Sep 20, 2006 8:07 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, * does at least 3 duties in C: multiplication, declaring pointers, and dereferencing pointers.
<br/>
<br/>
I'd recommend getting more familiar with the C language before getting too far.  It'll save frustration later on.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103312 - Rajveer - Wed Sep 20, 2006 10:09 pm</h4>
    <div class="postbody"><span class="postbody">cheers for the reply! yep this is my first real project, done some stuff in vb (eugh!) in college and java in uni and learned alot of programming concepts, using this project to teach myself c++ :) cheers once again cheers for the help!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
