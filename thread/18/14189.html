<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Need help compiling - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Need help compiling</h2>
<div id="posts">
<div class="post">
    <h4>#140844 - Opus - Thu Sep 20, 2007 5:08 am</h4>
    <div class="postbody"><span class="postbody">Hey fellas.
<br/>
<br/>
So I made a really simple tweak to the open source code for Nethack (I made the boulders appear more visible by changing the default character for them)
<br/>
<br/>
Now all I need to do is compile this bugger.
<br/>
<br/>
On Stuart's webpage it states:
<br/>
<br/>
Unzip the source, then compile for your computer - not the DS. This is to get makedefs and friends to generate everything you need to compile it for the DS. (This is known to work on Win32 and Linux, not sure about MacOS) Once this is done, from the nethack-3.4.3 directory, run 'make -f sys/nds/Makefile'. 
<br/>
<br/>
<br/>
I've got Programmer's Notepad, Palib, and Devkitpro all on my computer but I don't have a clue as to follow his directions to compile this all together to get a final version that can run on my DS.
<br/>
<br/>
Could a friendly face here please give me a hand as to how this is exactly done?
<br/>
<br/>
If so, be as descriptive as possible since this is my first attempt at doing something like this.
<br/>
<br/>
Hope someone here has the time to help me.
<br/>
<br/>
Cheers.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140880 - tepples - Thu Sep 20, 2007 11:38 am</h4>
    <div class="postbody"><span class="postbody">If you have MSYS from devkitPro, you can use it with <a class="postlink" href="http://www.mingw.org/" target="_blank">MinGW</a>. MinGW is a GCC port that runs on Windows and compiles for Windows, just as devkitARM is a GCC port that runs on Windows and compiles for GBA or DS.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140919 - Opus - Thu Sep 20, 2007 5:49 pm</h4>
    <div class="postbody"><span class="postbody">Hey Tepples, thanks for the post.  :o)
<br/>
<br/>
So I believe that I was able to compile it correctly for windows using MinGW.
<br/>
<br/>
It gave me a new "binary" folder that now features a playable Window's XP version of Nethack with my new custom graphic for boulders.
<br/>
<br/>
The last thing to do now states:
<br/>
<span style="font-style: italic">Once this is done, from the nethack-3.4.3 directory, run 'make -f sys/nds/Makefile'. This should compile everything and copy the binaries to the binary directory.</span>
<br/>
<br/>
<br/>
Sorry, but I've read this over time and time again but it just sounds like jibberish to me.
<br/>
<br/>
One more helpful suggestion on what to do next and I'll be on my way.
<br/>
<br/>
Thanks.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140935 - tepples - Thu Sep 20, 2007 8:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Opus wrote:</b></span></td> </tr> <tr> <td class="quote">The last thing to do now states:
<br/>
<span style="font-style: italic">Once this is done, from the nethack-3.4.3 directory, run 'make -f sys/nds/Makefile'. This should compile everything and copy the binaries to the binary directory.</span>
<br/>
<br/>
<br/>
Sorry, but I've read this over time and time again but it just sounds like jibberish to me.</td> </tr></table><span class="postbody">
<br/>
How well do you know the Windows command prompt?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">E:\&gt; cd \ds\nethack-3.4.3
<br/>
E:\ds\nethack-3.4.3&gt; make -f sys/nds/Makefile</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140944 - Opus - Thu Sep 20, 2007 9:11 pm</h4>
    <div class="postbody"><span class="postbody">Nuts, I almost had it....
<br/>
<br/>
Then depression sets in.  :o)
<br/>
<br/>
<br/>
So this is my log thingie after following all of the directions to a T.
<br/>
<br/>
make -f sys/nds/Makefile.arm7 all
<br/>
make[1]: Entering directory `/c/n'
<br/>
arm7_main.c
<br/>
arm-eabi-gcc -MMD -MP -MF build/arm7_main.d -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb -mthumb-interwork  -I/c/devkitPro/libnds/include -I/c/n/build -DARM7 -c sys/nds/arm7/src/arm7_main.c -o build/arm7_main.o
<br/>
sys/nds/arm7/src/arm7_main.c: In function 'VblankHandler':
<br/>
sys/nds/arm7/src/arm7_main.c:119: warning: comparison is always false due to limited range of data type
<br/>
sys/nds/arm7/src/arm7_main.c:120: warning: comparison is always false due to limited range of data type
<br/>
linking NetHackDS.arm7.elf
<br/>
built ... NetHackDS.arm7
<br/>
make[1]: Leaving directory `/c/n'
<br/>
built ... NetHackDS.arm7
<br/>
sh -c "unset CC; [ -f src/tile.c ] || make -C util ../src/tile.c"
<br/>
make[1]: Entering directory `/c/n/util'
<br/>
make[1]: *** No rule to make target `../src/tile.c'.  Stop.
<br/>
make[1]: Leaving directory `/c/n/util'
<br/>
make: *** [build/NetHackDS.arm9.elf] Error 2
<br/>
<br/>
<br/>
Okay, I give up.  Why is this giving me grief?  Please help me one last time to get over this final bump.
<br/>
<br/>
You would not believe how excited I'll get if I'm able to compile this by the end of the night.
<br/>
<br/>
Cheers.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140985 - Opus - Fri Sep 21, 2007 4:09 am</h4>
    <div class="postbody"><span class="postbody">Apparently I need two files called <span style="font-weight: bold">tile.c</span> and <span style="font-weight: bold">tile.o</span> for this to build correctly for the DS.  Well, Duh!  :o)
<br/>
<br/>
How do I go about finding/creating/downloading these two files since they're not found in the original source code?
<br/>
<br/>
The tileset I would like to use is called <span style="font-weight: bold">text_c.bin</span> found here
<br/>
<a class="postlink" href="http://stuartp.commixus.com/nhds/tileset.html" target="_blank">http://stuartp.commixus.com/nhds/tileset.html</a>
<br/>
<br/>
<br/>
I'm so right there, but I need just that little bit of extra guidance to get me through this.
<br/>
<br/>
Help me out dudes!  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141014 - mml - Fri Sep 21, 2007 9:16 am</h4>
    <div class="postbody"><span class="postbody">tile.o will be automatically created from tile.c by the make bits. Where tile.c comes from, I have no idea.  But don't spend a lot of time worrying about tile.o itself for now -- spend your effort working out why tile.c is missing and how to fix that, and tile.o *should* just come along for the ride. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141066 - Opus - Fri Sep 21, 2007 7:29 pm</h4>
    <div class="postbody"><span class="postbody">Is there a way to convert <span style="font-weight: bold">text_c.bin</span> to <span style="font-weight: bold">text.c</span> through some amazingly nerdy program?
<br/>
<br/>
If that were possible, then my life would be perfect.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141069 - strager - Fri Sep 21, 2007 8:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Opus wrote:</b></span></td> </tr> <tr> <td class="quote">Is there a way to convert <span style="font-weight: bold">text_c.bin</span> to <span style="font-weight: bold">text.c</span> through some amazingly nerdy program?
<br/>
<br/>
If that were possible, then my life would be perfect.  :o)</td> </tr></table><span class="postbody">
<br/>
<br/>
raw2c is provided with DKA r20, as well as some earlier versions.  Maybe you could try that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141073 - Opus - Fri Sep 21, 2007 9:09 pm</h4>
    <div class="postbody"><span class="postbody">Okay, I was able to use raw2c and make the<span style="font-weight: bold"> tiles.bin </span> into <span style="font-weight: bold"> tiles.c </span> and then I renamed that file to <span style="font-weight: bold">text.c</span> .
<br/>
<br/>
This is the log file thingie after trying to compile:
<br/>
<br/>
Paige@KRISTIN /c/nethack-3.4.3
<br/>
$ make -f sys/nds/Makefile
<br/>
sh -c "unset CC; [ -f src/tile.c ] || make -C util ../src/tile.c"
<br/>
make -f sys/nds/Makefile.src all
<br/>
make[1]: Entering directory `/c/nethack-3.4.3'
<br/>
make[1]: Nothing to be done for `all'.
<br/>
make[1]: Leaving directory `/c/nethack-3.4.3'
<br/>
make -f sys/nds/Makefile.arm9 all
<br/>
make[1]: Entering directory `/c/nethack-3.4.3'
<br/>
linking NetHackDS.arm9.elf
<br/>
build/ds_gfx.o: In function `nds_load_tiles':
<br/>
sys/nds/arm9/src/ds_gfx.c:190: undefined reference to `total_tiles_used'
<br/>
build/ds_win.o: In function `nds_clear_nhwindow':
<br/>
sys/nds/arm9/src/ds_win.c:680: undefined reference to `total_tiles_used'
<br/>
build/ds_win.o: In function `nds_print_glyph':
<br/>
sys/nds/arm9/src/ds_win.c:170: undefined reference to `glyph2tile'
<br/>
build/do.o: In function `goto_level':
<br/>
src/do.c:1077: undefined reference to `substitute_tiles'
<br/>
build/o_init.o: In function `shuffle_tiles':
<br/>
src/o_init.c:41: undefined reference to `glyph2tile'
<br/>
build/restore.o: In function `dorecover':
<br/>
src/restore.c:647: undefined reference to `substitute_tiles'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [build/NetHackDS.arm9.elf] Error 1
<br/>
make[1]: Leaving directory `/c/nethack-3.4.3'
<br/>
make: *** [build/NetHackDS.arm9.elf] Error 2
<br/>
<br/>
<br/>
<br/>
Apparently this can only mean one thing....
<br/>
<br/>
<br/>
<br/>
<br/>
I am too stupid to live!!!!  :o/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141078 - Quirky - Fri Sep 21, 2007 10:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
&lt; set DEVKITARM and DEVKITPRO, extract source tar ball &gt;
<br/>
cd nethack-3.4.3
<br/>
cd sys/unix
<br/>
sh setup.sh
<br/>
cd -
<br/>
make
<br/>
&lt; error - missing curses.h&gt;
<br/>
sudo apt-get install ncurses-dev
<br/>
make
<br/>
&lt; error in termcap.c, tparm redefined &gt;
<br/>
vi include/unixconf.h
<br/>
&lt; make sure #define LINUX is not commented &gt;
<br/>
make
<br/>
&lt;done!&gt;
<br/>
make -f sys/nds/Makefile
<br/>
&lt;done! except for an error that dat/nhdat didn't exist&gt;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
There, what was so hard about that? ;-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141088 - wintermute - Fri Sep 21, 2007 11:55 pm</h4>
    <div class="postbody"><span class="postbody">He's not using linux.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141089 - Opus - Fri Sep 21, 2007 11:58 pm</h4>
    <div class="postbody"><span class="postbody">Darn it Quirky, you're making this look too easy!  
<br/>
I deserve to be shot just on general principle!  :o/
<br/>
<br/>
So here's what I typed using MINGW32 while trying to follow what I think that you did in your last post.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Paige@KRISTIN ~
<br/>
$ cd /c/nethack-3.4.3
<br/>
<br/>
Paige@KRISTIN /c/nethack-3.4.3
<br/>
$ cd sys/unix
<br/>
<br/>
Paige@KRISTIN /c/nethack-3.4.3/sys/unix
<br/>
$ sh setup.sh
<br/>
Copying Makefiles.
<br/>
<br/>
Paige@KRISTIN /c/nethack-3.4.3/sys/unix
<br/>
$ cd -
<br/>
/c/nethack-3.4.3
<br/>
<br/>
Paige@KRISTIN /c/nethack-3.4.3
<br/>
$ make
<br/>
( cd src ; make )
<br/>
make[1]: Entering directory `/c/nethack-3.4.3/src'
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Everything is looking good until I get to the end.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">gcc -O -I../include   -c -o zap.o zap.c
<br/>
gcc -O -I../include -c ../sys/share/ioctl.c
<br/>
../sys/share/ioctl.c:50:62: termio.h: No such file or directory
<br/>
../sys/share/ioctl.c: In function `getioctls':
<br/>
../sys/share/ioctl.c:125: error: `TCGETA' undeclared (first use in this function)
<br/>
../sys/share/ioctl.c:125: error: (Each undeclared identifier is reported only once
<br/>
../sys/share/ioctl.c:125: error: for each function it appears in.)
<br/>
../sys/share/ioctl.c: In function `setioctls':
<br/>
../sys/share/ioctl.c:147: error: `TCSETAW' undeclared (first use in this function)
<br/>
../sys/share/ioctl.c: At top level:
<br/>
../sys/share/ioctl.c:54: error: storage size of `termio' isn't known
<br/>
make[1]: *** [ioctl.o] Error 1
<br/>
make[1]: Leaving directory `/c/nethack-3.4.3/src'
<br/>
make: *** [nethack] Error 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
From there I continue to go on and type out this junk
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Paige@KRISTIN /c/nethack-3.4.3
<br/>
$ make -f sys/nds/Makefile
<br/>
make -f sys/nds/Makefile.arm7 all
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Everything seems to be going real nice, but at the very end I get these errors of unhappiness
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">make[1]: *** [build/version.o] Error 1
<br/>
make[1]: Leaving directory `/c/nethack-3.4.3'
<br/>
make: *** [build/NetHackDS.arm9.elf] Error 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
Then the little bugger just squibs on me and takes me back to the command prompt.
<br/>
<br/>
<br/>
Help learn me English and teach program for me to use!
<br/>
<br/>
<br/>
This seriously is making me look more stupider with each successive post.  
<br/>
<br/>
Can you help a brother out?  There's must be something really simple that I'm missing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141091 - wintermute - Sat Sep 22, 2007 12:27 am</h4>
    <div class="postbody"><span class="postbody">The simple thing you're probably missing is a linux box ...
<br/>
<br/>
Try this,
<br/>
<br/>
1. Delete the nethack folder and re-extract the archive. Using the linux build process on a windows machine has probably broken things beyond repair.
<br/>
<br/>
<br/>
Read the file sys/winnt/install.nt
<br/>
<br/>
follow those instructions as best you can. See if that helps any
<br/>
<br/>
You don't look stupid at all, this sort of build process tends to be incredibly difficult. Personally I don't think the "build for host machine first" part of this should be at all necessary. The problem is the combination of an odd build system and a lazy porter. Not that I'm blaming him for being lazy - the build process doesn't make a lot of sense.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141103 - Opus - Sat Sep 22, 2007 5:17 am</h4>
    <div class="postbody"><span class="postbody">Permission to swear excessively?!!?!?  
<br/>
<br/>
I'm about two steps away from having a nervous drunken rage meltdown just trying to compile this stupid bugger. 
<br/>
<br/>
Thank God I actually pride myself on my innumerable mistakes otherwise depression would be setting in by now.  :o)
<br/>
<br/>
<br/>
So here's some things in the install.nt document that's really tripping me up.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">It almost goes without saying that you should make sure that your tools are set up and running correctly.  For the GCC Makefile, add &lt;mingw&gt;\bin to your path, where &lt;mingw&gt; is your MinGW root directory.)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
To me this is written in Sputnik, I have no idea what this means.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Compiling.
<br/>
Now that everything is set up, change your current directory to src.</td> </tr></table><span class="postbody">
<br/>
<br/>
Should I be running msys at this stage and change the directory inside the msys program?  This stupid bastardized document just says change the darn directory but it doesn't say what program to use or how to do that. 
<br/>
<br/>
Lastly
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">For GCC: mingw32-make -f Makefile.gcc install</td> </tr></table><span class="postbody">
<br/>
<br/>
Again should I be using msys, or choose RUN under the windows start menu, or should I be using something inside the MinGW folder that it told me to download earlier?
<br/>
<br/>
<br/>
Well, I'm off to get drunk now and hopefully pass out in a tepid pool of my own filth.  :o)
<br/>
<br/>
I'll check back tomorrow to see if I get any responses or find myself banned from ever posting at this site again.
<br/>
<br/>
<br/>
Cheers.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141138 - mml - Sat Sep 22, 2007 2:08 pm</h4>
    <div class="postbody"><span class="postbody">Can't help directly; I'm not on Windows myself.  But maybe I can help you find the information yourself...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Opus wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">It almost goes without saying that you should make sure that your tools are set up and running correctly.  For the GCC Makefile, add &lt;mingw&gt;\bin to your path, where &lt;mingw&gt; is your MinGW root directory.)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
To me this is written in Sputnik, I have no idea what this means.
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
This bit means to add the path to the mingw "bin" folder to your PATH environment variable.  The PATH environment variable is how Windows finds programs when you invoke them by name only -- it searches for the program in the directories that are listed in your PATH variable.  There should be plenty of information about how to set this on the web, try googling for something like {set windows path "environment variable"}.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Compiling.
<br/>
Now that everything is set up, change your current directory to src.</td> </tr></table><span class="postbody">
<br/>
<br/>
Should I be running msys at this stage and change the directory inside the msys program?  This stupid bastardized document just says change the darn directory but it doesn't say what program to use or how to do that. </span></td> </tr></table><span class="postbody">
<br/>
<br/>
These steps all appear to be assuming you are inside a command prompt.  I don't know if msys provides one of these, or if they expect you to be in cmd (start-&gt;run-&gt;"cmd").  In any case, the command you're looking for is something like "cd \path\to\nethack\stuff\<span style="font-weight: bold">src</span>".  You've used this a few times in previous posts - the "cd" command changes the current directory to the argument you give it. 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Lastly
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">For GCC: mingw32-make -f Makefile.gcc install</td> </tr></table><span class="postbody">
<br/>
<br/>
Again should I be using msys, or choose RUN under the windows start menu, or should I be using something inside the MinGW folder that it told me to download earlier?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Again, sounds like you need to be at a command prompt.  Start-&gt;run-&gt;"cmd", or start up the msys command prompt if such a thing exists, then use cd to navigate to the directory where you've extracted the nethack stuff, and finally run the mingw32-make... command as listed in the instructions.
<br/>
<br/>
Hope this helps</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141141 - wintermute - Sat Sep 22, 2007 2:37 pm</h4>
    <div class="postbody"><span class="postbody">It's probably worth noting that mingw32-make should be run from a DOS shell ( start-&gt;run-&gt;cmd ) rather than the bash shell provided with MSYS. Furthermore this tool has problems when MSYS is installed and in the system path as is the case with a standard devkitARM install.
<br/>
<br/>
The most productive approach here would be to rework the build process so that a native compile is not required in order to compile for the DS. Right now  I don't have sufficient time to investigate fully but, having said that, if someone does understand what's going on I might be able to offer guidance in achieving that objective.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141159 - tepples - Sat Sep 22, 2007 7:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mml wrote:</b></span></td> </tr> <tr> <td class="quote">This bit means to add the path to the mingw "bin" folder to your PATH environment variable.  The PATH environment variable is how Windows finds programs when you invoke them by name only -- it searches for the program in the directories that are listed in your PATH variable.  There should be plenty of information about how to set this on the web, try googling for something like {set windows path "environment variable"}.</td> </tr></table><span class="postbody">
<br/>
It's possible to set the path using My Computer &gt; Properties &gt; Advanced &gt; Environment Variables, but I don't especially recommend doing it this way for compilers such as MinGW and devkitARM. Instead, you can open Command Prompt (either under Start &gt; [All] Programs &gt; Command Prompt or under Start &gt; [All] Programs &gt; Accessories &gt; Command Prompt) and do the following to set the PATH for one Command Prompt session only:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">set PATH=C:\mingw\bin;%PATH%</td> </tr></table><span class="postbody">
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">The most productive approach here would be to rework the build process so that a native compile is not required in order to compile for the DS.</td> </tr></table><span class="postbody">
<br/>
Ideally, you shouldn't need to build the PC version of the game in order to build the DS version of the game. But does the build process require preprocessing of source files or binary files into other intermediate source files that are included in the project? Isn't a native compiler required for compiling the tools that do this preprocessing?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141222 - Opus - Sun Sep 23, 2007 8:42 am</h4>
    <div class="postbody"><span class="postbody">Okay, let's find out what I'm still doing wrong on this.  Sound like fun?  :o)
<br/>
<br/>
So I first double click on the nhsetup under c:\nethack-3.4.3\sys\winnt and get this screen
<br/>
<a href="http://img256.imageshack.us/img256/9283/nhsetuprq4.gif">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
I follow Tepples instructions and find myself with this screen
<br/>
<a href="http://img507.imageshack.us/img507/5212/promptmq9.gif">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
I now have a shiny new build of Nethack for Windows XP that plays perfectly and features a new character and color for boulders so they stand out more clearly.
<br/>
<br/>
I try to build for the DS immediately after it's done compiling for the computer but I get this screen
<br/>
<a href="http://img520.imageshack.us/img520/431/makefilegm8.gif">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
So I close the COMMAND PROMPT and then go back to the COMMAND PROMPT and I'm treated with this screen
<br/>
<a href="http://img520.imageshack.us/img520/6936/errorfd2.gif">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
I'm now back to the same original problem with the <span style="font-weight: bold">tile.c</span> error
<br/>
<br/>
<br/>
<br/>
Dear Lord, why must I have been born with such a debilitating mental disorder?!?!?!
<br/>
<br/>
I just don't get it.
<br/>
<br/>
And no, I'm not talking about my sex life, that's a whole other deficient issue for me.  :o)
<br/>
<br/>
Am I compiling for the wrong system?  Should I choose to compile for Linux instead since it was so easy for Quirky?
<br/>
<br/>
<br/>
Thanks a bunch for putting up with me on this guys.  I seriously appreciate your level of patience towards me.  :o)<span style="font-weight: bold"></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141292 - Quirky - Sun Sep 23, 2007 9:13 pm</h4>
    <div class="postbody"><span class="postbody">Might be able to help you properly now. After compiling on Linux, there are some more files in src. Looks like monstrc, vis_tab.c and tile.c are generated during compilation. I've stuck them up on here (non clickable since I don't want "lazy clickers" using up the limited bandwidth - just add http and remove the space!) See how you get on... ideally they should exist on the Win build too though.
<br/>
<br/>
quirkysoft.netfirms.com/ nethack-gen.zip</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141324 - Opus - Mon Sep 24, 2007 2:40 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the compiled files Quirky.
<br/>
<br/>
It managed to crunch everything much longer this time around and even built a rom of the project but I still ended with this screen.
<br/>
<br/>
<a href="http://img394.imageshack.us/img394/884/endwr0.gif">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
It also turns out that it won't run on my DS either, stating that it couldn't find the keyboard graphics and some other whiny junk.
<br/>
<br/>
<br/>
So here's the thing.  On Stuart's webpage he states that it's been tested for <span style="font-weight: bold">Win32</span> and <span style="font-weight: bold">Linnux</span>.  This whole time I've been following the advice that wintermute gave me which was to read the sys/<span style="font-weight: bold">winnt</span>/install.nt document and follow the directions from there.
<br/>
<br/>
I think that's what has been tripping me up.
<br/>
<br/>
So I guess I'll take some time and try to figure out how to build starting from the nethack-3.4.3\win\<span style="font-weight: bold">win32</span> folder instead of the <span style="font-weight: bold">winnt</span> folder and see if that gets many anywhere.  Hopefully that will put me on the right track.
<br/>
<br/>
<br/>
As for right now, I feel like my brain is beginning to leak so I'll probably give it another shot in a day or two.
<br/>
<br/>
Cheers.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141369 - Quirky - Mon Sep 24, 2007 7:26 pm</h4>
    <div class="postbody"><span class="postbody">Aha! To build the nhdat file you have to do
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
make all
<br/>
</td> </tr></table><span class="postbody">
<br/>
That builds the nhdat file, at least it does here in Linuxland. It appears that "all" is not the default target (this could explain the missing c files at your end too).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141390 - Opus - Mon Sep 24, 2007 10:20 pm</h4>
    <div class="postbody"><span class="postbody">Way to go Quirky!
<br/>
<br/>
Now all you need to do is better explain what you just stated so a retard gorilla like myself can understand. :o)
<br/>
<br/>
<br/>
I'm still using the command prompts like Tepples suggested.
<br/>
<br/>
So this is my typical routine:
<br/>
Double click <span style="font-weight: bold">nhdat</span> from c:\nethack-3.4.3\sys\winnt
<br/>
<br/>
Then in the command prompt it's:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">set PATH=C:\MinGW\bin;C:\MinGW\bin
<br/>
cd c:\nethack-3.4.3\src
<br/>
mingw32-make -f Makefile.gcc install
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
So at what stage am I typing <span style="font-weight: bold">make all</span> and in what folder at the command prompt should I be in at that time?
<br/>
<br/>
<br/>
For the first time, I'm having feelings of hope that I can finally do this.  Joy!
<br/>
<br/>
Cheers.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141453 - Opus - Tue Sep 25, 2007 7:55 pm</h4>
    <div class="postbody"><span class="postbody">Don't leave me hanging dude!
<br/>
<br/>
I searched the internet for several hours trying to figure out how simple is was for you to compile like you did, but I just ended up more confused than ever.
<br/>
<br/>
One last post to help me out?
<br/>
<br/>
If not, could you at least let me download the nhsetup file that you were able to create?
<br/>
<br/>
Thanks.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141537 - Quirky - Wed Sep 26, 2007 7:09 pm</h4>
    <div class="postbody"><span class="postbody">I did "make all" in the top level directory. This required bison and flex as well (the GNU parser/lexer tools). Now on windows, I'm not sure if it works the same.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Double click nhdat from c:\nethack-3.4.3\sys\winnt </td> </tr></table><span class="postbody">
<br/>
<br/>
nhdat is a file that is created in the nethack-3.4.3/dat/ directory. Do you mean double clikc nhsetup.bat? What does that do? Seems like it copies the makefiles to the specific dirs to build for Windows.
<br/>
<br/>
Then I gues you open a shell and cd to c:\nethack-3.4.3 - here is where I did the "make all" thing. However, looking at Makefile.gcc, it seems that "all" is an alias for "install", which you already did. In fact, "install" should create the missing nhdat file for you (according to the Makefile at least :-/ ) It's looking a bit bleak... 
<br/>
<br/>
Of course, I still haven't tried out the compiled nethack.nds here - it might not even work!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143381 - Opus - Sat Oct 20, 2007 4:52 pm</h4>
    <div class="postbody"><span class="postbody">Sorry for such the long delay in responding to the last post Quirky, I just really needed to step away from this for awhile due to all of the frustration it was giving me.
<br/>
<br/>
I finally was able to compile on my own, but it will only compile the graphic tileset instead of the ASCII tiles which is my preference.
<br/>
<br/>
All I would like is to have boulders displayed as a red capital letter "O".
<br/>
<br/>
The default is a gray "," which is so difficult for me to see since my eyesight is not all too good.
<br/>
<br/>
<br/>
Is there anyone that is smart enough to figure this out?
<br/>
<br/>
I'd even be happy if someone could just edit or give me a link on how to edit the text_c.bin file and change the "," graphic with a filled in letter "O" if that makes any sense.
<br/>
<br/>
I thought I would ask one last time to see if I could get any help on this, if not, I'll just let this topic die out.
<br/>
<br/>
Thanks.  :o)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#144327 - theli - Wed Oct 31, 2007 5:06 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Opus wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Is there anyone that is smart enough to figure this out?
<br/>
<br/>
I'd even be happy if someone could just edit or give me a link on how to edit the text_c.bin file and change the "," graphic with a filled in letter "O" if that makes any sense.
<br/>
<br/>
I thought I would ask one last time to see if I could get any help on this, if not, I'll just let this topic die out.
<br/>
<br/>
Thanks.  :o)</td> </tr></table><span class="postbody">
<br/>
why won't you just use something like this
<br/>
<a href="http://www.olywa.net/cook/pictures/tiles20x10.bmp" target="_blank">http://www.olywa.net/cook/pictures/tiles20x10.bmp</a>
<br/>
?
<br/>
edit it to your liking :)
<br/>
or find some other tileset you like</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
