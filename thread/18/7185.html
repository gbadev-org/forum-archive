<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Where is the documentation for libnds? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Where is the documentation for libnds?</h2>
<div id="posts">
<div class="post">
    <h4>#57496 - sirjorj - Sun Oct 16, 2005 3:44 pm</h4>
    <div class="postbody"><span class="postbody">Greetings.  I am working on a vertical scrolling shooter engine and I have made some progress thanks to doublec's tutorials.  My ultimate goal is to extend the playing area up to the top screen.  I am guessing I need to set the right video mode to make this possible.  I cannot find any documents that list the video modes and what they are capable of.
<br/>
<br/>
In my searching, I found some info on the PA_Lib.  This looks easier, but one of the reasons I am doing this is to learn more about the DS itself, so I would rather avoid another layer of abstraction.
<br/>
<br/>
I apologize in advance if there is some big obvious thing I am overlooking here.  My basic question is how to extend doublec's framebuffer tutorial across both screens.  My bigger question is where is some documentation that would answer my question and any future graphics mode related questions I will have.
<br/>
<br/>
jorj
<br/>
<br/>
sirjorj.com</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57501 - tepples - Sun Oct 16, 2005 4:14 pm</h4>
    <div class="postbody"><span class="postbody">You'll need to use something other than framebuffer mode, such as one of the extended rotation modes. Or go back to the GBA, learn how to use tile mode, and come back.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#57512 - revo - Sun Oct 16, 2005 5:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sirjorj wrote:</b></span></td> </tr> <tr> <td class="quote">My basic question is how to extend doublec's framebuffer tutorial across both screens. </td> </tr></table><span class="postbody">
<br/>
<br/>
In rPaint I made something like that on extended rotation bg mode:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;nds.h&gt;
<br/>
<br/>
#define SCREEN1 BG_GFX
<br/>
#define SCREEN2 BG_GFX_SUB
<br/>
<br/>
void on_irq() 
<br/>
{   
<br/>
  if(REG_IF &amp; IRQ_VBLANK) {
<br/>
    VBLANK_INTR_WAIT_FLAGS |= IRQ_VBLANK;
<br/>
<br/>
    REG_IF |= IRQ_VBLANK;
<br/>
  }
<br/>
  else REG_IF = REG_IF;
<br/>
}
<br/>
<br/>
void InitInterruptHandler()
<br/>
{
<br/>
  REG_IME = 0;
<br/>
  IRQ_HANDLER = on_irq;
<br/>
  REG_IE = IRQ_VBLANK;
<br/>
  REG_IF = ~0;
<br/>
  DISP_SR = DISP_VBLANK_IRQ;
<br/>
  REG_IME = 1;
<br/>
}
<br/>
<br/>
void InitSystem()
<br/>
{
<br/>
   powerON(POWER_ALL);
<br/>
<br/>
   videoSetMode(MODE_5_2D | DISPLAY_BG2_ACTIVE);
<br/>
   vramSetBankB(VRAM_B_MAIN_BG_0x6000000);
<br/>
   BG2_CR = BG_BMP16_256x256;
<br/>
<br/>
   BG2_XDX = 1&lt;&lt;8;
<br/>
   BG2_XDY = 0;
<br/>
   BG2_YDX = 0;
<br/>
   BG2_YDY = 1&lt;&lt;8;
<br/>
   BG2_CY = 0;
<br/>
   BG2_CX = 0;
<br/>
<br/>
   videoSetModeSub(MODE_5_2D | DISPLAY_BG3_ACTIVE); 
<br/>
   vramSetBankC(VRAM_C_SUB_BG_0x6200000);
<br/>
   SUB_BG3_CR = BG_BMP16_256x256;
<br/>
<br/>
   SUB_BG3_XDX = 1&lt;&lt;8;
<br/>
   SUB_BG3_XDY = 0;
<br/>
   SUB_BG3_YDX = 0;
<br/>
   SUB_BG3_YDY = 1&lt;&lt;8;
<br/>
   SUB_BG3_CY = 0;
<br/>
   SUB_BG3_CX = 0;
<br/>
<br/>
   InitInterruptHandler();
<br/>
   keysInit();
<br/>
}
<br/>
<br/>
int main(void)
<br/>
{
<br/>
   InitSystem();
<br/>
<br/>
   while(1) 
<br/>
   {
<br/>
      SCREEN1[10+(10&lt;&lt;8)]=RGB15(31,0,0)|BIT(15);
<br/>
      SCREEN2[10+(10&lt;&lt;8)]=RGB15(0,0,31)|BIT(15);
<br/>
      swiWaitForVBlank();
<br/>
   }
<br/>
<br/>
   return 0;
<br/>
}</td> </tr></table><span class="postbody"><br/>_________________<br/>[ sorry for all mistakes, but my english isn't as good as I wish it to be ]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
