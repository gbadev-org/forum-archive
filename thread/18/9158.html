<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How do I print text to the top AND bottom screen? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > How do I print text to the top AND bottom screen?</h2>
<div id="posts">
<div class="post">
    <h4>#78507 - sofakng - Fri Apr 07, 2006 7:45 pm</h4>
    <div class="postbody"><span class="postbody">Here is a snippet of my code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
  videoSetMode(MODE_0_2D | DISPLAY_BG0_ACTIVE); 
<br/>
  videoSetModeSub(MODE_0_2D | DISPLAY_BG0_ACTIVE);
<br/>
        
<br/>
  vramSetBankA(VRAM_A_MAIN_BG_0x6000000); 
<br/>
  vramSetBankC(VRAM_C_SUB_BG_0x6200000);
<br/>
<br/>
  SUB_BG0_CR = BG_MAP_BASE(31);
<br/>
   
<br/>
  BG_PALETTE_SUB[255] = RGB15(31,31,31);
<br/>
   
<br/>
  consoleInitDefault((u16*)SCREEN_BASE_BLOCK_SUB(31), (u16*)CHAR_BASE_BLOCK_SUB(0), 16);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
If I do an iprintf() then it will print text to the top screen.  How do I get the text to print to the top OR bottom screen?  Are there more functions aside from iprintf() for printing text?
<br/>
<br/>
Also, is there any tutorials on using the subpixel font that is found on these forums?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78509 - blahh - Fri Apr 07, 2006 8:03 pm</h4>
    <div class="postbody"><span class="postbody">If your just starting on coding, try PALIB, its wayy easier than any other ds lib...
<br/>
<br/>
<a href="http://www.palib.com" target="_blank">www.palib.com</a> &lt;-for download and great tutorials</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78548 - sofakng - Sat Apr 08, 2006 1:33 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>blahh wrote:</b></span></td> </tr> <tr> <td class="quote">If your just starting on coding, try PALIB, its wayy easier than any other ds lib...
<br/>
<br/>
<a href="http://www.palib.com" target="_blank">www.palib.com</a> &lt;-for download and great tutorials</td> </tr></table><span class="postbody">
<br/>
It doesn't support the subpixel font does it?  (so each screen has 80x25 lines or whatever)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78553 - blahh - Sat Apr 08, 2006 2:22 am</h4>
    <div class="postbody"><span class="postbody">hmm not sure</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78564 - knight0fdragon - Sat Apr 08, 2006 2:53 am</h4>
    <div class="postbody"><span class="postbody">what i do is change where consoleinit is whenever i am printing
<br/>
<br/>
so it goes something like this
<br/>
<br/>
save screen 1 text
<br/>
change consoleinit to screen 2
<br/>
draw on screen 2
<br/>
<br/>
when i want to go back to font 1
<br/>
<br/>
<br/>
change consoleinit to screen 1(this will erase all text)
<br/>
loadscreen 1 text
<br/>
draw on screen 1<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78826 - sofakng - Mon Apr 10, 2006 2:12 am</h4>
    <div class="postbody"><span class="postbody">Isn't there a way to just choose which screen you want to write to without erasing each screen first?
<br/>
<br/>
It seems like the subpixel example code used the VRAM_A variable to write directly to it... so I thought by changing it to VRAM_C it would write to the other screen but it didn't...
<br/>
<br/>
Maybe I'm not initializing each screen properly?  Both screens need to be in MODE_FB0, right?  ...and then VRAM_A should be set to LCD_A and VRAM_C should be set to LCD_C?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78828 - cory1492 - Mon Apr 10, 2006 2:16 am</h4>
    <div class="postbody"><span class="postbody">afaik you cant have more than 1 screen in FB mode...another way of doing this could be to modify the subpixel demo to draw its pixels on rotational backgrounds (1 on each screen)...
<br/>
<br/>
Have a look at doublec's day 10 tutorial if you want to give that a shot.
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop10.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop10.html</a>
<br/>
<br/>
edit:/just found what I was looking for:
<br/>
YoungMX also has a way to put stuff on both screens using his libfb
<br/>
<a href="http://www.youngmx.com/?loc=ndsdev/LibFB" target="_blank">http://www.youngmx.com/?loc=ndsdev/LibFB</a>
<br/>
You could look into that to see how he is doing it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78831 - sofakng - Mon Apr 10, 2006 2:28 am</h4>
    <div class="postbody"><span class="postbody">Thanks!
<br/>
<br/>
Is there any documentation for LibFB or am I just not seeing it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78838 - knight0fdragon - Mon Apr 10, 2006 3:22 am</h4>
    <div class="postbody"><span class="postbody">does it use the console functions?   because you can do it by creating your own font and instructions, but as far as i know with console provided with libnds this is how its done, unless i am missing something<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78855 - HyperHacker - Mon Apr 10, 2006 6:59 am</h4>
    <div class="postbody"><span class="postbody">I made my own simple text drawing routines (to be released with the next version of GBA Booter) that draw on rotational backgrounds, and it can print on both screens fine. It has to buffer them in RAM, though. :-( Also it doesn't have any actual console functionality, just a "print this here" sort of function. (It uses a 6x6 font, BTW.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79836 - cory1492 - Sun Apr 16, 2006 7:23 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sofakng wrote:</b></span></td> </tr> <tr> <td class="quote">Thanks!
<br/>
<br/>
Is there any documentation for LibFB or am I just not seeing it?</td> </tr></table><span class="postbody">
<br/>
NP. So far as I know there is only the sample for "documentation".</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
