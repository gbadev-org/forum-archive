<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>libfat on nds emul - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > libfat on nds emul</h2>
<div id="posts">
<div class="post">
    <h4>#140463 - Diddl - Sun Sep 16, 2007 5:47 pm</h4>
    <div class="postbody"><span class="postbody">I'm working on a minishell (texmode like midnight commander). Cause it take too much time always testing on a real NDS I tried to run it on DeSmuME. 
<br/>
<br/>
I was very astonished to see this emulator can really do directory listing from my PC harddisk with normal libfat commands!!!
<br/>
<br/>
How does it work? Does it emulate an slot 2 hardware like supercard? Or is there an integrated special DLDI for emulators?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140470 - Sausage Boy - Sun Sep 16, 2007 6:38 pm</h4>
    <div class="postbody"><span class="postbody">I'm pretty sure it emulates a GBAMP, at least dualis does.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140472 - Diddl - Sun Sep 16, 2007 6:54 pm</h4>
    <div class="postbody"><span class="postbody">that is a fine feature for homebrew development!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140475 - tepples - Sun Sep 16, 2007 7:23 pm</h4>
    <div class="postbody"><span class="postbody">Which version of DeSmuME are you using?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140484 - Diddl - Sun Sep 16, 2007 8:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Which version of DeSmuME are you using?</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
don't know, there is no about box or such. the exe has 569.344 bytes and is from 10.may.2007 21:57.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140507 - calcprogrammer1 - Sun Sep 16, 2007 10:53 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, the newer Desmume release(s) emulate a GBAMP, but only the ROM's directory is available.<br/>_________________<br/>DS Firmware 1, Datel Games n' Music card / Chism's FW hacked GBA MP v2 CF
<br/>
<br/>
There's no place like 127.0.0.1.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#140513 - masscat - Sun Sep 16, 2007 11:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>calcprogrammer1 wrote:</b></span></td> </tr> <tr> <td class="quote">Yeah, the newer Desmume release(s) emulate a GBAMP, but only the ROM's directory is available.</td> </tr></table><span class="postbody">
<br/>
Recent versions of Desmume have two versions of GBAMP emulation. The default version will try to emulate the FAT image for the directory of the .nds file. This can have problems (sub directory do not work under Linux) and it does not support writing.
<br/>
The second emulation uses a disk image file. This supports full reading and writing and the disk image does not have to be FAT format. You enable this version of GBAMP emulation using the --cflash command line option. See this <a class="postlink" href="http://forums.desmume.org/viewtopic.php?id=102" target="_blank">desmume forum thread</a> for more information.
<br/>
The second emulation works well. I used it, along with the GDB stub in desmume, to develop FlickBook DS.
<br/>
<br/>
If you are a Windows user, the biggest problem with the second approach is creating and populating the disk image. I wrote a Java application to do this but it is limited (again see the desmume forum thread).</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
