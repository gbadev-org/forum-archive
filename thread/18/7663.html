<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Instant Cartridge swapping? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Instant Cartridge swapping?</h2>
<div id="posts">
<div class="post">
    <h4>#62503 - Dwedit - Thu Dec 01, 2005 4:57 pm</h4>
    <div class="postbody"><span class="postbody">Has anyone tried to make a device which consists of two DS cartridge slots, and allows one to swap which cartridge is in the slot by pressing a button?  I'm not familiar with DS hardware, but would something like that potentially allow running of unsigned code?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#62507 - dovoto - Thu Dec 01, 2005 6:04 pm</h4>
    <div class="postbody"><span class="postbody">DS carts are not signed.  They are encrypted on a per cart basis.  Swapping carts would not be helpful in overcomming this.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#62518 - Dwedit - Thu Dec 01, 2005 8:01 pm</h4>
    <div class="postbody"><span class="postbody">Is the cartridge itself encrypted, or just the files within?  Otherwise how would those rom dumpers work?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#62526 - tepples - Thu Dec 01, 2005 8:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dovoto wrote:</b></span></td> </tr> <tr> <td class="quote">They are encrypted on a per cart basis.</td> </tr></table><span class="postbody">
<br/>
Wasn't the encryption found to be a stream cipher, which is simply XOR'd with the cleartext? In that case, you could possibly get cleartext by running two identical DS Game Cards in parallel and repeatedly reading from a known zeroed portion of the second card, allowing you to XOR out and replace the cleartext, resulting in running homebrew code.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#62535 - dovoto - Thu Dec 01, 2005 11:08 pm</h4>
    <div class="postbody"><span class="postbody">Per cart, as in they use a different cypher key based in part on values from the games header and in part on values from low bios -- which are then used to drive several cascaded linear feedback shift registers which do some xor'ing of data.  If the method you speek of would defeat this scheme then yes.  
<br/>
<br/>
I know next to nothing about encryption :)<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#62537 - tepples - Thu Dec 01, 2005 11:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dovoto wrote:</b></span></td> </tr> <tr> <td class="quote">Per cart, as in they use a different cypher key based in part on values from the games header</td> </tr></table><span class="postbody">
<br/>
Which will be identical in identical carts, right?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">and in part on values from low bios</td> </tr></table><span class="postbody">
<br/>
And on values from the RTC, which will be identical when you boot both cards on the same machine at the same second.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">which are then used to drive several cascaded linear feedback shift registers which do some xor'ing of data.</td> </tr></table><span class="postbody">
<br/>
Which, if the LFSRs are producing identical cipher streams, opens up some <a class="postlink" href="http://en.wikipedia.org/wiki/Stream_cipher_attack" target="_blank">cryptanalytic attacks</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#62543 - dovoto - Fri Dec 02, 2005 12:28 am</h4>
    <div class="postbody"><span class="postbody">Ahh...interesting stuff and thanks for the link...good luck with it :)<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
