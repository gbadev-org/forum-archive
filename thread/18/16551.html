<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Can you use bank H and I to do a subscreen MODE_5_2D? A: yes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Can you use bank H and I to do a subscreen MODE_5_2D? A: yes</h2>
<div id="posts">
<div class="post">
    <h4>#167658 - TwentySeven - Sat Mar 21, 2009 1:40 pm</h4>
    <div class="postbody"><span class="postbody">As the topic says:
<br/>
Can you use bank H and I to do a subscreen MODE_5_2D?
<br/>
<br/>
Ie:
<br/>
videoSetModeSub(MODE_5_2D | DISPLAY_BG3_ACTIVE );
<br/>
vramSetBankH(VRAM_H_SUB_BG);
<br/>
SUB_BG3_CR = BG_BMP8_256x256;	
<br/>
<br/>
and then plot pixels to it?
<br/>
<br/>
I currently have H and I allocated to do a text mode and sprites for the sub screen, which works fine, but it'd be much nicer if I could just use all 48kb and treat it as a framebuffer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167663 - TwentySeven - Sat Mar 21, 2009 2:33 pm</h4>
    <div class="postbody"><span class="postbody">Sorry, I was having a brain fade this evening.  I have it working now.  
<br/>
<br/>
It's a very cheap way to get a 256 colour "framebuffer" on the sub screen, if you're not using H and I for anything else :)  The ds doesn't seem to mind that H+I is only 48kb, so long as you say within 256x192.
<br/>
<br/>
This works out well for me, because I really didn't want to have to give up one of the texture banks (A,B,C,D) to do a nice subscreen BG.
<br/>
<br/>
Straightforward:
<br/>
<br/>
videoSetModeSub(MODE_5_2D | DISPLAY_BG3_ACTIVE );
<br/>
<br/>
vramSetBankH(VRAM_H_SUB_BG);	// 32k bank
<br/>
vramSetBankI(VRAM_I_SUB_BG);	// 16k bank
<br/>
<br/>
SUB_BG3_CR = BG_BMP8_256x256;
<br/>
<br/>
SUB_BG3_XDX = 1 &lt;&lt; 8;
<br/>
SUB_BG3_XDY = 0; 	
<br/>
SUB_BG3_YDX = 0;
<br/>
SUB_BG3_YDY = 1 &lt;&lt; 8;
<br/>
SUB_BG3_CX  = 0; 
<br/>
SUB_BG3_CY  = 0;</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
