<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Can't compile, dualis not displaying 3D - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Can't compile, dualis not displaying 3D</h2>
<div id="posts">
<div class="post">
    <h4>#150345 - djmcbell - Sat Feb 02, 2008 5:42 pm</h4>
    <div class="postbody"><span class="postbody">Got a bit of a problem - I've just moved to a new PC to start developing again, and have installed the latest version of DevKitPro.
<br/>
<br/>
In any case, it will compile the examples fine, but won't compile mine. Also, dualis (and also DeSmume or whatever it is) doesn't want to display 3D on anything compiled on my current PC. It displays my old stuff fine from my old PC however.
<br/>
<br/>
Whenever I try and compile my stuff on my new PC, I get these bugs in the command window -
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">error: 'VRAM_A_MAIN_BG_0x6000000' was not declared in this scope
<br/>
error: 'VRAM_B_MAIN_BG_0x6020000' was not declared in this scope
<br/>
error: 'VRAM_C_MAIN_BG_0x6200000' was not declared in this scope</td> </tr></table><span class="postbody">
<br/>
<br/>
All my other bugs, I imagine, will be solved when these are sorted. All I've done is copied the stuff over from my old PC (where it worked fine), reinstalled DevKitPro and tried to compile it using the new install. I assume I'm missing something because I remember having to do a few other bits and bobs after installing DevKitPro last time.[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150347 - djmcbell - Sat Feb 02, 2008 6:47 pm</h4>
    <div class="postbody"><span class="postbody">Sorry - the declarations up there are going to look a bit odd, as the VRAM_C should be a sub, not main (didn't copy and paste from the command window, doesn't want to do it).
<br/>
<br/>
Anyhoo, seems to be a problem in setting up the banks themselves as my 2D stuff doesn't want to work either. Only thing that does is either the examples (for some reason) and my old stuff which uses neither to any great effect, like drawing on the screen.
<br/>
<br/>
The dualis problem will be unrelated, but if anyone can help on that too I'd be grateful.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150348 - Normmatt - Sat Feb 02, 2008 7:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>djmcbell wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">error: 'VRAM_A_MAIN_BG_0x6000000' was not declared in this scope
<br/>
error: 'VRAM_B_MAIN_BG_0x6020000' was not declared in this scope
<br/>
error: 'VRAM_C_MAIN_BG_0x6200000' was not declared in this scope</td> </tr></table><span class="postbody">
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
In the latest libnds the addresses were changed to have a 0 before the 6 so they should be:
<br/>
VRAM_A_MAIN_BG_0x06000000
<br/>
VRAM_B_MAIN_BG_0x06020000
<br/>
VRAM_C_MAIN_BG_0x06200000</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150378 - djmcbell - Sun Feb 03, 2008 1:05 pm</h4>
    <div class="postbody"><span class="postbody">Right then - that's sorted. Unfortunately it seems that there's other things not working -
<br/>
<br/>
glViewPort (not declared)
<br/>
glTexCoord1i (not declared)
<br/>
glReset (not declared)
<br/>
glIdentity (not declared)
<br/>
<br/>
I think this is likely to be something else to do with the new version of libnds I'm using. Any thoughts?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150379 - kusma - Sun Feb 03, 2008 1:16 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>djmcbell wrote:</b></span></td> </tr> <tr> <td class="quote">Right then - that's sorted. Unfortunately it seems that there's other things not working -
<br/>
<br/>
glViewPort (not declared)
<br/>
glTexCoord1i (not declared)
<br/>
glReset (not declared)
<br/>
glIdentity (not declared)
<br/>
<br/>
I think this is likely to be something else to do with the new version of libnds I'm using. Any thoughts?</td> </tr></table><span class="postbody">
<br/>
<br/>
glViewPort -&gt; glViewport
<br/>
glIdentity -&gt; glLoadIdentity
<br/>
<br/>
glReset has simply been removed, and that's a good thing IMO. It was a horrible function that removed the symptoms of state-leaks.
<br/>
<br/>
glTexCoor1i am I not sure about. I'm using glTexCoord2f32() myself, which seems to currently be available.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150393 - djmcbell - Sun Feb 03, 2008 7:10 pm</h4>
    <div class="postbody"><span class="postbody">Right then. I'm going to use the demos provided with the latest build of devkitARM to learn how to do 3D again and adapt those.
<br/>
<br/>
Anybody got any thoughts on the Dualis problem? Right now it's able to -
<br/>
<br/>
* display one old 3D demo of mine fine, which uses the bottom screen for 3D
<br/>
* all other old 3D demos of mine flicker like crazy
<br/>
* most of the examples will display their first frame, then nothing
<br/>
* just tried the paletted_cube demo, which displays but flickers lots</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
