<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>maximum polygon size - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > maximum polygon size</h2>
<div id="posts">
<div class="post">
    <h4>#98376 - Rajveer - Mon Aug 14, 2006 11:36 pm</h4>
    <div class="postbody"><span class="postbody">hi there, after trying to import quite a large level, i got some unexpected results. so i did some testing with a triangle with:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glVertex3f(-10.000,0.000,-10.000);
<br/>
glVertex3f(-10.000,0.000,test);
<br/>
glVertex3f(10.000,0.000,-10.000);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
where test would change with keypresses (test is an integer). i quickly discovered that the polygon would get larger and then all of a sudden become small, continuing like this in a loop (as if a value larger than the "limit" would remap back and make the polygon small again). anybody know whats going on? (if u get me that is)
<br/>
<br/>
cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98379 - Mighty Max - Mon Aug 14, 2006 11:45 pm</h4>
    <div class="postbody"><span class="postbody">Using a 4.12 fixed point type you can not create values bigger then 
<br/>
(2 ^15-1) / (2^12) ~= 7.99. So no value of 8 and above. -8 is the lower limit.
<br/>
<br/>
Create it smaller and scale up.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98381 - Rajveer - Tue Aug 15, 2006 12:00 am</h4>
    <div class="postbody"><span class="postbody">cool cheers for the reply.
<br/>
<br/>
question: i thought glVertex3f used a float point number and its fixed point counterpart is glVertexv16?
<br/>
<br/>
scaling it up means redoing a lot of collision detection stuff :(
<br/>
<br/>
edit: i guess one way would be to make the actual world much smaller to fit within the 8 to -8 limit right
<br/>
<br/>
and it would be 7 to -7 no? cos the first bit is signed i.e. 1.3.12</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98391 - sajiimori - Tue Aug 15, 2006 12:37 am</h4>
    <div class="postbody"><span class="postbody">Scaling is normal.
<br/>
<br/>
Collision data is typically separate from visual data anyway.  The concerns are very different for those two purposes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98395 - Rajveer - Tue Aug 15, 2006 12:46 am</h4>
    <div class="postbody"><span class="postbody">im using a method by which i store vertex data as an array (actually i created a new typedef for polygons, including 3 vertex arrays of size 3), this way i can also use the vertex data for raytracing collisions (imagine a racer where the vehicle has to snap its rotation to the rotation of the polygon). no biggie however, ill scale the level down to a power of 2 and bitshift back up wherever i use the vertex data (although may degrade performance).
<br/>
<br/>
oh and if these methods are newbish, its my first ever project :-D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98448 - Cearn - Tue Aug 15, 2006 10:02 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Rajveer wrote:</b></span></td> </tr> <tr> <td class="quote">edit: i guess one way would be to make the actual world much smaller to fit within the 8 to -8 limit right
<br/>
<br/>
and it would be 7 to -7 no? cos the first bit is signed i.e. 1.3.12</td> </tr></table><span class="postbody">
<br/>
No it wouldn't. v16 is just a typedef for <span style="font-style: italic">short</span> and works via 2s complement just like any other integer so the range is [-8.000h,+7.FFFh]. The 1.3.12 is just a (somewhat misleading) notation people sometimes use to indicate the thing is signed rather than unsigned, but there is no dedicated sign bit like in floats.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
