<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to initialize text console with small fixed fonts? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > How to initialize text console with small fixed fonts?</h2>
<div id="posts">
<div class="post">
    <h4>#107788 - diggla - Thu Nov 02, 2006 12:34 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
i cannot find any tutorials etc. on how to initialize a text console with a small fixed fontset. Here is an example of a homebrew which uses a small fixed console font: <a href="http://www.nightmode.org/dscrawl/" target="_blank">http://www.nightmode.org/dscrawl/</a>
<br/>
<br/>
Thanks in advance :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107804 - Ant6n - Thu Nov 02, 2006 5:08 am</h4>
    <div class="postbody"><span class="postbody">i dont know about the DS, but for the gba you could use this tutorial
<br/>
<a href="http://user.chem.tue.nl/jakvijn/tonc/text.htm" target="_blank">http://user.chem.tue.nl/jakvijn/tonc/text.htm</a>
<br/>
(which is part of the tonc collection)
<br/>
maybe you can still get something out of it ;)
<br/>
<br/>
anton</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107807 - TJ - Thu Nov 02, 2006 5:51 am</h4>
    <div class="postbody"><span class="postbody">libnds comes with a demo that shows how to use a custom font for the system console, have you looked into that?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107809 - DekuTree64 - Thu Nov 02, 2006 6:17 am</h4>
    <div class="postbody"><span class="postbody">The libnds console can only do 8x8 fonts. You'll have to write your own system if you want other sizes, and it will have to actually write to char data instead of just setting screen map entries to point to preloaded chars.
<br/>
<br/>
Looks like the font in that screenshot you posted is 5x8, which means you'll have to deal with glyphs that are half on one char and half on another. Either that or just use a full bitmap layer.
<br/>
<br/>
I had a nice idea for a high-speed variable size font system a while back, but wound up being too busy with work to make much progress on it. I do still need it for my tracker though, so it will have to be finished sooner or later. Perhaps I'll give it a go right now, even :)<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107951 - PypeBros - Fri Nov 03, 2006 11:10 am</h4>
    <div class="postbody"><span class="postbody">if i was to do 5x8 font on the DS, i guess i'd just use 2 or more layers and give them proper scrolling values so that the first 5x8 character on layer 2 appears to be just next to the the first character of layer 1.
<br/>
<br/>
E.g. layer 1 would have scrollx=0
<br/>
      layer 2 would have scrollx=5
<br/>
      layer 3 would have scrollx=10
<br/>
<br/>
Then if i'm to display "Hello", that'd mean 
<br/>
layer 1: H_l
<br/>
layer 2: e_o
<br/>
layer 3: l
<br/>
<br/>
In other words, you'll have 'H' at (0,0), 'e' at (5,0), 'l' at (10,0), then a new 'l' at (16,0) and finally 'o' at (21,0).
<br/>
<br/>
Okay, that means you have an extra white space (of one pixel) every 3 character ... maybe it won't be too much noticable<br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107966 - tepples - Fri Nov 03, 2006 3:15 pm</h4>
    <div class="postbody"><span class="postbody">That or use a rot/scale layer, as seen in <a class="postlink" href="http://www.pineight.com/gba/#static" target="_blank">my 6x8 demo for GBA</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107971 - PypeBros - Fri Nov 03, 2006 4:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">That or use a rot/scale layer, as seen in <a class="postlink" href="http://www.pineight.com/gba/#static" target="_blank">my 6x8 demo for GBA</a>.</td> </tr></table><span class="postbody">
<br/>
<br/>
That's what i'd have done in first place, but won't there be some kind of ugly unpredictable pixel squeezing due to the scaling ? 
<br/>
<br/>
I mean, you'll still have to submit an 8x8 font and the hardware will have to 'drop' two columns out of it ... can you tell in advance which pixels will be dropped so that you're not unfortunately missing what distinguish an lowercase 'l' from a lowercase 't', for instance?<br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107972 - diggla - Fri Nov 03, 2006 4:47 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for your input. I'll try the bitmap text approach first as shown for the GBA at <a href="http://user.chem.tue.nl/jakvijn/tonc/text.htm#sec-bm" target="_blank">http://user.chem.tue.nl/jakvijn/tonc/text.htm#sec-bm</a> . Rot/scale looks promising too. There is also a rot/scale demo in the CVS repo at devkitPro/examples/nds/Graphics/2D/rotscale_text. But scaling down an 8x8 font will lead to a somewhat chopped font face.
<br/>
<br/>
I have to see what looks best :) I'm pretty new to NDS homebrew so it'll take quite a while to see promising results :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107983 - tepples - Fri Nov 03, 2006 7:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PypeBros wrote:</b></span></td> </tr> <tr> <td class="quote">but won't there be some kind of ugly unpredictable pixel squeezing due to the scaling ? 
<br/>
<br/>
I mean, you'll still have to submit an 8x8 font and the hardware will have to 'drop' two columns out of it ... can you tell in advance which pixels will be dropped so that you're not unfortunately missing what distinguish an lowercase 'l' from a lowercase 't', for instance?</td> </tr></table><span class="postbody">
<br/>
Lots and lots of experimentation. Make a pattern that's red-green-blue-blue and tweak the x origin and pa values of the background matrix until you can get a steady stream of red-green-blue.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108016 - HyperHacker - Sat Nov 04, 2006 7:27 am</h4>
    <div class="postbody"><span class="postbody">Seems like a waste of space though, to define those extra pixels in the first place when you aren't using them.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108079 - tepples - Sun Nov 05, 2006 2:47 am</h4>
    <div class="postbody"><span class="postbody">Using a 4-bit or 8-bit hardware tile set for a 1-bit font already wastes space. Just think of this internal fragmentation as yet another limitation of the DS that you have to work around.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
