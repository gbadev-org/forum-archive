<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>triangle guidelines for game artists? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > triangle guidelines for game artists?</h2>
<div id="posts">
<div class="post">
    <h4>#145741 - dadako - Wed Nov 21, 2007 8:52 am</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
<br/>
I'm looking for a little bit of advice, guessing this would be the place to find it!
<br/>
<br/>
Basically I would like to spec out the graphics of a DS game, but I'm unsure of what triangle counts to use. I've heard that the DS can push 2000 triangles per screen but can't find any documentation to back this up.
<br/>
<br/>
The game's genre is racing, so I was thinking about the following rough guide (think mariocart):
<br/>
<br/>
car and player selection screen: 900 tris for the car and 900 tris for the character
<br/>
<br/>
cars and players in race: 200 tris car and 200 tris character, with 3 or 4 players on screen.
<br/>
<br/>
Track: 4000 tris, built in such a way so as not to show more than 500 or so tris onscreen at any one time.
<br/>
<br/>
Does this sound reasonable?
<br/>
Am I right about the 2000 tris limit?
<br/>
What would be a reasonable texture limit in kb?
<br/>
what happens if more than 2000 tris are onscreen?
<br/>
<br/>
Well, I thank you for any replies in advance. I'm very keen to get started on this and would like to start on the right foot.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145745 - melw - Wed Nov 21, 2007 12:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dadako wrote:</b></span></td> </tr> <tr> <td class="quote">cars and players in race: 200 tris car and 200 tris character, with 3 or 4 players on screen.
<br/>
<br/>
Track: 4000 tris, built in such a way so as not to show more than 500 or so tris onscreen at any one time.
<br/>
<br/>
Does this sound reasonable?</td> </tr></table><span class="postbody">
<br/>
Pretty much, yes. Best to experiment with the values a bit, though and you'll see how it'll end up on screen. DS screen size is after all physically so small that even lowpoly models can look good.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dadako wrote:</b></span></td> </tr> <tr> <td class="quote">Am I right about the 2000 tris limit?</td> </tr></table><span class="postbody">
<br/>
Yes. The limit is subject to change depending on how many triangles are clipping, but you can normally render at least close to 2000 triangles on screen.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dadako wrote:</b></span></td> </tr> <tr> <td class="quote">What would be a reasonable texture limit in kb?</td> </tr></table><span class="postbody">
<br/>
If you're using all the main vram banks for textures, you have 512kb in use. So that would be at least a reasonable top limit in most of the cases. However keep in mind that if you wish view HUD, etc. that needs some memory.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dadako wrote:</b></span></td> </tr> <tr> <td class="quote">what happens if more than 2000 tris are onscreen?</td> </tr></table><span class="postbody">
<br/>
They're simply omitted and not rendered.
<br/>
<br/>
Furthermore, you should check out Tassu's <a class="postlink" href="http://sivullinen.fi/nds/projects.php?subaction=showfull&amp;id=1187598749&amp;archive=&amp;start_from=&amp;ucat=2&amp;" target="_blank">Whee ! DS 2</a> - another homebrew racing game (although not with cars). Perhaps ask him the amount of polys and textures he's using in the game?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145759 - M3d10n - Wed Nov 21, 2007 6:16 pm</h4>
    <div class="postbody"><span class="postbody">Racing game? You should seriously consider using multiple level-of-detail models. You'll hardly have multiple cars all too close to the camera at the same time, and when they are viewed at a distance you wouldn't see the extra polygons anyway.
<br/>
<br/>
When you have backface culling on, for objects like people and cars you get ~40% of the triangles culled. As example, I have a 550 triangles character and the maximum triangle count reported by the DS is 290 (less in some camera angles).
<br/>
<br/>
The best way to get a good idea of how many polygons the DS is really drawing is to write a stub nds that loads your models and allows you to see the polygon counter as you move the camera.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145780 - dadako - Thu Nov 22, 2007 1:54 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the replies.
<br/>
<br/>
If I were to go for a set of LOD models, I'm guessing high / med / low would be OK.
<br/>
<br/>
I've noticed that mariokart doesn't use LOD models (if it does there must be many) - is there any sort of camera draw distance auto LODing code out there?
<br/>
<br/>
Thanks for confirming the 2000 polygon thing. I take it that the textures are in an uncompressed format like PNG or BMP?
<br/>
<br/>
The end goal is to see models on the DS however this is just an exercise in budgeting for now, hopefully one day I can see everything flying about for real, coder I am not.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145785 - M3d10n - Thu Nov 22, 2007 11:29 am</h4>
    <div class="postbody"><span class="postbody">Since the DS screen resolution is so low, it is very hard to notice the switch to LOD models if they're done well enough.
<br/>
<br/>
When modeling for DS, I suggest you keep a viewport window which has the same size as the DS screen (256x192), with bilinear filtering and mipmapping turned off. It's much easier to keep the models low-polygon that way, because you can see which polygons you can get rid of without compromising the model shape too much.
<br/>
<br/>
As for textures, the DS doesn't take file formats like PNG or JPEG directly, if you want those your game code must support that. Also, whatever compression you use in your file format (JPEG, as example) will only affect storage space usage: for the image to be displayed on the screen it must be converted into one of the DS's supported image formats. LibNDS comes with a small PCX file loader which works well. The DS can use 4-bits and 8-bits palleted textures (16 and 256 colors, respectively) and direct 16-bits textures (15-bit color and 1-bit transparency). You can get those from PCX files. 
<br/>
<br/>
Additionally, there are other 3 image formats: 3-bits palleted (8 colors) with 5-bits alpha (32 levels of translucency), 5-bits palleted (32 colors) with 3-bits alpha (8 levels of translucency) and the compressed format (which is similar to S3TC/DXT1 compressed DDS files). To create those you need custom-made image converters. There is a couple of them on this forum, I think.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145819 - nce - Fri Nov 23, 2007 1:11 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote"> The DS can use 4-bits and 8-bits palleted textures (16 and 256 colors, respectively) and direct 16-bits textures (15-bit color and 1-bit transparency). </td> </tr></table><span class="postbody">
<br/>
<br/>
It support also the 2-bits paletted ( 4 colors ).  I use that a lot for environment. :)
<br/>
And the color keying, meaning that you can say that your first color in the palette will be transparent.<br/>_________________<br/>-jerome-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145840 - NeX - Fri Nov 23, 2007 5:39 pm</h4>
    <div class="postbody"><span class="postbody">Won't 2-bit look a bit... rubbish?  It's not exactly next-gen.  I suppose it would be good enough for plain cartoony scenes.<br/>_________________<br/><a class="postlink" href="http://www.mediafire.com/?cuyb10fzdz2" target="_blank">Strummer</a> or <a class="postlink" href="http://www.mediafire.com/?71zxcztscix" target="_blank">Drummer?</a>.  
<br/>
Or maybe you would rather play with sand? <a class="postlink" href="http://www.mediafire.com/?a05z5wmdvxm" target="_blank">Sandscape is for you in that case.</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145846 - Mighty Max - Fri Nov 23, 2007 8:31 pm</h4>
    <div class="postbody"><span class="postbody">Well it's just a texture. It's not the amount of colors in the rendered scene. 
<br/>
<br/>
For some grass in the distance (actually not that far away) more then 4 colors would be a waste. Don't foget that lighting, AA and such are adding to the colors too.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145865 - dadako - Sat Nov 24, 2007 3:23 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the palette advice guys.
<br/>
<br/>
I used to be a spriter so things should be ok :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
