<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Debug a Plugin - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Debug a Plugin</h2>
<div id="posts">
<div class="post">
    <h4>#112166 - chuckstudios - Wed Dec 13, 2006 10:45 pm</h4>
    <div class="postbody"><span class="postbody">Hi guys, through Firon I have obtained the new AAC plugin for Moonshell. It compiles, but freezes on the first frame of decoding. I'm bad at coding, Firon can't code at all, and Moonlight can't figure it out. So we need your help.
<br/>
<br/>
<a class="postlink" href="http://mdxonlinemirror.dyndns.org/mspv10_aac_20061213.zip" target="_blank">Source code</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112167 - Firon - Wed Dec 13, 2006 10:47 pm</h4>
    <div class="postbody"><span class="postbody">The function that hangs when called is faacDecDecode, which is in arm9\source\plug_aac.c. It may not be the root of the problem, though.
<br/>
<br/>
If you want to compile and test it, you need devkitARM r17. 19b won't work (if you can figure out why, that'd also be nice).
<br/>
Don't forget to edit the paths in setenv_devkitPror17.bat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112189 - HyperHacker - Thu Dec 14, 2006 6:18 am</h4>
    <div class="postbody"><span class="postbody">I'm definitely going to want to know if you get this working.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112403 - Firon - Fri Dec 15, 2006 11:42 pm</h4>
    <div class="postbody"><span class="postbody">Test of the AAC decoder.
<br/>
<br/>
<a href="http://mdxonlinemirror.dyndns.org/stdaacdec.zip" target="_blank">http://mdxonlinemirror.dyndns.org/stdaacdec.zip</a>
<br/>
<br/>
This is a stand-alone decoder. Creates aacfile.wav from aacfile.aac.
<br/>
<br/>
&gt;const char AdapterDetect[13]="Adapter:MPCF\0";
<br/>
Change this to your adapter ID in \arm9\source\gba_nds_fat_2006-09-08\disc_io.c
<br/>
<br/>
When compiled (and this one will compile with devkitARM r19b), it will output _BOOT_MP.nds
<br/>
<br/>
Perhaps this stand-alone version will make it a little easier to debug.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112458 - oofrab - Sat Dec 16, 2006 4:59 pm</h4>
    <div class="postbody"><span class="postbody">Not that I have any info on the problem, but to compile the above source on linux, which is case sensitive, I had to fix a few source files. Stuff like
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;NDS.h&gt;</td> </tr></table><span class="postbody"> failed, since the file, in my DevkitPro, is in lower case, nds.h.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112626 - Firon - Mon Dec 18, 2006 8:13 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://mdxonlinemirror.dyndns.org/moonshell/mspfiles/mspv10_aac_20061218.7z" target="_blank">http://mdxonlinemirror.dyndns.org/moonshell/mspfiles/mspv10_aac_20061218.7z</a>
<br/>
<br/>
It's been sort of fixed. It decodes, but you can't seek. It's a start though!
<br/>
<br/>
Edit: spoke too soon. It plays back, but with a horrible clicking noise.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112665 - HyperHacker - Tue Dec 19, 2006 8:39 am</h4>
    <div class="postbody"><span class="postbody">That's probably a simple buffer-related glitch or some bad hardware settings. You're at least double-buffering right? ;-)<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
