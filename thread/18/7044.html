<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>One asm problem (In NDS) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > One asm problem (In NDS)</h2>
<div id="posts">
<div class="post">
    <h4>#55885 - RoTTe - Mon Oct 03, 2005 8:22 pm</h4>
    <div class="postbody"><span class="postbody">I have this:
<br/>
<br/>
0237:F0A4                 MOV     LR, PC
<br/>
0237:F0A8                 BX      R0
<br/>
0237:F0AC                 LDMFD   SP!, {LR}
<br/>
0237:F0B0                 BX      LR
<br/>
<br/>
R0 = 0xBA9
<br/>
<br/>
If R0 = 0xBA9, and BX oper. PC &lt;- R0, and knowing the code to which jumps really makes something, where does the execution go to (PC)? I am confused :(
<br/>
<br/>
Thank's :D 
<br/>
<br/>
P.S: I am really sure that R0 only contains 0xBA9</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55886 - Mighty Max - Mon Oct 03, 2005 8:30 pm</h4>
    <div class="postbody"><span class="postbody">if r0 is 0xBA9 then the arm will jumpt to 0xBA8 while switching to Thumb mode. 
<br/>
<br/>
lr points to arm32 bit command (no thumb) 0237:F0AC. So it exits thumb again on the BX lr.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55899 - RoTTe - Mon Oct 03, 2005 10:21 pm</h4>
    <div class="postbody"><span class="postbody">But... 0xBA8, is a region of memory....? Any Bios function?
<br/>
<br/>
P.S: The code running in the ARM7.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55924 - NEiM0D - Tue Oct 04, 2005 3:05 pm</h4>
    <div class="postbody"><span class="postbody">I doubt anyone will help you once they find out you're trying to disassemble patcher code for use with illegal .NDS roms...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55932 - Lord Graga - Tue Oct 04, 2005 6:40 pm</h4>
    <div class="postbody"><span class="postbody">Try:
<br/>
0237:F0A4 ADD LR, PC, #4
<br/>
0237:F0A8 BX R0
<br/>
0237:F0AC LDMFD SP!, {LR}
<br/>
0237:F0B0 BX LR</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55967 - RoTTe - Wed Oct 05, 2005 12:42 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>NEiM0D wrote:</b></span></td> </tr> <tr> <td class="quote">I doubt anyone will help you once they find out you're trying to disassemble patcher code for use with illegal .NDS roms...</td> </tr></table><span class="postbody">
<br/>
<br/>
I remember... that..
<br/>
<span style="font-weight: bold">I don't need disasm for that. </span>
<br/>
<br/>
I do this one just for fun. Actually I'm very old to play with the console.
<br/>
If I wanted to use this to execute "illegal" roms on it, dont you think it would be easier for me to play than disasm?
<br/>
<br/>
Sorry BAD BAD BAD, english...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55975 - Ethos - Wed Oct 05, 2005 2:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>RoTTe wrote:</b></span></td> </tr> <tr> <td class="quote">I have this:
<br/>
<br/>
0237:F0A4                 MOV     LR, PC
<br/>
0237:F0A8                 BX      R0
<br/>
0237:F0AC                 LDMFD   SP!, {LR}
<br/>
0237:F0B0                 BX      LR
<br/>
<br/>
R0 = 0xBA9
<br/>
<br/>
If R0 = 0xBA9, and BX oper. PC &lt;- R0, and knowing the code to which jumps really makes something, where does the execution go to (PC)? I am confused :(
<br/>
<br/>
Thank's :D 
<br/>
<br/>
P.S: I am really sure that R0 only contains 0xBA9</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
<br/>
Blah, Blah...
<br/>
<br/>
STMFD   SP!, {LR}   where art thou?<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56080 - NEiM0D - Wed Oct 05, 2005 10:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>RoTTe wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>NEiM0D wrote:</b></span></td> </tr> <tr> <td class="quote">I doubt anyone will help you once they find out you're trying to disassemble patcher code for use with illegal .NDS roms...</td> </tr></table><span class="postbody">
<br/>
<br/>
I remember... that..
<br/>
<span style="font-weight: bold">I don't need disasm for that. </span>
<br/>
<br/>
I do this one just for fun. Actually I'm very old to play with the console.
<br/>
If I wanted to use this to execute "illegal" roms on it, dont you think it would be easier for me to play than disasm?
<br/>
<br/>
Sorry BAD BAD BAD, english...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Or perhaps you're just another Neoflash trying to pierce your way into the pirate flashcard market using NDS patcher tools.
<br/>
<br/>
Of course, you'd actually need to know how those work by reverse engineering them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56984 - RoTTe - Wed Oct 12, 2005 9:50 pm</h4>
    <div class="postbody"><span class="postbody">I've already found the solution, and the code is already 'disasm'. If anyone is interested about it, it has some interesting functions for the bank switch/page flipping in the ne*ofl*a*sh or x*g*2 cartridges. Now I'm about to implement these for pogoshell.
<br/>
<br/>
*Saludos*</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
