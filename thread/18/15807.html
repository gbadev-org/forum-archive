<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>OpenGL Outlining - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > OpenGL Outlining</h2>
<div id="posts">
<div class="post">
    <h4>#160236 - JYC376 - Sat Jul 12, 2008 3:56 pm</h4>
    <div class="postbody"><span class="postbody">I've looked into outlining for NDS (glEnable(GL_OUTLINE), glSetOutlineColor, blah blah blah), but I want something like this:
<br/>
<br/>
<a href="http://xs329.xs.to/xs329/08286/outline893.png">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
Instead of having an outline around the whole group of polygons.  <a class="postlink" href="http://www.codeproject.com/KB/openGL/Outline_Mode.aspx" target="_blank">The code I used (on Linux/Win/OSX):</a>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// Push the GL attribute bits so that we don't wreck any settings
<br/>
<br/>
glPushAttrib( GL_ALL_ATTRIB_BITS );
<br/>
// Enable polygon offsets, and offset filled polygons forward by 2.5
<br/>
<br/>
glEnable( GL_POLYGON_OFFSET_FILL );
<br/>
glPolygonOffset( -2.5f, -2.5f );
<br/>
// Set the render mode to be line rendering with a thick line width
<br/>
<br/>
glPolygonMode( GL_FRONT_AND_BACK, GL_LINE );
<br/>
glLineWidth( 3.0f );
<br/>
// Set the colour to be white
<br/>
<br/>
glColor3f( 1.0f, 1.0f, 1.0f );
<br/>
// Render the object
<br/>
<br/>
RenderMesh3();
<br/>
// Set the polygon mode to be filled triangles 
<br/>
<br/>
glPolygonMode( GL_FRONT_AND_BACK, GL_FILL );
<br/>
glEnable( GL_LIGHTING );
<br/>
// Set the colour to the background
<br/>
<br/>
glColor3f( 0.0f, 0.0f, 0.0f );
<br/>
// Render the object
<br/>
<br/>
RenderMesh3();
<br/>
// Pop the state changes off the attribute stack
<br/>
<br/>
// to set things back how they were
<br/>
<br/>
glPopAttrib();</td> </tr></table><span class="postbody">
<br/>
<br/>
When I just have GL_OUTLINE and one group of polygons, the whole image would look flat, as if the the center pillar is a bridge between the two sides (sorry, my cam isn't working right now).
<br/>
<br/>
I've made the game figure out different polyIDs for each square/pillar, but I would like a better solution.
<br/>
<br/>
Thanks.
<br/>
<br/>
Oh, and <a class="postlink" href="http://code.google.com/p/l-echo/downloads/list" target="_blank">the code and binaries.</a>
<br/>
<br/>
The NDS stuff are named n-echo and the Linux/Win/OSX are named l-echo.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160242 - tepples - Sat Jul 12, 2008 7:28 pm</h4>
    <div class="postbody"><span class="postbody">You could always try using white textures with black borders.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160254 - silent_code - Sat Jul 12, 2008 10:03 pm</h4>
    <div class="postbody"><span class="postbody">There should be no problem, if you split the parts that need an outline and assing each part a different polygon ID (iIrc, that was required to make it work correctly, but I might be wrong.)
<br/>
<br/>
PS: You might want to check the quad lying flat on the ground, there's some depth fighting.
<br/>
Also, I think it's possible to make screenshots on emulators (I have just tested it on hardware)... and this looks interesting. :^)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160262 - Holland - Sun Jul 13, 2008 1:03 am</h4>
    <div class="postbody"><span class="postbody">i'm not sure how the videoGL api works for the DS because i haven't gotten that far really...but for a good outline (like in cell shading) you can do this on the computer (using normal OpenGL)...
<br/>
<br/>
cull front face
<br/>
scale the model up a bit
<br/>
draw it all black
<br/>
cull back face
<br/>
scale model back to normal
<br/>
draw it with normal color
<br/>
<br/>
the outline looks really nice actually, and it's an outline around the entire model instead of along each edge (like wireframe might be).
<br/>
<br/>
i think this method is more efficient thatn using GL_LINE too..soemthing about GL_LINE messing with the pixel work done in the rasterizer..but i'm probably wrong. :D
<br/>
<br/>
i'm curious now to see how this method looks on the NDS using videoGL..someone try it and show me!! haha</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160275 - JYC376 - Sun Jul 13, 2008 10:34 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">There should be no problem, if you split the parts that need an outline and assing each part a different polygon ID (iIrc, that was required to make it work correctly, but I might be wrong.)
<br/>
<br/>
PS: You might want to check the quad lying flat on the ground, there's some depth fighting.
<br/>
Also, I think it's possible to make screenshots on emulators (I have just tested it on hardware)... and this looks interesting. :^)</td> </tr></table><span class="postbody">
<br/>
<br/>
damn desmume doesn't work with linux (at least the 3d part...it's having troubles with opengl).
<br/>
<br/>
@tepples: hmms...mapping it to <a class="postlink" href="http://sempai-net.com/mhfan/d+e/echochrome.JPG" target="_blank">this guy</a> would be tough, though.
<br/>
<br/>
@Holland:  I'll try it later...
<br/>
<br/>
and it's GL_OUTLINE (play phantom hourglass and you can see it), not GL_LINE(no line drawing in NDS, have to make thin triangle).</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
