<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Render to texture? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Render to texture?</h2>
<div id="posts">
<div class="post">
    <h4>#129823 - LoTekK - Sun May 27, 2007 5:34 pm</h4>
    <div class="postbody"><span class="postbody">I've heard of rtt bandied about in discussions pertaining to doubling the 2000 poly hardware limit, but I'm actually wondering how viable it would be to be able to rtt a 100-tri animated model into a sprite that stands roughly 24wide x 48high (so a 32x64 texture). More importantly, is something like that doable?
<br/>
<br/>
Would the operation be fast enough to use in place of animated models, assuming I've got potentially 10 of these 100tri models onscreen? Would it be viable to use something like this as a lodding system, so to speak?
<br/>
<br/>
(again, I'm an artist, not a programmer, I'm just trying to figure out some options while building my art assets)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129828 - tepples - Sun May 27, 2007 8:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LoTekK wrote:</b></span></td> </tr> <tr> <td class="quote">I've heard of rtt bandied about in discussions pertaining to doubling the 2000 poly hardware limit, but I'm actually wondering how viable it would be to be able to rtt a 100-tri animated model into a sprite that stands roughly 24wide x 48high (so a 32x64 texture). More importantly, is something like that doable?</td> </tr></table><span class="postbody">
<br/>
Yes, but you need to give up a <span style="font-style: italic">lot</span> of VRAM that you would otherwise use for textures because you have to use two VRAM banks as frame buffers: one to hold the render target and one to hold the previous frame (so that it can be displayed instead of the render target).
<br/>
<br/>
Also remember that the triangle limit counts only triangles facing the camera, not triangles facing away. And using quads where you can saves even more geometry RAM, as a quad takes about 2/3 of the space of the equivalent triangles.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129832 - Cydrak - Sun May 27, 2007 8:33 pm</h4>
    <div class="postbody"><span class="postbody">If you're doing this over 2D, it would be easier to render the models normally, on the 3D layer (and the rest on BGs). It's not opaque unless you want it to be; you can have BG/OBJ layers in front of and behind it. The 3D BG0 even has per pixel alpha (!) so transparency works.
<br/>
<br/>
As for RTT... 3D is completely tied to the screen refresh. You could render 10 or 20 as a "sprite sheet", but it'll always take one frame, 1/60 sec, no matter what size.
<br/>
<br/>
This raises obvious questions if your scenes are 3D. ;) I think you'd have to halve your framerate, capture the scene as you're displaying it, then display the capture next frame. But I'm still trying to "get" how this works, myself...
<br/>
<br/>
Finally, as tepples said, you can't share sprite/texture and render banks... not even if you split them in half. So you would need two or three. As these are 128K apiece, well--it's up to you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129834 - LoTekK - Sun May 27, 2007 9:03 pm</h4>
    <div class="postbody"><span class="postbody">Ahh, thanks for the explanation, that certainly puts things into perspective. For the moment, after putting together a test environment,  it looks like as long as my future programmer can get per-poly occlusion culling into the engine, I should be pretty safe as far as polycount, so I thankfully/hopefully won't need to even think about rtt for the sprites.
<br/>
<br/>
<span style="font-style: italic">edit:</span>
<br/>
Oops, left the post page open a bit long, didn't see your response, Cydrak. When I was musing about the RTT, it was mainly because while doing the math in my head before putting an environment together, my polycount was looking a bit dire, in relation to the hardware limits. Thankfully, as stated, I had overestimated the probable polycount for the enviros, so I'm currently in good shape. Thanks again to both of you for the explanations. :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
