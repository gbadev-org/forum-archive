<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>nds data storage problems - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > nds data storage problems</h2>
<div id="posts">
<div class="post">
    <h4>#89164 - dh2050 - Fri Jun 23, 2006 11:30 am</h4>
    <div class="postbody"><span class="postbody">I'm having a problem with retreiving data and pafs and gbfs cant handle the amount of data i put in 
<br/>
is there a way to import a whole (big) text file into a string(char array)
<br/>
<br/>
thks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89179 - tepples - Fri Jun 23, 2006 1:23 pm</h4>
    <div class="postbody"><span class="postbody">Which flash equipment are you using, and how big is the file? At least on the GBA using a GBA flash card, GBFS works fine with 1 MB files (see GSM Player).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89183 - dh2050 - Fri Jun 23, 2006 1:26 pm</h4>
    <div class="postbody"><span class="postbody">basically the file is bout 4 mb
<br/>
<br/>
im considering spilting the file into small chunks of text
<br/>
but the number of file would be insane
<br/>
<br/>
im using supercard ds</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89186 - tepples - Fri Jun 23, 2006 1:34 pm</h4>
    <div class="postbody"><span class="postbody">How are you accessing the .gbfs file from within your code? Are you using bin2s, or are you using the appended method (find_first_gbfs_file())?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89187 - dh2050 - Fri Jun 23, 2006 1:44 pm</h4>
    <div class="postbody"><span class="postbody">well i use palib to make my program
<br/>
<br/>
the code:
<br/>
sprintf (data,"%s", PA_GetGBFSFile (filestart, str, ""));
<br/>
<br/>
<br/>
well i admit i dont really know how to make a gbfs file or extract the data from it (1st time working with gbfs)
<br/>
<br/>
btw is it possible to get all this data into a string (i need to process all these data)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89200 - silent_code - Fri Jun 23, 2006 2:57 pm</h4>
    <div class="postbody"><span class="postbody">you better read it from rom, not cram it into code (i'm sure you won't get 4mb of anything into ram) ;) so you're right saving it in a filesystem. splitting the file into sevaral categorized and smaller files may improve your access times, as you won't have to scan through the entire 4mb (!) textfile to find your e.g. 20 character string you need to display... for example you could make chapters, or common text and special text files, something like that. i don't know what kind of text you use (it really doen't matter), so you'll have to think for yourself.
<br/>
<br/>
happy coding!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89203 - dh2050 - Fri Jun 23, 2006 3:22 pm</h4>
    <div class="postbody"><span class="postbody">well if i do the "many small text files" method... its gonna be a 5 digit figure of files 
<br/>
(im not so sure whether gbfs can handle that may files in the 1st place but i tried compiling the files using gbfs creator by 7raven studios and the program gave an "overflow" error)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89391 - silent_code - Sat Jun 24, 2006 5:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dh2050 wrote:</b></span></td> </tr> <tr> <td class="quote">well if i do the "many small text files" method... its gonna be a 5 digit figure of files 
<br/>
(im not so sure whether gbfs can handle that may files in the 1st place but i tried compiling the files using gbfs creator by 7raven studios and the program gave an "overflow" error)</td> </tr></table><span class="postbody">
<br/>
<br/>
it's up to you how you split the files... if you can merge it in one file or split it into a "5 digit figure" of files, then you probably can also split it into, let's say 25 files... wouldn't that be possible? i mean, just think of categories!when it's like 10000 files, you can merge each 1000 into one and there you go. then the program needs to check where the data is located (you really should know that by yourself) and opens the file... there you go.
<br/>
<br/>
you'll have to find an alternative solution (categories!!! like all speach data, all level infos, all common data, all menu text, all whatever)  because neither 1 4mb file nor up to 99999 files are the right thing.
<br/>
<br/>
i hope you find a good solution to your problem! :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
