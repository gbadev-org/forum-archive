<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Maximum Size of 3D Shapes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Maximum Size of 3D Shapes</h2>
<div id="posts">
<div class="post">
    <h4>#45753 - iainprice - Tue Jun 14, 2005 4:48 pm</h4>
    <div class="postbody"><span class="postbody">I seem to be able to display 3d shapes with co-ordinates of up to 10.0
<br/>
<br/>
Is there any way of using larger shapes than this or do I have to try to scale everything else down?
<br/>
<br/>
I am drawing a series of quads and they are all fine until the co-ords get above 10, then they just don't draw...yes the zfar is set to 40 so the camera can cope....
<br/>
<br/>
any ideas anyone?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45761 - mike260 - Tue Jun 14, 2005 6:45 pm</h4>
    <div class="postbody"><span class="postbody">The DS can only handle input vertices between -8 and 8. The trick is that although this restricts the vertices you can pass in, internally it can handle a much larger range.
<br/>
<br/>
So the best way to get around this problem is to store each object translated and scaled to fit within a 16x16x16 cube centered on the origin. Then, before rendering an object, apply a scale and translation to the current modelview matrix that will take the object back to the correct position and size.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45763 - iainprice - Tue Jun 14, 2005 7:00 pm</h4>
    <div class="postbody"><span class="postbody">Not quite with you... so how do I pass in values to glVertex3v16 of larger than 8?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45780 - mike260 - Tue Jun 14, 2005 9:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>iainprice wrote:</b></span></td> </tr> <tr> <td class="quote">Not quite with you... so how do I pass in values to glVertex3v16 of larger than 8?</td> </tr></table><span class="postbody">
<br/>
<br/>
You can't. All verts you pass in with glVertex* MUST be between (-8,-8,-8) and (8,8,8). But there's no restriction on where your verts end up after being transformed.
<br/>
<br/>
So say you want to draw an object in the general area of (100,100,100). The following will NOT work:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glBegin( GL_TRIANGLE );
<br/>
glVertex3v16( intov16(100), intov16(100), intov16(100) );
<br/>
glVertex3v16( intov16(101), intov16(100), intov16(100) );
<br/>
glVertex3v16( intov16(100), intov16(101), intov16(100) );
<br/>
glEnd();
<br/>
</td> </tr></table><span class="postbody">
<br/>
Instead, you need to do something like this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glMatrixMode( GL_MODELVIEW );
<br/>
glPushMatrix();
<br/>
glTranslate3f32( floatof32(100), floatof32(100), floatof32(100) );
<br/>
<br/>
glBegin( GL_TRIANGLE );
<br/>
glVertex3v16( intov16(0), intov16(0), intov16(0) );
<br/>
glVertex3v16( intov16(1), intov16(0), intov16(0) );
<br/>
glVertex3v16( intov16(0), intov16(1), intov16(0) );
<br/>
glEnd();
<br/>
<br/>
glPopMatrix();
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The glTranslate() in this code has the effect of adding (100,100,100) to each vertex.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
