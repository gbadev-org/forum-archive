<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Transparency with RGB256 textures - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Transparency with RGB256 textures</h2>
<div id="posts">
<div class="post">
    <h4>#142051 - NeX - Wed Oct 03, 2007 10:38 pm</h4>
    <div class="postbody"><span class="postbody">Is there any?  If so, how do I set it up?
<br/>
If I can get texture pixels transparent in this mode, get ready for SandScape3D.  I'm doing it using a 32x32x32 array, if you're interested, with a 32x32 texture on 32 quads, layered.  Should look quite interesting and whilst I can't get anything much up on the screen yet, the particle numbers being returned by the console indicate that it is working within expectated parameters.  A stream of sand dropped from the top of the cube is capable of getting 56-64 grains of sand in the block as they fall.<br/>_________________<br/><a class="postlink" href="http://www.mediafire.com/?cuyb10fzdz2" target="_blank">Strummer</a> or <a class="postlink" href="http://www.mediafire.com/?71zxcztscix" target="_blank">Drummer?</a>.  
<br/>
Or maybe you would rather play with sand? <a class="postlink" href="http://www.mediafire.com/?a05z5wmdvxm" target="_blank">Sandscape is for you in that case.</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142052 - Corsix - Wed Oct 03, 2007 10:48 pm</h4>
    <div class="postbody"><span class="postbody">For paletted images, palette index 0 is transparent. For 16 bit images, the most significant bit, BIT(15), is the transparency bit.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142109 - NeX - Thu Oct 04, 2007 3:48 pm</h4>
    <div class="postbody"><span class="postbody">I've tried colour 0 and setting bit 15 in the colour palette... neither resulted in anything other than solid black.<br/>_________________<br/><a class="postlink" href="http://www.mediafire.com/?cuyb10fzdz2" target="_blank">Strummer</a> or <a class="postlink" href="http://www.mediafire.com/?71zxcztscix" target="_blank">Drummer?</a>.  
<br/>
Or maybe you would rather play with sand? <a class="postlink" href="http://www.mediafire.com/?a05z5wmdvxm" target="_blank">Sandscape is for you in that case.</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142162 - Sausage Boy - Fri Oct 05, 2007 3:08 pm</h4>
    <div class="postbody"><span class="postbody">You need to set bit 29 in TEXIMAGE_PARAM. I quote GBATEK
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">40004A8h - Cmd 2Ah - TEXIMAGE_PARAM - Set Texture Parameters (W)
<br/>
<br/>
  ...
<br/>
  29    Color 0 of 4/16/256-Color Palettes (0=Displayed, 1=Made Transparent)
<br/>
  ...
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
To do this with libnds, add GL_TEXTURE_COLOR0_TRANSPARENT like this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">glTexImage2D(0, 0, GL_RGB256, TEXTURE_SIZE_32, TEXTURE_SIZE_32, 0, TEXGEN_TEXCOORD | GL_TEXTURE_COLOR0_TRANSPARENT, (u8*)texture_bin);</td> </tr></table><span class="postbody"><br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142168 - NeX - Fri Oct 05, 2007 6:00 pm</h4>
    <div class="postbody"><span class="postbody">Thanks!<br/>_________________<br/><a class="postlink" href="http://www.mediafire.com/?cuyb10fzdz2" target="_blank">Strummer</a> or <a class="postlink" href="http://www.mediafire.com/?71zxcztscix" target="_blank">Drummer?</a>.  
<br/>
Or maybe you would rather play with sand? <a class="postlink" href="http://www.mediafire.com/?a05z5wmdvxm" target="_blank">Sandscape is for you in that case.</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
