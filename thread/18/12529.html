<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sample Looping - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Sample Looping</h2>
<div id="posts">
<div class="post">
    <h4>#119476 - Nelzon - Fri Feb 23, 2007 12:17 pm</h4>
    <div class="postbody"><span class="postbody">On the page of the drunkencoders guys there is the following piece of code which should play a sound from the beginning to the end and then keep looping between the loopOffset and the end of the sample. I think it doesn't work in the described way but plays SampleLength - loopOffset bytes from the beginning and then starts looping between loopOffset and the end of the sample.
<br/>
<br/>
  SCHANNEL_LENGTH(c) = SampleLength - loopOffset;
<br/>
  SCHANNEL_REPEAT_POINT(c) = loopOffset;
<br/>
  SCHANNEL_CR(c) = SOUND_ENABLE | SOUND_VOL(0x3F) | SOUND_REPEAT;     
<br/>
<br/>
Does anybody know how to get it done like it's meant to be? I'm afraid there is some sort of notification IRQ necessary, fired when the sample's been played completely but I haven't found anything about it.
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120192 - Nelzon - Thu Mar 01, 2007 6:35 pm</h4>
    <div class="postbody"><span class="postbody">Has anybody an idea on this topic?<br/>_________________<br/>The mind creates reality.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
