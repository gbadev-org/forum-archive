<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Questions in the Backgrounds topic - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Questions in the Backgrounds topic</h2>
<div id="posts">
<div class="post">
    <h4>#154465 - yellowstar - Wed Apr 16, 2008 8:37 pm</h4>
    <div class="postbody"><span class="postbody">The following is the questions I asked in my Backgrounds topic... Those of you that are reading this, could you at least read <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=154367#154367" target="_blank">this</a> also,(Scroll up for the what the problem is)
<br/>
and would somebody help by doing this?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Everybody, if anybody is reading this, how would you do this? How would you write code to draw a 8-bit image on a bg when the image doesn't fill the whole bg?(Whole demo please, if possible) 
<br/>
</td> </tr></table><span class="postbody">
<br/>
(I'd like to know if there's even anybody that's just reading that topic)
<br/>
<br/>
Now, for those questions I asked in the original topic that nobody answered:(No offense people...)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar in <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=154367#154367" target="_blank">Backgrounds</a> wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I went through the Patater guide, and found some things about DMA:
<br/>
Patater wrote:
<br/>
<br/>
When using DMA to copy from main memory, do not forget to flush main memory before using DMA. Another issue to consider would be that in the middle of a DMA, the main CPUs are prevented from using certain memory hardware.
<br/>
<br/>
I always thought DMA froze the processors while at work? If Patater is correct, that doesn't happen? Flush? He only flushed in OAM updating, unlike what he himself said. I attempted adding code to flush cache, and waiting for DMA to finish, at every DMA ocerance, but still nothing changed. What all would be locked during DMA?
<br/>
<br/>
Some wackiness with VRAM and numbers:
<br/>
To hold one 256x256 8-bit bg in VRAM, I need 65536 bytes of space. That's 4 blocks; Unlike what some examples say, they say index 3, I find 4. And examples say I only need Bank A, those numbers say I need another one, too. Double buffers take 131072 bytes, that more than what Bank A can handle. Mapping another bank to MAIN_BG doesn't help my problems; Why? Also, why do the examples say what the do, when they seem to be wrong? Or am I wrong?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar in <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=154414#154414" target="_blank">Backgrounds</a> wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
DeSmume reports that DISPCNT is contantly changing, why, and what is that register? Is it the old DISPLAY_CR?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Another question:
<br/>
What's the difference between a cache flush and invalidate?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154466 - Alphanoob - Wed Apr 16, 2008 8:39 pm</h4>
    <div class="postbody"><span class="postbody">Rofl, I read your post. You said you wanted to know. I would help if I could, but I am way new to programming this sort of stuff. Sorry, and good luck =).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154467 - Dwedit - Wed Apr 16, 2008 8:41 pm</h4>
    <div class="postbody"><span class="postbody">I think this was discussed somewhere else in the cache thread, but I think invalidating eliminates the cache, and keeps the old content in memory, and I can't think of any good use for that.
<br/>
Flushing would write it back.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154470 - Alphanoob - Wed Apr 16, 2008 8:46 pm</h4>
    <div class="postbody"><span class="postbody">mmm. so you delete the cache, but it isn't really gone? well, maybe it could be used for system restore points like on a computer. You know, how if something goes wrong you can jump back a few days to when it was all good?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154472 - Dwedit - Wed Apr 16, 2008 8:49 pm</h4>
    <div class="postbody"><span class="postbody">Okay, if you want to be picky, it eliminates <span style="font-weight: bold">the contents of</span> the cache...
<br/>
<br/>
The cache is internal to the processor, and is small.  No "Windows restore points" could possibly come out of it.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#154480 - yellowstar - Wed Apr 16, 2008 9:37 pm</h4>
    <div class="postbody"><span class="postbody">So what happens when I flush the cache, without doing an invalidate? How could cache affect my backgrounds thing?
<br/>
<br/>
Fast replies... Would be wonderful if my backgrounds problem got replies that fast...
<br/>
Really I want people to do for helping, to the bare minimum, regarding the original problem, is what I quoted.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Everybody, if anybody is reading this, how would you do this? How would you write code to draw a 8-bit image on a bg when the image doesn't fill the whole bg?(Whole demo please, if possible)
<br/>
</td> </tr></table><span class="postbody">
<br/>
Sent out 3 PMs regarding backgrounds and no response at all... I'm going to attempt a rewrite for that backgrounds thing.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
