<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>I need some debugging tips - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > I need some debugging tips</h2>
<div id="posts">
<div class="post">
    <h4>#42686 - rize - Sat May 14, 2005 12:00 am</h4>
    <div class="postbody"><span class="postbody">I'm driving myself crazy trying to debug some stuff I'm working on.
<br/>
<br/>
Between having no ability to step through the code *and* having a console that can only show 25 lines of output at a time this is just all kinds of tedious.  And I should also mention emulators that don't necessarily work right (and no pass through just yet).
<br/>
<br/>
Are there any techniques for dealing with this other than making sure my error output never exceeds 25 lines?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42687 - DekuTree64 - Sat May 14, 2005 12:07 am</h4>
    <div class="postbody"><span class="postbody">Not that I know of, but it would be pretty easy to code up a scrolling debug output that sits on the top screen. I might whip one of those up myself tomorrow...<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42694 - josath - Sat May 14, 2005 1:33 am</h4>
    <div class="postbody"><span class="postbody">if you're using dualis, it supports a debug print function that prints to the dualis console (Ctrl+C to bring it up i think):
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// Outputs a string to the dualis console
<br/>
void print(char *s) {
<br/>
    // warning! will crash on hardware (i think)!
<br/>
    asm volatile ("mov r0, %0;" "swi 0xff0000;":
<br/>
                  :"r" (s):"r0");
<br/>
}</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42709 - rize - Sat May 14, 2005 3:36 am</h4>
    <div class="postbody"><span class="postbody">oh man... that rocks
<br/>
<br/>
I had just gotten finished deciding to simply tokenize my debug and stop using line breaks to save space
<br/>
<br/>
of course, you have to convert vars to strings so it's a little less flexible</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42721 - rize - Sat May 14, 2005 6:25 am</h4>
    <div class="postbody"><span class="postbody">hmm... of all the stupid things I'm having trouble converting standard data types into strings.
<br/>
<br/>
ordinarily you'd use consolePrintf("... %d", int);
<br/>
<br/>
or
<br/>
<br/>
cout &lt;&lt; "..." &lt;&lt; int &lt;&lt; "...";
<br/>
<br/>
but I need a string as an argument to the print(*char); function.
<br/>
<br/>
naturally I could write some functions to do this for me, but I figure there must be some already.  But so far I haven't found any.  And the C++ &lt;string&gt; include doesn't seem to give me access to the C++ string class in the DS environment.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42722 - josath - Sat May 14, 2005 6:40 am</h4>
    <div class="postbody"><span class="postbody">how about this: (this is what i usually do)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int x=10, y=20;
<br/>
char buf[1024];
<br/>
sprintf(buf, "debug position: %d / %d", x, y);
<br/>
print(buf);
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42723 - rize - Sat May 14, 2005 6:49 am</h4>
    <div class="postbody"><span class="postbody">didn't know that was possible (my c skills aren't up to snuff).  Thanks for the tips, this should make life, much, much easier.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
