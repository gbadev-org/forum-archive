<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Threading - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Threading</h2>
<div id="posts">
<div class="post">
    <h4>#49557 - GPFerror - Sun Jul 31, 2005 6:05 am</h4>
    <div class="postbody"><span class="postbody">does the DS's arm9 and or arm7 processor support threading?
<br/>
<br/>
If we built the devkitarm with threading support would it work?
<br/>
<br/>
Could we use a some kind of timer interrupt to do thread scheduling. 
<br/>
<br/>
Thanks,
<br/>
Troy</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49558 - sajiimori - Sun Jul 31, 2005 6:16 am</h4>
    <div class="postbody"><span class="postbody">Threading is implemented in software.  Timer interrupts work fine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49559 - tepples - Sun Jul 31, 2005 6:27 am</h4>
    <div class="postbody"><span class="postbody">For more predictable performance, I'd suggest hooking your thread scheduler on the vcount interrupt.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49561 - GPFerror - Sun Jul 31, 2005 8:02 am</h4>
    <div class="postbody"><span class="postbody">thanks, Are there any example of thread schedulers?
<br/>
<br/>
or is there any examples of code for swapping out running threads?
<br/>
<br/>
I have little experience from this side, more used to just using an existing thread library.
<br/>
<br/>
Hooking it to the vcount interupt sound interesting as well, any examples?
<br/>
<br/>
thanks,
<br/>
Troy</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49562 - notb4dinner - Sun Jul 31, 2005 8:26 am</h4>
    <div class="postbody"><span class="postbody">I can email (no webspace at the moment) you some simple code to do threading and PIP scheduling on the GBA if you like, doing it on the DS should be fundamentally the same.  I thoroughly recommend using your own threading code at least once just for the understanding you gain.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49582 - GPFerror - Sun Jul 31, 2005 6:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>notb4dinner wrote:</b></span></td> </tr> <tr> <td class="quote">I can email (no webspace at the moment) you some simple code to do threading and PIP scheduling on the GBA if you like, doing it on the DS should be fundamentally the same.  I thoroughly recommend using your own threading code at least once just for the understanding you gain.</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks, sent you a PM with my email address.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54618 - GPFerror - Tue Sep 20, 2005 10:28 pm</h4>
    <div class="postbody"><span class="postbody">ok here my attempt at porting the gba's RTAdvance to the DS
<br/>
<br/>
Its at least compiled :), and partially runs in dsemu
<br/>
<br/>
/* RTAdvanceDemo.c by Matthew Blyde
<br/>
 * 
<br/>
 * Simple demonstration of thread creation, semaphores, mutexs and priority inheritance.
<br/>
 * These mechanisms are used to implement a program to count the number of times a user
<br/>
 * presses the A button, followed by the UP button.
<br/>
*/
<br/>
<br/>
<a href="http://gpf.dcemu.co.uk/RTAdvance.rar" target="_blank">http://gpf.dcemu.co.uk/RTAdvance.rar</a>
<br/>
<br/>
dont know if it works at all on hardware, but the source is there if anyone wants to fix it or tell me how :)
<br/>
<br/>
Troy(GPF)
<br/>
<br/>
Edit: ok confirmed to not work on hardware :( oh well</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72801 - GPFerror - Tue Feb 21, 2006 9:38 pm</h4>
    <div class="postbody"><span class="postbody">anyone ever successfully update this code? Still looking for a set of code to create a threading library for the DS.
<br/>
<br/>
Thanks,
<br/>
Troy(GPF)
<br/>
<a href="http://gpf.dcemu.co.uk" target="_blank">http://gpf.dcemu.co.uk</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72842 - GPFerror - Wed Feb 22, 2006 2:23 am</h4>
    <div class="postbody"><span class="postbody">awesome natrium figured out my bug today in #mellowdsdev
<br/>
<br/>
in RTConfig.h
<br/>
increase the stack size from 512 to 2048
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define STACK_SIZE 2048</td> </tr></table><span class="postbody">
<br/>
<br/>
can't belive that was the problem all along lol. I'll release the source and binaries soon, then it time to figure out how to convert this into a threading library :)
<br/>
<br/>
thanks again natrium
<br/>
<br/>
Troy(GPF)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
