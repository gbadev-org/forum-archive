<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Text bg scroll? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Text bg scroll?</h2>
<div id="posts">
<div class="post">
    <h4>#74653 - Webez - Mon Mar 06, 2006 8:29 pm</h4>
    <div class="postbody"><span class="postbody">Hi.
<br/>
<br/>
I have set a text background in mode 0 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">  vramSetBankC(VRAM_C_SUB_BG);
<br/>
 
<br/>
  videoSetModeSub(MODE_0_2D | DISPLAY_BG0_ACTIVE| DISPLAY_BG1_ACTIVE);
<br/>
<br/>
SUB_BG1_CR = BG_256_COLOR | BG_TILE_BASE(char_base) | BG_MAP_BASE(screen_base);
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
And I wanted to test scrolling so I have put SUB_BG1_X0++ into a vblank function. In dualis it works ok but on desmume and  hardware it doesn't scroll. Am I doing something wrong?
<br/>
<br/>
Other strange thing that happens is that when I set BG_WRAP_ON or GL_TEXTURE_WRAP_S/T (this with textures of course) then garbage appears in the tile image.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74760 - Webez - Tue Mar 07, 2006 1:04 pm</h4>
    <div class="postbody"><span class="postbody">I have printed SUB_BG1_X0 and only dualis seems to be update it.  How is this possible?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74772 - FluBBa - Tue Mar 07, 2006 4:02 pm</h4>
    <div class="postbody"><span class="postbody">Can you actually read from the hardware registers?<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74774 - Webez - Tue Mar 07, 2006 4:16 pm</h4>
    <div class="postbody"><span class="postbody">Dualis can but it is a write only register isn't it?
<br/>
<br/>
Is it necessary something more to scroll a text background? I have tried the same with the hello world example and it didn't scroll either</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74784 - Sausage Boy - Tue Mar 07, 2006 5:54 pm</h4>
    <div class="postbody"><span class="postbody">uhm, have you tried SUB_BG1_X0=44; or something? I'm pretty sure the problem is that you can't read the register, so ++ won't work.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74786 - Webez - Tue Mar 07, 2006 6:12 pm</h4>
    <div class="postbody"><span class="postbody">So simple that I feel stupid. I also tried SUB_BG1_X0+=1 but I didnt thought it was trying to read the register. Now I see that += and ++ need to read it. Really stupid.
<br/>
<br/>
Thanks a lot!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74789 - Sausage Boy - Tue Mar 07, 2006 6:46 pm</h4>
    <div class="postbody"><span class="postbody">No problem :D<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
