<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Make compiling errors by compiling ANY homebrew - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Make compiling errors by compiling ANY homebrew</h2>
<div id="posts">
<div class="post">
    <h4>#134398 - Nold - Thu Jul 12, 2007 11:23 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
After compiling a lot of DSLinux versions i now want to compile my own versions of other Hombrew... So i thing i get DevkitARM/Pro to work on my Xubuntu 7.04 PC, but i even get a lot of error if i try to compile any kind of hombrew here is the example on the Win2DS client, DS2Win arm7 part:
<br/>
<br/>
[Fehler = Error (German ^^)]
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">nold@x-p3-nold:~/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7$ make
<br/>
arm7.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/build/arm7.d -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb-interwork -I/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/include -I/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/build -I/home/nold/devkitPro/libnds/include -I/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/build -DARM7 -c /home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp -o arm7.o
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp: In function 'void VblankHandler()':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp:51: error: 'volatile struct sTransferRegion' has no member named 'curtime'
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp:79: error: 'ct' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp:86: error: 'volatile struct sTransferRegion' has no member named 'heartbeat'
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp:98: error: 'volatile struct sTransferRegion' has no member named 'curtime'
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp: In function 'int main(int, char**)':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp:151: error: invalid conversion from 'void (*)(...)' to 'void (*)()'
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm7/source/arm7.cpp:151: error:   initializing argument 2 of 'void irqSet(IRQ_MASK, void (*)())'
<br/>
make[1]: *** [arm7.o] Fehler 1
<br/>
make: *** [build] Fehler 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
here's the arm9 part:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">ASCII.bin
<br/>
clickdown.raw
<br/>
clickup.raw
<br/>
splash.jpg
<br/>
arm9.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/build/arm9.d -g -Wall -O2 -mcpu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer -ffast-math -mthumb -mthumb-interwork -I/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/include -I/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/keyboard/source -I/home/nold/devkitPro/libnds/include -I/home/nold/devkitPro/libnds/include -I/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/build -I/c/projects/ds/wifi_lib/arm9/include -I/c/projects/ds/win2ds/ -DARM9 -c /home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp -o arm9.o
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:17:24: warning: sys\socket.h: No such file or directory
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:18:24: warning: netinet\in.h: No such file or directory
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:21:21: error: netdata.h: No such file or directory
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:27:23: error: ascii_bin.h: No such file or directory
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'void waitVbl()':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:179: error: 'POWER_CR' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:184: error: 'POWER_CR' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'char* printKey(unsigned char)':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:190: warning: address of local variable 'tmp' returned
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'void gamePadMode()':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:309: error: 'POWER_CR' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:320: error: 'MOUSECLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:322: error: 'MOUSEMCLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:324: error: 'MOUSERCLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:333: error: 'MOUSECLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:335: error: 'MOUSEMCLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:337: error: 'MOUSERCLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'void bindMenu(unsigned char*)':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:396: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:397: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'void virtualDesktopMode()':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:545: error: 'MOUSECLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:547: error: 'MOUSEMCLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:549: error: 'MOUSERCLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:563: error: 'MOUSECLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:565: error: 'MOUSEMCLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:567: error: 'MOUSERCLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:597: error: 'MOUSECLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:599: error: 'MOUSECLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:601: error: 'MOUSERCLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:603: error: 'MOUSERCLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:605: error: 'MOUSEMCLICKDOWN' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:607: error: 'MOUSEMCLICKUP' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'bool selectAP()':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:867: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'bool enterIP(long unsigned int*, char*)':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:916: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:921: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:927: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:934: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:942: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'bool connectionMenu()':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:1034: warning: taking address of temporary
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp: In function 'int main()':
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:1195: error: 'VRAM_A_MAIN_BG_0x6000000' was not declared in this scope
<br/>
/home/nold/Desktop/Win2DS-Source/Win2DS/DS2Win/arm9/source/arm9.cpp:1195: error: 'VRAM_B_MAIN_BG_0x6020000' was not declared in this scope
<br/>
make[1]: *** [arm9.o] Fehler 1
<br/>
make: *** [build] Fehler 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Thanks for all answers
<br/>
<br/>
Bye Nold<br/>_________________<br/>Bye Nold!
<br/>
<br/>
Visit my NDS homepage: <a href="http://www.NolDS.dl.am" target="_blank">www.NolDS.dl.am</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134417 - chuckstudios - Fri Jul 13, 2007 1:42 am</h4>
    <div class="postbody"><span class="postbody">Some of the problems are due to outdated source.</span><span class="gensmall"><br/><br/>Last edited by chuckstudios on Fri Jul 13, 2007 1:46 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#134418 - wintermute - Fri Jul 13, 2007 1:43 am</h4>
    <div class="postbody"><span class="postbody">For the arm7 problems you're probably best taking an arm7 core from the most recent template examples and modifying it with whatever changes were added to the Win2DS source.
<br/>
<br/>
On the ARM9 side you're missing the dswifi lib, most recent is 0.3.2 - see <a href="http://www.devkitpro.org/dswifi/dswifi-032-released/" target="_blank">http://www.devkitpro.org/dswifi/dswifi-032-released/</a>
<br/>
<br/>
POWER_CR was replaced with REG_POWERCNT, in line with gbatek naming - several of these changes can be seen in registers_alt.h.
<br/>
<br/>
VRAM_A_MAIN_BG_0x6000000 had a leading zero added - VRAM_A_MAIN_BG_0x06000000, simliarly with VRAM_B_MAIN_BG_0x6020000
<br/>
<br/>
The others I'm not sure about but "error: ascii_bin.h: No such file or directory" may give a clue. That looks like the rule to generate headers for binary linking is wrong and may indicate you're using a fairly old toolchain.  Upgrade devkitARM and see if that helps. CVS is currently probably not in a state for end users to be able to build so, if possible, you should probably use the linux binaries for now.
<br/>
<br/>
I'm planning on releasing a new set of stable buildscripts along at the same time as r21.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
