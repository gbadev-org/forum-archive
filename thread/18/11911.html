<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GBAMP SD integration - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > GBAMP SD integration</h2>
<div id="posts">
<div class="post">
    <h4>#111717 - GoopyMonkey - Sat Dec 09, 2006 11:20 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://chuckstudios.netfast.org/moonshell/io_m2sd.rar" target="_blank">Here</a> is the source for reading (and possibly writing to, not yet tested) the SD card when using a GBAMP SD. Just thought I'd bring this to people's attention so we can possibly make versions of apps/games for GBAMP SD.
<br/>
<br/>
Please delete if this this off-topic or move if it's in the wrong forum.
<br/>
<br/>
<a class="postlink" href="http://chuckstudios.netfast.org/moonshell/Moonshell_for_m2sd.rar" target="_blank">A version of MoonShell has been modified (v 1.5)</a> to read the SD card as normal, although I cannot launch NDS files which, for me, pretty much renders it useless. According to the readme included, you should put _ in front of your filename.[/url]
<br/>
<br/>
EDIT: Thanks for that little notice, chuckstudios. I didn't realise that.<br/>_________________<br/>My favourite DS apps:
<br/>
<a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=14182" target="_blank">Colors!</a>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=134210" target="_blank">jEnesis</a></span><span class="gensmall"><br/><br/>Last edited by GoopyMonkey on Sat Dec 09, 2006 8:01 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#111744 - chuckstudios - Sat Dec 09, 2006 7:22 pm</h4>
    <div class="postbody"><span class="postbody">Please note: that source is modified. It was made as an easy way to make M3 compatible homebrew become M2SD compatible.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112186 - Firon - Thu Dec 14, 2006 5:50 am</h4>
    <div class="postbody"><span class="postbody"><a href="http://mdxonlinemirror.dyndns.org/mpsd" target="_blank">http://mdxonlinemirror.dyndns.org/mpsd</a>(m2sd)test.7z
<br/>
For any GBAMP SD users, please test these 3 .nds files and post which one (if any) works right/at all. This requires a previous installation of Moonshell 1.5, though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112253 - ps2aich - Thu Dec 14, 2006 10:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Firon wrote:</b></span></td> </tr> <tr> <td class="quote">http://mdxonlinemirror.dyndns.org/mpsd(m2sd)test.7z
<br/>
For any GBAMP SD users, please test these 3 .nds files and post which one (if any) works right/at all. This requires a previous installation of Moonshell 1.5, though.</td> </tr></table><span class="postbody">
<br/>
<br/>
So I ve got my hands on a nds and a passcard, now I was able
<br/>
to give the update a try:
<br/>
<br/>
The update worked as described in the readme, and the delivered
<br/>
_BOOT_MP_1122.nds booted up, and was a Moonshell version,
<br/>
with following text under 'Help and Support':
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
--MoonShell Enhanced Version Help--
<br/>
<br/>
November, 2006
<br/>
Support GBA/NDS Movie Player sprcial .GBM form at movie and .GBS format music.
<br/>
Support LRC/TXT format synchronous lyric file.
<br/>
......
<br/>
Author:
<br/>
MoonShell Version 0.9 by Moonlight
<br/>
Enhance by GBAlpha
<br/>
......
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I played MP3s successfully and a .GBM Movie
<br/>
<br/>
@Firon:
<br/>
I tested all three of your versions, and everyone started up, but failed when to doing the write test and then failed with a critical error
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
...
<br/>
Detected FAT16
<br/>
Detected adapter is [Movie Player SD]
<br/>
found shell=/shell
<br/>
<br/>
Resume initialize.
<br/>
Cluster=0x00004424
<br/>
Sector=0x00088640
<br/>
Test: direct disk reading.
<br/>
Test: direct disk writing. failed.
<br/>
position = (1,0xb1!=0x83)
<br/>
<br/>
Critical error!! CPU HALT for safety.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Since writing is not implemented in the delivered lib, the disc writing test
<br/>
failure is not surprising. 
<br/>
But the read access was successful, good work, Firon.
<br/>
Are you able to build a version without write support (if this was 
<br/>
the reason for the critical error)?
<br/>
<br/>
<br/>
@chuckstudios:
<br/>
<br/>
Can you upload your modified moonshell 1.5 again to another place,
<br/>
because the given webspace seems not to be present anymore.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112270 - Firon - Thu Dec 14, 2006 11:06 pm</h4>
    <div class="postbody"><span class="postbody">It's not my build, Moonlight himself is building this. Thanks for testing. I'll tell him the results of the test.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112279 - chuckstudios - Thu Dec 14, 2006 11:31 pm</h4>
    <div class="postbody"><span class="postbody">[quote="ps2aich"]</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Firon wrote:</b></span></td> </tr> <tr> <td class="quote">@chuckstudios:
<br/>
<br/>
Can you upload your modified moonshell 1.5 again to another place,
<br/>
because the given webspace seems not to be present anymore.</td> </tr></table><span class="postbody">
<br/>
<br/>
<a href="http://chuckstudios.netfast.org/moonshell/Moonshell_for_m2sd.rar" target="_blank">http://chuckstudios.netfast.org/moonshell/Moonshell_for_m2sd.rar</a>
<br/>
<br/>
Link still works for me... :-/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112333 - ps2aich - Fri Dec 15, 2006 9:34 am</h4>
    <div class="postbody"><span class="postbody">[quote="chuckstudios"]</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ps2aich wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Firon wrote:</b></span></td> </tr> <tr> <td class="quote">@chuckstudios:
<br/>
<br/>
Can you upload your modified moonshell 1.5 again to another place,
<br/>
because the given webspace seems not to be present anymore.</td> </tr></table><span class="postbody">
<br/>
<br/>
<a href="http://chuckstudios.netfast.org/moonshell/Moonshell_for_m2sd.rar" target="_blank">http://chuckstudios.netfast.org/moonshell/Moonshell_for_m2sd.rar</a>
<br/>
<br/>
Link still works for me... :-/</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Hi chuckstudios,
<br/>
<br/>
now it works also for me again (From work). yesterday (from home) a 
<br/>
weird webpage was displayed. I don't know the reason for this.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112343 - chuckstudios - Fri Dec 15, 2006 11:45 am</h4>
    <div class="postbody"><span class="postbody">Was it by chance, a picture frame on a black background? That's my web host's 404 page...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112345 - melw - Fri Dec 15, 2006 12:23 pm</h4>
    <div class="postbody"><span class="postbody">I get the same critical error as ps2aich when trying to run the <a href="http://mdxonlinemirror.dyndns.org/mpsd" target="_blank">http://mdxonlinemirror.dyndns.org/mpsd</a>(m2sd)test.7z version. Chuckstudios links don't work either - can you move them somewhere (Rapidshare or similar) where downloading works consistently.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112347 - ps2aich - Fri Dec 15, 2006 12:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chuckstudios wrote:</b></span></td> </tr> <tr> <td class="quote">Was it by chance, a picture frame on a black background? That's my web host's 404 page...</td> </tr></table><span class="postbody">
<br/>
<br/>
yes, this was it :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112387 - chuckstudios - Fri Dec 15, 2006 9:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>melw wrote:</b></span></td> </tr> <tr> <td class="quote">Chuckstudios links don't work either - can you move them somewhere (Rapidshare or similar) where downloading works consistently.</td> </tr></table><span class="postbody">
<br/>
<br/>
<a href="http://rapidshare.com/files/7639639/Moonshell_for_m2sd.rar.html" target="_blank">http://rapidshare.com/files/7639639/Moonshell_for_m2sd.rar.html</a>
<br/>
<br/>
Just for you ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112590 - melw - Mon Dec 18, 2006 10:46 am</h4>
    <div class="postbody"><span class="postbody">Chuckstudios, thanks. Tried your version, but unfortunately Moonshell halts also there in a critical error. Last things shown on screen:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Test: direct disk reading.
<br/>
Test: direct disk writing. failed.
<br/>
position = (1,0xb1!=0x83)
<br/>
<br/>
Critical error!! CPU HALT for safety.</td> </tr></table><span class="postbody">
<br/>
<br/>
Not surprised that disk writing doesn't work, though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112592 - ps2aich - Mon Dec 18, 2006 11:22 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>melw wrote:</b></span></td> </tr> <tr> <td class="quote">Chuckstudios, thanks. Tried your version, but unfortunately Moonshell halts also there in a critical error. Last things shown on screen:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Test: direct disk reading.
<br/>
Test: direct disk writing. failed.
<br/>
position = (1,0xb1!=0x83)
<br/>
<br/>
Critical error!! CPU HALT for safety.</td> </tr></table><span class="postbody">
<br/>
<br/>
Not surprised that disk writing doesn't work, though.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
BTW, Moonlight released 1.5.1 Version this weekend of Moonshell (with disabled write test), and this works for me and my GBAMPSD :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113842 - altometer - Sun Dec 31, 2006 6:17 am</h4>
    <div class="postbody"><span class="postbody">would anyone happen to have a backup of the new firmware? it downloads at 2kbs x.x<br/>_________________<br/>I have no sig. &gt;.&gt; &lt;.&lt; &gt;.&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113845 - tepples - Sun Dec 31, 2006 7:24 am</h4>
    <div class="postbody"><span class="postbody">2 KB per second shouldn't be hard to deal with if you can stay online for five minutes. Is it that you're getting cut off?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#113858 - GoopyMonkey - Sun Dec 31, 2006 2:46 pm</h4>
    <div class="postbody"><span class="postbody">So at the moment, we can only read the SD card, but not yet write data to it?
<br/>
If someone were to modify the code for writing to a CF card just as has been done to the reading code, would the compatibility level for the GBAMP SD rise to that of the GBAMP CF? (With special builds of the applications, of course.)
<br/>
<br/>
I myself cannot change it or even have a go at it, as I don't know any GBA/DS coding at all. *looks at &lt;INSERT PROGRAMMER'S USERNAME HERE&gt; hopefully*<br/>_________________<br/>My favourite DS apps:
<br/>
<a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=14182" target="_blank">Colors!</a>
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=134210" target="_blank">jEnesis</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
