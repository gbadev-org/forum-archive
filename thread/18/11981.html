<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Direct writing to VRAM - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Direct writing to VRAM</h2>
<div id="posts">
<div class="post">
    <h4>#112682 - akalenuk - Tue Dec 19, 2006 12:56 pm</h4>
    <div class="postbody"><span class="postbody">Is it possible to write data directly into VRAM? Isn't it mapped as a regular ROM?
<br/>
<br/>
To put it straight - I need to put pixel of a specific color on the subscreen over all backgrounds and objects. How can I do that?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112684 - nornagon - Tue Dec 19, 2006 1:19 pm</h4>
    <div class="postbody"><span class="postbody">VRAM does not support byte writes, only halfword writes. That means, if you want to set one pixel, you have to read the halfword it's in, set the pixel you want, and write it back.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112692 - akalenuk - Tue Dec 19, 2006 2:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nornagon wrote:</b></span></td> </tr> <tr> <td class="quote">VRAM does not support byte writes, only halfword writes. That means, if you want to set one pixel, you have to read the halfword it's in, set the pixel you want, and write it back.</td> </tr></table><span class="postbody">
<br/>
<br/>
Hm. Than might be the problem. On DS halfword 32 bits, right?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112695 - Dark Knight ez - Tue Dec 19, 2006 2:30 pm</h4>
    <div class="postbody"><span class="postbody">As far as I know, a word on the DS is 32 bits.
<br/>
VRAM supports 16-bit writes.
<br/>
<br/>
You might want to look into doing something similiar as is done in doublec's tutorial. 
<br/>
*checks*
<br/>
Access to the tutorial and his site in general seems to be forbidden... hmm...
<br/>
<br/>
Well, basicly, you can have an extended rotation BG, also known as ERB, also known as affine background. Such a background supports direct writing to it. Mode5 has an ERB which can be used. Look it up.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://amplituds.drunkencoders.com" target="_blank">AmplituDS website</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112697 - akalenuk - Tue Dec 19, 2006 3:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dark Knight ez wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Well, basicly, you can have an extended rotation BG, also known as ERB, also known as affine background. Such a background supports direct writing to it. Mode5 has an ERB which can be used. Look it up.</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks. I'll try this ERB.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112730 - nornagon - Tue Dec 19, 2006 11:05 pm</h4>
    <div class="postbody"><span class="postbody">Framebuffer also lets you write pixels straight up.
<br/>
<br/>
A byte is 8 bits, a word is 32 bits, and a halfword is 16.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112751 - tepples - Wed Dec 20, 2006 12:07 am</h4>
    <div class="postbody"><span class="postbody">Extended rotation is almost always better than framebuffer mode. The big difference is that with extended rotation, you have to set bit 15 of each pixel, as values 0x0000 through 0x7FFF are considered fully transparent.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
