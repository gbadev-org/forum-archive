<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to use outlining and edge antialiasing - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > How to use outlining and edge antialiasing</h2>
<div id="posts">
<div class="post">
    <h4>#42244 - bluescrn - Sun May 08, 2005 10:31 am</h4>
    <div class="postbody"><span class="postbody">As a few people are starting to keep their knowledge to themselves due to ongoing compos, I decided I'll share what I've figured out so far....
<br/>
<br/>
Edge antialiasing couldn't be easier:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glEnable(GL_ANTIALIAS);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
would appear to be all you need!
<br/>
<br/>
Outlining is a neat feature - it'll draw a single-pixel outline around a group of polygons with the same ID - for example giving a perfect outline around a cel-shaded object.
<br/>
<br/>
IDs range from 0-63, giving 8 groups of 8 IDs. (group 0 is IDs 0-7, group 1 is IDs 8-15, etc) Each group can have its own outline colour.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glEnable(GL_OUTLINE);
<br/>
glSetOutlineColor(nIDGroup, RGB15(r,g,b));
<br/>
<br/>
glPolyFmt( [normal flags here] | POLY_ID(nId))
<br/>
<br/>
// draw polys
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The outline will be drawn where a polygon edge meets a polygon with a different ID (even if in the same group).
<br/>
<br/>
Outlining and edge AA can be used together, but it doesn't look very good.
<br/>
<br/>
There's an annoying glitch with outlining - it'll always draw an outline at the edges of the screen where the polygon is clipped. Not sure if there's any way to prevent this - maybe you just have to cover it up with something...
<br/>
<br/>
<br/>
...now to try to figure out translucency....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42252 - YodaNC - Sun May 08, 2005 3:24 pm</h4>
    <div class="postbody"><span class="postbody">have you tried glEnable(GL_OUTLINE | GL_ANTIALIAS);  ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42253 - bluescrn - Sun May 08, 2005 3:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>YodaNC wrote:</b></span></td> </tr> <tr> <td class="quote">have you tried glEnable(GL_OUTLINE | GL_ANTIALIAS);  ?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes. you get sort-of antialiased outlines....  might be useful for some things, but I didn't think it looked great. Might give a fairly nice subtle effect if used with carefully chosen colours, but it didn't really look quite right....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42274 - BMcC - Sun May 08, 2005 9:48 pm</h4>
    <div class="postbody"><span class="postbody">That's very cool, thanks for sharing!
<br/>
<br/>
It seems odd to me that outlining like that would come right out of the box, but I ain't arguin'.
<br/>
<br/>
Where was this compo announced, by the way?  I'm new here.<br/>_________________<br/>&lt;3,
<br/>
BMcC</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42276 - bluescrn - Sun May 08, 2005 10:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>BMcC wrote:</b></span></td> </tr> <tr> <td class="quote">That's very cool, thanks for sharing!
<br/>
<br/>
It seems odd to me that outlining like that would come right out of the box, but I ain't arguin'.
<br/>
<br/>
Where was this compo announced, by the way?  I'm new here.</td> </tr></table><span class="postbody">
<br/>
<br/>
There's actually 2 compos on....
<br/>
<br/>
one at <a href="http://www.gbax.com" target="_blank">www.gbax.com</a>
<br/>
one at neoflash.com (http://www.neoflash.com/forum/index.php?topic=127.0)
<br/>
<br/>
<br/>
And if anyone figures out a way to get antialiased polys and non-antialiased outlined polys in the same scene, I'd be very interested to know how... I've not managed it yet, and I'm starting to think it may not be possible?
<br/>
<br/>
The edge AA looks amazing on flat-shaded polys - I'd like to outline some objects, but keep the rest of the scene antialiased, as it makes a huge difference, especially on flat-shaded polys</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42300 - Ethos - Mon May 09, 2005 4:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>bluescrn wrote:</b></span></td> </tr> <tr> <td class="quote">As a few people are starting to keep their knowledge to themselves due to ongoing compos</td> </tr></table><span class="postbody">
<br/>
<br/>
Sooo true...I myself have given the fix for textures, but I am holding my glu Routines til after gbax...sorta a bad thing...but who can't wait a couple weeks :)<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42308 - BMcC - Mon May 09, 2005 3:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ethos wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>bluescrn wrote:</b></span></td> </tr> <tr> <td class="quote">As a few people are starting to keep their knowledge to themselves due to ongoing compos</td> </tr></table><span class="postbody">
<br/>
<br/>
Sooo true...I myself have given the fix for textures, but I am holding my glu Routines til after gbax...sorta a bad thing...but who can't wait a couple weeks :)</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I could die at <span style="font-style: italic">any moment.</span>  C'mon.
<br/>
<br/>
EDIT:  Thanks @ bluescrn for the compo information.  It's probably too late for me this year, though. :(<br/>_________________<br/>&lt;3,
<br/>
BMcC</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70132 - bananaboy - Sat Feb 04, 2006 2:43 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>bluescrn wrote:</b></span></td> </tr> <tr> <td class="quote">There's an annoying glitch with outlining - it'll always draw an outline at the edges of the screen where the polygon is clipped. Not sure if there's any way to prevent this - maybe you just have to cover it up with something...</td> </tr></table><span class="postbody">
<br/>
<br/>
Sorry for bringing back an old thread, but I just thought I'd add that the Metroid Prime Hunters demo does outlining and also exhibits this glitch.
<br/>
<br/>
sam</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70164 - unrequited - Sat Feb 04, 2006 8:25 pm</h4>
    <div class="postbody"><span class="postbody">Hey, anybody got any sceenshots or examples of this technique?<br/>_________________<br/>-Unrequited</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162318 - a128 - Sun Aug 31, 2008 10:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>bluescrn wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
There's an annoying glitch with outlining - it'll always draw an outline at the edges of the screen where the polygon is clipped. Not sure if there's any way to prevent this - maybe you just have to cover it up with something...
<br/>
</td> </tr></table><span class="postbody">
<br/>
if you use the same POLY ID i.e. 2 for the clear background and you first poly which you render then you do not have this glitch. but you have to setup glClearPolyID(63);  to glClearPolyID(2); 
<br/>
<br/>
but this maybe break AA?!?!?!
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=14705" target="_blank">http://forum.gbadev.org/viewtopic.php?t=14705</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162320 - AntonioND - Sun Aug 31, 2008 11:03 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>unrequited wrote:</b></span></td> </tr> <tr> <td class="quote">Hey, anybody got any sceenshots or examples of this technique?</td> </tr></table><span class="postbody">
<br/>
I made a little demo. Contols are indicated on it.
<br/>
<br/>
<a href="http://rapidshare.com/files/141505891/Outline.nds.html" target="_blank">http://rapidshare.com/files/141505891/Outline.nds.html</a>
<br/>
<br/>
I'll put source code if you want.
<br/>
<br/>
PS: AA + wireframe = OK, AA disabled + wireframe = bad?????
<br/>
<br/>
Edit: I didn't notice this was such an old thread. :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162329 - a128 - Sun Aug 31, 2008 7:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>AntonioND wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>unrequited wrote:</b></span></td> </tr> <tr> <td class="quote">Hey, anybody got any sceenshots or examples of this technique?</td> </tr></table><span class="postbody">
<br/>
I made a little demo. Contols are indicated on it.
<br/>
<br/>
<a href="http://rapidshare.com/files/141505891/Outline.nds.html" target="_blank">http://rapidshare.com/files/141505891/Outline.nds.html</a>
<br/>
<br/>
I'll put source code if you want.
<br/>
<br/>
<br/>
Edit: I didn't notice this was such an old thread. :P</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Nice. share the source with examles...this would be great.
<br/>
<br/>
did you noticecd any difference into not using POLY_ID 63 for the clear background?!</span><span class="gensmall"><br/><br/>Last edited by a128 on Mon Sep 01, 2008 7:46 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#162337 - Lino - Sun Aug 31, 2008 10:16 pm</h4>
    <div class="postbody"><span class="postbody">ok thanks for the source code :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162343 - AntonioND - Mon Sep 01, 2008 12:06 am</h4>
    <div class="postbody"><span class="postbody">Here we go!
<br/>
<br/>
<a href="http://rapidshare.com/files/141660038/OutlineExample.rar.html" target="_blank">http://rapidshare.com/files/141660038/OutlineExample.rar.html</a>
<br/>
<br/>
I cleaned a bit the code and modified it a bit to be able to change clear poly ID pressing a button as well as statue poly ID. 
<br/>
<br/>
a128, polygon ID can only be between 0 and 63. 64 = 0.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
