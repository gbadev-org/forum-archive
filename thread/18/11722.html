<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Rendering a skybox - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Rendering a skybox</h2>
<div id="posts">
<div class="post">
    <h4>#109353 - Rajveer - Fri Nov 17, 2006 3:21 pm</h4>
    <div class="postbody"><span class="postbody">Hi guys, I have a skybox around my terrain which I need to disable the z-buffer for as it comes infront of alot of my polygons. Problem is, nobody knows how to do it. I've tried scaling the skybox larger than I am right now, but it gets to a point where it doesn't render properly even when increasing the projection farclip limit. I'm not sure about using the display capture as from what I've heard it uses up one frame extra, reducing the frame-rate from 60 to 30. So...any ideas?
<br/>
<br/>
P.S. I need to use a skybox as my game rotates in all directions and using a scrolling background wont look right.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109400 - Lick - Sat Nov 18, 2006 12:51 am</h4>
    <div class="postbody"><span class="postbody">Yeah, there's no glDisable(GL_DEPTH_TEST); or anything.. But you could try glFlush(). Don't really know if it works.
<br/>
Some people use <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=108433#108433" target="_blank">GL_FLUSH = 0</a> instead of glFlush().
<br/>
<br/>
Also, BIT(14) of the Polygon Attribute register might disable the depth buffer.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109417 - Rajveer - Sat Nov 18, 2006 3:10 am</h4>
    <div class="postbody"><span class="postbody">Cheers for the reply!
<br/>
<br/>
I think that topic meant that using GL_FLUSH = 0 enabled depth testing with an orthographic view? But I'm not sure.
<br/>
<br/>
Something weird, enabling bit 14 of the Polygon Attribute like you mentioned using glPolyFmt stopped the following polygons being rendered...wonder what it does! Perhaps it's something to do with the z-buffer...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109711 - Valmond - Mon Nov 20, 2006 5:09 pm</h4>
    <div class="postbody"><span class="postbody">Isn't it so that there is no z-buffer but a s-buffer (scanline)?
<br/>
<br/>
Which means that you probably have to make a twopass rendreing (with
<br/>
a capture after the skybox rendering) or have a skybox like a "normal object".<br/>_________________<br/><a class="postlink" href="http://ludviglarsson.free.fr/DSLite/" target="_blank">N?fer &amp; LudLib</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109717 - Rockard - Mon Nov 20, 2006 6:25 pm</h4>
    <div class="postbody"><span class="postbody">heh, I just learnt this stuff in class. Will need it for my 3d-&gt;sprite so that I don't need to screw around with scale and z to keep "sprites" from looking weird when colliding at the same z. Looking forward to if something similiar is discovered in nds.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109729 - omaremad - Mon Nov 20, 2006 8:34 pm</h4>
    <div class="postbody"><span class="postbody">I use a 2D BMP_BG, i decompress a jpeg that i move opposite to my camera rotations, it saves allot of vram. Just rember to get layer 0 on top and a clear colour of black.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
