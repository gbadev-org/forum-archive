<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Development Tutorial - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Development Tutorial</h2>
<div id="posts">
<div class="post">
    <h4>#43072 - doublec - Wed May 18, 2005 9:07 pm</h4>
    <div class="postbody"><span class="postbody">I've only just started playing around with developing stuff for the DS and have never done any GBA programming either. It's all new to me so I thought I'd document some of the things I went through as a reminder to myself and maybe it would be of some help to others who are brand new.
<br/>
<br/>
My first attempt at explaining things, from compilation through to running on hardware is at:
<br/>
<br/>
<a class="postlink" href="http://www.double.co.nz/nintendo_ds/" target="_blank">http://www.double.co.nz/nintendo_ds/</a>
<br/>
<br/>
Any suggestions for improvements or to fix errors in what I've described would be much appreciated.
<br/>
<br/>
I hope to write more as I try out various things on the DS. 
<br/>
<br/>
Chris.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43122 - jandujar - Thu May 19, 2005 9:12 am</h4>
    <div class="postbody"><span class="postbody">nice tutorial
<br/>
<br/>
;)<br/>_________________<br/><a class="postlink" href="http://jandujar.homelinux.com" target="_blank">http://jandujar.homelinux.com</a>
<br/>
<a class="postlink" href="http://www.dsrobot.com" target="_blank">http://www.dsrobot.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43212 - Mr Snowflake - Fri May 20, 2005 11:51 am</h4>
    <div class="postbody"><span class="postbody">So, where is part 2??? :p I like this tut. Although it's very basic (which isn't a complaint), it helped me on the way :). Ok it's a short, slow driving way, but now I am going to the freeway. (hope this is as clear as it would be in dutch)
<br/>
I have a question regard this tut. I comiled the hello world demo and ran it on ideas and dsemu. But the touchx/y values aren't updated, you know how to solve?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43214 - doublec - Fri May 20, 2005 12:42 pm</h4>
    <div class="postbody"><span class="postbody">I'm working on part 2 now. I'm beating my head against the wall getting some simple graphics going using a frame buffer mode at the moment. Once I've got a handle on it I'll put it up.
<br/>
<br/>
Possibly the emulator not working is due to using a later version of the emulator? I seem to recall that if ndslib change the internal layout of the IPC structure (which holds the touch screen values) then the emulator needs to be updated. I compiled these executables using an older ndslib which had a different IPC layout. Maybe. 
<br/>
<br/>
I tested it on Dualis release 7 and it worked fine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43234 - Mr Snowflake - Fri May 20, 2005 7:31 pm</h4>
    <div class="postbody"><span class="postbody">I got the newest ndslib from cvs and the newest dualis and ideas and it won't work.
<br/>
Edit: I have a strange feeling the cvs isn't really working ... :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43236 - Ethos - Fri May 20, 2005 8:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mr Snowflake wrote:</b></span></td> </tr> <tr> <td class="quote">I got the newest ndslib from cvs and the newest dualis and ideas and it won't work.
<br/>
Edit: I have a strange feeling the cvs isn't really working ... :-)</td> </tr></table><span class="postbody">
<br/>
<br/>
Newest ndslib works with HW, not emus... (cache)
<br/>
<br/>
CVS works.  ndslib is made to work on hardware, so you'll have to wait for a new emulator version.<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43237 - Mr Snowflake - Fri May 20, 2005 8:49 pm</h4>
    <div class="postbody"><span class="postbody">Nice to know, ty :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43264 - tepples - Sat May 21, 2005 5:26 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ethos wrote:</b></span></td> </tr> <tr> <td class="quote">Newest ndslib works with HW, not emus... (cache)
<br/>
<br/>
CVS works.  ndslib is made to work on hardware, so you'll have to wait for a new emulator version.</td> </tr></table><span class="postbody">
<br/>
Are you adding anti-emulation tricks on purpose to push people to make better emulators and to drive up the price of used PassMe kits on eBay (for those people who don't have a free PCI slot in their computers or don't run Windows)?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43334 - doublec - Sun May 22, 2005 5:58 am</h4>
    <div class="postbody"><span class="postbody">Part two is up: 
<br/>
<br/>
<a class="postlink" href="http://www.double.co.nz/nintendo_ds/nds_develop2.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop2.html</a>
<br/>
<br/>
This part goes through how to use the framebuffer mode, drawing to the main screen, and the vertical blank interrupt.
<br/>
<br/>
Chris.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43353 - Mr Snowflake - Sun May 22, 2005 6:11 pm</h4>
    <div class="postbody"><span class="postbody">Nice doublec. Hope to see more soon :)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ethos wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Newest ndslib works with HW, not emus... (cache)
<br/>
<br/>
CVS works.  ndslib is made to work on hardware, so you'll have to wait for a new emulator version.</td> </tr></table><span class="postbody">
<br/>
That explains :) but what do you mean with (cache)??
<br/>
Edit: Idea for next part: checking buttonpress and touch.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43367 - Darkain - Sun May 22, 2005 8:08 pm</h4>
    <div class="postbody"><span class="postbody">you reference a "word" as being 2 bytes in size.  i would like to point out to you that you are a blatent win32 coder.  ;)  ya see... back in the day... of the windows SDK (before Win95 was made), the OS WAS 16bit based, therefor a "word" was 16bits wide.  in the switch to the Win32 SDK (Win95/NT4), microsoft didnt want to break backwards compatibility w/ their existing SDK, so they called a 32bit word a "double word" or "dword" for short.  and now their move to the win64 SDK, i do beleive that a 64bit word is referenced as a "quad word" or "qword" for short.  
<br/>
<br/>
however, if you take a look at the NDSLIB standards, we use "word" to represent 32bits of data, and we use "half word" to represent 16bits of data.  i would recomend following suit on this, as to not confuse people who read your tutorial and then try to use NDSLIB (or other projects based off of it), as they WILL get confused about what a word really is.<br/>_________________<br/>-=- Darkain Dragoon -=-
<br/>
<a class="postlink" href="http://www.darkain.com" target="_blank">http://www.darkain.com</a>
<br/>
<a class="postlink" href="http://ds.darkain.com/hack" target="_blank">DarkStar</a> for <a class="postlink" href="http://ds.darkain.com" target="_blank">Nintendo DS</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43375 - doublec - Sun May 22, 2005 9:05 pm</h4>
    <div class="postbody"><span class="postbody">Oops, you're right :-) I'll change it.
<br/>
<br/>
Cheers,
<br/>
Chris.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43381 - wintermute - Sun May 22, 2005 10:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ethos wrote:</b></span></td> </tr> <tr> <td class="quote">Newest ndslib works with HW, not emus... (cache)
<br/>
<br/>
CVS works.  ndslib is made to work on hardware, so you'll have to wait for a new emulator version.</td> </tr></table><span class="postbody">
<br/>
Are you adding anti-emulation tricks on purpose to push people to make better emulators and to drive up the price of used PassMe kits on eBay (for those people who don't have a free PCI slot in their computers or don't run Windows)?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
they're not "anti-emulation tricks" merely setting up the DS properly with cache &amp; mpu regions. Next release of Dualis works fine with the latest crtls. I believe iDeaS will also support this with the next release.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43382 - wintermute - Sun May 22, 2005 10:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">I've only just started playing around with developing stuff for the DS and have never done any GBA programming either. It's all new to me so I thought I'd document some of the things I went through as a reminder to myself and maybe it would be of some help to others who are brand new.
<br/>
<br/>
My first attempt at explaining things, from compilation through to running on hardware is at:
<br/>
<br/>
<a class="postlink" href="http://www.double.co.nz/nintendo_ds/" target="_blank">http://www.double.co.nz/nintendo_ds/</a>
<br/>
<br/>
Any suggestions for improvements or to fix errors in what I've described would be much appreciated.
<br/>
<br/>
I hope to write more as I try out various things on the DS. 
<br/>
<br/>
Chris.</td> </tr></table><span class="postbody">
<br/>
<br/>
1. don't use .bat files
<br/>
2. don't use ndsdev env
<br/>
3. don't use .bat files</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43394 - doublec - Mon May 23, 2005 1:29 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the feedback. I used .bat files just to show what commands are being executed in an easy manner. Originally I wasn't going to include any build script at all. But makefiles are just as easy I guess.
<br/>
<br/>
What's wrong with the ndsdev system? I figured it was the easiest to use as there's already information on the web to set it up quickly with a simple download and install.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43400 - wintermute - Mon May 23, 2005 2:07 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">Thanks for the feedback. I used .bat files just to show what commands are being executed in an easy manner. Originally I wasn't going to include any build script at all. But makefiles are just as easy I guess.
<br/>
<br/>
What's wrong with the ndsdev system? I figured it was the easiest to use as there's already information on the web to set it up quickly with a simple download and install.</td> </tr></table><span class="postbody">
<br/>
<br/>
Unfotunately for some reason, ndsdev env breaks devkitARM in some odd ways. I've had a number of error reports from people using it whose problems were only solved by uninstalling and reinstalling from scratch using the manual method - <a href="http://devkitpro.sourceforge.net/setup.shtml" target="_blank">http://devkitpro.sourceforge.net/setup.shtml</a>
<br/>
ndsdev env is also somewhat windows centric and full of extremely poor examples.
<br/>
<br/>
There has been a lot of work put into the toolchains provided by the devkitPro project and it's a shame to see it abused.</span><span class="gensmall"><br/><br/>Last edited by wintermute on Thu May 26, 2005 12:25 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#43407 - doublec - Mon May 23, 2005 2:48 am</h4>
    <div class="postbody"><span class="postbody">Ok, thanks for the pointer. I'll probably update to using that instead then.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43424 - Spaceface - Mon May 23, 2005 11:16 am</h4>
    <div class="postbody"><span class="postbody">what's wrong with .bat files? :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43434 - Vixus - Mon May 23, 2005 2:36 pm</h4>
    <div class="postbody"><span class="postbody">Nice, I'm glad I found this. Hopefully it'll help in my aspirations to develop some tunnelling software. Thanks again.<br/>_________________<br/><a class="postlink" href="http://bg.spheredev.net/tv/" target="_blank">TunnelVision Website</a> - Bringing DS multiplayer to the masses.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43518 - doublec - Tue May 24, 2005 2:37 am</h4>
    <div class="postbody"><span class="postbody">New tutorial up:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop3.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop3.html</a>
<br/>
<br/>
This one goes through how to read key events.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43539 - Mr Snowflake - Tue May 24, 2005 9:16 am</h4>
    <div class="postbody"><span class="postbody">Sweet dude, yesterday I was searching for KEY_A, but didn't find it (didn't search too long though, had to go to a friend).
<br/>
Edit: Never mind (what was here). I saw the adresses already were included :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43555 - wintermute - Tue May 24, 2005 4:06 pm</h4>
    <div class="postbody"><span class="postbody">just to reiterate, don't use .bat files.
<br/>
<br/>
follow the devkit setup instructions found here 
<br/>
<br/>
<a href="http://devkitpro.sourceforge.net/setup.shtml" target="_blank">http://devkitpro.sourceforge.net/setup.shtml</a>
<br/>
<br/>
pay particular attention to the environment variables DEVKITPRO and DEVKITARM.
<br/>
<br/>
use the Complex2D example in devkitPro cvs as a guide.
<br/>
<br/>
&lt;no longer hosted&gt;
<br/>
<br/>
contains your example projects reworked to build across all 3 major platforms.
<br/>
<br/>
You've misspelled Tutorials.</span><span class="gensmall"><br/><br/>Last edited by wintermute on Thu May 26, 2005 12:26 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#43597 - doublec - Wed May 25, 2005 1:02 am</h4>
    <div class="postbody"><span class="postbody">Thanks for that wintermute. I've fixed the typo. One of the upcoming tutorials/articles is going to go through how to move to the devkitarm way of doing things, makefiles, etc. Your conversion of theprojects was very useful to show me what is required.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43606 - jstart - Wed May 25, 2005 2:49 am</h4>
    <div class="postbody"><span class="postbody">Hey Thanks wntrmute those converted demos acctually worked for me
<br/>
With some tinkering I got all 3 working on a mac doublec if you want to include these for download on your site
<br/>
<a href="http://www.ndshb.com/modules.php?mop=modload&amp;name=Upload&amp;file=index&amp;op=getit&amp;fid=42" target="_blank">http://www.ndshb.com/modules.php?mop=modload&amp;name=Upload&amp;file=index&amp;op=getit&amp;fid=42</a>
<br/>
(I can convert them to be xcode compatible too if you want)
<br/>
<br/>
  because none of your demos will compile on a mac...
<br/>
if you care ( i know that no one uses mac) but yah great job everybody great tut's<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43626 - doublec - Wed May 25, 2005 6:21 am</h4>
    <div class="postbody"><span class="postbody">Yep, I'm interested in making sure things work on other platforms. What changes did you make? I'm not able to view the file you linked to for some reason, it appears as just a binary file of some sort.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43627 - jstart - Wed May 25, 2005 6:25 am</h4>
    <div class="postbody"><span class="postbody">Its a zipped up copy of your lessons just had to change a few paths in the makefile to align with wintrmute setup tutorial just because it's easier and a few mac specific setting such as where the nds9 library is I can send you the lessons directly by email or just upload maybe a .zip file to the same place whichever is easier
<br/>
heres a .zip
<br/>
<a href="http://www.ndshb.com/modules.php?mop=modload&amp;name=Upload&amp;file=index&amp;op=getit&amp;fid=44" target="_blank">http://www.ndshb.com/modules.php?mop=modload&amp;name=Upload&amp;file=index&amp;op=getit&amp;fid=44</a>
<br/>
if it comes up as text you can just do a save as and unstuff it<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43630 - doublec - Wed May 25, 2005 6:39 am</h4>
    <div class="postbody"><span class="postbody">Ahh right. I got the file ok now, thanks. I'll put it on the site in the next update. Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43631 - jstart - Wed May 25, 2005 6:41 am</h4>
    <div class="postbody"><span class="postbody">Thanks! Glad to see someone cares about us mac people! :)
<br/>
I'll do conversions for any other tut's that you do.<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43632 - doublec - Wed May 25, 2005 6:46 am</h4>
    <div class="postbody"><span class="postbody">I run Linux mostly full time at home and work so I can understand the frustration at everything being Windows centric.
<br/>
<br/>
I run Windows maily when doing DS development since my flash card software and wireless multiboot all require Windows. How do you work around that out of curiosity?
<br/>
<br/>
Wintermute, what's the difference between the 'libnds' in DevKitARM Pro and the 'ndslib' sourceforge project? Which should I be using?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43633 - jstart - Wed May 25, 2005 6:49 am</h4>
    <div class="postbody"><span class="postbody">Yah i have that problem too i can't get a mac compatible flash card
<br/>
i belive libnds and ndslib are almost the same at least it seems like it im using libnds just because i started using devkit arm 12 I don't know which is better<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43678 - wintermute - Wed May 25, 2005 6:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>jstart wrote:</b></span></td> </tr> <tr> <td class="quote">Its a zipped up copy of your lessons just had to change a few paths in the makefile to align with wintrmute setup tutorial just because it's easier and a few mac specific setting such as where the nds9 library is I can send you the lessons directly by email or just upload maybe a .zip file to the same place whichever is easier
<br/>
heres a .zip
<br/>
<a href="http://www.ndshb.com/modules.php?mop=modload&amp;name=Upload&amp;file=index&amp;op=getit&amp;fid=44" target="_blank">http://www.ndshb.com/modules.php?mop=modload&amp;name=Upload&amp;file=index&amp;op=getit&amp;fid=44</a>
<br/>
if it comes up as text you can just do a save as and unstuff it</td> </tr></table><span class="postbody">
<br/>
<br/>
the line you changed in the Makefile
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#---------------------------------------------------------------------------------
<br/>
# any extra libraries we wish to link with the project
<br/>
#---------------------------------------------------------------------------------
<br/>
LIBS   := /devkitPro/libnds/lib/libnds9.a
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
should *not* have been changed, -lnds9 is sufficient.
<br/>
<br/>
I've attempted to flatten the environment with the devkitPro release 12 toolchains so that only the environment variables DEVKITPRO, DEVKITARM &amp; DEVKITPPC need to be changed to suit the user's installation. This merely requires that you follow the suggested layout found on the setup page at devkit.tk.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43679 - wintermute - Wed May 25, 2005 6:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">I run Linux mostly full time at home and work so I can understand the frustration at everything being Windows centric.
<br/>
<br/>
I run Windows maily when doing DS development since my flash card software and wireless multiboot all require Windows. How do you work around that out of curiosity?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm currently working on linux software for the Neo Power Kit and liasing with Mr Spiv on mac.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Wintermute, what's the difference between the 'libnds' in DevKitARM Pro and the 'ndslib' sourceforge project? Which should I be using?</td> </tr></table><span class="postbody">
<br/>
<br/>
At one point ndslib was moving to the devkitPro cvs and libnds is merely a tidied up version of ndslib. For the most part it is compatible although I changed all the filenames to lower case and moved nds.h to the top level include folder. I've been synchronising with ndslib and maintaining cross platform portability.
<br/>
<br/>
Unfortunately the ndslib maintainer has issues with moving to devkitPro which have not yet been resolved.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43925 - LOUD NOISES - Sat May 28, 2005 7:08 am</h4>
    <div class="postbody"><span class="postbody">I've been trying to switch over to this from ndsdevenv but I keep getting
<br/>
<br/>
egrep: not found
<br/>
<br/>
As far as I know my environment variables are set up right.
<br/>
<br/>
edit: nevermind, no they weren't :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44067 - doublec - Sun May 29, 2005 10:28 pm</h4>
    <div class="postbody"><span class="postbody">I've put a fourth tutorial up now, dealing with how to play sound samples:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop4.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop4.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44068 - Darkain - Sun May 29, 2005 10:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The sample length is divided by two (the '&gt;&gt; 2' shift does this) as the length computed by subtracting start from end is in bytes. We need it in half-words.</td> </tr></table><span class="postbody">
<br/>
<br/>
no, &gt;&gt; 2 is div by 4, &gt;&gt; 1 is div by 2.<br/>_________________<br/>-=- Darkain Dragoon -=-
<br/>
<a class="postlink" href="http://www.darkain.com" target="_blank">http://www.darkain.com</a>
<br/>
<a class="postlink" href="http://ds.darkain.com/hack" target="_blank">DarkStar</a> for <a class="postlink" href="http://ds.darkain.com" target="_blank">Nintendo DS</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44070 - doublec - Sun May 29, 2005 10:43 pm</h4>
    <div class="postbody"><span class="postbody">Thanks Darkain, you're right. That's what I get for writing the tutorial too late at night! I guess the length is measured in words then. I've updated the tutorial.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44093 - jstart - Mon May 30, 2005 5:51 am</h4>
    <div class="postbody"><span class="postbody">Man doublec! You have made me hate .bat files heh  
<br/>
Anyway at least I can confirm sox works on mac with some tweaking and 
<br/>
With the .bat files it says it can't find my libnds .h files unless they are hardcoded but luckily i have a spar copy of libnds thats hardcoded for times like this but heres what i get
<br/>
sh build.bat
<br/>
arm-elf-g++: arm7_main.o: No such file or directory
<br/>
/opt/local/devkitARM/bin/arm-elf-objcopy: 'arm7.elf': No such file
<br/>
arm-elf-g++: arm9_main.o: No such file or directory
<br/>
/opt/local/devkitARM/bin/arm-elf-objcopy: 'arm9.elf': No such file
<br/>
Nintendo DS rom tool 1.15 - May 21 2005 by Rafael Vuijk (aka DarkFader)
<br/>
Cannot open file 'arm9.bin'.
<br/>
dsbuild 1.21 - May 21 2005
<br/>
using default loader
<br/>
: command not found 
<br/>
<br/>
I am having trouble mainly because of the added arm 7 source file.  i can't use my old format.
<br/>
WntrMute, any chance of a conversion to makefile format? :)
<br/>
makefiles are much easier :P<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44164 - Mr Snowflake - Mon May 30, 2005 7:53 pm</h4>
    <div class="postbody"><span class="postbody">Great tut again. As I said, you convinced me to get developing for the ds (although I can't do much :)). Can you plz go into graphix modes the next one?? I would find that really handy :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44171 - doublec - Mon May 30, 2005 9:35 pm</h4>
    <div class="postbody"><span class="postbody">Jstart, makefiles will be coming in a couple of days. I'm converting all the projects over to the devkitpro way of doing things. Sorry about that!
<br/>
<br/>
Mr Snowflake, sure, I'll get onto the graphics modes once I've done the makefile conversions. Thanks for the great feedback!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44186 - jstart - Mon May 30, 2005 11:07 pm</h4>
    <div class="postbody"><span class="postbody">alright thanks :)
<br/>
But how can i compile it now anyone know why the .bat wasn't working from my results in my previous post<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"><br/><br/>Last edited by jstart on Tue May 31, 2005 12:11 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#44188 - Abcd1234 - Mon May 30, 2005 11:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Darkain wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The sample length is divided by two (the '&gt;&gt; 2' shift does this) as the length computed by subtracting start from end is in bytes. We need it in half-words.</td> </tr></table><span class="postbody">
<br/>
<br/>
no, &gt;&gt; 2 is div by 4, &gt;&gt; 1 is div by 2.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
It should also be pointed out that all reasonable compilers, including gcc, will quite happily turn a "/ 2" into a "&gt;&gt; 1" provided the correct flags are supplied.  It's called "strength reduction", and it's a standard optimization that, with gcc, can be enabled with -O2 or -fstrength-reduce.  The point being you might as well just use '/ 2' and let the compiler do the dirty work, as it's easier to read and understand.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44335 - tepples - Tue May 31, 2005 9:38 pm</h4>
    <div class="postbody"><span class="postbody">"x / 2" is strictly equivalent to "x &gt;&gt; 1" only if x is positive. Otherwise there's a rounding difference: "x / 2" rounds toward zero, whereas "x &gt;&gt; 1" rounds toward -∞. Therefore, I'm guessing that reduction from division to shifting is more likely to happen with unsigned types than with signed types.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44342 - doublec - Tue May 31, 2005 9:57 pm</h4>
    <div class="postbody"><span class="postbody">jstart, just run each command seperately from the shell. Otherwise edit the bat file to remove the Win32/Dos specific stuff like the setting of the environment variable and calling of the build_sounds batch file.
<br/>
<br/>
You'll also need to change the %LIBNDS% to $LIBNDS I suspect (I'm assuming the Mac using Unix style environment variable replacement).
<br/>
<br/>
Chris.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44348 - jstart - Tue May 31, 2005 10:24 pm</h4>
    <div class="postbody"><span class="postbody">Thanks typing each command seperately worked fine! looking forward to your next great tutorial!<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44445 - doublec - Wed Jun 01, 2005 9:39 pm</h4>
    <div class="postbody"><span class="postbody">I've removed the batch files and added makefiles to the tutorials now. I couldn't work out how to make the template DevKitPRO makefiles build seperate arm7 and arm9 binaries though. They seem to use the default ARM7 code only but I'm probably misunderstanding something. So I created simple makefiles but they should work fine on platforms other than Windows.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44448 - jstart - Wed Jun 01, 2005 9:59 pm</h4>
    <div class="postbody"><span class="postbody">Cool! Thanks!
<br/>
Your sound demo is now up in mac format with a mac compatible sox at the same link you have posted on your front page.
<br/>
(thanks for the mention, it makes me feel worthwhile :P)<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44514 - Sylfurd - Thu Jun 02, 2005 1:06 pm</h4>
    <div class="postbody"><span class="postbody">your .nds files in your examples don't seem to work with emulators ...
<br/>
Neither my own projects compiled with  your makefiles :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44523 - jstart - Thu Jun 02, 2005 4:34 pm</h4>
    <div class="postbody"><span class="postbody">All things compiled with devkitarm 12 will not work with emulators because they don't support some features included in devkitARM<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44534 - GPFerror - Thu Jun 02, 2005 6:03 pm</h4>
    <div class="postbody"><span class="postbody">so is there an older version that works with the emulators that can be setup?
<br/>
<br/>
Does the older version code require code changes to work with newer toolchain? or just recompiling (so when new emulators are released)
<br/>
<br/>
Thanks,
<br/>
Troy</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44542 - jstart - Thu Jun 02, 2005 6:40 pm</h4>
    <div class="postbody"><span class="postbody">I looked into that.. I guess if you compile with devkitARM release 11 it might work but I'm no expert
<br/>
The next versions of iDeaS and Dualis are going to support devkitarm 12<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44564 - doublec - Thu Jun 02, 2005 10:41 pm</h4>
    <div class="postbody"><span class="postbody">As jstart said it's because of using the latest DevkitPRO. This uses the latest libnds which changed the IPC structure which is used for passing data between the ARM7 and ARM9. Dualis needs to be updated when the IPC structure changes apparently.
<br/>
<br/>
I decided to go with the latest tools due to popular request - it is unfortunate that things don't work on the emulator though. Hopefully that will not be the caes for long.
<br/>
<br/>
You might be able to make things work on the emulator by replacing the arm7_main.cpp with a version from an older libnds and compiling with that older libnds.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44566 - Darkain - Thu Jun 02, 2005 10:46 pm</h4>
    <div class="postbody"><span class="postbody">i would just like to note that the IPC change is the least of your worries... the CP15 code is what seems to crash dualis.<br/>_________________<br/>-=- Darkain Dragoon -=-
<br/>
<a class="postlink" href="http://www.darkain.com" target="_blank">http://www.darkain.com</a>
<br/>
<a class="postlink" href="http://ds.darkain.com/hack" target="_blank">DarkStar</a> for <a class="postlink" href="http://ds.darkain.com" target="_blank">Nintendo DS</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44717 - Herve13 - Sat Jun 04, 2005 4:25 pm</h4>
    <div class="postbody"><span class="postbody">When I compile tuto4, no errors : but just blank screens when trying it on NDS. Does anyone have this problem ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44755 - doublec - Sun Jun 05, 2005 2:13 am</h4>
    <div class="postbody"><span class="postbody">What version of devkitpro are you using? And are you using the libnds from that or 'ndslib'?
<br/>
<br/>
I just tested it now using the code from the zip file and it worked fine. Has anyone else been able to get it to work?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44756 - doublec - Sun Jun 05, 2005 2:16 am</h4>
    <div class="postbody"><span class="postbody">Also, did you have a look at the 'troubleshooting' section?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">When including largish samples (&gt;32Kb) in the ARM7 executable you may find you have 'two white screens' when running the program on the hardware. If this happens it means you are using an older version of 'DevKitPRO', probably the one shipped with 'ndsdev'. Upgrade to the latest 'DevKitPRO' version and it fixes the problem.</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44760 - doublec - Sun Jun 05, 2005 2:29 am</h4>
    <div class="postbody"><span class="postbody">New tutorial up:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop5.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop5.html</a>
<br/>
<br/>
This one covers how to read and write to the save game area on the GBA cartridge. I've also modified tutorial one slightly so that it uses the main screen rather than the subscreen for the console output.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44764 - wintermute - Sun Jun 05, 2005 2:42 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">Also, did you have a look at the 'troubleshooting' section?
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">When including largish samples (&gt;32Kb) in the ARM7 executable you may find you have 'two white screens' when running the program on the hardware. If this happens it means you are using an older version of 'DevKitPRO', probably the one shipped with 'ndsdev'. Upgrade to the latest 'DevKitPRO' version and it fixes the problem.</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
This is probably not a good idea. With the default crtls you only have access to 64k for the entire arm7 app.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44768 - doublec - Sun Jun 05, 2005 3:09 am</h4>
    <div class="postbody"><span class="postbody">Ok thanks for noting that. Time to look into filesystems it seems.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44932 - doublec - Mon Jun 06, 2005 9:47 pm</h4>
    <div class="postbody"><span class="postbody">New tutorial up:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop6.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop6.html</a>
<br/>
<br/>
Covers using the GBFS filesystem and some more sound and key handling stuff.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44937 - Mr Snowflake - Mon Jun 06, 2005 9:55 pm</h4>
    <div class="postbody"><span class="postbody">My project won't compile using devkitpro. the compiler is able to find nds/arm9/console.h but it can't find nds/nds.h.. What system/environment variables do I have to set?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44939 - doublec - Mon Jun 06, 2005 10:03 pm</h4>
    <div class="postbody"><span class="postbody">It shouldn't be looking for nds/nds.h as 'nds.h' is just off include in libnds. The makefile has the following set:
<br/>
<br/>
NDSLIB_INCLUDE=$(DEVKITPRO)/libnds/include
<br/>
NDSLIB_LIB=$(DEVKITPRO)/libnds/lib
<br/>
<br/>
So if DEVKITPRO is set to the right place it should just work. Are you using 'libnds' or 'ndslib'?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44942 - jstart - Mon Jun 06, 2005 10:05 pm</h4>
    <div class="postbody"><span class="postbody">That's because if you are using libnds nds.h isn't under the nds folder change it to just nds.h and it should work<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44945 - Mr Snowflake - Mon Jun 06, 2005 10:11 pm</h4>
    <div class="postbody"><span class="postbody">How stupid of me.. That I overlooked that... (*Shame*shame*) hehe.
<br/>
<br/>
Edit: It works now, but is it normal it won't run in emu's (dualis)?</span><span class="gensmall"><br/><br/>Last edited by Mr Snowflake on Mon Jun 06, 2005 10:15 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#44947 - wintermute - Mon Jun 06, 2005 10:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mr Snowflake wrote:</b></span></td> </tr> <tr> <td class="quote">My project won't compile using devkitpro. the compiler is able to find nds/arm9/console.h but it can't find nds/nds.h.. What system/environment variables do I have to set?</td> </tr></table><span class="postbody">
<br/>
<br/>
you're using libnds - use &lt;nds.h&gt;
<br/>
<br/>
or you could just read the other replies that turned up before I posted this :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44955 - jstart - Mon Jun 06, 2005 10:21 pm</h4>
    <div class="postbody"><span class="postbody">I can confirm that this works with mac as long as you compile gbafs.exe's source that is provided at tepples site it all works I will have the mac version online soon.
<br/>
Suggestion- Could the next tutorial be about displaying pictures because i can't find anything in the way of image conversion.<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44958 - doublec - Mon Jun 06, 2005 10:23 pm</h4>
    <div class="postbody"><span class="postbody">Yes, it's normal that it won't run under the emulator. Currently the released emulators aren't compatible with the recent releases of devkitpro or libnds. Hopefully they'll be updated soon.
<br/>
<br/>
Also none of the emulators do sound that I know of.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44961 - Mr Snowflake - Mon Jun 06, 2005 10:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">Yes, it's normal that it won't run under the emulator. Currently the released emulators aren't compatible with the recent releases of devkitpro or libnds. Hopefully they'll be updated soon.
<br/>
<br/>
Also none of the emulators do sound that I know of.</td> </tr></table><span class="postbody">
<br/>
Sound is the least of their worries it think :) If you look at other emu development, the sound was almost always the last implemented feature :). It's kinda stupid I can't test my (crappy) demo's on emu's, because I don't have the real thing.. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44964 - FourScience - Mon Jun 06, 2005 11:08 pm</h4>
    <div class="postbody"><span class="postbody">Any plans for tutorial(s) concerning tile/sprite based graphics? Or should I just read the info in the guide at dspassme.com, found here: <a href="http://www.dspassme.com/programmers_guide/tutorial/index.html" target="_blank">http://www.dspassme.com/programmers_guide/tutorial/index.html</a>
<br/>
<br/>
I enjoyed the first three tutorials, good work.<br/>_________________<br/>Work in progress: <a class="postlink" href="http://dual-soft.com" target="_blank">Dual-Soft.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44965 - doublec - Mon Jun 06, 2005 11:13 pm</h4>
    <div class="postbody"><span class="postbody">Yep, I do plan to cover other graphics modes - as soon as I learn a bit about them. The sprite and tile stuff is completely new to me, being more familiar with PC development the framebuffer mode was familiar, hence the reason I did that first. I'll be reading up on the GBA tutorials to get a handle on it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45090 - TheMikaus - Tue Jun 07, 2005 5:20 pm</h4>
    <div class="postbody"><span class="postbody">In regards to tutorial 6.  You might have covered it (I only skimmed the article) but what if you're using a multiloader and multiple file systems (one per rom say).
<br/>
<br/>
I guess you'd just have to read the file and then look for something that your game would have in the system and if it returns null look for the next file system on the cart?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45137 - doublec - Tue Jun 07, 2005 10:55 pm</h4>
    <div class="postbody"><span class="postbody">Good question, I've not played with the multi loaders yet. When I do I'll see what can be done. I'm open to suggestions on the best way of handling it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45241 - doublec - Wed Jun 08, 2005 11:27 pm</h4>
    <div class="postbody"><span class="postbody">It appears to not work with a multi loader. I'm not sure how to handle this case at the moment but I'll look into it. I suspect it's finding the wrong gbfs file or not finding it at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45261 - Kyoji - Thu Jun 09, 2005 2:52 am</h4>
    <div class="postbody"><span class="postbody">I have a similiar problem as Mr. Snowflake. the Complex2D demo refuses to compile using the makefile included. I have all paths set, but I took a look in the complex2D.prj file and it references to \examples\nds\Complex2D\build\Complex2D.map I have the directory, but not the .map file, and trying to update it via CVs tells me the build dir does not exist. 
<br/>
I'm thinking this is what is halting the process.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45265 - wintermute - Thu Jun 09, 2005 3:07 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kyoji wrote:</b></span></td> </tr> <tr> <td class="quote">I have a similiar problem as Mr. Snowflake. the Complex2D demo refuses to compile using the makefile included. I have all paths set, but I took a look in the complex2D.prj file and it references to \examples\nds\Complex2D\build\Complex2D.map I have the directory, but not the .map file, and trying to update it via CVs tells me the build dir does not exist. 
<br/>
I'm thinking this is what is halting the process.</td> </tr></table><span class="postbody">
<br/>
<br/>
This has nothing to do with Mr. Snowflake's problems, or this topic at all.
<br/>
<br/>
If you follow the setup instructions at <a href="http://devkitpro.sourceforge.net/setup.shtml" target="_blank">http://devkitpro.sourceforge.net/setup.shtml</a> then the example in devkitPro cvs will compile. The .prj file is merely a project file for UltraEdit, the files referenced in there may belong to the project or not. The .map file is generated during the build process.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45277 - Kyoji - Thu Jun 09, 2005 4:03 am</h4>
    <div class="postbody"><span class="postbody">Alas, my makefile problems persist then. Cant seem to nail it down, and I've followed all the guides to the T...
<br/>
Thanks for the insight anyway.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45281 - cory1492 - Thu Jun 09, 2005 4:56 am</h4>
    <div class="postbody"><span class="postbody">OMG thats what the .prj files are for! How handy! This must have been one of the "best kept secrets," wish I had known this a long long time ago, before I started using Notepad2.
<br/>
<br/>
Thanks for the valued info wintermute!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45286 - Kyoji - Thu Jun 09, 2005 6:12 am</h4>
    <div class="postbody"><span class="postbody">I'm really in between a rock and a hard spot here. I swear I've read that setup guide enough times my eyes bleed when they see it. Is there anything that would cause a make command to not work, if everything is set up right and a makefile exists? 
<br/>
All it does is create a "build" folder within the Complex2D folder, then stops. 
<br/>
Very weird, and its getting quite frustrating.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45306 - TheMikaus - Thu Jun 09, 2005 2:12 pm</h4>
    <div class="postbody"><span class="postbody">Don't know if this will help you or not, but sometimes I have to do a "make clean" before i can call "make"
<br/>
<br/>
Probably wont help, but worth mentioning just in case.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45308 - Kyoji - Thu Jun 09, 2005 3:03 pm</h4>
    <div class="postbody"><span class="postbody">Nope, but thanks for the help anyway.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45336 - wintermute - Thu Jun 09, 2005 7:33 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kyoji wrote:</b></span></td> </tr> <tr> <td class="quote">I'm really in between a rock and a hard spot here. I swear I've read that setup guide enough times my eyes bleed when they see it. Is there anything that would cause a make command to not work, if everything is set up right and a makefile exists? 
<br/>
All it does is create a "build" folder within the Complex2D folder, then stops. 
<br/>
Very weird, and its getting quite frustrating.</td> </tr></table><span class="postbody">
<br/>
<br/>
What path are you running make from?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45383 - Kyoji - Fri Jun 10, 2005 3:13 am</h4>
    <div class="postbody"><span class="postbody">I'm running make in c:\devkitpro\complex2d. Unless you mean where is make.exe located, which is c:\devkitpro\msys\bin.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45386 - DekuTree64 - Fri Jun 10, 2005 3:29 am</h4>
    <div class="postbody"><span class="postbody">Try making a .bat file and put this in it:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">SET PATH=c:\devkitpro\devkitarm\bin;c:\devkitpro\msys\bin
<br/>
SET NDSLIBPATH=/c/ndsdev/ndslib
<br/>
make
<br/>
pause</td> </tr></table><span class="postbody">
<br/>
<br/>
That's what I run to build my DS projects. Change that /c/ndsdev/ndslib to whatever the path to your NDSLIB folder is.
<br/>
<br/>
Another nice thing about using a .bat file like that is that you can tell MSVC++ to run it, so you can just hit F7 to build, and get all the output and everything in VStudio (though errors still aren't clickable).<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45389 - Kyoji - Fri Jun 10, 2005 3:40 am</h4>
    <div class="postbody"><span class="postbody">DekuTree64, I could kiss you. It worked like a charm, thank you so much!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45405 - FourScience - Fri Jun 10, 2005 11:46 am</h4>
    <div class="postbody"><span class="postbody">Must have been one of those environment variables then. Good tip Deku.<br/>_________________<br/>Work in progress: <a class="postlink" href="http://dual-soft.com" target="_blank">Dual-Soft.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45417 - Kyoji - Fri Jun 10, 2005 3:04 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>FourScience wrote:</b></span></td> </tr> <tr> <td class="quote">Must have been one of those environment variables then. Good tip Deku.</td> </tr></table><span class="postbody">
<br/>
Thats what I figured, so I went back and checked all my variables and the paths I had set, and they were all valid. Go figure..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45934 - doublec - Thu Jun 16, 2005 11:10 pm</h4>
    <div class="postbody"><span class="postbody">New tutorial up:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop7.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop7.html</a>
<br/>
<br/>
This one covers using the FIFO registers to send data between the ARM7 and ARM9.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45936 - jstart - Fri Jun 17, 2005 12:01 am</h4>
    <div class="postbody"><span class="postbody">Cool! It's awesome to figure out the secret innerworkings of the ds! :P
<br/>
In this format your demos compile perfect if you hardcode the locations of your arm-elf-"whatever" tools in the makefile
<br/>
Maybe you could include a read me telling mac users that
<br/>
Another great tutorial!<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45937 - doublec - Fri Jun 17, 2005 12:03 am</h4>
    <div class="postbody"><span class="postbody">They shouldn't have to hardcode the locations of the compiler tools if they have $DEVKITARM/bin in their path. Or does the Mac work differently in that regard?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45938 - jstart - Fri Jun 17, 2005 12:09 am</h4>
    <div class="postbody"><span class="postbody">I may be an idiot but i haven't found a way to do that yet
<br/>
Do I have to add something to the makefile? Or should I define where the bin folder is and then say (DEVKITARM)/arm-elf-""?
<br/>
Plus i just compiled your space invader emulator! works great!
<br/>
Thanks for remembering us unix oses<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"><br/><br/>Last edited by jstart on Fri Jun 17, 2005 12:23 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#45940 - strager - Fri Jun 17, 2005 12:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">This one covers using the FIFO registers to send data between the ARM7 and ARM9.</td> </tr></table><span class="postbody">
<br/>
<br/>
I was searching high and low for a tutorial that covers FIFO, and I've finally found it.  Thanks a lot. :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45941 - doublec - Fri Jun 17, 2005 12:19 am</h4>
    <div class="postbody"><span class="postbody">You shouldn't have to change the makefile at all. By adding $DEVKITARM/bin to your PATH environment variable you should be fine. That's assuming you've set DEVKITARM of course!
<br/>
<br/>
I don't know anything about Mac OS X though to be able to point you in the right direction unfortunately.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45945 - ecurtz - Fri Jun 17, 2005 12:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">You shouldn't have to change the makefile at all. By adding $DEVKITARM/bin to your PATH environment variable you should be fine. That's assuming you've set DEVKITARM of course!
<br/>
<br/>
I don't know anything about Mac OS X though to be able to point you in the right direction unfortunately.</td> </tr></table><span class="postbody">
<br/>
<br/>
<a class="postlink" href="http://developer.apple.com/documentation/MacOSX/Conceptual/BPRuntimeConfig/Concepts/EnvironmentVars.html" target="_blank">Setting environment variables in OS X</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46801 - doublec - Thu Jun 30, 2005 10:57 pm</h4>
    <div class="postbody"><span class="postbody">New tutorial covering the how and why of using interrupts:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop8.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop8.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#46811 - jstart - Fri Jul 01, 2005 2:07 am</h4>
    <div class="postbody"><span class="postbody">Awesome! This will really help me! I didn't know anything about interrupts until now.  Definately a great feature to spotlight!
<br/>
<br/>
I would still really like to see maybe a background and sprite demo or tile demo tutorial<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47025 - doublec - Sun Jul 03, 2005 11:50 pm</h4>
    <div class="postbody"><span class="postbody">I've released a version of DSEmu that will run the last tutorial I did, Tutorial 8:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/dsemu.html" target="_blank">http://www.double.co.nz/nintendo_ds/dsemu.html</a>
<br/>
<br/>
Previously DSEmu didn't do keyboard interrupts and wouldn't return from SWI 4.
<br/>
<br/>
jstart, I hope to cover more graphics stuff soon - I'm still learning about that side myself.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47150 - Spaceface - Tue Jul 05, 2005 9:17 pm</h4>
    <div class="postbody"><span class="postbody">looking back on this tutorial, did you completely kick out the NDS Dev enviroment? 
<br/>
But amazing work.. you're going to help me miles into DS Dev... best work EVER</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47159 - doublec - Tue Jul 05, 2005 10:33 pm</h4>
    <div class="postbody"><span class="postbody">I went from NDS dev env to using devkitpro as the Aaron wasn't updating it at the time. New stuff was coming out in ndslib and devkitpro but I couldn't write about it or use it. Then I had Mac OS X and Linux people wanting to run the tutorial demo's so it was worthwhile switching over to support that side of things.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47613 - doublec - Mon Jul 11, 2005 11:31 am</h4>
    <div class="postbody"><span class="postbody">Thanks to neimods microphone code, new tutorial up, Tutorial Nine, on using the microphone:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop9.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop9.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47616 - NoMis - Mon Jul 11, 2005 12:51 pm</h4>
    <div class="postbody"><span class="postbody">Very nice :)
<br/>
<br/>
Keep up the good work.
<br/>
<br/>
NoMis<br/>_________________<br/><span style="font-style: italic"><a class="postlink" href="http://www.gamedev.at/" target="_blank">www.gamedev.at</a></span> - The austrian gamedev site
<br/>
<span style="font-style: italic"><a class="postlink" href="http://hde.gamedev.at/" target="_blank">hde.gamedev.at</a></span> - The Handheld Dev Env plugins for Eclipse</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47641 - jstart - Mon Jul 11, 2005 6:27 pm</h4>
    <div class="postbody"><span class="postbody">WOW! I didn't think anyone would figure this out for a while!  This is an amazing feature! Thanks neimod and doublec!
<br/>
And as I always say, I'd really like a tutorial on graphics modes :)<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47651 - doublec - Mon Jul 11, 2005 11:20 pm</h4>
    <div class="postbody"><span class="postbody">I was actually putting the finishing touches on a mode 5 tutorial when neimod worked out the microphone stuff so I got side tracked :) Expect something later this week though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48583 - Spaceface - Wed Jul 20, 2005 9:28 pm</h4>
    <div class="postbody"><span class="postbody">I have two questions:
<br/>
<br/>
<ul><li>In day 4 you get to sounds. Are there any emu's by now which support sound?
<br/>
<br/>
</li><li>Also there's this piece of code
<br/>
</li></ul></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void on_irq_vblank() {   
<br/>
   // Disable interrupts
<br/>
   IME = 0;
<br/>
   
<br/>
   draw_shape(old_x, old_y, VRAM_A, RGB15(0, 0, 0));
<br/>
   draw_shape(shape_x, shape_y, VRAM_A, shape_color);
<br/>
   
<br/>
   // Tell the DS we handled the VBLANK interrupt
<br/>
   IF = IF;
<br/>
   VBLANK_INTR_WAIT_FLAGS = IF | IE;
<br/>
   
<br/>
   // Enable interrupts
<br/>
   IME = 1;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
What does IF = IF stand for? For me as a newb it seems to declare itself.
<br/>
<br/>
<li> Is there any tutorial for the ndslib (libnds in this case) for me to make a tile based game like zelda?
<br/>
Thanks very much in advance =)</li></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48584 - Mighty Max - Wed Jul 20, 2005 9:36 pm</h4>
    <div class="postbody"><span class="postbody">The IF is a hardware register that need to be accessed once so that the interrupt controller knows the interrupt has been handled, and continues to listen for this event.
<br/>
<br/>
(At least that is what i think it is, as i know this behavior from x86 environment)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48590 - tepples - Wed Jul 20, 2005 11:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Spaceface wrote:</b></span></td> </tr> <tr> <td class="quote">Also there's this piece of code
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">  // Tell the DS we handled the VBLANK interrupt
<br/>
  IF = IF;
<br/>
  VBLANK_INTR_WAIT_FLAGS = IF | IE;
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
To anybody who knows about interrupt handling, have the semantics of interrupts on the Nintendo DS changed significantly from those on the GBA, where the proper sequence was the following?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">  // Tell the GBA we handled the interrupts
<br/>
  int interrupts = IF;
<br/>
  VBLANK_INTR_WAIT_FLAGS |= interrupts;
<br/>
  IF = interrupts;
<br/>
</td> </tr></table><span class="postbody">
<br/>
(In my GBA header file, IF and VBLANK_INTR_WAIT_FLAGS are called INTACK and BIOS_INTACK respectively.)<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48593 - doublec - Wed Jul 20, 2005 11:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">To anybody who knows about interrupt handling, have the semantics of interrupts on the Nintendo DS changed significantly from those on the GBA, where the proper sequence was the following? </td> </tr></table><span class="postbody">
<br/>
<br/>
No that sequence is  correct on the DS too. In my interrupts tutorial I show:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void on_irq() 
<br/>
{
<br/>
  if(IF &amp; IRQ_VBLANK) {
<br/>
    on_irq_vblank();
<br/>
    VBLANK_INTR_WAIT_FLAGS |= IRQ_VBLANK;  
<br/>
  }
<br/>
  
<br/>
  if(IF &amp; IRQ_KEYS) {
<br/>
    on_irq_keys();
<br/>
    VBLANK_INTR_WAIT_FLAGS |= IRQ_KEYS;  
<br/>
  }
<br/>
<br/>
  IF |= IRQ_VBLANK | IRQ_KEYS;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
Which is effectively the same thing given the IE (in this example) is set to only allow VBLANK and KEYS interrupts.
<br/>
<br/>
Including IE in the OR of IF seems wrong to me:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">VBLANK_INTR_WAIT_FLAGS = IF | IE; </td> </tr></table><span class="postbody">
<br/>
<br/>
This will mean that the BIOS wait for interrupt routine will exit on when waiting for interrupts that haven't been fired, but have been enabled. This is why my later tutorials (after the interrupts one) don't use the libnds interrupt handler. I need to revisit my earlier tutorials to remove some of this older code.
<br/>
<br/>
Unfortunately my PC died on me today (power supply I think) so it'll be a short wait before I can do much about it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48596 - tepples - Wed Jul 20, 2005 11:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">Including IE in the OR of IF seems wrong to me:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">VBLANK_INTR_WAIT_FLAGS = IF | IE; </td> </tr></table><span class="postbody">
<br/>
<br/>
This will mean that the BIOS wait for interrupt routine will exit on when waiting for interrupts that haven't been fired, but have been enabled.</span></td> </tr></table><span class="postbody">
<br/>
Depends. Does BIOS IntrWait() on each system clear VBLANK_INTR_WAIT_FLAGS itself?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48599 - doublec - Thu Jul 21, 2005 12:04 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Depends. Does BIOS IntrWait() on each system clear VBLANK_INTR_WAIT_FLAGS itself?</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm not sure, but would it matter? If IE is included in the assign to VBLANK_INTR_WAIT_FLAGS then the following could happen (pseudo code):
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">IE = IRQ_VBLANK | IRQ_KEYS;
<br/>
IntrWait(IRQ_KEYS);
<br/>
<br/>
// A vblank occurs so IF=IRQ_VBLANK and the vblank executes:
<br/>
VBLANK_INTR_WAIT_FLAGS = IF | IE;</td> </tr></table><span class="postbody">
<br/>
<br/>
Now my IntrWait exits because it thinks the IRQ_KEYS has been fired, but it hasn't.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48601 - tepples - Thu Jul 21, 2005 12:16 am</h4>
    <div class="postbody"><span class="postbody">I misread something. I admit that including IE in the OR is a Bad Thing, but I saw "OR is a Bad Thing". My fault.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48603 - doublec - Thu Jul 21, 2005 1:48 am</h4>
    <div class="postbody"><span class="postbody">Spaceface, to answer your other questions. I think the IDeaS emulator supports sound to some degree. DSEmu will run the code without crashing but no sound will play.
<br/>
<br/>
I don't know of any DS specific tile tutorials, but there are a few GBA ones around that may be helpful. I'm still learning that area myself and will probably do a tutorial when I understand it better.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48728 - doublec - Thu Jul 21, 2005 11:24 pm</h4>
    <div class="postbody"><span class="postbody">New tutorial up covering extended rotation backgrounds, decoding jpeg files, hardware scrolling and scaling:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop10.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop10.html</a>
<br/>
<br/>
I've also made various edits to the other tutorials to fix up some issues. The interrupt handling has been made consistent across the tutorials. I now use the key handling of libnds for the later tutorials. And the problems with devkitpro r14 have been fixed in tutorial 6.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48734 - jstart - Thu Jul 21, 2005 11:43 pm</h4>
    <div class="postbody"><span class="postbody">You rock doublec YAY!<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48742 - skabio - Fri Jul 22, 2005 1:13 am</h4>
    <div class="postbody"><span class="postbody">Another great tutorial!  Cant seem to get demo 10 to work via GBAMP,  all the others work fine however.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49175 - GPFerror - Wed Jul 27, 2005 3:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">New tutorial up covering extended rotation backgrounds, decoding jpeg files, hardware scrolling and scaling:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/nds_develop10.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop10.html</a>
<br/>
<br/>
I've also made various edits to the other tutorials to fix up some issues. The interrupt handling has been made consistent across the tutorials. I now use the key handling of libnds for the later tutorials. And the problems with devkitpro r14 have been fixed in tutorial 6.</td> </tr></table><span class="postbody">
<br/>
<br/>
in the latest devkitpro 4.1 and latest libnds cvs(today) , in the latest darc build of dsemu 0.45 the consoleprintf is broken, works in ideas.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49180 - doublec - Wed Jul 27, 2005 4:49 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the report, I've got some fixes that I need to push through but I'm flat out with work till the end of the week. I'll probably have it resolved after the weekend though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49237 - Spaceface - Wed Jul 27, 2005 6:52 pm</h4>
    <div class="postbody"><span class="postbody">doublec any improvement on the tile based tutorial? ;)
<br/>
I'm not too well known with GBA dev, so I would probably not see the difference between DS and GBA...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49238 - alangerow - Wed Jul 27, 2005 7:07 pm</h4>
    <div class="postbody"><span class="postbody">doublec, just wanted to let you know that I'm learning to program for the DS from a web scripting background (PHP), and your tutorials are really good. I'm using them in conjunction with every other tutorial I could find, and I'm finding I'm using yours for primary workthrough, and then referencing other tutorials to fill in any gaps.
<br/>
<br/>
Things are made more difficult because I'm learning C at the same time, but your examples are easy to understand, break apart, and analyze. Just wanted to let you know that your work is very helpful. At the end of Day 1, I had played around with the 2nd tutorial demo and got the box to bounce around the sides. I can now make Pong. 
<br/>
<br/>
Looking forward to making my way through the rest of your tutorials.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49271 - doublec - Thu Jul 28, 2005 12:14 am</h4>
    <div class="postbody"><span class="postbody">alangerow, that's great, thanks for the feedback! Your approach is exactly how I was hoping people would benefit from the tutorials. Using them as a starting point to play around with and a launching pad for going out and learning more.
<br/>
<br/>
Spaceface, I'm writing a tile based demo at the moment. Once this week of work is over, I'll be able to spend more time on it so hopefully sometime next week. Then hopefully sprites, and some demos tying things together.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49458 - Freakreation - Fri Jul 29, 2005 10:07 pm</h4>
    <div class="postbody"><span class="postbody">Firstly, Doublec thanks for the work you are putting into the tutorials for us DS noobs. I'm going through them slowly and tinkering with each demo source to make sure I get it before moving on (great fun!). I have a simple enquiry about some of the Framebuffer gfx code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">if (shape_x + shape_width &gt;= SCREEN_WIDTH) {
<br/>
      shape_x = 0;
<br/>
      shape_y += shape_height;
<br/>
      if(shape_y + shape_height &gt;= SCREEN_HEIGHT) {
<br/>
   shape_y = 0;
<br/>
      }</td> </tr></table><span class="postbody">
<br/>
<br/>
I just wondered why you have &gt;= on both height and width, on my DS hardware it misses a pixel on the right and bottom of the screen when moving the box around. Am I missing something, surely &gt; would be ideal as the box appears to skip a little at the edge of the screen. I know this is a trivial point but it's bugging me that there might be some reason for this I don't understand...
<br/>
<br/>
thanks :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#49463 - cory1492 - Fri Jul 29, 2005 10:52 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Freakreation wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">if (shape_x + shape_width &gt;= SCREEN_WIDTH) {
<br/>
      shape_x = 0;
<br/>
      shape_y += shape_height;
<br/>
      if(shape_y + shape_height &gt;= SCREEN_HEIGHT) {
<br/>
   shape_y = 0;
<br/>
      }</td> </tr></table><span class="postbody">
<br/>
<br/>
I just wondered why you have &gt;= on both height and width, on my DS hardware it misses a pixel on the right and bottom of the screen when moving the box around. Am I missing something, surely &gt; would be ideal as the box appears to skip a little at the edge of the screen. I know this is a trivial point but it's bugging me that there might be some reason for this I don't understand...
<br/>
<br/>
thanks :)</span></td> </tr></table><span class="postbody"> I think SCREEN_WIDTH and height both refer to the values of it as if 0 were 1, so the actual pixel width of the screen would be SCREEN_WIDTH + 1</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51024 - Spaceface - Mon Aug 15, 2005 3:24 pm</h4>
    <div class="postbody"><span class="postbody">doublec (or anybody else who can help me), I have a question regarding tutorial 4, the sound tutorial. The samples I convert seem extremely distorted through my DS. Also when I lower the SOUND_VOL in:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">SCHANNEL_CR(0) = SCHANNEL_ENABLE | SOUND_ONE_SHOT | SOUND_8BIT | SOUND_VOL(0x3F);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Also I was wondering how the tile tutorial is coming along =)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51057 - doublec - Mon Aug 15, 2005 11:24 pm</h4>
    <div class="postbody"><span class="postbody">How are you converting the sound files? Are they 8 bit, signed or unsigned, etc? 
<br/>
<br/>
The tutorial is stalled at the moment due to a busy workload at work. I'll be getting a dsemu release out this weekend and then back to tutorials hopefully.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51059 - Spaceface - Mon Aug 15, 2005 11:53 pm</h4>
    <div class="postbody"><span class="postbody">using it exactly as told in the tutorial..
<br/>
don't know whether it's signed or unsigned though..
<br/>
I've uploaded it on <a href="http://www.moonpirates.nl/guitar2.wav" target="_blank">http://www.moonpirates.nl/guitar2.wav</a>
<br/>
Other than that it converts exactly as shown in the tutorial. Eventhough I believe the Ufo.wav didn't show this problem.. Don't have a clue whatsoever...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51247 - Spaceface - Wed Aug 17, 2005 3:53 pm</h4>
    <div class="postbody"><span class="postbody">Problem solved, saved the wav as raw <span style="font-weight: bold">signed</span> via SoundForge. Aparently sox decided to save it as unsigned which caused the horrible distortion.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54400 - doublec - Mon Sep 19, 2005 12:26 am</h4>
    <div class="postbody"><span class="postbody">Devkitpro r16a changed quite a few things which broke my tutorials. I've fixed the first six and they are at the usual place:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds" target="_blank">http://www.double.co.nz/nintendo_ds</a>
<br/>
<br/>
For some reason the FIFO tutorial is not working and I'm currently working on getting that going then will continue fixing up the rest.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54433 - biubid_boy - Mon Sep 19, 2005 10:31 am</h4>
    <div class="postbody"><span class="postbody">Wo! Just started your tutorial but when I tried to compile the first demo, I got this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
$ make
<br/>
arm-elf-g++ -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb-interwork -I/libnds/include -DARM7 -c arm7_main.cpp -oarm7_main.o
<br/>
arm7_main.cpp:6:17: error: nds.h: No such file or directory
<br/>
arm7_main.cpp:17: error: 's32' does not name a type
<br/>
arm7_main.cpp:18: error: 's32' does not name a type
<br/>
arm7_main.cpp:19: error: 's32' does not name a type
<br/>
arm7_main.cpp:20: error: 's32' does not name a type
<br/>
arm7_main.cpp:26: error: 'uint32' has not been declared
<br/>
arm7_main.cpp:26: error: 'u8' has not been declared
<br/>
arm7_main.cpp:26: error: 'u8' has not been declared
<br/>
arm7_main.cpp:26: error: 'u8' has not been declared
<br/>
arm7_main.cpp:26: error: 'u8' has not been declared
<br/>
arm7_main.cpp: In function 'void startSound(int, const void*, int, int, int, int, int)':
<br/>
arm7_main.cpp:27: error: 'SCHANNEL_TIMER' was not declared in this scope
<br/>
arm7_main.cpp:27: error: 'SOUND_FREQ' was not declared in this scope
<br/>
arm7_main.cpp:28: error: 'SCHANNEL_SOURCE' was not declared in this scope
<br/>
arm7_main.cpp:28: error: 'uint32' was not declared in this scope
<br/>
arm7_main.cpp:28: error: expected `;' before 'data'
<br/>
arm7_main.cpp:29: error: 'SCHANNEL_LENGTH' was not declared in this scope
<br/>
arm7_main.cpp:30: error: 'SCHANNEL_CR' was not declared in this scope
<br/>
arm7_main.cpp:30: error: 'SOUND_ENABLE' was not declared in this scope
<br/>
arm7_main.cpp:30: error: 'SOUND_ONE_SHOT' was not declared in this scope
<br/>
arm7_main.cpp:30: error: 'SOUND_VOL' was not declared in this scope
<br/>
arm7_main.cpp:30: error: 'SOUND_PAN' was not declared in this scope
<br/>
arm7_main.cpp:30: error: 'SOUND_8BIT' was not declared in this scope
<br/>
arm7_main.cpp:30: error: 'SOUND_16BIT' was not declared in this scope
<br/>
arm7_main.cpp: At global scope:
<br/>
arm7_main.cpp:34: error: 's8' does not name a type
<br/>
arm7_main.cpp: In function 'void InterruptHandler()':
<br/>
arm7_main.cpp:48: error: 'IF' was not declared in this scope
<br/>
arm7_main.cpp:48: error: 'IRQ_VBLANK' was not declared in this scope
<br/>
arm7_main.cpp:49: error: 'uint16' was not declared in this scope
<br/>
arm7_main.cpp:49: error: expected `;' before 'but'
<br/>
arm7_main.cpp:51: error: 'uint32' was not declared in this scope
<br/>
arm7_main.cpp:51: error: expected `;' before 'temp'
<br/>
arm7_main.cpp:52: error: 'uint8' was not declared in this scope
<br/>
arm7_main.cpp:52: error: expected `;' before 'ct'
<br/>
arm7_main.cpp:59: error: 'but' was not declared in this scope
<br/>
arm7_main.cpp:59: error: 'XKEYS' was not declared in this scope
<br/>
arm7_main.cpp:62: error: 'x' was not declared in this scope
<br/>
arm7_main.cpp:62: error: 'TSC_MEASURE_X' was not declared in this scope
<br/>
arm7_main.cpp:62: error: 'touchRead' was not declared in this scope
<br/>
arm7_main.cpp:63: error: 'y' was not declared in this scope
<br/>
arm7_main.cpp:63: error: 'TSC_MEASURE_Y' was not declared in this scope
<br/>
arm7_main.cpp:64: error: 'xpx' was not declared in this scope
<br/>
arm7_main.cpp:64: error: 'TOUCH_WIDTH' was not declared in this scope
<br/>
arm7_main.cpp:64: error: 'TOUCH_OFFSET_X' was not declared in this scope
<br/>
arm7_main.cpp:65: error: 'ypx' was not declared in this scope
<br/>
arm7_main.cpp:65: error: 'TOUCH_HEIGHT' was not declared in this scope
<br/>
arm7_main.cpp:65: error: 'TOUCH_OFFSET_Y' was not declared in this scope
<br/>
arm7_main.cpp:66: error: 'z1' was not declared in this scope
<br/>
arm7_main.cpp:66: error: 'TSC_MEASURE_Z1' was not declared in this scope
<br/>
arm7_main.cpp:67: error: 'z2' was not declared in this scope
<br/>
arm7_main.cpp:67: error: 'TSC_MEASURE_Z2' was not declared in this scope
<br/>
arm7_main.cpp:70: error: 'batt' was not declared in this scope
<br/>
arm7_main.cpp:70: error: 'TSC_MEASURE_BATTERY' was not declared in this scope
<br/>
arm7_main.cpp:70: error: 'touchRead' was not declared in this scope
<br/>
arm7_main.cpp:71: error: 'aux' was not declared in this scope
<br/>
arm7_main.cpp:71: error: 'TSC_MEASURE_AUX' was not declared in this scope
<br/>
arm7_main.cpp:74: error: expected primary-expression before ')' token
<br/>
arm7_main.cpp:74: error: 'rtcGetTime' was not declared in this scope
<br/>
arm7_main.cpp:75: error: expected primary-expression before ')' token
<br/>
arm7_main.cpp:75: error: 'ct' was not declared in this scope
<br/>
arm7_main.cpp:75: error: 'BCDToInteger' was not declared in this scope
<br/>
arm7_main.cpp:78: error: 'temp' was not declared in this scope
<br/>
arm7_main.cpp:78: error: 'touchReadTemperature' was not declared in this scope
<br/>
arm7_main.cpp:81: error: 'IPC' was not declared in this scope
<br/>
arm7_main.cpp:83: error: 'x' was not declared in this scope
<br/>
arm7_main.cpp:84: error: 'y' was not declared in this scope
<br/>
arm7_main.cpp:85: error: 'xpx' was not declared in this scope
<br/>
arm7_main.cpp:86: error: 'ypx' was not declared in this scope
<br/>
arm7_main.cpp:87: error: 'z1' was not declared in this scope
<br/>
arm7_main.cpp:88: error: 'z2' was not declared in this scope
<br/>
arm7_main.cpp:92: error: 'u32' was not declared in this scope
<br/>
arm7_main.cpp:92: error: expected `;' before 'i'
<br/>
arm7_main.cpp:92: error: 'i' was not declared in this scope
<br/>
arm7_main.cpp:102: error: 'TransferSound' was not declared in this scope
<br/>
arm7_main.cpp:102: error: 'snd' was not declared in this scope
<br/>
arm7_main.cpp:106: error: 's8' was not declared in this scope
<br/>
arm7_main.cpp:106: error: expected `;' before 'chan'
<br/>
arm7_main.cpp:107: error: 'chan' was not declared in this scope
<br/>
arm7_main.cpp:115: error: 'IF' was not declared in this scope
<br/>
arm7_main.cpp: In function 'int main(int, char**)':
<br/>
arm7_main.cpp:124: error: 'rtcReset' was not declared in this scope
<br/>
arm7_main.cpp:127: error: 'SOUND_CR' was not declared in this scope
<br/>
arm7_main.cpp:127: error: 'SCHANNEL_ENABLE' was not declared in this scope
<br/>
arm7_main.cpp:127: error: 'SOUND_VOL' was not declared in this scope
<br/>
arm7_main.cpp:128: error: 'IPC' was not declared in this scope
<br/>
arm7_main.cpp:131: error: 'IME' was not declared in this scope
<br/>
arm7_main.cpp:132: error: 'IRQ_HANDLER' was not declared in this scope
<br/>
arm7_main.cpp:133: error: 'IE' was not declared in this scope
<br/>
arm7_main.cpp:133: error: 'IRQ_VBLANK' was not declared in this scope
<br/>
arm7_main.cpp:134: error: 'IF' was not declared in this scope
<br/>
arm7_main.cpp:135: error: 'DISP_SR' was not declared in this scope
<br/>
arm7_main.cpp:135: error: 'DISP_VBLANK_IRQ' was not declared in this scope
<br/>
arm7_main.cpp:139: error: 'swiWaitForVBlank' was not declared in this scope
<br/>
make: *** [arm7_main.o] Error 1
<br/>
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54434 - revo - Mon Sep 19, 2005 11:36 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">arm7_main.cpp:6:17: error: nds.h: No such file or directory</td> </tr></table><span class="postbody">
<br/>
<br/>
take a look at system variables, there should be something wrong<br/>_________________<br/>[ sorry for all mistakes, but my english isn't as good as I wish it to be ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54465 - wintermute - Mon Sep 19, 2005 6:24 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>biubid_boy wrote:</b></span></td> </tr> <tr> <td class="quote">Wo! Just started your tutorial but when I tried to compile the first demo, I got this:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
$ make
<br/>
arm-elf-g++ -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb-interwork -I/libnds/include -DARM7 -c arm7_main.cpp -oarm7_main.o
<br/>
arm7_main.cpp:6:17: error: nds.h: No such file or directory
<br/>
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
Pay particular attention to the setting up instructions in the first tutorial <a href="http://www.double.co.nz/nintendo_ds/nds_develop1.html" target="_blank">http://www.double.co.nz/nintendo_ds/nds_develop1.html</a> which links here <a href="http://www.devkitpro.org/setup.shtml" target="_blank">http://www.devkitpro.org/setup.shtml</a> . If you're using windows it's probably best to use the installer at the top of the second link.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54791 - JessTicular - Thu Sep 22, 2005 4:13 pm</h4>
    <div class="postbody"><span class="postbody">Hey there, guys :)
<br/>
<br/>
Great tute's, doublec! Really good to have something like this for the beginner, especially when you're keeping everything so up-to-date!
<br/>
<br/>
And, wintermute, I appreciate all the help you're giving out around here. Thanks ( even if you can't help me out here :P ).
<br/>
<br/>
<br/>
Ok, I have a problem with running the code.
<br/>
<br/>
I continually get errors telling me that those sexy special variables aren't declared ( namely 'IF' )...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">c:/dsdev/examples/nds/graphics/2d/complex_2d/source/main.cpp:84: error: 'IF' was not declared in this scope</td> </tr></table><span class="postbody">
<br/>
<br/>
I've followed the latest on the setting up tutorial, and followed all the steps for devkitARM's set-up.
<br/>
<br/>
<br/>
Basically, I have:
<br/>
<br/>
'devkitPRO' directory: "C:\dsDev"
<br/>
'devkitARM' directory: "C:\dsDev\devkitARM"
<br/>
<br/>
system variables:
<br/>
DEVKITPRO = /c/dsdev
<br/>
DEVKITARM = /c/dsdev/devkitarm
<br/>
<br/>
Am using:
<br/>
devkitARM r16a
<br/>
libnds released 21st this month ( 2 days ago )
<br/>
<br/>
<br/>
... I'm on winXP, and am using the msys console to execute the makefiles.
<br/>
<br/>
Have tried both the 'demo1' example in the first tute, and the Complex2D example from the CVS, both of which give the undeclared error for 'IF'
<br/>
( additionally, demo1 gives it for 'IME' within the main ).
<br/>
<br/>
<br/>
Any help on this would be greatly appreciated.
<br/>
I'm really eager to start porting some old-school games I've made to my DS so I can show it off in my little circle of nerds :P
<br/>
<br/>
<br/>
Thanks,
<br/>
Jess.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54805 - Kujo - Thu Sep 22, 2005 7:32 pm</h4>
    <div class="postbody"><span class="postbody">case sensitive???
<br/>
<br/>
try
<br/>
<br/>
DEVKITPRO = /c/dsDev
<br/>
DEVKITARM = /c/dsDev/devkitARM
<br/>
<br/>
hope that helps...that might not be the problem...I'm no expert...all I know is I have it set up as if it were case sensitive...I'm fairly sure that's it though...
<br/>
<br/>
*crosses fingers*
<br/>
<br/>
good luck</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54845 - doublec - Fri Sep 23, 2005 12:01 am</h4>
    <div class="postbody"><span class="postbody">I believe that the latest libnds has changed the register names. From IF, to REG_IF or something like that. I haven't tried the very latest NDS yet, I use the one released with devkitpro r16a.
<br/>
<br/>
Life on the bleeding edge of DS development can be rocky :-)
<br/>
<br/>
Edit: To clarify, I'm using libnds released on the 14th September.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54868 - JessTicular - Fri Sep 23, 2005 5:58 am</h4>
    <div class="postbody"><span class="postbody">Kujo, nope, case didn't seem to make any difference, thanks anyway - 'twas something I didn't think of.
<br/>
<br/>
doublec, looks like what you said is the case.
<br/>
<br/>
I took out the 21st's version of libnds, and replaced it with the 14th, and everything works smooth like silk!
<br/>
<br/>
So, if anyone gets the errors of 'IF' not being declared, it's because it's been renamed in the latest version of libnds.
<br/>
You have two options;
<br/>
a) Find out the new names, and fix up your code to reflect that, or
<br/>
b) use the September 14th version of libnds ( available from the sourceforge devkitPRO page ).
<br/>
<br/>
Thanks for the help guys, 'tis much appreciated!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54979 - sirjorj - Sat Sep 24, 2005 2:23 am</h4>
    <div class="postbody"><span class="postbody">First: awesome, awesome tutorials!  I have only been through one of them, but based on all the feedback and what I have seen, very well done!
<br/>
<br/>
I am getting started in DS dev and found this to be an excellent starting point.  I am also using Mac OS X (tiger) as a development platform.  I have that neo-flash deev kit for hardware (512mb card, 'magic key' -passme device, and USB Slim Loader III for programming the flash card).  It appears that there is no Mac support for this card programmer, so I need the winXP laptop for that, but I am trying to do as much as possible on the Powerbook.
<br/>
<br/>
Ok.  Getting started.  I went to the devkitPRO site and got devkitARM r15 for OS X.  Is there an actual 'devkitPRO' program, or is that just a project name with several 'branches' like devkitARM?
<br/>
<br/>
Tutorial 1.  Got it to build with the version at a dual-soft tutorial.  I was looking at the differences that made the 'real' version of Tutorial 1 not build.  The difference is in arm7_main.cpp.  The original has the line </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
but = REG_KEYXY;
<br/>
</td> </tr></table><span class="postbody">
<br/>
in the ISR, while the mac-ported version has
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
but = XKEYS;
<br/>
</td> </tr></table><span class="postbody">
<br/>
Why are these different?  Different libnds versions?
<br/>
<br/>
Anyway, I did get the program built on the mac and the card flashed on the pc and the demo ran fine using passme and hardware.
<br/>
<br/>
fwiw, I'm really looking forward to playing with this.  I am eager to see how similar it is to the embedded microcontollers i program for at my job.  I guess I'm in this more for the learning and experience then the hope of making anything special.  This is gonna be fun...
<br/>
<br/>
jorj</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55012 - wintermute - Sat Sep 24, 2005 5:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sirjorj wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Ok.  Getting started.  I went to the devkitPRO site and got devkitARM r15 for OS X.  Is there an actual 'devkitPRO' program, or is that just a project name with several 'branches' like devkitARM?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
devkitPro is the name for the set of gcc based toolchains, devkitARM is a component rather than a branch.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The difference is in arm7_main.cpp.  The original has the line <table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
but = REG_KEYXY;
<br/>
</td> </tr></table><span class="postbody">
<br/>
in the ISR, while the mac-ported version has
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
but = XKEYS;
<br/>
</td> </tr></table><span class="postbody">
<br/>
Why are these different?  Different libnds versions?
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Later versions of libnds are gradually moving towards a consistent naming scheme. Eventually all the hardware registers will be prefixed with REG_ which helps both readability and programmers with editors that support code completion.
<br/>
<br/>
Unfortunately the most recent versions of libnds require devkitARM release 16 which isn't yet available for Mac OS X. We have limited access to Mac OS X programmers capable of building the toolchain so Mac support tends to lag the other platforms. Volunteers to help with this aspect would be greatly appreciated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55033 - sirjorj - Sat Sep 24, 2005 10:15 pm</h4>
    <div class="postbody"><span class="postbody">Thank you for the response.  What all would be involved in getting release 16 to OS X?  I am very new to Mac and Mac development.  I am wondering if this is something I could work on.
<br/>
<br/>
jorj</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55035 - tepples - Sat Sep 24, 2005 11:18 pm</h4>
    <div class="postbody"><span class="postbody">I wonder if you could use the <a class="postlink" href="http://sourceforge.net/docman/display_doc.php?docid=762&amp;group_id=1" target="_blank">SourceForge.net compile farm</a> for this.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55040 - wintermute - Sun Sep 25, 2005 12:27 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">I wonder if you could use the <a class="postlink" href="http://sourceforge.net/docman/display_doc.php?docid=762&amp;group_id=1" target="_blank">SourceForge.net compile farm</a> for this.</td> </tr></table><span class="postbody">
<br/>
<br/>
not enough allocated disk space, it's been tried</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55055 - crossraleigh - Sun Sep 25, 2005 3:00 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">What all would be involved in getting release 16 to OS X?</td> </tr></table><span class="postbody">
<br/>
If you have the Apple developer tools, wget, libelf, and about an hour of free time, just download the buildscripts and run them. You might have some problems from time to time, especially if you use the buildscripts from CVS, but most of time it's that easy.
<br/>
<br/>
However, if you prefer, you can try the Mac installer I just put up for r16. Let me know if you have problems with it.<br/>_________________<br/>My world is black and white, but if I blink fast enough, I see it in grayscale.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55072 - sirjorj - Sun Sep 25, 2005 5:23 am</h4>
    <div class="postbody"><span class="postbody">Thank you for updating the Mac release.  However, when I try to install it, I get the following error.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
You cannot continue.  There is nothing to install.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Also, is it recommended to delete the previous version before install a new one?
<br/>
<br/>
jorj</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55190 - crossraleigh - Mon Sep 26, 2005 5:04 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Also, is it recommended to delete the previous version before install a new one?</td> </tr></table><span class="postbody">
<br/>
That could be the problem. Remove the <span style="font-style: italic">/opt/local/devkitpro/</span> directory and try installing again. If push comes to shove, try this:
<br/>
<ol type="1">
<br/>
<li>Right click <span style="font-style: italic">devkitARM.pkg</span> and select "Show Package Contents."
<br/>
</li><li>Enter the <span style="font-style: italic">Contents</span> directory.
<br/>
</li><li>Double-click <span style="font-style: italic">Archive.pax.gz</span> to decompress it.
<br/>
</li><li>Rename the newly-created <span style="font-style: italic">Archive</span> directory to <span style="font-style: italic">devkitpro</span>.
<br/>
</li><li>Move <span style="font-style: italic">devkitpro</span> into <span style="font-style: italic">/opt/local/</span>.
<br/>
</li></ol>
<br/>
Can you tell I'm new to this? A different guy (<a class="postlink" href="http://www.deadcoderssociety.tk/" target="_blank">Mr. Spiv</a>) made the older installers. Please bear with me.<br/>_________________<br/>My world is black and white, but if I blink fast enough, I see it in grayscale.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55195 - sirjorj - Mon Sep 26, 2005 5:27 am</h4>
    <div class="postbody"><span class="postbody">I had already deleted all but the opt folder, so that made no difference.  After manually extracting the content and putting it in /opt/local/... it worked!  I build the original demo1 and it ran in hardware!  Thank you very much!  And I totally understand about you being new to the mac stuff.  I just got my first mac shortly after Tiger was released, and as you can see my by number of posts, Im very new to DS homebrew.
<br/>
Thanks again!
<br/>
<br/>
jorj</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55824 - Lazy1 - Sun Oct 02, 2005 10:39 pm</h4>
    <div class="postbody"><span class="postbody">I have done the first tutorial but I cannot get it to work, it compiles fine but screws up when creating the .elf file...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
C:\projects\ds_tutorial1&gt;arm-elf-gcc -Lc:\devkitpro\libnds\lib arm7.o -lnds7 -o
<br/>
arm7.elf -mthumb-interwork
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-elf/4.0.1/../../../../arm-elf/lib/inte
<br/>
rwork/crt0.o: In function `start':
<br/>
c:/projects/devkitPro/buildscripts/newlib-1.13.0/newlib/libc/sys/arm/crt0.S:89:
<br/>
undefined reference to `initialise_monitor_handles'
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-elf/4.0.1/../../../../arm-elf/lib/inte
<br/>
rwork\libc.a(exit.o): In function `exit':
<br/>
: undefined reference to `_exit'
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-elf/4.0.1/../../../../arm-elf/lib/inte
<br/>
rwork\libc.a(sbrkr.o): In function `_sbrk_r':
<br/>
: undefined reference to `_sbrk'
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Any ideas about why this isn't working?
<br/>
I haven't changed much in the sources except the placement of code, use of local variables, ect but nothing I did would cause this.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55832 - wintermute - Mon Oct 03, 2005 12:25 am</h4>
    <div class="postbody"><span class="postbody">you forgot -specs=ds_arm7.specs in the link step to start with. In order to use malloc on the arm7 side you'll need to edit that specs file found in path/to/devkitARM/arm-elf/lib/ds_arm7.specs. It should look like this :-
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
%rename link                old_link
<br/>
%rename link_gcc_c_sequence old_gcc_c_sequence
<br/>
<br/>
*link_gcc_c_sequence:
<br/>
%(old_gcc_c_sequence) --start-group -lsysbase -lc --end-group
<br/>
<br/>
*link:
<br/>
%(old_link) -T ds_arm7.ld%s
<br/>
<br/>
*startfile:
<br/>
ds_arm7_crt0%O%s crti%O%s crtbegin%O%s
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55836 - Lazy1 - Mon Oct 03, 2005 3:24 am</h4>
    <div class="postbody"><span class="postbody">Thanks, it compiles perfectly now - all I have to do now is figure out why its giving me extremely strange results from the touchscreen.
<br/>
<br/>
[Edit]
<br/>
Nevermind, it works on hardware but all the emulators I know about are broken...
<br/>
<br/>
DSEmu - Instead of a console, all I get is a screen filled with garbage characters
<br/>
iDeaS - Touchscreen is broken
<br/>
<br/>
It's not too hard to use hardware, I just don't like to keep moving my CF card in/out - those pins won't last forever.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55837 - doublec - Mon Oct 03, 2005 3:59 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">DSEmu - Instead of a console, all I get is a screen filled with garbage characters</td> </tr></table><span class="postbody">
<br/>
<br/>
Read the readme file included with DSEmu (assuming you are using 0.4.7 and above). It explains that to fix the garbage console, use the configuration options dialog box to set the 'unscramble' option.
<br/>
<br/>
Or from the dsemu website:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Workaround for 'console scramble'. There has been an issue since DevkitPro R14 which causes text output using the console output routines to be scrambled. I implemented a workaround in 0.4.6 but it didn't work for homebrew programs built with previous versions. I've been unable to fix the problem so far, so I added a 'Unscramble console text' option in the Options/Configuration menu option. If you run a game and the text appears scrambled, check or uncheck this, and it should correct the problem when you press 'Ok'.</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55838 - Lazy1 - Mon Oct 03, 2005 4:02 am</h4>
    <div class="postbody"><span class="postbody">Whoa, I completely forgot about checking the readme - I guess since it worked perfectly the first time I ran it a while ago I didn't bother - sorry about that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#60396 - doublec - Wed Nov 09, 2005 11:26 pm</h4>
    <div class="postbody"><span class="postbody">I've updated my tutorials so that they compile with the new libnds versions (with the changed register names):
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/index.html" target="_blank">http://www.double.co.nz/nintendo_ds/index.html</a>
<br/>
<br/>
Sorry to take so long!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64326 - doublec - Wed Dec 21, 2005 9:22 am</h4>
    <div class="postbody"><span class="postbody">The tutorials are updated again to work with the latest version of libnds (dated 2005-12-12):
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds" target="_blank">http://www.double.co.nz/nintendo_ds</a>
<br/>
<br/>
I've also released a new version of DSEmu to work with this version of libnds. Some of the touchscreen code changes broken DSEmu:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/dsemu.html" target="_blank">http://www.double.co.nz/nintendo_ds/dsemu.html</a>
<br/>
<br/>
This release also fixes the SWI divide issues that people were having.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64331 - rootzilla - Wed Dec 21, 2005 11:29 am</h4>
    <div class="postbody"><span class="postbody">F:\dsdev\demo1&gt;make
<br/>
arm-elf-g++ -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ff
<br/>
ast-math -mthumb-interwork -I/d/devkitPro/libnds/include -DARM7 -c arm7_main.cpp
<br/>
 -oarm7_main.o
<br/>
make: arm-elf-g++: Command not found
<br/>
make: *** [arm7_main.o] Error 127
<br/>
<br/>
<br/>
any idea why it would say this, when normal ndslib examples compile fine?
<br/>
and yep, my env variables are all set up correctly</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64334 - doublec - Wed Dec 21, 2005 11:34 am</h4>
    <div class="postbody"><span class="postbody">Do you have arm-elf-g++ in your path? (From memory, \devkitpro\devkitarm\bin). I did notice, when installing on another machine, that the windows installer for devkitarm didn't add it to my path.
<br/>
<br/>
Perhaps the standard ndslib examples have the location to  the compiler embedded within them, or within something that it includes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64339 - rootzilla - Wed Dec 21, 2005 12:09 pm</h4>
    <div class="postbody"><span class="postbody">C:\Documents and Settings\shane&gt;path
<br/>
PATH=d:\devkitPro\msys\bin; d:\devkitPro\devkitARM\bin;d:\devkitPro\msys\bin;
<br/>
<br/>
sure do :/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64367 - doublec - Wed Dec 21, 2005 7:26 pm</h4>
    <div class="postbody"><span class="postbody">Does typing 'arm-elf-g++' work from the command prompt?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64431 - rootzilla - Thu Dec 22, 2005 11:01 am</h4>
    <div class="postbody"><span class="postbody">nope :/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64437 - doublec - Thu Dec 22, 2005 12:32 pm</h4>
    <div class="postbody"><span class="postbody">That would indicate that something in your path is incorrect. Can you confirm where arm-elf-g++.exe is located? 
<br/>
<br/>
Does the following show it:
<br/>
<br/>
dir d:\devkitPro\devkitARM\bin\arm-elf*.*
<br/>
<br/>
Does this run it:
<br/>
<br/>
d:\devkitPro\devkitARM\bin\arm-elf-g++.exe
<br/>
<br/>
What about:
<br/>
<br/>
set PATH=d:\devkitPro\devkitARM\bin\
<br/>
arm-elf-g++</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117354 - doublec - Sun Feb 04, 2007 3:19 am</h4>
    <div class="postbody"><span class="postbody">Hi All,
<br/>
<br/>
I've had quite a few emails about the fact that my tutorials don't work with newer devkitPro releases. This is just a quick note to let you know that I'm updating my tutorials so that they work, and I'm moving to using the standard devkitPro makefiles so that they'll be more resilient to devkitPro updates.
<br/>
<br/>
So far tutorial one has been done and I'm working on the others:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds" target="_blank">http://www.double.co.nz/nintendo_ds</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117418 - silent_code - Sun Feb 04, 2007 8:06 pm</h4>
    <div class="postbody"><span class="postbody">man, keep up the good work! i couldn't encourage you enough to work on your tutorials. they are a great resource and i always recommend them to newcomers.
<br/>
<br/>
thank you very much! :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#117477 - d0hboy1 - Mon Feb 05, 2007 1:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>doublec wrote:</b></span></td> </tr> <tr> <td class="quote">... This is just a quick note to let you know that I'm updating my tutorials so that they work</td> </tr></table><span class="postbody">
<br/>
I had no idea that the tutorials were being actively updated -- this is a godsend for those of us that are following along with both <a class="postlink" href="http://www.double.co.nz/nintendo_ds/" target="_blank">yours </a>and <a class="postlink" href="http://www.dev-scene.com/NDS/Tutorials" target="_blank">dovoto's</a> material out there for DS programming.  Huge thanks..</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
