<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Loading a Binary into ram and Executing it. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Loading a Binary into ram and Executing it.</h2>
<div id="posts">
<div class="post">
    <h4>#149240 - TwentySeven - Thu Jan 17, 2008 3:12 am</h4>
    <div class="postbody"><span class="postbody">What I'd like to be able to do is to build a .nds (both arm7 and arm9) that can load another special seperately compiled arm9 executable binary <span style="font-weight: bold">*into ram only*</span> and then execute it.
<br/>
<br/>
My current working premise is that you'd have a "stub" .nds (about 200-300k or so)  that would possibly be modified to load itself "high" into ram, lets say at the 3MB mark.
<br/>
<br/>
Then the stub would download (or read from the cart) and store the new "child" executable in ram at 0x0000,  and hand execution over to it.
<br/>
<br/>
This would effectively destroy the stub, which is desirable.
<br/>
<br/>
My current question: (assuming this is feasible!)
<br/>
Is it possible to modify the current libnds .nds compiles to build a stub that starts high in ram leaving 0x000 onwards free?  Does anyone have experience with this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149245 - knight0fdragon - Thu Jan 17, 2008 4:35 am</h4>
    <div class="postbody"><span class="postbody">it is feasable, look for chishms exec stub<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149246 - DekuTree64 - Thu Jan 17, 2008 4:42 am</h4>
    <div class="postbody"><span class="postbody">You'll probably need to fiddle with link scripts, but it shouldn't be too difficult. Maybe just changing the EWRAM memory region start to 0x2300000 and size to 1MB would do it.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149247 - TwentySeven - Thu Jan 17, 2008 5:13 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the tips, Ill post here when I have an update.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149254 - PypeBros - Thu Jan 17, 2008 9:58 am</h4>
    <div class="postbody"><span class="postbody">the alternative is to copy your stub in VRAM and execute it there, meaning that you don't have to worry at all about the start address of your loaded binary...
<br/>
<br/>
Well, you might have good reasons to want it stay resident in normal RAM, of course ^_^<br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
