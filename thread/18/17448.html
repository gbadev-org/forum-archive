<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>New triangle strip command - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > New triangle strip command</h2>
<div id="posts">
<div class="post">
    <h4>#175687 - Rajveer - Sun Jan 16, 2011 11:06 pm</h4>
    <div class="postbody"><span class="postbody">Is there a gfx command for beginning a new triangle strip in a display list, without using a BEGIN_VTXS/ END_VTXS combination? I'm saving a few strips of triangles to a display list, and since I'm not beginning drawing of a new type of polygon, I'm curious if there is a way to avoid using those vertex commands between strips.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175688 - elhobbs - Mon Jan 17, 2011 12:49 am</h4>
    <div class="postbody"><span class="postbody">BEGIN_VTXS is required. END_VTXS is not required on hardware. triangle strips use connected trianges - so, no you can not skip BEGIN_VTXS to start a new strip.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175689 - Rajveer - Mon Jan 17, 2011 1:27 pm</h4>
    <div class="postbody"><span class="postbody">Cool, at least I can skip the END_VTXS command, thanks for that tip. I read that the BEGIN_VTXS and END_VTXS commands should be used sparingly as they're relatively slow, so was just curious.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175698 - ritz - Tue Jan 18, 2011 3:01 pm</h4>
    <div class="postbody"><span class="postbody">Those commands are only a single cycle, shouldn't be a big deal.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">  Address  Cmd Pa.Cy.
<br/>
  4000500h 40h 1  1   BEGIN_VTXS - Start of Vertex List (W)
<br/>
  4000504h 41h -  1   END_VTXS - End of Vertex List (W)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<a href="http://nocash.emubase.de/gbatek.htm#ds3diomap" target="_blank">http://nocash.emubase.de/gbatek.htm#ds3diomap</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175708 - Rajveer - Tue Jan 18, 2011 11:27 pm</h4>
    <div class="postbody"><span class="postbody">Oh yeah, so they are, thanks. Forgot that gbatek has the number of cycles for hardware commands :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175709 - TwentySeven - Wed Jan 19, 2011 2:46 am</h4>
    <div class="postbody"><span class="postbody">You can in fact do what you originally asked, by using duplicate vertexes to create a degenerate triangle to branch to the start of a new spatially discreet strip.
<br/>
<br/>
The simplest way to think of it is if you have two disconnected strips consisting of say:
<br/>
<br/>
a-b-c-d-e-f-g   and   h-i-j-k-l-m-n-o-p
<br/>
<br/>
you would pack it as a single strip like so
<br/>
<br/>
a-b-c-d-e-f-g-h-h-h-i-j-k-l-m-n-o-p
<br/>
<br/>
the triangle formed by h-h-h would be degenerate and invisible, allowing you to span space without drawing anything.
<br/>
<br/>
This pointless tip brought to you by:  "Starting a new strip is cheaper because of vertex counts", and "This doesn't save you anything on the PC either because of vertex transform caching and indexed triangles are cheaper anyhow"</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
