<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Debugging - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Debugging</h2>
<div id="posts">
<div class="post">
    <h4>#173756 - Thajocoth - Thu Apr 29, 2010 12:18 am</h4>
    <div class="postbody"><span class="postbody">I've been coding fairly blind for a while now...  I can't really find any way to get any sort of variable information or even debug output.  I'm able to slowly work around this...  But I'd be able to go a lot faster if I didn't have to do as much guesswork.  Especially now that I'm working on some of the AI parts, like D* pathing...
<br/>
<br/>
Of the emulators I've been using, Ensata seems to be the only one that supports debug output.  I've also been using DeSmuME for the graphics viewing and have tried to see what information I could get out of iDeaS &amp; No$, which has been none.
<br/>
<br/>
In libnds, the link to "Console and Debug Printing" loads up a blank page, as do both of the links in the "Debugging" section.  The Nitro command for debug output does not work (though, that's expected).  So, how to I output to Ensata's debug window with devkitPro?  Is there something I'm overlooking as far as variable tracking and the like go?</span><span class="gensmall"><br/><br/>Last edited by Thajocoth on Thu Apr 29, 2010 9:13 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#173761 - sverx - Thu Apr 29, 2010 9:37 am</h4>
    <div class="postbody"><span class="postbody"><a href="http://libnds.devkitpro.org/a00068.html" target="_blank">http://libnds.devkitpro.org/a00068.html</a>
<br/>
<br/>
you could print debug messages to the secondary screen or to no$ debug window.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173762 - elhobbs - Thu Apr 29, 2010 11:03 am</h4>
    <div class="postbody"><span class="postbody">You can use gdb or insight with desmume to debug the either the arm7 or the arm9. It has to be launched with a command line parameter though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173764 - Thajocoth - Thu Apr 29, 2010 4:24 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">http://libnds.devkitpro.org/a00068.html</td> </tr></table><span class="postbody">Yesterday, this page was coming up as a blank white page for me.  Now it seems to work.  That's odd...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">you could print debug messages to the secondary screen...</td> </tr></table><span class="postbody">I'm using the sub screen primarily, but it looks like this can also be set up for use with the main screen.  This could be useful, thanks.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">...no$ debug window.</td> </tr></table><span class="postbody">You're aware that the version of no$ with debugging features is no longer obtainable, right?  Otherwise I would be using that.  At least, all the info I've searched for about it online seems to indicate this...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>elhobbs wrote:</b></span></td> </tr> <tr> <td class="quote">You can use gdb or insight with desmume to debug the either the arm7 or the arm9. It has to be launched with a command line parameter though.</td> </tr></table><span class="postbody">I'll look into that, thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173765 - SteveH - Thu Apr 29, 2010 6:09 pm</h4>
    <div class="postbody"><span class="postbody">The devkitPro.org domain was having a little wobbler for most of yesterday - WinterMute was made aware of it.
<br/>
<br/>
Also ensata IIRC is the official Nintendo emulator, and you should only have that IF you are an official developer...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173766 - Thajocoth - Thu Apr 29, 2010 7:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SteveH wrote:</b></span></td> </tr> <tr> <td class="quote">The devkitPro.org domain was having a little wobbler for most of yesterday - WinterMute was made aware of it.
<br/>
<br/>
Also ensata IIRC is the official Nintendo emulator, and you should only have that IF you are an official developer...</td> </tr></table><span class="postbody">That makes sense.  So not only would most people here not have access to Ensata, but neither would devkitPro, so there is no devkitPro equivalent of Nitro's command for debug output, which I've avoided explicitly stating for similar reasons.  (While I'm not 100% sure on the limits of the NDA, I feel I'm better safe than sorry.)
<br/>
<br/>
Part of the reason I'm working with homebrew stuff instead of using what I already know, despite having access to the professional tools, is that I want to be able to share the resulting code of what I'm working on.  In a way, the code is actually more important for what I'm doing than the final product is.</span><span class="gensmall"><br/><br/>Last edited by Thajocoth on Thu Apr 29, 2010 9:14 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#173768 - SteveH - Thu Apr 29, 2010 9:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Thajocoth wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SteveH wrote:</b></span></td> </tr> <tr> <td class="quote">The devkitPro.org domain was having a little wobbler for most of yesterday - WinterMute was made aware of it.
<br/>
<br/>
Also ensata IIRC is the official Nintendo emulator, and you should only have that IF you are an official developer...</td> </tr></table><span class="postbody">That makes sense.  So not only would most people here not have access to Ensata, but neither would DevKit Pro, so there is no DevKit Pro equivalent of Nitro's command for debug output, which I've avoided explicitly stating for similar reasons.  (While I'm not 100% sure on the limits of the NDA, I feel I'm better safe than sorry.)
<br/>
<br/>
Part of the reason I'm working with homebrew stuff instead of using what I already know, despite having access to the professional tools, is that I want to be able to share the resulting code of what I'm working on.  In a way, the code is actually more important for what I'm doing than the final product is.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
1) it's devkitPro not DevKit Pro (WinterMute gets a little upset when the capitalisation is incorrect since devkitPro is the company that provides the devkitARM / devkitPSP toolchains)
<br/>
<br/>
2) There is a debug output in the toolchain (devkitARM) but you need to get no$ debug version or the latest SVN version of DeSmuMe to use them, or you can get dbg working with DeSmuMe as it is now.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173776 - sverx - Fri Apr 30, 2010 10:17 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Thajocoth wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">...no$ debug window.</td> </tr></table><span class="postbody">You're aware that the version of no$ with debugging features is no longer obtainable, right?  Otherwise I would be using that.  At least, all the info I've searched for about it online seems to indicate this...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I was simply giving you an information, I've never used no$ debug window. Actually I always found printing on the other screen enough for my debug needs.
<br/>
<br/>
This uses MAIN engine for console:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">consoleInit (NULL, 0, BgType_Text4bpp, BgSize_T_256x256, 31, 0, TRUE, TRUE);</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#173788 - Thajocoth - Fri Apr 30, 2010 6:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Thajocoth wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">...no$ debug window.</td> </tr></table><span class="postbody">You're aware that the version of no$ with debugging features is no longer obtainable, right?  Otherwise I would be using that.  At least, all the info I've searched for about it online seems to indicate this...</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I was simply giving you an information, I've never used no$ debug window. Actually I always found printing on the other screen enough for my debug needs.
<br/>
<br/>
This uses MAIN engine for console:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">consoleInit (NULL, 0, BgType_Text4bpp, BgSize_T_256x256, 31, 0, TRUE, TRUE);</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">Yeah, I've gotten it working on the main screen last night, it's great, thanks.  Given the nature of the project, I'll likely have a button toggle the main screen between a map with unit/controls information and debug output windows for each system.  This is a very useful feature.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174063 - dheart88 - Sun May 16, 2010 10:29 pm</h4>
    <div class="postbody"><span class="postbody">or the easiest way is to put exit(0); in your if clause.. if the condition true then the emulator screen will close</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174075 - kusma - Mon May 17, 2010 2:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dheart88 wrote:</b></span></td> </tr> <tr> <td class="quote">or the easiest way is to put exit(0); in your if clause.. if the condition true then the emulator screen will close</td> </tr></table><span class="postbody">
<br/>
How will exit(0) from the NDS lead to the emulator closing down?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174090 - fincs - Mon May 17, 2010 8:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>kusma wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dheart88 wrote:</b></span></td> </tr> <tr> <td class="quote">or the easiest way is to put exit(0); in your if clause.. if the condition true then the emulator screen will close</td> </tr></table><span class="postbody">
<br/>
How will exit(0) from the NDS lead to the emulator closing down?</span></td> </tr></table><span class="postbody">
<br/>
It's some libnds hook that either returns to the loader if there's a bootstub present or shuts down the DS if there isn't. You can also press L+R+Select+Start to trigger it.
<br/>
Currently only HomebrewMenu supports the return to loader protocol.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
