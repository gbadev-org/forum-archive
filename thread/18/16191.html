<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>The million dollar question about DSi - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > The million dollar question about DSi</h2>
<div id="posts">
<div class="post">
    <h4>#164468 - oruka - Mon Nov 03, 2008 6:55 pm</h4>
    <div class="postbody"><span class="postbody">Does it really have an arm7? I know many of you will be quick to answer that DS games use the ARM7, but the reality is that they run custom nintendo code inaccesible by the developer, and communicates with it via the shared memory register. Otherwise, why do you think ENSATA doesnt  emulate Arm7 and games still run? So.. nintendo could have replaced it by a custom, simpler (much cheper than an arm7) unit that does the same as it (play midi, wifi, read controls, etc). 
<br/>
<br/>
What do you think?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164472 - simonjhall - Mon Nov 03, 2008 8:44 pm</h4>
    <div class="postbody"><span class="postbody">Nah, the CPU is probably SO cheap that it'd probably cost more to replace it with something custom! But granted, the things that it does are kinda simple-ish.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164473 - nanou - Mon Nov 03, 2008 8:48 pm</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://pc.watch.impress.co.jp/docs/2008/1101/nintendo.htm" target="_blank">Here</a> are some shots of the DSi hardware opened up. When I went through them I was looking for a hint at the amount of extra RAM, but I wasn't looking for CPUs.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164474 - Maxxie - Mon Nov 03, 2008 8:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nanou wrote:</b></span></td> </tr> <tr> <td class="quote"><a class="postlink" href="http://pc.watch.impress.co.jp/docs/2008/1101/nintendo.htm" target="_blank">Here</a> are some shots of the DSi hardware opened up. When I went through them I was looking for a hint at the amount of extra RAM, but I wasn't looking for CPUs.</td> </tr></table><span class="postbody">
<br/>
<br/>
Interesting. Same BB-Chip (MM3218) AND an Atheros? 
<br/>
That would mean two 802.11 devices, does it? Actually the HF-Path makes it even more look like it.
<br/>
<br/>
edit: PS: RAM is a 128MiBit module from NEC if i see it correct: <a href="http://www.cn.necel.com/memory/cn/products/msram/msram-128m.html" target="_blank">http://www.cn.necel.com/memory/cn/products/msram/msram-128m.html</a>
<br/>
So that makes 16MiB.<br/>_________________<br/><a class="postlink" href="http://nintendods.desperate-programmers.com/doku.php?id=wireless_io_map" target="_blank">Trying  to bring more detail into understanding the wireless hardware</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164476 - mreaves - Mon Nov 03, 2008 9:52 pm</h4>
    <div class="postbody"><span class="postbody">CPU is TWL, I wonder if that is some custom REV of an ARM chip?
<br/>
<br/>
16meg would be well cool.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164478 - nanou - Mon Nov 03, 2008 10:59 pm</h4>
    <div class="postbody"><span class="postbody">...and a Samsung 256Mb NAND flash module.
<br/>
<br/>
Does anyone see another processor? We're promised an AAC decoder (which I assume is hardware) as well. Maybe they replaced the arm7 with one of those multimedia processors designed for PMPs and bundled the whole thing into the one processor we're seeing.
<br/>
<br/>
EDIT: <a class="postlink" href="http://pc.watch.impress.co.jp/docs/2004/1202/ds49.jpg" target="_blank">this</a> is a shot of the processor from the Phat for comparison.<br/>_________________<br/>- nanou</span><span class="gensmall"><br/><br/>Last edited by nanou on Mon Nov 03, 2008 11:03 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#164479 - silent_code - Mon Nov 03, 2008 11:00 pm</h4>
    <div class="postbody"><span class="postbody">TWL stands for Twilight, which is the internal model name.
<br/>
I'm investigating. :^)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164480 - DiscoStew - Mon Nov 03, 2008 11:00 pm</h4>
    <div class="postbody"><span class="postbody">I don't have a definite answer, but I wouldn't be surprised if they did have something else other than the ARM7. It's widely known that Nintendo has developers use their libraries for handling stuff with the current system's ARM7 CPU, so as long as the "interface" with those libraries don't change, and whatever they use gets the job done, it won't matter if it's the same or not.
<br/>
<br/>
(Please clarify if anything I say after this is incorrect)
<br/>
<br/>
I'm pretty sure that one reason why the ARM7 was used in the current systems was mainly for compatibility with GBA games, but with no Slot 2 for inserting GBA-style cartridges, it sorta removes the need for GBA compatibility, so I don't see a reason to keep it. But, would Nintendo implement GBA compatibility via DS-Ware? Would that be a good enough reason to keep a compatible CPU?<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164482 - nanou - Mon Nov 03, 2008 11:04 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">TWL stands for Twilight, which is the internal model name.
<br/>
I'm investigating. :^)</td> </tr></table><span class="postbody">
<br/>
Bah, I read that somewhere and I can't believe I didn't remember it.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164483 - Maxxie - Mon Nov 03, 2008 11:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DiscoStew wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I'm pretty sure that one reason why the ARM7 was used in the current systems was mainly for compatibility with GBA games, but with no Slot 2 for inserting GBA-style cartridges, it sorta removes the need for GBA compatibility, so I don't see a reason to keep it.</td> </tr></table><span class="postbody">
<br/>
<br/>
It would still break old games unless you actually have parts of the arm7 still running or beeing emulated, so then, why remove it?
<br/>
Why it would break old games is that you can't change how the API is called/controlled through the IPC-Fifo, as those FIFO-IO is written down in the old modules. The work behind the FIFO can change, yes. What does that safe you and what does it cost?<br/>_________________<br/><a class="postlink" href="http://nintendods.desperate-programmers.com/doku.php?id=wireless_io_map" target="_blank">Trying  to bring more detail into understanding the wireless hardware</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164484 - silent_code - Mon Nov 03, 2008 11:19 pm</h4>
    <div class="postbody"><span class="postbody">Ok, so, apparently my "investigations" brought me to the believe, that all three models have only one ARM chip... not to be mixed up with one ARM processor, though!
<br/>
<br/>
So, asking those who know better: Are the two ARMs on one chip or even sharing a die? It wouldn't be *that* odd, I guess. EDIT: I have found several posts on random sites that state it's a single chip solution, with both ARMs on it.
<br/>
<br/>
Either way: As Nintendo own the design to the Nitro CPU (which includes licenses for the two ARM architectures - remember that ARM don't sell processors, but architectures), why would they redesign it and put so much effort in porting the existing ARM7 functionality to another type of processor?
<br/>
<br/>
I don't see a reason to throw a perfectly intact processor out, which probably has a very mature production line after being produced in MASSIVE quantities, by the way.
<br/>
<br/>
So, long story short: I can't tell for sure, but I think the ARM7 is still present.
<br/>
<br/>
<br/>
EDIT: According to <a class="postlink" href="http://www.eetasia.com/ARTICLES/2007JUN/C/EEOL_2007JUN21_INTD_CTRLD_NP.gif" target="_blank">this</a> even the graphics processor is on the chip. The TWL model's chip doesn't even look smaller, but rather unchanged throughout all models. Makes sense to me. ;^)
<br/>
<br/>
Also nice: <a class="postlink" href="http://www.chipdb.org/cat-video-game-cpu_s-1212.htm" target="_blank">this</a>. :^D<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164486 - nanou - Tue Nov 04, 2008 12:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">I don't see a reason to throw a perfectly intact processor out, which probably has a very mature production line after being produced in MASSIVE quantities, by the way.</td> </tr></table><span class="postbody">
<br/>
Did you see anything for processing audio in those shots? I didn't find the old Mitsumi chip. I still suspect that audio processing has moved in with the CPU(s).<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164487 - tepples - Tue Nov 04, 2008 12:42 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">TWL stands for Twilight, which is the internal model name.</td> </tr></table><span class="postbody">
<br/>
Are you sure it doesn't represent Nintendo's attempt to make homebrewers throw in the ToWeL?
<br/>
<br/>
And as for audio processing, it had <span style="font-style: italic">better</span> have something with more resolution than the 10-bit PWM audio DAC of the original DS and DS Lite. Even a PDM DAC would sound better; Sony managed to pull it off in SACD.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164491 - nanou - Tue Nov 04, 2008 2:36 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">And as for audio processing, it had <span style="font-style: italic">better</span> have something with more resolution than the 10-bit PWM audio DAC of the original DS and DS Lite. Even a PDM DAC would sound better; Sony managed to pull it off in SACD.</td> </tr></table><span class="postbody">
<br/>
I had to laugh when I read that--just the way you said it. I think an SACD-like format would be too unwieldy, otherwise I'd be <span style="font-style: italic">all</span> for it, assuming a suitably high bitrate.
<br/>
<br/>
10-bit audio is pretty bad. It's still way better than 8-bit, and in a way it's "good enough" (where 8-bit would not be) but it's definitely rough around the edges... I think we've all noticed. The dynamics gets way out of hand, software mixers saturating sound rotten, and samples really need to be adjusted for dynamics before they're used (to be fair, they really should be anyway.)
<br/>
<br/>
Despite all that, DS-10 sounds great. Only a couple of times was I able to produce artifacts.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164499 - sverx - Tue Nov 04, 2008 12:57 pm</h4>
    <div class="postbody"><span class="postbody">mmm... there was a separate chip (on the NDS or on the NDSL) for the ARM7?
<br/>
<br/>
I think this TWL chip could be simply the "next version" of the previous one, with nothing less, maybe something more :)
<br/>
<br/>
(well, at least I hope so ;) )</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164501 - Lynx - Tue Nov 04, 2008 4:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Either way: As Nintendo own the design to the Nitro CPU (which includes licenses for the two ARM architectures - remember that ARM don't sell processors, but architectures), why would they redesign it and put so much effort in porting the existing ARM7 functionality to another type of processor?
<br/>
<br/>
I don't see a reason to throw a perfectly intact processor out, which probably has a very mature production line after being produced in MASSIVE quantities, by the way.</td> </tr></table><span class="postbody">
<br/>
<br/>
Has it been said that the DSi will even support GBA games at all?  Doesn't make sense to remove the slot-2 for GBA games and still plan on supporting them in any other format.
<br/>
<br/>
And I don't see them throwing anything away.  They still have to produce DS/DS-Lites, so if they have a huge stock pile of them, I'm sure they will use them.  Even when the DS came out, you could still buy the GBA and Micro, so I could see the DS-Lite being on store shelves for another year or two after the DSi releases.  And who knows.. the DSi could end up like the Virtual Boy. (in reference to market acceptance)<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164502 - mreaves - Tue Nov 04, 2008 5:00 pm</h4>
    <div class="postbody"><span class="postbody">No. it won't end up like the Virtualboy because it does everything the DS does and more, there is a huge lineup of compatible games so it is a well supported system from the get go.
<br/>
<br/>
Even if there are no extra hardware enhancements (CPU, PPU, GPU etc), the 16meg of RAM would make a difference over what can be done on a normal DS. Plus the addition of WPA is welcomed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164503 - Dwedit - Tue Nov 04, 2008 5:34 pm</h4>
    <div class="postbody"><span class="postbody">Nintendo left the GBC chipset inside the GBA-Micro.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164509 - nanou - Tue Nov 04, 2008 9:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">mmm... there was a separate chip (on the NDS or on the NDSL) for the ARM7?
<br/>
<br/>
I think this TWL chip could be simply the "next version" of the previous one, with nothing less, maybe something more :)
<br/>
<br/>
(well, at least I hope so ;) )</td> </tr></table><span class="postbody">
<br/>
There wasn't, it seems. I hadn't looked at the internals photos before, but it looks like the two ARMs have always been housed together. I think there is something different about its contents this time, if only the addition of a decoder.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164515 - silent_code - Tue Nov 04, 2008 11:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">mmm... there was a separate chip (on the NDS or on the NDSL) for the ARM7?
<br/>
<br/>
I think this TWL chip could be simply the "next version" of the previous one, with nothing less, maybe something more :)
<br/>
</td> </tr></table><span class="postbody">
<br/>
As far as I can tell, there wasn't. The ARM7 + 9 + graphics core are and,  apparently, have always (as far as retail units go) been on one chip.
<br/>
I wouldn't be surprised, if they added some components to it, to reduce manufactuing caost even further and decrese the overall number of parts.
<br/>
I can not prove this though.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">Nintendo left the GBC chipset inside the GBA-Micro.</td> </tr></table><span class="postbody">
<br/>
The Z80 was removed from the micro, so the compatibility was gone. However, the Z80 was there only for backwards compatibility with GB and GBC games, whereas the ARM7 is actively used in the NDS as a real co-processor (the Z80 was also labeled a "co-processor," although in a different sense).<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164517 - Dwedit - Wed Nov 05, 2008 12:25 am</h4>
    <div class="postbody"><span class="postbody">The Z80 was not removed from the GB Micro.  Watch a GB Micro crash into GBC mode, it still executes the bootrom code fine.  Can't do that without a GBZ80.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164520 - silent_code - Wed Nov 05, 2008 12:59 am</h4>
    <div class="postbody"><span class="postbody">Interesting... so, did they just remove the switch in the slot that changed the mode of operation when a legace cart was inserted into the previous models? Wikipedia says the Z80 was removed, but of course, that's not a very reliable source per se (no citation for that - although it seems to be mentioned pretty consistently).
<br/>
Why the hell can't the GBAmicro play legacy games, then? (Again: missing switch?)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164528 - sverx - Wed Nov 05, 2008 5:37 pm</h4>
    <div class="postbody"><span class="postbody">Back to the original question:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>oruka wrote:</b></span></td> </tr> <tr> <td class="quote">[...]nintendo could have replaced it by a custom, simpler (much cheper than an arm7) unit that does the same as it (play midi, wifi, read controls, etc).</td> </tr></table><span class="postbody">
<br/>
<br/>
I was thinking... ok, you can't program the ARM7 directly using the official devkit... ok, they could replace it with a "black box" that aswers to ARM9 requests exactly as if it were a program running on ARM7... but anyway in the NDS/NDSL there are timers, interrupts, SPI... all communicating with the ARM7. Is it easy to replace everything? Or do you think (in the DSi) they removed 'only the ARM7', leaving all the other stuff like in the NDS/NDSL or do you think they replaced all that with a "black box"?
<br/>
<br/>
I'm really not an expert, but I would say they didn't remove/replace anything...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164530 - Dwedit - Wed Nov 05, 2008 6:16 pm</h4>
    <div class="postbody"><span class="postbody">Seeing as Nintendo forces each Wii game to use the exact same ARM9 binary (IOS) it was designed against, I highly doubt Nintendo would have taken the ARM7 out of any DS model.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164533 - tepples - Wed Nov 05, 2008 9:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">Seeing as Nintendo forces each Wii game to use the exact same ARM9 binary (IOS) it was designed against, I highly doubt Nintendo would have taken the ARM7 out of any DS model.</td> </tr></table><span class="postbody">
<br/>
On the contrary, I see it as more evidence that Nintendo could easily have replaced the ARM7 IOP with another IOP. As I understand it, there are only a few unique arm7.bin (analogous to Wii IOS) in licensed DS games, and if the DSi's IOS speaks the same FIFO protocol as the IOS on a given Game Card, the ARM9 won't know the difference. That would be consistent with the following evidence:
<br/>
<ul><li>The DS emulator used by licensed developers is known to high-level-emulate the ARM7. </li><li>People on Some Other Forum have reported that they can use ndstool to replace a commercial game's arm7.bin with the arm7.bin from a game with a close release date, and the game will still work. </li></ul><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164539 - chishm - Thu Nov 06, 2008 10:27 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">Interesting. Same BB-Chip (MM3218) AND an Atheros? 
<br/>
That would mean two 802.11 devices, does it? Actually the HF-Path makes it even more look like it.</td> </tr></table><span class="postbody">
<br/>
Thinking this through, why would they remove the ARM7 and replace it with something else, but keep the old 802.11 chip? The only reason I can see them spending money on the old chip is to remain compatible with the NDS ARM7 binaries running on an ARM7.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164540 - nanou - Thu Nov 06, 2008 12:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chishm wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">Interesting. Same BB-Chip (MM3218) AND an Atheros? 
<br/>
That would mean two 802.11 devices, does it? Actually the HF-Path makes it even more look like it.</td> </tr></table><span class="postbody">
<br/>
Thinking this through, why would they remove the ARM7 and replace it with something else, but keep the old 802.11 chip? The only reason I can see them spending money on the old chip is to remain compatible with the NDS ARM7 binaries running on an ARM7.</span></td> </tr></table><span class="postbody">
<br/>
That makes so much sense. I never really thought about the fact that there's a binary for it on the cart. They could still override that, doing away with the arm7 (and skipping its binary) but that's more convoluted than making new WiFi hardware play nice with the old code.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164541 - Maxxie - Thu Nov 06, 2008 12:01 pm</h4>
    <div class="postbody"><span class="postbody">Good point.
<br/>
There wouldn't be any point in providing this backward compatibility if the thing that uses it has been removed.<br/>_________________<br/><a class="postlink" href="http://nintendods.desperate-programmers.com/doku.php?id=wireless_io_map" target="_blank">Trying  to bring more detail into understanding the wireless hardware</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164590 - silent_code - Sat Nov 08, 2008 11:24 pm</h4>
    <div class="postbody"><span class="postbody">They *could* have increaded the CPUs' clock speed with a compatibility fallback to NDS ratings, just like the ARM7 does in GBA mode. Although I thinks this is unlikely. :^D<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164603 - M3d10n - Sun Nov 09, 2008 7:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">They *could* have increaded the CPUs' clock speed with a compatibility fallback to NDS ratings, just like the ARM7 does in GBA mode. Although I thinks this is unlikely. :^D</td> </tr></table><span class="postbody">
<br/>
<br/>
Nintendo doesn't allow developers to make DSi-enabled games run on old DS models. They need to publish two versions (a DSi and a DS version), so using a higher clock speed in DSi mode is a possibility. 
<br/>
<br/>
It would also save Nintendo from having to include a hardware AAC decoder into the DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164608 - nanou - Sun Nov 09, 2008 9:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">Nintendo doesn't allow developers to make DSi-enabled games run on old DS models. They need to publish two versions (a DSi and a DS version), so using a higher clock speed in DSi mode is a possibility.</td> </tr></table><span class="postbody">
<br/>
:( Do you have a source on this?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">It would also save Nintendo from having to include a hardware AAC decoder into the DS.</td> </tr></table><span class="postbody">
<br/>
It might also explain the relatively huge difference in battery life. I'm assuming a hardware decoder could be a lot more energy efficient.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164640 - mreaves - Tue Nov 11, 2008 9:19 am</h4>
    <div class="postbody"><span class="postbody">More tear downs and comments...
<br/>
<br/>
<a href="http://www.bunniestudios.com/blog/?p=274" target="_blank">http://www.bunniestudios.com/blog/?p=274</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164654 - M3d10n - Wed Nov 12, 2008 3:14 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nanou wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">Nintendo doesn't allow developers to make DSi-enabled games run on old DS models. They need to publish two versions (a DSi and a DS version), so using a higher clock speed in DSi mode is a possibility.</td> </tr></table><span class="postbody">
<br/>
:( Do you have a source on this?</span></td> </tr></table><span class="postbody">
<br/>
Heard from a developer. Seems to be on the latest guidelines.
<br/>
<br/>
I have this theory that the DSi might actually be the DS sucessor in a similar fashion the Wii was the GC's successor, only a lot more stealthy.
<br/>
<br/>
Nintendo upped the memory (and probably the CPU speed), added a beefier firmware with built-in online features and download capabilties and a new hardware gadget (the cameras). But unlike the GC, the DS was a huge success and Nintendo kept the branding instead of creating a new one.
<br/>
<br/>
If the DSi becomes a huge success, I'm pretty sure it'll become the DS2 and push the fabled "portable GC" even further away. But if it doesn't catches on, Nintendo can just tell it was just another hardware revision and move onto something else.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164655 - nanou - Wed Nov 12, 2008 8:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">Heard from a developer. Seems to be on the latest guidelines.</td> </tr></table><span class="postbody">
<br/>
Ah, I hadn't heard anything like this (and it contradicts N's message that the DSi is just a hardware rev, and that all carts will be compatible) so I wanted to make sure it wasn't just speculation.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I have this theory that the DSi might actually be the DS sucessor in a similar fashion the Wii was the GC's successor, only a lot more stealthy.</td> </tr></table><span class="postbody">
<br/>
I hope you're right. My pessimism has me thinking that a CPU upgrade in lieu of a hardware decoder would not be much. If they're thinking "potential successor" though, that would restore a bit of optimism. Personally I think they need to roughly quadruple the 3D capabilities in the successive unit. I'm assuming the 3D is the same since they haven't mentioned it.
<br/>
<br/>
In that blog post bunnie kind of suggests the possibility of greatly higher clock speeds. I refuse to believe we'll be seeing a 266MHz proc (or better) in there but it sure would be nice. Also: someone mentioned Tegra in a response and while that's right out for the DSi, I'd like to see the next DS go that route. I don't see it happening, but I can dream.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164657 - sverx - Wed Nov 12, 2008 4:59 pm</h4>
    <div class="postbody"><span class="postbody">I'm not an expert but I think the idea that the DSi could have a faster processor looks right, to me.
<br/>
<br/>
I mean: the DSi has (claims) complete DS/DSL compatibility. The easyier way to achieve this is to use the same hardware, I guess.
<br/>
<br/>
So they're still using an ARM9, say 4 or 5 times faster, and they also put 4 times the memory in the box. But, when you insert a DS/DSL game, the DSi recognize it and just slows down the processor and 'turns off' 3/4 of the main memory. After all that's quite what the DS/DSL is doing with ARM7 when you insert a GBA game, isn't it?
<br/>
<br/>
I'm speculating, of course. :)
<br/>
<br/>
edit: the battery life figures we've read refers to a DSi used with DSi software... I believe the figures would be about the same as a DSL when using DS/DSL games...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164661 - mreaves - Wed Nov 12, 2008 5:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">I'm not an expert but I think the idea that the DSi could have a faster processor looks right, to me.
<br/>
<br/>
I mean: the DSi has (claims) complete DS/DSL compatibility. The easyier way to achieve this is to use the same hardware, I guess.
<br/>
<br/>
So they're still using an ARM9, say 4 or 5 times faster, and they also put 4 times the memory in the box. But, when you insert a DS/DSL game, the DSi recognize it and just slows down the processor and 'turns off' 3/4 of the main memory. After all that's quite what the DS/DSL is doing with ARM7 when you insert a GBA game, isn't it?
<br/>
<br/>
I'm speculating, of course. :)
<br/>
<br/>
edit: the battery life figures we've read refers to a DSi used with DSi software... I believe the figures would be about the same as a DSL when using DS/DSL games...</td> </tr></table><span class="postbody">
<br/>
<br/>
The thing is, the DS was never really CPU bound in terms of performance. The 3D end tended to be the bottleneck / weakness. So upping the CPU by 4 times the speed doesn't make a lot of sense if you don't do anything with the GPU.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164663 - DensitY - Wed Nov 12, 2008 7:21 pm</h4>
    <div class="postbody"><span class="postbody">The only real thing that is terribly wrong with the GPU is the hard limit on tris/vertices, it has a reasonable amount of fillrate on there. But yeah I agree, increasing the CPU speed without increasing the GPU's render limit is a little odd, unless they want to encourage developers to use the extra cpu for things like physics simulation etc (simple physics simulation that is).
<br/>
<br/>
Mind you, we all know that even with the existing DS's 66mhz processor, unless you use TCM getting '66mhz' out of the thing didn't happen. so apart of me is hoping they've increased the bus speed from 33mhz to 66mhz so it'll match, but I doubt that'd happen.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164670 - nanou - Thu Nov 13, 2008 12:10 am</h4>
    <div class="postbody"><span class="postbody">Well, the RAM speed seems to be in the same class as it was before, just more of it. The only 32mbit module I found on NEC's site that's similar to the DSL's RAM had the same access times as the 128mbit module in the DSi.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>servx wrote:</b></span></td> </tr> <tr> <td class="quote">I'm not an expert but I think the idea that the DSi could have a faster processor looks right, to me.</td> </tr></table><span class="postbody">
<br/>
I don't disagree--after all, something has to give for all the new features to work. I just can't imagine a 4-5x increase in CPU though. It doesn't seem like it could pay off unless just about everything else in the system got an upgrade too.
<br/>
<br/>
I feel weird when I say 3D needs an upgrade. The DS isn't very good for 3D because of the handful of pixels on the screen. But there are a lot of games that use 3D well and they deserve to be prettier.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164673 - M3d10n - Thu Nov 13, 2008 12:30 am</h4>
    <div class="postbody"><span class="postbody">Nintendo isn't wasteful when it comes to hardware. If the CPU is faster, it is most certainly only faster enough to allow the new features to work comfortably (ex: doing image manipulation). 
<br/>
<br/>
Don't forget the DSi has an additional Wifi chip. This one is probably accessible by the ARM9 this time around, and extra CPU speed would help in dealing with WPA and other Wifi-related tasks which took too much resources in the previous models. As example: Metroid Prime Hunters lobby-only voice chat.
<br/>
<br/>
If you think about it, the upgrades (RAM, internal storage, faster wifi, maybe faster CPU) are much more beneficial for online games. And even if 16MBs sounds too much for your vanilla DS game, it could be used to reduce loading times a lot by using the extra RAM as cache for ROM data.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164674 - nanou - Thu Nov 13, 2008 2:59 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">If you think about it, the upgrades (RAM, internal storage, faster wifi, maybe faster CPU) are much more beneficial for online games. And even if 16MBs sounds too much for your vanilla DS game, it could be used to reduce loading times a lot by using the extra RAM as cache for ROM data.</td> </tr></table><span class="postbody">
<br/>
Those are good points, though I haven't noticed a problem with load times but maybe caching space would encourage devs to put more into their games without concerning themselves over load times. The question then is: how would the additional media be delivered? I'd like to see a better GPU along with a modest CPU upgrade.
<br/>
<br/>
Something else just occurred to me: the CPU can't be all that boastful if Opera still doesn't run all that well. It's still obviously memory-bound, but from the videos I've seen the UI is still sluggish.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164676 - HyperHacker - Thu Nov 13, 2008 7:58 am</h4>
    <div class="postbody"><span class="postbody">I see a sticker on that mainboard. Reminds me of SL1.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164677 - mreaves - Thu Nov 13, 2008 8:09 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote">I see a sticker on that mainboard. Reminds me of SL1.</td> </tr></table><span class="postbody">
<br/>
<br/>
SL1?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164690 - Dwedit - Fri Nov 14, 2008 12:24 am</h4>
    <div class="postbody"><span class="postbody">The contacts you short to unlock the flash chip.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164697 - sverx - Fri Nov 14, 2008 10:28 am</h4>
    <div class="postbody"><span class="postbody">Interesting topic :)
<br/>
<br/>
I've read your idea and I agree that probably just increasing the CPU speed 4x/5x just won't be enough. Ok, but the original question was -correct me if I'm wrong- "is still the ARM7 in there?"
<br/>
<br/>
My idea (again, I'm not an hardware expert, barely a newbie DS homebrewer...) in general was that maybe isn't the ARM9 only that is faster, now. Maybe the GPU it's more powerful, maybe the bus works @ 66MHz too... I don't know, but my opinion is that everything that's inside (that should be compatible to what was in the DS) is 'simply' faster/bigger/stronger but can work exactly as it was working inside a DS, simply using a subset of its 'new' power.
<br/>
<br/>
Of course then you can add other components, as they don't have to be back-compatible...
<br/>
<br/>
When are we going to check our speculations? (I guess when we will be able to run homebrew on it, right?)
<br/>
<br/>
:)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164711 - silent_code - Sat Nov 15, 2008 2:29 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">Nintendo doesn't allow developers to make DSi-enabled games run on old DS models. They need to publish two versions (a DSi and a DS version), so using a higher clock speed in DSi mode is a possibility. </td> </tr></table><span class="postbody">
<br/>
What I wrote was: They could have made the CPU faster, but that hypothetical extra performance could only be used in DSi exclusive games... which probably are downloadable only, anyway, and don't need any "real" extra power. :^p
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nanou wrote:</b></span></td> </tr> <tr> <td class="quote">:( Do you have a source on this?</td> </tr></table><span class="postbody">
<br/>
@ M3d10n: Yeah, do you have a source? Because I have yet to confirm that for myself. And btw: aren't a lot of us developers? Do you mean "a developer officially approved by Nintendo?"
<br/>
If you meant that, then you might have to be a little bit more specific, so the offically approved deleopers among us may check that claim.
<br/>
<br/>
Although, I do believe that there is a separate SDK to access DSi functionality.
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">My idea (again, I'm not an hardware expert, barely a newbie DS homebrewer...) in general was that maybe isn't the ARM9 only that is faster, now. Maybe the GPU it's more powerful, maybe the bus works @ 66MHz too...</td> </tr></table><span class="postbody">
<br/>
The GPU is on the same chip as the CPUs and I wouldn't be surprised if the CPUs have direct access to it, which doesn't involve the bus. :^)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164732 - M3d10n - Sun Nov 16, 2008 6:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nanou wrote:</b></span></td> </tr> <tr> <td class="quote">:( Do you have a source on this?</td> </tr></table><span class="postbody">
<br/>
@ M3d10n: Yeah, do you have a source? Because I have yet to confirm that for myself. And btw: aren't a lot of us developers? Do you mean "a developer officially approved by Nintendo?"
<br/>
If you meant that, then you might have to be a little bit more specific, so the offically approved deleopers among us may check that claim.
<br/>
<br/>
Although, I do believe that there is a separate SDK to access DSi functionality.</span></td> </tr></table><span class="postbody">
<br/>
It was posted by an Aussie developer on NeoGAF (aka: the Drawn to Life guys). This means there'll be DSi cartridge games (but I'm sure 3rd parties will wait until the userbase grows big enough).
<br/>
<br/>
Back on the CPU discussion, it's very easy to get CPU bottlenecked on the DS before you hit the triangle/vertex GPU limits. Start throwing animated skinned character models around and you suddenly start having a hard time keeping 60fps if you're doing anything more involved game-wise. Even the rendering of static meshes isn't free, there is some CPU overhead involved.
<br/>
<br/>
A large bunch of commercial DS games which run at less than 60fps are not doing any special trick for pushing more polygons and are simply CPU-bound.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
