<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to absolute clear a vbank? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > How to absolute clear a vbank?</h2>
<div id="posts">
<div class="post">
    <h4>#152559 - Programix - Mon Mar 17, 2008 7:49 pm</h4>
    <div class="postbody"><span class="postbody">Hi, what's the easiest way to clear a vram bank or clear all vram banks?
<br/>
Thanks in advance :)<br/>_________________<br/><a class="postlink" href="http://www.programix.info" target="_blank">My blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152564 - simonjhall - Mon Mar 17, 2008 8:47 pm</h4>
    <div class="postbody"><span class="postbody">Aren't they clear with to begin? If not, what I'd do is map each bank in turn to LCDC mode (so you can write to it directly from the ARM9). Then for each bank fill it with zeros!
<br/>
However remember that you can only write to VRAM in 16-bit quantities so do each clear as a for/while loop that writes shorts (not bytes) to the appropriate piece of memory.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152566 - Programix - Mon Mar 17, 2008 8:51 pm</h4>
    <div class="postbody"><span class="postbody">Thanks much simonjhall! I will try it out<br/>_________________<br/><a class="postlink" href="http://www.programix.info" target="_blank">My blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152572 - Dwedit - Mon Mar 17, 2008 9:37 pm</h4>
    <div class="postbody"><span class="postbody">You can write 32-bit quantities into VRAM, it just runs at a speed as if you were doing 2 16-bit writes.  But that loses the instruction overhead of doing multiple 16-bit writes, so doing a bunch of 32-bit writes is the fastest way to go.
<br/>
<br/>
In other words, if you're the programmer, use memset.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
