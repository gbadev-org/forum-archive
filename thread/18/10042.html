<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>NintenCats help needed - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > NintenCats help needed</h2>
<div id="posts">
<div class="post">
    <h4>#89250 - iainprice - Fri Jun 23, 2006 7:54 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
Yes I'm playing with some MD2 files and the touch screen.
<br/>
<br/>
Any ideas of nice algorithms to detect which polygon I am touching with the touch screen?
<br/>
<br/>
Cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89271 - tepples - Fri Jun 23, 2006 11:25 pm</h4>
    <div class="postbody"><span class="postbody">You shoot a ray out from the camera origin in the direction of the touch, and then you find objects on that touch position. But why specifically do you need to detect which exact polygon of the model was touched? Why isn't it enough to cast the ray to a bounding sphere?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89282 - josath - Sat Jun 24, 2006 12:09 am</h4>
    <div class="postbody"><span class="postbody">maybe he wants to detect which part of the cat you are touching.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89338 - iainprice - Sat Jun 24, 2006 10:24 am</h4>
    <div class="postbody"><span class="postbody">Yep, that's the one. If you are touching its back I want to switch to an animated section for arching back... etc.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89351 - HtheB - Sat Jun 24, 2006 2:11 pm</h4>
    <div class="postbody"><span class="postbody">NintenCats? O_o</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89382 - silent_code - Sat Jun 24, 2006 5:27 pm</h4>
    <div class="postbody"><span class="postbody">meowe! :)
<br/>
<br/>
sweet idea :) hope you get it done :)
<br/>
<br/>
well, nearly everything has been said. you need to look for unprojecting from screen to worldspace (for the "touch ray") and then determine the closest model (not necessarily the first you find - depends on your implementation) the ray hits. after that you transform the ray segment that is inside the boundig volume and test each tri against the ray segment. you can also have a sub bounding volume hierarchy to minimize ray/tri tests. if that test fails repeat for the second closest model...
<br/>
<br/>
happy copding!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89390 - iainprice - Sat Jun 24, 2006 5:54 pm</h4>
    <div class="postbody"><span class="postbody">Surely there's a much easier way.
<br/>
<br/>
You only draw visible polys to the screen. You know which poly is drawn to which part of the screen and you know where your stylus is on the screen...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89392 - silent_code - Sat Jun 24, 2006 6:00 pm</h4>
    <div class="postbody"><span class="postbody">how would you do that?
<br/>
and especially with hardware drawing?
<br/>
<br/>
poly indexing (the opengl thing)... is that available in either hw or libnds? i doubt it...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89403 - MaHe - Sat Jun 24, 2006 6:51 pm</h4>
    <div class="postbody"><span class="postbody">Huh ... I love cats, but let's face it: what could you do? Feed the cat, pet the cat, clean the litterbox and let it out. That's it. Sure you don't mean to implement a function to take a cat for a walk ... Do you?<br/>_________________<br/><span style="font-size: 9px; line-height: normal">[ Crimson and Black Nintendo DS Lite | CycloDS Evolution | EZ-Flash 3-in-1 | 1 GB Transcend microSD ]</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89407 - tepples - Sat Jun 24, 2006 7:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>MaHe wrote:</b></span></td> </tr> <tr> <td class="quote">Huh ... I love cats, but let's face it: what could you do? Feed the cat, pet the cat, clean the litterbox and let it out. That's it.</td> </tr></table><span class="postbody">
<br/>
That's why the homebrewers simulate cats and leave the dogs to the paid professionals :-)<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89415 - Zed0 - Sat Jun 24, 2006 8:33 pm</h4>
    <div class="postbody"><span class="postbody">If it were me I would just do a bounding sphere or hemisphere for say, the nose, the top of the head, bottom of head, each foot, belly, back and tail<br/>_________________<br/><span style="text-decoration: underline">__Zed0__</span>
<br/>
FlasheMe'd Silver DS - GBAMP-CF - 512MB CF Card - R4DS - 2GB Micro SD Card</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89519 - iainprice - Sun Jun 25, 2006 9:30 am</h4>
    <div class="postbody"><span class="postbody">I know there are threads on 3d on both screen but I can't get 3d on the bottom screen in hardware but it works in ideas emu...
<br/>
<br/>
I don't want 3d on both screens, just the bottom. What am I doing wrong?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89530 - Dark Knight ez - Sun Jun 25, 2006 11:07 am</h4>
    <div class="postbody"><span class="postbody">I'd suggest posting your code in which you setup the environments.
<br/>
Meaning your vramSetBank(..)s, and your setVideoMode(..)s and such.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89632 - iainprice - Sun Jun 25, 2006 9:55 pm</h4>
    <div class="postbody"><span class="postbody">[code]
<br/>
	videoSetMode(MODE_0_2D | DISPLAY_BG0_ACTIVE);
<br/>
	videoSetModeSub(MODE_0_3D);
<br/>
	vramSetMainBanks(VRAM_A_MAIN_BG, VRAM_B_TEXTURE, VRAM_C_SUB_BG, VRAM_D_TEXTURE); 
<br/>
[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89678 - HyperHacker - Mon Jun 26, 2006 5:03 am</h4>
    <div class="postbody"><span class="postbody">Maybe <span style="font-style: italic">videoSetModeSub(MODE_0_3D | DISPLAY_BG0_ACTIVE);</span>? I remember hearing that the 3D image replaces BG0.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89699 - Dark Knight ez - Mon Jun 26, 2006 9:36 am</h4>
    <div class="postbody"><span class="postbody">Try BG3 instead of BG0.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89855 - crossraleigh - Tue Jun 27, 2006 12:23 am</h4>
    <div class="postbody"><span class="postbody">Engine A (which normally draws on the top screen) does 3D, while Engine B (which normally draws on the bottom) does not. Toggle the swap bit in POWER_CR to make Engine A draw to the bottom screen.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89942 - iainprice - Tue Jun 27, 2006 3:57 pm</h4>
    <div class="postbody"><span class="postbody">system.h has several defines. Which bit do I need to change?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90465 - xtoc - Fri Jun 30, 2006 9:42 am</h4>
    <div class="postbody"><span class="postbody">- nintendoZoo will be a great idea with wifi support :p</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90467 - crossraleigh - Fri Jun 30, 2006 10:26 am</h4>
    <div class="postbody"><span class="postbody">Bit 15. Look for POWER_SWAP_LCDS in libnds.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93402 - iainprice - Tue Jul 18, 2006 11:47 pm</h4>
    <div class="postbody"><span class="postbody">I'm still after a little help for sensing which part of an MD2 you are touching when displayed. I have a lot of the 3D and 2D work done. A few sprite problems but optherwise looking good. I still need to be able to change from one animation to another depending on user input.
<br/>
<br/>
Any ideas?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93458 - dovoto - Wed Jul 19, 2006 6:57 am</h4>
    <div class="postbody"><span class="postbody">I recently (a relative term) added the ability to read the number of vertecies rendered to the screen using a glGet().  THis should allow you to do 3D picking.
<br/>
<br/>
Some psudo code
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
capture 3D to vram and display as 2D
<br/>
<br/>
(x,y) = touchPossition;
<br/>
<br/>
viewport(x-1,y-1,y+1,y+1, z...)
<br/>
<br/>
for(i = 0 to polycount)
<br/>
<br/>
count = glGetInt(GL_GET_VERTEX_RAM_COUNT)
<br/>
<br/>
renderPoly(i)
<br/>
<br/>
countnew = glGetInt(GL_GET_VERTEX_RAM_COUNT)
<br/>
<br/>
if(countnew &gt; count) hit(i);
<br/>
<br/>
end for
<br/>
<br/>
restore viewport
<br/>
<br/>
restore video mode
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
This requires a free vram bank to capture the output of your scene and hold it while you render a small screen centered about your stylus.  Because the vertex counter only increments if the poly is rendered on the screen you will get a hit if any polys render to near the stylus location.
<br/>
<br/>
This is roughly the way openGL implements picking.
<br/>
<br/>
A raycast is an alternative method that does not require a free vram bank and probably is faster (it takes an entire frame to do the picking as described above).  The raycast is just much more complex.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93508 - iainprice - Wed Jul 19, 2006 4:38 pm</h4>
    <div class="postbody"><span class="postbody">Is there a ray cast tutorial or explanation on the web you can recommend as vram banks are scarse!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93573 - tepples - Wed Jul 19, 2006 10:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dovoto wrote:</b></span></td> </tr> <tr> <td class="quote">(it takes an entire frame to do the picking as described above)</td> </tr></table><span class="postbody">
<br/>
It didn't stop NES games that used the Zapper for picking.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#93617 - crossraleigh - Thu Jul 20, 2006 2:14 am</h4>
    <div class="postbody"><span class="postbody">I don't think dovoto's method of picking will work. Writing to GFX_VIEWPORT scales the view instead of cropping it. Any poly that was visible before changing the viewport should still be visible afterwards; it will just be squished.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94692 - Payk - Tue Jul 25, 2006 8:44 pm</h4>
    <div class="postbody"><span class="postbody">HMhmh whats up guys??? Camerasettings ....compute a vector...damn
<br/>
like u would do in mathmatics with x,y and searching for a crosspoint of to lines...just in 3d....but damn it will cost much calulations...i would recommand fixed point of course...maybe i right a code for you...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94806 - HyperHacker - Wed Jul 26, 2006 6:19 am</h4>
    <div class="postbody"><span class="postbody">I have some raycasting code <a class="postlink" href="http://www.gamedev.net/community/forums/topic.asp?topic_id=405194" target="_blank">here</a> that was working somewhat, but no longer does for some reason. Maybe you can use it; maybe someone can even tell me what the heck is wrong with it.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94865 - Valmond - Wed Jul 26, 2006 3:17 pm</h4>
    <div class="postbody"><span class="postbody">You can also make a matrice that translate the world so that the ray
<br/>
casted starts at 0,0,0 and goes to 1,0,0 (for example).
<br/>
<br/>
Checking intersections should then be a piece of cake (2 crossproducts, right ?) even if tou have to make a matrix mul / vertex.
<br/>
<br/>
Well, that's a way anyway.
<br/>
<br/>
/Valmond<br/>_________________<br/><a class="postlink" href="http://ludviglarsson.free.fr/DSLite/" target="_blank">N?fer &amp; LudLib</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94921 - iainprice - Wed Jul 26, 2006 9:54 pm</h4>
    <div class="postbody"><span class="postbody">Payk if you are offering.....
<br/>
<br/>
any psudeo code, examples, suggestions....
<br/>
<br/>
I need to calcuate which poly/area of the md2 model you are touching...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95143 - Payk - Fri Jul 28, 2006 12:41 am</h4>
    <div class="postbody"><span class="postbody">hmh i have to sleep now but will do it tomorrow...
<br/>
promissed...i also use md2 so i will be able to test..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95145 - Payk - Fri Jul 28, 2006 12:52 am</h4>
    <div class="postbody"><span class="postbody">but have to say it would calculate much
<br/>
there is one way which is very easy and absolutly fast &amp; sure succes...but costs vram...
<br/>
if u have that cat...displaycapture just the cat...no texture...glcolor it in green....backgroundcolor should be black...lets say i map that to vramc...
<br/>
u have touchpos x,y...then u check the content of vram if color is green or if color is black...no crosspoduct is needed...the only problem is while doing that capture...u have a green cat on display...how to avoid that?
<br/>
capture current scene first...make a bg over 3d scene ...display the capture....
<br/>
now u render that green cat...display capture to vram now u can make next frame and free that bglayer which is over scene....that would be the dirty and fast way...but succes is sure...and if u make that just when touching...noboy will take notice that 2 frames are misssing..if u have a good framerate...i could help u to get a good one too..
<br/>
<br/>
My game runs at 60fps (since some hours)...
<br/>
<a class="postlink" href="http://payk2005.pa.funpic.de/New.emu.nds" target="_blank">http://payk2005.pa.funpic.de/New.emu.nds</a>
<br/>
and it uses many light calculations and such a things...and the hole scene just needs one vram-texture bank (8bit textures are great)
<br/>
<br/>
but still i will make a code for u...the thing is ....more polys...more calculations....so it will be 2 functions...
<br/>
one easy which just looks if that poly could be touched...very stupid one ...just to avoid the other function as much as possible..
<br/>
the other function will calulate more...also both functions need the real position and rotation...when using matrix you could not easy know that...
<br/>
dunno your code...i had to face same problems when coding my lights...
<br/>
i never found out how to get back rot , scale and translate datas...so before each rot/trans/scale i gave data to another function to store...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95284 - dovoto - Fri Jul 28, 2006 4:21 pm</h4>
    <div class="postbody"><span class="postbody">Payk...very cool.  Lets see a bigger level! :)<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95409 - Payk - Sat Jul 29, 2006 7:19 am</h4>
    <div class="postbody"><span class="postbody">yeah thanx....hmhm that displaycapture idea is cool...i just thought about...when touching make a capture to vram...each ground plate has r=10 g=x b=y as color (13x13 is viewfield) each char could use r=20 or obects beign with r=0....then i will make a controlment like zelda...should work...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95822 - HyperHacker - Mon Jul 31, 2006 6:23 am</h4>
    <div class="postbody"><span class="postbody">Yeah, colour picking is nice if framerate isn't an issue. What you can even do is render every polygon in a unique colour (doesn't matter if your eye can tell them apart) with no textures, so you can tell what polygon is being touched. You might make this even easier by setting the background colour to RGB 0,0,0 and using the R, G and B values of the polygon's colour as IDs of some sort. EG suppose you have your scene broken up into objects, which are made up of multiple shapes, which contain several polygons... you can use the red value as the object ID, green as shape ID, and blue as polygon ID.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95901 - jester - Mon Jul 31, 2006 2:09 pm</h4>
    <div class="postbody"><span class="postbody">Any progress on Nintencats???</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95933 - iainprice - Mon Jul 31, 2006 5:04 pm</h4>
    <div class="postbody"><span class="postbody">I am getting there... there are so many animations to make for different movements and actions....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95938 - jester - Mon Jul 31, 2006 5:28 pm</h4>
    <div class="postbody"><span class="postbody">any screenshots yet??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#96108 - Payk - Tue Aug 01, 2006 12:02 pm</h4>
    <div class="postbody"><span class="postbody">HyperHacker
<br/>
Hmh i have 60fps in my game...so if u touch the screen u will lose 1-2 frames....just in that moment.
<br/>
and that ID thing i will make.
<br/>
R=0...nothing
<br/>
R=1...ground
<br/>
R=2...obj
<br/>
R=3...npc
<br/>
R=4...enemy
<br/>
R=5...item
<br/>
<br/>
so G/B can then be used as index...for those grounds on screen G=X and B=Y for example...so a 32x32 tiled-field can be touched
<br/>
<br/>
But not the end HyperHacker...thing about a fence which is build of 2 polys..a texture with visualgaps is needed
<br/>
<a href="http://files.turbosquid.com/Preview/Content_on_8_17_2001_15_43_57/chainlink256.jpgB95D3E51-FCCF-4F4A-9C9266F5E5F62073.jpgLarge.jpg">[Images not permitted - Click here to view it]</a>
<br/>
so black here is invisible in game...so with a calculation solucion u never could touch whats behind fence. but if u use that color solucion u could precalc a blackwhite texture (16color of course) where black=invisible white=visible....and when rendering that colored scene u use that b/w-textures so u realy can hit trough the gaps of the fence...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#96110 - Payk - Tue Aug 01, 2006 12:28 pm</h4>
    <div class="postbody"><span class="postbody">Dovoto?
<br/>
<a href="http://www.lighthouse3d.com/opengl/picking/" target="_blank">http://www.lighthouse3d.com/opengl/picking/</a>
<br/>
^^Namestack? why not porting that? or u thing it uses raycasting?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#96190 - dovoto - Tue Aug 01, 2006 8:20 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Payk wrote:</b></span></td> </tr> <tr> <td class="quote">Dovoto?
<br/>
<a href="http://www.lighthouse3d.com/opengl/picking/" target="_blank">http://www.lighthouse3d.com/opengl/picking/</a>
<br/>
^^Namestack? why not porting that? or u thing it uses raycasting?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes this is the picking I describe.  The functionality is allready present in libnds.  Simply capture the current frame to vram and display it as a 2D static image (this freezes the display), zoom in on the place you touched (and probably set an ortho render mode).  then render your scene one object at a time.  Comparet the vertex counter before and after each object and if they are different then you know that object was rendered.  Fortunatly the DS hardware will not render anything that is completely off screen. Because your viewport was so small and centered on the touch then you can assume that any object rendered is in line with the touch.
<br/>
<br/>
I may do an example of this but I will not be implementing the actual method that GL employs to keep track of the "hits" as i dont much care for it.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#96304 - Payk - Wed Aug 02, 2006 1:16 pm</h4>
    <div class="postbody"><span class="postbody">There is just one problem...if u call capture reg u have to wait till next frame, right?
<br/>
so when making a loop which goes trogh the mesh and capturing after each poly in order to get pixel...it will cost that much frames polys are tested...when i understand that right...if not..your method is better since it cost just one vram bank instead of 2</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#96305 - Mighty Max - Wed Aug 02, 2006 1:30 pm</h4>
    <div class="postbody"><span class="postbody">If you can abuse the capture, you can do a hidden render, where you replace any texture just with a color indexing the object it belongs to.
<br/>
<br/>
Reading the pixelcolor would then point you back to the object there.
<br/>
<br/>
<br/>
For the most cases tho, i'd recomment to check if the line cast from the cam's root to the screen's pixel intersects either the polygons or bounding boxes for the objects (faster due to less calculations)<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#96457 - Payk - Thu Aug 03, 2006 2:18 pm</h4>
    <div class="postbody"><span class="postbody">Last night dovoto and me talked about all these...he gaves me a working pc example and a source of a glu-function which is missing on libnds...
<br/>
with that things it will be easy to code the method dovoto descriped here.
<br/>
it will cost one vram-bank and one frame to detect which poly or polygroup was touched. Thanx for sources and a lot of infos.
<br/>
I am pretty sure it will work...i just understood him wrong before...now its clear and understandable for me...i will code an example of this. I have a working PC example...so it will be easy...Thanx dovoto!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97866 - Payk - Sat Aug 12, 2006 12:44 am</h4>
    <div class="postbody"><span class="postbody">Hi there...Dovoto and me searched for other easy solucions.
<br/>
He made gluPickMatrix and i did same independendly....
<br/>
both causted blackscreens.
<br/>
<br/>
So i thought about how to make it just using 1 Main-Ram-Bank
<br/>
(its very important for me)
<br/>
<br/>
My color picking method would generaly work. But it costs one BG to hide the 3d scene and one mainbank to catch 3d scene.
<br/>
<br/>
The Only solucion i see then is:
<br/>
-First Capture 3D scene as 128x128 image to vram a,b,c or d
<br/>
-Next frame read out the captured to vramE and display as main bg streched right in order to fit: <a href="http://payk2005.pa.funpic.de/qali.JPG">[Images not permitted - Click here to view it]</a> it doesnt look that bad i had tought...
<br/>
<br/>
So now 3D scene is hidden and main bank still can be used to capture...
<br/>
<br/>
-Render Cat for example in green
<br/>
-Render toys of cats in different blue colors
<br/>
-Clearcolor was hopefully setten before to black or its still that case.
<br/>
<br/>
Next frame:
<br/>
-Render normal scene again and and switch of the 128x128 BG layer.
<br/>
So now mainram is filled with touch infos vramE is usable again and u can code what u want.
<br/>
<br/>
There is just one thing:
<br/>
I use vramE for texture pals....is there an easy way to store it to a different bank?
<br/>
Thanx....
<br/>
<br/>
This color method should be easy to code.
<br/>
Just that pal thing is a problem for me. If nintencats works with 16bit colors...u wont have any problems and 3 texture banks to use.
<br/>
i will try to use vram E as bg and get pals working in my game...then i will code that color picking...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97882 - omaremad - Sat Aug 12, 2006 2:56 am</h4>
    <div class="postbody"><span class="postbody">wow you guys are going a bit far with per polygon collsion detection for the cat, it would mean:
<br/>
<br/>
1-huge memory used as each polygon needs group data
<br/>
2-1500 polygon cat imagine cheking every polygon that would take ages.
<br/>
<br/>
my method is very fast and very easy:
<br/>
<br/>
when the player touch the centre of the touch screena value of 0 is added to the virtual cameras rotation matrix
<br/>
<br/>
when the player touch just above the centre the x rotation increases in the virtual camera matrix
<br/>
<br/>
etc..
<br/>
<br/>
the virtual camera looks theroretically in the direction of the touch ie sorta like a first person shooter camera, then we shoot a ray out of this virtual camera and then it hits a bounding box, the bounding box has the same translation as one of the cats bones. therefore we get the limb that is touched
<br/>
<br/>
line to bounding box collision is easy and cheap</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98899 - iainprice - Fri Aug 18, 2006 10:20 am</h4>
    <div class="postbody"><span class="postbody">How do you draw to Vram, not the screen?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#105202 - MelGibson - Fri Oct 06, 2006 6:25 pm</h4>
    <div class="postbody"><span class="postbody">Any updates on this project ?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
