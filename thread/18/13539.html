<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Possibility of reading in *.txt files by code - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Possibility of reading in *.txt files by code</h2>
<div id="posts">
<div class="post">
    <h4>#132728 - phoenix23 - Thu Jun 28, 2007 11:29 pm</h4>
    <div class="postbody"><span class="postbody">Hey all,
<br/>
I have a question.
<br/>
Is it possible to use the "fopen"  function to create, edit and access *.txt files? I wish to read in from a text file and write out to it too using "libfat" or any other mechanism on the DS.
<br/>
<br/>
I tried to write to a text file, however, the file never got created in the first place.
<br/>
<br/>
Any help will be appreciated.
<br/>
Thanks in advance.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132730 - kusma - Thu Jun 28, 2007 11:49 pm</h4>
    <div class="postbody"><span class="postbody">are you sure you closed the file (fclose()) before terminating the application?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132731 - phoenix23 - Thu Jun 28, 2007 11:50 pm</h4>
    <div class="postbody"><span class="postbody">Yes, I did...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132732 - phoenix23 - Fri Jun 29, 2007 12:05 am</h4>
    <div class="postbody"><span class="postbody">If someone could post a working example of creating a text file and writing info to it (using fopen,fprintf etc or any other mechanism), I'll appreciate it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132736 - tepples - Fri Jun 29, 2007 12:52 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://www.pineight.com/dx/RAC" target="_blank">RAC</a> reads and writes a binary file. A "text file" is just a binary file encoded in ASCII, ISO 8859-1, or UTF-8.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132742 - HyperHacker - Fri Jun 29, 2007 1:41 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">FILE* FP = fopen("test.txt", "wt");
<br/>
if(!FP) return 0; //file couldn't be opened
<br/>
fprintf(FP, "This is a text file!");
<br/>
fclose(FP);</td> </tr></table><span class="postbody">
<br/>
<br/>
On the DS you have to call fatInitDefault() before doing any file I/O too.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132759 - phoenix23 - Fri Jun 29, 2007 5:03 am</h4>
    <div class="postbody"><span class="postbody">Well, I've tried exactly the same thing and it just doesn't work.
<br/>
Everything compiles and runs but the file does not get created anywhere at all.
<br/>
Is there anything else that needs to be done?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132761 - Ant6n - Fri Jun 29, 2007 5:07 am</h4>
    <div class="postbody"><span class="postbody">dldi patching?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132763 - phoenix23 - Fri Jun 29, 2007 5:16 am</h4>
    <div class="postbody"><span class="postbody">Ok, I've found my problem.
<br/>
<br/>
I am unable to install the "libfat" library correctly. Everything was running on my emulator but my nintendo DS actually complained when I try to use "fatInitDefault".
<br/>
Initially, I tried to create a new directory called "libfat" and compile the source code. However, I got a linker error saying that "-lfat" not found.
<br/>
Thus, I copied the ".a" file and the "fat.h" file into my "libnds" folder structure, and complied again. The project compiles,but does not run.
<br/>
Also, could anyone provide some links which illustrate how to go about creating a make file?
<br/>
<br/>
Thank you for your replies :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132765 - phoenix23 - Fri Jun 29, 2007 5:27 am</h4>
    <div class="postbody"><span class="postbody">Well guys, I had to patch it to get it up and running :-)
<br/>
Thank you very much for the prompt replies.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132880 - Wonder Boy - Sat Jun 30, 2007 11:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>phoenix23 wrote:</b></span></td> </tr> <tr> <td class="quote">Well guys, I had to patch it to get it up and running :-)
<br/>
Thank you very much for the prompt replies.</td> </tr></table><span class="postbody">
<br/>
Hi, I wonder this works in no$gba or another emulator... This is thus?
<br/>
<br/>
Greetings.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142195 - phoenix23 - Fri Oct 05, 2007 11:51 pm</h4>
    <div class="postbody"><span class="postbody">I did try to get it running on Dualis but all I get is a blank screen. However, if I transfer the file to the console, everything is fine.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
