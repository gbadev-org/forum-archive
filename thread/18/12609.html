<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Do you have a flash card with extra RAM? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Do you have a flash card with extra RAM?</h2>
<div id="posts">
<div class="post">
    <h4>#120406 - simonjhall - Sat Mar 03, 2007 6:46 pm</h4>
    <div class="postbody"><span class="postbody">I'm trying to decide whether or not I should add support for extra-RAM cards in Quake. The game *will not* require extra memory, but if it's there I'd like to use it in order to speed up load times.
<br/>
<br/>
It'd be nice if the poll could let you vote more than once but I can't see an option for that... So if you've got more than one type could you select the one with the *least* memory? Or just post here :-)
<br/>
<br/>
If you've only got a slot-1 card then you don't have any extra memory.
<br/>
If I've forgotten any card then please tell me.
<br/>
<br/>
<span style="font-weight: bold">If enough people vote then I'll add support</span><br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120413 - Miika - Sat Mar 03, 2007 7:23 pm</h4>
    <div class="postbody"><span class="postbody">Hello simon, I have the EZ-Flash 4 Deluxe with extra RAM (That is not usable yet?)
<br/>
I voted EZ4, BUT now I also have an M3 Simply AND the original Opera RAM expansion! 
<br/>
So I hope you will support the Opera expansion when/if you need extra RAM. 
<br/>
Maybe you should make different builds for M3/SC/Opera expansion?<br/>_________________<br/>My DSQuake video: <a class="postlink" href="http://www.youtube.com/watch?v=03wz7nmaXa8" target="_blank">http://www.youtube.com/watch?v=03wz7nmaXa8</a>
<br/>
My QuakeDS video: <a class="postlink" href="http://www.youtube.com/watch?v=nNIKneo11o4" target="_blank">http://www.youtube.com/watch?v=nNIKneo11o4</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120415 - Lazy1 - Sat Mar 03, 2007 7:27 pm</h4>
    <div class="postbody"><span class="postbody">I voted Supercard, but good luck getting RAM access on the M3.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120416 - simonjhall - Sat Mar 03, 2007 7:29 pm</h4>
    <div class="postbody"><span class="postbody">Miika: I keep meaning to send you a sample (Quake2!) which will test to see if the memory on your card needs an unlock code - I just need to find time to do so!
<br/>
Unless someone wants to chime in and tell me?
<br/>
<br/>
And I keep meaning to get an Opera expansion to go with my SC.
<br/>
Oh and I was gonna put everything in the same build.
<br/>
<br/>
Lazy1: is the M3 memory not easy to use? I've seen the unlock code in Moonshell...does it not work?<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120417 - Lazy1 - Sat Mar 03, 2007 7:30 pm</h4>
    <div class="postbody"><span class="postbody">I don't know since I got my unlock codes elsewhere, I'll check out moonshell though.
<br/>
<br/>
[Edit]
<br/>
So this EZ4 thing has extra RAM?
<br/>
Maybe they'll give out free ones to developers who want to use the extra ram  in their applications.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120418 - simonjhall - Sat Mar 03, 2007 7:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">static void SetM3_EnableCard(void) 
<br/>
{
<br/>
   // run unlock sequence
<br/>
   volatile unsigned short tmp ;
<br/>
   tmp = *(volatile unsigned short *)0x08000000 ;
<br/>
   tmp = *(volatile unsigned short *)0x08E00002 ;
<br/>
   tmp = *(volatile unsigned short *)0x0800000E ;
<br/>
   tmp = *(volatile unsigned short *)0x08801FFC ;
<br/>
   tmp = *(volatile unsigned short *)0x0800104A ;
<br/>
   tmp = *(volatile unsigned short *)0x08800612 ;
<br/>
   tmp = *(volatile unsigned short *)0x08000000 ;
<br/>
   tmp = *(volatile unsigned short *)0x08801B66 ;
<br/>
   tmp = *(volatile unsigned short *)0x08800006 ;
<br/>
   tmp = *(volatile unsigned short *)0x08000000 ;
<br/>
}
<br/>
<br/>
static void SetM3_EnablePSRAM(void) 
<br/>
{
<br/>
   // run unlock sequence
<br/>
   volatile unsigned short tmp ;
<br/>
   tmp = *(volatile unsigned short *)0x08000000 ;
<br/>
   tmp = *(volatile unsigned short *)0x08E00002 ;
<br/>
   tmp = *(volatile unsigned short *)0x0800000E ;
<br/>
   tmp = *(volatile unsigned short *)0x08801FFC ;
<br/>
   tmp = *(volatile unsigned short *)0x0800104A ;
<br/>
   tmp = *(volatile unsigned short *)0x08800612 ;
<br/>
   tmp = *(volatile unsigned short *)0x08000000 ;
<br/>
   tmp = *(volatile unsigned short *)0x08801B66 ;
<br/>
   tmp = *(volatile unsigned short *)0x08800004 ; // 0=bios?, 4 or c=8MByte?
<br/>
   tmp = *(volatile unsigned short *)0x08000000 ;
<br/>
<br/>
        *(volatile u16*)0x09FFEFFE=0xAA55; // PepsiMan vote: The RAM on the M3 is made writable by writing 0xaa55 to 0x09ffeffe.
<br/>
<br/>
    // a=4; err=(n=0-7),(0x088nxxxx,0x089nxxxx,0x08anxxxx,0x08bnxxxx,0x08cnxxxx,0x08dnxxxx,0x08enxxxx,0x08fnxxxx)
<br/>
}
<br/>
<br/>
#define M3_PSRAM_MaxSize (16*1024*1024)</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm guessing that 'PSRAM' is the memory that gets mapped into the gba space. Dunno why it's 16 megs in size though...<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120420 - Miika - Sat Mar 03, 2007 7:38 pm</h4>
    <div class="postbody"><span class="postbody">EZ4 Dx has 32 MB of PSRAM + 48MB of NOR.
<br/>
+ RAM for the loader and saves.
<br/>
<br/>
Simon, I really have no idea myself how to utilize the RAM or about unlock codes or whatever, as I mentioned before, the old version of moonshell utilized EZ4 RAM to write the ROMs in it before launching.
<br/>
I have asked about this in the EZ-Flash forums, you may read this thread:
<br/>
<a href="http://ezflash.sosuke.com/viewtopic.php?t=3966&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=" target="_blank">http://ezflash.sosuke.com/viewtopic.php?t=3966&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=</a><br/>_________________<br/>My DSQuake video: <a class="postlink" href="http://www.youtube.com/watch?v=03wz7nmaXa8" target="_blank">http://www.youtube.com/watch?v=03wz7nmaXa8</a>
<br/>
My QuakeDS video: <a class="postlink" href="http://www.youtube.com/watch?v=nNIKneo11o4" target="_blank">http://www.youtube.com/watch?v=nNIKneo11o4</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120424 - dantheman - Sat Mar 03, 2007 8:10 pm</h4>
    <div class="postbody"><span class="postbody">I voted Supercard even though I have an Opera pack because only the Supercard would be useful to me for homebrew applications.  Unless you figured out a way to load all you needed into the DS's RAM and then let me pak-swap to the Opera RAM, it's the Supercard that would be used.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120436 - Lazy1 - Sat Mar 03, 2007 9:06 pm</h4>
    <div class="postbody"><span class="postbody">Well, I couldn't get that M3 code working either.
<br/>
I must be doing something wrong but I have no way of finding out.
<br/>
<br/>
If you get it working let me know.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120438 - HyperHacker - Sat Mar 03, 2007 9:09 pm</h4>
    <div class="postbody"><span class="postbody">I want one, only have a GBAMP right now. I'm thinking M3 due to its good GBA support, but considering it's made by the same company as GBAMP and mine isn't working so well anymore... :-/ how is M3 durability-wise? Has anyone even managed to enable all 32MB?<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120442 - jester - Sat Mar 03, 2007 9:24 pm</h4>
    <div class="postbody"><span class="postbody">Most nowadays have Slot-1 Solutions maybe a new angle to this issue needs to be focused on?<br/>_________________<br/>If anyone needs a dragonball online email me @ <a href="mailto:aaronthejester@hotmail.com">aaronthejester@hotmail.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120450 - simonjhall - Sat Mar 03, 2007 9:36 pm</h4>
    <div class="postbody"><span class="postbody">I tried to get an M3 Perfect by talking to M3 directly and they sent me a slot-1 Simply instead. Huh. If they had I'd be able to easily roll support for that card into Q1/Q2.
<br/>
<br/>
On the flip side having the slot-1 Simply is pretty useful as I wrote the Q1 networking code using a second DS which didn't have flashme on it... Plus I'm developing Q2 on the Simply in slot-1 but my Supercard in slot-2...
<br/>
<br/>
EDIT: Miika, I read that thread you pointed me at. Doesn't look too promising, but they do look like they've had some luck. Either way I've emailed the sales addr for the the manufacturer - hopefully they'll send me a free card!<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120461 - Doom5 - Sat Mar 03, 2007 11:02 pm</h4>
    <div class="postbody"><span class="postbody">Considering Team Ez-flash will be releasing a memory expansion card <a class="postlink" href="http://www.ezflash.cn/en/article.asp?id=45" target="_blank">http://www.ezflash.cn/en/article.asp?id=45</a> for Slot-1 users, I think more applications should take advantage of the extra memory in flash cards.
<br/>
<br/>
EDIT: It's already available at an Australian site <span style="font-weight: bold">[URL removed by MOD - read the rules]</span> for only AU $22.00 or about $17 USD.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120463 - Firon - Sat Mar 03, 2007 11:14 pm</h4>
    <div class="postbody"><span class="postbody">The M3 team will be releasing one for the M3 Real as well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120557 - OOPMan - Sun Mar 04, 2007 6:26 pm</h4>
    <div class="postbody"><span class="postbody">I have a SuperCard and hence voted SC. I also have an Opera cart, but I don't really care about support for it...
<br/>
<br/>
With regards to the M3 and 16megs only, this is a known problem. However, Amadeus managed to work out a solution that allowed access to the full 32mb. Of course, that's all wrapped up in DS Linux, but it is possible to access all 32mb.
<br/>
<br/>
I think the M3 normally reserves 16mb for I/O of some kind, but it is possible to access the whole 32mb...<br/>_________________<br/>"My boot, your face..." - Attributed to OOPMan, Emperor of Eroticon VI
<br/>
<br/>
You can find my NDS homebrew projects <a class="postlink" href="http://blog.dev-scene.com/oopman/" target="_blank">here...</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120559 - viruseb - Sun Mar 04, 2007 6:31 pm</h4>
    <div class="postbody"><span class="postbody">G6 has also 32MB RAM. I've found the unlock code somewhere.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120563 - daninski - Sun Mar 04, 2007 6:48 pm</h4>
    <div class="postbody"><span class="postbody">supercardlite, opera as well but i have no reason to get a slot one as the supercard and flashme are ideal.<br/>_________________<br/><a href="http://www.holbrooksfilms.com" target="_blank">www.holbrooksfilms.com</a>
<br/>
<br/>
<a href="http://www.tdotodotm.com" target="_blank">www.tdotodotm.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120577 - Firon - Sun Mar 04, 2007 8:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>OOPMan wrote:</b></span></td> </tr> <tr> <td class="quote">I have a SuperCard and hence voted SC. I also have an Opera cart, but I don't really care about support for it...
<br/>
<br/>
With regards to the M3 and 16megs only, this is a known problem. However, Amadeus managed to work out a solution that allowed access to the full 32mb. Of course, that's all wrapped up in DS Linux, but it is possible to access all 32mb.
<br/>
<br/>
I think the M3 normally reserves 16mb for I/O of some kind, but it is possible to access the whole 32mb...</td> </tr></table><span class="postbody">
<br/>
<br/>
Both Supercard and M3 use some of the RAM for I/O.  To use it all, what they had to do was avoid accessing the memory and doing I/O at the same time. Just had to switch back and forth.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
