<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Using more than 1 texture - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Using more than 1 texture</h2>
<div id="posts">
<div class="post">
    <h4>#42273 - iainprice - Sun May 08, 2005 9:47 pm</h4>
    <div class="postbody"><span class="postbody">If I have 2 texture bin files. How do I set it up so that I draw one 3d object with one texture and then another with another....
<br/>
<br/>
[code]
<br/>
#include "model1_bin.h"
<br/>
#include "model2_bin.h"
<br/>
#include "tex1_bin.h"
<br/>
#include "tex2_bin.h"
<br/>
<br/>
int textureID1;
<br/>
int textureID2;
<br/>
<br/>
vramSetBankA(VRAM_A_TEXTURE);
<br/>
vramSetBankB(VRAM_B_TEXTURE);
<br/>
<br/>
glGenTextures(1, &amp;textureID1);
<br/>
glGenTextures(2, &amp;textureID2);
<br/>
<br/>
glBindTexture(0, textureID1);
<br/>
draw3d(model1_bin);
<br/>
<br/>
glBindTexture(0, textureID2);
<br/>
draw3d(model2_bin);
<br/>
[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42277 - bluescrn - Sun May 08, 2005 10:04 pm</h4>
    <div class="postbody"><span class="postbody">you need to use glTexImage2D to get even a single texture to work...
<br/>
<br/>
But be aware that iDeaS 1.0.0.4 can't handle more than one texture. It works fine on hardware, though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42280 - iainprice - Sun May 08, 2005 10:57 pm</h4>
    <div class="postbody"><span class="postbody">so if I...
<br/>
<br/>
[code]
<br/>
#include "model1_bin.h" 
<br/>
#include "model2_bin.h" 
<br/>
#include "tex1_bin.h" 
<br/>
#include "tex2_bin.h" 
<br/>
<br/>
int textureID1; 
<br/>
int textureID2; 
<br/>
<br/>
vramSetBankA(VRAM_A_TEXTURE); 
<br/>
vramSetBankB(VRAM_B_TEXTURE); 
<br/>
<br/>
glGenTextures(1, &amp;textureID1); 
<br/>
glGenTextures(2, &amp;textureID2); 
<br/>
<br/>
glBindTexture(0, textureID1); 
<br/>
glTexImage2D(0, 0, GL_RGB, TEXTURE_SIZE_256, TEXTURE_SIZE_256, 0, 0, (u8*)texture1_bin);
<br/>
draw3d(model1_bin); 
<br/>
<br/>
glBindTexture(0, textureID2); 
<br/>
glTexImage2D(0, 0, GL_RGB, TEXTURE_SIZE_256, TEXTURE_SIZE_256, 0, 0, (u8*)texture2_bin);
<br/>
draw3d(model2_bin);
<br/>
[/code]
<br/>
<br/>
it still doesn't want to work, but my texture bins may be wrong.... do I need to bind again or anything if I call the draw commands in a loop or are the textures perminently resident?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42301 - Ethos - Mon May 09, 2005 4:29 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>iainprice wrote:</b></span></td> </tr> <tr> <td class="quote">glGenTextures(2, &amp;textureID2);</td> </tr></table><span class="postbody">
<br/>
<br/>
Bad, should be "glGenTextures(1,&amp;textureID2); or even better is make an array called "int textureID [2];" and go "glGenTexture(2,&amp;(textureID[0]));
<br/>
<br/>
<br/>
Your texture's bin file should be of size 256*256*2 = 131072 bytes.  Also it is better to bind textures, then load,  and then bind later before A redraw.
<br/>
<br/>
ie.
<br/>
<br/>
glBindTexture(0, textureID1); 
<br/>
glTexImage2D(0, 0, GL_RGB, TEXTURE_SIZE_256, TEXTURE_SIZE_256, 0, 0, (u8*)texture1_bin); 
<br/>
glBindTexture(0, textureID2); 
<br/>
glTexImage2D(0, 0, GL_RGB, TEXTURE_SIZE_256, TEXTURE_SIZE_256, 0, 0, (u8*)texture2_bin); 
<br/>
<br/>
while (1) {
<br/>
glBindTexture(0, textureID1); 
<br/>
draw3d(model1_bin); 
<br/>
glBindTexture(0, textureID2); 
<br/>
draw3d(model2_bin); 
<br/>
}<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42413 - floatstarpx - Wed May 11, 2005 1:43 am</h4>
    <div class="postbody"><span class="postbody">on a similar note - how do you switch off texturing once it's you've started?
<br/>
i've tried lots of ways (glDisable(GL_TEXURE_2D), glResetTextures(), glBindTexture(0, 0), etc..).
<br/>
any 'proper' way to do it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42416 - Ethos - Wed May 11, 2005 2:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>floatstarpx wrote:</b></span></td> </tr> <tr> <td class="quote">on a similar note - how do you switch off texturing once it's you've started?
<br/>
i've tried lots of ways (glDisable(GL_TEXURE_2D), glResetTextures(), glBindTexture(0, 0), etc..).
<br/>
any 'proper' way to do it?</td> </tr></table><span class="postbody">
<br/>
<br/>
Huh? Not getting your point....just don't use texture coordinates.<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42436 - floatstarpx - Wed May 11, 2005 1:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ethos wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>floatstarpx wrote:</b></span></td> </tr> <tr> <td class="quote">on a similar note - how do you switch off texturing once it's you've started?
<br/>
i've tried lots of ways (glDisable(GL_TEXURE_2D), glResetTextures(), glBindTexture(0, 0), etc..).
<br/>
any 'proper' way to do it?</td> </tr></table><span class="postbody">
<br/>
<br/>
Huh? Not getting your point....just don't use texture coordinates.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
if you don't use texture coordinates it will use one pixel of the texture for the entire surface (ie all texture coordinates will be 0,0 - or whatever the last ones you entered were). this means all my other textures are tinted the colour of one pixel of the last one! ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42446 - Ethos - Wed May 11, 2005 5:26 pm</h4>
    <div class="postbody"><span class="postbody">Hmmm.... maybe this'll work
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">GFX_TEX_FORMAT = 0;</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42485 - mike260 - Wed May 11, 2005 11:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>floatstarpx wrote:</b></span></td> </tr> <tr> <td class="quote">on a similar note - how do you switch off texturing once it's you've started?
<br/>
i've tried lots of ways (glDisable(GL_TEXURE_2D), glResetTextures(), glBindTexture(0, 0), etc..).
<br/>
any 'proper' way to do it?</td> </tr></table><span class="postbody">
<br/>
<br/>
glDisable(GL_TEXTURE_2D) should do it. Note however that glReset() will reset texturing to being enabled.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42683 - Ethos - Fri May 13, 2005 11:44 pm</h4>
    <div class="postbody"><span class="postbody">I submitted some code to ndslib to fix the glBindTexture (0,0) problem.
<br/>
<br/>
It won't work in any emulators right now anyways.
<br/>
<br/>
See demo at dsdev.atspace.com : its the Mixed Cubes demo<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
