<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Debugging in Windows environment - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Debugging in Windows environment</h2>
<div id="posts">
<div class="post">
    <h4>#147220 - Kr00pS - Sun Dec 16, 2007 2:46 pm</h4>
    <div class="postbody"><span class="postbody">Hi !
<br/>
<br/>
I'm new in the NDS developpement. I'm making an engine for the NDS with OpenGL, I'm using Visual C++ Express 2k5 and I want to use his debugger.
<br/>
<br/>
Can I do this ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147242 - Jesse - Mon Dec 17, 2007 2:00 am</h4>
    <div class="postbody"><span class="postbody">Well. You can use Visual C++ Express 2005 as an IDE, but getting a debugger running may be problematic. I gave up trying to figure out how to run a debugger on NDS code and instead make sure my engine runs on PC as well, so I can debug all platform-independant things there. I have the same solution for both the win32 .vcproj and the NDS-makefile, which seems to be an efficent way for me to work.
<br/>
<br/>
I hope that helps and hopefully someone else can fill you in on the debugging possibilites.<br/>_________________<br/><a href="http://www.collectingsmiles.com/colors" target="_blank">http://www.collectingsmiles.com/colors</a> &amp; <a href="http://www.collectingsmiles.com/hyena" target="_blank">http://www.collectingsmiles.com/hyena</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147251 - M3d10n - Mon Dec 17, 2007 5:14 am</h4>
    <div class="postbody"><span class="postbody">I don't know of any way of using the VC++ debug interface with NDS projects, sorry.
<br/>
<br/>
Aside from testing all platform-independent stuff (algorithms, classes, methods, functions, etc) on a Win32 stub, loads of printf() calls.
<br/>
<br/>
When things get crashy, I use the IDEAS debugger functionality, which is very simple: you get memory execution address, disassembled instructions viewer, register contents and a memory viewer. You can use <span style="font-weight: bold">arm-eabi-addr2line.exe</span> to find out the corresponding source file and line for a given execution address.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147252 - Lino - Mon Dec 17, 2007 5:51 am</h4>
    <div class="postbody"><span class="postbody">In freeware versione you can view your source code (for arm9 onley).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147444 - Peter - Thu Dec 20, 2007 8:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kr00pS wrote:</b></span></td> </tr> <tr> <td class="quote">I'm using Visual C++ Express 2k5 and I want to use his debugger. Can I do this ?</td> </tr></table><span class="postbody">
<br/>
I've written a framework which encapsulates the hardware features and runs on NDS and MS Windows with the same interface. 
<br/>
<br/>
This allows me to write and debug game code using the Visual Studio IDE. It requires some time to get the framework ready, but low-level functions usually tend to be not so error-prone than game code and easier fixable, at least for me. OK, the NDS low-level code must be written without the advantage of the VS debugger, but peek/poke a few registers isn't so hard ;)
<br/>
<br/>
Debugging with VS is much more productive and I even found errors in the NDS framework routines by stepping through the windows code and keep in mind that only the low-level routines have to be implemented for each platform. 
<br/>
<br/>
In my opinion developing a game with the rather common "printf debugging faculties" is wasting time. Don't know why people in 2007 still go this way 8-)<br/>_________________<br/>Kind Regards,
<br/>
Peter</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147446 - M3d10n - Thu Dec 20, 2007 9:48 pm</h4>
    <div class="postbody"><span class="postbody">I can't run my entire game off VC++ yet, but I setup a testbed VC project for testing my game classes (without rendering yet). It was vital to develop the quaternion and curve classes I use for my animations. Right now I'm using it to write my particle system.
<br/>
<br/>
I simply include the source and header files into this project, straight from the NDS project source folder. I got a dummy nds.h header in the same folder as the Win32 source files to allow the DS sources to compile under windows without major changes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147449 - Peter - Thu Dec 20, 2007 10:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">It was vital to develop the quaternion and curve classes I use for my animations.</td> </tr></table><span class="postbody">
<br/>
I use the D3DX math functions for reference/units tests. This helped me to find errors in my math routines very very easily and there are no bad suprises anymore, or at least reduced to a minimum. Every time the window version of my framework starts, it runs all unit tests. It's a bit more work to maintain the testcases, but since you have most math stuff done there remains only little work. The best thing for me about this is when I change something in the core, I immediately see if it broke something. Oh yeah, helped me to sort out things right from the beginning!<br/>_________________<br/>Kind Regards,
<br/>
Peter</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147466 - M3d10n - Fri Dec 21, 2007 3:56 am</h4>
    <div class="postbody"><span class="postbody">Hmm, sounds like a good idea. 
<br/>
<br/>
I'm writing my own math stuff on demand, based on what needs come up on the project I'm working on. I debug them manually and never thought about setting up automated tests using already existing functions to check if they are performing as they should.
<br/>
<br/>
Gotta read more about unit testing. I assume it means having code that tests my methods/functions and reports if the outputs are within expected ranges?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147477 - Peter - Fri Dec 21, 2007 8:52 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">I assume it means having code that tests my methods/functions and reports if the outputs are within expected ranges?</td> </tr></table><span class="postbody">
<br/>
Exactly! Unit testing can be done very easily on "framework" stuff, since it's most just functions that operate seperate from each other. For game related code I don't think it makes sense to setup tests or at least it's much more difficult.
<br/>
<br/>
Several years ago I saw neat idea from <a class="postlink" href="http://www.trinigy.net" target="_blank">Trinigy</a>. They held a seminar about their 3d engine and unit testing. They came up with the idea, in order to drive visual tests (e.g. checking if particle systems behave as expected) by capturing a screenshot from a working version of their test. This screenshot severed for automated comparision of later tests and when the screenshots differ, they know something has changed. This can be done with the display capture maybe too. You could use it to test if your animations are rendered correctly or whatever.<br/>_________________<br/>Kind Regards,
<br/>
Peter</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147526 - M3d10n - Sat Dec 22, 2007 4:59 am</h4>
    <div class="postbody"><span class="postbody">Hmm, the visual comparison thing could also be useful for testing code which deals with textures, tiles and sprites.
<br/>
<br/>
I read a bit about test frameworks. Any recommendations? I've been looking into the boost one, looks simple and direct to the point enough for me.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
