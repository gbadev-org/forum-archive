<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problem compiling running nds code on flash card - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Problem compiling running nds code on flash card</h2>
<div id="posts">
<div class="post">
    <h4>#107421 - GunterPete - Sun Oct 29, 2006 3:57 pm</h4>
    <div class="postbody"><span class="postbody">Hi folks,
<br/>
<br/>
So I've decided to have a go at writing some stuff for the DS, after enjoying writing GBA homebrew so much. I still have my old 256mb Flash2Advance GBA cartridge, and have bought myself a Datel Max Media Launcher as a passthrough.
<br/>
<br/>
My first little program (a simple julia set generator) worked fine. For this I used Arm9 template. (If anyones interested you can download this here: <a class="postlink" href="http://tbhl.theonering.net/petegunter/downloads/julia.zip" target="_blank">http://tbhl.theonering.net/petegunter/downloads/julia.zip</a>)
<br/>
<br/>
For my second project I'm starting to build up a set of libraries, and am now using the combined template from DevKitPro. All seemed to be going well when running it on the emulators (Dualis and no$gba). However when I come to writing it to my flash card all I get is a pair of white screens. This happens even if I compile and run the unmodified hello world sample. I'm not sure why this is, and would be very greatfull if anyone can offer any help. Is there some issue with the F2A and the Arm7? I've run lots of other homebrew off it without issue.
<br/>
<br/>
Cheers,
<br/>
-Pete</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107432 - tepples - Sun Oct 29, 2006 4:54 pm</h4>
    <div class="postbody"><span class="postbody">Have you tried prepending a .nds loader?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107437 - GunterPete - Sun Oct 29, 2006 6:42 pm</h4>
    <div class="postbody"><span class="postbody">Okay, I've tried doing "copy /b ndsmall.bin + demo.nds demo.ds.gba" with ndsmall.bin from Darkfader's site, but unfortunately that still has the same problem.
<br/>
<br/>
The sample makefiles seem to generate a nds.gba file, but I can't seem to find the rules which make them (I'm pretty inexperienced when it comes to makefiles).  It has the following rule, but no commands listed under it:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$(TARGET).ds.gba : $(TARGET).nds</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107441 - Sausage Boy - Sun Oct 29, 2006 7:07 pm</h4>
    <div class="postbody"><span class="postbody">The actual rule is in devkitARM/ds_rules<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107453 - GunterPete - Sun Oct 29, 2006 7:45 pm</h4>
    <div class="postbody"><span class="postbody">Great, thanks.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">@dsbuild $&lt;</td> </tr></table><span class="postbody">
<br/>
So that line executes ndstool on the .nds file. So I take it this prepends the loader for GBA flash cards?
<br/>
<br/>
Edit: Sorry disregard this question just Googled it like I should have done in the first place. Still no closer to solving my F2A problem though. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107483 - josath - Mon Oct 30, 2006 1:17 am</h4>
    <div class="postbody"><span class="postbody">I would try:
<br/>
1. recompiling your julia app, and see if it still works
<br/>
2. try downloading and running some file which is known to work
<br/>
<br/>
That way we can narrow down if the problem lies with the flashcart / getting files on it, or if the problem lies with your compilation.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107752 - GunterPete - Wed Nov 01, 2006 7:33 pm</h4>
    <div class="postbody"><span class="postbody">Okay, I've recompiled my Julia program, which works fine. I've tried compiling the 'Hello World' combined template program which comes with DevKitAdvance, and a get the white screen problem. Any suggestions on code that I can download and attempt to compile?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
