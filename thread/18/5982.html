<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sprite Wrapping problem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Sprite Wrapping problem</h2>
<div id="posts">
<div class="post">
    <h4>#45223 - cooky - Wed Jun 08, 2005 8:23 pm</h4>
    <div class="postbody"><span class="postbody">Hi I'm having trouble with the wrapping on sprite graphics on the DS
<br/>
<br/>
The sprites wrap perfectly on the y axis but only wrap on the right on the x axis. I've lead to believe this code works for correst wrapping on the x axis but it doesn't seem to work.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">oam-&gt;attribute[1] &amp;= 0xFE00;
<br/>
oam-&gt;attribute[1] |= (x &amp; 0x01FF);</td> </tr></table><span class="postbody">
<br/>
<br/>
I however don't have a gba flash cart as my old one broke. So I haven't been able to test this on hardware. It may actually work but I cannot be sure. If it does that is fine.<br/>_________________<br/>Rolling a six is unlikely but how do you know if you have never picked up the dice.
<br/>
<a href="http://www.ceorron.co.uk" target="_blank">www.ceorron.co.uk</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45225 - josath - Wed Jun 08, 2005 8:38 pm</h4>
    <div class="postbody"><span class="postbody">wrapping? why not do something like
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#define MAXWIDTH 128 // is this the widest sprite you can have ?
<br/>
<br/>
while(x &gt; 256)
<br/>
  x -= 256;
<br/>
while(x &lt; -MAXWIDTH)
<br/>
  x += 256;
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45228 - Mollusk - Wed Jun 08, 2005 8:44 pm</h4>
    <div class="postbody"><span class="postbody">maybe because doing &amp;255 is much faster...
<br/>
<br/>
Anyway, what version of the emulators do you have ? Some were having problems with wrapping sprites... try dualis r9 and see if it's different</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#45231 - cooky - Wed Jun 08, 2005 9:04 pm</h4>
    <div class="postbody"><span class="postbody">No with dualis i just get white screens and very little shows up in the memory veiwers either and DSemu just puts rubbish to the screen.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
