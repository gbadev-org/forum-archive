<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>is printf available for arm7? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > is printf available for arm7?</h2>
<div id="posts">
<div class="post">
    <h4>#129753 - Noda - Sat May 26, 2007 2:22 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
is there a simple way to output text on the arm7?
<br/>
I tried to init the console system via the arm9, then using printf() on the arm7, it compiles fines but doesn't show the text output of the arm7 :/
<br/>
<br/>
Is there a simple solution to this?
<br/>
<br/>
Thanks a lot!
<br/>
<br/>
BTW, how to transfer a simple data (like a single pointer) from arm9 to arm7? is there libnds function to do that? (I didn't  find any...)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129758 - relpats_eht - Sat May 26, 2007 4:04 am</h4>
    <div class="postbody"><span class="postbody">As far as I know, printf does not work on the ARM7, as the ARM7 does not have access to VRAM; however, there is a VRAM mode which allows it to be read by the ARM7, but I do not recall it offhand. GBATek seems to be down right now, so providing further assistance in that subject would be outside the realms of my laziness.
<br/>
<br/>
There is no single libnds function to transfer data between the ARM9 and ARM7, to do this, you will either need to use FIFO, of which there are numerous materials to aid you, or you will need to write the data to a location in the RAM shared between the two processors.
<br/>
<br/>
[edit]
<br/>
I found a mirror
<br/>
<a class="postlink" href="http://www.portabledev.com/media/GBA/tutoriels/gbatek.htm#dsmemorycontrolvram" target="_blank">VRAM configurations, note ARM7</a>
<br/>
<a class="postlink" href="http://www.portabledev.com/media/GBA/tutoriels/gbatek.htm#dsmemorymaps" target="_blank">RAM maps, note shared</a>
<br/>
<a class="postlink" href="http://www.portabledev.com/media/GBA/tutoriels/gbatek.htm#dsinterprocesscommunicationipc" target="_blank">FIFO (only definitions, not explanation)</a><br/>_________________<br/>- relpats_eht</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129768 - Noda - Sat May 26, 2007 11:07 am</h4>
    <div class="postbody"><span class="postbody">Thanks a lot, but that means arm7 doesn't have access to 4Mb of RAM, so?
<br/>
If that's the case, it sucks :(
<br/>
I don't understand very the arm7 memory map, because on dstek the main 4mb of RAM seems available to arm7, where is located the working RAM of the arm7? when I do a malloc on arm7, is the heap located on the main 4Mb or in a special working ram?
<br/>
<br/>
Sorry to ask but I don't understand well that part of the arm7...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129770 - Lick - Sat May 26, 2007 12:17 pm</h4>
    <div class="postbody"><span class="postbody">Main RAM = 4MB
<br/>
Video RAM = xxxKB
<br/>
<br/>
Only the ARM9 can access the VRAM (with exceptions though). Both processors can access the Main RAM, but it is recommended to use the FIFO for inter-processor communication. 
<br/>
DevKitARM has probably been configured to make 'malloc' calls on the ARM7 to make use of the WRAM. Normally all of the WRAM is given to the ARM7.
<br/>
<br/>
relpats_eht: I <a class="postlink" href="http://lickr.org/gbatek.htm" target="_blank">mirrored</a> it as well, with a shorter url and gzip compression!<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129865 - silent_code - Mon May 28, 2007 2:31 pm</h4>
    <div class="postbody"><span class="postbody">i can't help you much here, but afaik there are two extra 64kb memory areas that can be switched between 7 and 9. check gbatek for that.
<br/>
good luck!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
