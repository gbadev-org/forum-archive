<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>SDL, fm-099, sqrt, sin, cos - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > SDL, fm-099, sqrt, sin, cos</h2>
<div id="posts">
<div class="post">
    <h4>#151928 - nczempin - Thu Mar 06, 2008 9:12 pm</h4>
    <div class="postbody"><span class="postbody">I got the <a class="postlink" href="http://gpf.dcemu.co.uk/ndsSDL.shtml" target="_blank">SDL port</a> mostly running, and the next step for me was to to compile <a class="postlink" href="http://www.autismuk.freeserve.co.uk/" target="_blank">Paul Robson's Football Manager</a>.
<br/>
<br/>
When linking, I got error messages for the following functions missing:
<br/>
sqrt, sin, cos.
<br/>
<br/>
This is with the 1.4.4 devkitProUpdater version of devkitPro.
<br/>
<br/>
I seem to recall something about those routines being overhauled, will it help to update to 1.4.5 (for some reason the updater doesn't work over my wifi access, so I'd have to either manually dl the relevant stuff or wait until I get back to a DSL line)?
<br/>
<br/>
I tried to check the code briefly, but it all seemed to be in order (I didn't have the source for devkitARM though)
<br/>
<br/>
Any pointers as to what I should do?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151938 - tepples - Thu Mar 06, 2008 10:00 pm</h4>
    <div class="postbody"><span class="postbody">Try adding <span style="font-weight: bold">-lm</span> to the libraries in the makefile.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151940 - nczempin - Thu Mar 06, 2008 11:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Try adding <span style="font-weight: bold">-lm</span> to the libraries in the makefile.</td> </tr></table><span class="postbody">
<br/>
<br/>
Umm, wow, that did the trick, thanks.
<br/>
<br/>
So what should I have done to know this without having to ask??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151997 - wintermute - Fri Mar 07, 2008 11:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nczempin wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
So what should I have done to know this without having to ask??</td> </tr></table><span class="postbody">
<br/>
<br/>
Hard to say really, some people seem to pick this stuff up by osmosis, others need to be told. It's probably covered in some programming guide somewhere.
<br/>
<br/>
A quick google for the error can often shed light
<br/>
<br/>
<a href="http://www.google.co.uk/search?q=undefined+reference+to+sin" target="_blank">http://www.google.co.uk/search?q=undefined+reference+to+sin</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152018 - nczempin - Sat Mar 08, 2008 12:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nczempin wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
So what should I have done to know this without having to ask??</td> </tr></table><span class="postbody">
<br/>
<br/>
Hard to say really, some people seem to pick this stuff up by osmosis, others need to be told. It's probably covered in some programming guide somewhere.
<br/>
<br/>
A quick google for the error can often shed light
<br/>
<br/>
<a href="http://www.google.co.uk/search?q=undefined+reference+to+sin" target="_blank">http://www.google.co.uk/search?q=undefined+reference+to+sin</a></span></td> </tr></table><span class="postbody">
<br/>
<br/>
Sure, normally I would google immediately, but this is such a generic error, and the solution was very DS-specific too.
<br/>
<br/>
It seems that a lot of information is actually available, and scattered. Something like a Wiki for DS homebrew, answering all the question someone like me would have (which tutorials are up-to-date? which OS apps/games/libs have already been ported? etc. etc.) would be great; it probably exists and I missed it, or didn't look hard enough.
<br/>
<br/>
Since I've already pinned you down, what would be the best way to file an an enhancement request for devkitPro? I originally had trouble getting the devkitpro updater working over a public wifi line, perhaps in combination with some firewall etc. settings on my vista machine (that inetc update attempt never finished; sometimes it went to the next step of installing, sometimes it didn't. It would be great if there were an option "install only", when you could download on a separate machine. I'd even help implement it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152022 - tepples - Sat Mar 08, 2008 1:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nczempin wrote:</b></span></td> </tr> <tr> <td class="quote">Sure, normally I would google immediately, but this is such a generic error, and the solution was very DS-specific too.</td> </tr></table><span class="postbody">
<br/>
There are a lot of other platforms that use GCC or other Unix-style compiler toolchains. Many of those require the use of -lm for sin, cos, log, and other transcendental functions.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">It seems that a lot of information is actually available, and scattered. Something like a Wiki for DS homebrew, answering all the question someone like me would have (which tutorials are up-to-date?</td> </tr></table><span class="postbody">
<br/>
There are supposed to be wikis on dev-scene.com and tobw.net, but I haven't taken a long look at their breadth or depth.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152026 - wintermute - Sat Mar 08, 2008 3:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nczempin wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
Sure, normally I would google immediately, but this is such a generic error, and the solution was very DS-specific too.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm not really sure how you see the solution as DS specific, using functions from math.h &amp; not linking against libm will give you link errors on pretty much anything.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
It seems that a lot of information is actually available, and scattered. Something like a Wiki for DS homebrew, answering all the question someone like me would have (which tutorials are up-to-date? which OS apps/games/libs have already been ported? etc. etc.) would be great; it probably exists and I missed it, or didn't look hard enough.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
<a class="postlink" href="http://www.dev-scene.com" target="_blank">Dev Scene</a> is probably the closest we have for something like that. The biggest problem we have in the homebrew scene is that people who know what they're doing tend to just get on with it and the people who don't, insist on writing crap tutorials.
<br/>
<br/>
The devkitpro wiki is in progress over at <a href="http://wiki.devkitpro.org" target="_blank">http://wiki.devkitpro.org</a> . This is intended more for toolchain and support library documentation than the specifics of particular implementations on the various supported platforms though. Right now there's not a lot of content but that will change gradually over the coming months. 
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Since I've already pinned you down, what would be the best way to file an an enhancement request for devkitPro? I originally had trouble getting the devkitpro updater working over a public wifi line, perhaps in combination with some firewall etc. settings on my vista machine (that inetc update attempt never finished; sometimes it went to the next step of installing, sometimes it didn't. It would be great if there were an option "install only", when you could download on a separate machine. I'd even help implement it.</td> </tr></table><span class="postbody">
<br/>
<br/>
Such an option already exists, see <a href="http://wiki.devkitpro.org/index.php/Getting_Started" target="_blank">http://wiki.devkitpro.org/index.php/Getting_Started</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152124 - nczempin - Mon Mar 10, 2008 1:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nczempin wrote:</b></span></td> </tr> <tr> <td class="quote">Sure, normally I would google immediately, but this is such a generic error, and the solution was very DS-specific too.</td> </tr></table><span class="postbody">
<br/>
There are a lot of other platforms that use GCC or other Unix-style compiler toolchains. Many of those require the use of -lm for sin, cos, log, and other transcendental functions.
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
And I'm aware of this now. I will be on the lookout for the more general problems; it just never occurred that this could be anything but a DS-specific problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152125 - nczempin - Mon Mar 10, 2008 1:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nczempin wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
Sure, normally I would google immediately, but this is such a generic error, and the solution was very DS-specific too.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm not really sure how you see the solution as DS specific, using functions from math.h &amp; not linking against libm will give you link errors on pretty much anything.
<br/>
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
You're right; no idea what I was thinking.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
It seems that a lot of information is actually available, and scattered. Something like a Wiki for DS homebrew, answering all the question someone like me would have (which tutorials are up-to-date? which OS apps/games/libs have already been ported? etc. etc.) would be great; it probably exists and I missed it, or didn't look hard enough.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
<a class="postlink" href="http://www.dev-scene.com" target="_blank">Dev Scene</a> is probably the closest we have for something like that. The biggest problem we have in the homebrew scene is that people who know what they're doing tend to just get on with it and the people who don't, insist on writing crap tutorials.
<br/>
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I can see that. Right now I'm in the stage of finding out; once I've found out, I'll likely just get on with it. Just leaving a trail of annoying forum questions behind will hopefully at least let the next person with the exact same problem find the solution more quickly.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
The devkitpro wiki is in progress over at <a href="http://wiki.devkitpro.org" target="_blank">http://wiki.devkitpro.org</a> . This is intended more for toolchain and support library documentation than the specifics of particular implementations on the various supported platforms though. Right now there's not a lot of content but that will change gradually over the coming months. 
<br/>
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Since I've already pinned you down, what would be the best way to file an an enhancement request for devkitPro? I originally had trouble getting the devkitpro updater working over a public wifi line, perhaps in combination with some firewall etc. settings on my vista machine (that inetc update attempt never finished; sometimes it went to the next step of installing, sometimes it didn't. It would be great if there were an option "install only", when you could download on a separate machine. I'd even help implement it.</td> </tr></table><span class="postbody">
<br/>
<br/>
Such an option already exists, see <a href="http://wiki.devkitpro.org/index.php/Getting_Started" target="_blank">http://wiki.devkitpro.org/index.php/Getting_Started</a></span></td> </tr></table><span class="postbody">
<br/>
<br/>
Ah, yes, of course I noticed there was a "download only" option on the devkitupdater, but for some reason the actual offline installer has problems "just" installing, hanging without timeout in the inetc plug-in etc.
<br/>
<br/>
There is simply no option to "just install", or, put in other words, "I have no internet connection, please don't try to connect".
<br/>
<br/>
Or perhaps it was specifically on my Vista machine that this approach had problems. I can help isolate the problem if you want.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152714 - wintermute - Wed Mar 19, 2008 11:30 pm</h4>
    <div class="postbody"><span class="postbody">Aha, curse the search option on this forum, found this post again at last though.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>nczempin wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Ah, yes, of course I noticed there was a "download only" option on the devkitupdater, but for some reason the actual offline installer has problems "just" installing, hanging without timeout in the inetc plug-in etc.
<br/>
<br/>
There is simply no option to "just install", or, put in other words, "I have no internet connection, please don't try to connect".
<br/>
<br/>
Or perhaps it was specifically on my Vista machine that this approach had problems. I can help isolate the problem if you want.</td> </tr></table><span class="postbody">
<br/>
<br/>
I must admit I don't actually posess a machine with no net connection atm so I've been testing by blackholing the url for the online ini file. It's conceivable there might be something I've missed if the machine in question has never been configured for internet access.
<br/>
<br/>
The source for the NSIS installer is available in CVS in the installer module. Feel free to have a play and submit a patch if you find something.
<br/>
<br/>
<a href="http://devkitpro.cvs.sourceforge.net/devkitpro/installer/" target="_blank">http://devkitpro.cvs.sourceforge.net/devkitpro/installer/</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#152740 - HyperHacker - Thu Mar 20, 2008 9:03 am</h4>
    <div class="postbody"><span class="postbody">Well you could just unplug the cable, or in Windows disable the connection. :P<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
