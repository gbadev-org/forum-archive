<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>how to access more than 2^10 tiles with extended palettes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > how to access more than 2^10 tiles with extended palettes</h2>
<div id="posts">
<div class="post">
    <h4>#72936 - mlequim - Wed Feb 22, 2006 3:02 pm</h4>
    <div class="postbody"><span class="postbody">hi, 
<br/>
<br/>
the tiles number specified in the map was in gba of 10 bits, so 1024 tiles 8x8. 1024 tiles 8x8 take 64K of memory, but if I allow for the graphics of my tiles the VRAM A I have 128K of memory. So how can I access to theses upper tiles ? 
<br/>
<br/>
If i use more than 10 bites then I use the bits for specifying which extended palette to use,... 
<br/>
<br/>
my question is then : 
<br/>
- how to access more than 1024 tiles and keep using extended palettes for tiles background.
<br/>
<br/>
I have not checked but a similar problem can exist with the sprites graphics data because we can now use a 128K VRAM bank.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72961 - Mollusk - Wed Feb 22, 2006 5:39 pm</h4>
    <div class="postbody"><span class="postbody">You need to use 8x8 16bit blocks instead of 16 color blocks. This will make the base block 4 times bigger, giving you access to 128k of vram, but still with 1024 possible tiles :
<br/>
<br/>
<a href="http://www.drunkencoders.com/documents/DS/ndslib.htm#_Sprite_Data" target="_blank">http://www.drunkencoders.com/documents/DS/ndslib.htm#_Sprite_Data</a>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Expanding memory:  Using bits 20 - 22 of DISP_CR sprite memory can be expanded as follows:
<br/>
<br/>
Bits 20 and 21    Memory Size    Character Offset
<br/>
00                       32KB                    32 bytes
<br/>
01                       64KB                    64 bytes
<br/>
10                       128KB                  128 bytes
<br/>
11                       256KB                  256 bytes
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/>PAlib official forum : <a class="postlink" href="http://www.palib.info" target="_blank">http://www.palib.info</a>
<br/>
PAlib official tutorials: <a class="postlink" href="http://www.palib.info/wiki" target="_blank">http://www.palib.info/wiki</a>
<br/>
Updates, help, code examples, tutorials, etc...</span><span class="gensmall"><br/><br/>Last edited by Mollusk on Wed Feb 22, 2006 7:21 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#72972 - mlequim - Wed Feb 22, 2006 7:17 pm</h4>
    <div class="postbody"><span class="postbody">thanks ;O), 
<br/>
<br/>
I didn't know that the DS can display 16 bit sprites !!! I LOVE the DS !
<br/>
^__^. this answer for the sprites problem.
<br/>
<br/>
but for background the graphic tiles i don't understand, in your link I see:  "the only difference seems to be that bit 4 and 5 are now character base bits allowing selection of base blocks up to base block 16 giving 256 KB of accessible memory. "
<br/>
<br/>
but bits 1 to 10 are used to refer the tile number no ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72974 - Mollusk - Wed Feb 22, 2006 7:21 pm</h4>
    <div class="postbody"><span class="postbody">bits 5 and 6 in the  DISP_CR, not in the sprites...<br/>_________________<br/>PAlib official forum : <a class="postlink" href="http://www.palib.info" target="_blank">http://www.palib.info</a>
<br/>
PAlib official tutorials: <a class="postlink" href="http://www.palib.info/wiki" target="_blank">http://www.palib.info/wiki</a>
<br/>
Updates, help, code examples, tutorials, etc...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72989 - mlequim - Wed Feb 22, 2006 8:09 pm</h4>
    <div class="postbody"><span class="postbody">yep sorry, I have forgot a lot of GB advance ;-)
<br/>
<br/>
my last question about tile memory is : the char base blocks are 16K, but the screen base block were in gba of 2k, is it still the same ? because if yes we can then place the maps only in the first 64K of the memory.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72997 - mlequim - Wed Feb 22, 2006 8:35 pm</h4>
    <div class="postbody"><span class="postbody">in fact, 16 bit sprites take 256kb but the maximal size for vram is 128, how is it possible then to use them ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73159 - SeanMon - Thu Feb 23, 2006 6:15 pm</h4>
    <div class="postbody"><span class="postbody">I believe that you can use consecutive blocks of VRAM (A+B=256K) together as one continuous block of RAM.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73160 - mlequim - Thu Feb 23, 2006 6:17 pm</h4>
    <div class="postbody"><span class="postbody">ok I have now what I need, thanks everybody ;O)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
