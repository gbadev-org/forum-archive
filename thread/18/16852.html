<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DSGUI - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > DSGUI</h2>
<div id="posts">
<div class="post">
    <h4>#170221 - tine622 - Wed Sep 09, 2009 6:33 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
I was using DSGUIv4 ( <a href="http://giesler.biz/bjoern/downloads/dsgui/" target="_blank">http://giesler.biz/bjoern/downloads/dsgui/</a> )in a program of mine. It is absolutely wonderful for what I am doing and since I've upgraded to the newest version of libnds, I haven't been able to get it to compile. 
<br/>
<br/>
Ive tried all I can think of to get it to compile (I saw the deprecated header and that didn't solve all the problems) 
<br/>
<br/>
 I was wondering if anyone else has used this library and updated it to use the latest libnds or had any good advice on how to fix this?
<br/>
<br/>
Thanks,
<br/>
Mark</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170226 - Drovor - Wed Sep 09, 2009 5:53 pm</h4>
    <div class="postbody"><span class="postbody">I was able to get this to build by adding some includes to a few header files (for &lt;stdio.h&gt;, &lt;string.h&gt; and &lt;algorithm&gt;) and a few tweaks to BGUI.cpp, mainly:
<br/>
<br/>
/*// Removed this:
<br/>
  BG3_CR = BG_BMP16_256x256 | BG_BMP_BASE(8) | BG_PRIORITY(3);
<br/>
  BG3_XDX = 1 &lt;&lt; 8;
<br/>
  BG3_XDY = 0;
<br/>
  BG3_YDX = 0;
<br/>
  BG3_YDY = 1 &lt;&lt; 8;
<br/>
  BG3_CX = 0;
<br/>
  BG3_CY = 0;
<br/>
*/
<br/>
<br/>
// Added this:
<br/>
  BACKGROUND.control[3] = BG_BMP16_256x256 | BG_BMP_BASE(8) | BG_PRIORITY(3);
<br/>
  BACKGROUND.bg3_rotation.xdx = 1 &lt;&lt; 8;
<br/>
  BACKGROUND.bg3_rotation.xdy = 0;
<br/>
  BACKGROUND.bg3_rotation.ydx = 0;
<br/>
  BACKGROUND.bg3_rotation.ydy = 1 &lt;&lt; 8;
<br/>
<br/>
A little later in the same file, I wasn't sure how this should be done so I commented them out to get it building:
<br/>
<br/>
  if(consoleOnSub)
<br/>
    {
<br/>
      videoSetModeSub(MODE_0_2D | DISPLAY_BG0_ACTIVE);
<br/>
      vramSetBankC(VRAM_C_SUB_BG);
<br/>
      //SUB_BG0_CR = BG_MAP_BASE(31);
<br/>
      BG_PALETTE_SUB[255] = RGB15(31, 31, 31);
<br/>
//      consoleInitDefault((u16*)SCREEN_BASE_BLOCK_SUB(31),
<br/>
//       (u16*)CHAR_BASE_BLOCK_SUB(0),
<br/>
//       16);
<br/>
    }
<br/>
<br/>
edit:  I should probably mention I didn't test the resulting libDSGUI9.a file</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170232 - sverx - Thu Sep 10, 2009 10:24 am</h4>
    <div class="postbody"><span class="postbody">Some #define has changed, so
<br/>
<br/>
- BG3_CR is now REG_BG3CNT
<br/>
- BG3_XDX, BG3_XDY, BG3_YDX and BG3_YDY are now REG_BG3PA, REG_BG3PB, REG_BG3PC and REG_BG3PD
<br/>
<br/>
- SUB_BG0_CR is now REG_BG0CNT_SUB
<br/>
... and you better use <a class="postlink" href="http://takuto.info/libnds/arm9/console_8h.html#7835de00c01c2b976d9030ea62365405" target="_blank">consoleDemoInit()</a> instead of consoleInitDefault().</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170235 - Dwedit - Thu Sep 10, 2009 1:33 pm</h4>
    <div class="postbody"><span class="postbody">Any particular reason why the server refuses to let me see the screenshots?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170237 - samel - Thu Sep 10, 2009 6:27 pm</h4>
    <div class="postbody"><span class="postbody">[quote="Dwedit"]Any particular reason why the server refuses to let me see the screenshots?[/quote]
<br/>
<br/>
Got the same problem</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
