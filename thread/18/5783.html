<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Adding more sourcefiles - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Adding more sourcefiles</h2>
<div id="posts">
<div class="post">
    <h4>#43294 - cooky - Sat May 21, 2005 6:21 pm</h4>
    <div class="postbody"><span class="postbody">I'm using the template that comes with ndsdev. And i'm compiling through Programmer notepad 2 that comes with that. When i try to compile all i can seem to get is that there is no rule to make the added .h and .cpp file need by main.
<br/>
<br/>
"make[2]: *** No rule to make target `c:/DS/ndsdev/projects/tester_ii/arm9/ds_sprites/ds_sprite.h', needed by `main.o'.  Stop."
<br/>
<br/>
<br/>
So my question is simple how do i add these source files and get them to compile with the two main source files?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43306 - dagamer34 - Sat May 21, 2005 9:01 pm</h4>
    <div class="postbody"><span class="postbody">Ummm.. it almost looks as if you are adding a .h file to the compile list, which  is a bad thing. You only need to tell the compiler to compile .c/.cpp files.
<br/>
<br/>
If all else fails, look at the template code or some released demos with source included.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43372 - cooky - Sun May 22, 2005 8:56 pm</h4>
    <div class="postbody"><span class="postbody">I mangaed to get around (not the best term when your starting a large project) that problem by putting both my .h and .cpp file in arm 9 directory. but i now have another troublesome error that I carn't seem to work around. the code reads perfectly to me take a look.
<br/>
<br/>
The error is:
<br/>
"c:/ds/ndsdev/projects/tester_ii/arm9/main.cpp:144: undefined reference to `ds_gfx::init_gfx(unsigned short const*, int, bool)' "
<br/>
<br/>
The code is:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   //disable all sprites
<br/>
   initOAM();
<br/>
   //set up the sprites
<br/>
   //Make sprite container   
<br/>
   ds_sprite sprites[3];
<br/>
//   Sprite sprites[128];
<br/>
   Sprite sprites_sub[128];
<br/>
<br/>
   ds_gfx gfx_ii;
<br/>
<br/>
   sprites[0].init_sprite( 1, 100, 10, 1, SIZE_16X16, &amp;gfx_ii, true, 1, false, 0);
<br/>
   sprites[1].init_sprite( 1, 23, 30, 1, SIZE_16X16, &amp;gfx_ii, true, 0, false, 0);
<br/>
   sprites[2].init_sprite( 1, 13, 30, 1, SIZE_16X16, &amp;gfx_ii, true, 0, false, 0);
<br/>
<br/>
   const u16* pac;
<br/>
   pac = &amp;pac0Data[0];
<br/>
<br/>
   gfx_ii.init_gfx(&amp;pac0Data[0], TILED_PIXEL_DATA_256, true);</td> </tr></table><span class="postbody">
<br/>
<br/>
Edit: the class code for ds_gfx is also held in another source file if that should make a difference.
<br/>
<br/>
I wonder if anyone has had this error befor and what they did to fix it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43423 - cooky - Mon May 23, 2005 10:55 am</h4>
    <div class="postbody"><span class="postbody">Actually the answer was really really stupidly simple. I had missed the "ds_gfx::" off the definition of the function. so the compiler was compiling the function and noticing the link between the to but couldn't tell me that i was missing something from the deffinition of the function to make the link explicit.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
