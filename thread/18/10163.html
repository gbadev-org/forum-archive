<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>texture bug on 3D - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > texture bug on 3D</h2>
<div id="posts">
<div class="post">
    <h4>#90476 - delfare - Fri Jun 30, 2006 11:25 am</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
I have a texture problem :
<br/>
I use this texture :
<br/>
<a class="postlink" href="http://delfare.pizz.biz/ALTAsol.bmp" target="_blank">http://delfare.pizz.biz/ALTAsol.bmp</a>
<br/>
<br/>
I use TexConv.exe to convert the texture and I get a .bin the .bin is correct when I test in a simple cube
<br/>
<br/>
but when I use more textures in more cube, I have a bug :
<br/>
<a href="http://delfare.pizz.biz/ALTAbug.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
the demo is here : <a class="postlink" href="http://delfare.pizz.biz/ALTAbug.nds" target="_blank">http://delfare.pizz.biz/ALTAbug.nds</a>
<br/>
<br/>
I use this code to load my texture :
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int load_texture(u8 *data)
<br/>
{
<br/>
    int textureID;
<br/>
    glGenTextures(1, &amp;textureID);
<br/>
   glBindTexture(0, textureID);
<br/>
   glTexImage2D(0, 0, GL_RGB, TEXTURE_SIZE_128 , TEXTURE_SIZE_128, 0, TEXGEN_TEXCOORD | GL_TEXTURE_WRAP_S | GL_TEXTURE_WRAP_T, data);
<br/>
    return textureID;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
and I use this code to use texture : 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">glBindTexture(0, objet_texture[i]);</td> </tr></table><span class="postbody"><br/>_________________<br/>If I speak badly, it's because I speak french and I am 15
<br/>
<br/>
PA 3d tutorial : <a href="http://delfare.pizz.biz" target="_blank">http://delfare.pizz.biz</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90519 - Dark Knight ez - Fri Jun 30, 2006 4:24 pm</h4>
    <div class="postbody"><span class="postbody">I don't know if this is your problem, but know this:
<br/>
<br/>
You should only load a texture in once. Do not load in the same texture for other cubes... reuse the already loaded in texture by binding it.
<br/>
<br/>
I say this because I'm assuming you loaded in too much data in the space you reserved for textures.
<br/>
If you are already loading in each different texture only once, please try to assign another VRAM banks to textures.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90529 - delfare - Fri Jun 30, 2006 5:07 pm</h4>
    <div class="postbody"><span class="postbody">no,I load the texture only once in the begin of the program and I use glBindTexture(0, objet_texture[i]); to bind the texture.
<br/>
<br/>
to assign another VRAM bank doesn't solve the problem<br/>_________________<br/>If I speak badly, it's because I speak french and I am 15
<br/>
<br/>
PA 3d tutorial : <a href="http://delfare.pizz.biz" target="_blank">http://delfare.pizz.biz</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90920 - silent_code - Mon Jul 03, 2006 2:12 pm</h4>
    <div class="postbody"><span class="postbody">looks like some alignment or palette problem... i really don't know. are you using 8bit textures? this looks like you have an individual palette for every texture instead of a common one and use the palette of the texture that looks fine. i'm not experienced in nds textures, though.
<br/>
<br/>
good luck!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
