<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Accessing text files - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Accessing text files</h2>
<div id="posts">
<div class="post">
    <h4>#78617 - rmco2003 - Sat Apr 08, 2006 2:28 pm</h4>
    <div class="postbody"><span class="postbody">I'm currently working on a small questions and answers type application, I've got 35 questions and I can have up to 5 answers per question, I've currently thought of making a structured array to store everything for use like this
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   typedef struct
<br/>
   {
<br/>
      int quantityans; //Amount of answers required for the question
<br/>
      char question[100],answer1[60],answer2[60],answer3[60],answer4[60],answer5[60];
<br/>
   } qanda;
<br/>
   qanda quiz[35];</td> </tr></table><span class="postbody">
<br/>
<br/>
but I'd rather have everything stored in a seperate file that I can access one question at a time. I'm using PAlib for coding at the moment, what's the best way for me to go about this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78644 - knight0fdragon - Sat Apr 08, 2006 5:35 pm</h4>
    <div class="postbody"><span class="postbody">if i were u create 2 files, 1 for questions and one for answers
<br/>
<br/>
then for the index of the question, u just multiply the index of the answer by 5
<br/>
<br/>
i = 5
<br/>
so quesion[i]
<br/>
answerr[i*5]<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78673 - rmco2003 - Sat Apr 08, 2006 9:00 pm</h4>
    <div class="postbody"><span class="postbody">I still need the code to actually access the text files, I don't know how to do that, and the PAlib wiki doesn't cover it</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78680 - knight0fdragon - Sat Apr 08, 2006 9:20 pm</h4>
    <div class="postbody"><span class="postbody">i dont use PA lib, so perhaps u can just use a C file, unless of course u want this to be external or something<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78681 - tepples - Sat Apr 08, 2006 9:22 pm</h4>
    <div class="postbody"><span class="postbody">Are you using a GBA flash card, a GBAMP, a SuperCard CF, an M3 CF, a SuperCard SD, an M3SD, or FlashMe+WMB?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78682 - swimgod - Sat Apr 08, 2006 9:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I tested it on my GBAMP and it works,</td> </tr></table><span class="postbody">
<br/>
he said that in another post,
<br/>
so i guess he uses gbamp for testing :P
<br/>
and development tepples<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"><br/><br/>Last edited by swimgod on Sat Apr 08, 2006 10:07 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#78684 - rmco2003 - Sat Apr 08, 2006 9:57 pm</h4>
    <div class="postbody"><span class="postbody">well I'm planning on using a flash cart since I want to have save slots stored in SRAM, I'm using both a flash cart and a GBAMP for testing at the moment since I'm not using GBFS at the moment</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78687 - tepples - Sat Apr 08, 2006 10:30 pm</h4>
    <div class="postbody"><span class="postbody">For traditional (NOR based) GBA flash carts, as well as M3 SD and SC SD, the easiest way is GBFS. For GBAMP and other CF adapters, the easiest way is Chishm's FAT driver. For FlashMe+WMB, you'll need to use GBFS+bin2s.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78730 - rmco2003 - Sun Apr 09, 2006 7:53 am</h4>
    <div class="postbody"><span class="postbody">Well I'll be using GBFS but I just need to know how to store a line of text into a variable from a text file...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78783 - tepples - Sun Apr 09, 2006 7:50 pm</h4>
    <div class="postbody"><span class="postbody">To copy a file into a piece of source code containing a declaration of the contents of that file into a variable, use
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">bin2s file.txt &gt; file.c</td> </tr></table><span class="postbody">
<br/>
Compiling this C file into your app will give you symbols file_txt[] and file_txt_size.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79227 - rmco2003 - Wed Apr 12, 2006 9:25 am</h4>
    <div class="postbody"><span class="postbody">So is that bin2s function a command line function or do I actually use that within my code? If I use the function that means it will convert the whole file into string format correct? How would I be able to read data from it line by line? The format for my text file would be as follows:
<br/>
<br/>
Question Text
<br/>
Required amount of answers (a number)
<br/>
Answer 1 Text
<br/>
..(and so on up to the amount of answers required)
<br/>
Amount of answers required(a number - 1 or 2)
<br/>
Answer slot 1(used to verify which answers are correct)
<br/>
Answer slot 2(if required)
<br/>
<br/>
so an example would be
<br/>
<br/>
How many answers are correct?
<br/>
4
<br/>
One answer
<br/>
Two answers
<br/>
Three answers
<br/>
Four answers
<br/>
1
<br/>
1
<br/>
<br/>
So if you picked 'One answer' it would be correct, all of the other answers would be incorrect. I've got this code partially working, just some minor problems with sprite generation for the buttons.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79237 - tepples - Wed Apr 12, 2006 12:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>rmco2003 wrote:</b></span></td> </tr> <tr> <td class="quote">So is that bin2s function a command line function</td> </tr></table><span class="postbody">
<br/>
Yes. It's included with the official <a class="postlink" href="http://www.pineight.com/gba/#gbfs" target="_blank">GBFS distribution</a>, and it should be included with recent devkitARM.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">If I use the function that means it will convert the whole file into string format correct? How would I be able to read data from it line by line?</td> </tr></table><span class="postbody">
<br/>
There would be a \n after each line.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79260 - chishm - Wed Apr 12, 2006 2:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>rmco2003 wrote:</b></span></td> </tr> <tr> <td class="quote">If I use the function that means it will convert the whole file into string format correct? How would I be able to read data from it line by line?</td> </tr></table><span class="postbody">
<br/>
There would be a \n after each line.</span></td> </tr></table><span class="postbody">
<br/>
Also be sure to consume any \r characters in windows text files.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
