<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>NDS wifi examples? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > NDS wifi examples?</h2>
<div id="posts">
<div class="post">
    <h4>#123015 - firegun9 - Sat Mar 24, 2007 3:47 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
I am a newbie here, and I am planning to develop an email software on my nds. I just installed devKitPro. I found two ds wifi library there without examples. Can somebody tell me where to find a wifi tutorial or example?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123017 - qw3rty - Sat Mar 24, 2007 4:27 pm</h4>
    <div class="postbody"><span class="postbody">Search for the wifi-lib 0.3a-examples.
<br/>
That's the newest I know of.
<br/>
<br/>
There were some changes since 0.3a, but it's nothing severe.
<br/>
Basically you have to exchange "close" with "closesocket", and adapt the arm7.c for the new ndslib (curtime changed)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123095 - knight0fdragon - Sun Mar 25, 2007 2:46 am</h4>
    <div class="postbody"><span class="postbody">I believe there is a 0.3d out actually, check out the devkitpro CVS on sourceforge
<br/>
<br/>
<a href="http://sourceforge.net/project/showfiles.php?group_id=114505&amp;package_id=199021&amp;release_id=482368" target="_blank">http://sourceforge.net/project/showfiles.php?group_id=114505&amp;package_id=199021&amp;release_id=482368</a><br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123120 - qw3rty - Sun Mar 25, 2007 7:47 am</h4>
    <div class="postbody"><span class="postbody">Yes, there is !
<br/>
<br/>
But the newest examples are from 0.3a</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123178 - firegun9 - Sun Mar 25, 2007 10:30 pm</h4>
    <div class="postbody"><span class="postbody">Thanks guys,
<br/>
I found the 0.3a example.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123262 - Yooser Naim - Mon Mar 26, 2007 7:41 pm</h4>
    <div class="postbody"><span class="postbody">I'm just starting to work with the wifilib as well, and I'm having trouble making the changes to wifi_example1(0.3a) in order to get it to work with the 0.3d release. I knew about the close - closesocket change, but can't figure out what changes to make involving the curtime change. Could somebody go into a little more detail on this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123335 - qw3rty - Tue Mar 27, 2007 9:56 am</h4>
    <div class="postbody"><span class="postbody">Either remove everything related with curtime, or rename it to the proper name.
<br/>
<br/>
basically all time-variables have a time. in front now
<br/>
<br/>
(e.g. IPC-&gt;curtime is now IPC-&gt;time.curtime)
<br/>
<br/>
P.S. : or even better : use the arm7-main of the combined example, and add the wifi-code to that file (no idea if maybe something else changed ?!)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123372 - Yooser Naim - Tue Mar 27, 2007 7:10 pm</h4>
    <div class="postbody"><span class="postbody">Thanks, qw3rty, that gets me closer. I'd like to see this wifi example maintained somewhat, and I wouldn't know how to rearrange things between the arm7 and arm9, so I just changed the curtime references to time.curtime. It doesn't fix everything, just as you had suggested, cause I get another error in the arm7 code when compiling:
<br/>
<br/>
$ make
<br/>
make -C arm7
<br/>
make[1]: Entering directory `/c/wifi_example1/arm7'
<br/>
template.c
<br/>
arm-eabi-gcc -MMD -MP -MF /c/wifi_example1/arm7/build/template.d -g -Wall -O2 -m
<br/>
cpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb-interwork
<br/>
-I/c/wifi_example1/arm7/include -I/c/wifi_example1/arm7/build -I/c/devkitPro/lib
<br/>
nds/include -I/c/wifi_example1/arm7/build -DARM7 -c /c/wifi_example1/arm7/source
<br/>
/template.c -o template.o
<br/>
c:/wifi_example1/arm7/source/template.c: In function 'VblankHandler':
<br/>
c:/wifi_example1/arm7/source/template.c:87: error: 'TransferRegion' has no membe
<br/>
r named 'heartbeat'
<br/>
make[2]: *** [template.o] Error 1
<br/>
make[1]: *** [build] Error 2
<br/>
make[1]: Leaving directory `/c/wifi_example1/arm7'
<br/>
make: *** [arm7/wifi_example1.elf] Error 2
<br/>
<br/>
So, I just deleted line 87 with the heartbeat update on it. Not sure what that would do, but here are the errors that occurred on the next compile:
<br/>
<br/>
 $ make
<br/>
make -C arm7
<br/>
make[1]: Entering directory `/c/wifi_example1/arm7'
<br/>
template.c
<br/>
arm-eabi-gcc -MMD -MP -MF /c/wifi_example1/arm7/build/template.d -g -Wall -O2 -m
<br/>
cpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -ffast-math -mthumb-interwork
<br/>
-I/c/wifi_example1/arm7/include -I/c/wifi_example1/arm7/build -I/c/devkitPro/lib
<br/>
nds/include -I/c/wifi_example1/arm7/build -DARM7 -c /c/wifi_example1/arm7/source
<br/>
/template.c -o template.o
<br/>
linking wifi_example1.arm7.elf
<br/>
built ... wifi_example1.arm7
<br/>
make[1]: Leaving directory `/c/wifi_example1/arm7'
<br/>
make -C arm9
<br/>
make[1]: Entering directory `/c/wifi_example1/arm9'
<br/>
linking wifi_example1.arm9.elf
<br/>
c:/devkitPro/libnds/lib\libdswifi9.a(wifi_arm9.o): In function `Wifi_Init':
<br/>
e:/projects/devkitPro/dswifi/arm9/source/wifi_arm9.c:775: undefined reference to
<br/>
 `DC_FlushAll'
<br/>
collect2: ld returned 1 exit status
<br/>
make[2]: *** [/c/wifi_example1/arm9/wifi_example1.arm9.elf] Error 1
<br/>
make[1]: *** [build] Error 2
<br/>
make[1]: Leaving directory `/c/wifi_example1/arm9'
<br/>
make: *** [arm9/wifi_example1.elf] Error 2
<br/>
<br/>
Did I create this myself, or is this example simply riddled with out of date code? I'd really like to have a basic, working wifi example to work with as I try to figure these libraries out. If this example can be fixed easily, I'd like to be able to do that. But, if there is an even simpler, more fundamental example that gets the DS up and running with sockets using the current libnds, I'd be very happy if someone could point me to it. Either way would be of great help. 
<br/>
<br/>
Thanks again, qw3rty.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123373 - wintermute - Tue Mar 27, 2007 7:13 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://www.devkitpro.org/files/wifi_lib_test.zip" target="_blank">http://www.devkitpro.org/files/wifi_lib_test.zip</a>
<br/>
<br/>
Sorry it's not more obvious - I'm trying to get together a kind of standard wifi arm7 core so I can sort out some examples that don't need a custom arm7<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123390 - Yooser Naim - Tue Mar 27, 2007 9:35 pm</h4>
    <div class="postbody"><span class="postbody">I'd like to see that when its done. Will it be part of a new examples package for devkitarm? If not, where should I look for it? 
<br/>
<br/>
Anyway, you do great work wintermute.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123401 - Lick - Tue Mar 27, 2007 10:26 pm</h4>
    <div class="postbody"><span class="postbody">Here is my WiFi basecode (<a class="postlink" href="http://lickr.org/files/nds/wifibase.zip" target="_blank">click</a>) that you can examine. It works with dswifi0.3d and r20. 
<br/>
Note that the HTTP part doesn't get the whole webpage.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123552 - Yooser Naim - Thu Mar 29, 2007 1:17 am</h4>
    <div class="postbody"><span class="postbody">Awesome, lick. This looks good. I'll have to try it out when I have a chance. Thanks.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
