<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Differences between no$gba and hardware. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Differences between no$gba and hardware.</h2>
<div id="posts">
<div class="post">
    <h4>#153491 - TheMagnitude - Mon Mar 31, 2008 9:56 pm</h4>
    <div class="postbody"><span class="postbody">When all seems perfectly fine on no$gba but then doesn't work on the hardware, how do you find the problem?
<br/>
<br/>
What are the differences that no$gba CAN do and what the actual DS CANNOT?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153496 - M3d10n - Mon Mar 31, 2008 10:55 pm</h4>
    <div class="postbody"><span class="postbody">If it's a crash, I use libnds' exception handling to find out where in my code the game crashed. If its a graphical glitch... well, I add code so I can change certain values or to change between different versions of drawing functions on the fly using the buttons and lots of printf's.
<br/>
<br/>
I don't remember exactly what I did that crashed a real DS but not nocash, but there are a couple graphical features that aren't emulated yet. The most notable are fog and alpha-blending the 3D BG against a 2D BG. There might be a few inaccuracies on texture coordinate interpolation precision as well (specially using the fast software renderer).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153499 - TwentySeven - Mon Mar 31, 2008 11:12 pm</h4>
    <div class="postbody"><span class="postbody">Alpha blending a 3d bg vs a 2d bg works in the latest (Paid) builds.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153509 - M3d10n - Tue Apr 01, 2008 4:02 am</h4>
    <div class="postbody"><span class="postbody">You mean 2.6a? I actually bought that one for the improved software renderer, but I remember it not working... but it's been a while since I tested it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153521 - TwentySeven - Tue Apr 01, 2008 10:45 am</h4>
    <div class="postbody"><span class="postbody">Yah 2.6a works (quads with  POLYALPHA's transparent over tile bgs) whereas the version before that didn't.
<br/>
<br/>
I think theres some difference in the actual blend function compared to the results on hardware, the opacity level of a quad blended over tiles vs another opaque polygon object seems noticably wrong...
<br/>
<br/>
Althought that could just as easily be my blendfunc src/dst too..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153590 - a128 - Wed Apr 02, 2008 4:01 pm</h4>
    <div class="postbody"><span class="postbody">sprite rotations does not work.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153596 - silent_code - Wed Apr 02, 2008 5:30 pm</h4>
    <div class="postbody"><span class="postbody">i have the most recent non-pay version (2.5?) and sprites rotate as they should. :^)
<br/>
<br/>
edit:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote">sprite rotations does not work.</td> </tr></table><span class="postbody">
<br/>
what doesn't work? will it work on hw?</span><span class="gensmall"><br/><br/>Last edited by silent_code on Wed Apr 02, 2008 9:03 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#153602 - SiW - Wed Apr 02, 2008 7:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">i have the most recent non-pay version (2.5?) and sprites rotate as they should. :^)</td> </tr></table><span class="postbody">
<br/>
<br/>
Same here.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153611 - Dwedit - Wed Apr 02, 2008 9:30 pm</h4>
    <div class="postbody"><span class="postbody">NO$GBA doesn't emulate the cache, so code which uses DMA improperly may work in NO$GBA and fail on hardware.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153612 - a128 - Wed Apr 02, 2008 9:33 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">i have the most recent non-pay version (2.5?) and sprites rotate as they should. :^)
<br/>
<br/>
edit:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote">sprite rotations does not work.</td> </tr></table><span class="postbody">
<br/>
what doesn't work? will it work on hw?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I had sprite rotation code that does  work on hardware, but not on the emulator....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153622 - silent_code - Thu Apr 03, 2008 12:51 am</h4>
    <div class="postbody"><span class="postbody">you *had*? please share your knowledge or point to some forum thread, because lots of people (of which i have helped some recently) have problems with sprites, especially when getting started with the gba/nds. :^)
<br/>
<br/>
well, and i hope you sent martin a small demo of the problem, so he could improve no$gba in that point (if it was indeed the emulators fault.) ;^D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153637 - a128 - Thu Apr 03, 2008 9:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">you *had*? please share your knowledge or point to some forum thread, because lots of people (of which i have helped some recently) have problems with sprites, especially when getting started with the gba/nds. :^)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I discovered somethink different you can read it here
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=15303" target="_blank">http://forum.gbadev.org/viewtopic.php?t=15303</a>
<br/>
<br/>
So I must admit maybe no$gba displays roational sprites...but no$gba also displays rotational sprites ..even when no rotational parameter is  initialized (the angles values etc pp.) ....but  the NDS does not.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153643 - TheMagnitude - Thu Apr 03, 2008 11:16 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">NO$GBA doesn't emulate the cache, so code which uses DMA improperly may work in NO$GBA and fail on hardware.</td> </tr></table><span class="postbody">That explains why its not working sometimes with me.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
