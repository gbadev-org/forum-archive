<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>dswifi download speed - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > dswifi download speed</h2>
<div id="posts">
<div class="post">
    <h4>#150757 - csk - Tue Feb 12, 2008 3:56 am</h4>
    <div class="postbody"><span class="postbody">Hi, I'm new to this forum, but have been playing around with the DS for a while. :)
<br/>
<br/>
I tried searching, but didn't really find an answer to my question.
<br/>
<br/>
I'm having the following problem: the maximum transfer rate I can achieve with dswifi (CVS), is 100 KiB/sec (FTP download). My target would be something like 140-150 KiB/sec. DSLinux can achieve 130 KiB/sec, so I believe it should be possible with dswifi as well.
<br/>
<br/>
So my questions is: <span style="font-weight: bold">how do I maximize the download speed using dswifi?</span>
<br/>
<br/>
I'm using recv() to receive data in a loop (also tried to receive data from a timer interrupt, but the speed was the same). I tried 10240 bytes, and 65536 bytes, and 512 K as buffer sizes, but the speed was the same.
<br/>
<br/>
I'd appreciate any kind of help.
<br/>
<br/>
Thanks in advance!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150761 - josath - Tue Feb 12, 2008 4:44 am</h4>
    <div class="postbody"><span class="postbody">dslinux uses a different TCP/IP stack than dswifi. sgstair himself has mentioned the best he's gotten was 120KB/sec using a modified dswifi (not the one everyone uses). So if you are getting 100KB/sec, i think that's pretty good.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150762 - csk - Tue Feb 12, 2008 5:01 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the quick reply. Could you point me to the post where sgstair mentions the 120 KB/sec result? Actually it might be enough for me. Also, did he mention what the bottleneck was?
<br/>
<br/>
I've also seen some posts of DSFTP users achieving 140 KB/s (IIRC). What's the reason for that? Maybe their method of measuring the speed was a bit inaccurate?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150824 - csk - Wed Feb 13, 2008 3:11 am</h4>
    <div class="postbody"><span class="postbody">I'm still trying to figure out how to get a bit more bandwidth with dswifi, but meanwhile, another question came up.
<br/>
<br/>
If I'm using two Nintendo DS Lites, and simultaneously downloading using both of them from a FTP server, then the effective bandwidth on one DS halves, ie. if I get 90 KB/sec using one DS at a time, then I get around 45 KB/sec using two DSs (45 KB/sec on each of them).
<br/>
<br/>
They are both connected to the same access point, same FTP server. My PC and the access point are connected by 100 Mbit Ethernet, so that's not a problem. I don't think the FTP server limits the download speed (I'm using vsftpd on Linux, default configuration).
<br/>
<br/>
Did anyone experience the same slowdown? Is there a workaround?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
