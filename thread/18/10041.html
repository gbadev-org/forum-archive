<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Filesystems with MMP - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Filesystems with MMP</h2>
<div id="posts">
<div class="post">
    <h4>#89249 - dak - Fri Jun 23, 2006 7:48 pm</h4>
    <div class="postbody"><span class="postbody">I'm using the Max Media Player for ds dev and I'm trying to use a filesystem for my apps.  I've used both GBFS and Chishm's FS successfully using emulation, but neither of them work on the actual hardware (simply not opening any of the files).
<br/>
<br/>
Is there something I'm missing when trying to work with files on a CF based storage device?  If at all possible, I'd love to stick with the GBFS solution (unless there is a technical reason as to why another method is the smarter choice).  Moonshell works just fine with MMP so somthings gotta work :)
<br/>
<br/>
-dak</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89272 - tepples - Fri Jun 23, 2006 11:27 pm</h4>
    <div class="postbody"><span class="postbody">Do you use GBFS with bin2s or GBFS with find_first_gbfs_file()? It matters, and find_first_gbfs_file() doesn't work with GBA Movie Player or with DS-slot flash equipment (MK2, MK3, NinjaDS, etc).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89279 - dak - Sat Jun 24, 2006 12:06 am</h4>
    <div class="postbody"><span class="postbody">I've been using find_first_gbfs_file(), but if it doesn't work with these carts then theres one major problem!  When I initially did research, something turned me off to the other method, but I'll take another look at it.
<br/>
<br/>
I'm curious though as to what other filesystems are compatible with MMP.  When I travel way down the directory tree I end up in the "choose a device"ish level which tells me that Moonshell is using MPCF (others listed are EXFS, GBFS, and one other all of which were listed as "not availible).
<br/>
<br/>
-dak</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89302 - tepples - Sat Jun 24, 2006 3:10 am</h4>
    <div class="postbody"><span class="postbody">MPCF == GBA Movie Player CF. Perhaps the MAX Media Player is similar enough to the GBA Movie Player that a program can access the MMP's CF Microdrive in much the same way that Chishm's FAT driver accesses the GBAMP's CF card.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89341 - dak - Sat Jun 24, 2006 1:18 pm</h4>
    <div class="postbody"><span class="postbody">Awesome, if that would make things much more smooth if this turns out to be the case.  At this point, though, Chishm's FAT is not working with my current homebrew.  From my understanding, the library determines which media device you're using and points your code to the appropriate FAT code.  Could it be possible that because of how new the MMP is, the filesystem doesnt know how to handle it?  If so, I suppose I can sift through the code and figureout how to direct to GBAMP CF.
<br/>
<br/>
hmm...
<br/>
<br/>
-dak</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89358 - Normmatt - Sat Jun 24, 2006 2:34 pm</h4>
    <div class="postbody"><span class="postbody">The latest Moonshell has a driver for the MMCF which im assuming is the Media MAX Player so check if the latest Moonshell or ReinMoon works on it</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#89398 - dak - Sat Jun 24, 2006 6:33 pm</h4>
    <div class="postbody"><span class="postbody">Got it!  Normmat, you were absolutely right; the latest Reinmoon had support for Max Media Player.  The source had it's driver under io_mmcf, but as a third party driver.  What I did was simply copy io_mmcf.h and .cpp to the unmoddified gba_nds_fat (the non moonshell), and made the appropriate changes to disc_io.h.
<br/>
<br/>
The emulation stopped working, but the hardware is functioning exactly how it should :D
<br/>
<br/>
If it hasn't been stated before, it seems as if Datel's Max Media Player is turning out to be a great solution for homebrew apps!
<br/>
<br/>
-dak</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
