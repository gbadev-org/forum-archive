<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compiling OpenSSL - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Compiling OpenSSL</h2>
<div id="posts">
<div class="post">
    <h4>#162508 - yellowstar - Thu Sep 04, 2008 3:20 am</h4>
    <div class="postbody"><span class="postbody">I'm attempting to compile OpenSSL for DS. This is so Wmb Asm could have RSA verification built-in, instead of relying on external software.(Wmb Asm DS can't verify the signature since Wmb Asm currently needs ndsrsa to check the signature)
<br/>
However, I'm getting compiler errors. I modified the default Makefile so dka could be used for compiling.(Well, attempted to)
<br/>
<br/>
Errors
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
making all in crypto...
<br/>
make[1]: Entering directory `/c/Downloads/openssl-0.9.8h/openssl-0.9.8h/crypto'
<br/>
arm-eabi-gcc -I. -I.. -I../include -O   -c -o cryptlib.o cryptlib.c
<br/>
cryptlib.c: In function 'DECLARE_STACK_OF':
<br/>
cryptlib.c:125: error: expected declaration specifiers before 'IMPLEMENT_STACK_OF'
<br/>
cryptlib.c:170:3: error: #error "Inconsistency between crypto.h and cryptlib.c"
<br/>
cryptlib.c:172: error: expected declaration specifiers before ';' token
<br/>
cryptlib.c:176: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token
<br/>
cryptlib.c:181: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token
<br/>
cryptlib.c:185: error: storage class specified for parameter 'locking_callback'
<br/>
cryptlib.c:185: error: parameter 'locking_callback' is initialized
<br/>
cryptlib.c:187: error: storage class specified for parameter 'add_lock_callback'
<br/>
cryptlib.c:187: error: parameter 'add_lock_callback' is initialized
<br/>
cryptlib.c:188: error: storage class specified for parameter 'id_callback'
<br/>
cryptlib.c:188: error: parameter 'id_callback' is initialized
<br/>
cryptlib.c:190: error: storage class specified for parameter 'dynlock_create_callback'
<br/>
cryptlib.c:190: error: parameter 'dynlock_create_callback' is initialized
<br/>
cryptlib.c:192: error: storage class specified for parameter 'dynlock_lock_callback'
<br/>
cryptlib.c:192: error: parameter 'dynlock_lock_callback' is initialized
<br/>
cryptlib.c:194: error: storage class specified for parameter 'dynlock_destroy_callback'
<br/>
cryptlib.c:194: error: parameter 'dynlock_destroy_callback' is initialized
<br/>
cryptlib.c:197: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:228: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:233: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:294: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:337: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:358: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:364: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:370: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:376: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:382: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:388: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:395: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:401: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:407: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:413: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:418: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:423: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:428: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:449: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:494: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:531: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:572: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:574: error: parameter 'OPENSSL_NONPIC_relocated' is initialized
<br/>
cryptlib.c:576: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:741: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:747: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:751: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:758: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
<br/>
cryptlib.c:574: error: declaration for parameter 'OPENSSL_NONPIC_relocated' but no such parameter
<br/>
cryptlib.c:193: error: declaration for parameter 'dynlock_destroy_callback' but no such parameter
<br/>
cryptlib.c:191: error: declaration for parameter 'dynlock_lock_callback' but no such parameter
<br/>
cryptlib.c:189: error: declaration for parameter 'dynlock_create_callback' but no such parameter
<br/>
cryptlib.c:188: error: declaration for parameter 'id_callback' but no such parameter
<br/>
cryptlib.c:186: error: declaration for parameter 'add_lock_callback' but no such parameter
<br/>
cryptlib.c:184: error: declaration for parameter 'locking_callback' but no such parameter
<br/>
cryptlib.c:758: error: expected '{' at end of input
<br/>
make[1]: *** [cryptlib.o] Error 1
<br/>
make[1]: Leaving directory `/c/Downloads/openssl-0.9.8h/openssl-0.9.8h/crypto'
<br/>
"make": *** [build_crypto] Error 1
<br/>
<br/>
&gt; Process Exit Code: 2
<br/>
&gt; Time Taken: 00:04
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Makefile
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
### Generated automatically from Makefile.org by Configure.
<br/>
<br/>
##
<br/>
## Makefile for OpenSSL
<br/>
##
<br/>
<br/>
VERSION=0.9.8h
<br/>
MAJOR=0
<br/>
MINOR=9.8
<br/>
SHLIB_VERSION_NUMBER=0.9.8
<br/>
SHLIB_VERSION_HISTORY=
<br/>
SHLIB_MAJOR=0
<br/>
SHLIB_MINOR=9.8
<br/>
SHLIB_EXT=
<br/>
PLATFORM=dist
<br/>
OPTIONS= no-camellia no-cms no-gmp no-krb5 no-mdc2 no-montasm no-rc5 no-rfc3779 no-seed no-shared no-tlsext no-zlib no-zlib-dynamic
<br/>
CONFIGURE_ARGS=dist
<br/>
SHLIB_TARGET=
<br/>
<br/>
# HERE indicates where this Makefile lives.  This can be used to indicate
<br/>
# where sub-Makefiles are expected to be.  Currently has very limited usage,
<br/>
# and should probably not be bothered with at all.
<br/>
HERE=.
<br/>
<br/>
# INSTALL_PREFIX is for package builders so that they can configure
<br/>
# for, say, /usr/ and yet have everything installed to /tmp/somedir/usr/.
<br/>
# Normally it is left empty.
<br/>
INSTALL_PREFIX=
<br/>
INSTALLTOP=/usr/local/ssl
<br/>
<br/>
# Do not edit this manually. Use Configure --openssldir=DIR do change this!
<br/>
OPENSSLDIR=/usr/local/ssl
<br/>
<br/>
# NO_IDEA - Define to build without the IDEA algorithm
<br/>
# NO_RC4  - Define to build without the RC4 algorithm
<br/>
# NO_RC2  - Define to build without the RC2 algorithm
<br/>
# THREADS - Define when building with threads, you will probably also need any
<br/>
#           system defines as well, i.e. _REENTERANT for Solaris 2.[34]
<br/>
# TERMIO  - Define the termio terminal subsystem, needed if sgtty is missing.
<br/>
# TERMIOS - Define the termios terminal subsystem, Silicon Graphics.
<br/>
# LONGCRYPT - Define to use HPUX 10.x's long password modification to crypt(3).
<br/>
# DEVRANDOM - Give this the value of the 'random device' if your OS supports
<br/>
#           one.  32 bytes will be read from this when the random
<br/>
#           number generator is initalised.
<br/>
# SSL_FORBID_ENULL - define if you want the server to be not able to use the
<br/>
#           NULL encryption ciphers.
<br/>
#
<br/>
# LOCK_DEBUG - turns on lots of lock debug output :-)
<br/>
# REF_CHECK - turn on some xyz_free() assertions.
<br/>
# REF_PRINT - prints some stuff on structure free.
<br/>
# CRYPTO_MDEBUG - turns on my 'memory leak' detecting stuff
<br/>
# MFUNC - Make all Malloc/Free/Realloc calls call
<br/>
#       CRYPTO_malloc/CRYPTO_free/CRYPTO_realloc which can be setup to
<br/>
#       call application defined callbacks via CRYPTO_set_mem_functions()
<br/>
# MD5_ASM needs to be defined to use the x86 assembler for MD5
<br/>
# SHA1_ASM needs to be defined to use the x86 assembler for SHA1
<br/>
# RMD160_ASM needs to be defined to use the x86 assembler for RIPEMD160
<br/>
# Do not define B_ENDIAN or L_ENDIAN if 'unsigned long' == 8.  It must
<br/>
# equal 4.
<br/>
# PKCS1_CHECK - pkcs1 tests.
<br/>
<br/>
CC= arm-eabi-gcc
<br/>
CFLAG= -O
<br/>
DEPFLAG= -DOPENSSL_NO_CAMELLIA -DOPENSSL_NO_CMS -DOPENSSL_NO_GMP -DOPENSSL_NO_MDC2 -DOPENSSL_NO_RC5 -DOPENSSL_NO_RFC3779 -DOPENSSL_NO_SEED -DOPENSSL_NO_TLSEXT 
<br/>
PEX_LIBS= 
<br/>
EX_LIBS= 
<br/>
EXE_EXT= 
<br/>
ARFLAGS= 
<br/>
AR=ar $(ARFLAGS) r
<br/>
RANLIB= /usr/bin/ranlib
<br/>
PERL= /usr/bin/perl
<br/>
TAR= tar
<br/>
TARFLAGS= --no-recursion
<br/>
MAKEDEPPROG=makedepend
<br/>
<br/>
# We let the C compiler driver to take care of .s files. This is done in
<br/>
# order to be excused from maintaining a separate set of architecture
<br/>
# dependent assembler flags. E.g. if you throw -mcpu=ultrasparc at SPARC
<br/>
# gcc, then the driver will automatically translate it to -xarch=v8plus
<br/>
# and pass it down to assembler.
<br/>
AS=$(CC) -c
<br/>
ASFLAG=$(CFLAG)
<br/>
<br/>
# For x86 assembler: Set PROCESSOR to 386 if you want to support
<br/>
# the 80386.
<br/>
PROCESSOR= 
<br/>
<br/>
# CPUID module collects small commonly used assembler snippets
<br/>
CPUID_OBJ= 
<br/>
BN_ASM= bn_asm.o
<br/>
DES_ENC= des_enc.o fcrypt_b.o
<br/>
AES_ASM_OBJ= aes_core.o aes_cbc.o
<br/>
BF_ENC= bf_enc.o
<br/>
CAST_ENC= c_enc.o
<br/>
RC4_ENC= rc4_enc.o rc4_skey.o
<br/>
RC5_ENC= rc5_enc.o
<br/>
MD5_ASM_OBJ= 
<br/>
SHA1_ASM_OBJ= 
<br/>
RMD160_ASM_OBJ= 
<br/>
<br/>
# KRB5 stuff
<br/>
KRB5_INCLUDES=
<br/>
LIBKRB5=
<br/>
<br/>
# Zlib stuff
<br/>
ZLIB_INCLUDE=
<br/>
LIBZLIB=
<br/>
<br/>
DIRS=   crypto ssl engines apps test tools
<br/>
SHLIBDIRS= crypto ssl
<br/>
<br/>
# dirs in crypto to build
<br/>
SDIRS=  \
<br/>
   objects \
<br/>
   md2 md4 md5 sha hmac ripemd \
<br/>
   des aes rc2 rc4 idea bf cast \
<br/>
   bn ec rsa dsa ecdsa dh ecdh dso engine \
<br/>
   buffer bio stack lhash rand err \
<br/>
   evp asn1 pem x509 x509v3 conf txt_db pkcs7 pkcs12 comp ocsp ui krb5 \
<br/>
   store pqueue
<br/>
# keep in mind that the above list is adjusted by ./Configure
<br/>
# according to no-xxx arguments...
<br/>
<br/>
# tests to perform.  "alltests" is a special word indicating that all tests
<br/>
# should be performed.
<br/>
TESTS = alltests
<br/>
<br/>
MAKEFILE= Makefile
<br/>
<br/>
MANDIR=$(OPENSSLDIR)/man
<br/>
MAN1=1
<br/>
MAN3=3
<br/>
MANSUFFIX=
<br/>
SHELL=/bin/sh
<br/>
<br/>
TOP=    .
<br/>
ONEDIRS=out tmp
<br/>
EDIRS=  times doc bugs util include certs ms shlib mt demos perl sf dep VMS
<br/>
WDIRS=  windows
<br/>
LIBS=   libcrypto.a libssl.a
<br/>
SHARED_CRYPTO=libcrypto$(SHLIB_EXT)
<br/>
SHARED_SSL=libssl$(SHLIB_EXT)
<br/>
SHARED_LIBS=
<br/>
SHARED_LIBS_LINK_EXTS=
<br/>
SHARED_LDFLAGS=
<br/>
<br/>
GENERAL=        Makefile
<br/>
BASENAME=       openssl
<br/>
NAME=           $(BASENAME)-$(VERSION)
<br/>
TARFILE=        $(NAME).tar
<br/>
WTARFILE=       $(NAME)-win.tar
<br/>
EXHEADER=       e_os2.h
<br/>
HEADER=         e_os.h
<br/>
<br/>
all: Makefile build_all openssl.pc libssl.pc libcrypto.pc
<br/>
<br/>
# as we stick to -e, CLEARENV ensures that local variables in lower
<br/>
# Makefiles remain local and variable. $${VAR+VAR} is tribute to Korn
<br/>
# shell, which [annoyingly enough] terminates unset with error if VAR
<br/>
# is not present:-( TOP= &amp;&amp; unset TOP is tribute to HP-UX /bin/sh,
<br/>
# which terminates unset with error if no variable was present:-(
<br/>
CLEARENV=   TOP= &amp;&amp; unset TOP $${LIB+LIB} $${LIBS+LIBS}   \
<br/>
      $${INCLUDE+INCLUDE} $${INCLUDES+INCLUDES}   \
<br/>
      $${DIR+DIR} $${DIRS+DIRS} $${SRC+SRC}      \
<br/>
      $${LIBSRC+LIBSRC} $${LIBOBJ+LIBOBJ} $${ALL+ALL}   \
<br/>
      $${EXHEADER+EXHEADER} $${HEADER+HEADER}      \
<br/>
      $${GENERAL+GENERAL} $${CFLAGS+CFLAGS}      \
<br/>
      $${ASFLAGS+ASFLAGS} $${AFLAGS+AFLAGS}      \
<br/>
      $${LDCMD+LDCMD} $${LDFLAGS+LDFLAGS}      \
<br/>
      $${SHAREDCMD+SHAREDCMD} $${SHAREDFLAGS+SHAREDFLAGS}   \
<br/>
      $${SHARED_LIB+SHARED_LIB} $${LIBEXTRAS+LIBEXTRAS}
<br/>
<br/>
BUILDENV=   PLATFORM='${PLATFORM}' PROCESSOR='${PROCESSOR}' \
<br/>
      CC='${CC}' CFLAG='${CFLAG}'          \
<br/>
      AS='${CC}' ASFLAG='${CFLAG} -c'         \
<br/>
      AR='${AR}' PERL='${PERL}' RANLIB='${RANLIB}'   \
<br/>
      SDIRS='${SDIRS}' LIBRPATH='${INSTALLTOP}/lib'   \
<br/>
      INSTALL_PREFIX='${INSTALL_PREFIX}'      \
<br/>
      INSTALLTOP='${INSTALLTOP}' OPENSSLDIR='${OPENSSLDIR}'   \
<br/>
      MAKEDEPEND='$$$${TOP}/util/domd $$$${TOP} -MD ${MAKEDEPPROG}' \
<br/>
      DEPFLAG='-DOPENSSL_NO_DEPRECATED ${DEPFLAG}'   \
<br/>
      MAKEDEPPROG='${MAKEDEPPROG}'         \
<br/>
      SHARED_LDFLAGS='${SHARED_LDFLAGS}'      \
<br/>
      KRB5_INCLUDES='${KRB5_INCLUDES}' LIBKRB5='${LIBKRB5}'   \
<br/>
      EXE_EXT='${EXE_EXT}' SHARED_LIBS='${SHARED_LIBS}'   \
<br/>
      SHLIB_EXT='${SHLIB_EXT}' SHLIB_TARGET='${SHLIB_TARGET}'   \
<br/>
      PEX_LIBS='${PEX_LIBS}' EX_LIBS='${EX_LIBS}'   \
<br/>
      CPUID_OBJ='${CPUID_OBJ}'         \
<br/>
      BN_ASM='${BN_ASM}' DES_ENC='${DES_ENC}'    \
<br/>
      AES_ASM_OBJ='${AES_ASM_OBJ}'         \
<br/>
      BF_ENC='${BF_ENC}' CAST_ENC='${CAST_ENC}'   \
<br/>
      RC4_ENC='${RC4_ENC}' RC5_ENC='${RC5_ENC}'   \
<br/>
      SHA1_ASM_OBJ='${SHA1_ASM_OBJ}'         \
<br/>
      MD5_ASM_OBJ='${MD5_ASM_OBJ}'         \
<br/>
      RMD160_ASM_OBJ='${RMD160_ASM_OBJ}'      \
<br/>
      THIS=$${THIS:-$@} MAKEFILE=Makefile MAKEOVERRIDES=
<br/>
# MAKEOVERRIDES= effectively "equalizes" GNU-ish and SysV-ish make flavors,
<br/>
# which in turn eliminates ambiguities in variable treatment with -e.
<br/>
<br/>
# BUILD_CMD is a generic macro to build a given target in a given
<br/>
# subdirectory.  The target must be given through the shell variable
<br/>
# `target' and the subdirectory to build in must be given through `dir'.
<br/>
# This macro shouldn't be used directly, use RECURSIVE_BUILD_CMD or
<br/>
# BUILD_ONE_CMD instead.
<br/>
#
<br/>
# BUILD_ONE_CMD is a macro to build a given target in a given
<br/>
# subdirectory if that subdirectory is part of $(DIRS).  It requires
<br/>
# exactly the same shell variables as BUILD_CMD.
<br/>
#
<br/>
# RECURSIVE_BUILD_CMD is a macro to build a given target in all
<br/>
# subdirectories defined in $(DIRS).  It requires that the target
<br/>
# is given through the shell variable `target'.
<br/>
BUILD_CMD=  if [ -d "$$dir" ]; then \
<br/>
       (   cd $$dir &amp;&amp; echo "making $$target in $$dir..." &amp;&amp; \
<br/>
      $(CLEARENV) &amp;&amp; $(MAKE) -e $(BUILDENV) TOP=.. DIR=$$dir $$target \
<br/>
       ) || exit 1; \
<br/>
       fi
<br/>
RECURSIVE_BUILD_CMD=for dir in $(DIRS); do $(BUILD_CMD); done
<br/>
BUILD_ONE_CMD=\
<br/>
   if echo " $(DIRS) " | grep " $$dir " &gt;/dev/null 2&gt;/dev/null; then \
<br/>
      $(BUILD_CMD); \
<br/>
   fi
<br/>
<br/>
reflect:
<br/>
   @[ -n "$(THIS)" ] &amp;&amp; $(CLEARENV) &amp;&amp; $(MAKE) $(THIS) -e $(BUILDENV)
<br/>
<br/>
sub_all: build_all
<br/>
build_all: build_libs build_apps build_tests build_tools
<br/>
<br/>
build_libs: build_crypto build_ssl build_engines
<br/>
<br/>
build_crypto:
<br/>
   @dir=crypto; target=all; $(BUILD_ONE_CMD)
<br/>
build_ssl:
<br/>
   @dir=ssl; target=all; $(BUILD_ONE_CMD)
<br/>
build_engines:
<br/>
   @dir=engines; target=all; $(BUILD_ONE_CMD)
<br/>
build_apps:
<br/>
   @dir=apps; target=all; $(BUILD_ONE_CMD)
<br/>
build_tests:
<br/>
   @dir=test; target=all; $(BUILD_ONE_CMD)
<br/>
build_tools:
<br/>
   @dir=tools; target=all; $(BUILD_ONE_CMD)
<br/>
<br/>
all_testapps: build_libs build_testapps
<br/>
build_testapps:
<br/>
   @dir=crypto; target=testapps; $(BUILD_ONE_CMD)
<br/>
<br/>
libcrypto$(SHLIB_EXT): libcrypto.a
<br/>
   @if [ "$(SHLIB_TARGET)" != "" ]; then \
<br/>
      $(MAKE) SHLIBDIRS=crypto build-shared; \
<br/>
   else \
<br/>
      echo "There's no support for shared libraries on this platform" &gt;&amp;2; \
<br/>
      exit 1; \
<br/>
   fi
<br/>
<br/>
libssl$(SHLIB_EXT): libcrypto$(SHLIB_EXT) libssl.a
<br/>
   @if [ "$(SHLIB_TARGET)" != "" ]; then \
<br/>
      $(MAKE) SHLIBDIRS=ssl SHLIBDEPS='-lcrypto' build-shared; \
<br/>
   else \
<br/>
      echo "There's no support for shared libraries on this platform" &gt;&amp;2; \
<br/>
      exit 1; \
<br/>
   fi
<br/>
<br/>
clean-shared:
<br/>
   @set -e; for i in $(SHLIBDIRS); do \
<br/>
      if [ -n "$(SHARED_LIBS_LINK_EXTS)" ]; then \
<br/>
         tmp="$(SHARED_LIBS_LINK_EXTS)"; \
<br/>
         for j in $${tmp:-x}; do \
<br/>
            ( set -x; rm -f lib$$i$$j ); \
<br/>
         done; \
<br/>
      fi; \
<br/>
      ( set -x; rm -f lib$$i$(SHLIB_EXT) ); \
<br/>
      if [ "$(PLATFORM)" = "Cygwin" ]; then \
<br/>
         ( set -x; rm -f cyg$$i$(SHLIB_EXT) lib$$i$(SHLIB_EXT).a ); \
<br/>
      fi; \
<br/>
   done
<br/>
<br/>
link-shared:
<br/>
   @ set -e; for i in ${SHLIBDIRS}; do \
<br/>
      $(MAKE) -f $(HERE)/Makefile.shared -e $(BUILDENV) \
<br/>
         LIBNAME=$$i LIBVERSION=${SHLIB_MAJOR}.${SHLIB_MINOR} \
<br/>
         LIBCOMPATVERSIONS=";${SHLIB_VERSION_HISTORY}" \
<br/>
         symlink.$(SHLIB_TARGET); \
<br/>
      libs="$$libs -l$$i"; \
<br/>
   done
<br/>
<br/>
build-shared: do_$(SHLIB_TARGET) link-shared
<br/>
<br/>
do_$(SHLIB_TARGET):
<br/>
   @ set -e; libs='-L. ${SHLIBDEPS}'; for i in ${SHLIBDIRS}; do \
<br/>
      if [ "${SHLIBDIRS}" = "ssl" -a -n "$(LIBKRB5)" ]; then \
<br/>
         libs="$(LIBKRB5) $$libs"; \
<br/>
      fi; \
<br/>
      $(CLEARENV) &amp;&amp; $(MAKE) -f Makefile.shared -e $(BUILDENV) \
<br/>
         LIBNAME=$$i LIBVERSION=${SHLIB_MAJOR}.${SHLIB_MINOR} \
<br/>
         LIBCOMPATVERSIONS=";${SHLIB_VERSION_HISTORY}" \
<br/>
         LIBDEPS="$$libs $(EX_LIBS)" \
<br/>
         link_a.$(SHLIB_TARGET); \
<br/>
      libs="-l$$i $$libs"; \
<br/>
   done
<br/>
<br/>
libcrypto.pc: Makefile
<br/>
   @ ( echo 'prefix=$(INSTALLTOP)'; \
<br/>
       echo 'exec_prefix=$${prefix}'; \
<br/>
       echo 'libdir=$${exec_prefix}/lib'; \
<br/>
       echo 'includedir=$${prefix}/include'; \
<br/>
       echo ''; \
<br/>
       echo 'Name: OpenSSL-libcrypto'; \
<br/>
       echo 'Description: OpenSSL cryptography library'; \
<br/>
       echo 'Version: '$(VERSION); \
<br/>
       echo 'Requires: '; \
<br/>
       echo 'Libs: -L$${libdir} -lcrypto $(EX_LIBS)'; \
<br/>
       echo 'Cflags: -I$${includedir} $(KRB5_INCLUDES)' ) &gt; libcrypto.pc
<br/>
<br/>
libssl.pc: Makefile
<br/>
   @ ( echo 'prefix=$(INSTALLTOP)'; \
<br/>
       echo 'exec_prefix=$${prefix}'; \
<br/>
       echo 'libdir=$${exec_prefix}/lib'; \
<br/>
       echo 'includedir=$${prefix}/include'; \
<br/>
       echo ''; \
<br/>
       echo 'Name: OpenSSL'; \
<br/>
       echo 'Description: Secure Sockets Layer and cryptography libraries'; \
<br/>
       echo 'Version: '$(VERSION); \
<br/>
       echo 'Requires: '; \
<br/>
       echo 'Libs: -L$${libdir} -lssl -lcrypto $(EX_LIBS)'; \
<br/>
       echo 'Cflags: -I$${includedir} $(KRB5_INCLUDES)' ) &gt; libssl.pc
<br/>
<br/>
openssl.pc: Makefile
<br/>
   @ ( echo 'prefix=$(INSTALLTOP)'; \
<br/>
       echo 'exec_prefix=$${prefix}'; \
<br/>
       echo 'libdir=$${exec_prefix}/lib'; \
<br/>
       echo 'includedir=$${prefix}/include'; \
<br/>
       echo ''; \
<br/>
       echo 'Name: OpenSSL'; \
<br/>
       echo 'Description: Secure Sockets Layer and cryptography libraries and tools'; \
<br/>
       echo 'Version: '$(VERSION); \
<br/>
       echo 'Requires: '; \
<br/>
       echo 'Libs: -L$${libdir} -lssl -lcrypto $(EX_LIBS)'; \
<br/>
       echo 'Cflags: -I$${includedir} $(KRB5_INCLUDES)' ) &gt; openssl.pc
<br/>
<br/>
Makefile: Makefile.org Configure config
<br/>
   @echo "Makefile is older than Makefile.org, Configure or config."
<br/>
   @echo "Reconfigure the source tree (via './config' or 'perl Configure'), please."
<br/>
   @false
<br/>
<br/>
libclean:
<br/>
   rm -f *.map *.so *.so.* *.dll engines/*.so engines/*.dll *.a engines/*.a */lib */*/lib
<br/>
<br/>
clean:   libclean
<br/>
   rm -f shlib/*.o *.o core a.out fluff rehash.time testlog make.log cctest cctest.c
<br/>
   @set -e; target=clean; $(RECURSIVE_BUILD_CMD)
<br/>
   rm -f $(LIBS)
<br/>
   rm -f openssl.pc libssl.pc libcrypto.pc
<br/>
   rm -f speed.* .pure
<br/>
   rm -f $(TARFILE)
<br/>
   @set -e; for i in $(ONEDIRS) ;\
<br/>
   do \
<br/>
   rm -fr $$i/*; \
<br/>
   done
<br/>
<br/>
makefile.one: files
<br/>
   $(PERL) util/mk1mf.pl &gt;makefile.one; \
<br/>
   sh util/do_ms.sh
<br/>
<br/>
files:
<br/>
   $(PERL) $(TOP)/util/files.pl Makefile &gt; $(TOP)/MINFO
<br/>
   @set -e; target=files; $(RECURSIVE_BUILD_CMD)
<br/>
<br/>
links:
<br/>
   @$(PERL) $(TOP)/util/mkdir-p.pl include/openssl
<br/>
   @$(PERL) $(TOP)/util/mklink.pl include/openssl $(EXHEADER)
<br/>
   @set -e; target=links; $(RECURSIVE_BUILD_CMD)
<br/>
<br/>
gentests:
<br/>
   @(cd test &amp;&amp; echo "generating dummy tests (if needed)..." &amp;&amp; \
<br/>
   $(CLEARENV) &amp;&amp; $(MAKE) -e $(BUILDENV) TESTS='${TESTS}' OPENSSL_DEBUG_MEMORY=on generate );
<br/>
<br/>
dclean:
<br/>
   rm -f *.bak
<br/>
   @set -e; target=dclean; $(RECURSIVE_BUILD_CMD)
<br/>
<br/>
rehash: rehash.time
<br/>
rehash.time: certs
<br/>
   @(OPENSSL="`pwd`/util/opensslwrap.sh"; \
<br/>
     OPENSSL_DEBUG_MEMORY=on; \
<br/>
     export OPENSSL OPENSSL_DEBUG_MEMORY; \
<br/>
     $(PERL) tools/c_rehash certs)
<br/>
   touch rehash.time
<br/>
<br/>
test:   tests
<br/>
<br/>
tests: rehash
<br/>
   @(cd test &amp;&amp; echo "testing..." &amp;&amp; \
<br/>
   $(CLEARENV) &amp;&amp; $(MAKE) -e $(BUILDENV) TOP=.. TESTS='${TESTS}' OPENSSL_DEBUG_MEMORY=on tests );
<br/>
   util/opensslwrap.sh version -a
<br/>
<br/>
report:
<br/>
   @$(PERL) util/selftest.pl
<br/>
<br/>
depend:
<br/>
   @set -e; target=depend; $(RECURSIVE_BUILD_CMD)
<br/>
<br/>
lint:
<br/>
   @set -e; target=lint; $(RECURSIVE_BUILD_CMD)
<br/>
<br/>
tags:
<br/>
   rm -f TAGS
<br/>
   find . -name '[^.]*.[ch]' | xargs etags -a
<br/>
<br/>
errors:
<br/>
   $(PERL) util/mkerr.pl -recurse -write
<br/>
   (cd engines; $(MAKE) PERL=$(PERL) errors)
<br/>
   $(PERL) util/ck_errf.pl */*.c */*/*.c
<br/>
<br/>
stacks:
<br/>
   $(PERL) util/mkstack.pl -write
<br/>
<br/>
util/libeay.num::
<br/>
   $(PERL) util/mkdef.pl crypto update
<br/>
<br/>
util/ssleay.num::
<br/>
   $(PERL) util/mkdef.pl ssl update
<br/>
<br/>
crypto/objects/obj_dat.h: crypto/objects/obj_dat.pl crypto/objects/obj_mac.h
<br/>
   $(PERL) crypto/objects/obj_dat.pl crypto/objects/obj_mac.h crypto/objects/obj_dat.h
<br/>
crypto/objects/obj_mac.h: crypto/objects/objects.pl crypto/objects/objects.txt crypto/objects/obj_mac.num
<br/>
   $(PERL) crypto/objects/objects.pl crypto/objects/objects.txt crypto/objects/obj_mac.num crypto/objects/obj_mac.h
<br/>
<br/>
apps/openssl-vms.cnf: apps/openssl.cnf
<br/>
   $(PERL) VMS/VMSify-conf.pl &lt; apps/openssl.cnf &gt; apps/openssl-vms.cnf
<br/>
<br/>
crypto/bn/bn_prime.h: crypto/bn/bn_prime.pl
<br/>
   $(PERL) crypto/bn/bn_prime.pl &gt;crypto/bn/bn_prime.h
<br/>
<br/>
<br/>
TABLE: Configure
<br/>
   (echo 'Output of `Configure TABLE'"':"; \
<br/>
   $(PERL) Configure TABLE) &gt; TABLE
<br/>
<br/>
update: errors stacks util/libeay.num util/ssleay.num crypto/objects/obj_dat.h apps/openssl-vms.cnf crypto/bn/bn_prime.h TABLE depend
<br/>
<br/>
# Build distribution tar-file. As the list of files returned by "find" is
<br/>
# pretty long, on several platforms a "too many arguments" error or similar
<br/>
# would occur. Therefore the list of files is temporarily stored into a file
<br/>
# and read directly, requiring GNU-Tar. Call "make TAR=gtar dist" if the normal
<br/>
# tar does not support the --files-from option.
<br/>
tar:
<br/>
   find . -type d -print | xargs chmod 755
<br/>
   find . -type f -print | xargs chmod a+r
<br/>
   find . -type f -perm -0100 -print | xargs chmod a+x
<br/>
   find * \! -path CVS/\* \! -path \*/CVS/\* \! -name CVS \! -name .cvsignore \! -name STATUS \! -name TABLE | sort &gt; ../$(TARFILE).list; \
<br/>
<br/>
   $(TAR) $(TARFLAGS) --files-from ../$(TARFILE).list -cvf - | \
<br/>
   tardy --user_number=0  --user_name=openssl \
<br/>
         --group_number=0 --group_name=openssl \
<br/>
         --prefix=openssl-$(VERSION) - |\
<br/>
   gzip --best &gt;../$(TARFILE).gz; \
<br/>
   rm -f ../$(TARFILE).list; \
<br/>
   ls -l ../$(TARFILE).gz
<br/>
<br/>
tar-snap:
<br/>
   @$(TAR) $(TARFLAGS) -cvf - \
<br/>
      `find * \! -path CVS/\* \! -path \*/CVS/\* \! -name CVS \! -name .cvsignore \! -name STATUS \! -name TABLE \! -name '*.o' \! -name '*.a' \! -name '*.so' \! -name '*.so.*'  \! -name 'openssl' \! -name '*test' \! -name '.#*' \! -name '*~' | sort` |\
<br/>
   tardy --user_number=0  --user_name=openssl \
<br/>
         --group_number=0 --group_name=openssl \
<br/>
         --prefix=openssl-$(VERSION) - &gt; ../$(TARFILE);\
<br/>
   ls -l ../$(TARFILE)
<br/>
<br/>
dist:   
<br/>
   $(PERL) Configure dist
<br/>
   @$(MAKE) dist_pem_h
<br/>
   @$(MAKE) SDIRS='${SDIRS}' clean
<br/>
   @$(MAKE) TAR='${TAR}' TARFLAGS='${TARFLAGS}' tar
<br/>
<br/>
dist_pem_h:
<br/>
   (cd crypto/pem; $(MAKE) -e $(BUILDENV) pem.h; $(MAKE) clean)
<br/>
<br/>
install: all install_docs install_sw
<br/>
<br/>
install_sw:
<br/>
   @$(PERL) $(TOP)/util/mkdir-p.pl $(INSTALL_PREFIX)$(INSTALLTOP)/bin \
<br/>
      $(INSTALL_PREFIX)$(INSTALLTOP)/lib \
<br/>
      $(INSTALL_PREFIX)$(INSTALLTOP)/lib/engines \
<br/>
      $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig \
<br/>
      $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl \
<br/>
      $(INSTALL_PREFIX)$(OPENSSLDIR)/misc \
<br/>
      $(INSTALL_PREFIX)$(OPENSSLDIR)/certs \
<br/>
      $(INSTALL_PREFIX)$(OPENSSLDIR)/private
<br/>
   @set -e; headerlist="$(EXHEADER)"; for i in $$headerlist;\
<br/>
   do \
<br/>
   (cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
<br/>
   chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
<br/>
   done;
<br/>
   @set -e; target=install; $(RECURSIVE_BUILD_CMD)
<br/>
   @set -e; for i in $(LIBS) ;\
<br/>
   do \
<br/>
      if [ -f "$$i" ]; then \
<br/>
      (       echo installing $$i; \
<br/>
         cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new; \
<br/>
         $(RANLIB) $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new; \
<br/>
         chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new; \
<br/>
         mv -f $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i ); \
<br/>
      fi; \
<br/>
   done;
<br/>
   @set -e; if [ -n "$(SHARED_LIBS)" ]; then \
<br/>
      tmp="$(SHARED_LIBS)"; \
<br/>
      for i in $${tmp:-x}; \
<br/>
      do \
<br/>
         if [ -f "$$i" -o -f "$$i.a" ]; then \
<br/>
         (       echo installing $$i; \
<br/>
            if [ "$(PLATFORM)" != "Cygwin" ]; then \
<br/>
               cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new; \
<br/>
               chmod 555 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new; \
<br/>
               mv -f $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i; \
<br/>
            else \
<br/>
               c=`echo $$i | sed 's/^lib\(.*\)\.dll\.a/cyg\1-$(SHLIB_VERSION_NUMBER).dll/'`; \
<br/>
               cp $$c $(INSTALL_PREFIX)$(INSTALLTOP)/bin/$$c.new; \
<br/>
               chmod 755 $(INSTALL_PREFIX)$(INSTALLTOP)/bin/$$c.new; \
<br/>
               mv -f $(INSTALL_PREFIX)$(INSTALLTOP)/bin/$$c.new $(INSTALL_PREFIX)$(INSTALLTOP)/bin/$$c; \
<br/>
               cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new; \
<br/>
               chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new; \
<br/>
               mv -f $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i.new $(INSTALL_PREFIX)$(INSTALLTOP)/lib/$$i; \
<br/>
            fi ); \
<br/>
         fi; \
<br/>
      done; \
<br/>
      (   here="`pwd`"; \
<br/>
         cd $(INSTALL_PREFIX)$(INSTALLTOP)/lib; \
<br/>
         $(MAKE) -f $$here/Makefile HERE="$$here" link-shared ); \
<br/>
      if [ "$(INSTALLTOP)" != "/usr" ]; then \
<br/>
         echo 'OpenSSL shared libraries have been installed in:'; \
<br/>
         echo '  $(INSTALLTOP)'; \
<br/>
         echo ''; \
<br/>
         sed -e '1,/^$$/d' doc/openssl-shared.txt; \
<br/>
      fi; \
<br/>
   fi
<br/>
   cp libcrypto.pc $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
<br/>
   chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig/libcrypto.pc
<br/>
   cp libssl.pc $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
<br/>
   chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig/libssl.pc
<br/>
   cp openssl.pc $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
<br/>
   chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig/openssl.pc
<br/>
<br/>
install_docs:
<br/>
   @$(PERL) $(TOP)/util/mkdir-p.pl \
<br/>
      $(INSTALL_PREFIX)$(MANDIR)/man1 \
<br/>
      $(INSTALL_PREFIX)$(MANDIR)/man3 \
<br/>
      $(INSTALL_PREFIX)$(MANDIR)/man5 \
<br/>
      $(INSTALL_PREFIX)$(MANDIR)/man7
<br/>
   @pod2man="`cd util; ./pod2mantest $(PERL)`"; \
<br/>
   here="`pwd`"; \
<br/>
   filecase=; \
<br/>
   if [ "$(PLATFORM)" = "DJGPP" -o "$(PLATFORM)" = "Cygwin" -o "$(PLATFORM)" = "mingw" ]; then \
<br/>
      filecase=-i; \
<br/>
   fi; \
<br/>
   set -e; for i in doc/apps/*.pod; do \
<br/>
      fn=`basename $$i .pod`; \
<br/>
      sec=`$(PERL) util/extract-section.pl 1 &lt; $$i`; \
<br/>
      echo "installing man$$sec/$$fn.$${sec}$(MANSUFFIX)"; \
<br/>
      (cd `$(PERL) util/dirname.pl $$i`; \
<br/>
      sh -c "$$pod2man \
<br/>
         --section=$$sec --center=OpenSSL \
<br/>
         --release=$(VERSION) `basename $$i`") \
<br/>
         &gt;  $(INSTALL_PREFIX)$(MANDIR)/man$$sec/$$fn.$${sec}$(MANSUFFIX); \
<br/>
      $(PERL) util/extract-names.pl &lt; $$i | \
<br/>
         (grep -v $$filecase "^$$fn\$$"; true) | \
<br/>
         (grep -v "[   ]"; true) | \
<br/>
         (cd $(INSTALL_PREFIX)$(MANDIR)/man$$sec/; \
<br/>
          while read n; do \
<br/>
            $$here/util/point.sh $$fn.$${sec}$(MANSUFFIX) "$$n".$${sec}$(MANSUFFIX); \
<br/>
          done); \
<br/>
   done; \
<br/>
   set -e; for i in doc/crypto/*.pod doc/ssl/*.pod; do \
<br/>
      fn=`basename $$i .pod`; \
<br/>
      sec=`$(PERL) util/extract-section.pl 3 &lt; $$i`; \
<br/>
      echo "installing man$$sec/$$fn.$${sec}$(MANSUFFIX)"; \
<br/>
      (cd `$(PERL) util/dirname.pl $$i`; \
<br/>
      sh -c "$$pod2man \
<br/>
         --section=$$sec --center=OpenSSL \
<br/>
         --release=$(VERSION) `basename $$i`") \
<br/>
         &gt;  $(INSTALL_PREFIX)$(MANDIR)/man$$sec/$$fn.$${sec}$(MANSUFFIX); \
<br/>
      $(PERL) util/extract-names.pl &lt; $$i | \
<br/>
         (grep -v $$filecase "^$$fn\$$"; true) | \
<br/>
         (grep -v "[   ]"; true) | \
<br/>
         (cd $(INSTALL_PREFIX)$(MANDIR)/man$$sec/; \
<br/>
          while read n; do \
<br/>
            $$here/util/point.sh $$fn.$${sec}$(MANSUFFIX) "$$n".$${sec}$(MANSUFFIX); \
<br/>
          done); \
<br/>
   done
<br/>
<br/>
# DO NOT DELETE THIS LINE -- make depend depends on it.
<br/>
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162517 - sarachiel - Thu Sep 04, 2008 7:44 am</h4>
    <div class="postbody"><span class="postbody">I guess you will have to look at the ssl library source code. I couldn't see any error in your Makefile, and those errors are typically what happens when a typedef or a structure misses somewhere.
<br/>
I assume you already checked if you had all the header files. This is probably caused by a bad combination of #ifdef in the code and/or header files.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162519 - Sektor - Thu Sep 04, 2008 9:37 am</h4>
    <div class="postbody"><span class="postbody">You could try <a class="postlink" href="http://www.yassl.com" target="_blank">CyaSSL</a> instead, it's lighter.  <a class="postlink" href="http://gtamp.com/DS/CyaSSLDS.7z" target="_blank">CyaSSLDS.7z</a> - ready to compile for DS (taken from beup).<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162531 - theli - Thu Sep 04, 2008 12:52 pm</h4>
    <div class="postbody"><span class="postbody">i also successfully used XYSSL on DS
<br/>
<a href="http://theli.ho.ua/ds/xyssl-0.8-bsd-nds.7z" target="_blank">http://theli.ho.ua/ds/xyssl-0.8-bsd-nds.7z</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162532 - samel - Thu Sep 04, 2008 1:12 pm</h4>
    <div class="postbody"><span class="postbody">Personally i use Anubis
<br/>
<a href="http://paginas.terra.com.br/informatica/paulobarreto/AnubisPage.html" target="_blank">http://paginas.terra.com.br/informatica/paulobarreto/AnubisPage.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162559 - yellowstar - Thu Sep 04, 2008 11:02 pm</h4>
    <div class="postbody"><span class="postbody">Apparently the compiler is failing to find &lt;openssl/crypto.h&gt;, and it's not even reporting any errors about failing to find that header... I get these same errors when compiling for Windows...
<br/>
<br/>
@Sektor:
<br/>
Thanks. I guess I'll use CyaSSL, unless these OpenSSL compiling errors are resolved.
<br/>
<br/>
EDIT:
<br/>
Well, the Windows compiling errors aren't exactly the same. The first few errors are about the same. It complains that NUM_LOCKS is undeclared, then it says it is bailing out, and stops compiling.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162636 - yellowstar - Sat Sep 06, 2008 5:37 pm</h4>
    <div class="postbody"><span class="postbody">I fixed these compiler errors. I found that almost all of the headers in the include directory were empty. Once I copied in the headers from the crypto directory, into the include directory, those errors were resolved. But once I installed Perl, which is needed for compiling OpenSSL apparently, I got the following errors. I'd prefer to use OpenSSL, but how do I use the RSA and SHA-1 functionality in CyaSSL? I know I need to use RsaSSL_Verify, but what values should go in the fields in that RsaKey struct...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
making all in crypto...
<br/>
make[1]: Entering directory `/c/Downloads/openssl-0.9.8h/openssl-0.9.8h/crypto'
<br/>
making all in crypto/objects...
<br/>
make[2]: Entering directory `/c/Downloads/openssl-0.9.8h/openssl-0.9.8h/crypto/objects'
<br/>
arm-eabi-gcc -I.. -I../.. -I../../include -O   -c -o o_names.o o_names.c
<br/>
In file included from ../../include/openssl/asn1.h:74,
<br/>
                 from ../../include/openssl/objects.h:960,
<br/>
                 from o_names.c:7:
<br/>
../../include/openssl/bn.h:290: error: expected specifier-qualifier-list before 'BN_ULONG'
<br/>
../../include/openssl/bn.h:310: error: expected specifier-qualifier-list before 'BN_ULONG'
<br/>
../../include/openssl/bn.h:414: error: expected ')' before 'a'
<br/>
../../include/openssl/bn.h:457: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'BN_mod_word'
<br/>
../../include/openssl/bn.h:458: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'BN_div_word'
<br/>
../../include/openssl/bn.h:459: error: expected declaration specifiers or '...' before 'BN_ULONG'
<br/>
../../include/openssl/bn.h:460: error: expected declaration specifiers or '...' before 'BN_ULONG'
<br/>
../../include/openssl/bn.h:461: error: expected declaration specifiers or '...' before 'BN_ULONG'
<br/>
../../include/openssl/bn.h:462: error: expected declaration specifiers or '...' before 'BN_ULONG'
<br/>
../../include/openssl/bn.h:463: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'BN_get_word'
<br/>
../../include/openssl/bn.h:478: error: expected declaration specifiers or '...' before 'BN_ULONG'
<br/>
../../include/openssl/bn.h:751: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'bn_mul_add_words'
<br/>
../../include/openssl/bn.h:752: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'bn_mul_words'
<br/>
../../include/openssl/bn.h:753: error: expected ')' before '*' token
<br/>
../../include/openssl/bn.h:754: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'bn_div_words'
<br/>
../../include/openssl/bn.h:755: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'bn_add_words'
<br/>
../../include/openssl/bn.h:756: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'bn_sub_words'
<br/>
In file included from ../../include/openssl/objects.h:960,
<br/>
                 from o_names.c:7:
<br/>
../../include/openssl/asn1.h:764: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:778: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:797: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:817: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:826: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:840: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:845: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:846: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:847: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:848: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:849: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:854: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:856: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:857: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:858: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:859: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:860: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:861: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:862: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:863: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:864: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
../../include/openssl/asn1.h:866: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'const'
<br/>
make[2]: *** [o_names.o] Error 1
<br/>
make[2]: Leaving directory `/c/Downloads/openssl-0.9.8h/openssl-0.9.8h/crypto/objects'
<br/>
make[1]: *** [subdirs] Error 1
<br/>
make[1]: Leaving directory `/c/Downloads/openssl-0.9.8h/openssl-0.9.8h/crypto'
<br/>
"make": *** [build_crypto] Error 1
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Part of bn.h:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
* crypto/bn/bn.h */
<br/>
/* Copyright (C) 1995-1997 Eric Young (eay@cryptsoft.com)
<br/>
 * All rights reserved.
<br/>
 *
<br/>
 * This package is an SSL implementation written
<br/>
 * by Eric Young (eay@cryptsoft.com).
<br/>
 * The implementation was written so as to conform with Netscapes SSL.
<br/>
 * 
<br/>
 * This library is free for commercial and non-commercial use as long as
<br/>
 * the following conditions are aheared to.  The following conditions
<br/>
 * apply to all code found in this distribution, be it the RC4, RSA,
<br/>
 * lhash, DES, etc., code; not just the SSL code.  The SSL documentation
<br/>
 * included with this distribution is covered by the same copyright terms
<br/>
 * except that the holder is Tim Hudson (tjh@cryptsoft.com).
<br/>
 * 
<br/>
 * Copyright remains Eric Young's, and as such any Copyright notices in
<br/>
 * the code are not to be removed.
<br/>
 * If this package is used in a product, Eric Young should be given attribution
<br/>
 * as the author of the parts of the library used.
<br/>
 * This can be in the form of a textual message at program startup or
<br/>
 * in documentation (online or textual) provided with the package.
<br/>
 * 
<br/>
 * Redistribution and use in source and binary forms, with or without
<br/>
 * modification, are permitted provided that the following conditions
<br/>
 * are met:
<br/>
 * 1. Redistributions of source code must retain the copyright
<br/>
 *    notice, this list of conditions and the following disclaimer.
<br/>
 * 2. Redistributions in binary form must reproduce the above copyright
<br/>
 *    notice, this list of conditions and the following disclaimer in the
<br/>
 *    documentation and/or other materials provided with the distribution.
<br/>
 * 3. All advertising materials mentioning features or use of this software
<br/>
 *    must display the following acknowledgement:
<br/>
 *    "This product includes cryptographic software written by
<br/>
 *     Eric Young (eay@cryptsoft.com)"
<br/>
 *    The word 'cryptographic' can be left out if the rouines from the library
<br/>
 *    being used are not cryptographic related :-).
<br/>
 * 4. If you include any Windows specific code (or a derivative thereof) from 
<br/>
 *    the apps directory (application code) you must include an acknowledgement:
<br/>
 *    "This product includes software written by Tim Hudson (tjh@cryptsoft.com)"
<br/>
 * 
<br/>
 * THIS SOFTWARE IS PROVIDED BY ERIC YOUNG ``AS IS'' AND
<br/>
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
<br/>
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
<br/>
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
<br/>
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
<br/>
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
<br/>
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
<br/>
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
<br/>
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
<br/>
<br/>
<br/>
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
<br/>
 * SUCH DAMAGE.
<br/>
 * 
<br/>
 * The licence and distribution terms for any publically available version or
<br/>
 * derivative of this code cannot be changed.  i.e. this code cannot simply be
<br/>
 * copied and put under another distribution licence
<br/>
 * [including the GNU Public Licence.]
<br/>
 */
<br/>
/* ====================================================================
<br/>
 * Copyright 2002 Sun Microsystems, Inc. ALL RIGHTS RESERVED.
<br/>
 *
<br/>
 * Portions of the attached software ("Contribution") are developed by 
<br/>
 * SUN MICROSYSTEMS, INC., and are contributed to the OpenSSL project.
<br/>
 *
<br/>
 * The Contribution is licensed pursuant to the Eric Young open source
<br/>
 * license provided above.
<br/>
 *
<br/>
 * The binary polynomial arithmetic software is originally written by 
<br/>
 * Sheueling Chang Shantz and Douglas Stebila of Sun Microsystems Laboratories.
<br/>
 *
<br/>
 */
<br/>
<br/>
#ifndef HEADER_BN_H
<br/>
#define HEADER_BN_H
<br/>
<br/>
#include &lt;openssl/e_os2.h&gt;
<br/>
#ifndef OPENSSL_NO_FP_API
<br/>
#include &lt;stdio.h&gt; /* FILE */
<br/>
#endif
<br/>
#include &lt;openssl/ossl_typ.h&gt;
<br/>
<br/>
#ifdef  __cplusplus
<br/>
extern "C" {
<br/>
#endif
<br/>
<br/>
/* These preprocessor symbols control various aspects of the bignum headers and
<br/>
 * library code. They're not defined by any "normal" configuration, as they are
<br/>
 * intended for development and testing purposes. NB: defining all three can be
<br/>
 * useful for debugging application code as well as openssl itself.
<br/>
 *
<br/>
 * BN_DEBUG - turn on various debugging alterations to the bignum code
<br/>
 * BN_DEBUG_RAND - uses random poisoning of unused words to trip up
<br/>
 * mismanagement of bignum internals. You must also define BN_DEBUG.
<br/>
 */
<br/>
/* #define BN_DEBUG */
<br/>
/* #define BN_DEBUG_RAND */
<br/>
<br/>
#define BN_MUL_COMBA
<br/>
#define BN_SQR_COMBA
<br/>
#define BN_RECURSION
<br/>
<br/>
/* This next option uses the C libraries (2 word)/(1 word) function.
<br/>
 * If it is not defined, I use my C version (which is slower).
<br/>
 * The reason for this flag is that when the particular C compiler
<br/>
 * library routine is used, and the library is linked with a different
<br/>
 * compiler, the library is missing.  This mostly happens when the
<br/>
 * library is built with gcc and then linked using normal cc.  This would
<br/>
 * be a common occurrence because gcc normally produces code that is
<br/>
 * 2 times faster than system compilers for the big number stuff.
<br/>
 * For machines with only one compiler (or shared libraries), this should
<br/>
 * be on.  Again this in only really a problem on machines
<br/>
 * using "long long's", are 32bit, and are not using my assembler code. */
<br/>
#if defined(OPENSSL_SYS_MSDOS) || defined(OPENSSL_SYS_WINDOWS) || \
<br/>
    defined(OPENSSL_SYS_WIN32) || defined(linux)
<br/>
# ifndef BN_DIV2W
<br/>
#  define BN_DIV2W
<br/>
# endif
<br/>
#endif
<br/>
<br/>
/* assuming long is 64bit - this is the DEC Alpha
<br/>
 * unsigned long long is only 64 bits :-(, don't define
<br/>
 * BN_LLONG for the DEC Alpha */
<br/>
#ifdef SIXTY_FOUR_BIT_LONG
<br/>
#define BN_ULLONG   unsigned long long
<br/>
#define BN_ULONG   unsigned long
<br/>
#define BN_LONG      long
<br/>
#define BN_BITS      128
<br/>
#define BN_BYTES   8
<br/>
#define BN_BITS2   64
<br/>
#define BN_BITS4   32
<br/>
#define BN_MASK      (0xffffffffffffffffffffffffffffffffLL)
<br/>
#define BN_MASK2   (0xffffffffffffffffL)
<br/>
#define BN_MASK2l   (0xffffffffL)
<br/>
#define BN_MASK2h   (0xffffffff00000000L)
<br/>
#define BN_MASK2h1   (0xffffffff80000000L)
<br/>
#define BN_TBIT      (0x8000000000000000L)
<br/>
#define BN_DEC_CONV   (10000000000000000000UL)
<br/>
#define BN_DEC_FMT1   "%lu"
<br/>
#define BN_DEC_FMT2   "%019lu"
<br/>
#define BN_DEC_NUM   19
<br/>
#endif
<br/>
<br/>
/* This is where the long long data type is 64 bits, but long is 32.
<br/>
 * For machines where there are 64bit registers, this is the mode to use.
<br/>
 * IRIX, on R4000 and above should use this mode, along with the relevant
<br/>
 * assembler code :-).  Do NOT define BN_LLONG.
<br/>
 */
<br/>
#ifdef SIXTY_FOUR_BIT
<br/>
#undef BN_LLONG
<br/>
#undef BN_ULLONG
<br/>
#define BN_ULONG   unsigned long long
<br/>
#define BN_LONG      long long
<br/>
#define BN_BITS      128
<br/>
#define BN_BYTES   8
<br/>
#define BN_BITS2   64
<br/>
#define BN_BITS4   32
<br/>
#define BN_MASK2   (0xffffffffffffffffLL)
<br/>
#define BN_MASK2l   (0xffffffffL)
<br/>
#define BN_MASK2h   (0xffffffff00000000LL)
<br/>
#define BN_MASK2h1   (0xffffffff80000000LL)
<br/>
#define BN_TBIT      (0x8000000000000000LL)
<br/>
#define BN_DEC_CONV   (10000000000000000000ULL)
<br/>
#define BN_DEC_FMT1   "%llu"
<br/>
#define BN_DEC_FMT2   "%019llu"
<br/>
#define BN_DEC_NUM   19
<br/>
#endif
<br/>
<br/>
#ifdef THIRTY_TWO_BIT
<br/>
#ifdef BN_LLONG
<br/>
# if defined(OPENSSL_SYS_WIN32) &amp;&amp; !defined(__GNUC__)
<br/>
#  define BN_ULLONG   unsigned __int64
<br/>
<br/>
# else
<br/>
#  define BN_ULLONG   unsigned long long
<br/>
# endif
<br/>
#endif
<br/>
#define BN_ULONG   unsigned long
<br/>
#define BN_LONG      long
<br/>
#define BN_BITS      64
<br/>
#define BN_BYTES   4
<br/>
#define BN_BITS2   32
<br/>
#define BN_BITS4   16
<br/>
#ifdef OPENSSL_SYS_WIN32
<br/>
/* VC++ doesn't like the LL suffix */
<br/>
#define BN_MASK      (0xffffffffffffffffL)
<br/>
#else
<br/>
#define BN_MASK      (0xffffffffffffffffLL)
<br/>
#endif
<br/>
#define BN_MASK2   (0xffffffffL)
<br/>
#define BN_MASK2l   (0xffff)
<br/>
#define BN_MASK2h1   (0xffff8000L)
<br/>
#define BN_MASK2h   (0xffff0000L)
<br/>
#define BN_TBIT      (0x80000000L)
<br/>
#define BN_DEC_CONV   (1000000000L)
<br/>
#define BN_DEC_FMT1   "%lu"
<br/>
#define BN_DEC_FMT2   "%09lu"
<br/>
#define BN_DEC_NUM   9
<br/>
#endif
<br/>
<br/>
#ifdef SIXTEEN_BIT
<br/>
#ifndef BN_DIV2W
<br/>
#define BN_DIV2W
<br/>
#endif
<br/>
#define BN_ULLONG   unsigned long
<br/>
#define BN_ULONG   unsigned short
<br/>
#define BN_LONG      short
<br/>
#define BN_BITS      32
<br/>
#define BN_BYTES   2
<br/>
#define BN_BITS2   16
<br/>
#define BN_BITS4   8
<br/>
#define BN_MASK      (0xffffffff)
<br/>
#define BN_MASK2   (0xffff)
<br/>
#define BN_MASK2l   (0xff)
<br/>
#define BN_MASK2h1   (0xff80)
<br/>
#define BN_MASK2h   (0xff00)
<br/>
#define BN_TBIT      (0x8000)
<br/>
#define BN_DEC_CONV   (100000)
<br/>
#define BN_DEC_FMT1   "%u"
<br/>
#define BN_DEC_FMT2   "%05u"
<br/>
#define BN_DEC_NUM   5
<br/>
#endif
<br/>
<br/>
#ifdef EIGHT_BIT
<br/>
#ifndef BN_DIV2W
<br/>
#define BN_DIV2W
<br/>
#endif
<br/>
#define BN_ULLONG   unsigned short
<br/>
#define BN_ULONG   unsigned char
<br/>
#define BN_LONG      char
<br/>
#define BN_BITS      16
<br/>
#define BN_BYTES   1
<br/>
#define BN_BITS2   8
<br/>
#define BN_BITS4   4
<br/>
#define BN_MASK      (0xffff)
<br/>
#define BN_MASK2   (0xff)
<br/>
#define BN_MASK2l   (0xf)
<br/>
#define BN_MASK2h1   (0xf8)
<br/>
#define BN_MASK2h   (0xf0)
<br/>
#define BN_TBIT      (0x80)
<br/>
#define BN_DEC_CONV   (100)
<br/>
#define BN_DEC_FMT1   "%u"
<br/>
#define BN_DEC_FMT2   "%02u"
<br/>
#define BN_DEC_NUM   2
<br/>
#endif
<br/>
<br/>
#define BN_DEFAULT_BITS   1280
<br/>
<br/>
#define BN_FLG_MALLOCED      0x01
<br/>
#define BN_FLG_STATIC_DATA   0x02
<br/>
#define BN_FLG_CONSTTIME   0x04 /* avoid leaking exponent information through timing,
<br/>
                                      * BN_mod_exp_mont() will call BN_mod_exp_mont_consttime,
<br/>
                                      * BN_div() will call BN_div_no_branch,
<br/>
                                      * BN_mod_inverse() will call BN_mod_inverse_no_branch.
<br/>
                                      */
<br/>
<br/>
#ifndef OPENSSL_NO_DEPRECATED
<br/>
#define BN_FLG_EXP_CONSTTIME BN_FLG_CONSTTIME /* deprecated name for the flag */
<br/>
                                      /* avoid leaking exponent information through timings
<br/>
                                      * (BN_mod_exp_mont() will call BN_mod_exp_mont_consttime) */
<br/>
#endif
<br/>
<br/>
#ifndef OPENSSL_NO_DEPRECATED
<br/>
#define BN_FLG_FREE      0x8000   /* used for debuging */
<br/>
#endif
<br/>
#define BN_set_flags(b,n)   ((b)-&gt;flags|=(n))
<br/>
#define BN_get_flags(b,n)   ((b)-&gt;flags&amp;(n))
<br/>
<br/>
/* get a clone of a BIGNUM with changed flags, for *temporary* use only
<br/>
 * (the two BIGNUMs cannot not be used in parallel!) */
<br/>
#define BN_with_flags(dest,b,n)  ((dest)-&gt;d=(b)-&gt;d, \
<br/>
                                  (dest)-&gt;top=(b)-&gt;top, \
<br/>
                                  (dest)-&gt;dmax=(b)-&gt;dmax, \
<br/>
                                  (dest)-&gt;neg=(b)-&gt;neg, \
<br/>
                                  (dest)-&gt;flags=(((dest)-&gt;flags &amp; BN_FLG_MALLOCED) \
<br/>
                                                 |  ((b)-&gt;flags &amp; ~BN_FLG_MALLOCED) \
<br/>
                                                 |  BN_FLG_STATIC_DATA \
<br/>
                                                 |  (n)))
<br/>
<br/>
/* Already declared in ossl_typ.h */
<br/>
#if 0
<br/>
typedef struct bignum_st BIGNUM;
<br/>
/* Used for temp variables (declaration hidden in bn_lcl.h) */
<br/>
typedef struct bignum_ctx BN_CTX;
<br/>
typedef struct bn_blinding_st BN_BLINDING;
<br/>
typedef struct bn_mont_ctx_st BN_MONT_CTX;
<br/>
typedef struct bn_recp_ctx_st BN_RECP_CTX;
<br/>
typedef struct bn_gencb_st BN_GENCB;
<br/>
#endif
<br/>
<br/>
struct bignum_st
<br/>
   {
<br/>
   BN_ULONG *d;   /* Pointer to an array of 'BN_BITS2' bit chunks. */ //&lt;----------First error here
<br/>
   int top;   /* Index of last used d +1. */
<br/>
   /* The next are internal book keeping for bn_expand. */
<br/>
   int dmax;   /* Size of the d array. */
<br/>
   int neg;   /* one if the number is negative */
<br/>
   int flags;
<br/>
   };
<br/>
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
