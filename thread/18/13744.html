<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DS Arm7 & Arm9 System Clock - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > DS Arm7 & Arm9 System Clock</h2>
<div id="posts">
<div class="post">
    <h4>#135348 - kiwi.ds - Sun Jul 22, 2007 4:59 pm</h4>
    <div class="postbody"><span class="postbody">I want to know the Arm7 system clock frequency.
<br/>
<br/>
Having searched some threads in this forum, such as this:
<br/>
<br/>
<a href="http://forum.gbadev.org/viewtopic.php?t=5983&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=system+clock" target="_blank">http://forum.gbadev.org/viewtopic.php?t=5983&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=system+clock</a>
<br/>
<br/>
It seems that both Arm9 and Arm7 system clocks share the same frequency (around 2^25 = 33.55MHz).
<br/>
<br/>
The DSTek said "
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Same as GBA, except F = 33.514 MHz (for ARM9 at least).</td> </tr></table><span class="postbody">
<br/>
<br/>
So is it true that the Arm7 system clock has a frequency of ~33.55MHz (Not in GBA mode)? Thanks.
<br/>
<br/>
EDIT: Does it also means that the Arm7's TimerX will be incremented everytime when its system clock is incremented (assume the prescalar is F/1)<br/>_________________<br/><a href="http://kiwi.ds.googlepages.com/sdat.html" target="_blank">http://kiwi.ds.googlepages.com/sdat.html</a>
<br/>
<a href="http://kiwi.ds.googlepages.com/nsbmd.html" target="_blank">http://kiwi.ds.googlepages.com/nsbmd.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135354 - Lick - Sun Jul 22, 2007 6:10 pm</h4>
    <div class="postbody"><span class="postbody">Clockspeeds: 33Mhz (ARM7) and 67Mhz (ARM9).
<br/>
Timerclocks: 33Mhz and 33Mhz.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135355 - kiwi.ds - Sun Jul 22, 2007 6:24 pm</h4>
    <div class="postbody"><span class="postbody">thanks Lick, your answer is very helpful<br/>_________________<br/><a href="http://kiwi.ds.googlepages.com/sdat.html" target="_blank">http://kiwi.ds.googlepages.com/sdat.html</a>
<br/>
<a href="http://kiwi.ds.googlepages.com/nsbmd.html" target="_blank">http://kiwi.ds.googlepages.com/nsbmd.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135432 - kiwi.ds - Mon Jul 23, 2007 9:14 am</h4>
    <div class="postbody"><span class="postbody">One more question
<br/>
Is there any source to tell the more precise value of the timer clock's frequency? (instead of just 33MHz, or 33.5MHz)<br/>_________________<br/><a href="http://kiwi.ds.googlepages.com/sdat.html" target="_blank">http://kiwi.ds.googlepages.com/sdat.html</a>
<br/>
<a href="http://kiwi.ds.googlepages.com/nsbmd.html" target="_blank">http://kiwi.ds.googlepages.com/nsbmd.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135433 - Lick - Mon Jul 23, 2007 9:18 am</h4>
    <div class="postbody"><span class="postbody">I just stick to 2^25 normally. But I believe it varies with the hardware.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135435 - masscat - Mon Jul 23, 2007 10:09 am</h4>
    <div class="postbody"><span class="postbody">According to <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#dsvarious" target="_blank">gbatek</a> the system clock frequency is 33.513982 MHz. If you use 2^25 then you will have an error of about 0.12% (~2mins if timing 24hours). Depending on what you are doing that may or may not be important.
<br/>
Using 0x2000000 (2^25) instead of 0x1FF61FE (33.514MHz) may make time calculations nicer.
<br/>
<br/>
The frequency of 33.513982 MHz will vary between DSs within the specification of the frequency source. The frequency of the source will also vary with temperature (again within the spec of the source). What these specs are I do not know but should not be anything to worry about.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#135436 - kiwi.ds - Mon Jul 23, 2007 10:30 am</h4>
    <div class="postbody"><span class="postbody">Thanks Lick &amp; masscat.
<br/>
<br/>
( I didn't notice the gbatek has DS Various section :P )<br/>_________________<br/><a href="http://kiwi.ds.googlepages.com/sdat.html" target="_blank">http://kiwi.ds.googlepages.com/sdat.html</a>
<br/>
<a href="http://kiwi.ds.googlepages.com/nsbmd.html" target="_blank">http://kiwi.ds.googlepages.com/nsbmd.html</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
