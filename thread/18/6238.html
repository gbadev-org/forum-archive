<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Strange problem with toolchain - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Strange problem with toolchain</h2>
<div id="posts">
<div class="post">
    <h4>#47331 - Sausage Boy - Thu Jul 07, 2005 6:01 pm</h4>
    <div class="postbody"><span class="postbody">I have a tricky problem with my toolchain. It compiles fine as long as it doesn't have to use anything from external .o's. The linker will fail with error messages like this:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
D:\ndsdev\projects\template&gt;make
<br/>
linking binary
<br/>
arm-elf-g++ -specs=ds_arm9.specs -g -mthumb -mthumb-interwork -mno-fpu -Wl,-Map, template.map bg.pal.o bg.raw.o bg.map.o main.o -L/d/ndsdev/Toolchain/libnds/lib -lnds9 -o /d/ndsdev/projects/template/template.elf
<br/>
d:/ndsdev/Toolchain/libnds/lib\libnds9.a(console.o): In function `consoleInitDefault':
<br/>
d:/ndsdev/Toolchain/libnds/source/arm9/console.c:143: undefined reference to `default_font_bin'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/d/ndsdev/projects/template/template.elf] Error 1
<br/>
make: *** [build] Error 2
<br/>
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
If I have resources like bg.raw, and try to access bg_raw, it gives me "undefnied reference to bg_raw", even though the .o sits properly in build.
<br/>
<br/>
It does this to everything I try to compile.
<br/>
Please, help me!<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47446 - smcclain - Fri Jul 08, 2005 11:31 pm</h4>
    <div class="postbody"><span class="postbody">I had the same problem this weekend... there was a bug in the base_rules bin2o macro... there is a fixed version released on the DevkitPro website - <a href="http://devkitpro.sourceforge.net/" target="_blank">http://devkitpro.sourceforge.net/</a> just scroll down to the july 3rd news item</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47448 - smcclain - Fri Jul 08, 2005 11:37 pm</h4>
    <div class="postbody"><span class="postbody">another thing... you might have to rebuild libnds once you get the base_rules updated... thats where the error is occurring</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50030 - TheMikaus - Thu Aug 04, 2005 6:29 pm</h4>
    <div class="postbody"><span class="postbody">I'm having the same problem with the  23rd July 2005 devkitARM release,  I copied the base_rules and that didn't fix it.  If I do a clean/make/install on libnds it works fine, but when I go to use it with the examples. I get this...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
c:/devkitPro/examples/nds/Graphics/2D/16bit_color_bmp/source/main.cpp:73: undefined reference to `drunkenlogo_bin'
<br/>
c:/devkitPro/libnds/lib\libnds9.a(console.o): In function `consoleInitDefault':
<br/>
c:/devkitPro/libnds/source/arm9/console.c:147: undefined reference to `default_font_bin'
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Is there an update or something that I'm missing?
<br/>
<br/>
--EDIT--
<br/>
I think it's the same problem with the bin2o thing because the bin files contain the directory as part of the file.  but when I update the base rules from the devkitpro site it didn't fix the problem :(
<br/>
<br/>
--Edit--
<br/>
new release made it all better</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
