<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>powering on 2d - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > powering on 2d</h2>
<div id="posts">
<div class="post">
    <h4>#160581 - vuurrobin - Fri Jul 18, 2008 1:05 am</h4>
    <div class="postbody"><span class="postbody">hello
<br/>
<br/>
at most tutorials I've seen that you need to turn on the 2d engines using "powerON(POWER_ALL_2D)". but at the tutorial of <a class="postlink" href="http://www.dev-scene.com/NDS/Tutorials_Day_4" target="_blank">devscene</a>, I don't see anything that turns it on. how is that possible?
<br/>
<br/>
I also saw at <a class="postlink" href="http://www.liranuna.com/nds-2d-tuts/" target="_blank">liranuna's tutorial</a> that he/she/they uses "REG_POWERCNT = POWER_ALL_2D" to turn it on. I'm guessing that this is just an older way of doing it, but is there any difference in it or is it the same as "powerON(POWER_ALL_2D)".
<br/>
<br/>
and lastly, I looked for "powerON()" in the <a class="postlink" href="http://libnds.devkitpro.org/index.html" target="_blank">libnds documentation</a>, but I couldn't find it (as wel as BIT()). does anybody knows how up to date that is?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160607 - M3d10n - Fri Jul 18, 2008 10:16 am</h4>
    <div class="postbody"><span class="postbody">If you look at the libnds headers and source, you'll see that powerON() just does that: it sets the flags you pass to REG_POWERCNT.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160610 - AntonioND - Fri Jul 18, 2008 11:26 am</h4>
    <div class="postbody"><span class="postbody">In last libnds (I think).
<br/>
<br/>
BIT():
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">C:\devkitPro\libnds\include\nds\jtypes.h</td> </tr></table><span class="postbody">
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">#define BIT(n) (1 &lt;&lt; (n))</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
powerON():
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">C:\devkitPro\libnds\include\nds\system.h</td> </tr></table><span class="postbody">
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">static inline
<br/>
void powerON(int on) { REG_POWERCNT |= on;}</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160634 - vuurrobin - Fri Jul 18, 2008 10:07 pm</h4>
    <div class="postbody"><span class="postbody">thanks, that does explain some things, but it doesn't explain why devscene's example programs works without powering on or why those commands aren't in the libnds documentation on <a href="http://libnds.devkitpro.org/index.html" target="_blank">http://libnds.devkitpro.org/index.html</a> (the entire jtypes.h file isn't in it, and it is only 5 months old).
<br/>
<br/>
I just checked with some examples from devkitarm/libnds, and I saw that some examples also doesn't power on the 2d hardware (but they do work). I just want to know when to turn it on and when not, and why de libnds documentation is incomplete.
<br/>
<br/>
and how do you get an grit rule file? some tutorials say that you should include it and include it for there pictures, but they don't say how to make one for your own pictures.
<br/>
<br/>
<br/>
sorry for all the (newb) questions (compared to the other topics), but these things just really puzzles me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160639 - eKid - Sat Jul 19, 2008 1:23 am</h4>
    <div class="postbody"><span class="postbody">Sometimes programs may get away without powering on the 2D hardware because it is usually already powered up. But you should power it on yourself anyway without assuming anything is initialized to what you want.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160640 - Polaris - Sat Jul 19, 2008 1:25 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://www.coranac.com/man/grit/html/index.htm" target="_blank">http://www.coranac.com/man/grit/html/index.htm</a>
<br/>
<br/>
All the info on how to handle grit is there, it's not that long either. Just make sure to start reading from the begining :P
<br/>
<br/>
Now for the quick answer. A grit rule file is just a text file in which you change the extension to .grit. It should contain all the options you want grit to use on a given file.
<br/>
<br/>
If i recall right there are two ways of using them. One is having a rule file specifically for a file, in which case it should be named after the file it is being used on. The other is having a rule file for all the images in a directory.
<br/>
<br/>
But ignore my rambling, just go read the link above, it explains everything in great detail.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160672 - vuurrobin - Sat Jul 19, 2008 11:44 pm</h4>
    <div class="postbody"><span class="postbody">thank you very much, that ansers all my questions (I have so far) :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160694 - Holland - Sun Jul 20, 2008 3:57 pm</h4>
    <div class="postbody"><span class="postbody">someone was so kind to link this to me when I was looking.  I guess it's time to pay it forward
<br/>
<br/>
<a href="http://nocash.emubase.de/gbatek.htm" target="_blank">http://nocash.emubase.de/gbatek.htm</a>
<br/>
<br/>
if you know even a little bit about bitwise operations this doc will be invaluable to you.  it takes a little bit of time and effort but you'll just have to look through tutorial code, see what register they are changing..then dig up that register in gbatek.
<br/>
<br/>
I love the ndslib a lot, but understanding the hardware will result in much better code than just relying on the library itself. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160698 - silent_code - Sun Jul 20, 2008 4:43 pm</h4>
    <div class="postbody"><span class="postbody">@ Holland: Correction! It's libnds. ;^)
<br/>
(ndslib is another, older and discontinued library.)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160721 - Holland - Mon Jul 21, 2008 3:01 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">@ Holland: Correction! It's libnds. ;^)
<br/>
(ndslib is another, older and discontinued library.)</td> </tr></table><span class="postbody">
<br/>
haha...i stand corrected!  i love <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=14788&amp;" target="_blank">dovoto's VS wizard</a>.  Haven't had to type in the #includes since I got it.  :c)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
