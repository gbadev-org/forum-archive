<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>newb: Sprites and BGs - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > newb: Sprites and BGs</h2>
<div id="posts">
<div class="post">
    <h4>#106368 - soivex - Wed Oct 18, 2006 12:16 pm</h4>
    <div class="postbody"><span class="postbody">Hi.
<br/>
My problem is that i need to display 64X64 (256 color mode) sprites. A lot of them. But i can only dislay 8 of them (i'm right?).
<br/>
I'm in mode:
<br/>
videoSetModeSub(  MODE_5_2D | DISPLAY_SPR_ACTIVE | DISPLAY_BG3_ACTIVE | DISPLAY_SPR_1D );
<br/>
and banks are: 
<br/>
vramSetMainBanks( VRAM_A_MAIN_BG, VRAM_B_MAIN_BG_0x6020000, VRAM_C_SUB_BG_0x6200000 , VRAM_D_SUB_SPRITE );
<br/>
<br/>
So, can i use vramSetBankI(VRAM_I_SUB_SPRITE);
<br/>
to display additional sprites ?
<br/>
So i have found no way to access to this additional memory.
<br/>
If SPRITE_GFX_SUB is used for VRAM_D_SUB_SPRITE, so what memory address is used for VRAM_I_SUB_SPRITE ?
<br/>
<br/>
And it is possible: 
<br/>
<br/>
MainMode: 5_2D | BG_3 | BG_2
<br/>
SubMode   5_2D | BG_3 | BG_2 | SPRITES ?
<br/>
<br/>
In this case what banks should i use?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#106383 - PypeBros - Wed Oct 18, 2006 4:04 pm</h4>
    <div class="postbody"><span class="postbody">afaik, you will not extend how much sprite memory you map just by mapping SUB_SPRITES several times. That works with MAIN_BG because you can map either MAIN_BG_600000 or MAIN_BG_620000. there's no more magic there.
<br/>
<br/>
btw, you're allowed 128K of sprites, right ? and 64x64 sprites takes what ... 4K of memory. That still means 32 sprites allowed (okay, not much impressive for a shoot-m-up, but better than 8, isn't it?)
<br/>
<br/>
Have you considered the option of having several OAMs pointing at the same tiles data or rewriting tiles data during the animation (rather than just changing the OAM tile number to a new frame)?<br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#106533 - soivex - Fri Oct 20, 2006 8:57 am</h4>
    <div class="postbody"><span class="postbody">Thanks for replay but...
<br/>
<br/>
64x64 sprites takes 4k memory it's ok, but it takes 128 tiles each.
<br/>
And there is only 1024 tiles that i can choose from for the attribute[2].
<br/>
<br/>
So i can display only 1024/128=8 sprites at time ? I need about 10 at time, and they all different.
<br/>
<br/>
Or i'm misunderstanding something ?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#106536 - PypeBros - Fri Oct 20, 2006 9:33 am</h4>
    <div class="postbody"><span class="postbody">there's a register that can be used to multiply the tile index given in the OAM attributes. That'd mean you can use more than 128 tiles if you're ready to accept you can only use sprites with tileno=0, tileno=4, tileno=8 ...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
/*  DISPLAY_SPR_1D_SIZE_32: fine for 16-colours if you need tile-granularity
<br/>
 *  DISPLAY_SPR_1D_SIZE_64: tile-granularity for 256-colours sprites
<br/>
 *  DISPLAY_SPR_1D_SIZE_128: vram = index*2. 'odd' tiles cannot be used alone,
<br/>
 *    but that lets us use the whole 128KB of sprites tiles memory on engine B
<br/>
 *  DISPLAY_SPR_1D_SIZE_256: vram = index*4. TeH only way to use full 256 VRAM
<br/>
 *    for sprites on engine A.
<br/>
 */
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
