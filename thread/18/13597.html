<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Reading user name and color from firmware - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Reading user name and color from firmware</h2>
<div id="posts">
<div class="post">
    <h4>#133477 - melw - Fri Jul 06, 2007 11:21 am</h4>
    <div class="postbody"><span class="postbody">I did a brief search on both DS Tek and on these forums but couldn't find an answer right away, so here goes: How to read user settings stored on DS? I noticed at least Omalone is using the default user name stored in firmware in his Puzzlemaniak and this information could be useful for other homebrew games as well...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133484 - mml - Fri Jul 06, 2007 12:50 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://nocash.emubase.de/gbatek.htm#dsfirmwareusersettings" target="_blank">http://nocash.emubase.de/gbatek.htm#dsfirmwareusersettings</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133486 - Lick - Fri Jul 06, 2007 1:29 pm</h4>
    <div class="postbody"><span class="postbody">Use libnds' PersonalData, which is a structure that points to the "RAM copy" of the current User Settings. This copy was created by the BIOS.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133534 - tepples - Fri Jul 06, 2007 11:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lick wrote:</b></span></td> </tr> <tr> <td class="quote">Use libnds' PersonalData, which is a structure that points to the "RAM copy" of the current User Settings. This copy was created by the BIOS.</td> </tr></table><span class="postbody">
<br/>
Unless you want to make your program resilient to less-than-perfect .nds loaders, such as those built into some flash card adapters.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133549 - chuckstudios - Sat Jul 07, 2007 1:21 am</h4>
    <div class="postbody"><span class="postbody">*cough* EZ4 *cough*
<br/>
<br/>
It makes your name show up as Windirt &gt;_&gt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133557 - Lick - Sat Jul 07, 2007 1:31 am</h4>
    <div class="postbody"><span class="postbody">Well yeah then you'd have to tell the ARM7 to read the User Settings from the Flash memory, which then adds the need for inter-processor communication to your project. 
<br/>
Which flash card adapters "sexual intercourse" up the RAM copy?
<br/>
<br/>
edit. Always those EZ POC's. If only the world only knew Supercards and R4s.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133568 - wintermute - Sat Jul 07, 2007 3:46 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>chuckstudios wrote:</b></span></td> </tr> <tr> <td class="quote">*cough* EZ4 *cough*
<br/>
<br/>
It makes your name show up as Windirt &gt;_&gt;</td> </tr></table><span class="postbody">
<br/>
<br/>
Really?
<br/>
<br/>
Wow.
<br/>
<br/>
I just don't know what to say about that.
<br/>
<br/>
In other news.
<br/>
<br/>
Forthcoming changes will have the default arm7 core read user settings from firmware and the arm9 startup code will reset various registers and clear the VRAM. With a bit of luck that should increase compatibility with various cards.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133922 - melw - Mon Jul 09, 2007 8:43 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for all the advice. In the end I just added readUserSettings() to ARM7 main and now I can access everything I need through the PersonalData struct even on ARM9 side.
<br/>
<br/>
It's amazing how an user can get happy simply by seeing his/her name on the screen. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133948 - HyperHacker - Mon Jul 09, 2007 10:10 pm</h4>
    <div class="postbody"><span class="postbody">What happens if your name uses Japanese or symbols? :-p<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134020 - tepples - Tue Jul 10, 2007 3:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote">What happens if your name uses Japanese or symbols? :-p</td> </tr></table><span class="postbody">
<br/>
Probably the same thing that happens if you paste kana into a Notepad document when the font isn't set to something like MS PGothic that supports Japanese: you get a pile of boxes, and no そうこばん (sōkoban) will move them out of your way.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
