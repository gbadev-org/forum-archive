<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>gluLookAt problem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > gluLookAt problem</h2>
<div id="posts">
<div class="post">
    <h4>#148835 - iainprice - Thu Jan 10, 2008 11:08 pm</h4>
    <div class="postbody"><span class="postbody">I have a game loop. I have the following code:
<br/>
<br/>
[code]
<br/>
glMatrixMode(GL_PROJECTION);
<br/>
glLoadIdentity();
<br/>
gluPerspective(35, 256.0 / 192.0, 0.1, 40);
<br/>
gluLookAt(0.0, 0.05, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);
<br/>
glMatrixMode(GL_MODELVIEW);
<br/>
//model stuff here
<br/>
[/code]
<br/>
<br/>
but it messes up, moving the camera......
<br/>
<br/>
am I setting the mode correctly?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148837 - DiscoStew - Thu Jan 10, 2008 11:39 pm</h4>
    <div class="postbody"><span class="postbody">Not being at my own computer makes this hard for me to check, but...
<br/>
<br/>
Do you mean moving the camera to a position you don't want, or continually moving the camera each frame? Dunno about the latter, but for the former, your gluLookAt call is showing that you are moving the camera slightly positive in the Y direction, and a fulll unit in the Z direction.
<br/>
<br/>
Later on today, I'll be at my computer, so perhaps I can look into it further. Until then, you may need to offer a bit more information, as well as some more code. Not saying to expose your project, no way, but having only a little bit of code to go by makes it hard for us to help if the problem is deeper than shown.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148845 - zeruda - Fri Jan 11, 2008 4:11 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>iainprice wrote:</b></span></td> </tr> <tr> <td class="quote">I have a game loop. I have the following code:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glMatrixMode(GL_PROJECTION);
<br/>
glLoadIdentity();
<br/>
gluPerspective(35, 256.0 / 192.0, 0.1, 40);
<br/>
gluLookAt(0.0, 0.05, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);
<br/>
glMatrixMode(GL_MODELVIEW);
<br/>
//model stuff here
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
but it messes up, moving the camera......
<br/>
<br/>
am I setting the mode correctly?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Your glulookat should come after your setting the matrix mode to GL_MODELVIEW</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148875 - iainprice - Fri Jan 11, 2008 5:06 pm</h4>
    <div class="postbody"><span class="postbody">Does 
<br/>
<br/>
gluLookAt(0.0, 0.05, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0); 
<br/>
<br/>
mean that it moves the camera by 0.05 and 1.0 each time it is called?
<br/>
<br/>
or does it put it to the co-ordinates 0, 0.05, 1.0?
<br/>
<br/>
I moved the model view to before but it still seems to move the camera even time it is called in the loop. I thought I needed the projection matrix as I was dealing with the camera......</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148891 - Rajveer - Fri Jan 11, 2008 7:04 pm</h4>
    <div class="postbody"><span class="postbody">It doesn't offset those coordinates every frame, it sets and keeps it to whatever coords you set it to. So in your case it will keep it at (0, 0.5, 1). When you moved glMatrixMode(MODELVIEW) to before, did you load the identity matrix before gluLookAt()?
<br/>
<br/>
The projection matrix deals with projecting the image onto the screen, the modelview matrix is a combination of the older matrices for model (object manipulation) and view (camera movement). They realised that moving the camera and moving models are the same thing, so these matrices were combined to a single modelview matrix which deals with moving both models and the camera.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148903 - iainprice - Fri Jan 11, 2008 8:08 pm</h4>
    <div class="postbody"><span class="postbody">Does this mean that my moving the objects is also moving the camera.......
<br/>
<br/>
before I move my objects I push the matrix and at the end i pop it..... I think this movement must be effecting the camera.... 
<br/>
<br/>
<br/>
hmmm.....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148909 - M3d10n - Fri Jan 11, 2008 9:08 pm</h4>
    <div class="postbody"><span class="postbody">First calculate your camera position (using variables) and then pass that to gluLookAt() as the camera position.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
