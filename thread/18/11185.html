<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>(DSWifi) Wifi lib 0.3b released by sgstair! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > (DSWifi) Wifi lib 0.3b released by sgstair!</h2>
<div id="posts">
<div class="post">
    <h4>#103001 - Lick - Mon Sep 18, 2006 4:16 pm</h4>
    <div class="postbody"><span class="postbody">I'm surprised no one posted this yet. I myself just read the news on <a class="postlink" href="http://planet.dev-scene.com/" target="_blank">Planet Dev-Scene</a> and immediately implemented it in DSLiveWeather.
<br/>
<br/>
<a class="postlink" href="http://blog.akkit.org/2006/09/16/wifi-lib-03b-released/" target="_blank">Direct link to Stephens blog</a>
<br/>
<br/>
There is some bad news attached though. Stephen has announced that he will put DSWifi on hold, till he has time to do a rewrite. Personally, I'm a bit disappointed but I totally understand how braindead one can become, working on the same project for a long time. I hope he will really get back on it, not abondoning it. :(<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103005 - TJ - Mon Sep 18, 2006 5:16 pm</h4>
    <div class="postbody"><span class="postbody">Doesn't seem to fix the problem I am having with it, sadly.
<br/>
<br/>
Shame he is putting it on hold too.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103018 - ttursas - Mon Sep 18, 2006 7:48 pm</h4>
    <div class="postbody"><span class="postbody">I've been battling with dswifilib for quite some time now, and finally I got it working! :)
<br/>
Made wHeapAllocInit() to use my own static buffer, and disabled all dynamic memory
<br/>
allocations from sgIP_Config.h. So far I've been able to send lots of UDP packets to
<br/>
my PC server without losing them all or getting my DS game freezing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103107 - HtheB - Tue Sep 19, 2006 7:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lick wrote:</b></span></td> </tr> <tr> <td class="quote">I'm surprised no one posted this yet. I myself just read the news on <a class="postlink" href="http://planet.dev-scene.com/" target="_blank">Planet Dev-Scene</a> and immediately implemented it in DSLiveWeather.
<br/>
<br/>
<a class="postlink" href="http://blog.akkit.org/2006/09/16/wifi-lib-03b-released/" target="_blank">Direct link to Stephens blog</a>
<br/>
<br/>
There is some bad news attached though. Stephen has announced that he will put DSWifi on hold, till he has time to do a rewrite. Personally, I'm a bit disappointed but I totally understand how braindead one can become, working on the same project for a long time. I hope he will really get back on it, not abondoning it. :(</td> </tr></table><span class="postbody">its been posted on nintendo-ds.dcemu.co.uk   so... :) old news :D :P rofl :P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#103202 - ttursas - Tue Sep 19, 2006 10:42 pm</h4>
    <div class="postbody"><span class="postbody">... after another long and nice debug session. :)
<br/>
<br/>
* If you have a 100 byte packet in the in queue and issue recvfrom() with a say buffer of
<br/>
  80 bytes, you won't get anything. A buffer of 100+ bytes would give you the packet.
<br/>
  So use a big buffer and poll often.
<br/>
* MSG_DONTWAIT doesn't work (but it's easy to add it into recvfrom())
<br/>
* If you have a NATting router like this D-Link DI-524 that I have, it will change the ports
<br/>
  on the fly, so let the DS make the connection to your PC server, and from the connection
<br/>
  itself get the port that the DS seems to be using, and use that. DI-524 also sets the
<br/>
  IP in the packets to 0, for some reason...
<br/>
* It's actually pretty interesting to add your own debugPrintS32() calls into the depths
<br/>
  of dswifilib. :) I learned a lot from that...
<br/>
<br/>
Anyway, some of these things might be trivial for some experienced netguys, but I'm not
<br/>
one, and hope these notes help someone.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
