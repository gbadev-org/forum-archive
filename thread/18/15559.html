<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Powering up on RTC irq? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Powering up on RTC irq?</h2>
<div id="posts">
<div class="post">
    <h4>#157134 - Maxxie - Mon May 19, 2008 6:41 pm</h4>
    <div class="postbody"><span class="postbody">Heya,
<br/>
<br/>
We know there is that rtc installed in the DS, it is active even when the DS is turned off, and can trigger an IRQ at a specific time.
<br/>
<br/>
My question: can the IRQ wake up (as in enabling power again) the DS?
<br/>
<br/>
I know how to put the DS in power saving mode (arm7 halt swi, cp15 halt on arm9 and perpherival unpowering) so that any enabled IRQ can awake it from there, but i'd really like to completely shut it off (via spi controlled power register) and have it go live with the health warning &amp; such when the alarm time approaches.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157142 - simonjhall - Mon May 19, 2008 7:40 pm</h4>
    <div class="postbody"><span class="postbody">I doubt it. Otherwise wouldn't Nintendo have done this for the alarm clock program that comes on the DS?
<br/>
(I was never too sure with that alarm clock as to whether you could turn it off or not...I wonder how many people turned it off and didn't wake when they should have!)<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157149 - Maxxie - Mon May 19, 2008 8:03 pm</h4>
    <div class="postbody"><span class="postbody">Yes, that is what i tested today and was disappointed by it. It is such a waste.
<br/>
<br/>
I think i have seen a picture of the mainboard with the int line of the rtc marked. It would have been down to a single transistor to short the power button on the interrupt.
<br/>
<br/>
Too bad.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157198 - HyperHacker - Tue May 20, 2008 8:40 am</h4>
    <div class="postbody"><span class="postbody">Well, anyone feel like doing such a mod and seeing how well it works?<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157227 - Cydrak - Tue May 20, 2008 7:10 pm</h4>
    <div class="postbody"><span class="postbody">This is a nice idea, though I see a couple issues, if you mean to blindly fake the button press.
<br/>
<br/>
First, it'd break existing alarms. The firmware leaves the power on, so poking the switch then turns the DS off, exactly the opposite of what was intended.
<br/>
<br/>
But worse, there are periodic settings. Imagine if, by malice or mistake, the chip was left cycling 2Hz... (the NES crowd should be groaning any second now :-)
<br/>
<br/>
I think you'd just need a bit to allow the power toggle, which is cleared afterward (and by a real power cycle, as well). That way it isn't triggered unaware, and avoids the undesirable 80's flashbacks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157268 - sverx - Wed May 21, 2008 2:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">I know how to put the DS in power saving mode (arm7 halt swi, cp15 halt on arm9 and perpherival unpowering)</td> </tr></table><span class="postbody">
<br/>
<br/>
going on with that topic... I'm trying to understand how to halt arm9... I've read about cp15 on GBATek but I don't know how I could code that request. Any example?
<br/>
<br/>
Thanks :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157270 - Maxxie - Wed May 21, 2008 3:24 pm</h4>
    <div class="postbody"><span class="postbody">The easy way is to call <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#bioshaltfunctions" target="_blank">swiWaitForIRQ - (SWI 0x06)</a>
<br/>
<br/>
It will call the cp15 to enter power saving mode for the arm9.
<br/>
<br/>
You have to make sure that IME is enabled, and the IRQ you wish to break the sleep is set up.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157271 - sverx - Wed May 21, 2008 3:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">The easy way is to call <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#bioshaltfunctions" target="_blank">swiWaitForIRQ - (SWI 0x06)</a>
<br/>
<br/>
It will call the cp15 to enter power saving mode for the arm9.
<br/>
<br/>
You have to make sure that IME is enabled, and the IRQ you wish to break the sleep is set up.</td> </tr></table><span class="postbody">
<br/>
<br/>
You were so fast that I didn't had time to come back here and say "Wait, maybe I've found... there's that swiWaitForIRQ()..."
<br/>
<br/>
Thanks! :)
<br/>
<br/>
Ciao :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157272 - sverx - Wed May 21, 2008 3:38 pm</h4>
    <div class="postbody"><span class="postbody">one last thing... besides ARM7, ARM9, sound amplifier, LCDs (wifi already off)... what else can I turn off to save as much battery as possible?
<br/>
<br/>
Thanks :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157273 - eKid - Wed May 21, 2008 3:42 pm</h4>
    <div class="postbody"><span class="postbody">There's also another SWI to wait for certain interrupts, swiIntrWait (0x04). It lets you specify a bitmask for certain interrupts to wait for.... and one other parameter that means 'wait for a new interrupt', or 'dont wait if one already happened'
<br/>
And the one that is used most often is swiWaitForVBlank (0x05) which waits for the vblank irq.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157275 - eKid - Wed May 21, 2008 3:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">one last thing... besides ARM7, ARM9, sound amplifier, LCDs (wifi already off)... what else can I turn off to save as much battery as possible?
<br/>
<br/>
Thanks :)</td> </tr></table><span class="postbody">
<br/>
Did you catch REG_POWCNT1? (controlled by libnds powerON, powerOFF) It can toggle power to the 2d and 3d graphic engines</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157276 - Maxxie - Wed May 21, 2008 3:48 pm</h4>
    <div class="postbody"><span class="postbody">Everything else in the power control registers:
<br/>
The graphic cores A, B 3d renderer and geometry and the speakers.
<br/>
<br/>
If you can backup the mainram on disk or can rebuild the data (i.e. by having a save/load routine in shared ram or vram), you can even shut down main ram ( <a href="http://nocash.emubase.de/gbatek.htm#dsmainmemorycontrol" target="_blank">http://nocash.emubase.de/gbatek.htm#dsmainmemorycontrol</a> )</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157277 - Maxxie - Wed May 21, 2008 4:40 pm</h4>
    <div class="postbody"><span class="postbody">For the ST Type of memory deep power down would be
<br/>
<br/>
  LDRH R0,[27FFFFEh]
<br/>
  STRH R0,[27FFFFEh]
<br/>
  STRH R0,[27FFFFEh]
<br/>
  STRH 0000h,[27FFFFEh]
<br/>
  STRH 0003h,[27FFFFEh]
<br/>
  LDRH R0,[27FFFFEh]
<br/>
<br/>
( <a href="http://www.st.com/stonline/products/literature/od/9866/m69aw048b.pdf" target="_blank">http://www.st.com/stonline/products/literature/od/9866/m69aw048b.pdf</a> )</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157390 - sverx - Fri May 23, 2008 11:44 am</h4>
    <div class="postbody"><span class="postbody">Thanks everybody :) I think I won't turn off the memory but everything else of course I will...
<br/>
<br/>
Ciao! :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157642 - sverx - Tue May 27, 2008 4:52 pm</h4>
    <div class="postbody"><span class="postbody">I'm having problems :| ...
<br/>
<br/>
I have IRQ_VBLANK,IRQ_IPC_SYNC and IRQ_LID active on ARM9, and I want to put the processor to sleep. It seems to me it goes to sleep, but in both cases: if I do like this
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">irqDisable(IRQ_VBLANK);
<br/>
swiWaitForIRQ();
<br/>
irqEnable(IRQ_VBLANK);</td> </tr></table><span class="postbody">
<br/>
_or_ if I do like this
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">swiIntrWait (1,IRQ_IPC_SYNC|IRQ_LID)</td> </tr></table><span class="postbody">
<br/>
then the ARM9 doesn't wake up when opening the lid :|
<br/>
<br/>
Any ideas?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157647 - Maxxie - Tue May 27, 2008 5:24 pm</h4>
    <div class="postbody"><span class="postbody">The LID-irq is arm7 only 
<br/>
<a href="http://nocash.emubase.de/gbatek.htm#dsinterrupts" target="_blank">http://nocash.emubase.de/gbatek.htm#dsinterrupts</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157649 - sverx - Tue May 27, 2008 5:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">The LID-irq is arm7 only 
<br/>
<a href="http://nocash.emubase.de/gbatek.htm#dsinterrupts" target="_blank">http://nocash.emubase.de/gbatek.htm#dsinterrupts</a></td> </tr></table><span class="postbody">
<br/>
<br/>
yes, you're right, sorry. I've been mixing up...
<br/>
<br/>
anyway on ARM7 I get the LID IRQ and I signal the ARM9 thru IPC that the DS has been unfolded. So I could use
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">swiIntrWait (1,IRQ_IPC_SYNC)</td> </tr></table><span class="postbody">
<br/>
<br/>
but it doesn't wake up :|</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157655 - Maxxie - Tue May 27, 2008 5:57 pm</h4>
    <div class="postbody"><span class="postbody">Are you sure, that the ipc sync irq us enabled on the arm9 and in the arm9 ipc sync control register?
<br/>
<br/>
The following (irq's are set up beforehand) works for me like a charm
<br/>
<br/>
arm9:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
if (keysDown() &amp; KEY_LID)
<br/>
{
<br/>
   u32 oldIE = REG_IE ;
<br/>
   REG_IE = IRQ_IPC_SYNC ;
<br/>
   engine-&gt;Powersave(true) ;
<br/>
   powerOFF(0x2E) ;
<br/>
   swiWaitForIRQ() ;
<br/>
   powerON(0x22) ;
<br/>
   REG_IE = oldIE ;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
with Powersave:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void ENGINE::Powersave(bool en)
<br/>
{
<br/>
   if (en)
<br/>
   {
<br/>
      if (keysHeld() &amp; KEY_LID)
<br/>
      {
<br/>
         ipCom-&gt;SendCommand(CMD_PowersaveLid) ;
<br/>
      } else
<br/>
      {
<br/>
         ipCom-&gt;SendCommand(CMD_Powersave) ;
<br/>
      }
<br/>
   } else
<br/>
   {
<br/>
      // signal the arm7 to awake again
<br/>
      REG_IPC_SYNC |= IPC_SYNC_IRQ_REQUEST ;
<br/>
   }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
arm7:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void IPC_CMD_Powersave(u32 data, IPCOM *com)
<br/>
{
<br/>
   powerOFF(POWER_SOUND | POWER_WIFI) ;
<br/>
   writePowerManagement(0,0x10) ;       // slow blinking power led
<br/>
   writePowerManagement(1,0) ;       // green power led
<br/>
   
<br/>
   irqSet(IRQ_LID,&amp;LidIRQ) ;
<br/>
   
<br/>
   u32 oldIE = REG_IE ;
<br/>
   REG_IE = IRQ_IPC_SYNC | ((data &amp; 1)?IRQ_LID:0) ;
<br/>
   
<br/>
   /* we will wait for either the lid beeing open again or signal from arm9 */
<br/>
   swiSleep() ;
<br/>
   
<br/>
   REG_IE = oldIE ;
<br/>
   
<br/>
   writePowerManagement(0,0x0F) ;      // enable backlight, fulltime led and sound amp
<br/>
   powerON(POWER_SOUND | POWER_WIFI) ;
<br/>
   
<br/>
   /* enable arm9 again if it was asleep itself */
<br/>
   REG_IPC_SYNC |= IPC_SYNC_IRQ_REQUEST ;
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157658 - sverx - Tue May 27, 2008 6:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">Are you sure, that the ipc sync irq us enabled on the arm9 and in the arm9 ipc sync control register?</td> </tr></table><span class="postbody">
<br/>
<br/>
I did that:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">FIFOInit();
<br/>
irqEnable(IRQ_IPC_SYNC);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
the FIFOInit() is that:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">//  turn on/clear send FIFO
<br/>
void FIFOInit(void) {
<br/>
  REG_IPC_FIFO_CR = (IPC_FIFO_ENABLE | IPC_FIFO_SEND_CLEAR);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
any ideas? Anyway in the while I'll check your code... thanks! :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157660 - Maxxie - Tue May 27, 2008 6:14 pm</h4>
    <div class="postbody"><span class="postbody">I think you forgot 	REG_IPC_SYNC |= IPC_SYNC_IRQ_ENABLE ;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157662 - sverx - Tue May 27, 2008 6:29 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">I think you forgot 	REG_IPC_SYNC |= IPC_SYNC_IRQ_ENABLE ;</td> </tr></table><span class="postbody">
<br/>
<br/>
wrong, wrong, wrong... it's not that I forgot, it's that I <span style="font-weight: bold">never</span> knew about that REG_IPC_SYNC before!!!
<br/>
<br/>
Thanks <span style="text-decoration: underline">a lot</span>... it doesn't work anyway but I'll be checking my code better once more now...
<br/>
<br/>
See you :)
<br/>
<br/>
Ciao :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157739 - sverx - Wed May 28, 2008 10:23 am</h4>
    <div class="postbody"><span class="postbody">Something's still missing...
<br/>
<br/>
Now I changed FIFOInit() so that I set REG_IPC_SYNC (and also activating IPC_FIFO_RECV_IRQ on REG_IPC_FIFO_CR that of course was forgotten...)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void FIFOInit(void) {
<br/>
  REG_IPC_SYNC = (IPC_SYNC_IRQ_ENABLE | IPC_SYNC_IRQ_REQUEST);
<br/>
  REG_IPC_FIFO_CR = (IPC_FIFO_ENABLE | IPC_FIFO_SEND_CLEAR | IPC_FIFO_RECV_IRQ);
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
and then, in the ARM9, when it's time to sleep I do that:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">u32 oldIE = REG_IE; 
<br/>
REG_IE = IRQ_IPC_SYNC; 
<br/>
swiWaitForIRQ(); 
<br/>
REG_IE = oldIE;</td> </tr></table><span class="postbody">
<br/>
<br/>
unfortunaly it never gets waken up. But on the ARM7 I receive the IRQ_LID and I send the ARM9 -thru IPC- the signal... I'm sure that part works because if I remove the line
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">swiWaitForIRQ(); </td> </tr></table><span class="postbody">
<br/>
it works, it tells me 'I was sleeping...', than means the signal from ARM7 has been received.
<br/>
<br/>
Going to study a bit deeper... :| Any help is, obviously, welcome ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157741 - silent_code - Wed May 28, 2008 10:54 am</h4>
    <div class="postbody"><span class="postbody">just a little side note: make sure you don't play any audio for about 15ms after powering up the sound hardware. :^)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157744 - Maxxie - Wed May 28, 2008 11:58 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">just a little side note: make sure you don't play any audio for about 15ms after powering up the sound hardware. :^)</td> </tr></table><span class="postbody">
<br/>
<br/>
Actually i am not having any problems with this at all.
<br/>
I'm setting power off to amp and sound hardware _while_ it is still playing a ringbuffer (in Repeat mode), and it continues to play it when returning. And the remaining sync between feeder and sound playing states that there is no long (10+ms) delay there.
<br/>
<br/>
I can however imagine, that for a proper state / initiation you shouldn't access the sound registers within the timeframe, but playing sound is working fine (as well on NDSL as on "phat" DS)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157751 - Cydrak - Wed May 28, 2008 8:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void FIFOInit(void) {
<br/>
  REG_IPC_SYNC = (IPC_SYNC_IRQ_ENABLE | IPC_SYNC_IRQ_REQUEST);
<br/>
  REG_IPC_FIFO_CR = (IPC_FIFO_ENABLE | IPC_FIFO_SEND_CLEAR | IPC_FIFO_RECV_IRQ);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
Do you have IPC_SYNC_IRQ_ENABLE on the ARM9? IPC stuff is two-way, so the receiver needs them enabled. If swiWaitForIRQ() gets stuck there, it sounds like either IME = 0, or, for whatever reason, there's no sync pending...
<br/>
<br/>
Poking IPC_SYNC_IRQ_REQUEST "sends" the IRQ; FIFOInit() doesn't need it, unless you meant to. Not sure if this would confuse things.
<br/>
<br/>
Maxxie: Yep. Both streams and samples seem to recover okay. When I had *sequenced* music going, sleep would cause the occasional note to get stuck. Which implies the registers were missing i/o. A small delay upon waking, however, works fine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157756 - HyperHacker - Wed May 28, 2008 11:48 pm</h4>
    <div class="postbody"><span class="postbody">About the earlier discussion of wiring the interrupt to the power switch, wouldn't that only be able to turn it on, since you have to hold the switch to turn it off? A quick jolt from the interrupt line shouldn't last long enough to shut down.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157760 - Maxxie - Thu May 29, 2008 12:02 am</h4>
    <div class="postbody"><span class="postbody">Well this wouldn't be a real problem.
<br/>
As Cydrak pointed out we'd need additional logic to remove the shut-down an an already active and running DS. And adding a rc-combination to extend the signal length isn't too complex ;)
<br/>
<br/>
Main problem then would still be that existing original games as well as homebrew are probably leaving the IRQ enabled on shutdown of the DS (which can happen at any time by the user) so we'd have a lot of sideeffects.
<br/>
<br/>
It should have been considered in the design phase and it probably was but was dismissed as it could be used as another workaround for the write once-registers (POSTFLAG, Encryption)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
