<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>A pre compiled .nds, how does one open it up? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > A pre compiled .nds, how does one open it up?</h2>
<div id="posts">
<div class="post">
    <h4>#80678 - Scorpei - Mon Apr 24, 2006 8:21 pm</h4>
    <div class="postbody"><span class="postbody">I was wondering, let's say I've got a precompiled (duh!) .nds file (no, no increption, it's homebrew), how can I open it up so I can see what it does (how can I see the code)?
<br/>
Also, will it only come out as assembler, or as nice, yet strangely placed, C code?
<br/>
Thanks!
<br/>
<br/>
*I coudn't find this via the search, sorry if I missed it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80683 - tepples - Mon Apr 24, 2006 8:27 pm</h4>
    <div class="postbody"><span class="postbody">Disassembling a .nds file involves splitting it into arm9.bin and arm7.bin and then running objdump. The output is in assembly language, with no meaningful labels except those introduced by a postprocessor that recognizes addresses of hardware registers.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81637 - Scorpei - Sun Apr 30, 2006 8:07 pm</h4>
    <div class="postbody"><span class="postbody">Doesn't want to work.
<br/>
I've gotten the binaries, but now I can't get the objdump to give me any output.
<br/>
<br/>
I try objdump -b binary -m arm7tdmi -D file_name
<br/>
But I don't seem to have the right arm enviroment or something.
<br/>
How can I get it? Because I have never worked with this tool.
<br/>
Is it possible to use an alternative (something under windows, then I won't have to switch Os every time :s)?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81649 - loading - Sun Apr 30, 2006 9:55 pm</h4>
    <div class="postbody"><span class="postbody">yes there is NDSDIS from <a href="http://hp.vector.co.jp/authors/VA018359/" target="_blank">http://hp.vector.co.jp/authors/VA018359/</a> (only arm9 i think because it's original intent is to hack commercial games) and the pro alternative which will cost a lot of money: datarescues ida pro (wen using ida you might want the nds loader and flirt database from backtrace.de)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81687 - chishm - Mon May 01, 2006 6:54 am</h4>
    <div class="postbody"><span class="postbody">For ARM compiled files I use the command:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">arm-elf-objdump -D -b binary -m arm infile.bin &gt; outfile.s</td> </tr></table><span class="postbody">
<br/>
and for THUMB compiled files I use:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">arm-elf-objdump -D -b binary -m arm -M force-thumb infile.bin &gt; outfile.s</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81693 - Scorpei - Mon May 01, 2006 12:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>loading wrote:</b></span></td> </tr> <tr> <td class="quote">yes there is NDSDIS from <a href="http://hp.vector.co.jp/authors/VA018359/" target="_blank">http://hp.vector.co.jp/authors/VA018359/</a> (only arm9 i think because it's original intent is to hack commercial games) and the pro alternative which will cost a lot of money: datarescues ida pro (wen using ida you might want the nds loader and flirt database from backtrace.de)</td> </tr></table><span class="postbody">
<br/>
<br/>
Okay got it to work (it also decompiles the arm7). Now off to looking at assembler :S.
<br/>
I have no idea what all hardware adresses are and such, anyplace where I can read up on that (that will help me understand the assembler code)?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81695 - tepples - Mon May 01, 2006 1:16 pm</h4>
    <div class="postbody"><span class="postbody">Scorpei: Look at the Nintendo DS sections of <a class="postlink" href="http://nocash.emubase.de/gbatek.htm" target="_blank">GBATEK</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81696 - Scorpei - Mon May 01, 2006 1:18 pm</h4>
    <div class="postbody"><span class="postbody">Thank you :).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81716 - D-loader - Mon May 01, 2006 5:44 pm</h4>
    <div class="postbody"><span class="postbody">wouldn't ndstool be able to recompile it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81726 - Scorpei - Mon May 01, 2006 7:46 pm</h4>
    <div class="postbody"><span class="postbody">to source? that would be cool :D.
<br/>
Well, if it isn't encrypted and ndstool would undestand which libraries were used, then maybe?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81788 - The 9th Sage - Tue May 02, 2006 4:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>D-loader wrote:</b></span></td> </tr> <tr> <td class="quote">wouldn't ndstool be able to recompile it?</td> </tr></table><span class="postbody">
<br/>
<br/>
from a dissassemblage of the file?  I don't think so.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81826 - Scorpei - Tue May 02, 2006 10:44 am</h4>
    <div class="postbody"><span class="postbody">Well from the file itself, or the bins, not the assembler itself :).
<br/>
If one would know exactely how the compiler did its job, it should be possible.
<br/>
A well, I hate assembler :).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81855 - tepples - Tue May 02, 2006 2:48 pm</h4>
    <div class="postbody"><span class="postbody">But with an appropriate disassembler, it should be possible to do
<br/>
nds file -&gt; arm7/arm9 binaries -&gt; assembly language -&gt; arm7/arm9 binaries -&gt; nds file.
<br/>
Once you get that working, you can do any sort of postprocessing on the assembly language, such as determining where the constant pools are and assigning labels and the like.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94534 - monkmar - Tue Jul 25, 2006 6:34 am</h4>
    <div class="postbody"><span class="postbody">sorry to bring this one up, i also have a few questions, hope its possible to answer.
<br/>
<br/>
I've tried disassembling a arm9 file with ndsdis2, i was just curious as to if the disassembly with IDA pro (on the same file) would be any different from the output from ndsdis2?
<br/>
<br/>
also is there an existing disassembler that allows one to actually go from nds file -&gt; arm7/arm9.bin -&gt; asm -&gt; arm7/arm9 ??
<br/>
<br/>
thanks in advance</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
