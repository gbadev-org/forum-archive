<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compile error in new DevKitArm - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Compile error in new DevKitArm</h2>
<div id="posts">
<div class="post">
    <h4>#107491 - headspin - Mon Oct 30, 2006 5:08 am</h4>
    <div class="postbody"><span class="postbody">I am compiling some old stuff of mine using the latest DKA and I keep getting this error:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">c:/devkitPro/source/DSGoo/source/goo.h:7: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'CGoo'</td> </tr></table><span class="postbody">
<br/>
<br/>
The line it's referring to is "class CGoo" which is just a definition of a class called CGoo.
<br/>
<br/>
I never got this error before, so I'm not sure what can be causing it. I can't see anything wrong with the code either.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107500 - OOPMan - Mon Oct 30, 2006 7:50 am</h4>
    <div class="postbody"><span class="postbody">Are you sure it's compiling with the correct compiler? (G++ as oppossed to GCC)<br/>_________________<br/>"My boot, your face..." - Attributed to OOPMan, Emperor of Eroticon VI
<br/>
<br/>
You can find my NDS homebrew projects <a class="postlink" href="http://blog.dev-scene.com/oopman/" target="_blank">here...</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107515 - gmiller - Mon Oct 30, 2006 1:10 pm</h4>
    <div class="postbody"><span class="postbody">As OOPMan says it appears that the compiler you are using does not understand the keyword "class".  Check you file extensions, if they are .c then the gcc compiler will "assume" C code not C++.  If you make them .cpp then the compiler will assume C++.  This can be overridden with a command line switch but it tends to compilcate mixed projects.
<br/>
<br/>
I get this same error in C when I use a user defined type and forget to include the header that defines it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107525 - OOPMan - Mon Oct 30, 2006 3:11 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, basically I remember having this issue while porting MTCLib. It had issues trying to compile some of the C++ files with GCC...<br/>_________________<br/>"My boot, your face..." - Attributed to OOPMan, Emperor of Eroticon VI
<br/>
<br/>
You can find my NDS homebrew projects <a class="postlink" href="http://blog.dev-scene.com/oopman/" target="_blank">here...</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107556 - headspin - Mon Oct 30, 2006 9:14 pm</h4>
    <div class="postbody"><span class="postbody">Yeah Goo.h contains the definition for the class, and Goo.cpp has all the methods. Is there something else I have to do in the header file to force it to recognise the class keyword?
<br/>
<br/>
Here is the make output
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">C:\devkitPro\source\DSGoo&gt;make
<br/>
main.c
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/source/DSGoo/build/main.d -g -Wall -O2 -mcpu=arm9tdmi -mtune=arm9tdmi -fomit-fram
<br/>
e-pointer -ffast-math -mthumb -mthumb-interwork -I/c/devkitPro/source/DSGoo/include -I/c/devkitPro/libnds/include -I/c/d
<br/>
evkitPro/source/DSGoo/build -DARM9 -c /c/devkitPro/source/DSGoo/source/main.c -o main.o
<br/>
In file included from c:/devkitPro/source/DSGoo/source/main.c:33:
<br/>
c:/devkitPro/source/DSGoo/source/goo.h:7: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'CGoo'
<br/>
c:/devkitPro/source/DSGoo/source/main.c: In function 'main':
<br/>
c:/devkitPro/source/DSGoo/source/main.c:194: error: 'CGoo' undeclared (first use in this function)
<br/>
c:/devkitPro/source/DSGoo/source/main.c:194: error: (Each undeclared identifier is reported only once
<br/>
c:/devkitPro/source/DSGoo/source/main.c:194: error: for each function it appears in.)
<br/>
c:/devkitPro/source/DSGoo/source/main.c:194: error: expected ';' before 'm_Goo'
<br/>
c:/devkitPro/source/DSGoo/source/main.c:196: error: 'm_Goo' undeclared (first use in this function)
<br/>
make[1]: *** [main.o] Error 1
<br/>
make: *** [build] Error 2</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107558 - Sausage Boy - Mon Oct 30, 2006 9:19 pm</h4>
    <div class="postbody"><span class="postbody">You do realize that main.c is compiled in c mode, right? And since include really just includes the contents of goo.h at the top of your .c file, it will be compiled with the c compiler as well. Hilarity ensues. Rename main.c to main.cpp.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107559 - headspin - Mon Oct 30, 2006 9:22 pm</h4>
    <div class="postbody"><span class="postbody">Doh! I'm an idiot thanks Sausage Boy, forgot to rename to main.cpp when pasting into the new template. Thanks :)<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107560 - Sausage Boy - Mon Oct 30, 2006 9:24 pm</h4>
    <div class="postbody"><span class="postbody">No problem. It's such an easy mistake to make. :D<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#107590 - OOPMan - Tue Oct 31, 2006 7:43 am</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">Templates: The Hidden Threat To Society As We Know It...</span><br/>_________________<br/>"My boot, your face..." - Attributed to OOPMan, Emperor of Eroticon VI
<br/>
<br/>
You can find my NDS homebrew projects <a class="postlink" href="http://blog.dev-scene.com/oopman/" target="_blank">here...</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
