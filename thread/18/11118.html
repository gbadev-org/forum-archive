<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>lookat camera angles - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > lookat camera angles</h2>
<div id="posts">
<div class="post">
    <h4>#102279 - Uncle Vig - Tue Sep 12, 2006 3:41 pm</h4>
    <div class="postbody"><span class="postbody">Hello, 
<br/>
<br/>
I'm looking for a way to get the camera angle when a look at is being used. I'm quite new to 3d/Ds development, and I wonder If it's possible to get these datas (maybe using the projection matrix).
<br/>
<br/>
Thanks in advance.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102283 - hellfire - Tue Sep 12, 2006 5:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">a way to get the camera angle</td> </tr></table><span class="postbody">
<br/>
and what "angle" exactly are you looking for ? :)<br/>_________________<br/>"The three chief virtues of a programmer are: Laziness, Impatience and Hubris"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102291 - Uncle Vig - Tue Sep 12, 2006 6:05 pm</h4>
    <div class="postbody"><span class="postbody">Angles between eye and lookat positions , on each axis :D.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102293 - sajiimori - Tue Sep 12, 2006 6:20 pm</h4>
    <div class="postbody"><span class="postbody">Going from a matrix to angles is slow and awkward, not to mention ambiguous (because you can generally represent a single rotation matrix with a variety of Euler angle triples).
<br/>
<br/>
If you already have your position and look-at points, you can derive yaw and pitch from those easily.  However, that's not enough information to get roll -- you can stand at one point, look at another point, and tilt your head to the left or right without disturbing either point.
<br/>
<br/>
So, what information do you have to work with?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102296 - Uncle Vig - Tue Sep 12, 2006 6:31 pm</h4>
    <div class="postbody"><span class="postbody">Only eye and lookat positions, and I Hope you can help me anyway :).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102299 - sajiimori - Tue Sep 12, 2006 7:17 pm</h4>
    <div class="postbody"><span class="postbody">Sure.  Take the vector from the eye to the lookat, and get its yaw and pitch this way:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
Angle Vector3::yaw() const
<br/>
{
<br/>
  return atan2(x, z);
<br/>
}
<br/>
<br/>
Angle Vector3::pitch() const
<br/>
{
<br/>
  return -atan2(y, Vector2(x, z).length());
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
Put these on a post-it and stick it to your monitor:
<br/>
<br/>
Zero yaw and zero pitch points along positive Z.
<br/>
<br/>
Positive yaw goes counterclockwise when looking down negative Y.  It is to the left from a first-person view.
<br/>
<br/>
Positive pitch goes counterclockwise when looking down negative X.  It is downward from a first-person view.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102302 - Uncle Vig - Tue Sep 12, 2006 7:38 pm</h4>
    <div class="postbody"><span class="postbody">It works,
<br/>
<br/>
I've tried so many things using cos, sin, cross and dot product, and it's so simple, but it's always like this when you have the answer...
<br/>
<br/>
thanks a lot :D.
<br/>
<br/>
Edit : just a question, what about the "roll" you're talking about. Is it necessary for a lookat camera type ? (I mean just follow a position in space like a security cam).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102339 - sajiimori - Wed Sep 13, 2006 1:49 am</h4>
    <div class="postbody"><span class="postbody">Most FPS games don't let you roll the camera, just because it's not needed for normal gameplay.  Doing a barrel roll in a flight sim rotates the camera by 360 degrees.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#102374 - Uncle Vig - Wed Sep 13, 2006 10:36 am</h4>
    <div class="postbody"><span class="postbody">I see now, thanks :D.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
