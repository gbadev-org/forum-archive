<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>makefile from examples: 1 CPU -> 2 CPU - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > makefile from examples: 1 CPU -> 2 CPU</h2>
<div id="posts">
<div class="post">
    <h4>#59700 - Volta - Thu Nov 03, 2005 4:17 pm</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
<br/>
I'm having hard time with the makefiles.
<br/>
<br/>
I'm using the makefile in one of the examples (say examples\graphics\2d\complex_2d). While very, very useful, I now need to use the arm7 processor.
<br/>
<br/>
This file will only compile and link to the arm9 processor. I tried to use the template project in the directory "examples\templates\combined" but its makefile is way too much different than the ones in the other examples.
<br/>
<br/>
I searched for a solution... My problem is that I can't use the makefile from the tutorial of Chris Double because I have some pictures in bin format and his makefile cannot link these files.
<br/>
<br/>
So... Anyone has made a makefile for compiling arm9 and arm7 sources while being able to link .bin pictures?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#59710 - wintermute - Thu Nov 03, 2005 5:52 pm</h4>
    <div class="postbody"><span class="postbody">There are 3 makefiles in the combined template, one at the top level and one for each of the processors. Look at the makefile in the arm9 directory, it has a variable for data directories.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#---------------------------------------------------------------------------------
<br/>
# BUILD is the directory where object files &amp; intermediate files will be placed
<br/>
# SOURCES is a list of directories containing source code
<br/>
# INCLUDES is a list of directories containing extra header files
<br/>
# DATA is a list of directories containing binary files
<br/>
# all directories are relative to this makefile
<br/>
#---------------------------------------------------------------------------------
<br/>
BUILD      :=   build
<br/>
SOURCES      :=   source  
<br/>
INCLUDES   :=   include
<br/>
DATA      :=
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
later in the makefile you'll find the rule for .bin
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#---------------------------------------------------------------------------------
<br/>
# you need a rule like this for each extension you use as binary data 
<br/>
#---------------------------------------------------------------------------------
<br/>
%.bin.o   :   %.bin
<br/>
#---------------------------------------------------------------------------------
<br/>
   @echo $(notdir $&lt;)
<br/>
   @$(bin2o)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
simply repeat this rule for each extension you wish to use as binary data</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#59713 - Volta - Thu Nov 03, 2005 6:05 pm</h4>
    <div class="postbody"><span class="postbody">!!
<br/>
<br/>
I never noticed that the makefile in the 2 directories were different.
<br/>
<br/>
I just added the directory name for the DATA var and it worked perfectly. Thanks! :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
