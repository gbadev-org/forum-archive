<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>3d camera movement help - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > 3d camera movement help</h2>
<div id="posts">
<div class="post">
    <h4>#109390 - shadowghost21 - Fri Nov 17, 2006 11:02 pm</h4>
    <div class="postbody"><span class="postbody">I am writing a First Person Shooter engine (SO I can later port Perfect Dark) and I just started it a few days ago, and I cant get the camera to look left or right then move that direction, as well as keep the 'gun' model I am holding in the camera view. I program in C with the PAlib but I also use the opengl functions that NDSlib provides and I see a lot ofstuff that was written in C++. I belive I need to do something with dot products and trig (damn physics coming back to haunt me). If any one is a 3d coder and would like to help me I would be very thankful. If you could give me a very detailed account of how to work this thing, or even the code(I know I am a mooch but I have been hunched over my computer for way to long and I want to start to port Perfect Dark already I got a lot of textures to add and gameplay mechanics to work on) that would be awesome, you can PM me if you dont want the source you may provide getting loose, And this is NOT for a dev comp, I am doing it for me and the community.
<br/>
<br/>
-shadow</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109395 - KoshNi - Fri Nov 17, 2006 11:56 pm</h4>
    <div class="postbody"><span class="postbody">Have you already studied/looked at the <span style="font-style: italic">devkitPro\examples\nds\input\touch_look</span>  example and/or the 10th lesson of the <span style="font-style: italic">devkitPro\examples\nds\Graphics\3D\nehe</span> 3D tutorial ? It should be helpful since it is actually a fully working fps engine !
<br/>
<br/>
Documentation on this topic must exist somewhere : googling for <span style="font-style: italic"> 3d engine fps "how to"</span>, I found this  <a href="http://www.spacesimulator.net/tutorials.html" target="_blank">http://www.spacesimulator.net/tutorials.html</a>
<br/>
<br/>
Keep the faith !<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109425 - shadowghost21 - Sat Nov 18, 2006 6:37 am</h4>
    <div class="postbody"><span class="postbody">I found the space ship examples and have them bookmarked from my research, but it was in C++, but hadn't know where to look in the nds stuff thanks!! But I guess I am going to have to switch to c++ sooner or later.
<br/>
<br/>
EDIT: I studied the Source that was provided in the NDSlib examples, but I dont quite understand the loading of "the world" I have 3d objects made into .c files from NDS3d world studio, and I dont quite know how to put them in my project. any ideas?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109441 - KoshNi - Sat Nov 18, 2006 9:57 am</h4>
    <div class="postbody"><span class="postbody">The file <span style="font-style: italic">data\World.txt</span> has a similar syntax in <span style="font-style: italic">Graphics\3D\nehe\lesson10\</span>, <span style="font-style: italic">Graphics\3D\nehe\lesson10b\</span> and in <span style="font-style: italic">input\touch_look\</span> :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
NUMPOLLIES 36
<br/>
<br/>
// Floor 1
<br/>
-3.0  0.0 -3.0 0.0 6.0
<br/>
-3.0  0.0  3.0 0.0 0.0
<br/>
 3.0  0.0  3.0 6.0 0.0
<br/>
<br/>
-3.0  0.0 -3.0 0.0 6.0
<br/>
 3.0  0.0 -3.0 6.0 6.0
<br/>
 3.0  0.0  3.0 6.0 0.0
<br/>
<br/>
(...)
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
From the way these figures are used in <span style="font-style: italic">main.cpp</span>, it is possible to know what this stupid matrix -- no offence :) -- means. First, in function <span style="font-style: italic">SetupWorld</span>, each line of <span style="font-style: italic">World.txt</span> is read and data is stored in a specific structure :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
   readstr(oneline);
<br/>
   sscanf(oneline, "%f %f %f %f %f", &amp;x, &amp;y, &amp;z, &amp;u, &amp;v);
<br/>
   sector1.triangle[loop].vertex[vert].x = floattov16(x);
<br/>
   sector1.triangle[loop].vertex[vert].y = floattov16(y);
<br/>
   sector1.triangle[loop].vertex[vert].z = floattov16(z);
<br/>
   sector1.triangle[loop].vertex[vert].u = floattot16(u*128);
<br/>
   sector1.triangle[loop].vertex[vert].v = floattot16(v*128);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Now let's have a look at the datatype declarations in the beginning of <span style="font-style: italic">main.cpp</span>. A sector is composed of a number of triangles which are composed of three vertices :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
typedef struct tagVERTEX
<br/>
{
<br/>
   v16 x, y, z;
<br/>
   t16 u, v;
<br/>
} VERTEX;
<br/>
<br/>
typedef struct tagTRIANGLE
<br/>
{
<br/>
   VERTEX vertex[3];
<br/>
} TRIANGLE;
<br/>
<br/>
typedef struct tagSECTOR
<br/>
{
<br/>
   int numtriangles;
<br/>
   TRIANGLE* triangle;
<br/>
} SECTOR;
<br/>
<br/>
  SECTOR sector1;            // Our Model Goes Here:
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Finally, in function <span style="font-style: italic">DrawGLScene</span>, each triangle of the sector is rendered during a for loop :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
x_m = sector1.triangle[loop_m].vertex[0].x;
<br/>
y_m = sector1.triangle[loop_m].vertex[0].y;
<br/>
z_m = sector1.triangle[loop_m].vertex[0].z;
<br/>
u_m = sector1.triangle[loop_m].vertex[0].u;
<br/>
v_m = sector1.triangle[loop_m].vertex[0].v;
<br/>
glTexCoord2t16(u_m,v_m); glVertex3v16(x_m,y_m,z_m);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Here  <a href="http://www.mevis.de/opengl/opengl.html" target="_blank">http://www.mevis.de/opengl/opengl.html</a> (google "<span style="font-style: italic">glTexCoord</span>") are given the signatures of OpenGl functions (of which only some are implemented in <span style="font-style: italic">libnds</span>) :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void glTexCoord2s(GLshort s, GLshort t)
<br/>
(...)
<br/>
PARAMETERS
<br/>
<br/>
s, t, r, q
<br/>
    Specify s, t, r, and q texture coordinates. Not all parameters are present in all forms of the command.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
In short, before you add a vertex you can specify which point of the texture is associated with it.<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109533 - shadowghost21 - Sun Nov 19, 2006 1:42 am</h4>
    <div class="postbody"><span class="postbody">I found a better example of code and finally got it working, only problem... I have a 'gun' model that is supposed to be is sight of the camera at all times, (it is an fps) and when I turn, the gun doesn't move with the camera. and when I rotate the gun will stay in the middle like a 3rd person cam, I want the gun to rotate along with the camera. Any Ideas?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109563 - KoshNi - Sun Nov 19, 2006 10:00 am</h4>
    <div class="postbody"><span class="postbody">EDIT : The gun must be rotated twice, once to stay in front of the camera (centered on the camera) and once to be in the correct direction (centered on the gun itself).
<br/>
<br/>
Why not use a sprite instead ? (this is not advice, this is question)<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109657 - shadowghost21 - Mon Nov 20, 2006 1:42 am</h4>
    <div class="postbody"><span class="postbody">It is for a port of Perfect Dark for the N64 thats why I am using 3d models. But I am having trouble keeping it in front of the camera, I should have paidmore attention during physics (I took the class twice!!) I need to work with dot products, Or so I think, but I dont know what I need to put in for what. I know how to calculate a dot procuct but I dont know what I am doing.  It would be a lot easier if I could just zip my project let it loose and have people tell what I need to plug in where, what ever I'll post the part I need help with.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//This is my camera and where they look
<br/>
gluLookAt(objCamera.mPos.x,  objCamera.mPos.y,  objCamera.mPos.z, objCamera.mView.x, objCamera.mView.y, objCamera.mView.z, objCamera.mUp.x,   objCamera.mUp.y,   objCamera.mUp.z);
<br/>
<br/>
//this is to keep the item in front of the camera, I got this code from a website that was doing camera tutorials and it was from the 3rd person part, so I am basicly treating the gun as a "3rd person", 
<br/>
glTranslatef(objCamera.mView.x,0.0f,objCamera.mView.z);
<br/>
//now this code works fine I can rotate around the gun but when I move the gun in closer and I move the camera it moves the model around a diferent point of reference.
<br/>
//this was to get the gun to face out, but the gun would always face the same direction and I belive this is where I need the most help, namly the dot product to produce the y-angle.
<br/>
glRotatef(0,-90,0);
<br/>
sniperDrawObject();</td> </tr></table><span class="postbody">
<br/>
<br/>
hope this makes more sense, and I really hope someone can help or point my to a tutorial that does the gun infront of the camera thing.
<br/>
<br/>
-shadow</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109666 - DekuTree64 - Mon Nov 20, 2006 2:32 am</h4>
    <div class="postbody"><span class="postbody">Why not just clear the modelview matrix to identity when drawing the gun? It would be possible to invert the camera transformation, but there's no point in doing it.
<br/>
Once you've cleared the matrix, all you have to do is translate it forward a bit so it's past the near clipping plane, and then down and to the right or whatever to position it where you want on screen. Try setting it up so you can change the translation with the keys, and print out the current position. That way you can tweak it visually rather than just trying numbers and recompliling every time.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109667 - Rajveer - Mon Nov 20, 2006 2:40 am</h4>
    <div class="postbody"><span class="postbody">Just a question, why dont't you render the level and the gun separately? There's no real reason why you shouldn't (that I can think of) i.e. render the scene then draw the gun ontop of that with:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glLoadIdentity();
<br/>
glPushMatrix();
<br/>
<br/>
...Change the current matrix with the camera transformation, draw the scene
<br/>
<br/>
glPopMatrix(1);
<br/>
<br/>
glPushMatrix();
<br/>
<br/>
...Change the view a bit so that the gun appears in the same place, draw the gun
<br/>
<br/>
glPopMatrix(1);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Test where the gun should be placed (move the camera around till its in the right place) and then when drawing the gun, move/rotate the camera that amount all the time then draw the gun.
<br/>
<br/>
EDIT: That's funny, me and DekuTree64 said basically the same thing at the same time :-D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109680 - shadowghost21 - Mon Nov 20, 2006 5:53 am</h4>
    <div class="postbody"><span class="postbody">This is driving me nuts, I am going to just post the source in a zip, and hopefully some one can help me!!! It needs PAlib also, being as I use PAlib and NDSlib together. They are CPP files although I have no idea how to program in CPP most of the code is C, although the camera.h/cpp are writting by a tutorial I got of the interent and modifyed them to work with the ds. Please help me, this makes no sense I also included the Compiled files just so you can see them.
<br/>
its a rapidshare.com link as I have an account and its fast, if you dont have an account it dosent matter just download with the free account.
<br/>
<br/>
<a href="http://rapidshare.com/files/4080120/source.zip" target="_blank">http://rapidshare.com/files/4080120/source.zip</a>
<br/>
<br/>
-shadow</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109689 - KoshNi - Mon Nov 20, 2006 10:24 am</h4>
    <div class="postbody"><span class="postbody">I think you'd better put your FPS aside and spend some time playing with OpenGl functions : knowing their behaviour better, it would be painless for you when you start again with your FPS ! You simply are gonna hurt yourself if you are to go too far too fast ... (this is no question, this is advice)<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109693 - Rajveer - Mon Nov 20, 2006 12:07 pm</h4>
    <div class="postbody"><span class="postbody">Agree with KoshNi. Learn how to program and how to program with OpenGL first, it can be confusing when starting out but once you grasp the concept you'll find it's easy.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109694 - silent_code - Mon Nov 20, 2006 12:47 pm</h4>
    <div class="postbody"><span class="postbody">man, i don't want to be rude, but really, forget about porting anything until you have the skills!
<br/>
<br/>
AND @KoshNi: the nehe nds example is very, VERY far away from being a "fully working fps engine"... it ain't an engine at all, it's just a (very simple) demo. calling it an engine is kinda overkill... man. again, i don't intend to be rude. all i want is to remind you about thinking twice about what you post, especially when takling to a beginner.
<br/>
<br/>
...
<br/>
<br/>
but i'm here to help. ;)
<br/>
<br/>
after you initialize the hardware and load your data (i won't talk about that, because it depends on your datasets) you set up the main loop. in that loop you first reset the hw (matrix, gfx, ...) then set up the projection (viewport), draw your gun; rotate to the player's heading, THEN translate to his position and draw the scene; push the matrix for a baddy, then draw him and pop the matrix, repeat for each other non scene object (like them baddies); then draw any tranlutient parts and effects and finally the sky (box or plane or dome). just like that.
<br/>
<br/>
(now, not even that would be called an engine. holly poop, it doesn't even have any scene management, not even a real scene graph... again, be careful about your words!)
<br/>
<br/>
btw: it's not physics you are looking for, but mathematics. in fact it's linear algebra you're looking for (or whatever it is called in english). feel fre to take a look into a book or two - hell, there are also some great tutorials on the net! :)
<br/>
<br/>
ok, that's it. ... though i hope i won't get burned like a witch for this post.
<br/>
<br/>
happy coding!
<br/>
<br/>
EDIT: ;D</span><span class="gensmall"><br/><br/>Last edited by silent_code on Mon Nov 20, 2006 2:55 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#109698 - KoshNi - Mon Nov 20, 2006 1:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"> the nehe nds example is very, VERY far away from being a "fully working fps engine"... it ain't an engine at all, it's just a (very simple) demo. calling it an engine is kinda overkill... </td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah I agree. This is only after I read what I had written that I understood the NeHe example wasn't as complete as I mentioned (no collisions with the walls for instance). By the time I knew I was wrong the discussion had gone on so it was useless for me to edit my post.<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109713 - shadowghost21 - Mon Nov 20, 2006 5:18 pm</h4>
    <div class="postbody"><span class="postbody">Did you guys look at the code and compiled program, From what I see only one person ihas downloaded it. I know how to program, I am not an uber programmer, but I learn by doing, and opengl in nintendo ds is psudeo gl anyway. I would like for people to look at my problem insted of just saying know how to program first. I tried every ones suggestions that had posted before I got frustatrated, and I diden't use Nehe's examples they aren't that great, I used these <a href="http://www.morrowland.com/apron/tut_gl.php" target="_blank">http://www.morrowland.com/apron/tut_gl.php</a> and they work for what I want, I even got the source to quake1, its very hard to find the modual that I want since there is 8 megs of source code to look though. By programming this port I am learning opengl(psudeo on the ds) and when I program large projects I learn alot about programming. I wrote a legocad program, It still has a little work, but I would say that for a first program its pretty damn good! 
<br/>
<br/>
-shadow</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109721 - KoshNi - Mon Nov 20, 2006 7:09 pm</h4>
    <div class="postbody"><span class="postbody">OK... I downloaded your source this afternoon but as I was at work I didn't try to compile/run it. Now I am at home and this is what I have just done. So I have a better understanding of what the problem is : everything's fine when you move front/back/left/right without changing the direction your aiming at (= the gun is where it's meant to be), but as soon as you click a point of the screen to change where you are looking at,  the gun has a weird behaviour and almost disappears from the view (but is still present in the scene, somewhere...??)
<br/>
<br/>
EDIT : no this is not it, the gun is still there but no more in view of the camera --&gt; it must be moved to stay in front the camera == somewhere between the position of the camera and the point the camera is looking at
<br/>
<br/>
EDIt : I don't understand why the gun can be moved pressing the buttons, it is the camera that should be moved !<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109724 - shadowghost21 - Mon Nov 20, 2006 7:59 pm</h4>
    <div class="postbody"><span class="postbody">I am glad you see the problem I face. It is bizzar indeed. I cant figure it out for the life of me how to keep the gun in view of the camera and make it look like you are holding it. If one takes out the PA_Traslate3D(0,0,5)//to bring the gun to the screen when you rotate the camera it will always be in sight, much like a 3rd person camera, with the gun acting as a person. And I have trouble finding anthing useful in any of the open source 3d shooters I have downloaded.
<br/>
<br/>
EDIT: Oh the gun might move when you press a,b,x,y because I put that in for debugging, to see where the gun need to be initally.
<br/>
<br/>
EDIT: I changed this   glTranslatef(objCamera.mView.x,objCamera.mView.y,objCamera.mView.z);
<br/>
to this  glTranslatef(objCamera.mPos.x,  objCamera.mPos.y,  objCamera.mPos.z);
<br/>
this keeps the gun in front of the camera in a fixed position, but when looking from side to side the gun still stays in one spot, at least it is not warping around the scene as it was before. Progess!! I think! Now its just a matter of getting the un to rotate around the y-axis, and pitch up and down, which I dont think would be that hard but it is!!!
<br/>
<br/>
-shadow</span><span class="gensmall"><br/><br/>Last edited by shadowghost21 on Mon Nov 20, 2006 8:55 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#109730 - KoshNi - Mon Nov 20, 2006 8:45 pm</h4>
    <div class="postbody"><span class="postbody">Try this :
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
            //GET gun to stay infront of the camera!!!!
<br/>
            
<br/>
            glTranslatef(objCamera.mPos.x,objCamera.mPos.y,objCamera.mPos.z);            
<br/>
            //glTranslatef(objCamera.mView.x,objCamera.mView.y,objCamera.mView.z);   
<br/>
            //PA_Translate3D(xpos,ypos,zpos);//using this to get the gun to the screen
<br/>
            </td> </tr></table><span class="postbody">
<br/>
<br/>
Not perfect yet, but better than before...
<br/>
<br/>
<br/>
EDIt:cool, this is just what you posted :)
<br/>
<br/>
EDIT : I need to sleep. I have added functions to your code so the gun rotates, but not in the correct axis yet... I'll upload  the code at PAlib.com for you to get it back.<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109747 - shadowghost21 - Mon Nov 20, 2006 11:24 pm</h4>
    <div class="postbody"><span class="postbody">I finally got it working. I forgot that I didn't want to keep the stylus mouse like controls in. SO I worked the equations from the camera.CPP file and put that in * 5.625 and presto it works, I will reupload so you can see what I did...
<br/>
<a href="http://rapidshare.com/files/4184770/source.zip" target="_blank">http://rapidshare.com/files/4184770/source.zip</a>
<br/>
now about collisions... just kidding Those *SHOULD* be easy compaired to what I had here! but then again I will be posting in a few days(hours maybe) for the collision stuff
<br/>
<br/>
-shadow</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109791 - HyperHacker - Tue Nov 21, 2006 7:34 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Rajveer wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glLoadIdentity();
<br/>
glPushMatrix();
<br/>
<br/>
...Change the current matrix with the camera transformation, draw the scene
<br/>
<br/>
glPopMatrix(1);
<br/>
<br/>
glPushMatrix();
<br/>
<br/>
...Change the view a bit so that the gun appears in the same place, draw the gun
<br/>
<br/>
glPopMatrix(1);
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
If I may nitpick... this is an unnecessary use of stack space. There's no need to push the identity matrix. Same effect without this extra push/pop:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glLoadIdentity();
<br/>
<br/>
...Change the current matrix with the camera transformation, draw the scene
<br/>
<br/>
glLoadIdentity();
<br/>
<br/>
...Change the view a bit so that the gun appears in the same place, draw the gun
<br/>
<br/>
glLoadIdentity(); //you can even remove this if you're not doing anything else afterward</td> </tr></table><span class="postbody"><br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109793 - silent_code - Tue Nov 21, 2006 7:57 am</h4>
    <div class="postbody"><span class="postbody">draw the gun first. this will discart further fragments from being drawn where the gun is being drawn. just look at my previous post. to achieve the effect of a slightly "lagging" gun (when you rotate the view) first translate the gun, then slightly rotate it into the opposite direction of the head rotation, draw it before doing any player translations and then load the identity matrix.
<br/>
<br/>
sorry if you feel that i somehow insulted you, didn't mean to.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#109795 - KoshNi - Tue Nov 21, 2006 8:29 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">http://rapidshare.com/files/4184770/source.zip </td> </tr></table><span class="postbody">
<br/>
<br/>
Well done. This is working fine.<br/>_________________<br/>Sunshine. Beauty. Love. Happiness.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
