<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Does anyone make 3D games for DS? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Does anyone make 3D games for DS?</h2>
<div id="posts">
<div class="post">
    <h4>#73571 - SMP - Sun Feb 26, 2006 7:56 pm</h4>
    <div class="postbody"><span class="postbody">Is Nintendo DS support 3d-graphics for cool games such as racing, 3d-arcade and other games with low-poly models?
<br/>
Is anyone developing 3D games?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73572 - HtheB - Sun Feb 26, 2006 8:06 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SMP wrote:</b></span></td> </tr> <tr> <td class="quote">Is Nintendo DS support 3d-graphics for cool games such as racing, 3d-arcade and other games with low-poly models?
<br/>
Is anyone developing 3D games?</td> </tr></table><span class="postbody">
<br/>
Nintedo DS has lots of 3D games...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73574 - Kyoufu Kawa - Sun Feb 26, 2006 8:10 pm</h4>
    <div class="postbody"><span class="postbody">But are the guys and occasional girls here on GBADev/DSDev making any in 3D?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73583 - genfish - Sun Feb 26, 2006 8:36 pm</h4>
    <div class="postbody"><span class="postbody">its possible with the opengl stuff, im doing a 2d project at the moment which i need finished by april 3rd, then i was thinking of trying something in 3d<br/>_________________<br/>there is no rl only afk</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73595 - tssf - Sun Feb 26, 2006 9:26 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://www.sylphds.net/ev2/contentview.php?id=268" target="_blank">http://www.sylphds.net/ev2/contentview.php?id=268</a><br/>_________________<br/>Mathew Valente [TSSF]
<br/>
------
<br/>
<a class="postlink" href="http://www.opcoder.com/projects/chrono" target="_blank">Chrono Resurrection Musician</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73599 - Webez - Sun Feb 26, 2006 9:32 pm</h4>
    <div class="postbody"><span class="postbody">I am doing a tactic-rpg like Final Fantasy Tactics (or I'm trying)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73622 - Sylfurd - Mon Feb 27, 2006 12:01 am</h4>
    <div class="postbody"><span class="postbody">3D Space "shooter" ( top secret :D ), and Moto Racing Game here :)
<br/>
<a href="http://www.neoflash.com/forum/index.php/topic,674.0.html" target="_blank">http://www.neoflash.com/forum/index.php/topic,674.0.html</a>
<br/>
<br/>
Still in devlopment !</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73628 - The 9th Sage - Mon Feb 27, 2006 3:29 am</h4>
    <div class="postbody"><span class="postbody"><a href="http://www.playeradvance.org/forum/showthread.php?t=1539" target="_blank">http://www.playeradvance.org/forum/showthread.php?t=1539</a>
<br/>
<br/>
Here's a DS version of the PC game Every Extend (be warned that the author considers it alpha...it's quite cool, and fun to play, but somewhat incomplete as of yet).  
<br/>
<br/>
Has simple, yet nice graphics...seems to be doing some cell shading too.  The goal is to blow up your ship and explode the cubes floating around the screen.  When you destroy them pieces will fly off, and those pieces can then hit other cubes causing chain reactions (which is a good thing).<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73629 - tepples - Mon Feb 27, 2006 3:35 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>The 9th Sage wrote:</b></span></td> </tr> <tr> <td class="quote">Here's a DS version of the PC game Every Extend (be warned that the author considers it alpha...it's quite cool, and fun to play, but somewhat incomplete as of yet).</td> </tr></table><span class="postbody">
<br/>
And given that <a class="postlink" href="http://en.wikipedia.org/wiki/Every_Extend_Extra" target="_blank">Q Entertainment's next PSP title</a> is also a port of Every Extend, it looks like Tetsuya Mizuguchi (head of Q?) and Ken Kutaragi (head of SCE) are about to get <a class="postlink" href="http://www.pineight.com/lu/" target="_blank">swept</a> again, with another killer app's exclusivity robbed by homebrewers.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#73826 - SMP - Tue Feb 28, 2006 6:57 am</h4>
    <div class="postbody"><span class="postbody">DS can draw 4000 at 30 fps but it is insufficient to do amazing 3d-games.
<br/>
I thought DS games will be 3D-games almost</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74004 - M3d10n - Wed Mar 01, 2006 5:33 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SMP wrote:</b></span></td> </tr> <tr> <td class="quote">DS can draw 4000 at 30 fps but it is insufficient to do amazing 3d-games.
<br/>
I thought DS games will be 3D-games almost</td> </tr></table><span class="postbody">
<br/>
<br/>
It was never supposed to do "amazing" 3D. The DS was designed to do "enough" 3D at good framerates in order to do fun games without becoming outrageously expensive.
<br/>
<br/>
BTW, by your questions, I take it you never saw any DS games running in actual hardware, did you? Anyone who played a few of the best DS 3D games can tell you it produces graphics slightly better than last generation N64 stuff, but at better framerates and without filtering (the lack of filtering is not that bad, though, in well-done games, it's barely noticeable, but it'll jump into your eyes in crap games like King Kong).
<br/>
<br/>
The DS has a large bunch of 3D games (I'd say more than 50% of the US releases are full 3D games), and that includes Super Mario  64, Mario Kart DS (runs at 60fps) and the soon to be released Metroid Prime Hunters (first person shooter).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74699 - thundrestrike - Tue Mar 07, 2006 1:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tssf wrote:</b></span></td> </tr> <tr> <td class="quote">http://www.sylphds.net/ev2/contentview.php?id=268</td> </tr></table><span class="postbody">
<br/>
<br/>
SOMEONE'S MAKING FINAL FANTASY 7 ON THE DS?!?!?!!?!?!?!!??!
<br/>
<br/>
omg omg omg! wow. I can't wait for this!!!
<br/>
<br/>
EDIT:
<br/>
<br/>
I just read the website and it's just an engine hes making using FF7 stuff for testing...<br/>_________________<br/>popcorn</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#74706 - Empyrean - Tue Mar 07, 2006 2:18 am</h4>
    <div class="postbody"><span class="postbody">Whoa buddy, even if someone (or a group of people) were, the LAST thing to do is raise a ruckus over it.
<br/>
<br/>
[The walls have ears.]<br/>_________________<br/>3 is not an "e", 
<br/>
7 is not a "t", 
<br/>
1 is not an "l",
<br/>
And for the love of God,
<br/>
Learn how to spell!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80404 - SevenString - Sat Apr 22, 2006 1:04 am</h4>
    <div class="postbody"><span class="postbody">SMP,
<br/>
<br/>
Yes.
<br/>
<br/>
<a class="postlink" href="http://metalvox.blogspot.com/2006/04/fun-with-nintendo-ds-homebrew.html" target="_blank">http://metalvox.blogspot.com/2006/04/fun-with-nintendo-ds-homebrew.html</a><br/>_________________<br/><span style="font-style: italic">"Artificial Intelligence is no match for natural stupidity."</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80514 - Darkflame - Sun Apr 23, 2006 2:56 am</h4>
    <div class="postbody"><span class="postbody">Heres a nice homebrew 3D game I like;
<br/>
<a href="http://www.ndshb.com/cgi-bin/cfiles/cfiles.cgi?0,0,0,0,2,89" target="_blank">http://www.ndshb.com/cgi-bin/cfiles/cfiles.cgi?0,0,0,0,2,89</a>
<br/>
Eurotunnel.
<br/>
<br/>
Simple, but fast and smooth.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81742 - Payk - Mon May 01, 2006 8:59 pm</h4>
    <div class="postbody"><span class="postbody">Yes i do one too...
<br/>
First its an engine which loads maps,scripts and texture from flashcard (FatLib) and then it makes 3D-Worlds with that...It is planed to become a RPG-MAKER like app... But first i am going to make a game with that...
<br/>
<a class="postlink" href="http://www.payk.ndsdev.de/SD.rar" target="_blank">www.payk.ndsdev.de/SD.rar</a>
<br/>
<a class="postlink" href="http://www.payk.ndsdev.de/CF.rar" target="_blank">www.payk.ndsdev.de/CF.rar</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#85096 - lazmike - Sat May 27, 2006 12:58 am</h4>
    <div class="postbody"><span class="postbody">i made a pretty cheesy fps (my first one ever) - snow wars, you can find it on my site (haven't touched it for a long time, it's probably buggy).  There will be a (hopefully) very fun 3d game coming from the team i work with for the compo finishing in june ;)<br/>_________________<br/>-laZmike-
<br/>
<a href="http://lazmike.nintendev.com" target="_blank">http://lazmike.nintendev.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155889 - a128 - Mon May 05, 2008 9:23 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
... Mario Kart DS (runs at 60fps) </td> </tr></table><span class="postbody">
<br/>
<br/>
Since I write my own racing game..I am still shocked that Mario Kart DS runs at 60FPS.....
<br/>
<br/>
maybe they used a clever scheme so the ARM7 does some calculations?!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155891 - Maxxie - Mon May 05, 2008 10:41 am</h4>
    <div class="postbody"><span class="postbody">I don't believe that they use a non standard arm7 bin.
<br/>
<br/>
It's more likely that they know when to issue the _blocking_ swap and what of the data to precalculate rather then doing the work jit.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155892 - a128 - Mon May 05, 2008 10:45 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maxxie wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
It's more likely that they know when to issue the _blocking_ swap</td> </tr></table><span class="postbody">
<br/>
<br/>
What did you mean?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155893 - Maxxie - Mon May 05, 2008 10:54 am</h4>
    <div class="postbody"><span class="postbody">The hw register write for the swap command is acting like a swiWaitForVBlank waiting for HLine=192</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155894 - a128 - Mon May 05, 2008 11:06 am</h4>
    <div class="postbody"><span class="postbody">the GFX_FLUSH command you mentioned is not waiting for Vblank
<br/>
it's executed (!!) at Vblank...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155895 - Maxxie - Mon May 05, 2008 11:11 am</h4>
    <div class="postbody"><span class="postbody">Every test i made with first a swap and then an wait, caused the fps to half. if the register write wouldn't wait, this shouldn't happen.
<br/>
<br/>
Unless ofcourse, the vblank happened allways between those two calls, but i think that's pretty unlikely. ... i remember an old thread about this a while back, gotta search
<br/>
<br/>
:edit: See <a href="http://forum.gbadev.org/viewtopic.php?t=14558&amp;highlight=swiwaitforvblank+swap" target="_blank">http://forum.gbadev.org/viewtopic.php?t=14558&amp;highlight=swiwaitforvblank+swap</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155897 - Noda - Mon May 05, 2008 11:24 am</h4>
    <div class="postbody"><span class="postbody">I'm currently developping a double-screen 3D game using some nice effects with an integrated level editor. I've already been contacted by professional dev studio interested in my project :)
<br/>
<br/>
Some screens:
<br/>
<a href="http://noda.free.fr/nds/marble.jpg">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155901 - silent_code - Mon May 05, 2008 12:38 pm</h4>
    <div class="postbody"><span class="postbody">wow, Noda! good luck, then! :^D
<br/>
(that's another proof for "think small and simple"!)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#155923 - ritz - Mon May 05, 2008 8:00 pm</h4>
    <div class="postbody"><span class="postbody">Here's my shot in the dark. It's coming together fairly well I think.
<br/>
 -&gt; <a href="http://ritz.ca.googlepages.com/sonic.zip" target="_blank">http://ritz.ca.googlepages.com/sonic.zip</a>
<br/>
This particular build is gbfs, so you don't need to dldi it.
<br/>
<br/>
Edit: No, it's not Sonic the Hedgehog :)</span><span class="gensmall"><br/><br/>Last edited by ritz on Tue May 06, 2008 2:42 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#155924 - DekuTree64 - Mon May 05, 2008 8:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote">Since I write my own racing game..I am still shocked that Mario Kart DS runs at 60FPS.....
<br/>
<br/>
maybe they used a clever scheme so the ARM7 does some calculations?!</td> </tr></table><span class="postbody">
<br/>
Probably the biggest thing is the artwork. In every 3D game I've worked on, rendering (which includes animation transforms) has been at the top of the profile. Mario Kart's backgrounds don't have many polygons, and the characters don't have many animation joints, so that would cut down the time a lot
<br/>
<br/>
The characters also don't have many different animations, so they're most likely all loaded up front (loading animation files is usually another big time eater). Same with sound effects. Actually, I'd be surprised if any memory management is done during gameplay either. Maybe for shooting items, but those could just be pools of structures to pull from.
<br/>
<br/>
Then the basic gameplay physics and AI can be optimized down as far as you need to. Just takes some programmer time, which is no problem on a game that's going to sell millions of copies.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156034 - M3d10n - Tue May 06, 2008 2:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
... Mario Kart DS (runs at 60fps) </td> </tr></table><span class="postbody">
<br/>
<br/>
Since I write my own racing game..I am still shocked that Mario Kart DS runs at 60FPS.....
<br/>
<br/>
maybe they used a clever scheme so the ARM7 does some calculations?!</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Licensed games cannot run custom code on the ARM7. They must use a binary supplied by Nintendo in order to keep the DS FCC compliant (since the ARM7 has a very low level access to the WiFi chip).
<br/>
<br/>
MKDS just budgets its polygons very well, that's all. The racers are pretty low polygon and they still use LOD for distant models. Also, the game probably uses display lists for everything and with few joints hardware skinning is blazing fast.
<br/>
<br/>
I don't even need to comment on AI and "physics", since that'd be doable on a SNES.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156039 - a128 - Tue May 06, 2008 4:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<br/>
Licensed games cannot run custom code on the ARM7. They must use a binary supplied by Nintendo in order to keep the DS FCC compliant (since the ARM7 has a very low level access to the WiFi chip).
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks for this info....
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
MKDS just budgets its polygons very well, that's all. The racers are pretty low polygon and they still use LOD for distant models. Also, the game probably uses display lists for everything and with few joints hardware skinning is blazing fast.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Rendering is not the problem..I just use displaylists and spend some BoxTests to the models
<br/>
<br/>
My CPU time gets eaten by the AI. The AI  needs approx. 2ms for one AI car ..so if you have 7 AI cars then you have approx. 14ms. which is very near to the 16.66ms limit you have per frame if you go for the 60FPS
<br/>
<br/>
now I did a AI cleanup and also used some approx. for stuff like sqrt(x*x+y*y) or even vector normalisation if appropiate
<br/>
<br/>
I also changed some  fixpoint values to plain int
<br/>
<br/>
and now the AI spends 0.6ms for one car
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//from http://www.gamedev.net/community/forums/
<br/>
<br/>
//fake sqrt(x*x+y*y)
<br/>
   static Fixed FakeLength(Fixed x,Fixed y) {
<br/>
                Fixed fy = Fixed::abs(y);
<br/>
                Fixed fx = Fixed::abs(x);
<br/>
                return (fy &gt; fx) ? (fy + Fixed(0.336356f)*fx) : (fx + Fixed(0.336356f)*fy);
<br/>
<br/>
        }
<br/>
<br/>
        // The original idea for this approximation comes from one of the "Graphic Gems"-books, where I found a 2D-version of the same thing.
<br/>
        // This is basically the manhattan distance, with the 2 smallest factors scaled down.
<br/>
<br/>
//approx for sqrt(x*x+y*y+z*z)
<br/>
/max error 0.2
<br/>
        static  Fixed LengthApprox(const Vec3 &amp;v) {
<br/>
                int32 a, b, c;
<br/>
                a=Fixed::abs(v.x).value;
<br/>
                b=Fixed::abs(v.y).value;
<br/>
                c=Fixed::abs(v.z).value;
<br/>
<br/>
                // Assigning the greatest value to a.
<br/>
                if ((b&gt;a)&amp;&amp;(b&gt;c)) {
<br/>
                        int32 Temp = b;
<br/>
                        b=a;
<br/>
                        a=Temp;
<br/>
                } else if ((c&gt;a)&amp;&amp;(c&gt;b)) {
<br/>
                        int32 Temp = c;
<br/>
                        c=a;
<br/>
                        a=Temp;
<br/>
                }
<br/>
<br/>
                //   return a+(b+c)*Fixed(0.366f); // I found this value optimal. There is probably no point in finetuning it further, since there still is a 20% fault... (For an int version of the same function, use a one step bitshift (a+((b+c)&gt;&gt;1)) instead)
<br/>
                return _FixedNum(a+(b+c)&gt;&gt;1); // I found this value optimal. There is probably no point in finetuning it further, since there still is a 20% fault... (For an int version of the same function, use a one step bitshift (a+((b+c)&gt;&gt;1)) instead)
<br/>
        }
<br/>
<br/>
#define MIN(a,b) a&lt;b?a:b
<br/>
        static  Fixed  DistanceVec3approx (const Vec3 &amp;a, const Vec3 &amp;b)  {
<br/>
                const int32 A=Fixed::abs(a.x-b.x).value;
<br/>
                const int32 B=Fixed::abs(a.z-b.z).value;
<br/>
                const int32 C=MIN(A,B)&gt;&gt;1;
<br/>
                return _FixedNum(A+B-C);
<br/>
<br/>
        }
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156049 - M3d10n - Tue May 06, 2008 7:49 pm</h4>
    <div class="postbody"><span class="postbody">Nice optimization. I take it you are already avoiding having to normalize vectors as much as possible?
<br/>
<br/>
Even if you're already doing, anyone can benefit from this tip: void having to get a square root as much as possible (even if you have an approximate function).
<br/>
<br/>
If you want to check if a vector's length is greater/smaller than a set size (ex: to know if a point is within a certain distance of another point) just compare the vector's squared length (x*x + y*y + z*z) against the square of the desired length (l*l).
<br/>
<br/>
Since you're working on a racing game, I guess you might also like this one:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int32 fxAtan2(int32 y, int32 x)
<br/>
{
<br/>
   int32 coeff_1 = inttof32(256/4);
<br/>
   int32 coeff_2 = 3*coeff_1;
<br/>
   int32 abs_y = abs(y)+1;      // kludge to prevent 0/0 condition
<br/>
   int32 angle;
<br/>
   if (x&gt;=0)
<br/>
   {
<br/>
      int32 r = divf32((x - abs_y), (x + abs_y));
<br/>
      angle = coeff_1 - mulf32(coeff_1, r);
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
      int32 r = divf32((x + abs_y), (abs_y - x));
<br/>
      angle = coeff_2 - mulf32(coeff_1, r);
<br/>
   }
<br/>
<br/>
   if (y &lt; 0)
<br/>
      return(-angle);     // negate if in quad III or IV
<br/>
   else
<br/>
      return(angle);
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
It's a DS-ified version of a fast FP atan2 implementation. It returns the angles in int32 [-256, 256] range (you'll need to f32toint() them before feeding to glRotatei() calls). I'm using it to make a character follow the stylus just like in Zelda Phantom Hourglass and it works very well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156139 - tepples - Wed May 07, 2008 2:23 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote">My CPU time gets eaten by the AI. The AI  needs approx. 2ms for one AI car ..so if you have 7 AI cars then you have approx. 14ms. which is very near to the 16.66ms limit you have per frame if you go for the 60FPS</td> </tr></table><span class="postbody">
<br/>
Do people think 60 times a second? Perhaps you could run each AI 15 times a second, running two opponents' AI in each frame.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156162 - a128 - Wed May 07, 2008 8:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Do people think 60 times a second? </td> </tr></table><span class="postbody">
<br/>
offtopic: I hope my brain is faster then the NDS :-) If not....I need a cheat code...ASAP.
<br/>
<br/>
Anyway...Thats a nice idea to calculate some stuff every second or third frame ..have to try this
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">fxAtan2(int32 y, int32 x) </td> </tr></table><span class="postbody">
<br/>
I found one of the source of this impressing code
<br/>
<a class="postlink" href="http://www.dspguru.com/comp.dsp/tricks/alg/fxdatan2.htm" target="_blank">http://www.dspguru.com/comp.dsp/tricks/alg/fxdatan2.htm</a>
<br/>
it has a max |error| around 0.0102 radians...which is nead
<br/>
if you need a accurate  atan2() with  |error| &lt; 0.005 radians.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//returns radian
<br/>
 Fixed Fixed::atan2 (Fixed y, Fixed x)
<br/>
{
<br/>
           if ( x == 0 ) {
<br/>
                if ( y &gt; 0 )
<br/>
                        return Fixed::PI/2.0f;
<br/>
                if ( y == 0 )
<br/>
                        return 0;
<br/>
                return -Fixed::PI/2.0f;
<br/>
        }
<br/>
<br/>
        Fixed atan;
<br/>
        Fixed z = y / x;
<br/>
        if ( abs( z ) &lt; Fixed(1) ) {
<br/>
                atan = z / (Fixed(1) + Fixed(0.28f) * z * z);
<br/>
<br/>
                if ( x &lt; 0 ) {
<br/>
                        if ( y &lt; 0 )
<br/>
                                return atan - Fixed::PI;
<br/>
<br/>
                        return atan + Fixed::PI;
<br/>
                }
<br/>
<br/>
        } else {
<br/>
                atan = Fixed::PI / 2.0f - z / (z * z + Fixed(0.28f));
<br/>
<br/>
                if ( y &lt; 0 )
<br/>
                        return atan - Fixed::PI;
<br/>
<br/>
        }
<br/>
        return atan;
<br/>
}
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
more atan2() fun here
<br/>
<a class="postlink" href="http://lists.apple.com/archives/PerfOptimization-dev/2005/Jan/msg00051.html" target="_blank">http://lists.apple.com/archives/PerfOptimization-dev/2005/Jan/msg00051.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156174 - silent_code - Wed May 07, 2008 12:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ritz wrote:</b></span></td> </tr> <tr> <td class="quote">Here's my shot in the dark. It's coming together fairly well I think.
<br/>
 -&gt; <a href="http://ritz.ca.googlepages.com/sonic.zip" target="_blank">http://ritz.ca.googlepages.com/sonic.zip</a>
<br/>
This particular build is gbfs, so you don't need to dldi it.
<br/>
<br/>
Edit: No, it's not Sonic the Hedgehog :)</td> </tr></table><span class="postbody">
<br/>
that rocks! it's not much, but it's still very impressing. :^D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156176 - silent_code - Wed May 07, 2008 12:49 pm</h4>
    <div class="postbody"><span class="postbody">SORRY FOR THE DOUBLE POST!
<br/>
<br/>
&lt;OT/&gt;
<br/>
sadly, you can't compare a brain to a computer.
<br/>
computers are much quicker with the rather trivial task they are limited to. even though some people can perform pretty impressive calculations in a mere seconds, it's stil no match even for the simplest and slowes processor.
<br/>
<br/>
on the other hand people a capable of making things up, understanding and interpreting things as complex as human languages etc. and after all, we *create* computers. ;^D
<br/>
<br/>
so to summarize this: we are more flexible and have many more functionality and "build in software", but due to the massive number of tasks (NT) or the intensity (AUT) with which we perform each moment, we are quite limited in our "immediete mode processing power". ;^D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156183 - ritz - Wed May 07, 2008 2:48 pm</h4>
    <div class="postbody"><span class="postbody">Thanks silent_code. It's really just a test area and not a level or anything. But it is big enough to allow me to test most the code. It'd be simple enough to make an actual level/town/whatever, just add more stuff to the .map files (would also have to use a libfat build as the RAM is max'd out with gbfs currently).
<br/>
Of course, I'd have to have some skill in creating a nice looking town/dungeon too :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156226 - keldon - Wed May 07, 2008 10:12 pm</h4>
    <div class="postbody"><span class="postbody">Oh gosh, what was the complex maths problem that a guy was able to solve in seconds that takes a PC hours to calculate?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156242 - silent_code - Thu May 08, 2008 12:35 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">Oh gosh, what was the complex maths problem that a guy was able to solve in seconds that takes a PC hours to calculate?</td> </tr></table><span class="postbody">
<br/>
you mean "that took the programmer's code hours to calculate", right? ;^p
<br/>
i can think of lots of possibilities to waste computations and memory access to slow things down. ;^D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156285 - keldon - Thu May 08, 2008 3:06 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">Oh gosh, what was the complex maths problem that a guy was able to solve in seconds that takes a PC hours to calculate?</td> </tr></table><span class="postbody">
<br/>
you mean "that took the programmer's code hours to calculate", right? ;^p
<br/>
i can think of lots of possibilities to waste computations and memory access to slow things down. ;^D</span></td> </tr></table><span class="postbody">
<br/>
Oh, my bad; he didn't outperform a PC ... but he did get the 13th root of a 100 digit number in under 4 seconds!
<br/>
<br/>
<a href="http://www.metro.co.uk/news/article.html?in_article_id=79323&amp;in_page_id=34" target="_blank">http://www.metro.co.uk/news/article.html?in_article_id=79323&amp;in_page_id=34</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156293 - silent_code - Thu May 08, 2008 4:54 pm</h4>
    <div class="postbody"><span class="postbody">VERY impressive! i wonder how fast the nds (read: a fairly well written software that supports 200+ digit numbers) could do that? :^D
<br/>
<br/>
ps: we're a bit OT. ;^)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156298 - Miked0801 - Thu May 08, 2008 6:24 pm</h4>
    <div class="postbody"><span class="postbody">You know how they do that right?  They memorized a couple of large tables of numbers.  Then they can quickly interpolate the answer.  They take months to prepare for these challenges.  A program using the same technique could calculate the answer instantly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156300 - silent_code - Thu May 08, 2008 7:40 pm</h4>
    <div class="postbody"><span class="postbody">yes, and it involves lots of prime numbers! ;^D
<br/>
still, i wonder how many such calculations per second the nds could make. :^D
<br/>
as the article states, the guy has a "large memory". i wonder if he's capable of memoryzing ~4 mb worth of 200+ digit numbers. :^D
<br/>
<br/>
ps: just to be at least once on topic: i do nds 3d, too. maybe someone rememberst the volume shadow demo i made. my interests go beyond making demos, though. ;^)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
