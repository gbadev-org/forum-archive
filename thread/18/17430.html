<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DS Vertice Count - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > DS Vertice Count</h2>
<div id="posts">
<div class="post">
    <h4>#175539 - gameporter - Thu Dec 16, 2010 9:17 pm</h4>
    <div class="postbody"><span class="postbody">Hi all,
<br/>
I read on Wikipedia that the DS (Lite) is capable of rendering 6,144 vertices per frame. From my experience using Blender, you can have around &gt;6,000 polys on a model with this many vertices. Can the DS render this many polys or is it limited to a theoretical 2,048 triangles?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175540 - elhobbs - Fri Dec 17, 2010 2:25 am</h4>
    <div class="postbody"><span class="postbody">limited to 2048 triangles</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175541 - gameporter - Fri Dec 17, 2010 4:47 pm</h4>
    <div class="postbody"><span class="postbody">So the DS doesn't share vertices? Darn. Well, that's still better than the N64.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175542 - sverx - Fri Dec 17, 2010 6:03 pm</h4>
    <div class="postbody"><span class="postbody">don't know what you mean with 'DS doesn't share vertices?' but I know that you can do 'strips', read here: <a href="http://nocash.emubase.de/gbatek.htm#ds3dpolygondefinitionsbyvertices" target="_blank">http://nocash.emubase.de/gbatek.htm#ds3dpolygondefinitionsbyvertices</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175543 - elhobbs - Fri Dec 17, 2010 8:54 pm</h4>
    <div class="postbody"><span class="postbody">I seem to recall that they are expanded in the vertex ram to 3 per triangle. the referenced gbatek section also points out that clipped polygons get split and add to vertex ram. I want to say that the only saving is by using quads where possible instead of triangles -- though the same clipping situation applies to both.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175545 - gameporter - Sat Dec 18, 2010 8:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">don't know what you mean with 'DS doesn't share vertices?' </td> </tr></table><span class="postbody">
<br/>
<br/>
Share vertices with other polygons. Jigglypuff or Kirby makes extensive use of it in Super Smash Bros.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175547 - Rexhunter99 - Sun Dec 19, 2010 3:12 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gameporter wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote">don't know what you mean with 'DS doesn't share vertices?' </td> </tr></table><span class="postbody">
<br/>
<br/>
Share vertices with other polygons. Jigglypuff or Kirby makes extensive use of it in Super Smash Bros.</span></td> </tr></table><span class="postbody">
<br/>
When it all boils down to the graphics processor, you have to deal with triangles and three vertices for that triangle you are rendering.  The Kirby and Jigglipuff models do not share vertices in the way you are thinking, they are sharing vertices within the file data to reduce file size.  They still have to render TriangleCount * 3 vertices within the GPU.
<br/>
<br/>
Infact the only hardware to not use the trianglecount * 3 that I know of is the Sega Saturn which used Quads instead of Triangles within the processor, therefore the result was QuadCount * 4 (or TriangleCount * 2 * 3)<br/>_________________<br/><a class="postlink" href="http://crocfanforum.forumotion.com/programming-f7/croc-ds-he-s-back-t28.htm" target="_blank"></a><a href="http://img411.imageshack.us/img411/4229/dscroclife2.gif">[Images not permitted - Click here to view it]</a> - Move over Mario... Cruise by Crash... Croc Rocks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175551 - Exophase - Tue Dec 21, 2010 10:59 pm</h4>
    <div class="postbody"><span class="postbody">Vertexes are in fact shared on DS, but there's still a separate polygon RAM that's limited to 2048 triangles (one third the number of vertexes you can store). So if you only have triangles you don't benefit from the shared vertexes in terms of gaining screen space storage. On the other hand, you're not limited to 1536 quads, but some larger number, IIRC around 1774. It's less than 2048 because the entries in polygon RAM take up more space to store an additional vertex pointer.
<br/>
<br/>
So it's to your benefit to use quads over pairs of triangles (in strips or otherwise). You still benefit from using strips in general by reducing the amount of data that has to be sent to and transformed by the geometry engine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175552 - gameporter - Tue Dec 21, 2010 11:45 pm</h4>
    <div class="postbody"><span class="postbody">Thanks Rex! That cleared everything up.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175553 - gameporter - Tue Dec 21, 2010 11:57 pm</h4>
    <div class="postbody"><span class="postbody">Another question: Since the DSi's main CPU is twice as fast as the DS's and it's used for graphics, would there be better graphics if a game were made specifically for the DSi?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175556 - sverx - Wed Dec 22, 2010 12:16 pm</h4>
    <div class="postbody"><span class="postbody">The main CPU isn't the one that works on your graphics, AFAIK.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175557 - DiscoStew - Mon Dec 27, 2010 7:26 pm</h4>
    <div class="postbody"><span class="postbody">The actual 3D hardware would have had to have been changed to accommodate any improvements, but as far as we know, that wasn't changed at all.
<br/>
<br/>
The increased CPU frequency, while not directly affecting graphical capabilities, can allow for some pre-processing on the graphics though, like vertex manipulation.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175558 - gameporter - Mon Dec 27, 2010 10:08 pm</h4>
    <div class="postbody"><span class="postbody">What could you do with the extra 12 MB of memory?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175561 - sverx - Tue Dec 28, 2010 11:51 am</h4>
    <div class="postbody"><span class="postbody">BTW I still didn't find a 'complete' list of differences between DS and DSi, apart from what it's visible for everyone... do some of you knows more?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175563 - gameporter - Tue Dec 28, 2010 7:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DiscoStew wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The increased CPU frequency, while not directly affecting graphical capabilities, can allow for some pre-processing on the graphics though, like vertex manipulation.</td> </tr></table><span class="postbody">
<br/>
<br/>
Can you be more specific?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175569 - DiscoStew - Wed Dec 29, 2010 8:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gameporter wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DiscoStew wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The increased CPU frequency, while not directly affecting graphical capabilities, can allow for some pre-processing on the graphics though, like vertex manipulation.</td> </tr></table><span class="postbody">
<br/>
<br/>
Can you be more specific?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Specifics are based on what you require. More processing "can" equal more things you can do in a set period of time, depending on how you code it. What you do with that extra processing is up to you. Same with more RAM.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175599 - brave_orakio - Mon Jan 03, 2011 5:42 am</h4>
    <div class="postbody"><span class="postbody">Hmmm... Can I ask a related question here? Like If I set a bunch of quads or triangles to maximum transparency making them invisible, would it still count to the number of vertices used?<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175669 - Exophase - Thu Jan 13, 2011 9:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>brave_orakio wrote:</b></span></td> </tr> <tr> <td class="quote">Hmmm... Can I ask a related question here? Like If I set a bunch of quads or triangles to maximum transparency making them invisible, would it still count to the number of vertices used?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes. The geometry engine isn't affected by any pixel properties of the primitive. But if they're completely off the screen or are back-facing they'll get culled and won't count.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175671 - brave_orakio - Fri Jan 14, 2011 7:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Yes. The geometry engine isn't affected by any pixel properties of the primitive. But if they're completely off the screen or are back-facing they'll get culled and won't count.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ah I see, thank you. Looks like I have to manually skip rendering invisible quads then. What is back-facing by the way?<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175672 - DiscoStew - Fri Jan 14, 2011 9:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>brave_orakio wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Yes. The geometry engine isn't affected by any pixel properties of the primitive. But if they're completely off the screen or are back-facing they'll get culled and won't count.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ah I see, thank you. Looks like I have to manually skip rendering invisible quads then. What is back-facing by the way?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
A polygon has a front and a back. You can set the polygon to have front/back culling. With back-facing, if you have back culling set, and the polygon's back is facing towards the viewer, then it isn't drawn. Same with having front-culling, and the front of the polygon is pointed towards the viewer.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175676 - elhobbs - Fri Jan 14, 2011 2:39 pm</h4>
    <div class="postbody"><span class="postbody">you can also turn off culling altogether. it is a per polygon attribute so you can set it before each polygon. one use for this is to turn on backface culling for solid polygons and to turn it off independently for translucent/alpha polygons.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
