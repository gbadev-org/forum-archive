<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Interprocessor communication - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Interprocessor communication</h2>
<div id="posts">
<div class="post">
    <h4>#162530 - RobinWatts - Thu Sep 04, 2008 12:44 pm</h4>
    <div class="postbody"><span class="postbody">Hi all,
<br/>
<br/>
Am I right in thinking that only the ARM9 can write to files etc?
<br/>
<br/>
I've got my profiler working nicely on the ARM9, and it struck me that the same code would probably work perfectly on the ARM7 too - but that the ARM7 wouldn't be able to write it's data out.
<br/>
<br/>
So, maybe when I kick the profiler off on the ARM9, I should somehow communicate to the ARM7 to get it to run some code too, and likewise to transfer the data back at the end...
<br/>
<br/>
Does that sound feasible? Any pointers for docs or example code for this sort of thing?
<br/>
<br/>
Thanks,
<br/>
<br/>
Robin</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162535 - hacker013 - Thu Sep 04, 2008 4:46 pm</h4>
    <div class="postbody"><span class="postbody">use FIFO. There is a FIFO library out but that is lib is complicated. But you can also make your own.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162537 - chuckstudios - Thu Sep 04, 2008 5:24 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">use FIFO. There is a FIFO library out but that is lib is complicated. But you can also make your own.</td> </tr></table><span class="postbody">
<br/>
<br/>
If he wrote his own profiler, I doubt he'll find a FIFO library complicated. <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=13430" target="_blank">This</a> is the only result for 'FIFO' in the first page of search results that looked useful.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162545 - RobinWatts - Thu Sep 04, 2008 7:44 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">use FIFO. There is a FIFO library out but that is lib is complicated. But you can also make your own.</td> </tr></table><span class="postbody">
<br/>
<br/>
My profiler is specific to libnds (it uses the functions in there to setup interrupts etc). The idea is that a user should have to make the minimum number of changes possible to their source to use the profiler. (Currently it's a call to start it at the beginning of the arm9 main, and a call to stop it at the end).
<br/>
<br/>
(If atexit worked, I could avoid having to have the stop call).
<br/>
<br/>
Ideally I'd like to extend it to profile the arm7 too, but as that can't write to disc, it'd need to communicate to the arm9. Given that this communication is required, it'd be nicest if starting/stopping the profiler on the arm9 started/stopped it automatically on the arm7.
<br/>
<br/>
As such I was hoping there might be some interprocessor communication built into libnds that I could piggy back on so it would work without upsetting any existing arm7 &lt;-&gt; arm9 communications.
<br/>
<br/>
If libnds doesn't have a standard inbuilt way of communicating that I can piggy back onto without requiring any changes to the arm7 or arm9 source that I'm profiling, then it seems like I'm going to have to think about alternative ways to achieve this.
<br/>
<br/>
Thanks,
<br/>
<br/>
Robin</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162552 - hacker013 - Thu Sep 04, 2008 8:47 pm</h4>
    <div class="postbody"><span class="postbody">you can also use IPC<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
