<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to use GL_OUTLINE ? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > How to use GL_OUTLINE ?</h2>
<div id="posts">
<div class="post">
    <h4>#147471 - ix78 - Fri Dec 21, 2007 5:24 am</h4>
    <div class="postbody"><span class="postbody">First post... woohoo~
<br/>
<br/>
Anyway, I'm wondering how do I display polygon outline in NDS?
<br/>
Below is a snippet of my code...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glClearColor(31, 31, 31, 31);
<br/>
glClearPolyID(63);
<br/>
<br/>
glEnable(GL_ANTIALIAS | GL_OUTLINE);
<br/>
glSetOutlineColor(0, RGB15(0,0,31));
<br/>
<br/>
glPolyFmt(POLY_ID(0));
<br/>
<br/>
DrawBox(...);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The result is still a normal 3D box with no outline... Did I miss something?
<br/>
<br/>
Thanks a lot!
<br/>
<br/>
p.s - I'm using iDeaS</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147474 - Lino - Fri Dec 21, 2007 7:40 am</h4>
    <div class="postbody"><span class="postbody">iDeaS doest emuate the outline.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147475 - ix78 - Fri Dec 21, 2007 8:02 am</h4>
    <div class="postbody"><span class="postbody">i see... thx for the info</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147478 - a128 - Fri Dec 21, 2007 9:39 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://nocash.emubase.de/gbatek.htm#ds3dtoonedgefog" target="_blank">http://nocash.emubase.de/gbatek.htm#ds3dtoonedgefog</a>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
        glSetOutlineColor(0, RGB15(0,0,0));
<br/>
        glSetOutlineColor(1, RGB15(0,0,0));
<br/>
</td> </tr></table><span class="postbody">
<br/>
for each frame
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   glEnable(GL_OUTLINE);
<br/>
</td> </tr></table><span class="postbody">
<br/>
from gbatek: Edge Color 0 is used for Polygon ID 00h..07h, Color 1 for ID 08h..0Fh, and so on.
<br/>
When enabled, the polygon edges are drawn at the edge color, but only if the old ID value in the Attribute Buffer is different than the Polygon ID of the new polygon, so no edges are drawn between connected or overlapping polygons with same ID values.
<br/>
<br/>
So to have outline color 0 use POLY_ID(0)....POLY_ID(7) 
<br/>
<br/>
Its important which POLY_ID have the first poly you draw.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162290 - a128 - Fri Aug 29, 2008 9:47 pm</h4>
    <div class="postbody"><span class="postbody">I just use the outline feature and of course discovered the problem that
<br/>
if you draw a scene with i.e. POLY_ID(2)  and some elements with POLY_ID(15) - so I will these elements to have the outline
<br/>
<br/>
then at least one element off the POLY_ID(2) scene will have a outline becauie the first POLY_ID you draw is 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">glClearPolyID(63); </td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">glClearPolyID(2)</td> </tr></table><span class="postbody"> solves that problem.
<br/>
<br/>
The question is - as I see no visual difference ....why should i have
<br/>
<br/>
glClearPolyID(63); ?!
<br/>
<br/>
libnds says because of AA to work. But I can not see that AA is broken</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162291 - AntonioND - Sat Aug 30, 2008 12:20 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote"><a class="postlink" href="http://nocash.emubase.de/gbatek.htm#ds3dtoonedgefog" target="_blank">http://nocash.emubase.de/gbatek.htm#ds3dtoonedgefog</a>
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
        glSetOutlineColor(0, RGB15(0,0,0));
<br/>
        glSetOutlineColor(1, RGB15(0,0,0));
<br/>
</td> </tr></table><span class="postbody">
<br/>
for each frame
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   glEnable(GL_OUTLINE);
<br/>
</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
In fact, I use outlining without enabling it every frame... And it DOES work ok.
<br/>
<br/>
PS: Outlining does only work with polygons with alpha 0 or 31.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162299 - Lino - Sat Aug 30, 2008 6:12 pm</h4>
    <div class="postbody"><span class="postbody">but does it require normal Vertices?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#162308 - AntonioND - Sat Aug 30, 2008 10:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lino wrote:</b></span></td> </tr> <tr> <td class="quote">but does it require normal Vertices?</td> </tr></table><span class="postbody">
<br/>
What do you mean?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#163311 - a128 - Mon Sep 29, 2008 2:17 pm</h4>
    <div class="postbody"><span class="postbody">Disabling the outline effect for certain objects (if the poly id scheme breaks)
<br/>
use  translucent polygons i.e. with alpha=30</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
