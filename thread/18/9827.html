<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>app to download files from webserver - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > app to download files from webserver</h2>
<div id="posts">
<div class="post">
    <h4>#86632 - EyeballKid - Thu Jun 08, 2006 1:27 pm</h4>
    <div class="postbody"><span class="postbody">Hi all,
<br/>
I've written a small NDS app to download files over wifi from a webserver and save them on a memory card.
<br/>
<br/>
My main motivation is to avoid having to swap the memory cards between the DS and the PC so often (I've already busted one M3PerfectSD through overuse).
<br/>
Instead I'll just get the DS to grab it over wifi from the webserver running on my development machine.
<br/>
<br/>
It's up and running and seems to work great so far. I want to pack it up and make it available, but I've got a couple of questions first:
<br/>
<br/>
1) I'd like to get it to boot an nds file after downloading it. Can anyone point me in the direction of some good example code for launching NDSs?
<br/>
(at the moment, I power down after the download, then power back up and boot it manually)
<br/>
<br/>
2) I need a name for it. I'm calling it webme for now, but that seems a bit crap. Any better suggestions?
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86636 - tepples - Thu Jun 08, 2006 1:54 pm</h4>
    <div class="postbody"><span class="postbody">You could call it "HTTP Download Play", especially if you manage to make it load .nds files without saving them to the memory card.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86644 - Grey - Thu Jun 08, 2006 3:04 pm</h4>
    <div class="postbody"><span class="postbody">This will be a great app! 
<br/>
<br/>
I was just fearing the wear and tear as yesterday I plugged in my EZ4 to run my new code and it gave me a minisd card not detected error, took out and reinserted and it then worked but... :(
<br/>
<br/>
Are you going to have versions for the different cards? At least SC SD/CF, M3 SD/CF, and EZ4 (which will become more popular I'm betting when the lite version is out to buy).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86647 - darkgilson - Thu Jun 08, 2006 3:26 pm</h4>
    <div class="postbody"><span class="postbody">What about Share DS ? (like Share kazza...)
<br/>
<br/>
I'M very impatient to see this project ! ! ! !
<br/>
<br/>
But is the speed download interresting ?
<br/>
Have we to tape on the DS the link for the download, or is it usable with a config file in SD/CF?
<br/>
<br/>
Keep work, if you need beta testers I'm ready ;) 
<br/>
For .NDS launch, see the source code of Moonshell or DSOrganize. Both are certainly interresting...
<br/>
<br/>
Excuse my if my English is so bad... I'm Belgian ; )
<br/>
<br/>
Darkgilson<br/>_________________<br/>Soon Blubb in 3D !</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86659 - parrot_ - Thu Jun 08, 2006 4:08 pm</h4>
    <div class="postbody"><span class="postbody">Hasn't this been done already? Not meaning to offend! It is good for healthy competition.<br/>_________________<br/>Squak! etc.
<br/>
<a class="postlink" href="http://squakly.wordpress.com" target="_blank">My Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86670 - 0xtob - Thu Jun 08, 2006 4:40 pm</h4>
    <div class="postbody"><span class="postbody">parrot_: Yes, there's already <a class="postlink" href="http://bafio.drunkencoders.com/" target="_blank">Bafio's Wifi Transfer app</a>. But it is rather outdated because it uses UDP and is compiled against Wifilib 0.2, which does not yet have WEP. I patched it to work with the new version, but it is rather unstable, probably because of UDP. So, a project like this may be just what we need.
<br/>
<br/>
Eyeballkid: I've put a quick <a class="postlink" href="http://tobw.net/dswiki/index.php?title=How_to_boot_a_.nds" target="_blank">article</a> in DSWiki that shows how to launch a NDS file (works on GBAMP at least). Keep it up!
<br/>
<br/>
Bye,
<br/>
Tob</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86672 - bafio - Thu Jun 08, 2006 4:51 pm</h4>
    <div class="postbody"><span class="postbody">Actually, this is a good idea, 
<br/>
I have been thinking about converting my wifi transfer app to http myself, but I'm quite lazy lately. You can find the methods to boot an nds on GBAMP in moonshell and rain (I used the rain method becaused it seemd really simple to implement).
<br/>
I would suggest to implement a very simple file list support as well...
<br/>
<br/>
I'm looking forward to it ;) 
<br/>
<br/>
Bafio</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86707 - Scorpei - Thu Jun 08, 2006 7:08 pm</h4>
    <div class="postbody"><span class="postbody">This is a very interesting app.
<br/>
I hope you finish it soon :).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86713 - EyeballKid - Thu Jun 08, 2006 7:29 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for all the nice comments!
<br/>
<br/>
OK, it's now called DSlurper.
<br/>
"D" for DS.
<br/>
"Slurper" because that's what it does.
<br/>
<br/>
I've packed it up (both source and binaries), and you can download it from:
<br/>
<a class="postlink" href="http://www.scumways.com/dslurper/dslurper-0.1.tar.gz" target="_blank">http://www.scumways.com/dslurper/dslurper-0.1.tar.gz</a>.
<br/>
<br/>
Quick summary:
<br/>
<ul>
<br/>
* You create a config file ("dslurper.cfg") that contains the URL you want to slurp and plonk it in the root of the memory card.
<br/>
* When you run dslurper, it immediately tries to download a file from that URL and save it on the card.
<br/>
* Read the README and TODO files for more info
<br/>
* I've only tested it on my SuperCard SD. Please report any successes/failures with other cards so I can add them to the README!
<br/>
* No launch code yet, but that's top of my todo list. 0xt0b: thanks for the wiki entry! If I find any extra info I'll add to it.
<br/>
</ul>
<br/>
<br/>
Think that covers it for now... feedback welcome!
<br/>
Enjoy!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86714 - Lynx - Thu Jun 08, 2006 7:34 pm</h4>
    <div class="postbody"><span class="postbody">Yeah.. that would be great.. It's been talked about, but I don't know if anyone else has been working on something like this yet.  Also, if you wanna use ndshb.com to pull files from, let me know and we can figure out how to make it work (how the files need to be stored on ndshb.com to work).
<br/>
<br/>
Also, to decrease download times, you might want to try implementing some kind of decompression.. an unzipper would be nice.. :)<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86716 - EyeballKid - Thu Jun 08, 2006 7:43 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lynx wrote:</b></span></td> </tr> <tr> <td class="quote">Also, to decrease download times, you might want to try implementing some kind of decompression.. an unzipper would be nice.. :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Yep, that'd be pretty cool. Definitely doable, and I'll add it to the TODO list.
<br/>
<br/>
At the moment the stuff I'm working on isn't big enough to be a problem, so I'm not likely to do it until my projects get big enough that the transfer speed starts to annoy me :-)
<br/>
<br/>
However, it occured to me this morning that the _correct_ solution is to just dump HTTP altogether and use a protocol like rsync (see <a class="postlink" href="http://samba.anu.edu.au/rsync/" target="_blank">http://samba.anu.edu.au/rsync/</a>). I don't mind a slow initial transfer if subsequent transfers are ultra-quick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86717 - swimgod - Thu Jun 08, 2006 7:48 pm</h4>
    <div class="postbody"><span class="postbody">(i have a supercardCF btw)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>EyeballKid wrote:</b></span></td> </tr> <tr> <td class="quote">Thanks for all the nice comments!
<br/>
<br/>
OK, it's now called DSlurper.
<br/>
"D" for DS.
<br/>
"Slurper" because that's what it does.
<br/>
<br/>
I've packed it up (both source and binaries), and you can download it from:
<br/>
<a class="postlink" href="http://www.scumways.com/dslurper/dslurper-0.1.tar.gz" target="_blank">http://www.scumways.com/dslurper/dslurper-0.1.tar.gz</a>.
<br/>
<br/>
Quick summary:
<br/>
<ul>
<br/>
* You create a config file ("dslurper.cfg") that contains the URL you want to slurp and plonk it in the root of the memory card.
<br/>
* When you run dslurper, it immediately tries to download a file from that URL and save it on the card.
<br/>
* Read the README and TODO files for more info
<br/>
* I've only tested it on my SuperCard SD. Please report any successes/failures with other cards so I can add them to the README!
<br/>
* No launch code yet, but that's top of my todo list. 0xt0b: thanks for the wiki entry! If I find any extra info I'll add to it.
<br/>
</ul>
<br/>
<br/>
Think that covers it for now... feedback welcome!
<br/>
Enjoy!</td> </tr></table><span class="postbody">
<br/>
i opened up your source code and tried to build with the latest wifi lib(from cvs) and it gave me a missing function error
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
f:/dslurper/arm9/source/happyhttp.cpp: In function 'in_addr* happyhttp::atoaddr(const char*)':
<br/>
f:/dslurper/arm9/source/happyhttp.cpp:208: error: 'inet_addr' was not declared in this scope
<br/>
make[2]: *** [happyhttp.o] Error 1
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
this confusses me :D
<br/>
<br/>
<br/>
//edit
<br/>
to be really cheap i decided to comment those lines out,
<br/>
now the app builds and i can run it on my ds...
<br/>
<br/>
when i try to download the file i put it says this 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dslurper wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
init wifi...ok
<br/>
fetch
<br/>
<a href="http://[server_ip]/~[user]/[file]" target="_blank">http://[server_ip]/~[user]/[file]</a>
<br/>
<br/>
ERROR:
<br/>
recv(): Spftware caused connection abort
<br/>
<br/>
*** fin! ***
<br/>
</td> </tr></table><span class="postbody">
<br/>
i replaced [..]'s with the right information and i check the url and it works on my pc<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86723 - Scorpei - Thu Jun 08, 2006 8:10 pm</h4>
    <div class="postbody"><span class="postbody">Could you make the config file a txt file.
<br/>
That way it could be changed via the DS (via DSorganise for example).
<br/>
<br/>
-Or make an url input function ;)
<br/>
I'm also wondering, does this only work locally?
<br/>
When I enter a "real" url --&gt; <a href="http://www.simonvandeberg.be/blabalabl" target="_blank">http://www.simonvandeberg.be/blabalabl</a>
<br/>
It gives me an invalid url error.
<br/>
<br/>
*sorry to get a bit of topic, but I'm wondering a bit, does the "new" Sata version of the FAT driver also work with CF devices (e.g. GBAMP and etc.)?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86731 - swimgod - Thu Jun 08, 2006 8:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Scorpei wrote:</b></span></td> </tr> <tr> <td class="quote">Could you make the config file a txt file.
<br/>
That way it could be changed via the DS (via DSorganise for example).
<br/>
<br/>
-Or make an url input function ;)
<br/>
I'm also wondering, does this only work locally?
<br/>
When I enter a "real" url --&gt; <a href="http://www.simonvandeberg.be/blabalabl" target="_blank">http://www.simonvandeberg.be/blabalabl</a>
<br/>
It gives me an invalid url error.
<br/>
<br/>
*sorry to get a bit of topic, but I'm wondering a bit, does the "new" Sata version of the FAT driver also work with CF devices (e.g. GBAMP and etc.)?</td> </tr></table><span class="postbody">
<br/>
i made you a compiled one with dslurper.txt reader :),
<br/>
{pm me your email addresse if you want it...
<br/>
also if you look at his example it shows
<br/>
<a href="http://IP/~user/" target="_blank">http://IP/~user/</a>
<br/>
so find out your server's ip,
<br/>
and then put in your username
<br/>
and then the rest of the stuff...
<br/>
<br/>
this part worked for me
<br/>
:P
<br/>
(i also turned off the bottom backlight in my version :D)<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86733 - Scorpei - Thu Jun 08, 2006 8:39 pm</h4>
    <div class="postbody"><span class="postbody">I wish I was a coder like you :(.
<br/>
:), time to learn some more (after I get done with my Japanese studies, and my test week starting next monday :S).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86749 - swimgod - Thu Jun 08, 2006 10:06 pm</h4>
    <div class="postbody"><span class="postbody">hey i wonder if we could write the app to sram,
<br/>
and then launch it from sram...
<br/>
<br/>
(for supercard's and m3's)
<br/>
it would be better because more support :P...
<br/>
and it would be more of a testing app then a saving app...
<br/>
<br/>
i think its a good idea to try :P...
<br/>
<br/>
now if only i knew anything :P<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86753 - EyeballKid - Thu Jun 08, 2006 10:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>swimgod wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
i opened up your source code and tried to build with the latest wifi lib(from cvs) and it gave me a missing function error
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
f:/dslurper/arm9/source/happyhttp.cpp: In function 'in_addr* happyhttp::atoaddr(const char*)':
<br/>
f:/dslurper/arm9/source/happyhttp.cpp:208: error: 'inet_addr' was not declared in this scope
<br/>
make[2]: *** [happyhttp.o] Error 1
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
this confusses me :D
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Hmmm, sorry, but I don't really know why it's not finding inet_addr()...
<br/>
It's part of libwifi (#include &lt;netinet/in.h&gt;). Are you sure it's finding the right dswifi include files? Maybe there's some stray ones left over from an earlier version?
<br/>
<br/>
inet_addr() handles numeric IP addresses, eg "192.168.1.1", so without it numeric addresses won't work.
<br/>
<br/>
Maybe try it with a named address "http://wibble.foo.com/thingy" and see if it gets further...
<br/>
<br/>
Either way, the inet_addr() currently in CVS is a bit broken at the moment anyway. It'd still compile, but would return the wrong address. Apparently a fix is going in soonish.
<br/>
<br/>
Other stuff:
<br/>
I'll change the config file to .txt extension so other DS utils can edit it!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86754 - swimgod - Thu Jun 08, 2006 10:47 pm</h4>
    <div class="postbody"><span class="postbody">i decided to create the function :P,
<br/>
tell me if this looks right...
<br/>
because it compiles with this...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
const char* inet_addr( char in );
<br/>
char* out;
<br/>
<br/>
bool inet_addr( const char* in){
<br/>
   //
<br/>
   char* hostname = out;
<br/>
   while( *in &amp;&amp; *in != ':' &amp;&amp; *in !='/' )
<br/>
      *hostname++ = *in++;
<br/>
   *hostname++ = '\0';
<br/>
<br/>
   if( out[0] == '\0' ){
<br/>
      return false;   // hostname empty
<br/>
   }else{
<br/>
      return out;
<br/>
   }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
i don't know if it actually works right :P,
<br/>
but like i said it does compile :)...<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86781 - Scorpei - Fri Jun 09, 2006 6:31 am</h4>
    <div class="postbody"><span class="postbody">Something to be added (sorry haven't looked at the todo yet).
<br/>
A funtion that if there is no txt/config file, the output is that there is no file.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86783 - swimgod - Fri Jun 09, 2006 7:03 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Scorpei wrote:</b></span></td> </tr> <tr> <td class="quote">Something to be added (sorry haven't looked at the todo yet).
<br/>
A funtion that if there is no txt/config file, the output is that there is no file.</td> </tr></table><span class="postbody">
<br/>
check your email :P...
<br/>
it seems he forgot to put { and }'s in this part
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void ParseConfigFile()
<br/>
{
<br/>
   FAT_FILE* fp = FAT_fopen( CONFIG_FILE, "r" );
<br/>
   if( !fp )
<br/>
   {
<br/>
      return;
<br/>
         }
<br/>
      char line[256];
<br/>
      while( FAT_fgets( line, sizeof(line), fp ) )
<br/>
      {
<br/>
         const char* p = line;
<br/>
         while( *p &amp;&amp; *p == ' ' )
<br/>
            ++p;
<br/>
         if( *p == '#' || *p == '\0' )   // skip comments and blank lines
<br/>
            continue;
<br/>
         strcpy( g_SourceURL, p );
<br/>
      }
<br/>
   FAT_fclose(fp);
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
so i changed it to...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void ParseConfigFile()
<br/>
{
<br/>
   FAT_FILE* fp = FAT_fopen( CONFIG_FILE, "r" );
<br/>
   if( !fp )
<br/>
   {
<br/>
      printf("CONFIG FILE NOT FOUND!");
<br/>
      return;
<br/>
   }else{
<br/>
<br/>
      char line[256];
<br/>
      while( FAT_fgets( line, sizeof(line), fp ) )
<br/>
      {
<br/>
         const char* p = line;
<br/>
         while( *p &amp;&amp; *p == ' ' )
<br/>
            ++p;
<br/>
         if( *p == '#' || *p == '\0' )   // skip comments and blank lines
<br/>
            continue;
<br/>
         strcpy( g_SourceURL, p );
<br/>
      }
<br/>
   }
<br/>
   FAT_fclose(fp);
<br/>
}
<br/>
</td> </tr></table><span class="postbody"> :P<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86815 - Scorpei - Fri Jun 09, 2006 3:47 pm</h4>
    <div class="postbody"><span class="postbody">Very nice, now to make it understand the DNS.
<br/>
Then one can lookup the URL in DSLinux.
<br/>
vi the txt file, and startup the downloader :). Very nice.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#87381 - sonny_jim - Tue Jun 13, 2006 5:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Scorpei wrote:</b></span></td> </tr> <tr> <td class="quote">Very nice, now to make it understand the DNS.
<br/>
Then one can lookup the URL in DSLinux.
<br/>
vi the txt file, and startup the downloader :). Very nice.</td> </tr></table><span class="postbody">
<br/>
<br/>
Erm, surely if you have DSLinux you could just use NFS/SSH/Netcat?  But seeing as there's no Supercard SD support in DSLinux as yet, this app remains useful
<br/>
<br/>
EDIT: There is SD support in Linux now so retawq et all can be used</span><span class="gensmall"><br/><br/>Last edited by sonny_jim on Tue Aug 08, 2006 2:20 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#97119 - MasterMan - Tue Aug 08, 2006 2:27 am</h4>
    <div class="postbody"><span class="postbody">Hi all, i'm new here, and was reading and loving to know about DSLurker's existance.
<br/>
I don't know anything about coding, but...
<br/>
<br/>
And if it had a XML parser, and the GUI in DS listed all the files in the web folder available to download?
<br/>
<br/>
Lets say the DSLURKER.TXT config file were like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
<br/>
&lt;LIST ENTRIES='2'&gt;
<br/>
  &lt;ITEM
<br/>
    TITLE="My personal server"
<br/>
    URL="192.168.254.1/ndsfiles"
<br/>
    USER="user"
<br/>
    PASS="pass"/&gt;
<br/>
  &lt;ITEM
<br/>
    TITLE="A remote server"
<br/>
    URL="http://www.webhost.com/ndsfiles"
<br/>
    USER=""
<br/>
    PASS=""/&gt;
<br/>
&lt;/LIST&gt;</td> </tr></table><span class="postbody">
<br/>
All we had to do is put the downloadables in the server's apropriate folder and setup a right config file. Move DSLurker.nds and DSLurker.txt to SD/CF along a empty folder like "DOWNLOADED" where it would store the leeched files.
<br/>
<br/>
Personally i don't want it to autolaunch a executable after dowload, but it could be optional in the config, like <span style="font-weight: bold">&lt;LIST ENTRIES='2' AUTOLAUNCH=0&gt;</span>.
<br/>
Infact many more options could be in this XML fashion.
<br/>
<br/>
So, what you guys think?
<br/>
<a href="http://img61.imageshack.us/img61/5841/dslurkerzk1.jpg">[Images not permitted - Click here to view it]</a>
<br/>
A simplistic picture to give a idea.
<br/>
<a class="postlink" href="http://img61.imageshack.us/img61/5841/dslurkerzk1.jpg" target="_blank">http://img61.imageshack.us/img61/5841/dslurkerzk1.jpg</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97125 - chatterbug89 - Tue Aug 08, 2006 3:24 am</h4>
    <div class="postbody"><span class="postbody">Hmm, tried it out on the GBAMP...it appeared to work, but....my game woudlen't run on the DS when downloaded though dsslurper. :(
<br/>
<br/>
It seems really cool though.  It'd be cooler if it worked with my GBAMp though :-P
<br/>
<br/>
As for a couple other things...it'd be nice to be able to specify a new name for the file...it'd also be nice to be able to set multiple links to download in the config file and to be able to add files to be downloaded in the app itself.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97132 - brennan - Tue Aug 08, 2006 4:02 am</h4>
    <div class="postbody"><span class="postbody">Yeah, I wouln't mind naming all of the files in the .cfg, but editing it before evry time I send a file is kinda lame.<br/>_________________<br/>Hardware: <span style="font-style: italic">GBAMP v2</span>, <span style="font-style: italic">Datel MML</span>, <span style="font-style: italic">NDS phat (Flashme v7)</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97273 - EyeballKid - Tue Aug 08, 2006 11:04 pm</h4>
    <div class="postbody"><span class="postbody">The solution I'm leaning toward is:
<br/>
<br/>
1) You set up the URL to download in the config file (ideally editable on the DS using a GUI)
<br/>
2) DSlurper downloads the file at the URL
<br/>
3) If the URL was a DS-executable file, then it is run
<br/>
4) if the URL is an HTML file then it is parsed for all the links. The user is presented with a them as a list of files and can pick one to download. Go to step 2.
<br/>
<br/>
This means that you could just set up directory browsing on your webserver (or manually create an index.html which links to NDS files you want to be able to access) and add/remove NDS files without changing the config on the DS.
<br/>
<br/>
I'm a bit busy at the moment, but hopefully I'll get onto this soon.
<br/>
I'll also try switching to the new FAT library.
<br/>
<br/>
_My_ number-one missing feature is automatically rebooting with the downloaded NDS file. Looks like there is some new exec() code floating around out there, so I'll give that a whirl soon. Looks promising!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97322 - Lynx - Wed Aug 09, 2006 5:25 am</h4>
    <div class="postbody"><span class="postbody">Cool, when that version is released, I will create a url on ndshb.com.  Will it be able to go multiple html files deep?  Meaning, a main html that points to html that points to html that lists the .nds files (for category lists, etc)?  Also, I'm not sure what parameters you plan on allowing in the html file, but I would like to see file size on of them, so people know how big/long it might take to download at 1Mb (or slower).
<br/>
<br/>
Example I am thinking of would be like this:
<br/>
index.html
<br/>
<br/>
Choose Category:
<br/>
- Games
<br/>
- Apps
<br/>
- Demos
<br/>
- Newly Added
<br/>
<br/>
Choose Size:
<br/>
- Small (0-500K)
<br/>
- Medium (500 - 1Meg)
<br/>
- Large (1 - 2Meg)
<br/>
- X-Large (2+ Meg)
<br/>
<br/>
Games.html
<br/>
<br/>
Arcomage - Bodom Child - "Magic The Gathering" type card game - 3Meg
<br/>
A Touch of War - JimmyL - "Warcraft" style game - 940K
<br/>
<br/>
<br/>
Also, I don't know if it matters, but xml might be easier?<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98318 - monsti - Mon Aug 14, 2006 5:39 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>EyeballKid wrote:</b></span></td> </tr> <tr> <td class="quote">Hi all,
<br/>
I've written a small NDS app to download files over wifi from a webserver and save them on a memory card.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Hi - i patched dsluper and added some usefull functions.
<br/>
<br/>
1) based on libfat / requires DevKitPro 1.3.5
<br/>
<br/>
2) added iniparser library
<br/>
<br/>
3) Indirect download. 
<br/>
<br/>
What is indirect download?
<br/>
<br/>
In dsluper.ini on your NDS you add a url - if inidrect download is enabled a 2nd Ini file will be fetched from that url instead of a single nds.
<br/>
<br/>
Within this ini file you can add other urls to download.
<br/>
<br/>
Example:
<br/>
<br/>
dslurper.ini -&gt; <a href="http://foo.example.com/download.ini" target="_blank">http://foo.example.com/download.ini</a>
<br/>
<br/>
NDS will fetch download.ini and parse it
<br/>
<br/>
download.ini contains: 
<br/>
<br/>
http//foo.example.com/file/nds1.nds
<br/>
http//foo.example.com/file/nds2.nds,
<br/>
http//foo.example.com/file/README
<br/>
<br/>
now this files get's downloaded.
<br/>
<br/>
Here the Url to get dslurper 0.1a
<br/>
<br/>
<a href="http://m11s12.vlinux.de/nds/dslurper-0.1a.tar.gz" target="_blank">http://m11s12.vlinux.de/nds/dslurper-0.1a.tar.gz</a>
<br/>
<br/>
Have fun.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98320 - DynamicStability - Mon Aug 14, 2006 5:43 pm</h4>
    <div class="postbody"><span class="postbody">Tag for later testing.<br/>_________________<br/>Framebuffer is dead.
<br/>
DynaStab.DrunkenCoders.com</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98371 - monsti - Mon Aug 14, 2006 11:01 pm</h4>
    <div class="postbody"><span class="postbody">Hi again!
<br/>
<br/>
here a PHP script to autogenerate "ini" Files to use with dslurper-0.1a
<br/>
<br/>
<a href="http://m11s12.vlinux.de/nds/dslurper.php.txt" target="_blank">http://m11s12.vlinux.de/nds/dslurper.php.txt</a>
<br/>
<br/>
In this script you enter directories and a filemask. It generates downloadable content for dslurper-0.1a.
<br/>
<br/>
I tried to be (somehow) secure but i suggest using this skript only in internal networks.
<br/>
<br/>
Sorry i didn't try this on Windows PHP installations.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98438 - EyeballKid - Tue Aug 15, 2006 9:18 am</h4>
    <div class="postbody"><span class="postbody">Nice one Monsti!
<br/>
I look forward to checking it out!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98453 - monsti - Tue Aug 15, 2006 11:04 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>EyeballKid wrote:</b></span></td> </tr> <tr> <td class="quote">Nice one Monsti!
<br/>
I look forward to checking it out!</td> </tr></table><span class="postbody">
<br/>
<br/>
There is a small bug:
<br/>
<br/>
arm9_main.cpp - line 200
<br/>
<br/>
change this to:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
for( k = 0; k &lt;= b; k ++ )
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98598 - toa - Wed Aug 16, 2006 9:07 am</h4>
    <div class="postbody"><span class="postbody">I've tried the 0.1 and 0.1a. 
<br/>
Iv' tried patching the 0.1 release, hacking the 0.1a with the FAT lib from 0.1 a and then patching to supercard lite, no luck
<br/>
<br/>
Any ideas?
<br/>
<br/>
Thanks in advance
<br/>
TOA</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98633 - monsti - Wed Aug 16, 2006 5:24 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
i use devkitpro 19b with default libfat.
<br/>
<br/>
Can you try this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157143 - pas - Mon May 19, 2008 7:41 pm</h4>
    <div class="postbody"><span class="postbody">sorry to dig out this old topic again eyeballkid, I just wanted to ask, if it would be possible to add DLDI to DSlurper and if you are gonna continue it or already abadoned it.
<br/>
<br/>
Thx for your work and answers in advance:
<br/>
<br/>
pas<br/>_________________<br/><a class="postlink" href="http://www.petitiononline.com/blizzds/petition.html" target="_blank">Starcraft DS ?</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157629 - EyeballKid - Tue May 27, 2008 12:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pas wrote:</b></span></td> </tr> <tr> <td class="quote">sorry to dig out this old topic again eyeballkid, I just wanted to ask, if it would be possible to add DLDI to DSlurper and if you are gonna continue it or already abadoned it.
<br/>
pas</td> </tr></table><span class="postbody">
<br/>
<br/>
Funny you should ask - I changed it to use the new fat library (i.e. DLDI) quite recently.
<br/>
I was also trying to add boot support (using Maxwell Goodman's bootlib) so it could automatically run the downloaded file... but just couldn't get that working... :-(
<br/>
<br/>
Anyway, I'll sort out a new release with the DLDI support soon!
<br/>
Maybe someone else will have a go at adding reboot support ;-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157758 - HyperHacker - Wed May 28, 2008 11:57 pm</h4>
    <div class="postbody"><span class="postbody">Use Chishm's loader, it's easy and works great.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
