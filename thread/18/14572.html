<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Bootlib 1.3b [Updated 12/13/07] - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Bootlib 1.3b [Updated 12/13/07]</h2>
<div id="posts">
<div class="post">
    <h4>#145851 - tondopie - Fri Nov 23, 2007 9:37 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">Description</span>
<br/>
bootlib is a library that aids in the booting of .nds files in programs.
<br/>
<br/>
GBAMP Internal loader = <span style="font-weight: bold"><span style="color: green">Works</span></span>
<br/>
SuperCard Internal Loader = <span style="font-weight: bold"><span style="color: green">Works</span></span>
<br/>
Chishm's Loader = <span style="color: green"><span style="font-weight: bold">Workis</span></span>
<br/>
M3 Internal Loader = <span style="color: green"><span style="font-weight: bold">Works</span></span>
<br/>
EZ-Flash 4 Loader = <span style="color: green"><span style="font-weight: bold">Works</span></span>
<br/>
<br/>
<br/>
<br/>
Feedback is much apprciated!
<br/>
<br/>
<span style="font-weight: bold">Compatability</span>
<br/>
<ul>
<br/>
* SuperCard Slot-2: <span style="color: green">Works</span>
<br/>
* M3 Slot-2: <span style="color: green">Works</span>
<br/>
* EZ-Flash IV: <span style="color: green">Works</span>
<br/>
* EZ-Flash V: <span style="color: green">Works</span> (Unconfirmed)
<br/>
* SuperCard DS One: <span style="color: red">Failed</span> (Unconfirmed)
<br/>
* R4/M3 Simply: <span style="color: red">Failed</span>
<br/>
* MMD: <span style="color: green">Works</span>
<br/>
* GBAMP: <span style="color: green">Works</span>
<br/>
* All others: <span style="color: orange">Probably Works</span>
<br/>
</ul>
<br/>
<span style="font-weight: bold">Features</span>
<br/>
<br/>
* Cart Detection
<br/>
<br/>
* Automatic loader selection
<br/>
<br/>
* Works in libnds and PAlib.
<br/>
<br/>
<span style="font-weight: bold"><span style="color: red">PAlib solution:</span> </span><a class="postlink" href="http://palib.info/forum/modules/newbb/viewtopic.php?topic_id=3889" target="_blank">http://palib.info/forum/modules/newbb/viewtopic.php?topic_id=3889</a>
<br/>
<br/>
<br/>
<br/>
<span style="font-weight: bold">Copyrights</span>
<br/>
<span style="font-style: italic"><span style="font-weight: bold">bootlib 1.3b</span></span>
<br/>
Copyright 2007 Maxwell Goodman (TeenDev, max482wert, tondopie, TheOnlyEnglishRose)
<br/>
<span style="font-style: italic">load.bin</span>
<br/>
Copyright 2007 Michael Chisholm (chishm)
<br/>
<br/>
<span style="font-weight: bold">License</span>
<br/>
<br/>
Licensed under GNU General Public License version two.
<br/>
<br/>
<span style="font-weight: bold">Requirements</span>
<br/>
<br/>
<br/>
* DevKitARM r20/r21
<br/>
<br/>
* libfat
<br/>
<br/>
* libnds or PAlib
<br/>
<br/>
<br/>
<span style="font-weight: bold">Usage</span>
<br/>
* Refer to the included example for your prefered library (libnds or PAlib).
<br/>
* Include the bootlib directory in your project root (for the example project)
<br/>
<br/>
ARM9:
<br/>
<span style="font-weight: bold"><span style="color: green">void</span></span> bootnds(filename);
<br/>
<br/>
ARM7:
<br/>
<span style="font-weight: bold"><span style="color: green">void</span></span> bootndsCheck();
<br/>
<br/>
* Just call the above functions for each processor. The library features automatic cart detection and calls a different loader for each flashcart.
<br/>
<br/>
* Add the *.bin into your arm9 "data" directory.
<br/>
<br/>
<span style="font-weight: bold">Contact</span>
<br/>
<br/>
<br/>
* Email: <a href="mailto:teendev@gmail.com">teendev@gmail.com</a>
<br/>
* AIM: max482wert
<br/>
* MSN: <a href="mailto:max@tondopro.com">max@tondopro.com</a>
<br/>
<br/>
<br/>
<br/>
<br/>
<span style="font-weight: bold">THANKS</span>
<br/>
<br/>
<br/>
* Lick (Looking at the rebootlib source helped me make a structure for this library)
<br/>
* Chishm (For the Generic NDS Loader as well as the GBAMP one too. This would not be possible without libfat either)
<br/>
* Moonlight (For the SuperCard Loader)
<br/>
* DragonMinded (For the SuperCard Loader)
<br/>
<br/>
<span style="font-weight: bold">Changelog:</span>
<br/>
1.3b:
<br/>
<br/>
Changed to GPLv2
<br/>
Fixed EZ4 Loader
<br/>
<br/>
1.2:
<br/>
* Fixed EZ4 and M3 Loaders.
<br/>
<br/>
* Fixed test application so it will not crash in the M3 OS.
<br/>
<br/>
* Added a variable to detect bootlib version
<br/>
<br/>
* Fixed a little arm7 compiling warning.
<br/>
<br/>
1.1:
<br/>
<ul>* Added EZ4 Detection and Loader *Cleaned UP the Code</ul>
<br/>
<br/>
1.0:
<br/>
<ul>* Added M3 Loader * Fixed SuperCard Loader</ul>
<br/>
<br/>
0.7
<br/>
<ul>* Inital Release</ul>
<br/>
<br/>
<span style="font-weight: bold">Downloads:</span>
<br/>
<span style="font-weight: bold"><a class="postlink" href="http://teendev.dragonminded.com/files/index.php?dir=&amp;file=bootlib_1.3b.tar.gz" target="_blank">bootlib 1.3b</a></span>
<br/>
<a class="postlink" href="http://teendev.dragonminded.com/files/index.php?dir=&amp;file=bootlib_1.2.tar.gz" target="_blank">bootlib 1.2</a>
<br/>
<a class="postlink" href="http://teendev.dragonminded.com/files/index.php?dir=&amp;file=bootlib_1.1.tar.gz" target="_blank">bootlib 1.1</a>
<br/>
<a class="postlink" href="http://teendev.dragonminded.com/files/bootlib_1.0.tar.gz" target="_blank">bootlib 1.0</a>
<br/>
<a class="postlink" href="http://teendev.dragonminded.com/files/bootlib_0.7.tar.gz" target="_blank">bootlib 0.7</a></span><span class="gensmall"><br/><br/>Last edited by tondopie on Sun Dec 16, 2007 5:30 am; edited 19 times in total</span></div>    
</div>
<div class="post">
    <h4>#145852 - Lick - Fri Nov 23, 2007 9:50 pm</h4>
    <div class="postbody"><span class="postbody">Download link is dead. And by the way, there's a bootnds function in rebootlib, although it only uses Chishm's loader. 
<br/>
<br/>
Hope to use this in my boot menu (yes, another one of those coming!)<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145863 - tondopie - Sat Nov 24, 2007 1:48 am</h4>
    <div class="postbody"><span class="postbody">I might have to rename the function. Also I fixed the download link.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145903 - tondopie - Sun Nov 25, 2007 5:13 am</h4>
    <div class="postbody"><span class="postbody">I added the EZ4 loader and cleaned it up a bit so its not so messy...
<br/>
<br/>
Unfortunetly, cards like the R4/M3S and the SCDSOne will not be able to be booted with this library, at least until I add MightyMax's exec_stub with custom SCONE and R4/M3S stubs.
<br/>
<br/>
Link is added above ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146101 - tondopie - Thu Nov 29, 2007 12:34 am</h4>
    <div class="postbody"><span class="postbody">Sorry for the mass DBL posting but I just need to post updates.
<br/>
<br/>
<br/>
I fixed the M3 and EZ4 loaders, so they should work now. (Thanks cory1492)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146111 - tepples - Thu Nov 29, 2007 1:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tondopie wrote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-weight: bold">License</span></td> </tr></table><span class="postbody">
<br/>
Here we go again, another homemade license, and now I have to go spouting off my <span style="font-weight: bold">DISCLAIMER: not legal advice</span> interpretation of how some of its terms might play out in practice.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">1. Give Credit to those credited here, including myself.</td> </tr></table><span class="postbody">
<br/>
Reasonable enough. Many free software licenses include a requirement that copyright notices be preserved in some form.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">2. Do not use for illegal purposes (e.g. Loading illegal ROMs, etc.)</td> </tr></table><span class="postbody">
<br/>
Illegal in whose jurisdiction? Yours, or that of the developer of the work that uses the library?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">3. Do not modify it and reuse and/or redistribute without my approval and knowledge.</td> </tr></table><span class="postbody">
<br/>
Just linking the library into a program is modifying/reusing/redistributing. Did you intend this to mean that you want veto power over all publicly distributed programs linked to the library?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146117 - mufunyo - Thu Nov 29, 2007 2:46 am</h4>
    <div class="postbody"><span class="postbody">I'll tell you right now that I don't like the holier-than-thou attitude that your licence has, and that it's probably not going to stop people who are already doing illegal things from using it. What it will stop, is flash card makers (who, evidenced by the source code of the AceKard RPG firmware, apparently use homebrew tools like libnds) from implementing universal homebrew loaders for flash card firmware. And that just because they <span style="font-style: italic">also</span> happen to have ROM dump loaders in there to boost sales (reality check: homebrewing alone is not enough to support a flash card financially). I for one would applaud if for instance the use of bootlib in, say, the R4 firmware to be able to run more homebrew without patching, or source modification. The R4 still has issues with a lot of homebrew. But your licence doesn't allow that. Please think of the consequences of "playing policeman". Leave enforcing of the law to the authorities, and leave suing to Nintendo. You only need to cover your own ass.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146120 - tondopie - Thu Nov 29, 2007 3:16 am</h4>
    <div class="postbody"><span class="postbody">ok I will change the license... GPLv2 sound good?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146121 - chishm - Thu Nov 29, 2007 3:19 am</h4>
    <div class="postbody"><span class="postbody">load.bin is distributed under GPL v2. It's a stand-alone binary, so the GPL shouldn't infect your library. If it does, I'll switch it to the LGPL. This just means you need to give people the source code to load.bin when they ask for it. 
<br/>
<br/>
I don't want to add to your license woes, I'm just clearing this up before anyone else asks.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146122 - tondopie - Thu Nov 29, 2007 3:24 am</h4>
    <div class="postbody"><span class="postbody">I'll re-license it tomorrow</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146168 - HyperHacker - Fri Nov 30, 2007 12:12 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tondopie wrote:</b></span></td> </tr> <tr> <td class="quote">ok I will change the license... GPLv2 sound good?</td> </tr></table><span class="postbody">That would be good, but a non-viral license would be even better.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146173 - tondopie - Fri Nov 30, 2007 12:50 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tondopie wrote:</b></span></td> </tr> <tr> <td class="quote">ok I will change the license... GPLv2 sound good?</td> </tr></table><span class="postbody">That would be good, but a non-viral license would be even better.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
non-viral?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146176 - tepples - Fri Nov 30, 2007 2:32 am</h4>
    <div class="postbody"><span class="postbody">"Copyleft", sometimes called "viral licensing", refers to copyright licenses that require programs linked with the library to be free software. <a class="postlink" href="http://en.wikipedia.org/wiki/Copyleft" target="_blank">Wikipedia can explain it better than I</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146754 - tondopie - Sat Dec 08, 2007 7:14 pm</h4>
    <div class="postbody"><span class="postbody">Okay, finally relicensed it under GPLv2...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146760 - spinal_cord - Sat Dec 08, 2007 9:35 pm</h4>
    <div class="postbody"><span class="postbody">Any ideas what wrong with it working on R4/M3S? do you think it will <span style="font-style: italic">ever</span> work on this card(s)?<br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146785 - tondopie - Sun Dec 09, 2007 2:21 am</h4>
    <div class="postbody"><span class="postbody">What ever it is, it is the same reason DragonMinded created special exec_stubs for GBAMP, SCOne, and R4/M3S.
<br/>
<br/>
I will add support for SCDSOne and R4/M3S if I get the okay from DM to use his custom exec_stubs.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146919 - GrizzlyAdams - Tue Dec 11, 2007 10:14 am</h4>
    <div class="postbody"><span class="postbody">R4's dldi doesn't work on ARM7. I don't remember exactly why it doesn't work.
<br/>
Feel free to use the vram loader from dschannels if it helps. 
<br/>
<a href="http://grizzly.thewaffleiron.net/downloads/exec_test.zip" target="_blank">http://grizzly.thewaffleiron.net/downloads/exec_test.zip</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146950 - tondopie - Tue Dec 11, 2007 11:01 pm</h4>
    <div class="postbody"><span class="postbody">I'll try it!  
<br/>
<br/>
<br/>
BTW, that exec_stub test you posted won't work on r21 so you know, so I'm not using it.
<br/>
<br/>
I'll  try the DS CHannels way.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147017 - cornaljoe - Thu Dec 13, 2007 6:25 am</h4>
    <div class="postbody"><span class="postbody">I can confirm Bootlib 1.3 doesn't work on either the EZ5 or EZ4.  This is tested with the included demo, your app, and my own project.  On the EZ5 it displays now loading then black screens.  On the EZ4 it freezes on Loading... Homebrew.nds
<br/>
<br/>
DSChannels is the only boot app that can boot on the EZ5.  And DSO and DSChannels works on the EZ4.  You just have to rename them to .nds</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147064 - tondopie - Thu Dec 13, 2007 11:14 pm</h4>
    <div class="postbody"><span class="postbody">I forgot to lock the RAM in the EZ 4 loader, I am uploading a new version.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149157 - cornaljoe - Wed Jan 16, 2008 1:51 am</h4>
    <div class="postbody"><span class="postbody">Hey tondopie, thanks for the fix working perfectly now on the EZ4.  I have a question concerning my project.  My file browser uses DLDI and DLDS to access 2 FAT at the same time.  DLDS is just a DLDI with a modified magic string to differentiate the two.  You can view more info here: <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=12001&amp;postdays=0&amp;postorder=asc&amp;start=255" target="_blank">DLDI Topic.</a>
<br/>
<br/>
Currently booting doesn't work for DLDS FAT.  Is it possible to make it work?  If so could you help me out on how to do so.  Thanks for the help!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149223 - tondopie - Wed Jan 16, 2008 10:58 pm</h4>
    <div class="postbody"><span class="postbody">libfat uses 'fat:/' as default and that will be what evr the DLDI patch is applyed to.
<br/>
<br/>
use fat:/ or fat0:/ for default libfat DLDI patched card, and fat1:/ to force slot -1 and fat2:/ to force slot-2. 
<br/>
<br/>
E.g.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">bootnds("fat2:/ndsfile.nds");</td> </tr></table><span class="postbody"> will force booting of that file on the Slot-2 card. Detect if it is a slot-1 card or a SLot-2 card and just use fat:1/ for Slot-1 and fat2:/ for slot-2</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149227 - cornaljoe - Thu Jan 17, 2008 12:22 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tondopie wrote:</b></span></td> </tr> <tr> <td class="quote">libfat uses 'fat:/' as default and that will be what evr the DLDI patch is applyed to.
<br/>
<br/>
use fat:/ or fat0:/ for default libfat DLDI patched card, and fat1:/ to force slot -1 and fat2:/ to force slot-2. 
<br/>
<br/>
E.g.
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">bootnds("fat2:/ndsfile.nds");</td> </tr></table><span class="postbody"> will force booting of that file on the Slot-2 card. Detect if it is a slot-1 card or a SLot-2 card and just use fat:1/ for Slot-1 and fat2:/ for slot-2</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, but that only works for the DLDI FAT.  When I use a DLDS patch for the same supported cart it doesn't boot.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149232 - tondopie - Thu Jan 17, 2008 12:52 am</h4>
    <div class="postbody"><span class="postbody">i dont know what to expect</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149269 - Lynx - Thu Jan 17, 2008 3:55 pm</h4>
    <div class="postbody"><span class="postbody">Yeah.. GPL compatible bootlib!<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151874 - HyperHacker - Thu Mar 06, 2008 7:55 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">====================
<br/>
Usage:
<br/>
====================
<br/>
* Refer to the included example for your prefered library (libnds or PAlib).</td> </tr></table><span class="postbody">Sure, if it were included.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151949 - john_rampton1 - Thu Mar 06, 2008 11:49 pm</h4>
    <div class="postbody"><span class="postbody">You can get a version with the examples <a class="postlink" href="http://teendev.dragonminded.com/files/index.php?dir=&amp;file=bootlib_1.3a.tar.gz" target="_blank">Here</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151955 - tondopie - Fri Mar 07, 2008 12:27 am</h4>
    <div class="postbody"><span class="postbody">yeah sorry 1.3b was just kind  of a fix for 1.3a and I was tired of zipping stuff together.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
