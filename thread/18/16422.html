<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>?Library problem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > ?Library problem</h2>
<div id="posts">
<div class="post">
    <h4>#166454 - Emmanuel - Sun Feb 08, 2009 12:38 pm</h4>
    <div class="postbody"><span class="postbody">Is there any easy way? Are there any good extra libs for libnds to help me?
<br/>
I'm particularly interested in:
<br/>
Animated Sprites and
<br/>
Backgrounds
<br/>
<br/>
Tips?
<br/>
<br/>
The idea is a smash version for the ds... but with libnds, becuase PAlib is old, and lacking updates as I've heard + it seems to have an error when combined with liblobby, but I've seen libnds working projects without that error, and multiplayer ds-ds is vital IMO</span><span class="gensmall"><br/><br/>Last edited by Emmanuel on Sun Feb 08, 2009 3:39 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#166456 - hacker013 - Sun Feb 08, 2009 12:56 pm</h4>
    <div class="postbody"><span class="postbody">libpicture from dragonminded (gif,jpeg,bmp,jpeg)
<br/>
libfb from dragonminded (2d framebuffer + textfunctions)
<br/>
ulib (2d grafichs with the 3d engine)
<br/>
Nitro Engine (3d engine)
<br/>
Yeti (gba 3d, also ported to the nds)<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166458 - Emmanuel - Sun Feb 08, 2009 1:19 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
ulib (2d grafichs with the 3d engine)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I googled around... all I could find was UlyssesLib, but, no mention to ds whatsoever...
<br/>
is that it? or am I wrong?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166462 - hacker013 - Sun Feb 08, 2009 1:58 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://brunni.palib.info/new/index.php?page=ndssoft_ulib" target="_blank">http://brunni.palib.info/new/index.php?page=ndssoft_ulib</a><br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166465 - Emmanuel - Sun Feb 08, 2009 3:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">http://brunni.palib.info/new/index.php?page=ndssoft_ulib</td> </tr></table><span class="postbody">
<br/>
<br/>
Got this problem:
<br/>
d:/devkitPro/libnds/lib\libul.a(ulDrawImage.o): In function `ulDrawImage':
<br/>
C:\Users\Florian\Documents\Code\NDS\uLibrary\Source/image/ulDrawImage.c:131: undefined reference to `SIN_bin'
<br/>
C:\Users\Florian\Documents\Code\NDS\uLibrary\Source/image/ulDrawImage.c:131: undefined reference to `COS_bin'
<br/>
<br/>
P.S. Regardless, it looks great
<br/>
<br/>
BTW, I NEVER used it on PAlib, and I fully erased PAlib, and my libnds installation is fine</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166467 - eKid - Sun Feb 08, 2009 5:04 pm</h4>
    <div class="postbody"><span class="postbody">SIN_bin and COS_bin were replaced with functions sinFixed and cosFixed. And now they are replaced again in the latest libnds with more accurate functions (which support interpolation) sinLerp and cosLerp.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166485 - Odorules - Sun Feb 08, 2009 8:24 pm</h4>
    <div class="postbody"><span class="postbody">Emmanuel -&gt; Are you sure that you have the lastest version of the ?Lib ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166488 - hacker013 - Sun Feb 08, 2009 8:28 pm</h4>
    <div class="postbody"><span class="postbody">the release of ulibrary is on the site never updated<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166492 - Emmanuel - Sun Feb 08, 2009 9:29 pm</h4>
    <div class="postbody"><span class="postbody">so, I will need to get the source and update it myself? it seems the problem is just this functions... sinLerp and cosLerp</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166532 - Odorules - Mon Feb 09, 2009 1:27 pm</h4>
    <div class="postbody"><span class="postbody">In the ?Lib Version 1.11 - 23.08.2008, ulDrawImage() don't use any of these trigonometric functions.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166534 - Emmanuel - Mon Feb 09, 2009 2:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Odorules wrote:</b></span></td> </tr> <tr> <td class="quote">In the ?Lib Version 1.11 - 23.08.2008, ulDrawImage() don't use any of these trigonometric functions.</td> </tr></table><span class="postbody">
<br/>
<br/>
Can you give me the link to it? does it work for you?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166547 - Odorules - Mon Feb 09, 2009 5:27 pm</h4>
    <div class="postbody"><span class="postbody">Link : <a href="http://brunni.palib.info/new/dl/nds/uLibrary.rar" target="_blank">http://brunni.palib.info/new/dl/nds/uLibrary.rar</a>
<br/>
<br/>
Yes it works.
<br/>
Maybe you'll have to do some modifications to get it work with libnds r24. Especially in ulInit() function.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166550 - Emmanuel - Mon Feb 09, 2009 5:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Odorules wrote:</b></span></td> </tr> <tr> <td class="quote">Link : <a href="http://brunni.palib.info/new/dl/nds/uLibrary.rar" target="_blank">http://brunni.palib.info/new/dl/nds/uLibrary.rar</a>
<br/>
<br/>
Yes it works.
<br/>
Maybe you'll have to do some modifications to get it work with libnds r24. Especially in ulInit() function.</td> </tr></table><span class="postbody">
<br/>
<br/>
By the way, is there some log on changes on libnds including which functions are deprecated and which are the new ones?
<br/>
That would be really helpful... that way, I'll just need to replace if an error arises (downloading uLibrary)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166553 - Odorules - Mon Feb 09, 2009 5:54 pm</h4>
    <div class="postbody"><span class="postbody">That's a very temporary solution but you can include "#include &lt;nds/registers_alt.h&gt;" in drawing.h
<br/>
<br/>
And do these modifcations : 
<br/>
drawing.c
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void ulInitGfx()
<br/>
{
<br/>
   //set mode 0, enable BG0 and set it to 3D
<br/>
   videoSetMode(MODE_0_3D);
<br/>
   vramSetBankA(VRAM_A_TEXTURE);
<br/>
   
<br/>
   glInit();
<br/>
   
<br/>
   glViewport(0,0,255,191);
<br/>
   
<br/>
//   glClearColor(0,0,0);
<br/>
   BG_PALETTE[0] = RGB15(0, 0, 0);
<br/>
   
<br/>
//   GFX_CLEAR_COLOR = RGB15(31, 31, 31) | (15&lt;&lt;16);
<br/>
   glClearDepth(0x7FFF);
<br/>
<br/>
   ul_autoDepth = 1;
<br/>
   ul_dualScreenMode = 0;
<br/>
   
<br/>
   //Il faudra de toute fa?on la mettre ? jour...
<br/>
//   ul_lastTexture = (UL_IMAGE*)-1;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
ulib.c
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void ulInit(UL_INIT_FLAGS flags)      {
<br/>
   if (flags == UL_INIT_ALL)         {
<br/>
      //powerON(POWER_ALL);
<br/>
      // Setup the Main screen for 3D 
<br/>
      //videoSetMode(MODE_0_3D);
<br/>
      //glInit();
<br/>
      //irqs are nice
<br/>
      //irqInit();
<br/>
      //irqEnable(IRQ_VBLANK);
<br/>
   }
<br/>
   
<br/>
   _initSinTables();
<br/>
   ulTexVramInit();
<br/>
   ulInitTextures();
<br/>
   ulTexPalInit();
<br/>
   VirtualFileInit();
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
