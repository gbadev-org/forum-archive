<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>3D Engine - Nitro Engine V 0.6.0 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > 3D Engine - Nitro Engine V 0.6.0</h2>
<div id="posts">
<div class="post">
    <h4>#163069 - AntonioND - Sun Sep 21, 2008 1:20 pm</h4>
    <div class="postbody"><span class="postbody">Hello!
<br/>
<br/>
This is a 3D engine, which aim is to make easier the procces of making a 3D game for the DS
<br/>
<br/>
Characteristics:
<br/>
-Loader of models and textures from FAT.
<br/>
-Dual 3D, as easy as normal 3D.
<br/>
-Can load BMPs of 4,8, 16, and 24 bits and convert them into textures.
<br/>
-Hardware-accelerated effects like fog and toon shading.
<br/>
-You can take screenshots of both screens in dual 3D mode or the 3D screen in normal 3D mode.
<br/>
-Animated model support, models are drawn using linear interpolation.
<br/>
-2D over 3D system.
<br/>
-Very basic physics engine.
<br/>
-API functions.
<br/>
-2D text in 3D mode, any character size allowed.
<br/>
-More things...
<br/>
<br/>
TODO:
<br/>
-Improve physics engine.
<br/>
-You can ask me for the things you would like to see. :)
<br/>
<br/>
<a class="postlink" href="http://www.mediafire.com/?jmt42yyygm0" target="_blank"><span style="font-weight: bold">Download NitroEngine</span></a>
<br/>
<span style="font-weight: bold">Download NitroEngine Setup</span>
<br/>
<a class="postlink" href="http://www.fileden.com/files/2007/8/26/1384198/nitroengine_it.7z" target="_blank">(it)</a> <a class="postlink" href="http://www.fileden.com/files/2007/8/26/1384198/nitroengine_en.7z" target="_blank">(en)</a> <a class="postlink" href="http://www.fileden.com/files/2007/8/26/1384198/nitroengine_es.7z" target="_blank">(es)</a> <a class="postlink" href="http://www.fileden.com/files/2007/8/26/1384198/nitroengine_fr.7z" target="_blank">(fr)</a> <a class="postlink" href="http://www.fileden.com/files/2007/8/26/1384198/nitroengine_ge.7z" target="_blank">(gr)</a>
<br/>
<br/>
Regards, 
<br/>
<br/>
Antonio.</span><span class="gensmall"><br/><br/>Last edited by AntonioND on Sun Sep 06, 2009 11:06 am; edited 13 times in total</span></div>    
</div>
<div class="post">
    <h4>#163070 - pas - Sun Sep 21, 2008 1:52 pm</h4>
    <div class="postbody"><span class="postbody">Nice, let's hope lots of cool stuff emerges from this !<br/>_________________<br/><a class="postlink" href="http://www.petitiononline.com/blizzds/petition.html" target="_blank">Starcraft DS ?</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#163933 - AntonioND - Wed Oct 15, 2008 9:52 pm</h4>
    <div class="postbody"><span class="postbody">Released version 0.4.0. Changes:
<br/>
<br/>
-Added MD2_2_NEA &lt;converts an MD2 model into a NEA file that can used by Nitro Engine&gt; and MD2_2_BIN &lt;Converts the first frame of an MD2 model into a display list&gt;. Display lists created are really optimized.
<br/>
-Updated DisplayList_Fixed. Now it can remove normal commands too.
<br/>
-Added a text system. It can use fonts of any size. ^^
<br/>
-Added some simple API functions (buttons, check boxes, radio buttons and slide bars).
<br/>
-Fixed 2D projection.
<br/>
-Removed some internal unused functions to save space, and made 'inline' some of the rest.
<br/>
-Functions that used float parameters modified so they use integers now. You can still use some wrappers if you want to use floats. This will let the compiler try to optimize the code.
<br/>
-Animated and static models are now the same. You can move, rotate, etc them with the same functions.
<br/>
-Now, you can 'clone' models so you can save a lot of RAM if they are repeated.
<br/>
-Renamed lots of model functions. Take a look at new examples or documentation.
<br/>
-NE_Color struct removed (I don't even know why I created it...).
<br/>
-Examples updated to work with last version and added examples of clonning models, API and text system.
<br/>
-libnds' console is not inited with Nitro Engine. You will have to init it yourself with NE_InitConsole or libnds' functions. 
<br/>
<br/>
I'm sorry, you will have to make some changes in your game's source code for this version to work, but it is worth it! ^^
<br/>
<br/>
EDIT: I forgot to mention that cloning models will only save space if you have loaded them from fat using engine's functions.
<br/>
<br/>
EDIT 2: I've noticed a bug in the palette system. Download this file and replace the one you have with the new one. This bug has always been there, so if you have an older version and don't want to update, change the code of the old NE_PaletteLoad with the new one and recompile.
<br/>
Here you are:
<br/>
<a href="http://antoniond.drunkencoders.com/nitroengine/NEPalette.c" target="_blank">http://antoniond.drunkencoders.com/nitroengine/NEPalette.c</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164864 - dj-ceejay - Thu Nov 27, 2008 6:13 pm</h4>
    <div class="postbody"><span class="postbody">How do you go about rendering 2D elements when using a 3D mode?
<br/>
Do you just draw screen aligned quads?
<br/>
Or can you switch modes and use sprites and BGs?<br/>_________________<br/>Fruit Machine Games:
<br/>
<a class="postlink" href="http://www.fmsoftware.info/" target="_blank">http://www.fmsoftware.info/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164867 - AntonioND - Thu Nov 27, 2008 8:00 pm</h4>
    <div class="postbody"><span class="postbody">I set an orthogonal projection matrix and draw textured quads.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164940 - josath - Wed Dec 03, 2008 6:46 pm</h4>
    <div class="postbody"><span class="postbody">This looks very interesting. Do you have a website anywhere with real download links, docs, screenshots, etc or the only place to get it is those crappy file hosting sites you linked to?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164945 - AntonioND - Wed Dec 03, 2008 9:44 pm</h4>
    <div class="postbody"><span class="postbody">If you look carefully my profile, you'll see my webpage. :P There are some (two) screenshots, and 'real' download links. Documentation is included in the download.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164946 - josath - Wed Dec 03, 2008 9:56 pm</h4>
    <div class="postbody"><span class="postbody">yay, thanks, didn't think to look there :)
<br/>
<br/>
out of curiosity, did you make your 3d games (pong, tetris, blobb) using nitro engine?
<br/>
<br/>
and also, what tool do you use to make your 3d models?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164947 - AntonioND - Wed Dec 03, 2008 10:15 pm</h4>
    <div class="postbody"><span class="postbody">I make them with 3ds max/paint(omg! XD)/GIMP and I export them with the tools included in the downloads. The games you say were coded before Nitro Engine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165081 - nanou - Tue Dec 09, 2008 8:59 am</h4>
    <div class="postbody"><span class="postbody">Pretty cool. I'll probably make use of this.... whenever I get MD2 export working.
<br/>
<br/>
Is NEA a custom format for Nitro Engine, or is it a preexisting format? If it's custom, can you tell me what kind of information it retains? I suppose I should just read the converter source.<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165086 - AntonioND - Tue Dec 09, 2008 3:37 pm</h4>
    <div class="postbody"><span class="postbody">NEA is just a pack of display lists with a header. If you convert the models with the other converter included in the rar (or any other converter), you can put them together with this:
<br/>
<br/>
<a href="http://antoniond.drunkencoders.com/files/bin2nea.rar" target="_blank">http://antoniond.drunkencoders.com/files/bin2nea.rar</a>
<br/>
<br/>
Rename your bin files to modelXXX.bin (XXX is a number from 0 to whatever).
<br/>
<br/>
Obviously, if you can convert them to md2 it would be better.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165096 - nanou - Tue Dec 09, 2008 9:11 pm</h4>
    <div class="postbody"><span class="postbody">Thanks. I've been using wavefront (.obj) because that's the most common/easily managed format I can export to without jumping through hoops... but I haven't found any obj-&gt;bin conversion tools that aren't also problematic.
<br/>
<br/>
Blender's MD2 export is trying to make me do things I don't want to do (but I'm bugging the blenderartists forums about that.)<br/>_________________<br/>- nanou</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165181 - freddan007 - Thu Dec 11, 2008 7:09 pm</h4>
    <div class="postbody"><span class="postbody">I'm having some problems. When I run build.bat i get some errors. I could be because I have the new devkit arm.
<br/>
error:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
NEFormats.c
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/NitroEngine/build/NEFormats.d -g -Wall -O
<br/>
2 -march=armv5te -mtune=arm946e-s -fomit-frame-pointer -ffast-math -mthumb -mthu
<br/>
mb-interwork -I/c/devkitPro/NitroEngine/include -I/c/devkitPro/libnds/include -I
<br/>
/c/devkitPro/NitroEngine/build -DARM9 -c /c/devkitPro/NitroEngine/source/NEForma
<br/>
ts.c -o NEFormats.o
<br/>
NEGeneral.c
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/NitroEngine/build/NEGeneral.d -g -Wall -O
<br/>
2 -march=armv5te -mtune=arm946e-s -fomit-frame-pointer -ffast-math -mthumb -mthu
<br/>
mb-interwork -I/c/devkitPro/NitroEngine/include -I/c/devkitPro/libnds/include -I
<br/>
/c/devkitPro/NitroEngine/build -DARM9 -c /c/devkitPro/NitroEngine/source/NEGener
<br/>
al.c -o NEGeneral.o
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c: In function 'NE_UpdateInput':
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:129: warning: 'touchReadXY' is depre
<br/>
cated (declared at c:/devkitPro/libnds/include/nds/arm9/input.h:89)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c: In function 'NE_Init3D':
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:139: warning: implicit declaration o
<br/>
f function 'powerON'
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c: In function 'NE_InitDual3D':
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:163: error: 'SUB_BG2_CR' undeclared
<br/>
(first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:163: error: (Each undeclared identif
<br/>
ier is reported only once
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:163: error: for each function it app
<br/>
ears in.)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:164: error: 'SUB_BG2_XDX' undeclared
<br/>
 (first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:165: error: 'SUB_BG2_XDY' undeclared
<br/>
 (first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:166: error: 'SUB_BG2_YDX' undeclared
<br/>
 (first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:167: error: 'SUB_BG2_YDY' undeclared
<br/>
 (first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:168: error: 'SUB_BG2_CY' undeclared
<br/>
(first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:169: error: 'SUB_BG2_CX' undeclared
<br/>
(first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c: In function 'NE_InitConsole':
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:207: error: 'BG1_CR' undeclared (fir
<br/>
st use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:208: error: 'BG0_CR' undeclared (fir
<br/>
st use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:210: warning: implicit declaration o
<br/>
f function 'consoleInitDefault'
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:210: error: 'CONSOLE_USE_COLOR255' u
<br/>
ndeclared (first use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c: In function 'NE_ProcessDual':
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:240: error: 'BG1_CR' undeclared (fir
<br/>
st use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:241: error: 'BG0_CR' undeclared (fir
<br/>
st use in this function)
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c: In function 'NE_HBLFunc':
<br/>
c:/devkitPro/NitroEngine/source/NEGeneral.c:356: error: 'SIN' undeclared (first
<br/>
use in this function)
<br/>
make[1]: *** [NEGeneral.o] Error 1
<br/>
make: *** [build] Error 2
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165186 - AntonioND - Thu Dec 11, 2008 8:41 pm</h4>
    <div class="postbody"><span class="postbody">This weekend I'll update my libnds and modify NitroEngine to work with latest version. I shouldn't take me much time...
<br/>
<br/>
EDIT: Actually, a lot of uv coordinates are swapped, so I'll try to fix them...
<br/>
<br/>
EDIT 2:
<br/>
Everything fixed and ready to compile with latest libnds. I've also added a function to draw to RGBA textures. I've fixed MD2_2_NEA and M2D_2_BIN. You'll have to convert again your models if you have converted them with one of that programs.
<br/>
<br/>
If you want to use an older version of libnds, go to NEMain.h and uncomment "#define OLD_LIBNDS". Examples are prepared for latest version, so they might not work with older versions.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165228 - freddan007 - Sat Dec 13, 2008 5:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>AntonioND wrote:</b></span></td> </tr> <tr> <td class="quote">This weekend I'll update my libnds and modify NitroEngine to work with latest version. I shouldn't take me much time...
<br/>
<br/>
EDIT: Actually, a lot of uv coordinates are swapped, so I'll try to fix them...
<br/>
<br/>
EDIT 2:
<br/>
Everything fixed and ready to compile with latest libnds. I've also added a function to draw to RGBA textures. I've fixed MD2_2_NEA and M2D_2_BIN. You'll have to convert again your models if you have converted them with one of that programs.
<br/>
<br/>
If you want to use an older version of libnds, go to NEMain.h and uncomment "#define OLD_LIBNDS". Examples are prepared for latest version, so they might not work with older versions.</td> </tr></table><span class="postbody">It works great with the new libnds, thank you! :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165240 - AntonioND - Sun Dec 14, 2008 11:10 am</h4>
    <div class="postbody"><span class="postbody">Well, new version. Some bugfixes... Added a couple of examples... Added linux tools (thanks, nintendork32)... 
<br/>
<br/>
I hope this is the last 0.4.X version...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165264 - a128 - Mon Dec 15, 2008 5:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>AntonioND wrote:</b></span></td> </tr> <tr> <td class="quote">Well, new version. Some bugfixes... Added a couple of examples... Added linux tools (thanks, nintendork32)... 
<br/>
<br/>
I hope this is the last 0.4.X version...</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
<br/>
sometimes it's fine to test the software and after some weeks post an update.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165266 - AntonioND - Mon Dec 15, 2008 6:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote">sometimes it's fine to test the software and after some weeks post an update.</td> </tr></table><span class="postbody">
<br/>
I know, I usually do that but, as I wanted to make it compatible with latest libnds, I didn't test version 0.4.1 very much... I usually test Nitro Engine in the game I'm coding right now, in fact, the bugs fixed in 0.4.2 were reported by another guy right after the release.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165344 - LOst? - Wed Dec 17, 2008 5:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>AntonioND wrote:</b></span></td> </tr> <tr> <td class="quote">I set an orthogonal projection matrix and draw textured quads.</td> </tr></table><span class="postbody">
<br/>
Now how do you do this? Is this possible on the NDS? I have always wondered how to do just the thing you said but I thought it was not possible for the NDS, and that using 2D sprites were the only possible thing.<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165351 - AntonioND - Wed Dec 17, 2008 8:09 pm</h4>
    <div class="postbody"><span class="postbody">Take a look at "NE2D.c". NE_2DViewInit() sets the matrices, then you can draw with functions like NE_2DDrawQuad(), or just using libnds functions.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165709 - AntonioND - Sun Jan 04, 2009 10:49 pm</h4>
    <div class="postbody"><span class="postbody">-Text system and camera system optimized. New functions for the camera system.
<br/>
-NE_TextPrintBox and NE_TextPrintBoxFree slightly changed. They can limit the text drawn to a number of characters set by the coder. 
<br/>
-Some functions made internal. Don't use them unless you know what you are doing. 
<br/>
-Fixed (?) at least the 2D projection. 
<br/>
-HBL effects fixed. 
<br/>
-Touch test functions. 
<br/>
-NE_UPDATE_INPUT removed. 
<br/>
-It now supports any BMP size, and BMP with 4 bits of depth.
<br/>
-Arrays made pointers, so there is more memory free when you are not using Nitro Engine. You can also configure the number of objects of each systems you are going to use. 
<br/>
-NE_TextPalette replaced by NE_Palette.
<br/>
-You can clone materials to use the same texture with different colors. This doesn't have the problems of cloning models. 
<br/>
-Added functions to remove all palettes and textures. 
<br/>
-Fixed NE_End(). 
<br/>
-NE can free all memory used by it, and the coder can tell NE how much memory to use. 
<br/>
-Texture drawing system improved a bit. 
<br/>
-NE_PolyFormat simplified.
<br/>
-Some bugfixes, code reorganized, define lists converted into enums. 
<br/>
-Clear bitmap supported, this is used to display an bitmap as rear plane. Each pixel can have different depth. This needs 2 VRAM banks to work. 
<br/>
-Solved some problems with 2D system and culling. 
<br/>
-Nomad NDS_Texture_Converter is no longer included, if you want it, look for it in google.
<br/>
-Added Nitro Texture Converter, made by me. Open source, and it exports various levels of alpha in the textures that can handle it. It does only accept PNG files. 
<br/>
-NE now accepts any texture size. NE_SIZE_XXX defines removed as they are not needed now. 
<br/>
-Added a couple of examples.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166118 - hacker013 - Thu Jan 29, 2009 5:08 pm</h4>
    <div class="postbody"><span class="postbody">what are the diffrents between 0.5.0 and 0.5.1<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166119 - AntonioND - Thu Jan 29, 2009 5:16 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">what are the diffrents between 0.5.0 and 0.5.1</td> </tr></table><span class="postbody">
<br/>
A bugfix to make it work with C++. I've only removed some definitions from headers.
<br/>
<br/>
And... I forgot 3 semicolons in old libnds compatibility mode. :P Yeah, that's the problem of copy/paste...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166141 - hacker013 - Sat Jan 31, 2009 2:00 pm</h4>
    <div class="postbody"><span class="postbody">I've made a little update wich included a updated version from libpicture from dragonminded so you can load gif,jpeg,png and bmp from fat. added some new functions and a error handler. If get permission, i will release this, i think.
<br/>
<br/>
EDIT:
<br/>
Also added dsli support for plugins.
<br/>
The error handeling doesn't work like it should be.
<br/>
<br/>
BUG-Found in version 0.5.1:
<br/>
<br/>
If i load 2 textures to memory the will displayed fine but when i wanna load and show a thirth texture it will be always shown white.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166142 - AntonioND - Sat Jan 31, 2009 3:18 pm</h4>
    <div class="postbody"><span class="postbody">If you want, release it. ;)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">If i load 2 textures to memory the will displayed fine but when i wanna load and show a thirth texture it will be always shown white.</td> </tr></table><span class="postbody">
<br/>
<br/>
What texture size/format?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166144 - hacker013 - Sat Jan 31, 2009 4:49 pm</h4>
    <div class="postbody"><span class="postbody">the format is .gif but i also tryed bmp.  When i make the bmp's 256 color then it works as i should but i wanna have all colors.
<br/>
<br/>
size:
<br/>
texture 1, 255*191
<br/>
texture 2, 256*192
<br/>
texture 3, 220*186
<br/>
<br/>
EDIT:
<br/>
I think i will release tomorrow the updated engine. first i have to make the documentation. and the error check works now as it should be.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166145 - AntonioND - Sat Jan 31, 2009 5:04 pm</h4>
    <div class="postbody"><span class="postbody">-RGB (2 bytes per pixel):
<br/>
<br/>
Texture 1 = 256(255) * 191 * 2 =  97792
<br/>
Texture 2 = 256 * 192 * 2 =          98304
<br/>
Texture 3 = 256(220) * 186 * 2 =  95232
<br/>
<br/>
Total = 291328 = 284,5 Kb.
<br/>
<br/>
<br/>
-RGB256 (1 byte per pixel):
<br/>
<br/>
Texture 1 = 256(255) * 191 =  48896
<br/>
Texture 2 = 256 * 192 =          49152
<br/>
Texture 3 = 256(220) * 186 =  47616
<br/>
<br/>
Total = 145664 = 145,6 Kb.
<br/>
<br/>
<br/>
Nitro Engine uses only VRAM_A and VRAM_B for textures, so you can use up to 256 KB. In first case, you try to use more memory than alowed. In second case you don't.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166146 - a128 - Sat Jan 31, 2009 5:25 pm</h4>
    <div class="postbody"><span class="postbody">dear AntonioND,
<br/>
<br/>
great to release a usefull 3d lib for the NDS....but I find it strange if a lib gets updated every 1-2 week....maybe you should just go from V 0.5.x to V 0.6 and release that . In my opinion this is better . 
<br/>
<br/>
Anyway. Thanks for sharing your work....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166148 - AntonioND - Sat Jan 31, 2009 5:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote">dear AntonioND,
<br/>
<br/>
great to release a usefull 3d lib for the NDS....but I find it strange if a lib gets updated every 1-2 week....maybe you should just go from V 0.5.x to V 0.6 and release that . In my opinion this is better . 
<br/>
<br/>
Anyway. Thanks for sharing your work....</td> </tr></table><span class="postbody">
<br/>
<br/>
If you are talking about versions 0.4.X, I agree with you. I know I should have tested them more in order not to have to make bugfixes. 
<br/>
<br/>
If you are talking about 0.5.1, I've only fixed some missing semicolons and removed some definitions from headers... a month after the previous release. Why I didn't notice that? Well, the semicolons bug was related to old-libnds compatibility mode (which I don't use, I think people shouldn't use, and will be deprecated next version). The other bug was reported by someone who was coding in C++ (I don't code in C++, so I just didn't know that could be a problem for its compiler).
<br/>
<br/>
If you are talking about hacker013's release... Well, that's not my update.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166150 - hacker013 - Sat Jan 31, 2009 6:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>AntonioND wrote:</b></span></td> </tr> <tr> <td class="quote">-RGB (2 bytes per pixel):
<br/>
<br/>
Texture 1 = 256(255) * 191 * 2 =  97792
<br/>
Texture 2 = 256 * 192 * 2 =          98304
<br/>
Texture 3 = 256(220) * 186 * 2 =  95232
<br/>
<br/>
Total = 291328 = 284,5 Kb.
<br/>
<br/>
<br/>
-RGB256 (1 byte per pixel):
<br/>
<br/>
Texture 1 = 256(255) * 191 =  48896
<br/>
Texture 2 = 256 * 192 =          49152
<br/>
Texture 3 = 256(220) * 186 =  47616
<br/>
<br/>
Total = 145664 = 145,6 Kb.
<br/>
<br/>
<br/>
Nitro Engine uses only VRAM_A and VRAM_B for textures, so you can use up to 256 KB. In first case, you try to use more memory than alowed. In second case you don't.</td> </tr></table><span class="postbody">
<br/>
<br/>
in the first case your library says when i have loaded 3 textures that i have 25 procent free. O_O<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166152 - AntonioND - Sat Jan 31, 2009 6:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">in the first case your library says when i have loaded 3 textures that i have 25 procent free. O_O</td> </tr></table><span class="postbody">
<br/>
Because when you load the third texture, the library checks if there is enough space for it. There isn't space, so the function just stops and returns 0.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166153 - hacker013 - Sat Jan 31, 2009 6:30 pm</h4>
    <div class="postbody"><span class="postbody">so i have only 256 kb for all my textures O_O?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166161 - AntonioND - Sat Jan 31, 2009 9:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">so i have only 256 kb for all my textures O_O?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes. I only use vram A and B because I can use the same texture allocation system for normal 3D or dual 3D. I'm planning to change it. It should be easy. I just have to change a bit the allocation system to allow the user choose the vram banks to be used for texture memory.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166178 - hacker013 - Sun Feb 01, 2009 3:04 pm</h4>
    <div class="postbody"><span class="postbody">what can we expect in your next update?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166180 - AntonioND - Sun Feb 01, 2009 3:31 pm</h4>
    <div class="postbody"><span class="postbody">Well, at the moment I'm quite busy with exams and I don't have time to work on Nitro Engine. When I have time I'll do the following changes:
<br/>
<br/>
-Change the animated model system so that it can use linear interpolation between frames. This means that old animated models won't work with new versions, and they will need more time to be displayed.
<br/>
-I'll let the user choose which banks to use for texture memory. 
<br/>
-I'll remove GL_RGB support (if you want to load a RGB texture, you'll have to convert it to RGBA by yourself).
<br/>
<br/>
Well... I don't know what else to do... Any idea?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166184 - hacker013 - Sun Feb 01, 2009 3:52 pm</h4>
    <div class="postbody"><span class="postbody">why should you remove GL_RGB support ?
<br/>
<br/>
Maybe you can add md2 support?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166185 - AntonioND - Sun Feb 01, 2009 4:04 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">why should you remove GL_RGB support ? </td> </tr></table><span class="postbody">
<br/>
<br/>
Well, personally I don't like that format because is the same as RGBA and it needs more time to load. RGBA textures can be loaded into VRAM using dmaCopy, for example, while RGB textures need to be modified when they are loaded. If you just include the data, It's quite stupid to modify the texture every time the program runs, it's better to convert it to the apropiate format in your PC and include it. 
<br/>
<br/>
Besides, if you want to load a image file and convert it into RGB, it's easier/faster to set bit 15 while you are converting the data than when it is converted.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">Maybe you can add md2 support?</td> </tr></table><span class="postbody">
<br/>
<br/>
I was thinking about integrating <a class="postlink" href="http://payk.drunkencoders.com/" target="_blank">payk's md2 loader</a> into Nitro Engine, but I prefer to make a conversion tool to convert MD2 into a custom format to avoid using floats and just load what Nitro Engine will actually use.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166188 - hacker013 - Sun Feb 01, 2009 4:37 pm</h4>
    <div class="postbody"><span class="postbody">i'm making a little sprite engine, because the texture memory is so small.
<br/>
And the sprites are loaded in to texture memory when they're needed so it uses not much texture memory only i get white screens, here's my code, maybe you can see the problem:
<br/>
<br/>
NESprite.c
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "NESprite.h"
<br/>
#include "NEMain.h"
<br/>
#include "NEPicLib.h"
<br/>
#include "NETexture.h"
<br/>
#include &lt;stdio.h&gt;
<br/>
#include &lt;string.h&gt;
<br/>
<br/>
int NE_MAX_SPRITES;
<br/>
int ne_sprites_init = false;
<br/>
NE_SPRITE_ENGINE * nes_engine;
<br/>
<br/>
void NE_SpriteSystemReset(bool max_sprites)
<br/>
{
<br/>
   if (ne_sprites_init == true)NE_SpriteSystemEnd();
<br/>
   if (max_sprites == 0)NE_MAX_SPRITES = MAX_SPRITES;
<br/>
   
<br/>
   nes_engine = (NE_SPRITE_ENGINE*)malloc(sizeof(NE_SPRITE_ENGINE));
<br/>
   nes_engine-&gt;count = 0;
<br/>
   
<br/>
   ne_sprites_init = true;
<br/>
}
<br/>
<br/>
void NE_SpriteSystemEnd()
<br/>
{
<br/>
   if(ne_sprites_init == true)
<br/>
   {
<br/>
      if(nes_engine != NULL)
<br/>
      {
<br/>
         free(nes_engine);
<br/>
      }
<br/>
      ne_sprites_init = false;
<br/>
   }
<br/>
}
<br/>
<br/>
NE_SPRITE_STRUCT * NE_SpriteCreate()
<br/>
{
<br/>
   if(ne_sprites_init == false)return NULL;
<br/>
   if(nes_engine-&gt;count&gt;NE_MAX_SPRITES)return NULL;
<br/>
   NE_SPRITE_STRUCT * sprite;
<br/>
   sprite = (NE_SPRITE_STRUCT*)malloc(sizeof(NE_SPRITE_STRUCT));
<br/>
   sprite-&gt;sizeX = 0;
<br/>
   sprite-&gt;sizeY = 0;
<br/>
   sprite-&gt;adress = NULL;
<br/>
   nes_engine-&gt;count++;
<br/>
   return sprite;
<br/>
}
<br/>
<br/>
void NE_SpriteDelete(NE_SPRITE_STRUCT * spr)
<br/>
{
<br/>
   if(ne_sprites_init == false)return;
<br/>
   if(spr == NULL)return;
<br/>
   if(spr-&gt;adress != NULL)free(spr-&gt;adress);
<br/>
   free(spr);
<br/>
   nes_engine-&gt;count--;
<br/>
}
<br/>
<br/>
int NE_Sprite2Material(NE_SPRITE_STRUCT * spr, NE_Material * mat)
<br/>
{
<br/>
   int a = NE_MaterialTexLoad(mat, GL_RGB, spr-&gt;sizeX, spr-&gt;sizeY, TEXGEN_TEXCOORD, (uint8*)spr-&gt;adress);
<br/>
<br/>
   return a;
<br/>
}
<br/>
<br/>
int NE_FATSpriteLoadPICtoRGB(NE_SPRITE_STRUCT * spr, const char* filename)
<br/>
{
<br/>
   if(ne_sprites_init == false)return 0; // Sprite System Not Inited
<br/>
   if(spr == NULL){   
<br/>
       #ifdef NE_ERROR_HANDLING
<br/>
      char string[128];
<br/>
      sprintf(string,"No sprite id to save %s to",filename);
<br/>
      NE_Error(NE_ERROR_NOSPRITEID,string);
<br/>
      #endif
<br/>
      return 0;
<br/>
   }
<br/>
   PICTURE_DATA iconData;
<br/>
   /* Changes const char to char */
<br/>
   char* fn = "";
<br/>
   sprintf(fn,"%s",filename);
<br/>
   /* Check if file_exists */
<br/>
   if (FATFileExists(fn) == false)
<br/>
   {
<br/>
      #ifdef NE_ERROR_HANDLING
<br/>
      char string[128];
<br/>
      sprintf(string,"%s couldn't be opened",fn);
<br/>
      NE_Error(NE_ERROR_CANTOPENFILE,string);
<br/>
      #endif
<br/>
      return 0;
<br/>
   }
<br/>
   memset(&amp;iconData, 0, sizeof(PICTURE_DATA));
<br/>
   disableGIFFileStreaming();
<br/>
   loadImage(fn, &amp;iconData, 0, 0);
<br/>
<br/>
   if (iconData.error == true)
<br/>
   {
<br/>
      #ifdef NE_ERROR_HANDLING
<br/>
      char string[128];
<br/>
      sprintf(string, "Error happend while loading file\n%s", fn);
<br/>
      NE_Error(NE_ERROR_FILELOADINGFAILED,string);
<br/>
      #endif
<br/>
      return 0;
<br/>
   }
<br/>
<br/>
   spr-&gt;sizeX = iconData.max_X;
<br/>
   spr-&gt;sizeY = iconData.max_Y;
<br/>
<br/>
   uint16 *tmpData = (uint16 *)malloc((spr-&gt;sizeX * spr-&gt;sizeY * 2) + 4);
<br/>
   if (tmpData == NULL)
<br/>
   {
<br/>
      #ifdef NE_ERROR_HANDLING
<br/>
      char string[128];
<br/>
      sprintf(string, "Not enought memory to load file\n%s!", fn);
<br/>
      NE_Error(NE_ERROR_OUTOFMEM,string);
<br/>
      #endif
<br/>
      return 0;
<br/>
   }
<br/>
   memcpy(tmpData, iconData.picData, (spr-&gt;sizeX * spr-&gt;sizeY * 2) + 4);
<br/>
<br/>
   freeImage(&amp;iconData);
<br/>
   
<br/>
   spr-&gt;adress = tmpData;
<br/>
   
<br/>
   return 1;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
NE2D.c
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/****************************************************************************
<br/>
*****************************************************************************
<br/>
****       _   _ _ _               ______             _                  ****
<br/>
****      | \ | (_) |             |  ____|           (_)                 ****
<br/>
****      |  \| |_| |_ _ __ ___   | |__   _ __   __ _ _ _ __   ___       ****
<br/>
****      | . ` | | __| '__/ _ \  |  __| | '_ \ / _` | | '_ \ / _ \      ****
<br/>
****      | |\  | | |_| | | (_) | | |____| | | | (_| | | | | |  __/      ****
<br/>
****      |_| \_|_|\__|_|  \___/  |______|_| |_|\__, |_|_| |_|\___|      ****
<br/>
****                                             __/ |                   ****
<br/>
****                                            |___/      V 0.5.1       ****
<br/>
****                                                                     ****
<br/>
****                     Copyright (C) 2008 - 2009 Antonio Ni?o D?az     ****
<br/>
****                                   All rights reserved.              ****
<br/>
****                                                                     ****
<br/>
*****************************************************************************
<br/>
****************************************************************************/
<br/>
<br/>
/****************************************************************************
<br/>
*                                                                           *
<br/>
*  This file is part of Nitro Engine version 0.5.1.                         *
<br/>
*                                                                           *
<br/>
*  Nitro Engine V 0.5.1 is licensed under the terms of the included file    *
<br/>
*  named &lt;readme_license.txt&gt;. If you can't find it, send me an email and   *
<br/>
*  I'll send you a copy. My adress is &lt;antonio_nd@hotmail.com&gt;              *
<br/>
*                                                                           *
<br/>
****************************************************************************/
<br/>
<br/>
#include "NEMain.h"
<br/>
<br/>
/*! \file   NE2D.c */
<br/>
<br/>
NE_Window ** NE_windowpointers = NULL;
<br/>
<br/>
int NE_MAX_WINDOWS;
<br/>
<br/>
bool ne_window_system_inited = false;
<br/>
<br/>
NE_Window * NE_WindowCreate(void)
<br/>
{
<br/>
if(!ne_window_system_inited) return NULL;
<br/>
<br/>
NE_Window * window = (NE_Window*)malloc(sizeof(NE_Window));
<br/>
<br/>
int a = 0;
<br/>
while(1)
<br/>
   {
<br/>
   if(a == NE_MAX_WINDOWS) return NULL;
<br/>
   if(NE_windowpointers[a] == NULL)
<br/>
      {
<br/>
      NE_windowpointers[a] = window;
<br/>
      break;
<br/>
      }
<br/>
   a++;
<br/>
   }
<br/>
<br/>
window-&gt;x = window-&gt;y = window-&gt;sx = window-&gt;sy = window-&gt;priority = 0;
<br/>
window-&gt;visible = true;
<br/>
window-&gt;color = NE_White;
<br/>
window-&gt;mat = NULL;
<br/>
window-&gt;spr = NULL;
<br/>
window-&gt;alpha = 31; window-&gt;id = 0;
<br/>
return window;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowSetCoords(NE_Window * window, int x, int y, int x2, int y2)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;x = x; window-&gt;y = y;
<br/>
window-&gt;sx = x2 - x; window-&gt;sy = y2 - y;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowSetPos(NE_Window * window, int x, int y)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;x = x; window-&gt;y = y;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowSetSize(NE_Window * window, int x, int y)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;sx = x; window-&gt;sy = y;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowSetColor(NE_Window * window, u32 color)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;color = color;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowSetMaterial(NE_Window * window, NE_Material * mat)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;mat = mat;
<br/>
}
<br/>
<br/>
inline void NE_WindowSetSprite(NE_Window * window, NE_SPRITE_STRUCT * spr)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;spr = spr;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowSetPriority(NE_Window * window, int priority)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;priority = priority;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowVisible(NE_Window * window, bool visible)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;visible = visible;
<br/>
}
<br/>
<br/>
<br/>
void NE_WindowDelete(NE_Window * window)
<br/>
{
<br/>
if(!ne_window_system_inited) return;
<br/>
if(window == NULL) return;
<br/>
<br/>
int a = 0;
<br/>
while(1)
<br/>
   {
<br/>
   if(a == NE_MAX_WINDOWS) return;
<br/>
   if(NE_windowpointers[a] == window)
<br/>
      {
<br/>
      NE_windowpointers[a] = NULL;
<br/>
      free((void*)window);
<br/>
      return;
<br/>
      }
<br/>
   a++;
<br/>
   }
<br/>
return;
<br/>
}
<br/>
<br/>
<br/>
void NE_WindowDeleteAll(void)
<br/>
{
<br/>
if(!ne_window_system_inited) return;
<br/>
<br/>
int a;
<br/>
for(a = 0; a &lt; NE_MAX_WINDOWS; a++) NE_WindowDelete(NE_windowpointers[a]);
<br/>
return;
<br/>
}
<br/>
<br/>
void NE_WindowSystemReset(int number_of_windows)
<br/>
{
<br/>
if(ne_window_system_inited) NE_WindowSystemEnd();
<br/>
<br/>
if(number_of_windows &lt; 1) NE_MAX_WINDOWS = NE_DEFAULT_WINDOWS;
<br/>
else NE_MAX_WINDOWS = number_of_windows;
<br/>
<br/>
NE_windowpointers = malloc(NE_MAX_WINDOWS * sizeof(NE_windowpointers));
<br/>
<br/>
int a;
<br/>
for(a = 0; a &lt; NE_MAX_WINDOWS; a++) NE_windowpointers[a] = NULL;
<br/>
<br/>
ne_window_system_inited = true;
<br/>
}
<br/>
<br/>
void NE_WindowSystemEnd(void)
<br/>
{
<br/>
if(!ne_window_system_inited) return;
<br/>
<br/>
NE_WindowDeleteAll();
<br/>
<br/>
free(NE_windowpointers);
<br/>
<br/>
ne_window_system_inited = false;
<br/>
}
<br/>
<br/>
<br/>
inline void NE_WindowSetParams(NE_Window * window, u8 alpha, u8 id)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
window-&gt;alpha = alpha; window-&gt;id = id;
<br/>
}
<br/>
<br/>
<br/>
void NE_WindowDraw(NE_Window * window)
<br/>
{
<br/>
if(window == NULL) return;
<br/>
<br/>
if(!window-&gt;visible) return;
<br/>
<br/>
GFX_POLY_FORMAT = POLY_ALPHA(window-&gt;alpha) | POLY_ID(window-&gt;id) | NE_CULL_NONE;
<br/>
<br/>
if(window-&gt;spr != NULL)
<br/>
   {
<br/>
   if(window-&gt;mat != NULL)
<br/>
      {
<br/>
      NE_MaterialDelete(window-&gt;mat);
<br/>
      }
<br/>
   window-&gt;mat = NE_MaterialCreate();
<br/>
   int b = NE_Sprite2Material(window-&gt;spr,window-&gt;mat);
<br/>
   if (b == 0)
<br/>
      {
<br/>
      #ifdef NE_ERROR_HANDLING
<br/>
      char string[128];
<br/>
      sprintf(string,"Sprite data couldn't be converted to a texture");
<br/>
      NE_Error(NE_ERROR_MEMLOADINGFAILED,string);
<br/>
      #endif
<br/>
      window-&gt;mat = NULL;
<br/>
      }
<br/>
   }
<br/>
if(window-&gt;mat == NULL) 
<br/>
   {
<br/>
   NE_2DDrawQuad(window-&gt;x, window-&gt;y, window-&gt;x + window-&gt;sx, 
<br/>
            window-&gt;y + window-&gt;sy, window-&gt;priority, window-&gt;color);
<br/>
   }
<br/>
else 
<br/>
   {
<br/>
   NE_2DDrawTexturedQuadColor(window-&gt;x, window-&gt;y, window-&gt;x + window-&gt;sx, 
<br/>
            window-&gt;y + window-&gt;sy, window-&gt;priority, window-&gt;mat, window-&gt;color);
<br/>
   }
<br/>
if(window-&gt;spr != NULL)
<br/>
   {
<br/>
      NE_MaterialDelete(window-&gt;mat);
<br/>
      window-&gt;mat = NULL;
<br/>
   }
<br/>
}
<br/>
<br/>
<br/>
void NE_WindowDrawAll(void)
<br/>
{
<br/>
if(!ne_window_system_inited) return;
<br/>
<br/>
int a;
<br/>
for(a = 0; a &lt; NE_MAX_WINDOWS; a++) if(NE_windowpointers[a] !=NULL)
<br/>
   {
<br/>
   NE_Window * window = NE_windowpointers[a];
<br/>
   
<br/>
   if(window-&gt;visible)
<br/>
      {
<br/>
      GFX_POLY_FORMAT = POLY_ALPHA(window-&gt;alpha) | POLY_ID(window-&gt;id) | NE_CULL_NONE;
<br/>
      if(window-&gt;spr != NULL)
<br/>
         {
<br/>
         if(window-&gt;mat != NULL)
<br/>
            {
<br/>
            NE_MaterialDelete(window-&gt;mat);
<br/>
            }
<br/>
         window-&gt;mat = NE_MaterialCreate();
<br/>
         int b = NE_Sprite2Material(window-&gt;spr,window-&gt;mat);
<br/>
         if (b == 0)
<br/>
            {
<br/>
            #ifdef NE_ERROR_HANDLING
<br/>
            char string[128];
<br/>
            sprintf(string,"Sprite data couldn't be converted to a texture");
<br/>
            NE_Error(NE_ERROR_MEMLOADINGFAILED,string);
<br/>
            #endif
<br/>
            window-&gt;mat = NULL;
<br/>
            }
<br/>
         }
<br/>
      if(window-&gt;mat == NULL) 
<br/>
         {
<br/>
         NE_2DDrawQuad(window-&gt;x, window-&gt;y, window-&gt;x + window-&gt;sx, 
<br/>
                  window-&gt;y + window-&gt;sy, window-&gt;priority, window-&gt;color);
<br/>
         }
<br/>
      else 
<br/>
         {
<br/>
         NE_2DDrawTexturedQuad(window-&gt;x, window-&gt;y, window-&gt;x + window-&gt;sx, 
<br/>
                  window-&gt;y + window-&gt;sy, window-&gt;priority, window-&gt;mat);
<br/>
         }
<br/>
      if(window-&gt;spr != NULL)
<br/>
         {
<br/>
            NE_MaterialDelete(window-&gt;mat);
<br/>
            window-&gt;mat = NULL;
<br/>
         }
<br/>
      }
<br/>
   }
<br/>
   NE_TextureDefragMem();
<br/>
}
<br/>
<br/>
<br/>
//----------------------------------------------------------
<br/>
<br/>
//              Functions to draw in 2D.
<br/>
<br/>
//----------------------------------------------------------
<br/>
<br/>
//--------------------------------------------
<br/>
//INTERNAL USE -- See "NETexture.c"
<br/>
int __NE_TextureGetRawX(NE_Material * tex);
<br/>
int __NE_TextureGetRawY(NE_Material * tex);
<br/>
//--------------------------------------------
<br/>
<br/>
void NE_2DViewInit(void)
<br/>
{
<br/>
glViewport(0,0,255,191);
<br/>
<br/>
MATRIX_CONTROL = GL_PROJECTION;  ///FIXED!!!!
<br/>
MATRIX_IDENTITY = 0;
<br/>
glOrthof32 (0,256,  192,0, inttof32(1),inttof32(-1));
<br/>
<br/>
MATRIX_CONTROL = GL_MODELVIEW;
<br/>
MATRIX_IDENTITY = 0;
<br/>
<br/>
NE_PolyFormat(31, 0, 0, NE_CULL_NONE, 0);
<br/>
}
<br/>
<br/>
<br/>
inline void NE_2DViewRotateByPosition(int x, int y, int rotz)
<br/>
{
<br/>
NE_ViewMoveI( x, y,0);
<br/>
#ifdef NE_OLD_LIBNDS
<br/>
glRotateZi(rotz);
<br/>
#else
<br/>
glRotateZi(rotz&lt;&lt;6);
<br/>
#endif
<br/>
NE_ViewMoveI(-x,-y,0);
<br/>
}
<br/>
<br/>
void NE_2DDrawQuad(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, u32 color)
<br/>
{
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_TEX_FORMAT = 0;
<br/>
<br/>
GFX_COLOR = color;
<br/>
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}
<br/>
<br/>
void NE_2DDrawQuadGradient(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, u32 color1,
<br/>
               u32 color2, u32 color3, u32 color4)
<br/>
{
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_TEX_FORMAT = 0;
<br/>
<br/>
GFX_COLOR = color1;
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_COLOR = color4;
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_COLOR = color3;
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_COLOR = color2;
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}
<br/>
<br/>
<br/>
void NE_2DDrawTexturedQuad(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, NE_Material * mat)
<br/>
{
<br/>
if(mat == NULL) return;
<br/>
if(mat-&gt;texindex == NE_NO_TEXTURE) return;
<br/>
<br/>
int rx = __NE_TextureGetRawX(mat), ry = __NE_TextureGetRawY(mat);
<br/>
int x = NE_TextureGetSizeX(mat), y = NE_TextureGetSizeY(mat);
<br/>
<br/>
NE_MaterialUse(mat);
<br/>
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,0);
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),0);
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}
<br/>
<br/>
<br/>
void NE_2DDrawTexturedQuadColor(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, NE_Material * mat, 
<br/>
               u32 color)
<br/>
{
<br/>
if(mat == NULL) return;
<br/>
if(mat-&gt;texindex == NE_NO_TEXTURE) return;
<br/>
<br/>
int rx = __NE_TextureGetRawX(mat), ry = __NE_TextureGetRawY(mat);
<br/>
int x = NE_TextureGetSizeX(mat), y = NE_TextureGetSizeY(mat);
<br/>
<br/>
NE_MaterialUse(mat);
<br/>
<br/>
GFX_COLOR = color; 
<br/>
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,0);
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),0);
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}
<br/>
<br/>
void NE_2DDrawTexturedQuadGradient(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, NE_Material * mat,
<br/>
            u32 color1, u32 color2, u32 color3, u32 color4)
<br/>
{
<br/>
if(mat == NULL) return;
<br/>
if(mat-&gt;texindex == NE_NO_TEXTURE) return;
<br/>
<br/>
int rx = __NE_TextureGetRawX(mat), ry = __NE_TextureGetRawY(mat);
<br/>
int x = NE_TextureGetSizeX(mat), y = NE_TextureGetSizeY(mat);
<br/>
<br/>
NE_MaterialUse(mat);
<br/>
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_COLOR = color1;
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,0);
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_COLOR = color4;
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_COLOR = color3;
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_COLOR = color2;
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),0);
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}
<br/>
<br/>
void NE_2DDrawTexturedQuadAlpha(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, NE_Material * mat, double alpha)
<br/>
{
<br/>
if(mat == NULL) return;
<br/>
if(mat-&gt;texindex == NE_NO_TEXTURE) return;
<br/>
<br/>
int rx = __NE_TextureGetRawX(mat), ry = __NE_TextureGetRawY(mat);
<br/>
int x = NE_TextureGetSizeX(mat), y = NE_TextureGetSizeY(mat);
<br/>
<br/>
NE_MaterialUse(mat);
<br/>
<br/>
GFX_POLY_FORMAT = POLY_ALPHA(alpha) | POLY_ID(NE_API_POLY_ID) | NE_CULL_NONE;
<br/>
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,0);
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),0);
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
because libpicture loads the pictures in RGB format i also use RGB format.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166192 - AntonioND - Sun Feb 01, 2009 6:14 pm</h4>
    <div class="postbody"><span class="postbody">You shouldn't mix your sprite functions with the window system... In fact, I think it is quite useless right now, I will probably modify/remove it in the future.
<br/>
<br/>
Anyway...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">if(window-&gt;spr != NULL)
<br/>
   {
<br/>
   if(window-&gt;mat != NULL)
<br/>
      {
<br/>
      NE_MaterialDelete(window-&gt;mat);
<br/>
      }
<br/>
   window-&gt;mat = NE_MaterialCreate();
<br/>
   int b = NE_Sprite2Material(window-&gt;spr,window-&gt;mat);
<br/>
   }
<br/>
</td> </tr></table><span class="postbody">
<br/>
Well... This could work with only a few sprites, but I wouldn't load the textures in the same function I use them...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   char* fn = "";
<br/>
   sprintf(fn,"%s",filename);</td> </tr></table><span class="postbody">
<br/>
What?? Fix that, fn should be pointing somewhere to hold the filename.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   memcpy(tmpData, iconData.picData, (spr-&gt;sizeX * spr-&gt;sizeY * 2) + 4);</td> </tr></table><span class="postbody">
<br/>
Why do you put "+4"?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166193 - hacker013 - Sun Feb 01, 2009 7:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>AntonioND wrote:</b></span></td> </tr> <tr> <td class="quote">You shouldn't mix your sprite functions with the window system... In fact, I think it is quite useless right now, I will probably modify/remove it in the future.
<br/>
<br/>
Anyway...
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">if(window-&gt;spr != NULL)
<br/>
   {
<br/>
   if(window-&gt;mat != NULL)
<br/>
      {
<br/>
      NE_MaterialDelete(window-&gt;mat);
<br/>
      }
<br/>
   window-&gt;mat = NE_MaterialCreate();
<br/>
   int b = NE_Sprite2Material(window-&gt;spr,window-&gt;mat);
<br/>
   }
<br/>
</td> </tr></table><span class="postbody">
<br/>
Well... This could work with only a few sprites, but I wouldn't load the textures in the same function I use them...
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
Why should this only work with a few sprites?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   char* fn = "";
<br/>
   sprintf(fn,"%s",filename);</td> </tr></table><span class="postbody">
<br/>
What?? Fix that, fn should be pointing somewhere to hold the filename.
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
How do you mean?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   memcpy(tmpData, iconData.picData, (spr-&gt;sizeX * spr-&gt;sizeY * 2) + 4);</td> </tr></table><span class="postbody">
<br/>
Why do you put "+4"?</span></td> </tr></table><span class="postbody">
<br/>
I don't know, I ripped the load code for pictures from DSOrganize. Because i added libpicture to it so i also added the basic load code from DSO.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166200 - AntonioND - Sun Feb 01, 2009 8:55 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Why should this only work with a few sprites?
<br/>
</td> </tr></table><span class="postbody">
<br/>
If you use a lot of sprites, it will need too much time to load the textures. You are doing that while the sprites are being drawn, so it could happen that some sprites aren't drawn.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
How do you mean?
<br/>
</td> </tr></table><span class="postbody">
<br/>
I don't know exactly where is pointing fn to, but I think:
<br/>
1) It is pointing to the part of the ram where the rest of text is located. If fn is pointing to a string with no lenght, when you use sprintf you will overwrite some data. 
<br/>
2)It is pointing anywhere/NULL. In that case, you could cause a code dump.
<br/>
<br/>
For example, you can use:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"> char* fn = (char*)malloc(MAXPATHLEN);
<br/>
   sprintf(fn,"%s",filename);
<br/>
<br/>
//blablabla...
<br/>
<br/>
free(fn);
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166207 - silent_code - Sun Feb 01, 2009 10:46 pm</h4>
    <div class="postbody"><span class="postbody">Or use a temporary buffer (local array of fixed size) instead. There are a few ways to solve this task.
<br/>
Maybe a refresher on C/C++ programming could come in handy?<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166267 - hacker013 - Tue Feb 03, 2009 6:01 pm</h4>
    <div class="postbody"><span class="postbody">thx guys, and AntonioND when can we expect and new release?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166313 - AntonioND - Wed Feb 04, 2009 5:27 pm</h4>
    <div class="postbody"><span class="postbody">In a few weeks I'll have more free time to work on Nitro Engine. Don't expect anything new before March...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166355 - hacker013 - Thu Feb 05, 2009 8:08 pm</h4>
    <div class="postbody"><span class="postbody">can you add the function to add alpha from an another texture. so every pixel can have its own alpha.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166357 - AntonioND - Thu Feb 05, 2009 8:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">can you add the function to add alpha from an another texture. so every pixel can have its own alpha.</td> </tr></table><span class="postbody">
<br/>
What do you want that for? To modify the alpha of a texture previously loaded from fat?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166372 - hacker013 - Fri Feb 06, 2009 4:21 pm</h4>
    <div class="postbody"><span class="postbody">for alpha masks<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166375 - elhobbs - Fri Feb 06, 2009 4:40 pm</h4>
    <div class="postbody"><span class="postbody">the ds does not have full opengl alpha support. you can do 1 bit transparancy with GL_RGBA textures or you can do per triangle/quad transparacy with alpha using glPolyFmt. There are also some low color texture formats that have alpha channels as well.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//from videoGL.h in libnds
<br/>
typedef enum {
<br/>
   GL_RGB32_A3   = 1, /*!&lt; 32 color palette, 3 bits of alpha */
<br/>
   GL_RGB4       = 2, /*!&lt; 4 color palette */
<br/>
   GL_RGB16      = 3, /*!&lt; 16 color palette */
<br/>
   GL_RGB256     = 4, /*!&lt; 256 color palette */
<br/>
   GL_COMPRESSED = 5, /*!&lt; compressed texture */
<br/>
   GL_RGB8_A5    = 6, /*!&lt; 8 color palette, 5 bits of alpha */
<br/>
   GL_RGBA       = 7, /*!&lt; 15 bit direct color, 1 bit of alpha */
<br/>
   GL_RGB        = 8  /*!&lt; 15 bit direct color, manually sets alpha bit to 1 */
<br/>
} GL_TEXTURE_TYPE_ENUM;
<br/>
<br/>
/*! \fn  uint32 POLY_ALPHA(int n)
<br/>
\brief used in glPolyFmt() to set the alpha level for the following polygons, set to 0 for wireframe mode
<br/>
\param n the level of alpha (0-31) */
<br/>
 uint32 POLY_ALPHA(int n) { return (uint32)((n) &lt;&lt; 16); };
<br/>
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166378 - hacker013 - Fri Feb 06, 2009 6:03 pm</h4>
    <div class="postbody"><span class="postbody">in RGBA mode i thought that every pixel has its own alpha value, correct me if i'm wrong.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166381 - josath - Fri Feb 06, 2009 6:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">in RGBA mode i thought that every pixel has its own alpha value, correct me if i'm wrong.</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, every pixel has its own alpha value....but the only possible values are 0 or 1.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166382 - hacker013 - Fri Feb 06, 2009 7:23 pm</h4>
    <div class="postbody"><span class="postbody">so i asked for support of loading alpha from a file: a black/white/grey bmp to set the alpha from every pixel aka alpha masks.
<br/>
<br/>
EDIT:
<br/>
<br/>
Can you also add scrolling background in 2d mode?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166402 - silent_code - Sat Feb 07, 2009 1:19 pm</h4>
    <div class="postbody"><span class="postbody">I think he is requestin a separate alpha image with black and white entries, that is supposed to set the alpha bit in a corresponding color image.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166405 - hacker013 - Sat Feb 07, 2009 2:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">I think he is requestin a separate alpha image with black and white entries, that is supposed to set the alpha bit in a corresponding color image.</td> </tr></table><span class="postbody">
<br/>
<br/>
that is right<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166469 - hacker013 - Sun Feb 08, 2009 5:51 pm</h4>
    <div class="postbody"><span class="postbody">little request again:
<br/>
can you add alpha support by every 2d function. and release some documentation about how to make a bitmap font for NE.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166490 - AntonioND - Sun Feb 08, 2009 8:43 pm</h4>
    <div class="postbody"><span class="postbody">If you want to change alpha of 2D drawings, just change the polygon format between quads. It's not as easy as changing the alpha value, you have to take care of the poly ID. Try to draw a translucent polygon over another with the same ID to see what I mean.
<br/>
<br/>
And... about the font... Have you tried to open it with... Paint, for example? The fonts I use in the examples are just a BMP files, take a look at them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166619 - silent_code - Thu Feb 12, 2009 12:09 am</h4>
    <div class="postbody"><span class="postbody">Usenti is a great tool for that purpose. :^)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166669 - hacker013 - Fri Feb 13, 2009 5:19 pm</h4>
    <div class="postbody"><span class="postbody">we i use:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
NE_ProcessDual(NE_2DViewInit,NE_2DViewInit);
<br/>
NE_ProcessDual(Drawing2DTop,Drawing2DDown);
<br/>
</td> </tr></table><span class="postbody">
<br/>
is then the second processdual still in 2d mode?
<br/>
<br/>
EDIT:
<br/>
can i init dual 3d and ne console?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166673 - AntonioND - Fri Feb 13, 2009 8:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">we i use:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
NE_ProcessDual(NE_2DViewInit,NE_2DViewInit);
<br/>
NE_ProcessDual(Drawing2DTop,Drawing2DDown);
<br/>
</td> </tr></table><span class="postbody">
<br/>
is then the second processdual still in 2d mode?
<br/>
<br/>
EDIT:
<br/>
can i init dual 3d and ne console?</span></td> </tr></table><span class="postbody">
<br/>
That won't work... That function just calls the correct function to render to screen, you have to draw 2D + 3D in that function.
<br/>
<br/>
Yes, you can use the console, but i'd only use it for debugging purposes (it does only work in one screen). If you want to display text, use the text functions of NE.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166700 - hacker013 - Sun Feb 15, 2009 10:41 am</h4>
    <div class="postbody"><span class="postbody">i've some problems with materials, i've 1 material what is correctly loaded like the rest but isn't show. i use a window to show it and it hasn't a white rectangle, it just draws nothing.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166707 - AntonioND - Sun Feb 15, 2009 3:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">i've some problems with materials, i've 1 material what is correctly loaded like the rest but isn't show. i use a window to show it and it hasn't a white rectangle, it just draws nothing.</td> </tr></table><span class="postbody">
<br/>
If you try to draw a textured quad whose texture isn't pointing to a valid texture slot, the quad won't be displayed.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166714 - renatobs - Sun Feb 15, 2009 7:28 pm</h4>
    <div class="postbody"><span class="postbody">Hi. I?m remaking for NDS a game of console SEGA Genesis game called "Shining Force 2" and in the battle scene I?d like to put a 3D animation. I?m totally new in 3D engines ( I?m learning about Blender 3D, it?s very good! ) and seem to me that your 3D engine is so friendly, correct !!? But, I have some doubts: my 2D engine is made and I?d like to mix your engine, to create this animations, and show only in the up-screen, while the 2D scene keep under. Here you can see some information about "how looks like" the game: 
<br/>
<br/>
<a href="http://forums.shiningforcecentral.com/index.php?showtopic=12564" target="_blank">http://forums.shiningforcecentral.com/index.php?showtopic=12564</a>
<br/>
<a href="http://br.youtube.com/watch?v=oHwqK46bE50" target="_blank">http://br.youtube.com/watch?v=oHwqK46bE50</a>
<br/>
<br/>
Ok, maybe you are asking "what are trying to do?". See this:
<br/>
<br/>
<a href="http://www.youtube.com/watch?v=E1MCLMRKklQ&amp;feature=related" target="_blank">http://www.youtube.com/watch?v=E1MCLMRKklQ&amp;feature=related</a>
<br/>
<br/>
There you can see how was the battle scene in the first version of the game, Genesis 2D game. And here:
<br/>
<br/>
<a href="http://www.youtube.com/watch?v=NvogOLSYdhs" target="_blank">http://www.youtube.com/watch?v=NvogOLSYdhs</a>
<br/>
<br/>
...you can see the 3D version of the game in the Sega Saturn console, but it?s not the same, it?s Shining Force 3.
<br/>
<br/>
Well, I?d like to put only the 3D battle scene in my game, when the character are fighting. One screen with the 2D scene, the touchscreen, and in the other the 3D animation fighting scene. What do you think ? Is it possible with your engine ?? If I was do all the game in 3D way, like you saw in the video, could I ??
<br/>
<br/>
Thanks for your atention and sorry fo my "poor english language! "</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166715 - hacker013 - Sun Feb 15, 2009 7:36 pm</h4>
    <div class="postbody"><span class="postbody">if your game is totaly 2d but the cutscenes are 3d you maybe beter can implent swf and then make your 3d scenes in blender. make the movie. convert it to a .swf and play it on your nds-screen.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166723 - renatobs - Mon Feb 16, 2009 12:05 am</h4>
    <div class="postbody"><span class="postbody">Ok... but no, cuz I?d like to do this in "real time", cuz I need to get the scene in a lot of views... and if the engime alow me to do all things in 3D, it?s very good !!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166741 - hacker013 - Mon Feb 16, 2009 9:39 am</h4>
    <div class="postbody"><span class="postbody">i think i can but you have to reinit your 2d engine after using nitro engine or you could bease your 2d engine on the 2d functions from nitro engine.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166748 - AntonioND - Mon Feb 16, 2009 2:34 pm</h4>
    <div class="postbody"><span class="postbody">The animation system is quite bad at the moment. If you want to display 3D scenes with many animated models, you'll have to use another system.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166754 - hacker013 - Mon Feb 16, 2009 4:55 pm</h4>
    <div class="postbody"><span class="postbody">i think you maybe should try out the yeti 3d engine<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166807 - renatobs - Wed Feb 18, 2009 7:18 pm</h4>
    <div class="postbody"><span class="postbody">No, no... I?d like to have only 2 characters on one texturized floor,only it... in the background I?ll put a 2D picture... in the link above you can see exactly what i?d like to do... when 2 characters of the battle come so close, a scene is show, with these chars fighting, one of them attacking and the other defensing or not... This scene is what I?d like to do in up-screen !!! Only this scene in 3D and with a simple and easy animation... I?d like to do one test with it. But I?d like to do if there is a chance that I can use your engine to do this, and could I use the Blender models to do it ?!?!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166809 - AntonioND - Wed Feb 18, 2009 9:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>renatobs wrote:</b></span></td> </tr> <tr> <td class="quote">No, no... I?d like to have only 2 characters on one texturized floor,only it... in the background I?ll put a 2D picture... in the link above you can see exactly what i?d like to do... when 2 characters of the battle come so close, a scene is show, with these chars fighting, one of them attacking and the other defensing or not... This scene is what I?d like to do in up-screen !!! Only this scene in 3D and with a simple and easy animation... I?d like to do one test with it. But I?d like to do if there is a chance that I can use your engine to do this, and could I use the Blender models to do it ?!?!</td> </tr></table><span class="postbody">
<br/>
You would have to export your models in MD2 format. Anyway, the animation system is really bad, there is no way to display "frames between frames", so even a short animation needs a lot of space...  You can try to convert a model and see if that is what you are looking for.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#166818 - hacker013 - Thu Feb 19, 2009 4:31 pm</h4>
    <div class="postbody"><span class="postbody">wth, is then using all that space?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167564 - hacker013 - Wed Mar 18, 2009 6:16 pm</h4>
    <div class="postbody"><span class="postbody">Nitro Engine doesn't init correctly anymore with the newest libnds 1.3.2 and devkitARM r25. The screen is totaly messed up in Dual 3D mode. Do you have already made a new version or a fix?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167576 - AntonioND - Wed Mar 18, 2009 8:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">Nitro Engine doesn't init correctly anymore with the newest libnds 1.3.2 and devkitARM r25. The screen is totaly messed up in Dual 3D mode. Do you have already made a new version or a fix?</td> </tr></table><span class="postbody">
<br/>
Are you using the touch test functions? I know they don't work well with latest version of libnds. If you aren't using that, explain a little more what happens.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167604 - hacker013 - Thu Mar 19, 2009 7:37 pm</h4>
    <div class="postbody"><span class="postbody">No, I'm not using them. I found that is was a problem with the wifi init function. I placed it some where else in the program and now is any working right again oO.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167655 - hacker013 - Sat Mar 21, 2009 11:54 am</h4>
    <div class="postbody"><span class="postbody">I found a bug. The text priority functions does't work. You have to open NEText.c and replace this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
static inline void _ne_texturecuadprint(int xcrd1, int ycrd1, int xcrd2, int ycrd2, int xtx1, int ytx1, int xtx2, int ytx2)
<br/>
{
<br/>
//------------ INTERNAL USE  ----------------------------
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx1), inttot16(ytx1));
<br/>
GFX_VERTEX16 = (ycrd1 &lt;&lt; 16) | (xcrd1 &amp; 0xFFFF);
<br/>
GFX_VERTEX16 = 0;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx1), inttot16(ytx2));
<br/>
GFX_VERTEX_XY = (ycrd2 &lt;&lt; 16) | (xcrd1 &amp; 0xFFFF);
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx2), inttot16(ytx2));
<br/>
GFX_VERTEX_XY = (ycrd2 &lt;&lt; 16) | (xcrd2 &amp; 0xFFFF);
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx2), inttot16(ytx1));
<br/>
GFX_VERTEX_XY = (ycrd1 &lt;&lt; 16) | (xcrd2 &amp; 0xFFFF);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
with this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
static inline void _ne_texturecuadprint(int xcrd1, int ycrd1, int xcrd2, int ycrd2, int xtx1, int ytx1, int xtx2, int ytx2)
<br/>
{
<br/>
//------------ INTERNAL USE  ----------------------------
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx1), inttot16(ytx1));
<br/>
GFX_VERTEX16 = (ycrd1 &lt;&lt; 16) | (xcrd1 &amp; 0xFFFF);
<br/>
GFX_VERTEX16 = NE_TEXT_PRIORITY;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx1), inttot16(ytx2));
<br/>
GFX_VERTEX_XY = (ycrd2 &lt;&lt; 16) | (xcrd1 &amp; 0xFFFF);
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx2), inttot16(ytx2));
<br/>
GFX_VERTEX_XY = (ycrd2 &lt;&lt; 16) | (xcrd2 &amp; 0xFFFF);
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(inttot16(xtx2), inttot16(ytx1));
<br/>
GFX_VERTEX_XY = (ycrd1 &lt;&lt; 16) | (xcrd2 &amp; 0xFFFF);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
And replace this in NEGeneral.c:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">static void NE_Init__(void)
<br/>
{
<br/>
//Power all 3D and 2D. Hide 3D screen during init
<br/>
#ifdef NE_OLD_LIBNDS
<br/>
powerON(POWER_ALL);
<br/>
#else
<br/>
powerOn(POWER_ALL);
<br/>
#endif
<br/>
<br/>
videoSetMode(0);
<br/>
<br/>
vramSetBankA(VRAM_A_TEXTURE_SLOT0);
<br/>
vramSetBankB(VRAM_B_TEXTURE_SLOT1);
<br/>
vramSetBankE(VRAM_E_TEX_PALETTE);
<br/>
<br/>
while (GFX_STATUS &amp; (1&lt;&lt;27));
<br/>
<br/>
// Clear the FIFO
<br/>
GFX_STATUS |= (1&lt;&lt;29);
<br/>
<br/>
glFlush(0);
<br/>
glFlush(0);
<br/>
<br/>
lcdMainOnTop();
<br/>
<br/>
glResetMatrixStack();
<br/>
<br/>
GFX_CONTROL = GL_TEXTURE_2D | GL_ANTIALIAS | GL_BLEND;
<br/>
<br/>
glAlphaFunc(BLEND_ALPHA);
<br/>
<br/>
NE_ClearColorSet(NE_Black,31,63);
<br/>
NE_FogEnableBackground(false);
<br/>
glClearDepth(GL_MAX_DEPTH);
<br/>
<br/>
NE_Viewport(0,0,255,191);
<br/>
<br/>
//Default number of objects for everyting
<br/>
NE_TextureSystemReset(0,0);
<br/>
NE_CameraSystemReset(0);
<br/>
NE_PhysicsSystemReset(0);
<br/>
NE_WindowSystemReset(0);
<br/>
NE_APISystemReset(0);
<br/>
NE_ModelSystemReset(0);
<br/>
<br/>
glMatrixMode(GL_TEXTURE);
<br/>
glLoadIdentity();
<br/>
<br/>
glMatrixMode(GL_PROJECTION);
<br/>
glLoadIdentity();
<br/>
gluPerspectivef32(70 * LUT_SIZE / 360.0, floattof32(256.0 / 192.0), floattof32(0.1F), inttof32(40));
<br/>
<br/>
//ds uses a table for shinyness..this generates a half-ass one
<br/>
glMaterialShinyness();
<br/>
<br/>
// setup other material properties
<br/>
glMaterialf(GL_AMBIENT, RGB15(16,16,16));
<br/>
glMaterialf(GL_DIFFUSE, RGB15(20,20,20));
<br/>
glMaterialf(GL_SPECULAR, BIT(15) | RGB15(8,8,8));
<br/>
glMaterialf(GL_EMISSION, RGB15(5,5,5));
<br/>
<br/>
//Turn off some things...
<br/>
int a = 4;
<br/>
while(a--) NE_LightOff(a);
<br/>
<br/>
GFX_COLOR = 0;
<br/>
GFX_POLY_FORMAT = 0;
<br/>
<br/>
a = 8;
<br/>
while(a--) NE_OutliningSetColor(a,0);
<br/>
<br/>
glMatrixMode(GL_MODELVIEW);
<br/>
glLoadIdentity();
<br/>
<br/>
//Ready!!
<br/>
<br/>
videoSetMode(MODE_0_3D);
<br/>
}</td> </tr></table><span class="postbody"> with this:</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">static void NE_Init__(void)
<br/>
{
<br/>
//Power all 3D and 2D. Hide 3D screen during init
<br/>
#ifdef NE_OLD_LIBNDS
<br/>
powerON(POWER_ALL);
<br/>
#else
<br/>
powerOn(POWER_ALL);
<br/>
#endif
<br/>
<br/>
videoSetMode(0);
<br/>
<br/>
vramSetBankA(VRAM_A_TEXTURE_SLOT0);
<br/>
vramSetBankB(VRAM_B_TEXTURE_SLOT1);
<br/>
vramSetBankE(VRAM_E_TEX_PALETTE);
<br/>
<br/>
while (GFX_STATUS &amp; (1&lt;&lt;27));
<br/>
<br/>
// Clear the FIFO
<br/>
GFX_STATUS |= (1&lt;&lt;29);
<br/>
<br/>
glFlush(0);
<br/>
glFlush(0);
<br/>
<br/>
lcdMainOnTop();
<br/>
<br/>
glResetMatrixStack();
<br/>
<br/>
GFX_CONTROL = GL_TEXTURE_2D | GL_ANTIALIAS | GL_BLEND;
<br/>
<br/>
glAlphaFunc(BLEND_ALPHA);
<br/>
<br/>
NE_ClearColorSet(NE_Black,31,63);
<br/>
NE_FogEnableBackground(false);
<br/>
glClearDepth(GL_MAX_DEPTH);
<br/>
<br/>
NE_Viewport(0,0,255,191);
<br/>
<br/>
//Default number of objects for everyting
<br/>
NE_TextureSystemReset(0,0);
<br/>
NE_CameraSystemReset(0);
<br/>
NE_PhysicsSystemReset(0);
<br/>
NE_WindowSystemReset(0);
<br/>
NE_APISystemReset(0);
<br/>
NE_ModelSystemReset(0);
<br/>
NE_TextPriorityReset();
<br/>
<br/>
glMatrixMode(GL_TEXTURE);
<br/>
glLoadIdentity();
<br/>
<br/>
glMatrixMode(GL_PROJECTION);
<br/>
glLoadIdentity();
<br/>
gluPerspectivef32(70 * LUT_SIZE / 360.0, floattof32(256.0 / 192.0), floattof32(0.1F), inttof32(40));
<br/>
<br/>
//ds uses a table for shinyness..this generates a half-ass one
<br/>
glMaterialShinyness();
<br/>
<br/>
// setup other material properties
<br/>
glMaterialf(GL_AMBIENT, RGB15(16,16,16));
<br/>
glMaterialf(GL_DIFFUSE, RGB15(20,20,20));
<br/>
glMaterialf(GL_SPECULAR, BIT(15) | RGB15(8,8,8));
<br/>
glMaterialf(GL_EMISSION, RGB15(5,5,5));
<br/>
<br/>
//Turn off some things...
<br/>
int a = 4;
<br/>
while(a--) NE_LightOff(a);
<br/>
<br/>
GFX_COLOR = 0;
<br/>
GFX_POLY_FORMAT = 0;
<br/>
<br/>
a = 8;
<br/>
while(a--) NE_OutliningSetColor(a,0);
<br/>
<br/>
glMatrixMode(GL_MODELVIEW);
<br/>
glLoadIdentity();
<br/>
<br/>
//Ready!!
<br/>
<br/>
videoSetMode(MODE_0_3D);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
So that it work again.
<br/>
<br/>
This are 2 2d draw quad functions with alpha support:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void NE_2DDrawTexturedQuadAlpha(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, NE_Material * mat, int alpha, int id)
<br/>
{
<br/>
if(mat == NULL) return;
<br/>
if(mat-&gt;texindex == NE_NO_TEXTURE) return;
<br/>
<br/>
int rx = __NE_TextureGetRawX(mat), ry = __NE_TextureGetRawY(mat);
<br/>
int x = NE_TextureGetSizeX(mat), y = NE_TextureGetSizeY(mat);
<br/>
<br/>
NE_MaterialUse(mat);
<br/>
<br/>
GFX_POLY_FORMAT = POLY_ALPHA(alpha) | POLY_ID(id) | NE_CULL_NONE;
<br/>
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,0);
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK(0,(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),(inttot16(y)+ry));
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_TEX_COORD = TEXTURE_PACK((inttot16(x)+rx),0);
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}
<br/>
<br/>
void NE_2DDrawQuadGradientAlpha(s16 x1, s16 y1, s16 x2, s16 y2, s16 z, u32 color1,
<br/>
               u32 color2, u32 color3, u32 color4, int alpha, int id)
<br/>
{
<br/>
GFX_POLY_FORMAT = POLY_ALPHA(alpha) | POLY_ID(id) | NE_CULL_NONE;
<br/>
<br/>
GFX_BEGIN = GL_QUADS;
<br/>
<br/>
GFX_TEX_FORMAT = 0;
<br/>
<br/>
GFX_COLOR = color1;
<br/>
GFX_VERTEX16 = (y1 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Up-left
<br/>
GFX_VERTEX16 = z;
<br/>
<br/>
GFX_COLOR = color4;
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x1 &amp; 0xFFFF); //Down-left
<br/>
<br/>
GFX_COLOR = color3;
<br/>
GFX_VERTEX_XY = (y2 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Down-right
<br/>
<br/>
GFX_COLOR = color2;
<br/>
GFX_VERTEX_XY = (y1 &lt;&lt; 16) | (x2 &amp; 0xFFFF); //Up-right
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
Here a fix for NE_WaitForVBL() so it work also without errors in c++
<br/>
Replace this struct in NEGeneral.h:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/*! \enum  NE_UPDATE_FLAGS
<br/>
 *  \brief Arguments for NE_WaitForVBL(). */
<br/>
typedef enum
<br/>
   {
<br/>
   NE_UPDATE_API        =    1, /*!&lt; Updates NE_API. */ 
<br/>
   NE_UPDATE_ANIMATIONS = 1&lt;&lt;1, /*!&lt; Updates animated models. */ 
<br/>
   NE_UPDATE_PHYSICS    = 1&lt;&lt;2, /*!&lt; Updates the physics engine. */ 
<br/>
   NE_CAN_SKIP_VBL      = 1&lt;&lt;3  /*!&lt; Allows Nitro Engine skip the VBL wait if CPU load is greater than 100. */ 
<br/>
   } NE_UPDATE_FLAGS;</td> </tr></table><span class="postbody">
<br/>
with this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">/*! \enum  NE_UPDATE_FLAGS
<br/>
 *  \brief Arguments for NE_WaitForVBL(). */
<br/>
typedef enum
<br/>
   {
<br/>
   NE_UPDATE_API        =    1, /*!&lt; Updates NE_API. */ 
<br/>
   NE_UPDATE_ANIMATIONS = 1&lt;&lt;1, /*!&lt; Updates animated models. */ 
<br/>
   NE_UPDATE_PHYSICS    = 1&lt;&lt;2, /*!&lt; Updates the physics engine. */ 
<br/>
   NE_CAN_SKIP_VBL      = 1&lt;&lt;3, /*!&lt; Allows Nitro Engine skip the VBL wait if CPU load is greater than 100. */ 
<br/>
   NE_UPDATE_BASIC    = 1&lt;&lt;4  /*&lt;! Update Basic */
<br/>
   } NE_UPDATE_FLAGS;</td> </tr></table><span class="postbody">
<br/>
<br/>
If you want gif/bmp/jpeg/png loading support from fat in this engine go to <a class="postlink" href="http://urazelda.webs.com/downloads.htm" target="_blank">http://urazelda.webs.com/downloads.htm</a> and download the update version from libpicture from my site and add this to NEFormats.c
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/*--------------------------------------------------------------------
<br/>
Internal Use
<br/>
---------------------------------------------------------------------*/
<br/>
// --
<br/>
// FileExists
<br/>
// --
<br/>
bool FileExists(char* filename)
<br/>
{
<br/>
FILE *fp = fopen(filename,"r");
<br/>
if(fp) 
<br/>
   {
<br/>
      fclose(fp);
<br/>
      return true;
<br/>
   } else {
<br/>
      return false;
<br/>
   }
<br/>
}
<br/>
//-------------------------------------------------------------------------------
<br/>
int UZ_FATMaterialTexLoadPICtoRGB(NE_Material * tex, const char * filename)
<br/>
{
<br/>
if (tex == NULL) return 0;
<br/>
<br/>
int lastx = 0, lasty = 0;
<br/>
PICTURE_DATA iconData;
<br/>
char* fn = malloc(MAXPATHLEN);
<br/>
sprintf(fn,"%s",filename);
<br/>
<br/>
if(FileExists(fn)==false) // couldn't open
<br/>
{
<br/>
   char string[128];
<br/>
   sprintf(string, "%s could't be opened!", fn);
<br/>
   NE_FATAL_ERROR(string);
<br/>
}
<br/>
memset(&amp;iconData, 0, sizeof(PICTURE_DATA));
<br/>
disableGIFFileStreaming();
<br/>
loadImage(fn, &amp;iconData, 0, 0);
<br/>
<br/>
if (iconData.error == true)
<br/>
{
<br/>
   char string[128];
<br/>
   sprintf(string, "Error happend while loading file\n%s", fn);
<br/>
   NE_FATAL_ERROR(string);
<br/>
}
<br/>
<br/>
lastx = iconData.max_X;
<br/>
lasty = iconData.max_Y;
<br/>
<br/>
uint16 *tmpData = (uint16 *)malloc((lastx * lasty * 2) + 4);
<br/>
if (tmpData == NULL)
<br/>
{
<br/>
   char string[128];
<br/>
   sprintf(string, "Not enought memory to load file\n%s!", fn);
<br/>
   NE_FATAL_ERROR(string);
<br/>
}
<br/>
memcpy(tmpData, iconData.picData, (lastx * lasty * 2) + 4);
<br/>
<br/>
freeImage(&amp;iconData);
<br/>
<br/>
int a = NE_MaterialTexLoad(tex, GL_RGB, lastx, lasty, TEXGEN_TEXCOORD, (u8*)tmpData);
<br/>
<br/>
return a;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
It loads the pictures from fat in RGB format.
<br/>
<br/>
Note: you have to update the header files by yourself. I hope that it don't gives to much work to do that.
<br/>
<br/>
This are bug fixes and updates for AntonioND's Nitro Engine. Your choise to use it or not. I hope he will intergrate them.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167666 - a128 - Sat Mar 21, 2009 5:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">I found a bug. The text priority functions does't work. You have to open NEText.c and replace this:.....
<br/>
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
please post your source code as a download link....that would be better I guess then posting tons tons of text</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167669 - hacker013 - Sat Mar 21, 2009 5:41 pm</h4>
    <div class="postbody"><span class="postbody">I only post the changes because when I post only a zip with the source I had to post also the changes -_-<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167673 - AntonioND - Sat Mar 21, 2009 8:39 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the bug report, hacker013.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">I only post the changes because when I post only a zip with the source I had to post also the changes -_-</td> </tr></table><span class="postbody">
<br/>
But you could have posted only the modified functions and tell where the modification is, for example.
<br/>
<br/>
By the way, I've modified a bit the texture allocation system and it now lets you choose the vram banks Nitro Engine can use for textures. In dual 3D mode you can only choose banks A and B, of course.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168059 - hacker013 - Wed Apr 08, 2009 4:55 pm</h4>
    <div class="postbody"><span class="postbody">Any updates O_O?
<br/>
<br/>
And why doesn't do this anything?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   //Graphics
<br/>
   NE_2DDrawTexturedQuad(44, 135, 44+256, 135+16, 5, MaterialCheckBrightness);
<br/>
   NE_2DDrawTexturedQuad(44, 153, 44+256, 153+4, 5, MaterialOptionsLine);
<br/>
   NE_2DDrawTexturedQuad(44, 56, 44+256, 56+4, 5, MaterialOptionsLine);
<br/>
   NE_2DDrawTexturedQuad(44, 113, 44+256, 113+4, 5, MaterialOptionsLine);
<br/>
   //Text
<br/>
   NE_TextPrintFree(0, 31, 15, NE_White, "Options");
<br/>
   NE_TextPrintFree(0, 44, 135, NE_White, "CHECK BRIGHTNESS");
<br/>
   NE_TextPrintFree(0, 44, 38, NE_White, "SOUND");
<br/>
   NE_TextPrintFree(0, 44, 59, NE_White, "Music\nEffects");
<br/>
   if(game_music)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 149, 59, NE_White, "On\nOff");
<br/>
   } else {
<br/>
      NE_TextPrintFree(0, 149, 59, NE_White, "Off\nOff");
<br/>
   }
<br/>
   NE_TextPrintFree(0, 44, 95, NE_White, "Z TARGETING");
<br/>
   NE_TextPrintFree(0, 44, 126, NE_White, "Switch     Hold");</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168118 - AntonioND - Fri Apr 10, 2009 3:16 pm</h4>
    <div class="postbody"><span class="postbody">Please, copy the whole function.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168132 - hacker013 - Fri Apr 10, 2009 6:26 pm</h4>
    <div class="postbody"><span class="postbody">oke, here is the whole function:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void DrawDownMenu(){
<br/>
NE_2DViewInit();
<br/>
// -- Draw moving clouds
<br/>
NE_WindowDraw(WindowMenu[0]);
<br/>
NE_WindowDraw(WindowMenu[1]);
<br/>
NE_2DDrawQuadGradientAlpha(0, 0, 256, 192, 9, NE_Black, NE_Black, NE_Blue, NE_Blue, 15, 1);
<br/>
NE_WindowDraw(WindowMenu[2]);
<br/>
// -- Draw Text
<br/>
NE_TextPrintFree(0,48,175,NE_LightBlue,"A-Decide  *  B-Cancel");
<br/>
int i=0;
<br/>
switch(menu_room)
<br/>
{
<br/>
// Main
<br/>
case 0:
<br/>
   // Draw Windows
<br/>
   for(i=0;i&lt;10;i++)
<br/>
   {
<br/>
      NE_WindowDraw(WindowMenu[3+i]);
<br/>
   }
<br/>
   // Draw Text
<br/>
   NE_TextPrintFree(0,31,15,NE_White,"Please select a file.");
<br/>
   NE_TextPrintFree(0,50,46,NE_White,"File 1");
<br/>
   NE_TextPrintFree(0,50,66,NE_White,"File 2");
<br/>
   NE_TextPrintFree(0,50,86,NE_White,"File 3");
<br/>
   NE_TextPrintFree(0,50,110,NE_White,"Copy");
<br/>
   NE_TextPrintFree(0,50,130,NE_White,"Erase");
<br/>
   NE_TextPrintFree(0,50,154,NE_White,"Options");
<br/>
   
<br/>
   if(menu_current_button==3 &amp;&amp; !Save[0]-&gt;exists &amp;&amp; !Save[1]-&gt;exists &amp;&amp; !Save[2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0,115,110,NE_White,"No file to copy.");
<br/>
   }
<br/>
   if(menu_current_button==3 &amp;&amp; Save[0]-&gt;exists &amp;&amp; Save[1]-&gt;exists &amp;&amp; Save[2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0,115,110,NE_White,"There is no empty file.");
<br/>
   }
<br/>
   if(menu_current_button==4 &amp;&amp; !Save[0]-&gt;exists &amp;&amp; !Save[1]-&gt;exists &amp;&amp; !Save[2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0,115,130,NE_White,"No file to erase.");
<br/>
   }
<br/>
   
<br/>
   for(i=0;i&lt;3;i++)
<br/>
   {
<br/>
      if(Save[i]-&gt;exists)
<br/>
      {
<br/>
         NE_TextPrintFree(0,124,46+20*i,NE_White,Save[i]-&gt;Player.name);
<br/>
      }
<br/>
   }
<br/>
break;
<br/>
// Load Game
<br/>
case 1:
<br/>
   NE_WindowDraw(WindowMenu[3]);
<br/>
   NE_WindowDraw(WindowMenu[6]);
<br/>
   NE_WindowDraw(WindowMenu[7]);
<br/>
   NE_WindowDraw(WindowMenu[9]);
<br/>
   // Draw Text
<br/>
   NE_TextPrintFree(0,31,15,NE_White,"Open this file?");
<br/>
   NE_TextPrintFree(0,50,46,NE_White,menu_current_fname);
<br/>
   NE_TextPrintFree(0,60,110,NE_White,"Yes");
<br/>
   NE_TextPrintFree(0,60,130,NE_White,"Quit");
<br/>
   // Stats
<br/>
   NE_TextPrintFree(0,124,46,NE_White,Save[menu_current_file]-&gt;Player.name); // Player Name
<br/>
   NE_TextPrintFree(0,65,83,NE_White,menu_current_fdeaths); // Player Deaths
<br/>
<br/>
   if(Save[menu_current_file]-&gt;HeartContainers.amount&lt;11)
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+(Save[menu_current_file]-&gt;HeartContainers.amount*8)));
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=206);
<br/>
      
<br/>
      i=125;
<br/>
      do
<br/>
      {   
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+((Save[menu_current_file]-&gt;HeartContainers.amount-10))*8));
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.kokiriEmerald==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(48, 85, 48+32, 85+32, 5, MaterialMenuKokiriEmerald);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.goronRuby==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(64, 85, 64+32, 85+32, 5, MaterialMenuGoronRuby);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.zoraSapphire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(80, 85, 80+32, 85+32, 5, MaterialMenuZoraSapphire);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.forest==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(98, 84, 98+32, 84+32, 5, MaterialMedallions[1]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.fire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(116, 84, 116+32, 84+32, 5, MaterialMedallions[0]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.water==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(134, 84, 134+32, 84+32, 5, MaterialMedallions[2]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.shadow==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(152, 84, 152+32, 84+32, 5, MaterialMedallions[3]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.spirit==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(170, 84, 170+32, 84+32, 5, MaterialMedallions[4]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.light==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(188, 84, 188+32, 84+32, 5, MaterialMedallions[5]);
<br/>
   }
<br/>
break;
<br/>
//copy
<br/>
case 3:
<br/>
   // Windows
<br/>
   for(i=0;i&lt;4;i++)
<br/>
   {
<br/>
      NE_WindowDraw(WindowMenu[3+i]);
<br/>
   }
<br/>
   for(i=0;i&lt;3;i++)
<br/>
   {
<br/>
      NE_WindowDraw(WindowMenu[9+i]);
<br/>
   }
<br/>
   // Text
<br/>
   NE_TextPrintFree(0,31,15,NE_White,"Copy which file?");
<br/>
   NE_TextPrintFree(0,50,95,NE_White,"File 1");
<br/>
   NE_TextPrintFree(0,50,115,NE_White,"File 2");
<br/>
   NE_TextPrintFree(0,50,135,NE_White,"File 3");
<br/>
   NE_TextPrintFree(0,50,155,NE_White,"Quit");
<br/>
   if(Save[0]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 95, NE_White, Save[0]-&gt;Player.name);
<br/>
   }
<br/>
   if(Save[1]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 115, NE_White, Save[1]-&gt;Player.name);
<br/>
   }
<br/>
   if(Save[2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 135, NE_White, Save[2]-&gt;Player.name);
<br/>
   }
<br/>
   if(menu_current_button==0&amp;&amp;!Save[0]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 92, NE_White, "This is an empty file.");
<br/>
   }
<br/>
   if(menu_current_button==1&amp;&amp;!Save[1]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 112, NE_White, "This is an empty file.");
<br/>
   }
<br/>
   if(menu_current_button==2&amp;&amp;!Save[2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 132, NE_White, "This is an empty file.");
<br/>
   }
<br/>
break;
<br/>
//erase
<br/>
case 4:
<br/>
   // Windows
<br/>
   for(i=0;i&lt;4;i++)
<br/>
   {
<br/>
      NE_WindowDraw(WindowMenu[3+i]);
<br/>
   }
<br/>
   for(i=0;i&lt;3;i++)
<br/>
   {
<br/>
      NE_WindowDraw(WindowMenu[9+i]);
<br/>
   }
<br/>
   // Text
<br/>
   NE_TextPrintFree(0,31,15, NE_White, "Erase which file?");
<br/>
   NE_TextPrintFree(0,50,95, NE_White,"File 1");
<br/>
   NE_TextPrintFree(0,50,115, NE_White,"File 2");
<br/>
   NE_TextPrintFree(0,50,135, NE_White,"File 3");
<br/>
   NE_TextPrintFree(0,50,155, NE_White,"Quit");
<br/>
   if(Save[0]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 95, NE_White, Save[0]-&gt;Player.name);
<br/>
   }
<br/>
   if(Save[1]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 115, NE_White, Save[1]-&gt;Player.name);
<br/>
   }
<br/>
   if(Save[2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 135, NE_White, Save[2]-&gt;Player.name);
<br/>
   }
<br/>
   if(menu_current_button==0&amp;&amp;!Save[0]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 92, NE_White, "This is an empty file.");
<br/>
   }
<br/>
   if(menu_current_button==1&amp;&amp;!Save[1]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 112, NE_White, "This is an empty file.");
<br/>
   }
<br/>
   if(menu_current_button==2&amp;&amp;!Save[2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 132, NE_White, "This is an empty file.");
<br/>
   }
<br/>
break;
<br/>
//options
<br/>
case 5:
<br/>
   //Graphics
<br/>
   NE_2DDrawTexturedQuad(44, 135, 44+256, 135+16, 5, MaterialCheckBrightness);
<br/>
   NE_2DDrawTexturedQuad(44, 153, 44+256, 153+4, 5, MaterialOptionsLine);
<br/>
   NE_2DDrawTexturedQuad(44, 56, 44+256, 56+4, 5, MaterialOptionsLine);
<br/>
   NE_2DDrawTexturedQuad(44, 113, 44+256, 113+4, 5, MaterialOptionsLine);
<br/>
   //Text
<br/>
   NE_TextPrintFree(0, 31, 15, NE_White, "Options");
<br/>
   NE_TextPrintFree(0, 44, 135, NE_White, "CHECK BRIGHTNESS");
<br/>
   NE_TextPrintFree(0, 44, 38, NE_White, "SOUND");
<br/>
   NE_TextPrintFree(0, 44, 59, NE_White, "Music\nEffects");
<br/>
   if(game_music)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 149, 59, NE_White, "On\nOff");
<br/>
   } else {
<br/>
      NE_TextPrintFree(0, 149, 59, NE_White, "Off\nOff");
<br/>
   }
<br/>
   NE_TextPrintFree(0, 44, 95, NE_White, "Z TARGETING");
<br/>
   NE_TextPrintFree(0, 44, 126, NE_White, "Switch     Hold");
<br/>
   option_isdrawing = true;
<br/>
break;
<br/>
//View Erase
<br/>
case 6:
<br/>
   //Windows
<br/>
   NE_WindowDraw(WindowMenu[3]);
<br/>
   NE_WindowDraw(WindowMenu[6]);
<br/>
   NE_WindowDraw(WindowMenu[7]);
<br/>
   NE_WindowDraw(WindowMenu[9]);
<br/>
   //Text
<br/>
   NE_TextPrintFree(0, 31, 15, NE_White,"Are you sure?");
<br/>
   NE_TextPrintFree(0,50,46,NE_White,menu_current_fname);
<br/>
   NE_TextPrintFree(0,60,130,NE_White,"Yes");
<br/>
   NE_TextPrintFree(0,60,154,NE_White,"Quit");
<br/>
   // Stats
<br/>
   NE_TextPrintFree(0,124,46,NE_White,Save[menu_current_file]-&gt;Player.name); // Player Name
<br/>
   NE_TextPrintFree(0,65,83,NE_White,menu_current_fdeaths); // Player Deaths
<br/>
<br/>
   if(Save[menu_current_file]-&gt;HeartContainers.amount&lt;11)
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+(Save[menu_current_file]-&gt;HeartContainers.amount*8)));
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=206);
<br/>
      
<br/>
      i=125;
<br/>
      do
<br/>
      {   
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+((Save[menu_current_file]-&gt;HeartContainers.amount-10))*8));
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.kokiriEmerald==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(48, 85, 48+32, 85+32, 5, MaterialMenuKokiriEmerald);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.goronRuby==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(64, 85, 64+32, 85+32, 5, MaterialMenuGoronRuby);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.zoraSapphire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(80, 85, 80+32, 85+32, 5, MaterialMenuZoraSapphire);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.forest==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(98, 84, 98+32, 84+32, 5, MaterialMedallions[1]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.fire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(116, 84, 116+32, 84+32, 5, MaterialMedallions[0]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.water==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(134, 84, 134+32, 84+32, 5, MaterialMedallions[2]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.shadow==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(152, 84, 152+32, 84+32, 5, MaterialMedallions[3]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.spirit==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(170, 84, 170+32, 84+32, 5, MaterialMedallions[4]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.light==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(188, 84, 188+32, 84+32, 5, MaterialMedallions[5]);
<br/>
   }
<br/>
break;
<br/>
//Erasew Succeed
<br/>
case 7:
<br/>
   //Windows
<br/>
   NE_WindowDraw(WindowMenu[3]);
<br/>
   NE_WindowDraw(WindowMenu[6]);
<br/>
   NE_WindowDraw(WindowMenu[7]);
<br/>
   NE_WindowDraw(WindowMenu[9]);
<br/>
   //Text
<br/>
   NE_TextPrintFree(0, 31, 15, NE_White,"File Erased");
<br/>
   NE_TextPrintFree(0,50,46,NE_White,menu_current_fname);
<br/>
   NE_TextPrintFree(0,60,130,NE_White,"Yes");
<br/>
   NE_TextPrintFree(0,60,154,NE_White,"Quit");
<br/>
break;
<br/>
case 8:
<br/>
   //Windows
<br/>
   NE_WindowDraw(WindowMenu[3]);
<br/>
   //Text
<br/>
   NE_TextPrintFree(0, 31, 15, NE_White,"File Erased");
<br/>
   NE_TextPrintFree(0,50,46,NE_White,menu_current_fname);
<br/>
break;
<br/>
case 9:
<br/>
   //Windows
<br/>
   for(i=0;i&lt;4;i++)
<br/>
   {
<br/>
      NE_WindowDraw(WindowMenu[3+i]);
<br/>
   }
<br/>
   for(i=0;i&lt;3;i++)
<br/>
   {
<br/>
      NE_WindowDraw(WindowMenu[9+i]);
<br/>
   }
<br/>
   //Text
<br/>
   NE_TextPrintFree(0, 31, 15, NE_White, "Copy to which file?");
<br/>
   NE_TextPrintFree(0, 50, 46, NE_White, menu_current_fname);
<br/>
   NE_TextPrintFree(0, 50, 114, NE_White, menu_copy_sother1);
<br/>
   NE_TextPrintFree(0, 50, 134, NE_White, menu_copy_sother2);
<br/>
   NE_TextPrintFree(0, 50, 154, NE_White, "Quit");
<br/>
   if(Save[menu_copy_other1]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 114, NE_White, Save[menu_copy_other1]-&gt;Player.name);
<br/>
   }
<br/>
   if(Save[menu_copy_other2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 124, 134, NE_White, Save[menu_copy_other2]-&gt;Player.name);
<br/>
   }
<br/>
   // Stats
<br/>
   NE_TextPrintFree(0,124,46,NE_White,Save[menu_current_file]-&gt;Player.name); // Player Name
<br/>
   NE_TextPrintFree(0,65,83,NE_White,menu_current_fdeaths); // Player Deaths
<br/>
<br/>
   if(Save[menu_current_file]-&gt;HeartContainers.amount&lt;11)
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+(Save[menu_current_file]-&gt;HeartContainers.amount*8)));
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=206);
<br/>
      
<br/>
      i=125;
<br/>
      do
<br/>
      {   
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+((Save[menu_current_file]-&gt;HeartContainers.amount-10))*8));
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.kokiriEmerald==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(48, 85, 48+32, 85+32, 5, MaterialMenuKokiriEmerald);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.goronRuby==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(64, 85, 64+32, 85+32, 5, MaterialMenuGoronRuby);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.zoraSapphire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(80, 85, 80+32, 85+32, 5, MaterialMenuZoraSapphire);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.forest==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(98, 84, 98+32, 84+32, 5, MaterialMedallions[1]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.fire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(116, 84, 116+32, 84+32, 5, MaterialMedallions[0]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.water==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(134, 84, 134+32, 84+32, 5, MaterialMedallions[2]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.shadow==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(152, 84, 152+32, 84+32, 5, MaterialMedallions[3]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.spirit==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(170, 84, 170+32, 84+32, 5, MaterialMedallions[4]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.light==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(188, 84, 188+32, 84+32, 5, MaterialMedallions[5]);
<br/>
   }
<br/>
<br/>
   if(menu_current_button==0&amp;&amp;Save[menu_copy_other1]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 114, NE_White, "This file is in use.");
<br/>
   }
<br/>
   if(menu_current_button==1&amp;&amp;Save[menu_copy_other2]-&gt;exists)
<br/>
   {
<br/>
      NE_TextPrintFree(0, 115, 134, NE_White, "This file is in use.");
<br/>
   }
<br/>
break;
<br/>
case 10:
<br/>
   NE_WindowDraw(WindowMenu[3]);
<br/>
   NE_WindowDraw(WindowMenu[4]);
<br/>
   NE_WindowDraw(WindowMenu[6]);
<br/>
   NE_WindowDraw(WindowMenu[7]);
<br/>
   NE_WindowDraw(WindowMenu[9]);
<br/>
   // Draw Text
<br/>
   NE_TextPrintFree(0,31,15,NE_White,"Open this file?");
<br/>
   NE_TextPrintFree(0,50,46,NE_White,menu_current_fname);
<br/>
   NE_TextPrintFree(0,50,108,NE_White,menu_stocopy);
<br/>
   NE_TextPrintFree(0,60,130,NE_White,"Yes");
<br/>
   NE_TextPrintFree(0,60,154,NE_White,"Quit");
<br/>
   // Stats
<br/>
   NE_TextPrintFree(0,124,46,NE_White,Save[menu_current_file]-&gt;Player.name); // Player Name
<br/>
   NE_TextPrintFree(0,65,83,NE_White,menu_current_fdeaths); // Player Deaths
<br/>
<br/>
   if(Save[menu_current_file]-&gt;HeartContainers.amount&lt;11)
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+(Save[menu_current_file]-&gt;HeartContainers.amount*8)));
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=206);
<br/>
      
<br/>
      i=125;
<br/>
      do
<br/>
      {   
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+((Save[menu_current_file]-&gt;HeartContainers.amount-10))*8));
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.kokiriEmerald==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(48, 85, 48+32, 85+32, 5, MaterialMenuKokiriEmerald);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.goronRuby==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(64, 85, 64+32, 85+32, 5, MaterialMenuGoronRuby);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.zoraSapphire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(80, 85, 80+32, 85+32, 5, MaterialMenuZoraSapphire);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.forest==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(98, 84, 98+32, 84+32, 5, MaterialMedallions[1]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.fire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(116, 84, 116+32, 84+32, 5, MaterialMedallions[0]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.water==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(134, 84, 134+32, 84+32, 5, MaterialMedallions[2]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.shadow==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(152, 84, 152+32, 84+32, 5, MaterialMedallions[3]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.spirit==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(170, 84, 170+32, 84+32, 5, MaterialMedallions[4]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.light==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(188, 84, 188+32, 84+32, 5, MaterialMedallions[5]);
<br/>
   }
<br/>
break;
<br/>
case 11:
<br/>
   NE_WindowDraw(WindowMenu[3]);
<br/>
   NE_WindowDraw(WindowMenu[4]);
<br/>
   NE_WindowDraw(WindowMenu[9]);
<br/>
   NE_WindowDraw(WindowMenu[10]);
<br/>
   // Draw Text
<br/>
   NE_TextPrintFree(0,31,15,NE_White,"File copied.");
<br/>
   NE_TextPrintFree(0,50,46,NE_White,menu_current_fname);
<br/>
   // Stats
<br/>
   NE_TextPrintFree(0,124,46,NE_White,Save[menu_current_file]-&gt;Player.name); // Player Name
<br/>
   NE_TextPrintFree(0,65,83,NE_White,menu_current_fdeaths); // Player Deaths
<br/>
<br/>
   if(Save[menu_current_file]-&gt;HeartContainers.amount&lt;11)
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+(Save[menu_current_file]-&gt;HeartContainers.amount*8)));
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 66, i+16, 66+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=206);
<br/>
      
<br/>
      i=125;
<br/>
      do
<br/>
      {   
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 74, i+16, 74+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+((Save[menu_current_file]-&gt;HeartContainers.amount-10))*8));
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.kokiriEmerald==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(48, 85, 48+32, 85+32, 5, MaterialMenuKokiriEmerald);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.goronRuby==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(64, 85, 64+32, 85+32, 5, MaterialMenuGoronRuby);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.zoraSapphire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(80, 85, 80+32, 85+32, 5, MaterialMenuZoraSapphire);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.forest==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(98, 84, 98+32, 84+32, 5, MaterialMedallions[1]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.fire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(116, 84, 116+32, 84+32, 5, MaterialMedallions[0]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.water==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(134, 84, 134+32, 84+32, 5, MaterialMedallions[2]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.shadow==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(152, 84, 152+32, 84+32, 5, MaterialMedallions[3]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.spirit==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(170, 84, 170+32, 84+32, 5, MaterialMedallions[4]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.light==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(188, 84, 188+32, 84+32, 5, MaterialMedallions[5]);
<br/>
   }
<br/>
   //Draw Text
<br/>
   NE_TextPrintFree(0,50,104,NE_White,menu_current_fname);
<br/>
   // Stats
<br/>
   NE_TextPrintFree(0,124,104,NE_White,Save[menu_current_file]-&gt;Player.name); // Player Name
<br/>
   NE_TextPrintFree(0,65,126,NE_White,menu_current_fdeaths); // Player Deaths
<br/>
<br/>
   if(Save[menu_current_file]-&gt;HeartContainers.amount&lt;11)
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 126, i+16, 126+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 126, i+16, 126+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+(Save[menu_current_file]-&gt;HeartContainers.amount*8)));
<br/>
   }
<br/>
   else
<br/>
   {
<br/>
      i=125;
<br/>
      do
<br/>
      {
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 126, i+16, 126+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 126, i+16, 126+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=206);
<br/>
      
<br/>
      i=125;
<br/>
      do
<br/>
      {   
<br/>
         if(Save[menu_current_file]-&gt;GreatFairies.fairy6)
<br/>
         {
<br/>
            NE_2DDrawTexturedQuad(i, 134, i+16, 134+16, 5, MaterialMenuHearts2[0]);
<br/>
         } else {
<br/>
            NE_2DDrawTexturedQuad(i, 134, i+16, 134+16, 5, MaterialMenuHearts1[0]);
<br/>
         }
<br/>
         i+=8;
<br/>
      }
<br/>
      while(i!=(125+((Save[menu_current_file]-&gt;HeartContainers.amount-10))*8));
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.kokiriEmerald==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(48, 145, 48+32, 145+32, 5, MaterialMenuKokiriEmerald);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.goronRuby==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(64, 145, 64+32, 145+32, 5, MaterialMenuGoronRuby);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;SpiritualStones.zoraSapphire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(80, 145, 80+32, 145+32, 5, MaterialMenuZoraSapphire);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.forest==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(98, 144, 98+32, 144+32, 5, MaterialMedallions[1]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.fire==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(116, 144, 116+32, 144+32, 5, MaterialMedallions[0]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.water==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(134, 144, 134+32, 144+32, 5, MaterialMedallions[2]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.shadow==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(152, 144, 152+32, 144+32, 5, MaterialMedallions[3]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.spirit==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(170, 144, 170+32, 144+32, 5, MaterialMedallions[4]);
<br/>
   }
<br/>
   if(Save[menu_current_file]-&gt;Medallions.light==1)
<br/>
   {
<br/>
      NE_2DDrawTexturedQuad(188, 144, 188+32, 144+32, 5, MaterialMedallions[5]);
<br/>
   }
<br/>
break;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
case 5 doesn't draw anything and I check if it is called and yes it is called.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168139 - AntonioND - Fri Apr 10, 2009 8:45 pm</h4>
    <div class="postbody"><span class="postbody">You could have attached it, or just copy the part with the problem. ^_^U
<br/>
<br/>
Try putting this after the case label:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">NE_PolyFormat(31, 0,0,NE_CULL_NONE,0);</td> </tr></table><span class="postbody">
<br/>
I think you are drawing the text with the same poly id than the background. With that you'll reset the alpha value to 31 and set poly id to 0. If you want to make it transparent, you'll have to change its poly id, anyway. The reason why the other cases are working ok is that the window drawing function changes the poly id and the alpha value.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169015 - hacker013 - Tue Jun 09, 2009 6:15 pm</h4>
    <div class="postbody"><span class="postbody">thx, it worked and how far are you with the new release ?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169022 - AntonioND - Tue Jun 09, 2009 7:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">thx, it worked and how far are you with the new release ?</td> </tr></table><span class="postbody">
<br/>
Well... I've implemented a new animated model system so as to use linear interpolation between frames. This needs some CPU time, but the result is a lot better than before and models need less space (but you'll have to convert them again). I've renamed the window system to sprite system and I'm going to add animations, maybe. I'm not sure about doing that... I've made some small changes and fixes, and I've added an option to compile NE with a lot of error checking so as to check if you are passing NULL pointers to functions or using too big values. Anyway, my holidays starts this thursday, so you can expect a new release soon. ^_^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169023 - hacker013 - Tue Jun 09, 2009 7:42 pm</h4>
    <div class="postbody"><span class="postbody">thank you very much, but can add support for md2 files with multiple objects inside ?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169025 - AntonioND - Tue Jun 09, 2009 7:58 pm</h4>
    <div class="postbody"><span class="postbody">An md2 file can't have different objects... Take a look at this:
<br/>
<a href="http://tfc.duke.free.fr/coding/md2-specs-en.html" target="_blank">http://tfc.duke.free.fr/coding/md2-specs-en.html</a>
<br/>
If you don't see some part of your models, it's because of the exporter. I just use the data inside of the md2 file.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169032 - hacker013 - Wed Jun 10, 2009 7:32 am</h4>
    <div class="postbody"><span class="postbody">I readed a other md2 spec and there was said that a md2 file could contain multiple animations ........ (<a class="postlink" href="http://tfc.duke.free.fr/old/models/md2.htm" target="_blank">source</a>)<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169036 - kusma - Wed Jun 10, 2009 11:35 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">I readed a other md2 spec and there was said that a md2 file could contain multiple animations ........ (<a class="postlink" href="http://tfc.duke.free.fr/old/models/md2.htm" target="_blank">source</a>)</td> </tr></table><span class="postbody">
<br/>
Animations != objects. And it's multiple animation FRAMES that is being discussed, as far as I can tell.
<br/>
<br/>
Notice that your source is an older document from the same author as the one AntonioND linked to. Also, I can't see anything suggesting that there can be multiple objects. There can be multiple skins (or textures), was this what you meant?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169039 - hacker013 - Wed Jun 10, 2009 5:17 pm</h4>
    <div class="postbody"><span class="postbody">no objects because the models build by my model maker are md2 containing multiple objects and multiple textures assigned to those objects (on a pc) but I don't see how I can do this with your engine (showing those because I see nowere support for objects)?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169044 - AntonioND - Wed Jun 10, 2009 7:33 pm</h4>
    <div class="postbody"><span class="postbody">If md2 format doesn't allow multiple objects, you just can't export multiple objects in an md2 file... Your exporter will just ignore them and only export one.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169305 - hacker013 - Tue Jun 30, 2009 6:40 pm</h4>
    <div class="postbody"><span class="postbody">Ok, and have you now a new version of Nitro Engine :) ?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169306 - AntonioND - Tue Jun 30, 2009 6:51 pm</h4>
    <div class="postbody"><span class="postbody">Actually, I'm finishing the new version. I'm testing it to make sure the new changes don't break anything... So... In a few days I'll release it.
<br/>
<br/>
<br/>
EDIT:  
<br/>
<br/>
New release, version 0.6.0:
<br/>
<br/>
-The functions used to modify textures and palettes now return a pointer to the data so that you can modify them easily.
<br/>
-Each material can have different propierties (amient, diffuse...). You can set the default ones, the propierties each new material will have, and then you can set each material's propierties individually.
<br/>
-New texture and palette allocation system, it is faster and better. Defragmenting functions don't work now, but I'll fix them for the next version.
<br/>
-Added a debug system. You can compile Nitro Engine in "debug mode" and it will send error messages to the function you want. Once you have finished debugging or whatever, just recompile Nitro Engine without debug mode.
<br/>
-Window system renamed to Sprite system. You can set a rotation and a scale for each one.
<br/>
-The most important thing... The animation system has been improved, and now animated models are drawn using linear interpolation (you can disable it, anyway).
<br/>
-As a result, I've modified the converters, so you'll have to convert yout animated models again.
<br/>
<br/>
Well... That's it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169450 - hacker013 - Sat Jul 11, 2009 12:07 pm</h4>
    <div class="postbody"><span class="postbody">Why has are the animation structs moved form the model.h to general.h ? This only causes errors in model.h &gt;.&gt;<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169472 - AntonioND - Tue Jul 14, 2009 4:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">Why has are the animation structs moved form the model.h to general.h ? This only causes errors in model.h &gt;.&gt;</td> </tr></table><span class="postbody">
<br/>
Don't include that file in your source, include NEMain.h.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169476 - hacker013 - Wed Jul 15, 2009 6:29 pm</h4>
    <div class="postbody"><span class="postbody">I only include NEMain.h but because NEModel.h doesn't include anything it doesn't know that the animation structs are defined already, i moved them back to NEModel.h and everything is working again ...<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169477 - AntonioND - Wed Jul 15, 2009 6:54 pm</h4>
    <div class="postbody"><span class="postbody">Everything is working fine for me the way I uploaded it... I only removed them from that file because I'm going to use them for a (future) sprite animation system.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169497 - Darkflame - Fri Jul 17, 2009 8:57 pm</h4>
    <div class="postbody"><span class="postbody">nice work!<br/>_________________<br/><a class="postlink" href="http://www.rateoholic.co.uk/RateoholicResults.php#SEARCHFOR=&amp;TYPE=VideoGame%25&amp;BY=darkflame&amp;ORDER=hyb_down&amp;ST=0" target="_blank">Darkflames Reviews</a>    --   
<br/>
Make your own at;
<br/>
<a class="postlink" href="http://www.rateoholic.co.uk" target="_blank"> Rateoholic:Reviews for anything, by anyone.</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169802 - hacker013 - Tue Aug 04, 2009 1:06 pm</h4>
    <div class="postbody"><span class="postbody">What can we expect on the next release ?<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169946 - AntonioND - Mon Aug 17, 2009 3:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">What can we expect on the next release ?</td> </tr></table><span class="postbody">
<br/>
Any ideas to include to Nitro Engine, apart from the animated sprites system?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169956 - hacker013 - Tue Aug 18, 2009 9:30 am</h4>
    <div class="postbody"><span class="postbody">I have some ideas, a direct md2 loader instead of that converter thingy.
<br/>
Also support for jpeg/gif/png files, i have made that but a native support from the author would be great. Make it an all around game engine with also sound, wifi, movie support :), maybe you can beat palib with it ;)<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#169970 - AntonioND - Wed Aug 19, 2009 7:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">I have some ideas, a direct md2 loader instead of that converter thingy.
<br/>
Also support for jpeg/gif/png files, i have made that but a native support from the author would be great. Make it an all around game engine with also sound, wifi, movie support :), maybe you can beat palib with it ;)</td> </tr></table><span class="postbody">
<br/>
MD2 loader -&gt; uhmmm... no... it uses floats all time, it is better to convert md2 files into display lists (md2_to_bin) or in another (and simpler) format (md2_to_nea). Doing that conversion would take some time and it would make NE need more space.
<br/>
png/jpg/blah -&gt; maybe... In fact, I was thinking about removing the bmp loader...
<br/>
<br/>
the rest -&gt; just no. 
<br/>
For wifi, dswifi; sound, maxmod.. Movies... no idea. I don't want to add lots of things, I think it is better that the coder choose the right lib for these things.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170036 - renatobs - Mon Aug 24, 2009 4:13 pm</h4>
    <div class="postbody"><span class="postbody">Well, I?d like to learn about NE. How and where could I started ? Have some easy way to get the ideia of all ? I know to do some 3D things in Blender, but I don?t know what?s the better size of models, textures and other things that I can do there and transfer to NE.... I?d like to learn about everything of NE, how to do a model in Blender, for example, and convert to NE and after to use this in emulator and a real NDS... I?m developing a NDS game, but all things are in 2D, but I?d like to put some 3D things, like little scenes...
<br/>
Could some one give me instructions about ....
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170098 - hacker013 - Sun Aug 30, 2009 4:19 pm</h4>
    <div class="postbody"><span class="postbody">Please leave the bmp loader because it is now easy to use texture and people can edit the textures for you without to have converting everyting, why would you do that if that isn't nessesary O_o. Maybe you could make this engine plit up in module so you can download only the nessary modules. So you only have to use some defines to define which modules are just to spare more size and can add much more features to this engine without getting the engine to large.<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170101 - kusma - Sun Aug 30, 2009 6:15 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hacker013 wrote:</b></span></td> </tr> <tr> <td class="quote">Please &lt;snip&gt;</td> </tr></table><span class="postbody">
<br/>
Since NitroEngine is open source, you can always do the changes yourself, and submit a patch. Getting patches usually helps motivating maintainers, and keeps development going :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170415 - tine622 - Tue Sep 22, 2009 6:38 am</h4>
    <div class="postbody"><span class="postbody">Hello, I have been playing with this library a bit and for the life of me cannot figure out how to load one of my own textures and map it onto a quad. I tried to modify "TextureDrawing" example and all I am getting is the colored quad with no image.  
<br/>
<br/>
Is there any place that outlines what to do? What texture converter to use from the tools lib, etc.
<br/>
<br/>
Thanks for your help.
<br/>
Mark Carpenter</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#170416 - hacker013 - Tue Sep 22, 2009 7:01 am</h4>
    <div class="postbody"><span class="postbody">First of all you can just use bmp files as textures or even .png/.gif/.jpeg if you use my modificated libpicture for it.
<br/>
<br/>
The second dit you use NE_DrawQuadTextured O_o? Just look in de NE_2D.h :)<br/>_________________<br/><a class="postlink" href="http://imetal.nl/" target="_blank">Website / Blog</a>
<br/>
<br/>
Let the nds be with you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171183 - iainprice - Wed Nov 04, 2009 9:37 pm</h4>
    <div class="postbody"><span class="postbody">Can you use this engine for an object rolling or sliding across a terrain.... have a set of polys that use the collision detection abd response rather than using bounding boxs or spheres?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171184 - AntonioND - Wed Nov 04, 2009 10:09 pm</h4>
    <div class="postbody"><span class="postbody">No, and don't even try to use the included "physics engine", it's really bad and it will be useless for you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#171219 - tine622 - Sat Nov 07, 2009 4:03 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
I made a post earlier about a texture issue that I still haven't been able to resolve. My issue is this. I have a md2 model and texture bmp(49kb) that load well in MilkShap3D. I run the MD2_2_BIN program on the md2 model (and have to scale it to .01) and include the bmp into the app (bin2o).  I load the model using the SimpleModel tutorial. When I do not attach the texture the model shows up fine. When I try to NE_ModelSetMaterial(Model, Material);  The screen only shows black.  To load the texture im using:	NE_MaterialTexLoadBMPtoRGBA(Material,(void*)crate_texture_bmp,0);
<br/>
I tested this call in another tutorial and it worked well. 
<br/>
<br/>
Could the texture mapping be messed up by the scaling that is done by the MD2_2_BIN program?
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
