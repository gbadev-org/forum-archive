<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>different texture size problems - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > different texture size problems</h2>
<div id="posts">
<div class="post">
    <h4>#104273 - knight0fdragon - Wed Sep 27, 2006 5:30 pm</h4>
    <div class="postbody"><span class="postbody">I am trying to use a texture that is not 128x128,but there seems to be a problem with this,
<br/>
<br/>
here is an example of a 128x128 and a 64x64
<br/>
<br/>
<a href="http://hyperclubbingfriends.yourfreewebspace.com/Knight0fDragon/image007.GIF" target="_blank">http://hyperclubbingfriends.yourfreewebspace.com/Knight0fDragon/image007.GIF</a>
<br/>
<br/>
and here is snippets of my code
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
uint16 buf[64*64];
<br/>
int LoadGLTextures()                           // Load PCX files And Convert To Textures
<br/>
{
<br/>
  
<br/>
   for(int i = 0; i &lt; 64*64; i+=3)
<br/>
  {
<br/>
    buf[i] = RGB15(31,0,0) | BIT(15);
<br/>
    buf[i+1] = RGB15(0,31,0) | BIT(15);
<br/>
    buf[i+2] = RGB15(0,0,31) | BIT(15);
<br/>
  
<br/>
  }
<br/>
   glGenTextures(1, &amp;texture[0]);
<br/>
   glBindTexture(0, texture[0]);
<br/>
   glTexImage2D(0, 0, GL_RGBA, TEXTURE_SIZE_64 , TEXTURE_SIZE_64, 0, TEXGEN_TEXCOORD, (uint8*)buf);
<br/>
<br/>
<br/>
   return TRUE;
<br/>
}
<br/>
<br/>
<br/>
<br/>
int DrawGLScene(void)
<br/>
{
<br/>
   //we are going to use floating point for the tutorial...keep in mind the DS has no
<br/>
   //floating point hardware.  For real life use the built in fixed point types.
<br/>
   //this is where the magic happens
<br/>
<br/>
  glPushMatrix();
<br/>
  glLoadIdentity();                           // Reset The Current Modelview Matrix
<br/>
   glTranslate3f32(-(1&lt;&lt;8),-1&lt;&lt;8,-(450));                  // Move Left 1.5 Units And Into The Screen 6.0
<br/>
   for(v16 z = 0 &lt;&lt; 12; z &lt; (1 &lt;&lt; 9); z+=(1 &lt;&lt; 9))
<br/>
  {
<br/>
    for(v16 x = 0 &lt;&lt; 12; x &lt; (1 &lt;&lt; 9); x+=(1 &lt;&lt; 9))
<br/>
    {
<br/>
      glBindTexture(GL_TEXTURE_2D, texture[0]);
<br/>
<br/>
      glBegin(GL_QUADS);                  // Draw A Quad
<br/>
        glTexCoord2f(0.0f, 1.0f); 
<br/>
        //glTexCoord2t16((0&lt;&lt;4), (0&lt;&lt;4));
<br/>
        glVertex3v16(x           , z, 0);            // Top Left
<br/>
          
<br/>
        glTexCoord2f(1.0f, 1.0f); 
<br/>
        //glTexCoord2t16((0&lt;&lt;4), (1&lt;&lt;11));
<br/>
        glVertex3v16(x           , z + (1 &lt;&lt; 9)+1, 0);            // Top Right
<br/>
          
<br/>
        glTexCoord2f(1.0f, 0.0f); 
<br/>
        //glTexCoord2t16((1&lt;&lt;11), (1&lt;&lt;11));
<br/>
        glVertex3v16(x + (1 &lt;&lt; 9)+1, z + (1 &lt;&lt; 9)+1, 0);            // Bottom Right
<br/>
          
<br/>
        glTexCoord2f(0.0f, 0.0f); 
<br/>
         //glTexCoord2t16((1&lt;&lt;11), (0&lt;&lt;4));
<br/>
        glVertex3v16(x + (1 &lt;&lt; 9)+1, z, 0);            // Bottom Left
<br/>
       glEnd();
<br/>
<br/>
    }
<br/>
  }
<br/>
<br/>
  glPopMatrix(1);
<br/>
  swiWaitForVBlank();
<br/>
      
<br/>
   // flush to screen   
<br/>
   glFlush();
<br/>
   
<br/>
  return TRUE;
<br/>
}
<br/>
<br/>
<br/>
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#104413 - Payk - Thu Sep 28, 2006 9:21 pm</h4>
    <div class="postbody"><span class="postbody">Hmh as far as i know you only can use texturesize which are a product of 2^x. 256x256 never worked for met. But you can use 64x128 or things like that. Not sure if t16 supports that but that texturepack macro can help. But t16 is fastest way....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#104684 - toa - Sun Oct 01, 2006 3:50 pm</h4>
    <div class="postbody"><span class="postbody">If you'r using libnds's video GL wrapper straight out of the box, there is two things you have to know:
<br/>
<br/>
(1) x&amp;y are flippet, so you have to rotate your images 90 degrees
<br/>
(2) The version of glTexCoord2f you get from videoGL.h is hardcoded to 128x128 textures, so using any other sizes is going to give you all kinds of grief :-D
<br/>
<br/>
Perhaps this help?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
