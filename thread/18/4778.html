<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Porting Questions (ARM9 - ARM9) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Porting Questions (ARM9 - ARM9)</h2>
<div id="posts">
<div class="post">
    <h4>#33606 - PhoenixSoft - Thu Jan 06, 2005 12:56 am</h4>
    <div class="postbody"><span class="postbody">As you may know, the GP32 has an ARM9 processor (with a changable clock speed up to 166 MHz).  The DS also has an ARM9 processor.  So my question is, how easy would it be to port GP32 files to the DS (and vice versa)?  Would it be a simple matter of writing a program to go through and change memory location references?  Or would it require the entire program to be rewritten from scratch?  (assuming we're working with assembly here, no fancy C or C++ stuff)
<br/>
<br/>
Sorry if these questions are n00bish - I don't have much experience with low level programming :(</span><span class="gensmall"><br/><br/>Last edited by PhoenixSoft on Thu Jan 06, 2005 1:00 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#33607 - Wriggler - Thu Jan 06, 2005 1:00 am</h4>
    <div class="postbody"><span class="postbody">Well I don't know much (read: nothing) about GP32 programming. But considering how much of the DS and GBA architecture is done in hardware, I assume you'd need some sort of massive rewrite to get things done. Just look at drawing a sprite:
<br/>
<br/>
1. In GP32- Don't know, probably just an array blitted onto a buffer. (Total guess). Anyone?
<br/>
<br/>
2. In GBA- Load the bitmaps into a specific spot in memory, set the sprite registers in a certain way, then update the OAM with certain platform-specific information each frame.
<br/>
<br/>
Just for sprites, that's one helluva rewrite. I imagine the rest of it would give even more headaches. Of course, if I'm wrong then somebody please point this out! :)
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33608 - Abcd1234 - Thu Jan 06, 2005 1:06 am</h4>
    <div class="postbody"><span class="postbody">Well, while you're right that the GP32 has a dumb framebuffer for video hardware, the GBA, and thus likely the DS, also support similar bitmapped video modes.  Thus, porting the video display code to the DS platform *might* not be that bad.
<br/>
<br/>
HOWEVER, the DS definitely doesn't support the 320x240 video mode available on the GP32.  Thus, there would definitely be some source-level rewritting to be done, not to mention changes to graphics, etc, etc.  IOW, it's not like you could just patch an existing ROM.  It really would be more complex than that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33609 - PhoenixSoft - Thu Jan 06, 2005 1:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Abcd1234 wrote:</b></span></td> </tr> <tr> <td class="quote">Well, while you're right that the GP32 has a dumb framebuffer for video hardware, the GBA, and thus likely the DS, also support similar bitmapped video modes.  Thus, porting the video display code to the DS platform *might* not be that bad.
<br/>
<br/>
HOWEVER, the DS definitely doesn't support the 320x240 video mode available on the GP32.  Thus, there would definitely be some source-level rewritting to be done, not to mention changes to graphics, etc, etc.  IOW, it's not like you could just patch an existing ROM.  It really would be more complex than that.</td> </tr></table><span class="postbody">
<br/>
<br/>
*slaps forehead*  I can't believe I forgot about the differences in screen resolution!
<br/>
<br/>
But anyway, from what you guys are saying, it does seem like it would be quite a big job to do.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33611 - dagamer34 - Thu Jan 06, 2005 1:21 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PhoenixSoft wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Abcd1234 wrote:</b></span></td> </tr> <tr> <td class="quote">Well, while you're right that the GP32 has a dumb framebuffer for video hardware, the GBA, and thus likely the DS, also support similar bitmapped video modes.  Thus, porting the video display code to the DS platform *might* not be that bad.
<br/>
<br/>
HOWEVER, the DS definitely doesn't support the 320x240 video mode available on the GP32.  Thus, there would definitely be some source-level rewritting to be done, not to mention changes to graphics, etc, etc.  IOW, it's not like you could just patch an existing ROM.  It really would be more complex than that.</td> </tr></table><span class="postbody">
<br/>
<br/>
*slaps forehead*  I can't believe I forgot about the differences in screen resolution!
<br/>
<br/>
But anyway, from what you guys are saying, it does seem like it would be quite a big job to do.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Differences in screen resolution? How about the differences in the screens period?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33615 - PhoenixSoft - Thu Jan 06, 2005 2:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote">Differences in screen resolution? How about the differences in the screens period?</td> </tr></table><span class="postbody">
<br/>
Yeah, but the resolution differences should have been glaringly obvious :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33616 - ravuya - Thu Jan 06, 2005 2:07 am</h4>
    <div class="postbody"><span class="postbody">The basic game code could be kept the same. Chances are that GP32 software would directly access the hardware, and as such most of that code would need to be changed (for example, draw operations).
<br/>
<br/>
Keep your code modular (separate API from game), and you should be able to adapt and recompile the source easily.
<br/>
<br/>
But a direct port with a hex editor? You'd need much more intimate knowledge of both boxes than anyone outside their respective companies has at the moment, and a bad case of insanity.<br/>_________________<br/><a class="postlink" href="http://rav.realitybytes.tk" target="_blank">Rav</a> (Win/Mac/Linux games for free)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33618 - dagamer34 - Thu Jan 06, 2005 2:48 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PhoenixSoft wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote">Differences in screen resolution? How about the differences in the screens period?</td> </tr></table><span class="postbody">
<br/>
Yeah, but the resolution differences should have been glaringly obvious :(</span></td> </tr></table><span class="postbody">
<br/>
<br/>
We are going to pretend he didn't know about that and had some case of insanity for overlooking screen ratios.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33653 - Lupin - Thu Jan 06, 2005 1:35 pm</h4>
    <div class="postbody"><span class="postbody">It would probably be possible to replace specific register writes with jmp instructions that jump to emulator code and replace memory addresses. I am quite sure that this would be possible, but i guess porting a DS game to GP32 would be almost impossible because of 3D hardware.<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33702 - PhoenixSoft - Fri Jan 07, 2005 1:55 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">It would probably be possible to replace specific register writes with jmp instructions that jump to emulator code and replace memory addresses. I am quite sure that this would be possible, but i guess porting a DS game to GP32 would be almost impossible because of 3D hardware.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm not talking about the full-blown commercial games, just simple homebrew games, and emulators.  I was thinking along the lines of porting available GP32 emulators (like for the SNES and Genesis) to the DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33704 - TJ - Fri Jan 07, 2005 2:33 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PhoenixSoft wrote:</b></span></td> </tr> <tr> <td class="quote">I'm not talking about the full-blown commercial games, just simple homebrew games, and emulators.  I was thinking along the lines of porting available GP32 emulators (like for the SNES and Genesis) to the DS.</td> </tr></table><span class="postbody">
<br/>
<br/>
Obviously
<br/>
<br/>
Who the hell would want to play commercial GP32 games in the first place, let alone on any other console?
<br/>
<br/>
But at any rate, an emulator would be more complicated than any of the commercial games out there.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33861 - PhoenixSoft - Mon Jan 10, 2005 3:02 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TJ wrote:</b></span></td> </tr> <tr> <td class="quote">Who the hell would want to play commercial GP32 games in the first place, let alone on any other console?</td> </tr></table><span class="postbody">
<br/>
Excuse me, Mr. Nintendo Fanboy, but the GP32 does have some good commerical games.  Astonishia Story R is a great RPG, and Pinball Dreams is also loved by many.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33862 - zardozjones - Mon Jan 10, 2005 4:25 am</h4>
    <div class="postbody"><span class="postbody">Any GP32 stuff ported directly to the DS will:
<br/>
<br/>
1) Initially be slower - since the most GP32 apps run well above 66mhz
<br/>
<br/>
2) Might not work since the DS has 4mb ram and the GP32 has 8mb ram
<br/>
<br/>
3) Have problems with screen size - GP32 320x240 DS 256x192
<br/>
<br/>
the DS does has pretty wicked tile/texture hardware so emulators (SNES and MegaDrive) could probably be made to run pretty fast - but it would mean alot of hardcore code rewriting to take full advantage of this hardware. For emulators - memory will be a bit of an issue.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33865 - TJ - Mon Jan 10, 2005 4:57 am</h4>
    <div class="postbody"><span class="postbody">Wow, two games. One of them being a <span style="font-style: italic">pinball game</span>.
<br/>
<br/>
I have owned a GP32 for 2 years, and if somebody handed me a commercial game, I would probably wipe the SMC it was on and put Little John on it.
<br/>
<br/>
Anyone who says they bought/have a GP32 to play commercial games is a liar.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#33869 - PhoenixSoft - Mon Jan 10, 2005 5:23 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>TJ wrote:</b></span></td> </tr> <tr> <td class="quote">Anyone who says they bought/have a GP32 to play commercial games is a liar.</td> </tr></table><span class="postbody">
<br/>
<br/>
Of course you wouldn't want it for the commercial games, but your statement implied that there wasn't a single commercial GP32 game worth playing.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
