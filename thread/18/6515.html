<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problems with console on DSEmu - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Problems with console on DSEmu</h2>
<div id="posts">
<div class="post">
    <h4>#50213 - Dannon - Sat Aug 06, 2005 4:27 pm</h4>
    <div class="postbody"><span class="postbody">Is anyone else having problems with the console on DSEmu? 
<br/>
<br/>
It only seems to be since I got devkitARM R15 and the new libnds, but when I try and compile anything that I use a consolePrintf() function with and then try to run it in DSEmu all of the text is just random symbols.
<br/>
<br/>
<br/>
<br/>
Edit:On a complete tangent, when trying to use the combined template that comes with the libnds examples, I am trying to include a .h file that contains a class for simplicity it looks like this
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest
<br/>
{
<br/>
public:
<br/>
   void tempFunction();
<br/>
<br/>
   int temp;
<br/>
   
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
When I try to compile it, it says:
<br/>
<br/>
error: syntax error before 'CTest'
<br/>
error: syntax error before '{' token
<br/>
error: syntax error before  '}' token
<br/>
<br/>
I am presuming this means it has a problem with the class but I don't know why, suggestions?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50262 - doublec - Sun Aug 07, 2005 4:16 am</h4>
    <div class="postbody"><span class="postbody">I've not yet upgraded to r15, I'll be doing it this weekend. I'll then get DSemu working with the console code and release a new version. Thanks for letting me know about the problem!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50263 - tepples - Sun Aug 07, 2005 4:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dannon wrote:</b></span></td> </tr> <tr> <td class="quote">Is anyone else having problems with the console on DSEmu?</td> </tr></table><span class="postbody">
<br/>
Dannon-banned?
<br/>
<br/>
...not.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
class CTest
<br/>
{
<br/>
public:
<br/>
   void tempFunction();
<br/>
<br/>
   int temp;
<br/>
   
<br/>
};
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
error: syntax error before 'CTest'
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
What is the name of the file? If you try to compile a file whose name ends in ".c", GCC will not recognize the "class" keyword. Use ".cpp".<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50269 - Dannon - Sun Aug 07, 2005 9:02 am</h4>
    <div class="postbody"><span class="postbody">Should I be banned? Are we not meant to be talking about the DS emulators? If so, sorry, it's just I don't have my PassMe and GBAMP yet.
<br/>
<br/>
Thought I'd solved it, but I'm still having problems, can somebody have a look at it please, you can get the file http<span style="font-weight: bold"></span>://dannonn1.tripod.com/combined.rar
<br/>
<br/>
Please please please help me figure this out</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50278 - tepples - Sun Aug 07, 2005 1:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dannon wrote:</b></span></td> </tr> <tr> <td class="quote">Should I be banned?</td> </tr></table><span class="postbody">
<br/>
<a class="postlink" href="http://www.gannon-banned.com/gbindex.htm" target="_blank">That was a joke son</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50281 - Dannon - Sun Aug 07, 2005 2:16 pm</h4>
    <div class="postbody"><span class="postbody">I've not seen that website before, this guy takes his Zelda seriously!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51570 - doublec - Sun Aug 21, 2005 11:43 pm</h4>
    <div class="postbody"><span class="postbody">DSEmu 0.4.6 is out and fixes the problem with devkitpro r15 console routines:
<br/>
<br/>
<a href="http://www.double.co.nz/nintendo_ds/dsemu.html" target="_blank">http://www.double.co.nz/nintendo_ds/dsemu.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54032 - doublec - Thu Sep 15, 2005 12:27 am</h4>
    <div class="postbody"><span class="postbody">I've released version 0.4.7 of DSEmu. I'm still having difficulty tracking down the cause of the console corruption. I can get it working for the programs that have it corrupted, but not for the other and vice versa. I've not come up with a way to get it working all the time. I'm beginning to suspect a memory corruption somewhere.
<br/>
<br/>
As a workaround I've added a checkbox in the configuration dialog box to select the console display handling. If the console has corrupted characters you can click this button to use the alternative algorithm and they will display fine. Hopefully I'll have it completely fixed in 0.4.8.
<br/>
<br/>
The following is included in 0.4.7:
<br/>
<br/>
    * Support for the X and Y keys have been added. This can be configured using the Options/Configuration menu option. The code for this was contributed by Normmatt.
<br/>
    * Many fixes to key handling. Anything but A and B keys were very buggy in previous builds. My 'keys' demo from my tutorials now works correctly and Space Invaders is now playable.
<br/>
<br/>
    * Support for GBA games was re-added. It was removed when I first took up support of DSEmu until I understood the code better. It is now back in and will be maintained.
<br/>
    * The FIFO registers have been implemented. This is an important feature for DSLinux and a step towards support for the commercial downloadable demos.
<br/>
    * Various bug fixes in graphics code.
<br/>
    * The compuational accelerator registers have been implemented. Again, a steps towards support for the commerical downloadable demos. Contributed by Julien Hamaide.
<br/>
    * Workaround for 'console scramble'. There has been an issue since DevkitPro R14 which causes text output using the console output routines to be scrambled. I implemented a workaround in 0.4.6 but it didn't work for homebrew programs built with previous versions. I've been unable to fix the problem so far, so I added a 'Unscramble console text' option in the Options/Configuration menu option. If you run a game and the text appears scrambled, check or uncheck this, and it should correct the problem when you press 'Ok'. I hope to fix this in 0.4.8.
<br/>
<br/>
Obtainable from <a href="http://www.double.co.nz/nintendo_ds/dsemu.html" target="_blank">http://www.double.co.nz/nintendo_ds/dsemu.html</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
