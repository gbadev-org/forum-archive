<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>EWRAM + Overlaps errors - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > EWRAM + Overlaps errors</h2>
<div id="posts">
<div class="post">
    <h4>#126412 - outphase - Mon Apr 23, 2007 1:43 am</h4>
    <div class="postbody"><span class="postbody">I tried compiling a program I have been working on for almost a semester, but when I added a few more files and data, I get the following errors at compile. All source files compile just fine but the elf throws up. I don't know where to go to fix the problem. Any thoughts?
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">...
<br/>
linking rc.arm9.elf
<br/>
/usr/local/devkitPro/devkitARM/lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld: region ewram is full (/home/tien/projects/ee464/rc/arm9/rc.arm9.elf section .rodata)
<br/>
/usr/local/devkitPro/devkitARM/lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld: section .ARM.extab [02000000 -&gt; 020001af] overlaps section .init [02000000 -&gt; 0200023b]
<br/>
/usr/local/devkitPro/devkitARM/lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld: section .text [02000240 -&gt; 020198d7] overlaps section .ARM.exidx [020001b0 -&gt; 02000617]
<br/>
/usr/local/devkitPro/devkitARM/lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld: section .init_array [02000618 -&gt; 02000637] overlaps section .text [02000240 -&gt; 020198d7]
<br/>
/usr/local/devkitPro/devkitARM/lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld: /home/tien/projects/ee464/rc/arm9/rc.arm9.elf: section .init lma 0x2000000 overlaps previous sections
<br/>
/usr/local/devkitPro/devkitARM/lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld: /home/tien/projects/ee464/rc/arm9/rc.arm9.elf: section .ARM.exidx lma 0x20001b0 overlaps previous sections
<br/>
/usr/local/devkitPro/devkitARM/lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld: /home/tien/projects/ee464/rc/arm9/rc.arm9.elf: section .text lma 0x2000240 overlaps previous sections
<br/>
collect2: ld returned 1 exit status
<br/>
make[2]: *** [/home/tien/projects/ee464/rc/arm9/rc.arm9.elf] Error 1
<br/>
make[1]: *** [build] Error 2
<br/>
make[1]: Leaving directory `/home/tien/projects/ee464/rc/arm9'
<br/>
make: *** [arm9/rc.elf] Error 2
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126413 - tepples - Mon Apr 23, 2007 2:02 am</h4>
    <div class="postbody"><span class="postbody">"region ewram is full" means that your program is getting ready to surpass 256 KiB (on GBA) or 4 MiB (on DS). This means you have to start loading assets at runtime using libfat.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#158863 - gauauu - Thu Jun 19, 2008 7:35 pm</h4>
    <div class="postbody"><span class="postbody">Bringing this back from the dead -- let me see if I understand this all correctly:
<br/>
<br/>
-so on the GBA, when I had huge chunks of data declared as const, they were kept on the cart rom (And had up to 32 meg available).  By default other variables were put in iwram, unless you particularly specified that they'd go into ewram.  Right?
<br/>
<br/>
-on DS, all your variables, const or not, end up in the same place, which has 4 meg available.  The only way to have more storage available is dynamically loading stuff in at runtime?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#158865 - silent_code - Thu Jun 19, 2008 7:56 pm</h4>
    <div class="postbody"><span class="postbody">Just like that. On the GBA, programs ran directly off the game cart (that's why the cartridges are {?} word aligned), but on the NDS, you have to load everything into main RAM (or other special RAM). I guess, they wanted to make the NDS cartridges cheaper (in production), so they designed it to be a block device.
<br/>
After an NDS "executable" has loaded, all the global variables, data (in said variables) and instructions are present (minus overlays, if any are present in your program) in main RAM.
<br/>
To load anything else, you have to take it off a file system.
<br/>
Alternatively, if a person likes to restrict themselves violently, you can link all data into the executable, but that's nonsense for anything but simple and small games. At least I can't think of any game that had a reasonable content size and didn't use a file system - there might be one, though. Just think about 64k demos. ;^)<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#158868 - gauauu - Thu Jun 19, 2008 9:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">Alternatively, if a person likes to restrict themselves violently, you can link all data into the executable, but that's nonsense for anything but simple and small games. At least I can't think of any game that had a reasonable content size and didn't use a file system - there might be one, though. Just think about 64k demos. ;^)</td> </tr></table><span class="postbody">
<br/>
<br/>
Hehehe...well, I'm to port my game from gba as directly as possible, so I may do just that.  On the gba, it linked everything in, so it'll be easier to just keep it that way if I can manage.  Since the gba rom slid in at only a meg and a half, I'm guessing it won't bloat up to too big for the DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#159071 - HyperHacker - Wed Jun 25, 2008 3:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">Alternatively, if a person likes to restrict themselves violently, you can link all data into the executable, but that's nonsense for anything but simple and small games. At least I can't think of any game that had a reasonable content size and didn't use a file system - there might be one, though. Just think about 64k demos. ;^)</td> </tr></table><span class="postbody">Not even NES and SNES games? Super Mario World was a single 512K binary with all data linked in.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#159078 - tepples - Wed Jun 25, 2008 3:48 am</h4>
    <div class="postbody"><span class="postbody">But do most hobbyists understand such compression, especially of level data?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#159082 - M3d10n - Wed Jun 25, 2008 4:37 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">At least I can't think of any game that had a reasonable content size and didn't use a file system - there might be one, though. Just think about 64k demos. ;^)</td> </tr></table><span class="postbody">
<br/>
<br/>
I think most 16-bit didn't use any kind of filesystem. And having actual filenames stored on the card might've been a waste of valuable space on 8-bit consoles.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#159093 - silent_code - Wed Jun 25, 2008 11:21 am</h4>
    <div class="postbody"><span class="postbody">I was (obviously ;^p ) talking about NDS HB games. ;^) ... and then adding something (obviously) unrelated. :^D Sorry for the confusion.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#159096 - tepples - Wed Jun 25, 2008 12:55 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">I think most 16-bit didn't use any kind of filesystem.</td> </tr></table><span class="postbody">
<br/>
IBM PC? Macintosh?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">And having actual filenames stored on the card might've been a waste of valuable space on 8-bit consoles.</td> </tr></table><span class="postbody">
<br/>
Commodore 64? Famicom Disk System?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#159121 - M3d10n - Wed Jun 25, 2008 9:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">I think most 16-bit didn't use any kind of filesystem.</td> </tr></table><span class="postbody">
<br/>
IBM PC? Macintosh?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">And having actual filenames stored on the card might've been a waste of valuable space on 8-bit consoles.</td> </tr></table><span class="postbody">
<br/>
Commodore 64? Famicom Disk System?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Geez, you're relentless, aren't you? Ok 16-bit and 8-bit <span style="font-weight: bold">consoles</span> using <span style="font-weight: bold">memory mapped ROM</span> for storage. Maybe NeoGeo games...
<br/>
<br/>
Anyway, on the DS you need to handle files like you'd do on a CD-based console if you want your game to have more data than you can fit on the RAM. If it's just a small demo, I see no problem in directly linking data.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
