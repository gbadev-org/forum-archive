<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>X, Y keys after REG_IME = 0, REG_IME = 1 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > X, Y keys after REG_IME = 0, REG_IME = 1</h2>
<div id="posts">
<div class="post">
    <h4>#172383 - hounjini - Thu Feb 04, 2010 3:37 am</h4>
    <div class="postbody"><span class="postbody">As you see, my question is why I can't use my X, Y keys.
<br/>
<br/>
I want select critical section.
<br/>
<br/>
so I use code like this
<br/>
<br/>
void abcdefg()
<br/>
{
<br/>
  REG_IME = 0;
<br/>
  do something here.
<br/>
  REG_IME = 1;
<br/>
}
<br/>
<br/>
after I use this, I can use + pad, A,B button, but cannot with X, Y button.
<br/>
(also, can't use my touch screen any more.)
<br/>
<br/>
is there any method to use critical section with X, Y button support after critical section?
<br/>
<br/>
thank you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172385 - zelbo - Thu Feb 04, 2010 7:07 am</h4>
    <div class="postbody"><span class="postbody">I'm not sure quite what you're doing, probably over my head, so i'm just tossing this out there. I believe the x and y keys are handled by the ARM9 while all other input goes through the ARM7. I don't have much to offer beyond that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172386 - Ruben - Thu Feb 04, 2010 7:13 am</h4>
    <div class="postbody"><span class="postbody">All input (except X/Y/Stylus/Open) is handled by the ARM9's REG_INPUT register. The rest appear on the extended input register located on the ARM7 so you will have to use FIFO to pass this data to the ARM9. I know it sounds ridiculous that the extended input is only available to ARM7; I find it absolutely stupid. I guess we'll never know why Nintendo made it so...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172387 - Normmatt - Thu Feb 04, 2010 7:30 am</h4>
    <div class="postbody"><span class="postbody">Its the other way around. Arm7 handles Touch/X/Y and both arm7 and arm9 have access to the rest of the buttons.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172389 - zelbo - Thu Feb 04, 2010 7:37 am</h4>
    <div class="postbody"><span class="postbody">Now i'm confused. I guess it's been a while since i looked at it that closely, and i'm pretty much a noob at this, but i thought the ARM7 was what handled the majority of the input. Sorry, my bad.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172391 - sverx - Thu Feb 04, 2010 10:15 am</h4>
    <div class="postbody"><span class="postbody">Isn't it easier to simply say that "ARM9 can't access X/Y/Touch directly"? ;)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172392 - Ruben - Thu Feb 04, 2010 10:17 am</h4>
    <div class="postbody"><span class="postbody">Er, yeah... &gt;_&gt;'
<br/>
Give me a break, I was sleepy at the time I wrote that =P</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172398 - elhobbs - Thu Feb 04, 2010 3:40 pm</h4>
    <div class="postbody"><span class="postbody">how frequently is abcdefg called and how long are interrupts disabled?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
