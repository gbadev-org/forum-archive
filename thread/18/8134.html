<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>linker warning about _kill_r - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > linker warning about _kill_r</h2>
<div id="posts">
<div class="post">
    <h4>#67087 - bananaboy - Sun Jan 15, 2006 12:42 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I keep getting the following linker warning:
<br/>
<br/>
e:/tools/devkitpro/devkitarm/bin/../lib/gcc/arm-elf/4.0.2/../../../../arm-elf/lib/thumb/interwork\libc.a(signalr.o): In function `_kill_r':
<br/>
: warning:
<br/>
<br/>
and nothing else!  There is no actual warning text.. Previously I was getting an error in the same function about .bss not fitting in ewram or something, but I've sorted that out.  Unless this is another symptom of too much code/data.  Although I estimated that code+data should only come to about 2Mb now.
<br/>
<br/>
If I use -g in my link line I get libg instead of libc:
<br/>
<br/>
e:/tools/devkitpro/devkitarm/bin/../lib/gcc/arm-elf/4.0.2/../../../../arm-elf/lib/thumb/interwork\libg.a(signalr.o): In function `_kill_r':
<br/>
: warning:
<br/>
<br/>
Anyone know what this is about?
<br/>
<br/>
cheers
<br/>
sam
<br/>
<br/>
edit: forgot to mention: this is using the latest devkitpro</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#67237 - rmt38 - Mon Jan 16, 2006 11:03 am</h4>
    <div class="postbody"><span class="postbody">I get three of these warnings for different functions, when trying to cross-compile Python to the Nintendo DS.  It seems rather expected that on a system with no OS, the functions provided in the c lib that have no support because of that would throw warnings - and in my case it was pretty much harmless.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#67239 - bananaboy - Mon Jan 16, 2006 12:18 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the reply!
<br/>
<br/>
Yeah, my code still seems to run fine.
<br/>
<br/>
The samples that come with libnds don't give this warning though, and I'm using a slightly modified version of the Makefile from the samples.  Oh well!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#67240 - wintermute - Mon Jan 16, 2006 12:24 pm</h4>
    <div class="postbody"><span class="postbody">There are a few functions in the newlib patches which are stubbed, including _kill_r_ which use a feature of the linker to display a warning that they do nothing. Unfortunately stripping debug info from the libraries removes the warning text so all you get is the : waning: part.
<br/>
<br/>
The stubs just return an error and do nothing so don't have any effect other than allowing code which uses unimplemented functions to link.
<br/>
<br/>
Your map file should tell you which code is attempting to use the stub functions.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#67243 - bananaboy - Mon Jan 16, 2006 1:11 pm</h4>
    <div class="postbody"><span class="postbody">Ahhh, the map file!  Found the problem.. I'm porting some code, and it raises a signal!  That was causing it to link it in.
<br/>
<br/>
Cheers guys!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
