<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>WiFi Questions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > WiFi Questions</h2>
<div id="posts">
<div class="post">
    <h4>#40810 - Mike - Fri Apr 22, 2005 9:06 pm</h4>
    <div class="postbody"><span class="postbody">Trying to find a way to upload custom code to the DS through WiFi, I stumbled upon some puzzeling things I lack information of. I'm hoping someone can fill me out.
<br/>
<br/>
1. How is the game icon which is sent to the DS during download play stored? (If it's stored as game data, we could send about 0.5 Kb of code instead of the icon and redirect execution to the icon's location in memory by modifying the header)
<br/>
<br/>
2. In the 'data' folder inside the WiFiMe directory, there are two files present called arm7.bin and arm9.bin. What are these files for?
<br/>
<br/>
3. Would it not be possible to replace game files in the MarioDS Download Play program with bogus files containing our code and have the game execute it when it loads the file, using a buffer overflow exploit?
<br/>
<br/>
<br/>
Thank you for any light potentially shed on these stupid questions :p</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40818 - NEiM0D - Fri Apr 22, 2005 10:16 pm</h4>
    <div class="postbody"><span class="postbody">1. Almost the entire RAM is cleared before booting the downloaded code.
<br/>
<br/>
2: These are the multiboot Mario DS arm9 and arm7 extracted binaries.
<br/>
<br/>
3: I haven't played with DS wifi data so I can't help you there.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40820 - josath - Fri Apr 22, 2005 10:36 pm</h4>
    <div class="postbody"><span class="postbody">3. I don't think so, the mariods download program has an encrypted signature which is not feasable to break.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40821 - Mike - Fri Apr 22, 2005 10:49 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I don't think so, the mariods download program has an encrypted signature which is not feasable to break.</td> </tr></table><span class="postbody">
<br/>
I figured that only game code was encrypted, as the Metroid demo was recently dumped and someone wrote a file extractor and viewer for it. It even loaded models and maps.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40823 - Mike - Fri Apr 22, 2005 11:07 pm</h4>
    <div class="postbody"><span class="postbody">Heh? Offcourse the game data isn't encrypted, stupid me, how else would a program load data from the cart? By calling NDSDecryptBlock() for every 512 bytes of a file? :p
<br/>
<br/>
Come to think of it, it might be possible to extract the Metroid demo's arm7.bin and arm9.bin and upload it using WiFiMe. This might make it easier for us to try and find a buffer overflow exploit, as we'd have access to the numerous Metroid datafiles....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40835 - tepples - Sat Apr 23, 2005 2:59 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mike wrote:</b></span></td> </tr> <tr> <td class="quote">Heh? Offcourse the game data isn't encrypted, stupid me, how else would a program load data from the cart? By calling NDSDecryptBlock() for every 512 bytes of a file? :p</td> </tr></table><span class="postbody">
<br/>
If that were the case, then it'd possibly be integrated with the official filesystem code.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Come to think of it, it might be possible to extract the Metroid demo's arm7.bin and arm9.bin</td> </tr></table><span class="postbody">
<br/>
But does Metroid First Hunt have a DS Download Play mode? I don't have a DS myself, but given that it comes with all North American and European units, Nintendo might have assumed that they don't need single-pak play because all system owners would have multi-paks.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40843 - Sebbo - Sat Apr 23, 2005 4:02 am</h4>
    <div class="postbody"><span class="postbody">hunters is multi-pak, i got my DS from japan so i've had to steal my gf's copy of hunters :-P
<br/>
<br/>
instead of breaking an encrypted signature, could we use it instead? or is this a no-go cos of copyright laws?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40861 - tepples - Sat Apr 23, 2005 5:17 am</h4>
    <div class="postbody"><span class="postbody">You can't just use someone else's signature, as the signature depends on the data being signed. Please read the Wikipedia article "<a class="postlink" href="http://en.wikipedia.org/wiki/Digital_signature" target="_blank">Digital signature</a>" to learn why.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40862 - Sebbo - Sat Apr 23, 2005 5:27 am</h4>
    <div class="postbody"><span class="postbody">my bad. for some reason i wasn't thinking about encryption sides of things</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40867 - tepples - Sat Apr 23, 2005 5:50 am</h4>
    <div class="postbody"><span class="postbody">You were probably thinking of the logo verification used on Game Boy, GBC, GBA, and Pokemon Mini ROMs. Until the Nintendo DS, no Nintendo handheld has used an actual PK cryptographic signature. Did Ness have something to do with this?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40873 - PhoenixSoft - Sat Apr 23, 2005 7:18 am</h4>
    <div class="postbody"><span class="postbody">Well, unless you count the iQue as a handheld :P
<br/>
<br/>
I have a feeling the iQue shares a lot of technology with the DS - it is approximately as powerful as the DS (it plays ported N64 titles too) and has encrypted game cards.  I bet Nintendo used it as a test - what better way to test your encryption scheme than to send a system utilising it out into China?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40875 - Sebbo - Sat Apr 23, 2005 7:37 am</h4>
    <div class="postbody"><span class="postbody">yeah, some where along those lines. more like a signature for checks and forms and i was thinking you could "forge" these</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40937 - josath - Sat Apr 23, 2005 6:37 pm</h4>
    <div class="postbody"><span class="postbody">i thought the iQue WAS a n64, just in a smaller form, and the games are stored on rewriteable memory which you download at the store, instead of game carts? I don't think it has any original games, only old n64 games.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#40939 - dagamer34 - Sat Apr 23, 2005 6:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>josath wrote:</b></span></td> </tr> <tr> <td class="quote">i thought the iQue WAS a n64, just in a smaller form, and the games are stored on rewriteable memory which you download at the store, instead of game carts? I don't think it has any original games, only old n64 games.</td> </tr></table><span class="postbody">
<br/>
<br/>
We were specifically talking about the copyright protection places on the iQue's games to prevent piracy in the region which it was released.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
