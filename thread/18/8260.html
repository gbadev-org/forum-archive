<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Scanline Rasterization or Tiled? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Scanline Rasterization or Tiled?</h2>
<div id="posts">
<div class="post">
    <h4>#68490 - acox - Wed Jan 25, 2006 1:19 am</h4>
    <div class="postbody"><span class="postbody">Looking around I?ve seen references to the rasterization hardware being line-oriented, with a 256x1 z-buffer and tris filled on scan-out.
<br/>
<br/>
Is there any evidence that this is the way it really works?
<br/>
<br/>
Given ARM?s links to Imagination, offering the latter?s PowerVR technology with their cores for SOC solutions, I cant help wondering if the 2048 tri limit might have another source. I was thinking that rasterization might be tiled. It could be backed by a non-addressable, hidden framebuffer (fullscreen 256x192) (hidden just for engineering reasons so it is on a highspeed dedicated bus, connected to the rasterizer). The 2048 tri limit would then be explained as the size of the tile-sorting buffer of the rendering core.
<br/>
<br/>
This setup would have the same limitations people are seeing: No access to z-buffer (because it is temporary and 32x32(say), as opposed to 256x1); Framebuffer can be captured to a background but only at extra cost.
<br/>
<br/>
Before I go too far with speculation I?ll just ask again: Is there any evidence for the ?standard model? of DS rasterization?
<br/>
<br/>
<span style="font-weight: bold">Any pointers to info on Display Capture would be most appreciated</span>.<br/>_________________<br/><a class="postlink" href="http://www.btinternet.com/~ahcox/GBA/" target="_blank">3D on GBA</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68493 - Joat - Wed Jan 25, 2006 1:57 am</h4>
    <div class="postbody"><span class="postbody">The limit is actually 6144 verts, which points to a simple ram limitation for the hardware rasterizer.
<br/>
<br/>
There are two major reasons we think it's a scanline based engine (and it'd have two lines of buffer, not one), the polygon id system / alpha blending limitations really point to a just in time rasterizer with possibly 64 units (hence 6 bits of sprite id), and the fact that there is a line overflow bit, which indicates it ran out of time on a scanline (not a dead giveaway, but pretty damn close).<br/>_________________<br/>Joat
<br/>
<a href="http://www.bottledlight.com" target="_blank">http://www.bottledlight.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68495 - acox - Wed Jan 25, 2006 2:09 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the response.
<br/>
<br/>
That all sounds resonable. I also went and checked the specs of the PoverVR MBX and even the LITE, lowest-end version has features beyond what the DS is capable of so it at least isn't a stock one of those.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-weight: bold">Any pointers to info on Display Capture would be most appreciated</span>.</td> </tr></table><span class="postbody">
<br/>
<br/>
While I have you, any help with the above?<br/>_________________<br/><a class="postlink" href="http://www.btinternet.com/~ahcox/GBA/" target="_blank">3D on GBA</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68496 - ecurtz - Wed Jan 25, 2006 2:16 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>acox wrote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-weight: bold">Any pointers to info on Display Capture would be most appreciated</span>.</td> </tr></table><span class="postbody">
<br/>
<br/>
<a href="http://forum.gbadev.org/viewtopic.php?t=7958" target="_blank">http://forum.gbadev.org/viewtopic.php?t=7958</a>
<br/>
<br/>
The source has the information that was originally pasted here on the board in a comment.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68499 - acox - Wed Jan 25, 2006 2:54 am</h4>
    <div class="postbody"><span class="postbody">Thanks ecurtz that code looks like exactly what I am after.
<br/>
<br/>
Worth staying up for :).<br/>_________________<br/><a class="postlink" href="http://www.btinternet.com/~ahcox/GBA/" target="_blank">3D on GBA</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
