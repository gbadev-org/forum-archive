<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Class templates & example makefile - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Class templates & example makefile</h2>
<div id="posts">
<div class="post">
    <h4>#134878 - jimmy - Tue Jul 17, 2007 10:26 pm</h4>
    <div class="postbody"><span class="postbody">I'm using a Makefile that comes from one of the devkitARM (r20) examples. When trying to use class templates, I get a link error (undefined reference). Having looked through the forum for an hour or so now, I havent managed to find anything useful to me. Is it a problem with the Makefile im using perhaps (as I mentioned, its taken from one of the devkitARM examples)? If so, can anyone please post the required modifications to the example makefile in order to make it work with c++ templates? 
<br/>
<br/>
Here is the tiny test class that's causing the error: 
<br/>
<br/>
test.h:
<br/>
<br/>
template &lt;typename T&gt;
<br/>
class Test
<br/>
{
<br/>
public:
<br/>
  void DoSomething( T blah );
<br/>
};
<br/>
<br/>
<br/>
test.cpp:
<br/>
<br/>
template &lt;typename T&gt; void Test&lt;T&gt;::DoSomething( T blah )
<br/>
{
<br/>
}</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134923 - jimmy - Wed Jul 18, 2007 11:49 am</h4>
    <div class="postbody"><span class="postbody">In case anyone is interested, I moved the definition into the header, and now it works. 
<br/>
If I remember correctly, it is possible to separate the definition from the declaration in a template class in visual c++, not sure though. Apparently this doesn't work with gcc, altough it might just be my complete noobness with gcc &amp; makefiles that is the problem :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134924 - PeterM - Wed Jul 18, 2007 11:56 am</h4>
    <div class="postbody"><span class="postbody">As you've hopefully figured out, the definition needs to be in the header.
<br/>
<br/>
Otherwise how is calling code in another compilation unit supposed to generate the function body?<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
