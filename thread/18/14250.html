<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Drawing Hardware Shadows - Fixed - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Drawing Hardware Shadows - Fixed</h2>
<div id="posts">
<div class="post">
    <h4>#141827 - Ishi - Sun Sep 30, 2007 5:06 pm</h4>
    <div class="postbody"><span class="postbody">Hi everyone,
<br/>
<br/>
I'm currently trying to get shadows working on the DS. I've had a look at silent_code's shadow code ( <a href="http://forum.gbadev.org/viewtopic.php?t=12873" target="_blank">http://forum.gbadev.org/viewtopic.php?t=12873</a> ) and I can't see anything in there that I'm obviously missing.
<br/>
<br/>
I draw my normal meshes, which work fine (I'm just drawing an object and a simple floor plane). Then I use this function:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void CGraphics::drawShadow(CMesh *mesh, float x, float y, float z) const
<br/>
{
<br/>
   glBindTexture(0, 0);
<br/>
   glEnable(GL_BLEND);
<br/>
<br/>
   glPushMatrix();
<br/>
      glTranslatef(x, y, z);
<br/>
<br/>
      glPolyFmt(POLY_ID(0) | POLY_ALPHA(1) | POLY_CULL_FRONT | POLY_SHADOW);
<br/>
      mesh-&gt;drawSimple();
<br/>
<br/>
      glPolyFmt(POLY_ID(1) | POLY_ALPHA(20) | POLY_CULL_BACK | POLY_SHADOW);
<br/>
      mesh-&gt;drawSimple();
<br/>
<br/>
   glPopMatrix(1);
<br/>
<br/>
   glDisable(GL_BLEND);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
(drawSimple just draws all the mesh's triangles.)
<br/>
<br/>
It's partially working, instead of the proper shadow I get some white flickering bits where the shadow should be. If anyone can shed some light on something I might be missing, that'd be much appreciated.</span><span class="gensmall"><br/><br/>Last edited by Ishi on Sun Sep 30, 2007 9:20 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#141833 - M3d10n - Sun Sep 30, 2007 5:56 pm</h4>
    <div class="postbody"><span class="postbody">The demo I saw uses <span style="font-weight: bold">BIT(4) | BIT(5)</span> instead of <span style="font-weight: bold">POLY_SHADOW</span>, did you try that?
<br/>
<br/>
Also, is your shadow geometry convex (like a box, cylinder, sphere, etc)? If its a plane I think the shadow won't work.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141835 - Ishi - Sun Sep 30, 2007 6:18 pm</h4>
    <div class="postbody"><span class="postbody">I think the demo was before POLY_SHADOW was put in libnds, it's just 48 which is 110000 (bits 4 and 5) :)
<br/>
<br/>
For the shadow geometry at the moment I'm just using the mesh that I'm doing the shadow for, but placed half way into the floor. It's an enclosed mesh. (The shadow will be the wrong shape, and it's hideously inefficient, but at the moment I'm just trying to get it working right)
<br/>
<br/>
edit-
<br/>
<br/>
I've figured out that glColor changes the shadow colour, which was pretty obvious.
<br/>
<br/>
The shadow itself is still glitchy, it looks like z-fighting which is odd. The shadow's also a solid colour rather than transparent.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141842 - M3d10n - Sun Sep 30, 2007 8:25 pm</h4>
    <div class="postbody"><span class="postbody">I tried it and I also got the same bug. The shadow is drawn only on the geometry intersecting it, which is correct, but it is flickering in typical z-fighting fashion instead of properly covering the intersecting geometry. 
<br/>
<br/>
Feels like we're both missing to turn something on somewhere.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141844 - Ishi - Sun Sep 30, 2007 8:42 pm</h4>
    <div class="postbody"><span class="postbody">Awesome, good to know it's not just me :) Thanks for trying that.
<br/>
<br/>
I'm gonna comb through the demo code nice and carefully now I think.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141850 - Ishi - Sun Sep 30, 2007 9:09 pm</h4>
    <div class="postbody"><span class="postbody">Sorry for the double post, I've got it working now.
<br/>
<br/>
Passing 1 or 3 to glFlush fixes the z-fighting, something to do with how it sorts the vertices.
<br/>
<br/>
And for the transparency, I had to leave GL_BLEND on all the time - as the 3D doesn't actually get rendered until the end of the frame, so disabling it at the end of the function means it doesn't apply.
<br/>
<br/>
Thanks a lot for the help, M3d10n :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141872 - M3d10n - Mon Oct 01, 2007 12:06 am</h4>
    <div class="postbody"><span class="postbody">Ah, I'll try that.
<br/>
<br/>
I also had a problem with GL_BLEND recently and found that its better to keep it always on (opaque geometry is unaffected). Unlike the OpenGl equivalent, it is either on or off for the whole frame.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141889 - zeruda - Mon Oct 01, 2007 9:15 am</h4>
    <div class="postbody"><span class="postbody">What's the performance costs of using the hardware shadows? Does it eat into the vertex limit?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141890 - silent_code - Mon Oct 01, 2007 9:44 am</h4>
    <div class="postbody"><span class="postbody">yes, shadow polys count as normal polys (and vertices). the z-fighting is caused by the z-sorting algo: as you already found out, one needs to set it to w-sorting, z-sorting won't work. and manual sort might be needed, too, iirc.
<br/>
<br/>
it's nice to see someone working with hardware shadows, after all this time the shadow volume demo is online. ;^D it's sort of a pitty i've never got around writing a tutorial for it (maybe because i didn't see much developer interest - who knows?). on the other hand, it's just as easy as setting a few bits. ;^p
<br/>
<br/>
please post some images of the results you're getting (if you fell like it ;^) ).
<br/>
<br/>
happy coding!
<br/>
<br/>
ps: sorry i couldn't help, i've no inet @home, so i'm rarely online. :^C thoug one could always pm me. ;^)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141922 - Ishi - Mon Oct 01, 2007 6:29 pm</h4>
    <div class="postbody"><span class="postbody">Good to know that the shadow polies do just count as normal polies towards the limit, I'd assumed they would do.
<br/>
<br/>
Don't really have anything to show at the moment, I just wanted to get shadows working in my engine for when I need them. 
<br/>
<br/>
An interesting side note, Mario Kart DS uses non-convex shadow volumes for some of the karts (Bowser's airplane is most noticeable). Never noticed before, but now I know what to look for I can see where they break. ^_^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141973 - silent_code - Tue Oct 02, 2007 6:01 pm</h4>
    <div class="postbody"><span class="postbody">;^D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142098 - a128 - Thu Oct 04, 2007 10:14 am</h4>
    <div class="postbody"><span class="postbody">Here is a code (which works) to project a shadow on a plane ...based on 
<br/>
<a class="postlink" href="http://www.devmaster.net/articles/shadowprojection/" target="_blank">http://www.devmaster.net/articles/shadowprojection/</a>
<br/>
<br/>
THis is not for hadrware shadows..but good for translucent shadows
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/*
<br/>
 *
<br/>
 * Multiply the current ModelView-Matrix with a shadow-projetion
<br/>
 * matrix.
<br/>
 *
<br/>
 * Everything that is drawn after this call is "squashed" down
<br/>
 * to the plane. 
<br/>
 * */
<br/>
static void glShadowProjection(Vec3 plane_normal,Vec3 point_plane,Vec3 light_pos=Vec3(0,100,0))
<br/>
{
<br/>
   FixedPointNum d, c;
<br/>
   int32 mat[16];
<br/>
<br/>
//Vec3 is a fixpoint vector
<br/>
   Vec3 &amp;n=plane_normal;
<br/>
<br/>
   Vec3 &amp;l=light_pos;
<br/>
<br/>
   // Create the matrix. 
<br/>
   if(light_pos.x!=0&amp;&amp;light_pos.z!=0){
<br/>
      // l is the position of the light source
<br/>
      d = n.x*l.x + n.y*l.y + n.z*l.z;
<br/>
      c = (point_plane|plane_normal) - d;
<br/>
      mat[0]  = (l.x*n.x+c).getInt32(); 
<br/>
      mat[4]  = (n.y*l.x).getInt32(); 
<br/>
      mat[8]  = (n.z*l.x).getInt32(); 
<br/>
      mat[12] = (-l.x*c-l.x*d).getInt32();
<br/>
<br/>
      mat[1]  = (n.x*l.y).getInt32();        
<br/>
      mat[5]  = (l.y*n.y+c).getInt32();
<br/>
      mat[9]  = (n.z*l.y).getInt32(); 
<br/>
      mat[13] = (-l.y*c-l.y*d).getInt32();
<br/>
<br/>
      mat[2]  = (n.x*l.z).getInt32();        
<br/>
      mat[6]  = (n.y*l.z).getInt32(); 
<br/>
      mat[10] = (l.z*n.z+c).getInt32(); 
<br/>
      mat[14] = (-l.z*c-l.z*d).getInt32();
<br/>
   }else{
<br/>
<br/>
      //special case where light position is Vec3(0,y,0)
<br/>
      d=plane_normal.y*light_pos.y;
<br/>
      c = (point_plane|plane_normal) - d; 
<br/>
<br/>
      mat[0]  = c.getInt32(); 
<br/>
      mat[4]  = 0; 
<br/>
      mat[8]  = 0; 
<br/>
      mat[12] = 0;
<br/>
<br/>
      mat[1]  = (n.x*l.y).getInt32();        
<br/>
      mat[5]  = (l.y*n.y+c).getInt32();
<br/>
      mat[9]  = (n.z*l.y).getInt32(); 
<br/>
      mat[13] = (-l.y*c-l.y*d).getInt32();
<br/>
<br/>
      mat[2]  = 0;        
<br/>
      mat[6]  = 0; 
<br/>
      mat[10] = c.getInt32(); 
<br/>
      mat[14] = 0;
<br/>
<br/>
<br/>
   }
<br/>
   mat[3]  = n.X();        
<br/>
   mat[7]  = n.Y(); 
<br/>
   mat[11] = n.Z(); 
<br/>
   mat[15] = -d.getInt32();
<br/>
   // Finally multiply the matrices together *plonk*
<br/>
   glMultMatrix4x4((m4x4*)&amp;mat);
<br/>
}
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
use this like this
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
 glPushMatrix();
<br/>
     pos.y+=0.045f;//add y offset to reduce Y depth errors
<br/>
  
<br/>
  //note: the normal is (0,-1,0) !!!
<br/>
    glShadowProjection(Vec3(0,-1,0),Vec3(0,pos.y,0),Vec3(0,50,0));
<br/>
   
<br/>
    TranslateRotateY(pos, heading);
<br/>
  
<br/>
    DRAW_SHADOW(); // just a translucent mesh which you only have to render once:-)
<br/>
    glPopMatrix(1);
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142228 - Ishi - Sat Oct 06, 2007 5:45 pm</h4>
    <div class="postbody"><span class="postbody">Coolio. Probably a bit poly-heavy for most in-game usage, but it could be used for some really nice effects. Might give it a shot sometime. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146399 - Noda - Mon Dec 03, 2007 6:24 pm</h4>
    <div class="postbody"><span class="postbody">a128:
<br/>
<br/>
what does this part: c = (point_plane|plane_normal) - d;
<br/>
<br/>
I don't get what the operator '|' do here?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146402 - tepples - Mon Dec 03, 2007 8:25 pm</h4>
    <div class="postbody"><span class="postbody">The | operator in C performs a bitwise or operation.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146409 - Noda - Mon Dec 03, 2007 9:58 pm</h4>
    <div class="postbody"><span class="postbody">Yeah I know this but here the "|" is applied on two vector objects!
<br/>
<br/>
From what I undertstand of the document pointed, I think it should does the "." product between the vectors, but that's a strange (and confusing) way to redefine an operator function in my opinion...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146447 - a128 - Tue Dec 04, 2007 9:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Noda wrote:</b></span></td> </tr> <tr> <td class="quote">a128:
<br/>
<br/>
what does this part: c = (point_plane|plane_normal) - d;
<br/>
<br/>
I don't get what the operator '|' do here?</td> </tr></table><span class="postbody">
<br/>
<br/>
"|" is the vector Dot product, "|" is used often by various developers for the "dot"  because "." can`t be redefined and "*" is multiplication with a scalar
<br/>
<br/>
<br/>
a|b := a*a+b*b</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146448 - a128 - Tue Dec 04, 2007 9:41 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ishi wrote:</b></span></td> </tr> <tr> <td class="quote">Coolio. Probably a bit poly-heavy for most in-game usage, but it could be used for some really nice effects. Might give it a shot sometime. :)</td> </tr></table><span class="postbody">
<br/>
<br/>
The 3d model of the shadow is just a subset from the real 3d model.
<br/>
so it depends how mutch poly does the shadow have..
<br/>
<br/>
Render the shadow only if the camera is near the model
<br/>
<br/>
I use this code to the the cameraposition (Z is my depth coordinate)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Fixed Mathtools::CameraDistance(const Vec3 &amp;pos)
<br/>
{
<br/>
    glPushMatrix();
<br/>
    //1)  translate to position
<br/>
    MATRIX_TRANSLATE = pos.X();
<br/>
    MATRIX_TRANSLATE = pos.Y();
<br/>
    MATRIX_TRANSLATE = pos.Z();
<br/>
    //2) test against pos now at origin
<br/>
    PosTest(0, 0, 0); 
<br/>
    Fixed  closeZ = _FixedNum(PosTestZresult());
<br/>
    glPopMatrix(1);
<br/>
    return closeZ;
<br/>
<br/>
};
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146577 - Noda - Thu Dec 06, 2007 5:08 am</h4>
    <div class="postbody"><span class="postbody">I've got to work those projected shadows properly, but now I have a little problem, common with this method: the shadow are drawn outside of the receiver object.
<br/>
<br/>
I thought I could use the stencil buffer to cut out the undesired parts of the shadows, but I don't get it to work :(
<br/>
<br/>
Any idea on how to cut out the shadow so it only fits the receiver?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146584 - a128 - Thu Dec 06, 2007 9:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Noda wrote:</b></span></td> </tr> <tr> <td class="quote">I've got to work those projected shadows properly, but now I have a little problem, common with this method: the shadow are drawn outside of the receiver object.
<br/>
<br/>
I thought I could use the stencil buffer to cut out the undesired parts of the shadows, but I don't get it to work :(
<br/>
<br/>
Any idea on how to cut out the shadow so it only fits the receiver?</td> </tr></table><span class="postbody">
<br/>
<br/>
This technique has nothing to do with stencil/hardware shadows
<br/>
<br/>
The shadow is just a translucent 3d model..the shadow matrix  scales the shadow model so it looks like a shadow casted by a light source</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146593 - Noda - Thu Dec 06, 2007 4:26 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, I know, but your know, one of the problems of this technique is that the shadow is drawn on an infinite plane, and the receiver may not be infinite (like in my case, where it's just a board).
<br/>
<br/>
Using the stencil buffer should work by drawing the shadow only on the receiver's pixel, if used correctly.
<br/>
<br/>
I managed to get it somewhat working, it's working great on iDeas, but on DS the undesired parts goes on/off depending on the rotation of my board.
<br/>
It's likely a z-buffer resolution problem here, but I don't know how to tweak this :(
<br/>
<br/>
I tried using the W-Buffer, but if I activate the W-Buffer the transparent shadow are not shown at all! Is there something special to do when the W-Buffer is activated? I tried to activate bit 11 when drawing my shadows, without success...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146596 - a128 - Thu Dec 06, 2007 4:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Noda wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I tried using the W-Buffer, but if I activate the W-Buffer the transparent shadow are not shown at all! </td> </tr></table><span class="postbody">
<br/>
<br/>
Yes I also saw this if you use W-Buffer; GFX_FLUSH with bit1=1 
<br/>
<br/>
so GFX_FLUSH &gt;=2 just does not show the translucent polys...I DO NOT KNOW WHY</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146597 - Lino - Thu Dec 06, 2007 5:49 pm</h4>
    <div class="postbody"><span class="postbody">Noda can you send your program? (if its possible with source). Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146612 - Noda - Thu Dec 06, 2007 9:02 pm</h4>
    <div class="postbody"><span class="postbody">Lino&gt; done ;)
<br/>
<br/>
By the way, I noticed an error in the gbatek specification considering the stencil buffer: the stencil buffer is not cleared after being checked, which does make more sense (and I use it that way, so ;) 
<br/>
<br/>
Something strange I noticed also, that may be a bug in the libnds: using either z-buffer or w-buffer results in the exactly same z-fighting, and changing the z close/far planes doesnt affect the z-buffer precision, which is really strange... any idea for this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146641 - Lino - Fri Dec 07, 2007 4:50 am</h4>
    <div class="postbody"><span class="postbody">ok thanks ill try if I find something I make you know.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146652 - a128 - Fri Dec 07, 2007 9:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lino wrote:</b></span></td> </tr> <tr> <td class="quote">ok thanks ill try if I find something I make you know.</td> </tr></table><span class="postbody">
<br/>
and please report to this thread :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146654 - Lino - Fri Dec 07, 2007 9:46 am</h4>
    <div class="postbody"><span class="postbody">ok there is a <a class="postlink" href="http://www.ideasemu.org/onil/marble_proto9561562.png" target="_blank">screenshot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146664 - a128 - Fri Dec 07, 2007 12:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lino wrote:</b></span></td> </tr> <tr> <td class="quote">ok there is a <a class="postlink" href="http://www.ideasemu.org/onil/marble_proto9561562.png" target="_blank">screenshot</a></td> </tr></table><span class="postbody">
<br/>
<br/>
Impressive. The shadows are done be the hardware?
<br/>
<br/>
Did you fixed the GFX_FLUSH=2 problem...?
<br/>
<br/>
Or is this (only) working on Ideas emu?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146687 - Noda - Fri Dec 07, 2007 5:49 pm</h4>
    <div class="postbody"><span class="postbody">The shadows are done using a projection matrix combined with the stencil buffer to cut the part of shadows that are out of the board.
<br/>
<br/>
But still, the I didn(t get the w-buffer to work correctly and I'm having weird problem with the stencil things, as depending of the view point, the cut shadows parts somewhat flickers and become visible, like if there was some sort of z-fighting (but works well on emu).
<br/>
<br/>
EDIT: BTW, what you call "hardware shadows" are not really "hardware", as it's just a classic use of the stencil buffer to draw shadow volumes. Still, projected shadows are faster and eats less polygons than shadow volumes, as I only need to draw once the board in the stencil buffer the 1 time each object to cast shadow, instead of 2 times each shadows.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146699 - Lino - Fri Dec 07, 2007 9:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>a128 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lino wrote:</b></span></td> </tr> <tr> <td class="quote">ok there is a <a class="postlink" href="http://www.ideasemu.org/onil/marble_proto9561562.png" target="_blank">screenshot</a></td> </tr></table><span class="postbody">
<br/>
<br/>
Impressive. The shadows are done be the hardware?
<br/>
<br/>
Did you fixed the GFX_FLUSH=2 problem...?
<br/>
<br/>
Or is this (only) working on Ideas emu?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
The demo works on iDeaS as the real hardware. I only fixed a bug on autosort for traslucent polygons.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
