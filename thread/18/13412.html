<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Another Light-cycle DS game - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Another Light-cycle DS game</h2>
<div id="posts">
<div class="post">
    <h4>#131111 - gmf - Mon Jun 11, 2007 8:39 am</h4>
    <div class="postbody"><span class="postbody">God.  So I've been working on a cycle game similar to tron as well.  I was going to wait until it was in better shape, but now there is competition, in the form of kalus' very very pretty, DS LightBikes, I feel obliged to lay proverbial cards out, and such.  It's in decent enough shape to release in alpha form, but it uses DLDI  so I'm a bit reluctant to do so as I've only tested on a Supercard light and it writes as well as saves in the form of a level editor.  It's not as aesthetically developed as kalus' either in the menu system or the actual game, but I have truthfully been concentrating more on the options and features, although even those haven't developed as smoothly as I would have liked.  Basically I wanted to get opinions on it, because I'm kind of exasperated after having spent time learning to program for the DS (I'm a bioengineer by trade, and very limited in the languages of the coms) and still ending up with some crazy memory issues that I can't wrap my head around.  It has a functioning editor.  2-player dual screen mode on the same DS (since that's how me and the boys used to play armagetron on the computer anyways... by the way, the dual screen code is a direct rip from Fireslash's example, so thanks a ton), and tweaks for the acceleration and such.  So I'm just curious, should I release this thing, or wait until it's a bit more sparkly and bug-free (crashes when moving between game-types right now, as is illustrated when trying to load a level immediately after its created in the editor).  I was sort of planning on making it a continuous campaign game with coop, etc., but there's some leaking over of views in dual-screen mode when the levels are very large, as is shown in the video.  And it's very hard to control two light-cycles at once, as is shown in the video.  Yes. the video:
<br/>
<br/>
<a href="http://www.youtube.com/watch?v=tF4928I9uPI" target="_blank">http://www.youtube.com/watch?v=tF4928I9uPI</a>
<br/>
<br/>
And yes, I realize that it's a bit crazy to make an entire on-DS editor for a game that will probably only accomodate a few... but I wasn't going to hardcode in every goddamn maze. Oh, and if somebody has a low-poly light-cycle lying around somewhere, I'd tear out jugulars to get to it (Currently there are no bikes, nor silhouettes of bikes, nor wraith-like box-entities masquerading as bikes.  It's a friggin' self-elongating, self-propelling wall).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131113 - kalus - Mon Jun 11, 2007 8:51 am</h4>
    <div class="postbody"><span class="postbody">this is looking pretty sweet already, you should def clean up some of the bugs and get it ready for gbax, after seeing some of the entries last time, thats def got a chance! :D 
<br/>
<br/>
wow, I'd actually completely forgot about armagetron, the pure genius of playing multiplayer, but with four people on a computer, against another four on another computer! awesome game. good luck with this!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131130 - Mifheu - Mon Jun 11, 2007 11:41 am</h4>
    <div class="postbody"><span class="postbody">Hi gmf! Looks quite nice! I think the leveleditor is really a cool feature.
<br/>
BTW: I'd be happy to do a lowpoly lightcycle. Just tell me about the polycount , if it should be textured in some way or any other techstuff I need to know. I think it should be fast and easy to get you a nice mesh ;-)<br/>_________________<br/>Simplicity is the most complex topic.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131163 - gmf - Mon Jun 11, 2007 8:32 pm</h4>
    <div class="postbody"><span class="postbody">Thanks kalus!  Yeah, the current bugs do have me a bit worried, although the view leakover in 2-player mode I think I can fix doing some simple wall drawing optimizations (right now it passes all walls in a level over to the drawing code, even if it should be out of view).  And I've got to turn on poly-culling again, as I took it off a while ago when I was working with some fickle quads (yeah, I know how dumb no culling is).  Its the crashing that freaks me out.  I'm pretty sure its just bad allocating on my part, or something where switching between modes in-game just freaks out.  What I really need to do is get an additional camera-mode installed.  I'm going to save an overhead mode for a God-like option ( and an in-game powerup), since in armagetron we used to enforce the front-view only regulation while playing, but a slightly elevated behind view, as you have implemented would make things a bit easier for some.
<br/>
<br/>
Mifheu, I'd love it if you could do a mesh/texture.  There a good, although obviously much more detailed in texture and curvature than one would hope for on the DS, real-life multi-view model at:
<br/>
<br/>
<a href="http://www.smallartworks.ca/Gallery/Lightcycle/Lightcycle.html" target="_blank">http://www.smallartworks.ca/Gallery/Lightcycle/Lightcycle.html</a>
<br/>
<br/>
To be perfectly honest, I haven't even imported models yet of any kind, so I'll need to jump through the conversion hoops to get it going.  After scaling it, I would put its height at about 0.05 in float, which would be directly converted to v16 (0.05 * 2^12, right? I'm so not an experienced programmer).  The texture would be simply white+grays and black.  Black where the windows would be on the model above, and white/gray everywhere else (to colorize according to user color).  Problem is, I do want to have a possibility of 8 on 2 AI vs. human fights (along with possible introduction of tanks and recognizers), which could put the poly-cap on the bike close to 100.  Honestly I have no idea about the feasability of such a thing.  In any case, thanks for the offer!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131181 - HyperHacker - Mon Jun 11, 2007 11:49 pm</h4>
    <div class="postbody"><span class="postbody">I think if the game is fun, you could get away with a 3-sided pyramid for a bike. :p<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131247 - Dood77 - Tue Jun 12, 2007 11:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote">Iyou could get away with a <span style="font-weight: bold">tetrahedron</span> for a bike. :p</td> </tr></table><span class="postbody">
<br/>
fixed B-)
<br/>
<br/>
Great game BTW, I look forward to more updates.<br/>_________________<br/>If I use a term wrong or something then feel free to correct, I?m not much of a programmer.
<br/>
<span style="font-size: 9px; line-height: normal">
<br/>
Original DS Phat obtained on day of release + flashme v7
<br/>
Supercard: miniSD, Kingston 1GB, Kingston 2GB
<br/>
Ralink chipset PCI NIC
<br/>
</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131288 - Mifheu - Wed Jun 13, 2007 9:16 pm</h4>
    <div class="postbody"><span class="postbody">Ok, finally managed to finish the promised lightcycle object.
<br/>
<br/>
Here's a pic of it:
<br/>
<br/>
<a href="http://www.thepong.net/Example_Pic.jpg" target="_blank">http://www.thepong.net/Example_Pic.jpg</a>
<br/>
<br/>
It has 126 triangles. It may be possible to cut it down to around 110, but then it would lose much of it's typical shape. If you turn on backfaceculling it should be possible to have 10 of them on screen plus some enemies and other stuff and still be under 2000 polys.
<br/>
The texture is a little bit big (256x256) but it could be cut down to 128 without any problems. IIt has 32 colors (16 may be possible, but look worse). The first 16 colors are the grey tones while the second 16 colors are used for the blue color. It should be possible to recolor the lightcycle easily by using palettes. Maybe you have to use the 256 colors palettized textures.
<br/>
I've included all my stuff into a zip-file and some additional info, too. If you need some other things or if I need to export or change stuff for you, just tell me.
<br/>
Hope you can use it.
<br/>
<br/>
Here are the files:
<br/>
<br/>
<a href="http://www.thepong.net/Lightcycle.zip" target="_blank">http://www.thepong.net/Lightcycle.zip</a>
<br/>
<br/>
BTW: Just an idea. As far as I know it is possible to have some sort of blooming effect on the DS. It eats up VRam, but would look very cool. Especially for a Tron-style game. Maybe you can implement it. I think, there was a example around here somewhere.<br/>_________________<br/>Simplicity is the most complex topic.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131313 - gmf - Thu Jun 14, 2007 3:46 am</h4>
    <div class="postbody"><span class="postbody">That was extremely quick!  I think 126 polys should be fine for now especially, since I haven't done any height-mapping (nor plan to for a while).  I'm gonna implement some better culling to get rid of some wasted cpu-time soon as well, but I'm going to get this model implemented first, seeing as you went to such trouble.  I've got my last final of my undergraduate career tomorrow, so Friday I should be able to get a lot of stuff out of the way.  Incidentally, I've fixed all of the crashing bugs I was having, although the dual-screen leakover still exists (I'm hoping it goes away when I get rid of the uneccessary draws).  
<br/>
But thanks for being so thorough!  I'm going to have to look into generating palettes on the fly, since this would require such for a true customization of color, but I think everything you've given me should be more than adequate.  And I think I've got more than enough VRAM free for the texture itself, and thats just with Bank A.
<br/>
-Thanks again!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131315 - tepples - Thu Jun 14, 2007 4:04 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mifheu wrote:</b></span></td> </tr> <tr> <td class="quote">Ok, finally managed to finish the promised lightcycle object.
<br/>
<br/>
Here's a pic of it:
<br/>
<br/>
<a href="http://www.thepong.net/Example_Pic.jpg" target="_blank">http://www.thepong.net/Example_Pic.jpg</a>
<br/>
<br/>
It has 126 triangles.</td> </tr></table><span class="postbody">
<br/>
Some of which can be turned into quads, right?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131326 - Mifheu - Thu Jun 14, 2007 11:31 am</h4>
    <div class="postbody"><span class="postbody">Hi there. I've just updated the zip file from above. Changed or fixed the following things:
<br/>
<br/>
- made the lightcycle a little big thicker (was too small in my opinion)
<br/>
- fixed some texture bleeding issues and added a small detail of the original lightcycle style which I had forgotten yesterday ;)
<br/>
- added a blender file with the mesh using the 128x128 texture with 32 colors
<br/>
- added a 16 color version of the texture (which seems still okay for me), so maybe you can use the 16-color palette texture and save some memory.
<br/>
- added a blender file with the mesh using the 16 color texture as well
<br/>
- fixed some triangulation issues on the mesh
<br/>
- converted it back to as many quads as possible (thanks to tepples for the heads up.)
<br/>
- updated the ReadMe of course.
<br/>
<br/>
that's it. now I'am really keen to see the lightcycle in action. :)<br/>_________________<br/>Simplicity is the most complex topic.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131330 - gmf - Thu Jun 14, 2007 12:19 pm</h4>
    <div class="postbody"><span class="postbody">Now I gotta re-import it!.  Just kiddin'.  I got the last model working in game, although I've got to figure out how I can create the palettes on the fly in order to customize the color dynamically.  The importing was a piece of cake after I installed python and ran the scripts in the tutorial, so it should be an equally tasty piece of cake to get the new model in.  I think I am going to keep the 256x256 as its a pretty important model for the gameplay and the higher-res quality is definitely noticeable compared to a 128x128 (I tried both out).  And yes, your model kicks ass.  I'll do another quick little video soon when I get the color schemes going, and if you want I can throw a build your way now, although the DLDI makes me a tad nervous(I don't use any crazy functions in libfat, but it seems like such a capricious beast to me on my supercard lite).  But I could definitely use suggestions, as I'll be getting into more of the visually tweaking stages soon, I think.  Ahhh, bloom effect....Ahhhh.....doable on single player; we'll see about dual-screen.
<br/>
For the dynamic coloring I think what I'll do is just analyze the relative values of the blues and just do some straight ratio-conversions (as in the ratio of each shade to the lightest shade).  
<br/>
Out of curiosity, anyone know the procedure to create a palette on the fly?  
<br/>
I tried a while back but it (the basic opengl code) wouldn't take any arrays I threw at it...like I said, I'm really not much of a programmer.  I've done everything thus far with the most juvenile knowledge of the hardware possible...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131453 - Darkflame - Fri Jun 15, 2007 8:24 pm</h4>
    <div class="postbody"><span class="postbody">Looks really good  :)  I love editors on games.
<br/>
<br/>
Am I excited about this game?
<br/>
Well, to quote the best charecter in Tron;
<br/>
<br/>
"YES"<br/>_________________<br/><a class="postlink" href="http://www.rateoholic.co.uk/RateoholicResults.php#SEARCHFOR=&amp;TYPE=VideoGame%25&amp;BY=darkflame&amp;ORDER=hyb_down&amp;ST=0" target="_blank">Darkflames Reviews</a>    --   
<br/>
Make your own at;
<br/>
<a class="postlink" href="http://www.rateoholic.co.uk" target="_blank"> Rateoholic:Reviews for anything, by anyone.</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132569 - FireSlash - Wed Jun 27, 2007 9:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gmf wrote:</b></span></td> </tr> <tr> <td class="quote">Out of curiosity, anyone know the procedure to create a palette on the fly?  
<br/>
I tried a while back but it (the basic opengl code) wouldn't take any arrays I threw at it...like I said, I'm really not much of a programmer.  I've done everything thus far with the most juvenile knowledge of the hardware possible...</td> </tr></table><span class="postbody">
<br/>
<br/>
The palettes are just simple u16 arrays
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">u16 palette[256];
<br/>
unsigned char r,g,b;
<br/>
// Set up color
<br/>
r=255;
<br/>
g=0;
<br/>
b=255;
<br/>
// Insert color into palette
<br/>
palette[0]=RGB15(r&gt;&gt;3,g&gt;&gt;3,b&gt;&gt;3);
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://www.fireslash.net" target="_blank">FireSlash.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132577 - NeX - Wed Jun 27, 2007 10:06 pm</h4>
    <div class="postbody"><span class="postbody">Don't bother with a palette.  Make the texture greyscale and use glColor.<br/>_________________<br/><a class="postlink" href="http://www.mediafire.com/?cuyb10fzdz2" target="_blank">Strummer</a> or <a class="postlink" href="http://www.mediafire.com/?71zxcztscix" target="_blank">Drummer?</a>.  
<br/>
Or maybe you would rather play with sand? <a class="postlink" href="http://www.mediafire.com/?a05z5wmdvxm" target="_blank">Sandscape is for you in that case.</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132587 - gmf - Wed Jun 27, 2007 11:28 pm</h4>
    <div class="postbody"><span class="postbody">NeX- Yeah, I was thinking about that, but I might as well try and see if I can do it without compromising the areas on the bike that really are supposed to be gray.  It shouldn't be too much of a performance hit or logical pain to generate them when a new bike is created... or modify on the fly... we'll see.
<br/>
<br/>
Fireslash- Thanks for that! Searching the forum gave me nothing along the specific formatting lines, although if I parsed through the code more I'm sure I could have found it.
<br/>
I'll implement it when I can.
<br/>
<br/>
Incidentally, the hinge on my DS lite disassociated itself from the base (the right side cracked and progressively tore off as I was opening it one morning), so its at the big Nintendo Repair complex here in CA right now, and god knows whether or not they'll consider it covered by the warantee. Anyone else have this problem with weak hinges?  My brothers hinge on his fat DS turned the same trick, and we really aren't into abusing our handhelds or anything.  I'd continue working on the code, but it's about as far from running on an emulator as our great US of A is from establishing favorable international relations, and I have no intention of dumping a bunch of code in that I can't timely see the results of. But thanks again, Fireslash!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
