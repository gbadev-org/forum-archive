<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Reading JPEG files - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Reading JPEG files</h2>
<div id="posts">
<div class="post">
    <h4>#51297 - Dannon - Thu Aug 18, 2005 3:07 am</h4>
    <div class="postbody"><span class="postbody">Can anyone point me in the direction of a good tutorial for reading and storing JPEG files in either a class or a structure?
<br/>
<br/>
Though not directly associated with DS development, it is for something I'm trying for the DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51299 - hoagie - Thu Aug 18, 2005 4:13 am</h4>
    <div class="postbody"><span class="postbody">comic reader?
<br/>
<br/>
plz?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51301 - tepples - Thu Aug 18, 2005 4:17 am</h4>
    <div class="postbody"><span class="postbody">Want a comic reader? Just get PogoShell and throw a bunch of 240x160 pixel .bmp files in a folder.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51304 - headspin - Thu Aug 18, 2005 4:24 am</h4>
    <div class="postbody"><span class="postbody">doublec's tutorial on using jpeg files <a class="postlink" href="http://www.double.co.nz/nintendo_ds/nds_develop10.html" target="_blank">here</a> might be helpful.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51316 - Diskun - Thu Aug 18, 2005 6:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Want a comic reader? Just get PogoShell and throw a bunch of 240x160 pixel .bmp files in a folder.</td> </tr></table><span class="postbody">That sucks, dermatologically tested (lol)
<br/>
<br/>
Greets</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51335 - Dannon - Thu Aug 18, 2005 2:19 pm</h4>
    <div class="postbody"><span class="postbody">Ok, I've got the JPEG stuff from Headspin's site, looks good, but I'm using the GBAMP to store JPEGs, so I'm trying to use Chishm's code to access the CF card, it says that you have to run 'FAT_InitFiles()' at the begining so I have included 'gbamp_cf.h' and put 'FAT_InitFiles()' in my initialise function, but the compiler is saying 'undefined reference to 'FAT_InitFiles()', any help?</span><span class="gensmall"><br/><br/>Last edited by Dannon on Thu Aug 18, 2005 3:19 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#51339 - tepples - Thu Aug 18, 2005 3:11 pm</h4>
    <div class="postbody"><span class="postbody">For one thing, there are two H's in chishm.
<br/>
<br/>
For another, if you're getting "undefined reference" errors, then you left out either one of the .c or .o files or one of the libraries.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51348 - Dannon - Thu Aug 18, 2005 4:57 pm</h4>
    <div class="postbody"><span class="postbody">Got it sorted thanks, but now FAT_InitFiles() is returning false, it is returning on it's first check:
<br/>
<br/>
if (!CF_IsInserted())
<br/>
{
<br/>
	return (false);
<br/>
}
<br/>
<br/>
this can't be right as I'm running it from the CF card on my GBAMP
<br/>
<br/>
Also is there any chance there's some way of rotating the console text 90 degrees so I can have the DS on its side?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51369 - Lynx - Thu Aug 18, 2005 8:13 pm</h4>
    <div class="postbody"><span class="postbody">I'd say yes, as one of the E3 demos had you hold the DS sideways.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51372 - Dannon - Thu Aug 18, 2005 9:02 pm</h4>
    <div class="postbody"><span class="postbody">I'm sure it can be done, you can rotate images easily enough, but I can't seem to rotate the background with the console on, I'm using the example with the 2D libnds demo:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// Set the mode for 2 text layers and two extended background layers
<br/>
  videoSetMode( MODE_5_2D | DISPLAY_BG3_ACTIVE );
<br/>
<br/>
// Set the sub background up for text display (we could just print to one
<br/>
// of the main display text backgrounds just as easily
<br/>
  videoSetModeSub(MODE_0_2D | DISPLAY_BG0_ACTIVE); //sub bg 0 will be used to print text
<br/>
   
<br/>
// Set the first bank as background memory and the third as sub background memory
<br/>
// B and D are not used (if you want a bitmap greater than 256x256 you will need more
<br/>
//memory so another vram bank must be used and mapped consecutivly
<br/>
  vramSetMainBanks( VRAM_A_MAIN_BG_0x6000000, VRAM_B_LCD, VRAM_C_SUB_BG,VRAM_D_LCD ); 
<br/>
<br/>
  SUB_BG0_CR = BG_MAP_BASE( 31 );
<br/>
  BG_PALETTE_SUB[255] = RGB15( 31, 31, 31 );</td> </tr></table><span class="postbody">
<br/>
<br/>
I have tried loads of different things to rotate it, someone must have a way to do this</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51395 - chishm - Fri Aug 19, 2005 3:17 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dannon wrote:</b></span></td> </tr> <tr> <td class="quote">Got it sorted thanks, but now FAT_InitFiles() is returning false, it is returning on it's first check:
<br/>
<br/>
if (!CF_IsInserted())
<br/>
{
<br/>
	return (false);
<br/>
}
<br/>
<br/>
this can't be right as I'm running it from the CF card on my GBAMP
<br/>
</td> </tr></table><span class="postbody">
<br/>
That is because you haven't set WAIT_CR so the ARM9 can read from the GBA cart slot. I will make this an automatic thing in the next update, but I haven't got enough time (motivation) to work on all the changes I want to do at the moment.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#51409 - Dannon - Fri Aug 19, 2005 7:35 am</h4>
    <div class="postbody"><span class="postbody">Where abouts do I set WAIT_CR and what to?
<br/>
<br/>
EDIT: Sorted out.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55684 - LunarCrisis - Fri Sep 30, 2005 4:35 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dannon wrote:</b></span></td> </tr> <tr> <td class="quote">I'm sure it can be done, you can rotate images easily enough, but I can't seem to rotate the background with the console on, I'm using the example with the 2D libnds demo:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// Set the mode for 2 text layers and two extended background layers
<br/>
  videoSetMode( MODE_5_2D | DISPLAY_BG3_ACTIVE );
<br/>
<br/>
// Set the sub background up for text display (we could just print to one
<br/>
// of the main display text backgrounds just as easily
<br/>
  videoSetModeSub(MODE_0_2D | DISPLAY_BG0_ACTIVE); //sub bg 0 will be used to print text
<br/>
   
<br/>
// Set the first bank as background memory and the third as sub background memory
<br/>
// B and D are not used (if you want a bitmap greater than 256x256 you will need more
<br/>
//memory so another vram bank must be used and mapped consecutivly
<br/>
  vramSetMainBanks( VRAM_A_MAIN_BG_0x6000000, VRAM_B_LCD, VRAM_C_SUB_BG,VRAM_D_LCD ); 
<br/>
<br/>
  SUB_BG0_CR = BG_MAP_BASE( 31 );
<br/>
  BG_PALETTE_SUB[255] = RGB15( 31, 31, 31 );</td> </tr></table><span class="postbody">
<br/>
<br/>
I have tried loads of different things to rotate it, someone must have a way to do this</span></td> </tr></table><span class="postbody">I haven't tried this, but you could try using an extended rotation/scale background as your console, since it also uses 16 bit tile indices.<br/>_________________<br/>If a tree falls in the forest and no one is there to hear it, why the heck do you care?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
