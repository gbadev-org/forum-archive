<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Smaller fonts for simple console - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Smaller fonts for simple console</h2>
<div id="posts">
<div class="post">
    <h4>#168226 - zigg - Thu Apr 16, 2009 1:51 am</h4>
    <div class="postbody"><span class="postbody">This is not a deal-breaker by any stretch for my application, but I was wondering if it was possible in a simple manner to use consoleDemoInit/iprintf with a smaller font, and if such a smaller font might already be available somewhere.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168227 - elhobbs - Thu Apr 16, 2009 1:58 am</h4>
    <div class="postbody"><span class="postbody">no, it is not possible to do this simply. the existing implementation uses the 2d hardware to draw the text using 8x8 tiles for each character. 8x8 tiles are the smallest supported.
<br/>
<br/>
it is possible to draw the text in frame buffer mode instead though. but that would require a lot of custom code. and it would use more vram.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168228 - zigg - Thu Apr 16, 2009 2:17 am</h4>
    <div class="postbody"><span class="postbody">Ah, OK.  Not worth pursuing for what I'm doing.  Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168231 - elwing - Thu Apr 16, 2009 7:52 am</h4>
    <div class="postbody"><span class="postbody">cearn implemented evolved console method allowing this in its tonc lib... you should check it out if you want this... its geared toward gba, but i think it would work nicely on the nds (well you will prolly need to hack it a little bit...)
<br/>
<br/>
<a href="http://www.coranac.com/tonc/text/" target="_blank">http://www.coranac.com/tonc/text/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168236 - sverx - Thu Apr 16, 2009 11:30 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>elhobbs wrote:</b></span></td> </tr> <tr> <td class="quote">the existing implementation uses the 2d hardware to draw the text using 8x8 tiles for each character. 8x8 tiles are the smallest supported.</td> </tr></table><span class="postbody">
<br/>
<br/>
... which gives 32 chars per line. That's why (well, one of the reasons) I had to write my own functions to write 6 pixel wide chars, thus obtaining 42 chars per line. Btw it's 2D tiled (hardware) mode, using all 4 BGs... shifting "the next BG" 6 pixels right from the previous...
<br/>
<br/>
I believe it shouldn't be so hard to write a <span style="font-style: italic">port</span> of that 42x24 text mode into console, but I'm not the one who's going to do that ;)
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
?<br/>_________________<br/><a class="postlink" href="http://bit.ly/yiQrz9" target="_blank">libXM7</a>|<a class="postlink" href="http://bit.ly/yJwcOo" target="_blank">NDS programming tutorial (Italiano)</a>|<a class="postlink" href="http://disjointedstudio.blogspot.com/" target="_blank">Waimanu DS / GBA</a>|<a class="postlink" href="http://adshomebrewersdiary.blogspot.com" target="_blank">A DS Homebrewer's Diary</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168278 - SteveH - Sat Apr 18, 2009 5:48 pm</h4>
    <div class="postbody"><span class="postbody">I'm working on a graphical console interface at the moment that uses the normal iprintf to output the information to the screen, it's far from complete, but here's a link to a screen shot of the current test application:
<br/>
<br/>
<a href="http://sharriso.gotadsl.co.uk/ds/gfxc/gfxconsole4.png" target="_blank">http://sharriso.gotadsl.co.uk/ds/gfxc/gfxconsole4.png</a>
<br/>
<br/>
It's currently using 2 fonts and switching at run time between them...
<br/>
<br/>
Example code from the test:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
   for( j = 0; j &lt; 8; j ++ )
<br/>
   {
<br/>
      iprintf( " " );
<br/>
      for( i = 0; i &lt; 8; i ++ )
<br/>
      {
<br/>
         iprintf( "\x1b[3%d;4%dm%c", j, i, 177 );
<br/>
      }
<br/>
      iprintf( " \x1b)" );
<br/>
      for( i = 0; i &lt; 8; i ++ )
<br/>
      {
<br/>
         iprintf( "\x1b[3%d;4%d;1mA", j, i );
<br/>
      }
<br/>
      iprintf( " " );
<br/>
      for( i = 0; i &lt; 8; i ++ )
<br/>
      {
<br/>
         iprintf( "\x1b[3%d;4%d;7;1;7mA", j, i );
<br/>
      }
<br/>
      iprintf( "\n\x1b(" );
<br/>
   }
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
As you can see it's nothing special, and I'm using the same ANSI positioning commands that's available to the normal console, but with a few minor changes...
<br/>
<br/>
I'm using fonts from the BMF library - <a href="http://bmf.wz.cz" target="_blank">http://bmf.wz.cz</a> - there's a 3x3 font in their library ....</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
