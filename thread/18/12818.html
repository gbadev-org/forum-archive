<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>OSX and the NDS - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > OSX and the NDS</h2>
<div id="posts">
<div class="post">
    <h4>#123118 - SpacedCowboy - Sun Mar 25, 2007 7:18 am</h4>
    <div class="postbody"><span class="postbody">I don't know if this will be of interest to anyone or not, but having hit something of a brick wall playing with Mighty Max's virtual-16 code, I figured it was about time to get an emulator/debugger working on OSX.
<br/>
<br/>
I couldn't actually find one, which is why I'm writing this up. Perhaps it's common knowledge that it "just works" on the Mac, but I didn't know that. Anyway, I detailed the list of steps I had to go through to get desmume and gdb (target remote) working on my Mac.
<br/>
<br/>
It's all on <a class="postlink" href="http://blog.gornall.net/page2/page2.html" target="_blank">my NDS page</a> - the actual steps are via a link towards the bottom.
<br/>
<br/>
Cheers,
<br/>
    Simon.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123635 - purplemaji - Thu Mar 29, 2007 8:15 pm</h4>
    <div class="postbody"><span class="postbody">Thank you!  This is very helpful to me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123946 - masscat - Sun Apr 01, 2007 11:34 pm</h4>
    <div class="postbody"><span class="postbody">There are lots of issues with the first version of my gdb stub for desmume.
<br/>
<br/>
You can find a better version <a class="postlink" href="http://digitalvault.bt.com/invite/login?c=3130353833&amp;i=160814-10ff6f1e0b7-gemini02&amp;t=4d08ae7c97a8c6aa&amp;r=mg&amp;lang=en" target="_blank">here</a>.
<br/>
<br/>
I posted about the newer version on the old desmume forums (which have now been destroyed).
<br/>
<br/>
There are some new desmume forums <a class="postlink" href="http://forums.desmume.org/" target="_blank">here</a>. People would be interested in your work on the OSX porting.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#123960 - SpacedCowboy - Mon Apr 02, 2007 3:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>masscat wrote:</b></span></td> </tr> <tr> <td class="quote">There are lots of issues with the first version of my gdb stub for desmume.
<br/>
<br/>
You can find a better version <a class="postlink" href="http://digitalvault.bt.com/invite/login?c=3130353833&amp;i=160814-10ff6f1e0b7-gemini02&amp;t=4d08ae7c97a8c6aa&amp;r=mg&amp;lang=en" target="_blank">here</a>.
<br/>
<br/>
...
<br/>
<br/>
There are some new desmume forums <a class="postlink" href="http://forums.desmume.org/" target="_blank">here</a>. People would be interested in your work on the OSX porting.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ok, well I donwloaded/compiled that version (using the '--enable-gdbstubs' configure option, yes ?) Unfortunately this one doesn't seem to "just work" :-|
<br/>
<br/>
The desmume window comes up, but doesn't go into the 'wait for gdb to connect' mode (and in fact, gdb cannot connect). The program launches immediately if you type 'desmume-gdb /path/to/file.nds'
<br/>
<br/>
I checked to see if the configure option was working by adding an fprintf() inside the #ifdef ENABLE_GDBSTUBS lines in src/gtk/main.c, and it was printed out, so I think something else must be wrong :-(
<br/>
<br/>
I'll have a look into it, and if I can get the latest version working, I'll post to the forums you mention :-)
<br/>
<br/>
Simon.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124096 - SpacedCowboy - Tue Apr 03, 2007 2:42 am</h4>
    <div class="postbody"><span class="postbody">So, replying to myself, but after a little bit of investigation, I figured out that the GDB stub is only activated in the 'cli' version, and that the ports for the arm9/arm7 have been swapped around from their previous values (the arm9 is now 20000 not 20001).
<br/>
<br/>
After I'd figured that out, it worked just fine - I'll update my pages and post on the forums...
<br/>
<br/>
Simon</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
