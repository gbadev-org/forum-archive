<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Saving with lower-case letters - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Saving with lower-case letters</h2>
<div id="posts">
<div class="post">
    <h4>#156973 - thegamefreak0134 - Sat May 17, 2008 3:27 am</h4>
    <div class="postbody"><span class="postbody">I just got my libfat to work for the first time, so my drawing program that I am working on can load and save files from the card. That's really neat, with one small issue. Whenever I save files, the filename is in ALL CAPS. Is there any way around this? I'm mainly worried that if a similar filename exists with different casing that it may cause issues, as I'm not sure what behavior to expect.
<br/>
<br/>
Thanks!
<br/>
<br/>
-gamefreak<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156974 - Dwedit - Sat May 17, 2008 3:58 am</h4>
    <div class="postbody"><span class="postbody">Use a filename which isn't a dos 8.3 filename to get lowercase.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156980 - silent_code - Sat May 17, 2008 9:37 am</h4>
    <div class="postbody"><span class="postbody">you know that song "don't fear the sourcecode"? :^p
<br/>
my advise: test it out... after all, <a class="postlink" href="http://au.youtube.com/watch?v=g-0KbbejJeg" target="_blank">it's your job</a>. ;^D<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#156984 - thegamefreak0134 - Sat May 17, 2008 10:54 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">you know that song "don't fear the sourcecode"? :^p
<br/>
my advise: test it out... after all, <a class="postlink" href="http://au.youtube.com/watch?v=g-0KbbejJeg" target="_blank">it's your job</a>. ;^D</td> </tr></table><span class="postbody">
<br/>
<br/>
And what on earth does that have to do with the price of tea in china? ;-)
<br/>
<br/>
I can understand that it will default to all caps for a DOS 8.3 filename. I was just wondering if there was a way to disable it. I'm OK with it either way, it won't really break anything that I can tell, it's just a little gross to me.
<br/>
<br/>
-gamefreak<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157015 - Dwedit - Sat May 17, 2008 8:22 pm</h4>
    <div class="postbody"><span class="postbody">I don't think libfat currently implements Microsoft's extension for lowercase short filenames.
<br/>
<br/>
The Windows XP way of doing lowercase or mixed case short filenames:
<br/>
Byte 0x0C in a directory entry:
<br/>
Set bit 0x08 to make the basename lowercase
<br/>
set bit 0x10 to make the extension lowercase
<br/>
<br/>
For Mixed Case filenames:
<br/>
Create a LFN entry for the file, but keep the short filename the same.
<br/>
<br/>
Maybe we should modify Libfat to do this stuff.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157023 - tepples - Sat May 17, 2008 8:50 pm</h4>
    <div class="postbody"><span class="postbody">Chishm has made a <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=145560#145560" target="_blank">pre-release version of libfat</a> that (among other things) handles filename case properly. I have it installed on my copy of devkitARM as "libfat-pre" (&lt;fat-pre.h&gt; and -lfat-pre).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157025 - silent_code - Sat May 17, 2008 8:58 pm</h4>
    <div class="postbody"><span class="postbody">EDIT: don't bother reading, follow tepples' advise.
<br/>
<br/>
libfat is open source, you know.
<br/>
chinese tea... that's original! (at least to me) :^D "it makes no sense!"
<br/>
just test it out and see if conflicts arise. if they do, you may be able to modify the lib as needed.
<br/>
<br/>
i'm proably going to stop posting in this thread, because i can't help you any more than encouraging to take a look of the lib's inner workings. sorry!
<br/>
good luck. :^D
<br/>
<br/>
happy coding!<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><span style="text-decoration: underline"><span style="font-weight: bold"></span></span> July 5th 08: "<span style="font-weight: bold">Volumetric Shadow Demo</span>" 1.6.0 (final) source released
<br/>
June 5th 08: "<span style="font-weight: bold">Zombie NDS</span>" WIP released!
<br/>
It's all on my page, just click <span style="font-weight: bold">WWW</span> below.</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#157657 - thegamefreak0134 - Tue May 27, 2008 6:03 pm</h4>
    <div class="postbody"><span class="postbody">Well if it's an issue with libfat, I'll be nice and patient and wait for the updated version. I have no issues with that.
<br/>
<br/>
And yes, I was able to confirm (finally got my keyboard routine going in the program) that longer filenames are getting cased properly, as you said they would. Odd issue.
<br/>
<br/>
-gamefreak<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
