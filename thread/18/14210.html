<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Dev about my SFB game - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Dev about my SFB game</h2>
<div id="posts">
<div class="post">
    <h4>#141302 - yellowstar - Sun Sep 23, 2007 10:24 pm</h4>
    <div class="postbody"><span class="postbody">I am working on a 3D multiplayer game.
<br/>
(titled Star Fox Battle)
<br/>
(Right now, I haven't gotten to the actual game,
<br/>
or the online play, yet, but I will later)
<br/>
(It's a PC game right now,
<br/>
but I am going to port it later.)
<br/>
(Yes, I know Wii homebrew isn't possible right now)
<br/>
<br/>
<span style="font-weight: bold">
<br/>
For a discription of the game, click <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=141416#141416" target="_blank">here.</a>
<br/>
For the post about AI,(computers)
<br/>
in the game, click <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=141464#141464" target="_blank">here.</a>
<br/>
<br/>
Goto the most recent post for the current problems, issues,
<br/>
ect.
<br/>
<br/>
</span>
<br/>
<br/>
Anyway,
<br/>
Here's my question:
<br/>
<br/>
Would I have any problems,
<br/>
with doing online play,
<br/>
on the above platforms?(in the title)
<br/>
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span>
<br/>
By over differen't platforms,
<br/>
I meant some players could be
<br/>
on differen't platform(s),
<br/>
in each session.
<br/>
<br/>
So, one player could be on PC,
<br/>
another on DS,
<br/>
and another could possibly,(once Wii HB happens)
<br/>
be on Wii.</span><span class="gensmall"><br/><br/>Last edited by yellowstar on Fri Dec 07, 2007 12:46 am; edited 13 times in total</span></div>    
</div>
<div class="post">
    <h4>#141306 - Lick - Sun Sep 23, 2007 10:58 pm</h4>
    <div class="postbody"><span class="postbody">Well, technically behind-the-scenes, no. But if you mean player advantages/disadvantages then anyone can think of obvious difficulties.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141322 - spinal_cord - Mon Sep 24, 2007 2:36 am</h4>
    <div class="postbody"><span class="postbody">I hope you do well with this project, I would love to see a multi-platform multi-player game.
<br/>
<br/>
[slightly off topic]
<br/>
Another thing I would like to see would be the same game on two different platforms (perhaps with graphic differences, showing the power each platform has) but have the save data the same format, so you can play perhaps a PC version of a game, copy the save data to the nds card then continue playing on the move.<br/>_________________<br/>I'm not a boring person, it's just that boring things keep happening to me.
<br/>
<a class="postlink" href="http://spinal.dizidesigns.co.uk/" target="_blank">Homepage</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141340 - melw - Mon Sep 24, 2007 7:46 am</h4>
    <div class="postbody"><span class="postbody">Well, yes no homebrew for Wii (besides Gamecube support) right now. 
<br/>
<br/>
Besides that, why not? If you can pull out equivalent support in features on each platform there's nothing to stop you. DSWiFi library gives you similar possibilities as using Berkeley sockets on Linux/OSX or Winsock on PC Windows. You should perhaps consider not doing strictly realtime games with cross-platform in mind as framerates, network speeds, control methods etc. vary from DS to available computers quite a bit.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141416 - yellowstar - Tue Sep 25, 2007 3:32 am</h4>
    <div class="postbody"><span class="postbody">Thanks!
<br/>
<br/>
@spinal_cord:
<br/>
This game,(at first anyway)
<br/>
is multiplayer only.
<br/>
<br/>
But, if I implement a save game
<br/>
feature, that would be a good idea.
<br/>
<br/>
Before I port it to Wii,(when Wii HB happens)
<br/>
I will port it to Gamecube.(Since the NGC dosen't support WiFi,
<br/>
it won't have a online mode. Only a local mode.)
<br/>
<br/>
Later,
<br/>
I am going to setup my own,
<br/>
small, web site,
<br/>
with a section for this game.
<br/>
<br/>
<br/>
Here's another detail about this game:
<br/>
Everything can be modified.
<br/>
That is, you can create your own weapons,
<br/>
levels, characters, Arwings/Wolfens, and more!
<br/>
(For the Air vehicles,
<br/>
that means you can create your own Air vehicle,
<br/>
with its own model, sound, and code.
<br/>
You can do similar things with the other stuff.
<br/>
For weapons, you can make it do almost anything you want.)
<br/>
<br/>
Another detail:
<br/>
There is a feature, called Bonus Packs.
<br/>
These Bonus Packs are basicly packs of extra content.(This content is the
<br/>
same content you can create for the game(see above))
<br/>
Plus, these Bonus Packs can be created by anybody.
<br/>
Also, all or some of the stuff in these packs can be unlocked.
<br/>
That is, the player would need to play multiplayer,(or something
<br/>
for it)
<br/>
a certain number of times to unlock it.
<br/>
Another thing:
<br/>
Bonus Packs,
<br/>
and their content,
<br/>
can be deactivated.(Or whatever you want to call it)
<br/>
In other words,
<br/>
you can't use that content till it is activated.
<br/>
<br/>
<br/>
<br/>
At first,
<br/>
you can only battle in Arwings/Wolfens. 
<br/>
The reason for this, is, 
<br/>
trying to implement pilot mode and 
<br/>
Landmaster,
<br/>
would be difficult.
<br/>
I will try to do that,
<br/>
after I finish the Arwing/Wolfen mode,
<br/>
and some other things.
<br/>
<br/>
(I have a model of the Arwing,
<br/>
but, it isn't the SF: Assualt version, which I want.
<br/>
I will use the one I have, unless
<br/>
somebody makes one. And for the Wolfen, I don't have any
<br/>
models.)
<br/>
<br/>
The reason why it is a multiplayer-only game, is,
<br/>
the above.
<br/>
I am not going to make a single-player story
<br/>
mode,
<br/>
with only a Arwing/Wolfen mode.</span><span class="gensmall"><br/><br/>Last edited by yellowstar on Wed Sep 26, 2007 1:58 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#141458 - tepples - Tue Sep 25, 2007 8:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar wrote:</b></span></td> </tr> <tr> <td class="quote">The reason why it is a multiplayer-only game, is,
<br/>
the above.
<br/>
I am not going to make a single-player story
<br/>
mode,
<br/>
with only a Arwing/Wolfen mode.</td> </tr></table><span class="postbody">
<br/>
No bots? Or would those just be too hard to make?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141464 - yellowstar - Tue Sep 25, 2007 10:20 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar wrote:</b></span></td> </tr> <tr> <td class="quote">The reason why it is a multiplayer-only game, is,
<br/>
the above.
<br/>
I am not going to make a single-player story
<br/>
mode,
<br/>
with only a Arwing/Wolfen mode.</td> </tr></table><span class="postbody">
<br/>
No bots? Or would those just be too hard to make?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I could try.
<br/>
<br/>
But, I never made an AI bot
<br/>
for a game like this, before.
<br/>
<br/>
I made AI for a few games,
<br/>
but those were board games,
<br/>
not action games, like this.
<br/>
<br/>
When I said no single player mode,
<br/>
I meant no story mode.
<br/>
<br/>
<span style="font-weight: bold">&lt;EDIT&gt;</span>
<br/>
I forgot to mention something.
<br/>
At first, the levels you battle in,
<br/>
is completly empty.
<br/>
This means you can't bang into anything,
<br/>
other than the level's boundarys.
<br/>
<span style="font-weight: bold">&lt;/EDIT&gt;</span>
<br/>
<br/>
For all the vehicles,
<br/>
they can have custom code.
<br/>
<br/>
First, there is a interface DLL,
<br/>
which passes data sent to it,
<br/>
to the Driver.
<br/>
Whenever a player,(human or computer)
<br/>
wants to do an action,(like changing direction, shooting, ect.)
<br/>
it passes the keys pressed,
<br/>
to the Interface.
<br/>
<br/>
The Driver performs actions,
<br/>
based on the data sent to it.
<br/>
This data includes which keys were pressed.
<br/>
This data is generic.
<br/>
That is, when P1 pressed his up key,
<br/>
the Driver and Interface
<br/>
only know that the player pressed his up button.
<br/>
The keycode is not sent, only which keys were pressed.
<br/>
The Driver can do more.
<br/>
It can do special effects for the actions.
<br/>
It can preform these special effects at any time.
<br/>
<br/>
These actions are actions all the Drivers must have.
<br/>
Like moving, changing direction,
<br/>
special manuvers,((Arwings/Wolfens only)
<br/>
Like Loop-the-Loop, and turning around, when
<br/>
the plane leaves the level's boundarys)
<br/>
shooting, dodging, ect.
<br/>
<br/>
In this way,
<br/>
the vehicles can be handled
<br/>
very easily.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141646 - yellowstar - Thu Sep 27, 2007 11:32 pm</h4>
    <div class="postbody"><span class="postbody">I have a new problem,
<br/>
with porting.(I haven't started porting, this is a problem
<br/>
I will run into, if not resolved before I start porting.)
<br/>
<br/>
<br/>
This game uses DLLs.
<br/>
<br/>
Not only does it use them for customization,
<br/>
it also uses them for the actual game.
<br/>
(Engine, game states, ect.)
<br/>
<br/>
And, all the platforms
<br/>
which it will be ported to,
<br/>
don't support DLLs.(That I know of.)
<br/>
<br/>
I'm not taking customization out.
<br/>
That's what this game is all about.
<br/>
(Other than  multiplayer and ect.)
<br/>
<br/>
<br/>
The DLLs mainly use exported functions.
<br/>
There are some DLLs,
<br/>
called Helpers,
<br/>
which export classes.
<br/>
But, those don't change very often,
<br/>
so they could be changed into static librarys.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141648 - Dan2552 - Thu Sep 27, 2007 11:40 pm</h4>
    <div class="postbody"><span class="postbody">can't you replicate the kind of things which the DLLs do in your own custom code?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141652 - yellowstar - Thu Sep 27, 2007 11:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dan2552 wrote:</b></span></td> </tr> <tr> <td class="quote">can't you replicate the kind of things which the DLLs do in your own custom code?</td> </tr></table><span class="postbody">
<br/>
<br/>
No.
<br/>
This game is all about customization.(with custom code)
<br/>
And I can't have customization,
<br/>
with custom code,
<br/>
without DLLs.(or some other way of doing something similar.)
<br/>
<br/>
If you mean writing my own code
<br/>
for handling DLLs,
<br/>
I don't know much about that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141675 - Mighty Max - Fri Sep 28, 2007 5:12 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
This game is all about customization.(with custom code)
<br/>
And I can't have customization,
<br/>
with custom code,
<br/>
without DLLs.(or some other way of doing something similar.)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Sure you can, it's called open source.<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141686 - melw - Fri Sep 28, 2007 9:13 am</h4>
    <div class="postbody"><span class="postbody">Well, don't choose to use external libraries that are only available for Win32? Doing my own cross-platform engine (currently supporting Win32/Linux/OSX-PPC/OSX-Intel/NDS) I chose to use SDL library for graphics+input and FMOD lib for sounds - both have a wide range of supported platforms - only bits you need to code then on your own is the correspondent gfx/audio stuff for NDS (and GPF has also ported SDL for NDS, if you need/want to use SDL on DS).
<br/>
<br/>
Not getting into any specifics, but keeping things simple will help you a lot when doing cross-platform applications. Also, limit the program in such way what the DS can do, or at least by doing funky stuff on highend-PC's, don't cripple the DS version. Getting something working on PC that runs well on DS is a charm, doing it other way around will give you easily headaches.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141687 - simonjhall - Fri Sep 28, 2007 9:20 am</h4>
    <div class="postbody"><span class="postbody">Messing around with dynamically-loaded code at this stage would be a mistake - instead, design the interfaces to the code which can be dropped-in in a nice and clean way. That way you can statically link you program until it reaches a stable state, and only when you have the time to do dynamically-loaded code mess around with the complexities of doing this.<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141728 - yellowstar - Fri Sep 28, 2007 9:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Mighty Max wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
This game is all about customization.(with custom code)
<br/>
And I can't have customization,
<br/>
with custom code,
<br/>
without DLLs.(or some other way of doing something similar.)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Sure you can, it's called open source.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I wasn't thinking about that when I wrote that.
<br/>
<br/>
If  I were to do it that way,
<br/>
it would have to be rebuilt every time
<br/>
when custom code is changed.
<br/>
<br/>
And, using custom code made
<br/>
by other people,
<br/>
and other code,
<br/>
wouldn't be easy.
<br/>
<br/>
And I'd perfer to do it dynamiclly.
<br/>
<br/>
I guess,
<br/>
once I start the porting,
<br/>
I'll do what simon said.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142142 - yellowstar - Fri Oct 05, 2007 1:57 am</h4>
    <div class="postbody"><span class="postbody">This Project is going nowhere at the moment.
<br/>
<br/>
Click here for <a class="postlink" href="http://www.gamedev.net/community/forums/topic.asp?topic_id=464203" target="_blank">why.</a>
<br/>
<br/>
If anybody wants to help,
<br/>
post here, or PM me.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142150 - simonjhall - Fri Oct 05, 2007 7:43 am</h4>
    <div class="postbody"><span class="postbody">What is texID? Is it an int?
<br/>
Because if so I'm pretty sure that</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"> glGenTextures(1,tgaimage-&gt;texID);
<br/>
   glBindTexture(GL_TEXTURE_2D, *tgaimage-&gt;texID);</td> </tr></table><span class="postbody">isn't right. Shouldn't it be</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"> glGenTextures(1,&amp;tgaimage-&gt;texID);
<br/>
   glBindTexture(GL_TEXTURE_2D, tgaimage-&gt;texID);</td> </tr></table><span class="postbody">
<br/>
Also, the DS doesn't support 'OpenGL' in the same way that a PC may support OpenGL, so there are often differences between the two systems... (especially with texture co-ordinates)<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142167 - yellowstar - Fri Oct 05, 2007 5:42 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>simonjhall wrote:</b></span></td> </tr> <tr> <td class="quote">What is texID? Is it an int?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
It's an pointer to an unsigned int.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
unsigned int *texID;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
It points to a local var in the LoadTexture
<br/>
function.
<br/>
<br/>
The LoadTexture function returns the value
<br/>
of this var.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142188 - zeruda - Fri Oct 05, 2007 10:24 pm</h4>
    <div class="postbody"><span class="postbody">Well, here's a tga texture loading class I made for PC, haven't ported it to DS though. The Create() function calls TGA_Texture function which calls Load TGA. You choose the texture ID yourself which is held in TextureArray[50] so they under your control. You access it by the array index(in this case 0 to 49). Each element is a UINT handled and managed by OpenGL, you don't need to worry about it, you just worry about the array index. In this case the create function loads 3 textures, into index 0, 7 and 31.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#ifndef _TEXTURETGA_H
<br/>
#define _TEXTURETGA_H
<br/>
<br/>
#include &lt;windows.h&gt;
<br/>
#include &lt;gl/gl.h&gt;
<br/>
#include &lt;gl/glu.h&gt;
<br/>
<br/>
#include &lt;stdio.h&gt;
<br/>
<br/>
#define TGA_RGB      2
<br/>
#define TGA_A      3
<br/>
#define TGA_RLE      10
<br/>
<br/>
class CTextureTGA
<br/>
{
<br/>
    public:
<br/>
        void Create();
<br/>
        void TGA_Texture(UINT textureArray[], LPSTR strFileName, int textureID);
<br/>
        UINT TextureArray[50]; // Space for 50 texture IDs
<br/>
    private:
<br/>
        bool Load_TGA(const char *filename);
<br/>
<br/>
       int tchannels;
<br/>
       int size_x;
<br/>
       int size_y;
<br/>
       unsigned char *data;
<br/>
};
<br/>
<br/>
extern CTextureTGA TextureTGA;
<br/>
<br/>
#endif
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "TextureTGA.h"
<br/>
<br/>
// load the textures passing in the texture ID.
<br/>
void CTextureTGA::Create()
<br/>
{
<br/>
    TGA_Texture(TextureArray, "texture/woodtexture.tga",    0); // Load wood texture into TextureArray[0]
<br/>
    TGA_Texture(TextureArray, "texture/head.tga",           31); // Load head texture into TextureArray[31]
<br/>
    TGA_Texture(TextureArray, "texture/LeftShoulder.tga",   7);
<br/>
}
<br/>
<br/>
void CTextureTGA::TGA_Texture(UINT textureArray[], LPSTR strFileName, int ID)
<br/>
{
<br/>
   if(strFileName) {
<br/>
        if (Load_TGA(strFileName)) {
<br/>
           glGenTextures(1, &amp;textureArray[ID]);
<br/>
           glBindTexture(GL_TEXTURE_2D, textureArray[ID]);
<br/>
           int textureType = GL_RGB;
<br/>
           if(tchannels == 4) { textureType = GL_RGBA; }
<br/>
           gluBuild2DMipmaps(GL_TEXTURE_2D, tchannels, size_x, size_y, textureType, GL_UNSIGNED_BYTE, data);
<br/>
          glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_LINEAR);
<br/>
          glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR_MIPMAP_NEAREST);
<br/>
       }
<br/>
   }
<br/>
}
<br/>
<br/>
bool CTextureTGA::Load_TGA(const char *strfilename)
<br/>
{
<br/>
    FILE *pFile         = NULL;
<br/>
    WORD width = 0; WORD height = 0;
<br/>
    byte length = 0; byte imgType = 0; byte bits = 0;
<br/>
   int channels = 0; int stride = 0;
<br/>
   int i = 0;
<br/>
   
<br/>
   if((pFile = fopen(strfilename, "rb")) == NULL)  { return false; }
<br/>
<br/>
   /////// READ IMAGE DATA ///////////////
<br/>
   fread(&amp;length, sizeof(byte), 1, pFile);
<br/>
   fseek(pFile,1,SEEK_CUR); 
<br/>
   fread(&amp;imgType, sizeof(byte), 1, pFile);
<br/>
   fseek(pFile, 9, SEEK_CUR); 
<br/>
   fread(&amp;width,  sizeof(WORD), 1, pFile);
<br/>
   fread(&amp;height, sizeof(WORD), 1, pFile);
<br/>
   fread(&amp;bits,   sizeof(byte), 1, pFile);
<br/>
   fseek(pFile, length + 1, SEEK_CUR); 
<br/>
   
<br/>
   if(imgType != TGA_RLE) {
<br/>
      // Check for 24 or 32 Bit
<br/>
      if(bits == 24 || bits == 32) {
<br/>
         channels = bits / 8;
<br/>
         stride = channels * width;
<br/>
         data = new unsigned char[stride * height];
<br/>
         
<br/>
         for(int y = 0; y &lt; height; y++) {
<br/>
            unsigned char *pLine = &amp;(data[stride * y]);
<br/>
            fread(pLine, stride, 1, pFile);
<br/>
            for(i = 0; i &lt; stride; i += channels) {
<br/>
               int temp     = pLine[i];
<br/>
               pLine[i]     = pLine[i + 2];
<br/>
               pLine[i + 2] = temp;
<br/>
            }
<br/>
         }
<br/>
      } else if(bits == 16) {
<br/>
         unsigned short pixels = 0;
<br/>
         int r=0, g=0, b=0;
<br/>
         
<br/>
         channels = 3;
<br/>
         stride = channels * width;
<br/>
         data = new unsigned char[stride * height];
<br/>
         
<br/>
         for(int i = 0; i &lt; width*height; i++) {
<br/>
            fread(&amp;pixels, sizeof(unsigned short), 1, pFile);
<br/>
            
<br/>
            b = (pixels &amp; 0x1f) &lt;&lt; 3;
<br/>
            g = ((pixels &gt;&gt; 5) &amp; 0x1f) &lt;&lt; 3;
<br/>
            r = ((pixels &gt;&gt; 10) &amp; 0x1f) &lt;&lt; 3;
<br/>
            
<br/>
            data[i * 3 + 0] = r;
<br/>
            data[i * 3 + 1] = g;
<br/>
            data[i * 3 + 2] = b;
<br/>
         }
<br/>
      } else {
<br/>
         return false;
<br/>
        }
<br/>
   } else {
<br/>
      byte rleID = 0;
<br/>
      int colorsRead = 0;
<br/>
      channels = bits / 8;
<br/>
      stride = channels * width;
<br/>
      
<br/>
      data = new unsigned char[stride * height];
<br/>
      byte *pColors = new byte [channels];
<br/>
      
<br/>
      while(i &lt; width*height) {
<br/>
         fread(&amp;rleID, sizeof(byte), 1, pFile);
<br/>
         if(rleID &lt; 128) {
<br/>
            rleID++;
<br/>
            while(rleID) {
<br/>
               fread(pColors, sizeof(byte) * channels, 1, pFile);
<br/>
               
<br/>
               data[colorsRead + 0] = pColors[2];
<br/>
               data[colorsRead + 1] = pColors[1];
<br/>
               data[colorsRead + 2] = pColors[0];
<br/>
               
<br/>
               if(bits == 32) { data[colorsRead + 3] = pColors[3]; }
<br/>
               i++;
<br/>
               rleID--;
<br/>
               colorsRead += channels;
<br/>
            }
<br/>
         } else {
<br/>
            rleID -= 127;
<br/>
            fread(pColors, sizeof(byte) * channels, 1, pFile);
<br/>
            
<br/>
            while(rleID) {
<br/>
               data[colorsRead + 0] = pColors[2];
<br/>
               data[colorsRead + 1] = pColors[1];
<br/>
               data[colorsRead + 2] = pColors[0];
<br/>
               
<br/>
               if(bits == 32)   { data[colorsRead + 3] = pColors[3]; }
<br/>
               i++;
<br/>
               rleID--;
<br/>
               colorsRead += channels;
<br/>
            }
<br/>
         }
<br/>
      }
<br/>
   }
<br/>
   fclose(pFile);
<br/>
   tchannels  = channels;
<br/>
   size_x    = width;
<br/>
   size_y    = height;
<br/>
   return true;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
In your main.cpp or whatever you create an instance of the TextureTGA class. Then initialise it and call the create function. (you can get rid of this and just directly call the TGA_Texture function to load them within your code.)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
CTextureTGA TextureTGA;
<br/>
<br/>
bool Initialise ()              //Initialise OpenGL settings
<br/>
{
<br/>
    glEnable (GL_TEXTURE_2D);
<br/>
    TextureTGA.Create();
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Then you bind your textures as you need them.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
glBindTexture (GL_TEXTURE_2D, TextureTGA.TextureArray[7]);
<br/>
DrawTriangle(); // Draw with Texture index 7
<br/>
glBindTexture (GL_TEXTURE_2D, TextureTGA.TextureArray[31]);
<br/>
DrawTriangle(); // Draw with Texture index 31
<br/>
glBindTexture (GL_TEXTURE_2D, 0);
<br/>
DrawTriangle(); // Draw without texture index(in other words without any texture at all)
<br/>
glBindTexture (GL_TEXTURE_2D, TextureTGA.TextureArray[0]);
<br/>
DrawTriangle(); // Draw with Texture index 0
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142190 - yellowstar - Fri Oct 05, 2007 10:58 pm</h4>
    <div class="postbody"><span class="postbody">I have updated the actual topic.(the topic on gamedev)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar on gamedev wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I have found out why one of the values
<br/>
was way to big.
<br/>
<br/>
It was a result of a mistake in some debugging code.
<br/>
Now all of it is zero in all cases.
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
All the loaders I have tried to use
<br/>
in this program wouldn't work.
<br/>
<br/>
And they work in the demo program
<br/>
which comes with them.
<br/>
<br/>
It must be something other than
<br/>
the texture creation and TGA loading.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#142320 - yellowstar - Mon Oct 08, 2007 2:52 am</h4>
    <div class="postbody"><span class="postbody">I have updated the actual topic.(the topic on gamedev)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar on gamedev wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I have dumped the converted image,
<br/>
and had it displayed in a seperate program.
<br/>
It worked.
<br/>
<br/>
So,
<br/>
the problem is the gl commands,
<br/>
not the loading code.
<br/>
<br/>
That is,
<br/>
the texture creation gl function calls.
<br/>
<br/>
But,
<br/>
that code is correct.
<br/>
It works in other programs.
<br/>
<br/>
So,
<br/>
something must be messing it up.
<br/>
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143386 - yellowstar - Sat Oct 20, 2007 5:35 pm</h4>
    <div class="postbody"><span class="postbody">I have updated the actual topic.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar on gamedev wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I have Solved it!!!!(the texture problem)
<br/>
<br/>
I found the problem via a debugger mentioned
<br/>
in my Ogl debugger topic.(GLintercept)
<br/>
(Basic settings found it.)
<br/>
<br/>
Here,
<br/>
I was doing ogl init,(enabling textures)
<br/>
and creating textures,
<br/>
BEFORE the window and ogl context was created!(Window creation and ect.
<br/>
was in a function similar to main.
<br/>
I moved that into a seperate function.)
<br/>
<br/>
Once I did the stuff mentioned in the parentheses,
<br/>
it worked!!!
<br/>
<br/>
The colors and ect.
<br/>
weren't correct.
<br/>
<br/>
But,
<br/>
that's my TGA loader causing that.
<br/>
I should be able to fix it.
<br/>
If not,
<br/>
I'll post here.
<br/>
<br/>
I'm having another problem.
<br/>
<br/>
On my computer,(tested on XP, works on my 98)
<br/>
when I exit the program,
<br/>
it throws the following error:(similar to it)
<br/>
'The instruction at address 0x7c910f29 refrenced memory at address 0x00000000
<br/>
The memory could not be "read" '
<br/>
<br/>
Click here(link removed)
<br/>
if you want to help with this problem.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
link:
<br/>
<a href="http://www.gamedev.net/community/forums/topic.asp?topic_id=469011" target="_blank">http://www.gamedev.net/community/forums/topic.asp?topic_id=469011</a>
<br/>
(for some reason, I couldn't get the the url tag to work right,
<br/>
so I just posted the url.)
<br/>
<br/>
<br/>
I have decided to stop posting here,
<br/>
about PC problems for this game.
<br/>
I will post here,
<br/>
later, about
<br/>
porting problems.
<br/>
<br/>
However,
<br/>
I will edit this post,
<br/>
or a differen't post,
<br/>
to let anybody that reads this,
<br/>
know about
<br/>
updates, current developments,
<br/>
and bugs, and ect.
<br/>
<br/>
Also,
<br/>
I will still post here about concepts for this game.
<br/>
(more features in this game,
<br/>
more info about this game, and ect.)
<br/>
<br/>
<br/>
<br/>
For Multiplayer,
<br/>
there will be an mode called local.
<br/>
<br/>
For PC,
<br/>
this means playing split-screen.
<br/>
Also,
<br/>
there will a option inwhich you can
<br/>
play with people over your network.
<br/>
<br/>
You don't have to use the options.
<br/>
Also,
<br/>
you can also disable the main mode
<br/>
and use only the options.
<br/>
Like, on PC,
<br/>
play on only the network.
<br/>
<br/>
Also,
<br/>
there are devices,(the platforms being played on,i.e. PC,DS,Wii,ect.)
<br/>
which can act as stations.
<br/>
These stations,
<br/>
act as a device which communicates
<br/>
with other devices,
<br/>
via the options.
<br/>
The stations
<br/>
are basicly servers,
<br/>
which are connected to another server.
<br/>
<br/>
So,
<br/>
a DS which acts as a station,
<br/>
would send and receive messages to and from it's
<br/>
server, and forward the messages sent to it,
<br/>
to it's server,
<br/>
and the messages sent to it from it's server,
<br/>
to it's clients.
<br/>
<br/>
For example,(see below)
<br/>
In a DS-Wii battle,
<br/>
one DS could communicate with
<br/>
other DSes, and possiblely with other
<br/>
Wiis, if wanted.
<br/>
<br/>
For DS,
<br/>
local means local wireless multiplayer.(once the lib is ready)
<br/>
Also,(once Wii HB happens, and when we crack the WiFi and local wireless)
<br/>
the DS could have multiplayer play
<br/>
with the Wii,
<br/>
over local wireless.
<br/>
<br/>
For Wii,
<br/>
local means split-screen multiplayer.
<br/>
Also,
<br/>
it could have Wii-DS comms.
<br/>
So,
<br/>
the Wii could communicate with other Wiis,
<br/>
and with DSes.(both could act as stations.)
<br/>
<br/>
For NGC,
<br/>
local mode means only split-screen multiplayer.
<br/>
No local wireless or WiFi,
<br/>
since the NGC dosen't have such things.
<br/>
<br/>
This mode,
<br/>
and all additional options,(All of the stuff mentioned for multiplayer above)
<br/>
can be used in online play.
<br/>
<br/>
So,
<br/>
it would be possible,
<br/>
for all platforms,(except NGC)
<br/>
to play together,
<br/>
locally.
<br/>
And,
<br/>
they could use WiFi to connect together if needed.
<br/>
<br/>
<br/>
Is the above ideas feasible?(the ideas about stations,
<br/>
and connecting them through WiFi.)
<br/>
That is,
<br/>
would there be slow-downs, lag, ect?
<br/>
If so,
<br/>
would there be ways to fix it,
<br/>
or minimalize them?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143388 - yellowstar - Sat Oct 20, 2007 5:58 pm</h4>
    <div class="postbody"><span class="postbody">If anybody has any ideas,
<br/>
please go ahead and post.(if you want, PM me)
<br/>
(I already have lots of ideas,
<br/>
but I welcome more.)
<br/>
<br/>
Note that,
<br/>
once I get to the porting point,
<br/>
please confine the ideas to PMs to me.(no posting about ideas
<br/>
for the game, just dev at that point.(PM me instead about ideas))</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143390 - melw - Sat Oct 20, 2007 6:09 pm</h4>
    <div class="postbody"><span class="postbody">You do have big plans and at least lack of ambition isn't going to be a problem. However, I'd strongly suggest you get your engine and framework finished (or at least somewhat working) before getting too much into time consuming details. What you're describing here is easily months of work even for an experienced programmer.
<br/>
<br/>
Easiest thing is to get first a game running on PC and keeping in mind the other platforms when it comes to visual assets, input, sounds, networking and performance. Debugging and testing on PC is also whole lot easier than on any other platform.
<br/>
<br/>
Good luck!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#143391 - yellowstar - Sat Oct 20, 2007 6:17 pm</h4>
    <div class="postbody"><span class="postbody">I'm not going to try to start implementing multiplayer and the other ideas
<br/>
untill after I get the Engine and ect. to work correctly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145468 - yellowstar - Fri Nov 16, 2007 2:25 am</h4>
    <div class="postbody"><span class="postbody">The following isn't a DS-related
<br/>
Question,
<br/>
but,
<br/>
since there are people here that
<br/>
don't use Windows,
<br/>
I thought I'd ask it here.
<br/>
<br/>
Is it possible to compile Non-Windows(the running OS)
<br/>
programs,(libs, DLLs, and exes)
<br/>
on a Windows PC?(I'm not starting porting right now.)
<br/>
(I was going to release my FCopy app,
<br/>
but it only works on Windows.)
<br/>
(And not everybody uses Windows.)
<br/>
<br/>
For example,
<br/>
compiling a Linux program
<br/>
on Windows.
<br/>
<br/>
I'm using Dev-Cpp.
<br/>
<br/>
If not,
<br/>
I would have to find
<br/>
some people to compile(and test)
<br/>
it.
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span>
<br/>
I didn't remember how
<br/>
hard it is to keep systems in sync in networking,
<br/>
when I started Pong,
<br/>
and when I decided to implement that in this game.
<br/>
(I read about that before,
<br/>
but never could try it until Pong.)
<br/>
<br/>
I'm going to need lots of practice
<br/>
before I implement networking in this game.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145522 - tepples - Sat Nov 17, 2007 4:30 am</h4>
    <div class="postbody"><span class="postbody">If you are compiling for GNU/Linux, you will need to test on GNU/Linux. You could always use Microsoft Virtual PC to run Xubuntu inside Windows.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145552 - yellowstar - Sat Nov 17, 2007 8:18 pm</h4>
    <div class="postbody"><span class="postbody">What exactly is Xubuntu?
<br/>
When I googled,
<br/>
most the entries said it is an OS.
<br/>
<br/>
What is the whole
<br/>
list of the OSes
<br/>
that Windows Virtual PC
<br/>
can emulate?(or whatever it's called)
<br/>
(The only non-Windows OS on the list,
<br/>
was OS/2)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145554 - tepples - Sat Nov 17, 2007 8:51 pm</h4>
    <div class="postbody"><span class="postbody">I was using Xubuntu as an example of a lightweight GNU/Linux based operating system.
<br/>
<br/>
Microsoft Virtual PC software emulates several operating systems. Microsoft does not provide technical support for all of them. But <a class="postlink" href="http://en.wikipedia.org/wiki/Virtual_PC#Emulating_Linux-based_environments" target="_blank">GNU/Linux does work</a>.
<br/>
<br/>
You might also have luck with VMware.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145662 - yellowstar - Tue Nov 20, 2007 3:57 am</h4>
    <div class="postbody"><span class="postbody">So,
<br/>
If I would use Virtual PC,(or some other virtualization software)
<br/>
with Linux installed,
<br/>
could I compile Linux programs?(with GNU/Linux)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145665 - tepples - Tue Nov 20, 2007 4:04 am</h4>
    <div class="postbody"><span class="postbody">Yes.
<br/>
<br/>
I'm not guaranteeing, but I'm at least 90 percent sure that if you install a Linux OS inside a sufficiently large virtual machine, you'll be able to compile and test programs inside the virtual machine.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145666 - yellowstar - Tue Nov 20, 2007 4:10 am</h4>
    <div class="postbody"><span class="postbody">When installing a OS with Virtual PC,
<br/>
is it the actual OS?
<br/>
<br/>
That is,
<br/>
does it include all the files and ect,
<br/>
when installing an OS?(That is,
<br/>
is it similar to the files of the real OS)
<br/>
<br/>
Or, is it emulated,
<br/>
with a small filesize?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145667 - tepples - Tue Nov 20, 2007 4:36 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar wrote:</b></span></td> </tr> <tr> <td class="quote">When installing a OS with Virtual PC,
<br/>
is it the actual OS?
<br/>
<br/>
That is,
<br/>
does it include all the files and ect,
<br/>
when installing an OS?(That is,
<br/>
is it similar to the files of the real OS)</td> </tr></table><span class="postbody">
<br/>
Yes.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Or, is it emulated,
<br/>
with a small filesize?</td> </tr></table><span class="postbody">
<br/>
There are large distributions of Linux, and there are small distributions of Linux. If you choose a small distro, it will be small inside the VM. If you choose a large distro, it will be large inside the VM.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145669 - yellowstar - Tue Nov 20, 2007 4:52 am</h4>
    <div class="postbody"><span class="postbody">I'd go with small.
<br/>
<br/>
What is the size of the small version?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146041 - yellowstar - Tue Nov 27, 2007 10:57 pm</h4>
    <div class="postbody"><span class="postbody">I have decided to add support for additional input devices.(PC)
<br/>
<br/>
I'm going to add Wiimote support.
<br/>
(This would be difficult to develop.
<br/>
This is because I don't have a Wii/wiimote.
<br/>
My relative has it.)
<br/>
Also, I might add Joystick support.
<br/>
(I'd have to find Joystick testers,
<br/>
as only my old 98 has a port for that,
<br/>
and it crashed the last time I tried to use Joysticks on it.)
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span>
<br/>
Another thing:
<br/>
Like everything else,
<br/>
programmers can create their own Input Device Drivers.
<br/>
(DLLs which handle input, like Wiimote, Joystick, Keyboard, ect.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146165 - yellowstar - Thu Nov 29, 2007 11:43 pm</h4>
    <div class="postbody"><span class="postbody">I have figured out a way
<br/>
to easily switch between DLLs and static libs.
<br/>
<br/>
There wouldn't be any exported functions.
<br/>
Instead,
<br/>
there would be a exported function
<br/>
which returns the addresses of the
<br/>
functions.(in a struct)
<br/>
<br/>
The host of the lib/DLL
<br/>
would call that exported function,
<br/>
and then store the function pointers,
<br/>
to be used later.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146171 - simonjhall - Fri Nov 30, 2007 12:40 am</h4>
    <div class="postbody"><span class="postbody">How will you build these libraries? If they're to be standalone files then you're probably gonna need a special linker script...<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146238 - yellowstar - Fri Nov 30, 2007 11:45 pm</h4>
    <div class="postbody"><span class="postbody">I would manually switch between DLL and static lib.
<br/>
(Shouldn't be to hard)
<br/>
(It would be great if I could build both at once.)
<br/>
(Or convert/switch between both easily)
<br/>
<br/>
I was using static librarys for the modules
<br/>
when I first started this project,
<br/>
but that didn't work with the way I was doing it.
<br/>
(I switched to DLLs after that)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146257 - yellowstar - Sat Dec 01, 2007 4:52 pm</h4>
    <div class="postbody"><span class="postbody">This idea works.
<br/>
I just need to get the engine working with this.
<br/>
(I have only tested it with DLLs)
<br/>
<br/>
I'm going to add a way to
<br/>
easily switch between DLL and static libs.
<br/>
<br/>
All I'd have to do,
<br/>
once done, is:
<br/>
define/undefine a define,
<br/>
add/remove some included headers,
<br/>
and add/remove the static library version of the modules.
<br/>
(and, of course, rebuild the modules if needed.)
<br/>
<br/>
I think I figured out why
<br/>
this game is crashing when
<br/>
I exit it on my WinXP.
<br/>
<br/>
I think I'm
<br/>
freeing the modules,
<br/>
before I'm completely done with them.
<br/>
<br/>
There's
<br/>
some function calls,
<br/>
in the Shell,
<br/>
which call DeInit functions in the modules.
<br/>
(When quitting)
<br/>
These functions seem to be called
<br/>
after the DLLs are freed.
<br/>
(It's odd that this isn't causing problems on my Win98)
<br/>
(The above comment is only valid,
<br/>
of course, if the above idea is the problem.)
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span>
<br/>
Well,
<br/>
the above idea about the crashes on WinXP
<br/>
failed.
<br/>
The function that frees the DLLs isn't
<br/>
being called at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146278 - yellowstar - Sat Dec 01, 2007 10:17 pm</h4>
    <div class="postbody"><span class="postbody">I'm having strange problems,
<br/>
with this new idea.(for getting the addresses of the functions.)
<br/>
<br/>
For some reason,
<br/>
the GetFunctions function in the Game
<br/>
module seems to be returning 0.
<br/>
(It's supposed to be the address
<br/>
of some arbitary data.)
<br/>
<br/>
Eventually,
<br/>
this causes a crash.
<br/>
<br/>
I'm still trying to find the problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146327 - yellowstar - Sun Dec 02, 2007 9:08 pm</h4>
    <div class="postbody"><span class="postbody">I have found one bug that was causing problems.
<br/>
<br/>
The index value passed to my functions
<br/>
which handle module loading(which has the above problem)
<br/>
was hard-coded.(Apparently, I forgot to fix
<br/>
that after I added the defines for that)
<br/>
(With the wrong values.)
<br/>
<br/>
But,
<br/>
it's still crashing.
<br/>
<br/>
I have a void* array,
<br/>
for this.
<br/>
<br/>
I tried changing it to an array struct
<br/>
which contains a void* var,
<br/>
but it still won't work.
<br/>
<br/>
For some reason,
<br/>
the only value that
<br/>
get's done correctly,
<br/>
is always the same.
<br/>
<br/>
They seem to always write to the
<br/>
same index.(with the same value.)
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span>
<br/>
Never mind out the above
<br/>
about the values of the array.
<br/>
<br/>
I was using Dev-Cpp's debugger for this.
<br/>
<br/>
The debug output from my game,
<br/>
for these addresses, seemed fine.
<br/>
<br/>
Any idea what's going on???</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#146630 - yellowstar - Fri Dec 07, 2007 12:45 am</h4>
    <div class="postbody"><span class="postbody">I have solved this strange crash.
<br/>
<br/>
The function pointers for one of modules
<br/>
was null.(not initialized correctly.)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yellowstar on gamedev wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Solved!
<br/>
<br/>
The indexes for the renderStates var
<br/>
was supposed to be zero-based.
<br/>
Instead,
<br/>
they were one-based.
<br/>
<br/>
There are only 2 indexes in
<br/>
the renderStates array,(the array that this var points to)
<br/>
for modules.
<br/>
One module's index was out of bounds.
<br/>
This meant that module's function pointers
<br/>
didn't get touched.
<br/>
(That would have caused another crash,
<br/>
if it weren't for some data after this array.)
<br/>
<br/>
Once I fixed this,
<br/>
it worked.
<br/>
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
