<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Tile scroller problem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Tile scroller problem</h2>
<div id="posts">
<div class="post">
    <h4>#83150 - Valmond - Sat May 13, 2006 11:52 am</h4>
    <div class="postbody"><span class="postbody">Hi !
<br/>
<br/>
I'v spent some days going through the DS part of the forum and
<br/>
lernt quite a lot (yep, I'm a noob to DS programming).
<br/>
I'v also gone through some tutorials and a lot of raw data
<br/>
found on a lot of sites...
<br/>
<br/>
So I have (finally :p) a text/tile background up and
<br/>
running, tileset, palette and mapdata loaded, youpi !
<br/>
<br/>
I'v just got two (minor I hope) problems :-)
<br/>
<br/>
The first is just that there are no transparent pixels...
<br/>
do you need to set this somewhere(I bet you do) or shouldn't
<br/>
<br/>
it be colorindex 0 in the palette or ... well how do you decide
<br/>
which colorindex should be transparent on a text/tile bg ?
<br/>
<br/>
<br/>
The second problem is different; I would like to use the text/tile
<br/>
background to make a scroller.
<br/>
<br/>
Thought that I should scroll sub-tile sized lengths (0..7) with the
<br/>
registers (BG0_X0 and BG0_Y0 etc) and move the mapdata
<br/>
for the rest.
<br/>
<br/>
Example :
<br/>
Scroller is in position 0
<br/>
Moving to the right is just loading BG0_X0 with 1,2,3....7
<br/>
then move the mapdata itself one step to the right and restart BG0_X0
<br/>
with 0,1,2....7 etc. (between VBlanks offcourse)
<br/>
<br/>
This however creates artefacts on the sides as the map is
<br/>
exactly the same size as the screen (32 tiles width) :
<br/>
(<a href="http://www.metamorphes.com/div/problem.png">[Images not permitted - Click here to view it]</a>)
<br/>
At the left some pixels actually comes from the tiles on the right
<br/>
side of the screen/map.
<br/>
<br/>
So my question is; can you make a(slightly) bigger map
<br/>
or is text/tile mode just for static backgrounds ?
<br/>
<br/>
<br/>
Cheers &amp; thanks !
<br/>
<br/>
/Valmond</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83153 - tepples - Sat May 13, 2006 1:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Valmond wrote:</b></span></td> </tr> <tr> <td class="quote">The first is just that there are no transparent pixels...
<br/>
do you need to set this somewhere(I bet you do) or shouldn't
<br/>
<br/>
it be colorindex 0 in the palette or ... well how do you decide
<br/>
which colorindex should be transparent on a text/tile bg ?</td> </tr></table><span class="postbody">
<br/>
It's always color index 0.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">[Scrolling horizontally on a 32x32 tile map] however creates artefacts on the sides as the map is
<br/>
exactly the same size as the screen (32 tiles width) :
<br/>
(<a href="http://www.metamorphes.com/div/problem.png">[Images not permitted - Click here to view it]</a>)
<br/>
At the left some pixels actually comes from the tiles on the right
<br/>
side of the screen/map.
<br/>
<br/>
So my question is; can you make a(slightly) bigger map
<br/>
or is text/tile mode just for static backgrounds ?</td> </tr></table><span class="postbody">
<br/>
You need to use a 64x32 tile map, or you need to use <span style="font-style: italic">Kirby Super Star</span>'s solution of using windows to cut off 4 pixels from each side.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83155 - Valmond - Sat May 13, 2006 2:12 pm</h4>
    <div class="postbody"><span class="postbody">Funny you always find what you'r searching for when you ask someone else for it :-)
<br/>
<br/>
I just found a tile-example with a "BG_32x32" in the reg-setup (I didn't
<br/>
have anything like it) so I tried a BG_64x32 and the define actually
<br/>
exists and it works !
<br/>
<br/>
So I dont need to use 'borders' or invisibilying windows but thanks for the tip !
<br/>
<br/>
<br/>
For the transparent pixels, I still cant get it to work though...
<br/>
for examle, after le palette setup &amp; load, if I do this :
<br/>
BG_PALETTE[0]=RGB15(15,7,0);
<br/>
the pixels "nr zero" all gets a cozy brown color...
<br/>
<br/>
Well, I'm not having more than one background moving around, but
<br/>
it should'nt be brown right ?
<br/>
<br/>
<br/>
And thanks for the time and the help !
<br/>
<br/>
/Valmond</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83165 - tepples - Sat May 13, 2006 4:22 pm</h4>
    <div class="postbody"><span class="postbody">If all layers are transparent at a given point, then the background will be brown (or whatever other color you have set as bg color 0).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83168 - Valmond - Sat May 13, 2006 5:13 pm</h4>
    <div class="postbody"><span class="postbody">I see, so it will actually be impossible to "see" the
<br/>
transparency with only one background !
<br/>
<br/>
Thanks again !
<br/>
<br/>
/Valmond</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83171 - tepples - Sat May 13, 2006 5:48 pm</h4>
    <div class="postbody"><span class="postbody">On the NES, Game Boy, Super NES, GBC, GBA, or Nintendo DS, the only way to see background transparency with one background is to put sprites behind that background.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
