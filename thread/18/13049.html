<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Could there be a dldi patch for DS emulators on PC? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Could there be a dldi patch for DS emulators on PC?</h2>
<div id="posts">
<div class="post">
    <h4>#126358 - thundrestrike - Sun Apr 22, 2007 4:21 pm</h4>
    <div class="postbody"><span class="postbody">Would it be possible to create a DLDI patch for some DS emulators on PC? Because then, it would be possible to run programs such as VGMDS on the emulator!
<br/>
<br/>
Is this a dream, or is it possible?<br/>_________________<br/>popcorn</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126365 - tepples - Sun Apr 22, 2007 5:59 pm</h4>
    <div class="postbody"><span class="postbody">I think the patch you need is FCSR, which is similar to GBFS in that it puts the file system in GBA ROM space.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126369 - ps2aich - Sun Apr 22, 2007 6:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">I think the patch you need is FCSR, which is similar to GBFS in that it puts the file system in GBA ROM space.</td> </tr></table><span class="postbody">
<br/>
<br/>
I think he means something like emulator specific custom SWIs or similar
<br/>
to 'breakout' the NDS sandbox and write to a sort of flash card image on
<br/>
the PC.
<br/>
<br/>
Does Desmume provide custom SWI's?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126372 - HyperHacker - Sun Apr 22, 2007 6:51 pm</h4>
    <div class="postbody"><span class="postbody">What would probably be best is a plugin system, where you select a plugin for your slot-2 card. Whenever memory access is made to slot-2 the plugin handles it, so it could e.g. emulate a GBAMP or M3 or what have you. However, more important things are necessary in the field of DS emulation right now.
<br/>
<br/>
Currently FCSR is the only system I know of. I wonder if Nitro FAT could be used? Surely the emulators support that.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126374 - tepples - Sun Apr 22, 2007 6:55 pm</h4>
    <div class="postbody"><span class="postbody">Those wouldn't be needed. An emulator would just have to emulate an ATA adapter in SLOT-2, and the MMD or GBAMP CF interface would work. But then, it might be hard to load files on and off this disk image because unlike Linux (losetup), Mac OS X (<a class="postlink" href="http://en.wikipedia.org/wiki/DiskImageMounter" target="_blank">DiskImageMounter</a>), and even Mac OS classic (<a class="postlink" href="http://en.wikipedia.org/wiki/Disk_Copy" target="_blank">Disk Copy</a>), Windows doesn't come with any sort of <a class="postlink" href="http://en.wikipedia.org/wiki/Loop_device" target="_blank">loopback driver</a> that allows mounting of the disk image as a Windows volume between runs of the emulator. There exist <a class="postlink" href="http://en.wikipedia.org/wiki/Disk_image_emulator" target="_blank">third-party loopback drivers</a> such as <a class="postlink" href="http://en.wikipedia.org/wiki/DAEMON_Tools" target="_blank">DAEMON Tools</a>, but the copy authentication of some commercial PC games <a class="postlink" href="http://en.wikipedia.org/wiki/Software_blacklist" target="_blank">intentionally interferes</a> with loopback drivers installed on the same machine.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126376 - ps2aich - Sun Apr 22, 2007 7:03 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Those wouldn't be needed. An emulator would just have to emulate an ATA adapter in SLOT-2, and the MMD or GBAMP CF interface would work. But then, it might be hard to load files on and off this disk image because unlike Linux (losetup), Mac OS X (<a class="postlink" href="http://en.wikipedia.org/wiki/DiskImageMounter" target="_blank">DiskImageMounter</a>), and even Mac OS classic (<a class="postlink" href="http://en.wikipedia.org/wiki/Disk_Copy" target="_blank">Disk Copy</a>), Windows doesn't come with any sort of <a class="postlink" href="http://en.wikipedia.org/wiki/Loop_device" target="_blank">loopback driver</a> that allows mounting of the disk image as a Windows volume between runs of the emulator. There exist <a class="postlink" href="http://en.wikipedia.org/wiki/Disk_image_emulator" target="_blank">third-party loopback drivers</a> such as <a class="postlink" href="http://en.wikipedia.org/wiki/DAEMON_Tools" target="_blank">DAEMON Tools</a>, but the copy authentication of some commercial PC games <a class="postlink" href="http://en.wikipedia.org/wiki/Software_blacklist" target="_blank">intentionally interferes</a> with loopback drivers installed on the same machine.</td> </tr></table><span class="postbody">
<br/>
<br/>
I agree with you, I also don't know a solution under Windows to easily
<br/>
and transparently access a kind of 'FAT' disk image, but the general idea is interesting ....</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126380 - tepples - Sun Apr 22, 2007 7:13 pm</h4>
    <div class="postbody"><span class="postbody">You could put the entire memory card in a USB reader and then translate ATA commands on the emulated hardware into direct sector I/O commands on the real memory card. The program would recognize that fatInitDefault() is being called, lock and unmount the disk using the OS, use sector I/O, and then mount and unlock the disk on fatUnmount() or power off.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126384 - HyperHacker - Sun Apr 22, 2007 7:31 pm</h4>
    <div class="postbody"><span class="postbody">Just emulating an ATA interface would work, sure, but plugins allow you to emulate nice things like motion sensors, extra RAM, etc. Basically emulating the actual slot-2 cards, rather than just providing a FAT interface.
<br/>
<br/>
Either way the disk image is a problem. You could provide a plugin for an imaginary slot-2 card that handles all the file I/O stuff itself at a high level, and a DLDI for it, that would just write things to GBA ROM to e.g. request a byte from a file, and the plugin would retrieve that byte and put it somewhere else in GBA ROM for the DLDI to read back. This way the plugin could use a directory structure on your hard disk instead of a disk image. Direct access to the card would have to fail, though.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126388 - Ant6n - Sun Apr 22, 2007 7:44 pm</h4>
    <div class="postbody"><span class="postbody">if there would be a plugin to emulate a certain hardware, maybe it would be possible to specify a directory that the plugin uses for hdd emulation. no need to use an actual drive image.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126389 - tepples - Sun Apr 22, 2007 7:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>HyperHacker wrote:</b></span></td> </tr> <tr> <td class="quote">Just emulating an ATA interface would work, sure, but plugins allow you to emulate nice things like motion sensors, extra RAM, etc. Basically emulating the actual slot-2 cards, rather than just providing a FAT interface.</td> </tr></table><span class="postbody">
<br/>
MAX Media Dock <span style="font-style: italic">is</span> just an ATA interface. As for motion sensors, how many people have a SIXAXIS or a Sidewinder Freestyle Pro?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Either way the disk image is a problem. You could provide a plugin for an imaginary slot-2 card that handles all the file I/O stuff itself at a high level, and a DLDI for it</td> </tr></table><span class="postbody">
<br/>
DLDI operates at the level of sectors. If you were to make a plug-in that operates at the level of files, it would need to be another devoptab driver (much like libfat itself) that gets linked into the program, not a DLDI file.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126391 - ps2aich - Sun Apr 22, 2007 8:18 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">You could put the entire memory card in a USB reader and then translate ATA commands on the emulated hardware into direct sector I/O commands on the real memory card. The program would recognize that fatInitDefault() is being called, lock and unmount the disk using the OS, use sector I/O, and then mount and unlock the disk on fatUnmount() or power off.</td> </tr></table><span class="postbody">
<br/>
<br/>
Or you simply implement direct sector wise access on a usb drive (or even a harddisk) in the Emulator-DLDI-Driver
<br/>
I found this <a class="postlink" href="http://support.microsoft.com/?scid=kb%3Ben-us%3B100027&amp;x=16&amp;y=10" target="_blank">article</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126394 - Moby Disk - Sun Apr 22, 2007 8:43 pm</h4>
    <div class="postbody"><span class="postbody">I asked this question in the DeSmuME forums.  It supposedly works, but several people have had trouble.  I tried asking in the no$gba forums since that is my favorite emulator, but the forums have vanished and I don't know enough german to ask the sysadmin to fix the link.
<br/>
<br/>
My post:
<br/>
<a class="postlink" href="http://forums.desmume.org/viewtopic.php?pid=375" target="_blank">http://forums.desmume.org/viewtopic.php?pid=375</a>
<br/>
<br/>
No$GBA: 
<br/>
<a class="postlink" href="http://nocash.emubase.de/gba.htm" target="_blank">http://nocash.emubase.de/gba.htm</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126397 - tepples - Sun Apr 22, 2007 9:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ps2aich wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">You could put the entire memory card in a USB reader and then translate ATA commands on the emulated hardware into direct sector I/O commands on the real memory card. The program would recognize that fatInitDefault() is being called, lock and unmount the disk using the OS, use sector I/O, and then mount and unlock the disk on fatUnmount() or power off.</td> </tr></table><span class="postbody">
<br/>
Or you simply implement direct sector wise access on a usb drive (or even a harddisk) in the Emulator-DLDI-Driver</span></td> </tr></table><span class="postbody">
<br/>
That's what I said. The emulator would need some way to detect when the program wants to read or write a sector on the drive, and emulating the ATA interface in the GBAMP or MMD would handle this. In addition, the user would expect to be able to read and write the drive after stopping the program, which is where the lock/mount stuff comes into play.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126416 - thundrestrike - Mon Apr 23, 2007 3:33 am</h4>
    <div class="postbody"><span class="postbody">yeuh, reading all this gave me a headache...
<br/>
<br/>
so is there a patch somewhere to let me use vgmds (that writes and loads files) on a pc emu such as desmume?<br/>_________________<br/>popcorn</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126426 - Lynx - Mon Apr 23, 2007 5:06 am</h4>
    <div class="postbody"><span class="postbody">Well, prior to R20's touchscreen not working on Dualis, it supported GBA MP writing to the hard drive for testing.  So I would guess you could have patched for GBA MP and it would have worked on Dualis.  I know it worked with Tales of Dagur's saving to disk.<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126430 - HyperHacker - Mon Apr 23, 2007 5:57 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">how many people have a SIXAXIS</td> </tr></table><span class="postbody">I'm guessing about 2,909,080. Be a bit silly to buy a PS3 without a controller.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126469 - tepples - Mon Apr 23, 2007 1:36 pm</h4>
    <div class="postbody"><span class="postbody">OK, how many people have a SIXAXIS and a Bluetooth receiver and are willing to use their PC with a DS emulator and DS homebrew that supports the Motion Card?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126495 - chuckstudios - Mon Apr 23, 2007 9:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">OK, how many people have a SIXAXIS and a Bluetooth receiver and are willing to use their PC with a DS emulator and DS homebrew that supports the Motion Card?</td> </tr></table><span class="postbody">
<br/>
<br/>
I know one person. (not me)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126535 - HyperHacker - Tue Apr 24, 2007 4:42 am</h4>
    <div class="postbody"><span class="postbody">Who here has a SIXAXIS, Wiimote or other motion-sensitive controller and a Bluetooth adapter?<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127448 - masscat - Wed May 02, 2007 3:51 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Those wouldn't be needed. An emulator would just have to emulate an ATA adapter in SLOT-2, and the MMD or GBAMP CF interface would work. But then, it might be hard to load files on and off this disk image because unlike Linux (losetup), Mac OS X (<a class="postlink" href="http://en.wikipedia.org/wiki/DiskImageMounter" target="_blank">DiskImageMounter</a>), and even Mac OS classic (<a class="postlink" href="http://en.wikipedia.org/wiki/Disk_Copy" target="_blank">Disk Copy</a>), Windows doesn't come with any sort of <a class="postlink" href="http://en.wikipedia.org/wiki/Loop_device" target="_blank">loopback driver</a> that allows mounting of the disk image as a Windows volume between runs of the emulator. There exist <a class="postlink" href="http://en.wikipedia.org/wiki/Disk_image_emulator" target="_blank">third-party loopback drivers</a> such as <a class="postlink" href="http://en.wikipedia.org/wiki/DAEMON_Tools" target="_blank">DAEMON Tools</a>, but the copy authentication of some commercial PC games <a class="postlink" href="http://en.wikipedia.org/wiki/Software_blacklist" target="_blank">intentionally interferes</a> with loopback drivers installed on the same machine.</td> </tr></table><span class="postbody">
<br/>
<br/>
Saw this thread and thought I would put some test code together for Desmume. More info over on the <a class="postlink" href="http://forums.desmume.org/viewtopic.php?id=102" target="_blank">desmume forums</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127504 - GPFerror - Thu May 03, 2007 12:47 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>masscat wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Those wouldn't be needed. An emulator would just have to emulate an ATA adapter in SLOT-2, and the MMD or GBAMP CF interface would work. But then, it might be hard to load files on and off this disk image because unlike Linux (losetup), Mac OS X (<a class="postlink" href="http://en.wikipedia.org/wiki/DiskImageMounter" target="_blank">DiskImageMounter</a>), and even Mac OS classic (<a class="postlink" href="http://en.wikipedia.org/wiki/Disk_Copy" target="_blank">Disk Copy</a>), Windows doesn't come with any sort of <a class="postlink" href="http://en.wikipedia.org/wiki/Loop_device" target="_blank">loopback driver</a> that allows mounting of the disk image as a Windows volume between runs of the emulator. There exist <a class="postlink" href="http://en.wikipedia.org/wiki/Disk_image_emulator" target="_blank">third-party loopback drivers</a> such as <a class="postlink" href="http://en.wikipedia.org/wiki/DAEMON_Tools" target="_blank">DAEMON Tools</a>, but the copy authentication of some commercial PC games <a class="postlink" href="http://en.wikipedia.org/wiki/Software_blacklist" target="_blank">intentionally interferes</a> with loopback drivers installed on the same machine.</td> </tr></table><span class="postbody">
<br/>
<br/>
Saw this thread and thought I would put some test code together for Desmume. More info over on the <a class="postlink" href="http://forums.desmume.org/viewtopic.php?id=102" target="_blank">desmume forums</a>.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
why not just use FCSR dldi, basically same process but is appended to end of nds/ds.gba and needs FCSR.dldi applied.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127510 - tepples - Thu May 03, 2007 12:59 am</h4>
    <div class="postbody"><span class="postbody">How hard is it to use FCSR's write support? Specifically, given a ds.gba using FCSR and its corresponding .sav file, how hard is it extract a file that the program has written?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127547 - GPFerror - Thu May 03, 2007 5:11 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">How hard is it to use FCSR's write support? Specifically, given a ds.gba using FCSR and its corresponding .sav file, how hard is it extract a file that the program has written?</td> </tr></table><span class="postbody">
<br/>
<br/>
Pretty difficult to create an image that can do it, not sure if there exist a program to automate the creation of an image that supports the SRAM part for writing. If there exists one, the fcsr.dldi patcher would need write support added to it.
<br/>
<br/>
Troy(GPF)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#127573 - masscat - Thu May 03, 2007 11:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>GPFerror wrote:</b></span></td> </tr> <tr> <td class="quote">why not just use FCSR dldi, basically same process but is appended to end of nds/ds.gba and needs FCSR.dldi applied.</td> </tr></table><span class="postbody">
<br/>
The GBAMP emulation is already in Desmume. The release and cvs versions desmume attempts to build a FAT file system from the directory the .nds file is in - no writing support and read sometimes does not work for me using linux. So it was a simple job to implement the disk image read and write functionality.
<br/>
<br/>
You can easily share the same disk image when running a number of homebrew programs (no appending to the .nds file).
<br/>
<br/>
Also I do not know what FCSR is and how it works on the target :).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128141 - masscat - Tue May 08, 2007 11:44 pm</h4>
    <div class="postbody"><span class="postbody">I have put together a <a class="postlink" href="http://masscat.afraid.org/ninds/tars/FATimageApp.jar" target="_blank">java application</a> for creating and copying files in and out of a FAT disk image.
<br/>
Run as:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">java -jar FATimageApp.jar</td> </tr></table><span class="postbody">
<br/>
It is not fully featured (short names only and no delete).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128155 - GPFerror - Wed May 09, 2007 2:02 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>masscat wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>GPFerror wrote:</b></span></td> </tr> <tr> <td class="quote">why not just use FCSR dldi, basically same process but is appended to end of nds/ds.gba and needs FCSR.dldi applied.</td> </tr></table><span class="postbody">
<br/>
The GBAMP emulation is already in Desmume. The release and cvs versions desmume attempts to build a FAT file system from the directory the .nds file is in - no writing support and read sometimes does not work for me using linux. So it was a simple job to implement the disk image read and write functionality.
<br/>
<br/>
You can easily share the same disk image when running a number of homebrew programs (no appending to the .nds file).
<br/>
<br/>
Also I do not know what FCSR is and how it works on the target :).</span></td> </tr></table><span class="postbody">
<br/>
<br/>
here is a thread that explains it pretty well,
<br/>
<a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=10772&amp;highlight=fcsr" target="_blank">http://forum.gbadev.org/viewtopic.php?t=10772&amp;highlight=fcsr</a>
<br/>
 basically its very similiar to the disk image you are creating except it has a added header and optionally an SRAM overlay can be create for write support. Is your disk image readonly? if not then its better then FCSR right now :) except that FCSR images can be run on almost any of the emulators and on hardware as well.
<br/>
<br/>
Troy(GPF)
<br/>
<a href="http://gpf.dcemu.co.uk" target="_blank">http://gpf.dcemu.co.uk</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128165 - masscat - Wed May 09, 2007 7:07 am</h4>
    <div class="postbody"><span class="postbody">You can read and write the FAT disk image.
<br/>
<br/>
Desmume just read and writes the data to the corresponding sector (512 bytes) as requested through the GBAMP registers.
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span> The disk image created by the Java application is just a regular FAT disk image. You can do anything with it that you could any other FAT partition image, for example under Linux you can mount it and then read and write to it.
<br/>
On the Desmume side the image file can be anything you want as Desmume makes not interpretation of it (just reads and writes). For example it could be  a complete disk image with a MBR, a FAT partition and a ext2 partition or some experimental file system. This is the main thing I like about the simple GBAMP emulation approach, Desmume is dumb and therefore flexible and it is up to the NDS software and the disk image building tools to do the clear stuff.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129031 - tondopie - Fri May 18, 2007 3:41 am</h4>
    <div class="postbody"><span class="postbody">where is the FSCR DLDI driver? I can't find it on chishm's site... I need to test my app's FAT support...<br/>_________________<br/><span style="font-weight: bold">Development Blog:</span> <a class="postlink" href="http://teendev.org" target="_blank">http://teendev.org</a>
<br/>
<span style="font-weight: bold">Homebrew Podcast:</span> <a class="postlink" href="http://homebrewcast.net" target="_blank">http://homebrewcast.net</a>
<br/>
<span style="font-weight: bold">Web Design:</span> <a class="postlink" href="http://xtendesign.net" target="_blank">http://xtendesign.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129033 - dantheman - Fri May 18, 2007 5:01 am</h4>
    <div class="postbody"><span class="postbody">You can find the necessary files on <a href="http://gpf.dcemu.co.uk" target="_blank">http://gpf.dcemu.co.uk</a> in the "Utilities" section.  You'll need to use the .ds.gba version of the homebrew, padbinned to 512 bytes, combined with the image created with build.bat, then patched with fcsr.dldi.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129101 - tondopie - Fri May 18, 2007 9:53 pm</h4>
    <div class="postbody"><span class="postbody">oh, dang... I can't believe I didn't notice that.... just like the 'S' in gbaScreen....<br/>_________________<br/><span style="font-weight: bold">Development Blog:</span> <a class="postlink" href="http://teendev.org" target="_blank">http://teendev.org</a>
<br/>
<span style="font-weight: bold">Homebrew Podcast:</span> <a class="postlink" href="http://homebrewcast.net" target="_blank">http://homebrewcast.net</a>
<br/>
<span style="font-weight: bold">Web Design:</span> <a class="postlink" href="http://xtendesign.net" target="_blank">http://xtendesign.net</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
