<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>[SOLVED] Palib and vc++ express, error in PA_Sound - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > [SOLVED] Palib and vc++ express, error in PA_Sound</h2>
<div id="posts">
<div class="post">
    <h4>#126390 - ZeXr0 - Sun Apr 22, 2007 7:55 pm</h4>
    <div class="postbody"><span class="postbody">I tried to setup the palib environment with devkitpro and vc++ express, but when I compile I get this error.
<br/>
<br/>
1&gt;------ D?but de la g?n?ration : Projet : PADemo2, Configuration : Release Win32 ------
<br/>
1&gt;Actions de projet Makefile en cours
<br/>
1&gt;logo.bmp
<br/>
1&gt;logo_wifi.bmp
<br/>
1&gt;main.cpp
<br/>
1&gt;c:/devkitPro/PAlib//include/nds/arm9/PA_Sound.h: In function 'void PA_PlayFSSoundEx2(u8, u16, u8, int, s16, BOOL, int)':
<br/>
1&gt;c:/devkitPro/PAlib//include/nds/arm9/PA_Sound.h(212): error: invalid conversion from 'void*' to 'u32*'
<br/>
1&gt;c:/devkitPro/PAlib//include/nds/arm9/PA_Sound.h: In function 'void PA_PlayFSMod(u16)':
<br/>
1&gt;c:/devkitPro/PAlib//include/nds/arm9/PA_Sound.h(430): error: invalid conversion from 'void*' to 'u32*'
<br/>
1&gt;make[1]: *** [main.o] Error 1
<br/>
1&gt;make: *** [build] Error 2
<br/>
1&gt;Le journal de g?n?ration a ?t? enregistr? ? l'emplacement "file://c:\DsDev\PADemo2\PADemo2\Release\BuildLog.htm"
<br/>
1&gt;PADemo2 - 2 erreur(s), 0 avertissement(s)
<br/>
========== G?n?ration : 0 a r?ussi, 1 a ?chou?, 0 mis ? jour, 0 a ?t? ignor? ==========
<br/>
<br/>
<br/>
Anyone knows how to solve this ?
<br/>
<br/>
EDIT :
<br/>
Just go to the PA_Sound.h file, at the given lines, and add (u32*) in front of PA_Malloc</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126392 - LiraNuna - Sun Apr 22, 2007 8:38 pm</h4>
    <div class="postbody"><span class="postbody">PA_Malloc? Do you guys have PA_main and PA_sprintf too?????
<br/>
What about PA_newlib?
<br/>
<br/>
I've also heard of a new tool being programmed, called PA_exe2nds, sounds interesting.<br/>_________________<br/>Private property.
<br/>
Violators will be shot, survivors will be shot again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126421 - Lynx - Mon Apr 23, 2007 4:40 am</h4>
    <div class="postbody"><span class="postbody">Ignore LiraNuna.  He's just mad because in about 15 seconds you'll have released more homebrew then him.. :)<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126424 - tepples - Mon Apr 23, 2007 4:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>LiraNuna wrote:</b></span></td> </tr> <tr> <td class="quote">PA_Malloc? Do you guys have PA_main and PA_sprintf too?????</td> </tr></table><span class="postbody">
<br/>
Not too far off. A PC counterpart to PAlib is called the Allegro library, which uses a special main() (to normalize argc and argv even on Windows and UNIX where the conventions sometimes differ) and a special sprintf() (to work in UTF-8 rather than an 8-bit ISO encoding).
<br/>
<br/>
As for "exe2nds", that is possible. The dualSwan emulator contains an emulator for an <a class="postlink" href="http://www.cpu-world.com/CPUs/V30/index.html" target="_blank">8086 clone CPU made by NEC</a>. Take the 8086 core from dualSwan and wrap the IBM XT architecture around it, and then imagine lots of CGA games for MS-DOS becoming playable on DS. No, I'm not volunteering just yet.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#126460 - LiraNuna - Mon Apr 23, 2007 11:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The dualSwan emulator contains an emulator for an 8086 clone CPU made by NEC.</td> </tr></table><span class="postbody">
<br/>
Oh really? You might want to take a look at <a class="postlink" href="http://liranuna.drunkencoders.com/nds-projects/dualswan/" target="_blank">dualSwan's homepage</a> and then your address bar.
<br/>
<br/>
BTW, It's a 80<span style="font-weight: bold">1</span>86, and it wasn't made by NEC, it made by Bandai itself. The SPGY-1002 (or the SwanCrystal's SPGY-1003) are custom made chips which have the same excution properties of the NEC v30MZ which includes AAD and IMUL/IDUV flag properties as well as missing 8080 emulation mode (not to mention the extreamly LOW power consumation rate which made the WS/C run on a single AA battery for more then 15 hours).
<br/>
I coded a 16bit CPU emulator, which was made to a WSC emulator afterwards.
<br/>
<br/>
Now seriously, don't you think PA_Malloc is a little stupid? not to mention that newlib's one works just as fine. asuming it's just a define (is it!?) that's a very stupid thing to do...<br/>_________________<br/>Private property.
<br/>
Violators will be shot, survivors will be shot again.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
