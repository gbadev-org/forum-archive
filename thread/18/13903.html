<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Pokemon Diamond like GFX engine - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Pokemon Diamond like GFX engine</h2>
<div id="posts">
<div class="post">
    <h4>#137409 - nio101 - Sat Aug 11, 2007 2:00 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
Seeing the gfx engine behind pokemon Diamond/Perl versions, I was wondering if anybody had an idea about how it was working ?
<br/>
<br/>
It seems to be real 3D now, not some kind of 2D tile engine.
<br/>
<br/>
Could it be a software only engine ?
<br/>
<br/>
I guess some could have a classical tiled map of 3D objects references and the engine using this map to render in 3D with the hardware (and mixing with some 2D)...?
<br/>
<br/>
If anybody could help me guessing how it is done, that would be cool, since I'd like to make some demo using the same 2D/3D effect...
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137410 - Lick - Sat Aug 11, 2007 2:19 pm</h4>
    <div class="postbody"><span class="postbody">It's a (software) 3D tile engine, rendered with the (hardware) 3D graphics API.
<br/>
<br/>
Not that hard to imagine? Try looking up '3D tile engine' or '3D terrains'.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137442 - tepples - Sat Aug 11, 2007 9:24 pm</h4>
    <div class="postbody"><span class="postbody">There are two ways to render tiled terrain. One involves a high camera and can be used in games that act like <span style="font-style: italic">Pok?mon Pearl Version</span> (whose engine I'm 99.44% sure is not coded in <a class="postlink" href="http://en.wikipedia.org/wiki/Perl" target="_blank">Perl</a>), <span style="font-style: italic">Pok?mon Diamond Version</span> (not the <a class="postlink" href="http://en.wikipedia.org/wiki/Keitai_Denj%C5%AB_Telefang#Bootlegged_versions" target="_blank"><span style="font-style: italic">Telefang</span> hack</a>), and <span style="font-style: italic">Animal Crossing: Wild World</span>:
<br/>
<ol type="1"><li>Find a rectangle centered on the camera that contains all tiles that could be visible on the screen. This rectangle is called a "potential visible set". <span style="font-style: italic">ACWW</span> seems to use a rectangle 16x16 cells in size for this. </li><li>For each tile in this rectangle, look up a 3D model that represents the tile's contents. </li><li>Draw these models to the screen. </li></ol>
<br/>
But if the camera is low, such as in a game that uses first-person view, the potential visible set is much larger, needing a different algorithm to narrow it down. This algorithm is called ray casting, and it is used by <span style="font-style: italic">Wolfenstein 3D</span> and <span style="font-style: italic">Rise of the Triad</span>. A conceptual extension of ray casting to non-square tiles results in portal rendering, used by <span style="font-style: italic">Duke Nukem 3D</span> and <span style="font-style: italic">Serious Sam</span>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137455 - Lick - Sat Aug 11, 2007 11:09 pm</h4>
    <div class="postbody"><span class="postbody">Tepples: maybe a quad-tree would be better suited for the DS hardware, and the cases you mention.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137536 - M3d10n - Mon Aug 13, 2007 2:36 am</h4>
    <div class="postbody"><span class="postbody">If the level is build in an uniform 2D grid of 3D tiles, and the camera is mostly top-down, then using a grid-based visibility test should be faster than a quad-tree since you can quickly calculate which are the minimum and maximum grid coordinates visible from the camera.
<br/>
<br/>
Of course a quad-tree would be more suited for non-tiled levels and if the camera is mostly on a lower angle (first, third person, like tepples mentioned.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138545 - nio101 - Sat Aug 25, 2007 9:17 am</h4>
    <div class="postbody"><span class="postbody">Thanks for your help, it's very interesting...
<br/>
<br/>
Now I have to improve my 3D skills and find good tutorials to find out how to import 3D models and mix with 2D on NDS hardware...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
