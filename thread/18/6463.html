<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Strange tile behaviour - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Strange tile behaviour</h2>
<div id="posts">
<div class="post">
    <h4>#49702 - Maverick - Mon Aug 01, 2005 8:42 pm</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
<br/>
I have searched for many hours and have not found an answer to my question. If the answer is simple im gonna feel stupid, but how come i can only display 16 tiles on a bg?
<br/>
<br/>
I load the tiles in a loop (converted from 256 bmp using bmp2spr) and write a simple function to display each tile one by one along the line. When it gets to tile 17, this is just tile 1 shifted right and so on until tile 33 which is, again, tile 1 shifted twice. I tried rewriting the functions to sprites to check if it was the graphics that were wrong and it does the same thing.
<br/>
<br/>
What is happening here?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50087 - LOst? - Fri Aug 05, 2005 7:01 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Maverick wrote:</b></span></td> </tr> <tr> <td class="quote">Hi
<br/>
<br/>
I have searched for many hours and have not found an answer to my question. If the answer is simple im gonna feel stupid, but how come i can only display 16 tiles on a bg?
<br/>
<br/>
I load the tiles in a loop (converted from 256 bmp using bmp2spr) and write a simple function to display each tile one by one along the line. When it gets to tile 17, this is just tile 1 shifted right and so on until tile 33 which is, again, tile 1 shifted twice. I tried rewriting the functions to sprites to check if it was the graphics that were wrong and it does the same thing.
<br/>
<br/>
What is happening here?</td> </tr></table><span class="postbody">
<br/>
<br/>
You know you make sprites with bmp2spr. Not backgrounds. So that's probably your problem there.<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50125 - Maverick - Fri Aug 05, 2005 6:28 pm</h4>
    <div class="postbody"><span class="postbody">No, you convert graphics
<br/>
<br/>
But it doesnt matter, it was the program that was wrong, it could only convert the first 16 8 by 8 tiles then everything was shifted and looping over the first 16 tiles again
<br/>
<br/>
I just converted it to pcx and used pcx2sprite</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56767 - Zapf_Bandit - Tue Oct 11, 2005 9:41 am</h4>
    <div class="postbody"><span class="postbody">Try Kaleid.exe.... It is by far an away the best graphic converter for DS and GBA stuff...
<br/>
<br/>
Could you post your code to load the BKG? It sounds like you are simply walking off your graphic memory. Use DMA for loading graphics... It's faster and <span style="font-style: italic">usually</span> safer. E.g.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
swiFastCopy( (void*)bits_pal,
<br/>
      (void*)BG_PALETTE,
<br/>
      sizeof(bits_pal)/4);
<br/>
<br/>
<br/>
swiFastCopy( (void*)bits_gfx,
<br/>
      (void*)gfx,
<br/>
      sizeof(bits_gfx)/4);
<br/>
<br/>
swiFastCopy( (void*)bits_map,
<br/>
      (void*)map,
<br/>
      sizeof(bits_map)/4);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Hope that helps,
<br/>
Zapf</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#56808 - Maverick - Tue Oct 11, 2005 7:07 pm</h4>
    <div class="postbody"><span class="postbody">This is a very old post that the solution to was found a very long time ago
<br/>
<br/>
The problem was the bmp2spr converter that is unable to convert any graphics of more than 16 8x8 tiles large. I am now using, and have been since August, pcx2sprite which was written int he previous post
<br/>
<br/>
How could i have been "walking off" the graphics memory when i was loading only a few simple, low color tiles and a simple map flooded with 0's with the first few set to 1?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
