<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>ez-5 and dslink reset test - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > ez-5 and dslink reset test</h2>
<div id="posts">
<div class="post">
    <h4>#120390 - Lick - Sat Mar 03, 2007 3:37 pm</h4>
    <div class="postbody"><span class="postbody">Hey, I am trying to add DSLink reset code to libcartreset. I found the code in EZ-5's modified Moonshell, <span style="font-style: italic">it's not in the regular Moonshell though.</span>
<br/>
Anyway, the test .nds file is <a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset.nds" target="_blank">here</a>, and the <a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset.zip" target="_blank">source</a>.
<br/>
<br/>
EZ-5 and DSLink users: please run it and press B.
<br/>
<br/>
Thanks,
<br/>
- Lick<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120391 - Diddl - Sat Mar 03, 2007 4:08 pm</h4>
    <div class="postbody"><span class="postbody">on dslink this code only shows two white screens and nothing more.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120394 - Lick - Sat Mar 03, 2007 4:41 pm</h4>
    <div class="postbody"><span class="postbody">Diddl: Did you press B?
<br/>
<br/>
I think I did something incorrect with the addresses. I changed it in version 2. Please try this one as well.
<br/>
<a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset2.nds" target="_blank">2nds</a>
<br/>
<a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset2.zip" target="_blank">2source</a>
<br/>
<br/>
Thanks!<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120397 - Diddl - Sat Mar 03, 2007 5:10 pm</h4>
    <div class="postbody"><span class="postbody">same result with test 2, - two white screens only.
<br/>
<br/>
I have a NDS lite (magenta screen version) lite with flashme 7
<br/>
<br/>
<br/>
I tried key B, I tried all keys, but only white.
<br/>
<br/>
you know DLDI for DS Link doesn't work (doesn't initialize)? I have made new one which works fine (without reset).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120399 - Lick - Sat Mar 03, 2007 5:48 pm</h4>
    <div class="postbody"><span class="postbody">Here is number 3. <a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset3.nds" target="_blank">nds</a>
<br/>
<br/>
This file isn't even DLDI, by the way. It is simply the reset code that I'm trying to test. 
<br/>
<br/>
Thanks!<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120419 - Diddl - Sat Mar 03, 2007 7:33 pm</h4>
    <div class="postbody"><span class="postbody">no message, - nothing, test 3 same result, 2 white screens.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120470 - Lick - Sun Mar 04, 2007 12:50 am</h4>
    <div class="postbody"><span class="postbody">Sorry for the three disappointments. ;) Anyway, here is <a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset4.nds" target="_blank">number 4</a>.
<br/>
<br/>
Press B, I programmed it so the screen color changes before the reset code is run.
<br/>
<br/>
Fingers crossed..<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120542 - Diddl - Sun Mar 04, 2007 4:07 pm</h4>
    <div class="postbody"><span class="postbody">no problem, I like to test. 
<br/>
<br/>
this time comes white screen on both display. by pressing B after a short duration (50 - 100 ms) both screens get a light blue color. then nothing more.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120696 - Lick - Mon Mar 05, 2007 5:09 pm</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset5.nds" target="_blank">number 5</a>. You need to patch it with DLDI first.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">dlditool DLMS.dldi dlinkreset5.nds</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120711 - Diddl - Mon Mar 05, 2007 6:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lick wrote:</b></span></td> </tr> <tr> <td class="quote">You need to patch it with DLDI first.</td> </tr></table><span class="postbody">
<br/>
<br/>
I understand, I haven't patched bevore. None of your tests, maybe this was the problem?
<br/>
<br/>
Which DLDI file I should use. Original DLDI from Chishm DLDI homepage doesn't work for me. 
<br/>
<br/>
I have made a own DLDI which works fine on my DS Link v1.70. But this one has no reset function??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120712 - Diddl - Mon Mar 05, 2007 6:58 pm</h4>
    <div class="postbody"><span class="postbody">ok!! works fine with my DLDI file.
<br/>
<br/>
first white screens. after pressing B a short moment both screens will be light blue. after this white again for a second. then NDS restarts as after switch on. 
<br/>
<br/>
thank you! can I have the source code? this will be very fine feature for developing and it spares my power switch ...
<br/>
<br/>
<br/>
<br/>
##
<br/>
<br/>
I see. test 5 is the one with DLDI section, all other tests doesn't have one.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120714 - Lick - Mon Mar 05, 2007 7:20 pm</h4>
    <div class="postbody"><span class="postbody">I will build another test that you have to patch again, this time it will use my own code. :)<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120736 - Lick - Mon Mar 05, 2007 9:34 pm</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://lickr.org/files/nds/cartreset/dslinkreset6.nds" target="_blank">number 6</a>. No need to patch.
<br/>
<br/>
I inserted DLMS startUp() and replaced the reset asm with my own reset C. Please test if it still resets. I hope it does :(<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120742 - Diddl - Mon Mar 05, 2007 10:11 pm</h4>
    <div class="postbody"><span class="postbody">same as test 4. first white screens, after B light blue screens ...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120743 - Lick - Mon Mar 05, 2007 10:15 pm</h4>
    <div class="postbody"><span class="postbody">Okay, really thanks for the testing! It's <a class="postlink" href="http://lickr.org/files/dslinkreset7.nds" target="_blank">number 7</a> already. No need to patch.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120744 - Diddl - Mon Mar 05, 2007 10:18 pm</h4>
    <div class="postbody"><span class="postbody">same. blue screens hangs after B.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120746 - Lick - Mon Mar 05, 2007 10:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lick wrote:</b></span></td> </tr> <tr> <td class="quote">Okay, really thanks for the testing! It's <a class="postlink" href="http://lickr.org/files/dslinkreset8.nds" target="_blank">number 8</a> already. No need to patch.</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120748 - Diddl - Mon Mar 05, 2007 10:37 pm</h4>
    <div class="postbody"><span class="postbody">doesnt work this test 8.
<br/>
<br/>
look at my patched DLDI. Working DS Linker DLDI: <a class="postlink" href="http://web3.vs2066076.netfabrik.de/nds/ds_link.dldi" target="_blank">DLDI</a>  ::    <a class="postlink" href="http://web3.vs2066076.netfabrik.de/nds/src_ds_link.zip" target="_blank">Source</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120751 - Lick - Mon Mar 05, 2007 10:45 pm</h4>
    <div class="postbody"><span class="postbody">It's really weird. 
<br/>
<br/>
libfat + your DLDI -&gt; fatInitDefault() -&gt; reset() = OKAY!
<br/>
<br/>
your DLDI code copied over -&gt; reset() = FAIL
<br/>
<br/>
:(<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120752 - Lick - Mon Mar 05, 2007 10:51 pm</h4>
    <div class="postbody"><span class="postbody">Okay, the <a class="postlink" href="http://lickr.org/files/dslinkreset9.nds" target="_blank">last test</a> for today. This is none of my own code (sigh..) but it should work and I'll just modify it bit by bit tomorrow. 
<br/>
<br/>
Thanks for your amazing test job! 
<br/>
- Lick<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120754 - Diddl - Mon Mar 05, 2007 10:59 pm</h4>
    <div class="postbody"><span class="postbody">no, I'm sorry. don't work. 
<br/>
<br/>
fine, read you tomorrow. if you have new test I will test again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120761 - Lick - Mon Mar 05, 2007 11:47 pm</h4>
    <div class="postbody"><span class="postbody">Number 10: <a class="postlink" href="http://lickr.org/files/dslinkreset10a.nds" target="_blank">10a</a> | <a class="postlink" href="http://lickr.org/files/dslinkreset10b.nds" target="_blank">10b</a> | <a class="postlink" href="http://lickr.org/files/dslinkreset10c.nds" target="_blank">10c</a> | <a class="postlink" href="http://lickr.org/files/dslinkreset10d.nds" target="_blank">10d</a> | <a class="postlink" href="http://lickr.org/files/dslinkreset10e.nds" target="_blank">10e</a>
<br/>
<br/>
Thanks a lot!
<br/>
- Lick<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120769 - Diddl - Tue Mar 06, 2007 12:23 am</h4>
    <div class="postbody"><span class="postbody">10a, b and c works fine.
<br/>
<br/>
10d, e works only with 2 times B. first time gives blue screen but after 500ms white again. on second B it resets fine to ds link menu.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120772 - Diddl - Tue Mar 06, 2007 12:35 am</h4>
    <div class="postbody"><span class="postbody">additional remark:
<br/>
<br/>
better as all this 10x versions runs this test 5, cause blue screen comes only for very short time. so whole reset is the fastest.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120818 - Lick - Tue Mar 06, 2007 8:31 am</h4>
    <div class="postbody"><span class="postbody">Nice.. I will look into the difference between the first 3 and last 2.
<br/>
<br/>
What if you boot d or e, <span style="font-weight: bold">wait a few seconds</span>, before you press B? Is pressing 2 times still necessary that way?<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120825 - Diddl - Tue Mar 06, 2007 9:13 am</h4>
    <div class="postbody"><span class="postbody">I have waited some seconds and repeated many times. I believe it need a second B. But I will test it again when I come from work at evening.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120849 - Diddl - Tue Mar 06, 2007 7:18 pm</h4>
    <div class="postbody"><span class="postbody">tested it again. but same result. test d and e need a second time pressing B. i have waitet a long time ...
<br/>
<br/>
ir seems go back to same state as after start of program (white screens). but on second time it resets into ds link menu.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120860 - Lick - Tue Mar 06, 2007 9:20 pm</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://lickr.org/files/reboot.nds" target="_blank">reboot.nds</a> (patch with DLDI first)
<br/>
<br/>
This file is based on 10e. It will automatically reboot (or show a red failure screen and hang).
<br/>
Thanks for all the testing! (More than 15 now..)
<br/>
<br/>
- Lick<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120865 - Diddl - Tue Mar 06, 2007 9:56 pm</h4>
    <div class="postbody"><span class="postbody">sorry - hangs with "blue screen"
<br/>
<br/>
<br/>
for short moment comes a white screen, after this a short black screen, and then hangs with light blue</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120935 - Lick - Wed Mar 07, 2007 12:35 pm</h4>
    <div class="postbody"><span class="postbody">Okay, as it seems.. The devicetype ("DLMS") is not being recognized, hence the light blue screen. 
<br/>
Does your dldi specify "DLMS" as devicetype?
<br/>
<br/>
Oh and I have defined it like this: </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define DEVICE_DLMS        (0x534D4C44)</td> </tr></table><span class="postbody">
<br/>
That's the correct hex-value for "DLMS" right? (Just in case..)<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120937 - Diddl - Wed Mar 07, 2007 1:15 pm</h4>
    <div class="postbody"><span class="postbody">I'm at work, so I can look at the evening.
<br/>
<br/>
But I have posted sources too.
<br/>
<br/>
one moment, I don't patch it with DLDI file? should I?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120938 - Lick - Wed Mar 07, 2007 1:54 pm</h4>
    <div class="postbody"><span class="postbody">Yes.. Note the "(patch with DLDI first)" in my earlier post. :D<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120940 - Diddl - Wed Mar 07, 2007 1:59 pm</h4>
    <div class="postbody"><span class="postbody">oh sorry, havn't seen this, cause previous tests was without testing. will test later again.
<br/>
<br/>
in a few days I also can test with EZ flash V ...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120942 - Lick - Wed Mar 07, 2007 2:09 pm</h4>
    <div class="postbody"><span class="postbody">Thanks, hopefully your answer will be positive so I can rest my mind off the DS Link rebooting!
<br/>
As for EZ-Flash 5, I think it won't work the same way as DS Link. I need to do some more research first.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120951 - Diddl - Wed Mar 07, 2007 5:35 pm</h4>
    <div class="postbody"><span class="postbody">it works fine! I only forgot to patch the DLDI file.
<br/>
<br/>
<br/>
EZ flash V won't work same way, it is a TF card based slot 1 solution. IO sources and DLDI are available. Additionally  I have ordered the EZ flash V extension. It's a trimode slot 2 solution (GBA support, browser RAM extension, rumble). 
<br/>
<br/>
GBA games are stored on EZ flash V TF card and shown in normal menu with other games and homebrew. If you choose a GBA game, it will be copied to slot 2 and started immedeatly.
<br/>
<br/>
<br/>
I already had a EZ flash V for one day. Then my niece comes for a visit and saw it. She begged to give it her.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120969 - Lick - Wed Mar 07, 2007 9:29 pm</h4>
    <div class="postbody"><span class="postbody">Nieces came and took huh? Annoying kids! Gone are the days where kids get beaten if they want too much. :D<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#120970 - Diddl - Wed Mar 07, 2007 9:37 pm</h4>
    <div class="postbody"><span class="postbody">no no. my niece is very neat and charming. I'm glad to make her happy.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#121424 - Diddl - Mon Mar 12, 2007 10:12 am</h4>
    <div class="postbody"><span class="postbody">@lick
<br/>
<br/>
do you want to implement soft reset on a ds linker/mk5/n-card/ufpex card. I have two of it: a 16G and a 4G card</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#121445 - Lick - Mon Mar 12, 2007 2:58 pm</h4>
    <div class="postbody"><span class="postbody">Yes, I'm planning to add new devices, but so far I haven't been able to discover any fucking thing. Hehe.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#121532 - Diddl - Mon Mar 12, 2007 10:37 pm</h4>
    <div class="postbody"><span class="postbody">ok, say if you want to test other devices. EZ Flash V now also here.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
