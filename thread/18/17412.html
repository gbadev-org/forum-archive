<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Curiosity about texture/poly rendering - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Curiosity about texture/poly rendering</h2>
<div id="posts">
<div class="post">
    <h4>#175415 - brave_orakio - Wed Nov 17, 2010 6:02 am</h4>
    <div class="postbody"><span class="postbody">I read somewhere about textured polys that setting up the texture coordinates at the same time as the poly coordinates is faster? Or did I get it wrong? In any case can anyone tell me why it is faster(or slower)
<br/>
<br/>
Setting up at the same time:
<br/>
<br/>
SET_UPPERLEFTPOLY_COORD
<br/>
SET_UPPERLEFTTEXTURE_COORD
<br/>
SET_LOWERLEFTPOLY_COORD
<br/>
SET_LOWERLEFTTEXTURE_COORD...
<br/>
<br/>
Setting up in steps:
<br/>
<br/>
SET_UPPERLEFTPOLY_COORD
<br/>
SET_LOWERLEFTPOLY_COORD...
<br/>
SET_UPPERLEFTTEXTURE_COORD
<br/>
SET_LOWERLEFTTEXTURE_COORD...<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175416 - kusma - Wed Nov 17, 2010 11:16 am</h4>
    <div class="postbody"><span class="postbody">Uhm, the DS 3D-hardware doesn't have any "SET_UPPERLEFTTEXTURE_COORD" command, it's just "TEXCOORD" which updates the current texture coord state. When you emit a new vertex (by issuing one of the VTX-commands), the current texture coord state is copied to that vertex. So you can't choose when to set a texture coordinate, you have to set it before you emit a vertex.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175418 - ritz - Wed Nov 17, 2010 4:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>brave_orakio wrote:</b></span></td> </tr> <tr> <td class="quote">I read somewhere about textured polys that setting up the texture coordinates at the same time as the poly coordinates is faster?</td> </tr></table><span class="postbody">
<br/>
Maybe you're thinking of this quote from GBATEK: <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#ds3dtextureattributes" target="_blank">"When texture mapping, the Geometry Engine works faster if you issue commands in the order TexCoord -&gt; Normal -&gt; Vertex."</a></span><span class="gensmall"><br/><br/>Last edited by ritz on Fri Dec 03, 2010 12:23 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#175419 - brave_orakio - Thu Nov 18, 2010 1:36 am</h4>
    <div class="postbody"><span class="postbody">ritz:
<br/>
<br/>
Yes exactly, I just couldn't remember where to find it. So what is the reason for that?
<br/>
<br/>
kusma:
<br/>
<br/>
Yes sorry, I just wanted to make it clear what I meant about the commands, so I just put that as some sort of pseudo code.<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175422 - ritz - Thu Nov 18, 2010 3:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>brave_orakio wrote:</b></span></td> </tr> <tr> <td class="quote">So what is the reason for that?</td> </tr></table><span class="postbody">
<br/>
I really don't know. Being in quotes, it seems like it might be hearsay. Maybe it just hasn't been tested yet.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175424 - brave_orakio - Fri Nov 19, 2010 1:34 am</h4>
    <div class="postbody"><span class="postbody">Reading it again, I must have misunderstood it. 
<br/>
<br/>
Now, I'm not really sure what it means (I guess that's why I put that pseudo code on top). So what does it mean and why?<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175425 - elhobbs - Fri Nov 19, 2010 1:56 am</h4>
    <div class="postbody"><span class="postbody">Unless you are experiencing a problem - do not worry about it. Certain hardware features require the commands to be in certain order. Ultimately each vertex can have a texture coord and a color and a normal. When you issue a vertex command it uses the last texture coord, normal, and color. The normal can be used with hardware lighting to determine the color or it can be used to effect the texture coord - or not at all depending on the texture and/ or poly attributes. The point being - it depends on what you are  trying to do.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175426 - brave_orakio - Fri Nov 19, 2010 3:18 am</h4>
    <div class="postbody"><span class="postbody">I see. Anyway, thanks, I just thought that maybe it could be important in the long run.<br/>_________________<br/>help me</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175445 - Exophase - Mon Nov 22, 2010 5:44 pm</h4>
    <div class="postbody"><span class="postbody">Both texture coordinates and current color are dependencies for the vertex command, which commits current versions of both of these to texture memory. It's possible that the texture coordinate transformation takes longer than the shading model computation, so the geometry hardware benefits from getting it started earlier.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
