<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Tutorial Example won't compile - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Tutorial Example won't compile</h2>
<div id="posts">
<div class="post">
    <h4>#112710 - spectre1989 - Tue Dec 19, 2006 6:57 pm</h4>
    <div class="postbody"><span class="postbody">Hey all,
<br/>
<br/>
I've been doing the tutorial manual on patatersoft.info, but I've been having some problems. I keep getting the error:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp: In function 'void initSprites(SpriteEntry*, SpriteRotation*)':
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp:75: error: 'coordinate' was not declared in this scope
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp:75: error: expected `;' before 'position'
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp:76: error: 'position' was not declared in this scope
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp:82: error: 'ATTRO_COLOR_256' was not declared in this scope
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp:82: error: 'ATTRO_ROTSCALE_DOUBLE' was not declared in this scope
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
This is really starting to do my head in. Can anyone suggest a solution?
<br/>
<br/>
Cheers
<br/>
-Spec</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112711 - tepples - Tue Dec 19, 2006 7:04 pm</h4>
    <div class="postbody"><span class="postbody">Please paste the lines of code to which this error refers.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112712 - spectre1989 - Tue Dec 19, 2006 7:08 pm</h4>
    <div class="postbody"><span class="postbody">Sorry of course, this is the whole function, just so you can get an idea of what I'm trying to do aswell:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
void initSprites(SpriteEntry * spriteEntry, SpriteRotation * spriteRotation) {
<br/>
	//init OAM
<br/>
	initOAM(spriteEntry, spriteRotation);
<br/>
<br/>
	coordinate position;
<br/>
	position.x = SCREEN_WIDTH/2 - 64;
<br/>
	position.y = SCREEN_HEIGHT/2 - 64;
<br/>
<br/>
	//create the ship sprite
<br/>
	int orangeShipGfxID = 64;
<br/>
<br/>
	spriteEntry[0].attribute[0] = ATTRO_COLOR_256 |
<br/>
                                                 ATTRO_ROTSCALE_DOUBLE | //able to rotscale
<br/>
                                                (int)position.y;
<br/>
<br/>
	spriteEntry[0].attribute[1] = ATTR1_ROTDATA(0) |
<br/>
	                               ATTR1_SIZE_64 | //size 64x64
<br/>
								   (int)position.x;
<br/>
<br/>
	spriteEntry[0].attribute[2] = orangeShipGfxID;
<br/>
<br/>
	//set initial rotation attributes
<br/>
	rotateSprite(&amp;spriteRotation[0], 0);
<br/>
<br/>
	//copy in the sprite palettes
<br/>
	dmaCopy(OrangeShuttlePalette_bin, //from address
<br/>
			(uint16 *)SPRITE_PALETTE, //to address
<br/>
			OrangeShuttlePalette_bin_size); //size of data to copy
<br/>
<br/>
	//update the OAM
<br/>
	updateOAM(spriteEntry);
<br/>
}
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"><br/><br/>Last edited by spectre1989 on Tue Dec 19, 2006 7:13 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#112713 - tepples - Tue Dec 19, 2006 7:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>spectre1989 wrote:</b></span></td> </tr> <tr> <td class="quote">Sorry of course, this is the whole function, just so you can get an idea of what I'm trying to do aswell:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
void initSprites(SpriteEntry * spriteEntry, SpriteRotation * spriteRotation) {
<br/>
	//init OAM
<br/>
	initOAM(spriteEntry, spriteRotation);
<br/>
<br/>
	coordinate position;</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
Which header file defines the data type "coordinate"?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112715 - spectre1989 - Tue Dec 19, 2006 7:17 pm</h4>
    <div class="postbody"><span class="postbody">I have no idea, its in this tutorial, the headers used are as follows:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
#include &lt;nds.h&gt;
<br/>
<br/>
//gfx
<br/>
#include "StarField_bin.h"
<br/>
#include "Splash_bin.h"
<br/>
#include "OrangeShuttle_bin.h"
<br/>
#include "OrangeShuttlePalette_bin.h"
<br/>
#include "Sprites.h"
<br/>
#include "Sprites.cpp"
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I know it isn't defined in any of those under gfx, so it must be in nds.h, though considering that it.. well.. isn't.. Then maybe its a mistake in the tutorial? I tried defining the class in main.cpp with integers x and y as public member variables, but I was still left with the errors:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp:82: error: 'ATTRO_COLOR_256' was not declared in this scope
<br/>
c:/DS/SourceCode/orange_spaceship_tut/source/main.cpp:82: error: 'ATTRO_ROTSCALE_DOUBLE' was not declared in this scope
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
(Obviously the line numbers are slightly different due to the extra class defining code, but the error itself is exactly the same)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112718 - spectre1989 - Tue Dec 19, 2006 8:18 pm</h4>
    <div class="postbody"><span class="postbody">Oh and just incase in makes a difference, I'm running Windows xp pro</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112723 - Sausage Boy - Tue Dec 19, 2006 9:08 pm</h4>
    <div class="postbody"><span class="postbody">Do you get any more errors than that?<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112724 - spectre1989 - Tue Dec 19, 2006 9:21 pm</h4>
    <div class="postbody"><span class="postbody">Ah I just figured it out. I was writing ATTRO instead of ATTR0. Silly me. 
<br/>
<br/>
However I'm now getting this error.. What the hell does it mean?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
&gt; "make" 
<br/>
linking orange_spaceship_tut.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: ERROR: Source object c:/devkitPro/libnds/lib\libnds9.a(COS.o) has EABI version 0, but target c:/DS/SourceCode/orange_spaceship_tut/orange_spaceship_tut.elf has EABI version 4
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: failed to merge target specific data of file c:/devkitPro/libnds/lib\libnds9.a(COS.o)
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: ERROR: Source object c:/devkitPro/libnds/lib\libnds9.a(SIN.o) has EABI version 0, but target c:/DS/SourceCode/orange_spaceship_tut/orange_spaceship_tut.elf has EABI version 4
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: failed to merge target specific data of file c:/devkitPro/libnds/lib\libnds9.a(SIN.o)
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: ERROR: Source object c:/devkitPro/libnds/lib\libnds9.a(video.o) has EABI version 0, but target c:/DS/SourceCode/orange_spaceship_tut/orange_spaceship_tut.elf has EABI version 4
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: failed to merge target specific data of file c:/devkitPro/libnds/lib\libnds9.a(video.o)
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: ERROR: Source object c:/devkitPro/libnds/lib\libnds9.a(interrupts.o) has EABI version 0, but target c:/DS/SourceCode/orange_spaceship_tut/orange_spaceship_tut.elf has EABI version 4
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: failed to merge target specific data of file c:/devkitPro/libnds/lib\libnds9.a(interrupts.o)
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: ERROR: Source object c:/devkitPro/libnds/lib\libnds9.a(cache.o) has EABI version 0, but target c:/DS/SourceCode/orange_spaceship_tut/orange_spaceship_tut.elf has EABI version 4
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: failed to merge target specific data of file c:/devkitPro/libnds/lib\libnds9.a(cache.o)
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: ERROR: Source object c:/devkitPro/libnds/lib\libnds9.a(interruptDispatcher.o) has EABI version 0, but target c:/DS/SourceCode/orange_spaceship_tut/orange_spaceship_tut.elf has EABI version 4
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.1/../../../../arm-eabi/bin/ld.exe: failed to merge target specific data of file c:/devkitPro/libnds/lib\libnds9.a(interruptDispatcher.o)
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/DS/SourceCode/orange_spaceship_tut/orange_spaceship_tut.elf] Error 1
<br/>
"make": *** [build] Error 2
<br/>
<br/>
&gt; Process Exit Code: 2
<br/>
&gt; Time Taken: 00:00
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://www.pro-test.org.uk/" target="_blank">Pro-test: Standing up for science, standing up for what's right</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112728 - OOPMan - Tue Dec 19, 2006 10:51 pm</h4>
    <div class="postbody"><span class="postbody">Maybe you should try uninstalling devkitPro and reinstalling it from scratch...
<br/>
<br/>
It looks like you have some weird version conflicts...
<br/>
<br/>
Did you try to upgrade from an older devkitPro release?<br/>_________________<br/>"My boot, your face..." - Attributed to OOPMan, Emperor of Eroticon VI
<br/>
<br/>
You can find my NDS homebrew projects <a class="postlink" href="http://blog.dev-scene.com/oopman/" target="_blank">here...</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112735 - tepples - Tue Dec 19, 2006 11:18 pm</h4>
    <div class="postbody"><span class="postbody">If you upgraded, and you recompile, you may still have .o or .a files that you compiled with R18 or earlier. You'll need to recompile them.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112754 - wintermute - Wed Dec 20, 2006 12:27 am</h4>
    <div class="postbody"><span class="postbody">You've updated devkitARM but not libnds.
<br/>
<br/>
The best way to deal with it is just to use the web installer.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#112761 - spectre1989 - Wed Dec 20, 2006 1:21 am</h4>
    <div class="postbody"><span class="postbody">Cheers for that, I tried manually updating libnds earlier and mustve accidentally downloaded outdated files. Thanks for the help chaps, its now running smoothly :)<br/>_________________<br/><a class="postlink" href="http://www.pro-test.org.uk/" target="_blank">Pro-test: Standing up for science, standing up for what's right</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
