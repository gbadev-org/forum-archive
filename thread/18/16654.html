<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Translation matrix - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Translation matrix</h2>
<div id="posts">
<div class="post">
    <h4>#168648 - Echo49 - Wed May 13, 2009 4:50 am</h4>
    <div class="postbody"><span class="postbody">At <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#ds3dmatrixtypes" target="_blank">gbatek</a> the translation matrix is identified as:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"> _  Translation Matrix   _
<br/>
|  1.0   0     0     0    |
<br/>
|  0     1.0   0     0    |
<br/>
|  0     0     1.0   0    |
<br/>
|_m[0]  m[1]  m[2]   1.0 _|</td> </tr></table><span class="postbody">
<br/>
Shouldn't the translation vector be on the far right of the matrix instead?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168650 - Dwedit - Wed May 13, 2009 6:39 am</h4>
    <div class="postbody"><span class="postbody">If the coordinate is a column, translation goes on the right
<br/>
If the coordinate is a row, translation goes on the bottom, and the translation matrix is Right Multiplied with the coordinate instead of Left Multiplied.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"><br/><br/>Last edited by Dwedit on Wed May 13, 2009 6:41 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#168651 - sajiimori - Wed May 13, 2009 6:39 am</h4>
    <div class="postbody"><span class="postbody">@Echo49:
<br/>
<br/>
On column-major systems, yes, but not on the DS.
<br/>
<br/>
(Do I have that right?  As I recall, DirectX is column-major and OpenGL is row-major...?)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168652 - Cearn - Wed May 13, 2009 9:03 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sajiimori wrote:</b></span></td> </tr> <tr> <td class="quote">(Do I have that right?  As I recall, DirectX is column-major and OpenGL is row-major...?)</td> </tr></table><span class="postbody">Technically, it's only a notational difference. Most math and OpenGL books will use column-major notation, whereas DirectX uses row-major. In memory, the order of the elements are the same. It's just that C uses row-major as well, so OpenGL matrices don't translate directly to C-matrices.
<br/>
<br/>
If the coordinate vectors are columns, the matrix will be column-major, and when the vectors are rows, the matrix is row-major. 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
           A      ?  X    = (      X^T    ?      A^T         )^T
<br/>
           
<br/>
 ________________   ___      /              _______________  \ T
<br/>
| ux  vx  wx  tx | | x |    |   _________  | ux  uy  uz  0 |  |               
<br/>
| uy  vy  wy  ty |?| y |  = |  | x y z 1 |?| vx  vy  vz  0 |  |
<br/>
| uz  vz  wz  tz | | z |    |   ---------  | wx  wy  wz  0 |  |               
<br/>
|  0   0   0   d | | 1 |    |              | tx  ty  tz  d |  |
<br/>
 ----------------   ---      \              ---------------   /
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#168655 - Echo49 - Wed May 13, 2009 11:54 am</h4>
    <div class="postbody"><span class="postbody">Ah I see.
<br/>
<br/>
I was getting confused wondering how in the world that would help translate the vectors.
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
