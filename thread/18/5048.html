<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>dumb question: running gba code in ds mode? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > dumb question: running gba code in ds mode?</h2>
<div id="posts">
<div class="post">
    <h4>#36134 - Dwedit - Tue Feb 15, 2005 6:55 am</h4>
    <div class="postbody"><span class="postbody">What would happen if you stalled the ARM9 in an endless loop and ran GBA code on the ARM7?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36136 - DekuTree64 - Tue Feb 15, 2005 7:01 am</h4>
    <div class="postbody"><span class="postbody">A fantastic waste of CPU power :)<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36140 - tepples - Tue Feb 15, 2005 8:10 am</h4>
    <div class="postbody"><span class="postbody">A lot of games would probably not run, as they assume the mirroring of IWRAM at 32 KiB intervals, especially for the BIOS interrupt-related locations at 0x03007FF8-0x03007FFF, which some libraries treat as 0x03FFFFF8-0x03FFFFFF. But for a GBA game that's consistent in its BIOS access, would it allow access to the extra 16 pixels of width and 32 pixels of height on even one screen?
<br/>
<br/>
Besides, it wouldn't necessarily waste power, given that the ARM9 CPU would probably be in a halt state.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36150 - Lupin - Tue Feb 15, 2005 10:26 am</h4>
    <div class="postbody"><span class="postbody">Are the GBA registers available while the DS is in DS mode? You may be able to run ARM7 code, but maybe not real GBA code<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36161 - Abscissa - Tue Feb 15, 2005 2:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">Are the GBA registers available while the DS is in DS mode?</td> </tr></table><span class="postbody">
<br/>
I can't imagine why they wouldn't be.  I'm sure the DS-mode 2D stuff is just the GBA stuff with extra registers added.  Otherwise, there would probably be a lot of redundant silicon.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36178 - dagamer34 - Tue Feb 15, 2005 6:53 pm</h4>
    <div class="postbody"><span class="postbody">But I thought you had no direct access to the ARM7 while in DS mode. Isn't any graphics code you execute using the DS going to use the ARM9 core?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36181 - Dwedit - Tue Feb 15, 2005 7:29 pm</h4>
    <div class="postbody"><span class="postbody">Judging by the fact that the passthrough works by setting the ARM7 PC to the GBA cartridge space, I believe you have full access to the ARM7 core.  Probably don't even need to put a Nintendo logo in the GBA cartridge.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36215 - tepples - Wed Feb 16, 2005 4:46 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote">But I thought you had no direct access to the ARM7 while in DS mode.</td> </tr></table><span class="postbody">
<br/>
This is true only of <span style="font-style: italic">official</span> Nintendo DS games. One theory is that they don't have any direct access to the ARM7 because of radio frequency regulation. The other is that they don't have any direct access to the ARM7 <span style="font-style: italic">yet.</span> Analogy to early PS1 games, which didn't have direct access to the GPU and GTE; games were expected to go through the API in the BIOS until Sony opened up the hardware a year or two into the system's life cycle.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36218 - netdroid9 - Wed Feb 16, 2005 4:50 am</h4>
    <div class="postbody"><span class="postbody">I wouldn't bet on that.
<br/>
If there is a need for the logo though, swhy not program a passthrough bios rom (Currently the only bios is the modified header data) that inserts it automatically :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
