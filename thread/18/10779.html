<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>float problems - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > float problems</h2>
<div id="posts">
<div class="post">
    <h4>#97894 - koryspansel - Sat Aug 12, 2006 5:28 am</h4>
    <div class="postbody"><span class="postbody">Is there a reason this doesn't work?:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
float a = 100.0f
<br/>
float b = 50.0f;
<br/>
<br/>
if(a &gt; b)
<br/>
{
<br/>
    b = a;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
But this works:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
float a = 100.0f;
<br/>
float b = 50.0f;
<br/>
<br/>
if((int32)a &gt; (int32)b)
<br/>
{
<br/>
    b = a;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
b should be set to 100.0f in both cases, but the float compare doesn't seem to work for me.  Can anyone shed some light?  thanks.
<br/>
<br/>
--
<br/>
Kory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97930 - dj-ceejay - Sat Aug 12, 2006 11:49 am</h4>
    <div class="postbody"><span class="postbody">Doesn't DS use fixed point not floating point - even though the variable is called 'float'. Have a look in the libnds headers to see what it is defined as.<br/>_________________<br/>Fruit Machine Games:
<br/>
<a class="postlink" href="http://www.fmsoftware.info/" target="_blank">http://www.fmsoftware.info/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98063 - koryspansel - Sat Aug 12, 2006 11:29 pm</h4>
    <div class="postbody"><span class="postbody">Well, float is an intrisic type, what kind of ARM asm gets generated by the compiler when used, I have no idea.  And the nds headers do contain a float type:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
typedef float float32;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
But it's essentially the same thing I was using.  In the end it doesn't matter anymore, I've converted everything to fixed-point.  Thanks for the help though.
<br/>
<br/>
--
<br/>
Kory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98086 - silent_code - Sun Aug 13, 2006 4:01 am</h4>
    <div class="postbody"><span class="postbody">well, the name of a type really doesn't matter.
<br/>
<br/>
in the end everything is a matter of interpreting memory. so if you tell your compiler a variable is a float, it takes care of how the momory is being processed and interpreted. no matter what's the best type for use with the current hardware. sure, there are some limitations, but the nds is rather powerfull and is able to handle floats, though it's not the recommended type to use (definitely slower than fixed point math).
<br/>
<br/>
... all in all floats work fine for me. don't know why your code doesn't work. (?) :|</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#98101 - knight0fdragon - Sun Aug 13, 2006 6:05 am</h4>
    <div class="postbody"><span class="postbody">hmm perhaps this was a typo when pasting your code to the board, but the first part is missing a semicolon<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
