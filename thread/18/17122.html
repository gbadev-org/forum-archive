<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Saving hiscores without using a filesystem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Saving hiscores without using a filesystem</h2>
<div id="posts">
<div class="post">
    <h4>#172661 - sverx - Tue Feb 23, 2010 2:25 pm</h4>
    <div class="postbody"><span class="postbody">Hi
<br/>
  I'm sure this has been already asked but I'm sorry I really coudn't find it in here :|
<br/>
<br/>
The question is: how can I implement a savegame and/or hiscore save feature in a homebrew game without using any filesystem, if there's a chance? R4/AceKard/other(s) cards can emulate an EEPROM onboard on the cartridge, as far as I know, so actually it should be enough to write to EEPROM, right? If this is the case, does libnds has function for EEPROM read/write?
<br/>
<br/>
Thanks in advance for your answers :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172663 - Dwedit - Tue Feb 23, 2010 2:51 pm</h4>
    <div class="postbody"><span class="postbody">Maybe just use EFS, so it will writeback to your NDS file?<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172664 - sverx - Tue Feb 23, 2010 3:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">Maybe just use EFS, so it will writeback to your NDS file?</td> </tr></table><span class="postbody">
<br/>
<br/>
EFS is one of the options I'll consider using when I'll be sure there's no other option... it's not I'm against filesystems, it's that EFS doesn't work with some cards and I'd like to avoid using FAT because of the 'external' files that have to be copied to specific dirs, you know...
<br/>
<br/>
I believe commercial games have some EEPROM (or similar) chip inside them, can't we just pretend to have a similar chip too and leave to the R4/AceKard/WhateverCard the burden of saving the info to its SAV file?
<br/>
<br/>
Or any other idea?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172665 - Sektor - Tue Feb 23, 2010 5:14 pm</h4>
    <div class="postbody"><span class="postbody">The menus patch the EEPROM routines so they write to the flash but they won't patch homebrew since homebrew doesn't use Nintendo code and looks different to a commerical .nds file.
<br/>
<br/>
Any decent flash cart supports DLDI/libfat and since homebrew can write to the flash directly, there's no need for it to use EEPROM routines that get patched.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172666 - Lazy1 - Tue Feb 23, 2010 5:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sverx wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">Maybe just use EFS, so it will writeback to your NDS file?</td> </tr></table><span class="postbody">
<br/>
<br/>
EFS is one of the options I'll consider using when I'll be sure there's no other option... it's not I'm against filesystems, it's that EFS doesn't work with some cards and I'd like to avoid using FAT because of the 'external' files that have to be copied to specific dirs, you know...
<br/>
<br/>
I believe commercial games have some EEPROM (or similar) chip inside them, can't we just pretend to have a similar chip too and leave to the R4/AceKard/WhateverCard the burden of saving the info to its SAV file?
<br/>
<br/>
Or any other idea?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Don't more flashcart loaders support argv now?
<br/>
If not, make it a requirement so when enough homebrew does require it the flashcart devs will be forced to support it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172668 - sverx - Tue Feb 23, 2010 5:33 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sektor wrote:</b></span></td> </tr> <tr> <td class="quote">The menus patch the EEPROM routines so they write to the flash but they won't patch homebrew since homebrew doesn't use Nintendo code and looks different to a commerical .nds file.</td> </tr></table><span class="postbody">
<br/>
<br/>
Oh, thanks, I never knew how they work! So it means I can't use those features in my program... mmm
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Sektor wrote:</b></span></td> </tr> <tr> <td class="quote">Any decent flash cart supports DLDI/libfat and since homebrew can write to the flash directly, there's no need for it to use EEPROM routines that get patched.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm not concerned about <span style="font-style: italic">decent</span> flash carts ;) ... BTW, in general, FAT is more likely to work than EFS on 'not 1st choice' carts? Which pros/cons would you suggest about using EFS versus FAT?
<br/>
<br/>
Thanks! :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172670 - wintermute - Wed Feb 24, 2010 12:19 am</h4>
    <div class="postbody"><span class="postbody">EFS is basically a poor quality rip off of the nitrofs component of libfilesystem written by Eris. I really suggest avoiding it in favour of libraries which are actively worked on and supported. It's also better for end users and the community in general.
<br/>
<br/>
The best way to achieve what you want is to make an argv supporting card menu a requirement for your game. Currently that's hbmenu and akaio.
<br/>
<br/>
What I'm still undecided on with the nitrofs part of libfilesystem is whether to change working directory to the nitro filesystem or leave it up to the programmer which way to go. Basically we can leave the working directory as the path to the nds file, allowing you to simply save your high scores there, and access the nitrofs with a device specifier ( "nitrofs:/" ) - obviously the programmer can chdir to nitrofs:/ &amp; access files that way.  The other option is to automatically change the device on nitro init and leave the programmer to find the path from argv. libfat already switches to the path of the loaded nds file if argv is filled properly.
<br/>
<br/>
Obviously this leaves people using emulators with no way to save but I don't see that as any particularly big loss. Having said that there is talk of implementing a host file system protocol in desmume which may be the way forward.
<br/>
<br/>
Attempting to support any &amp; all cards is just a horrendously bad idea - we'd be much better off recommending a particular card for homebrew and sticking with that. Essentially we say "if your card doesn't support dldi and argv then sorry, you need a better card". This also gives us the option of supporting homebrew oriented stores like Electrobee, run by our own Natrium42, rather than filling the pockets of random chinese pirates.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172674 - Sektor - Wed Feb 24, 2010 5:06 am</h4>
    <div class="postbody"><span class="postbody">hbmenu didn't work on my DS-X last time I tried but I never considered that a decent card.  I still love the USB, it's so much easier than microSD swapping.<br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://gtamp.com/DS" target="_blank">GTAMP.com/DS</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172677 - sverx - Wed Feb 24, 2010 9:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">EFS is basically a poor quality rip off of the nitrofs component of libfilesystem written by Eris.</td> </tr></table><span class="postbody">
<br/>
<br/>
Does this mean I can use NitroFS instead of EFS and it'll probably work better than EFS? It's not I'm attempting to support any and all cards, I just want to be quite sure that it'll work on most common ones...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">The best way to achieve what you want is to make an argv supporting card menu a requirement for your game. Currently that's hbmenu and akaio.</td> </tr></table><span class="postbody">
<br/>
<br/>
I understand this, but I believe most people just won't buy another cart to run my game. :| So what of course I could do, if I'll choose to use FAT, is favour those and force other to copy directory and files to a <span style="font-style: italic">specific</span> location... (I'm assuming that '<span style="font-style: italic">argv supporting card menu</span>' means that I can get the NDS file location as a parameter of my <span style="font-style: italic">main()</span>, is this what that means?)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">[...]This also gives us the option of supporting homebrew oriented stores like Electrobee, run by our own Natrium42, rather than filling the pockets of random chinese pirates.</td> </tr></table><span class="postbody">
<br/>
<br/>
I know that and I agree, but I also believe some people discovered homebrew games and apps only after having already bought a random Chinese pirate cart, and it'd be a pity to disappoint a newcomer, I think.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172679 - wintermute - Wed Feb 24, 2010 4:05 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
(I'm assuming that 'argv supporting card menu' means that I can get the NDS file location as a parameter of my main(), is this what that means?) </td> </tr></table><span class="postbody">
<br/>
<br/>
Yes, hbmenu &amp; akaio will pass the full path to the nds file as argv[0], this is how the nitrofs component of libfilesystem finds the file.
<br/>
<br/>
hbmenu is open source and will work on any card with a bit of tweaking so people who have already bought chinese pirate cards don't need to be disappointed. Obviously the simplest way to use hbmenu is to replace the menu on the card - with AK* &amp; Ezflash that's as easy as dldi patching &amp; copying the nds file. With the original R4 the nds file needs patched and encrypted but there are tools to do that in devkitPro svn.
<br/>
<br/>
With some cards the main issue seems to be that their dldi has been compiled with arm9 specific code which crashes when run on the arm7 in the hbmenu loader. DSTT &amp; R4 appear to have this problem,not sure what other cards do. REing a dldi and recompiling is relatively straightforward though.
<br/>
<br/>
I have a DS-X in a box somewhere, I'll see if I can dig it out &amp; have a look. It wasn't a horrendously bad card - would have been better with sd storage though. What would have been even better is if they had opened the firmware &amp; fpga bits before vanishing into the night - the card is actually a rather neat piece of hardware and fully field reprogrammable.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172715 - sverx - Fri Feb 26, 2010 11:38 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">hbmenu is open source and will work on any card with a bit of tweaking so people who have already bought chinese pirate cards don't need to be disappointed. Obviously the simplest way to use hbmenu is to replace the menu on the card - with AK* &amp; Ezflash that's as easy as dldi patching &amp; copying the nds file. With the original R4 the nds file needs patched and encrypted but there are tools to do that in devkitPro svn.</td> </tr></table><span class="postbody">
<br/>
<br/>
That's interesting. Can you point me to some 'how-to' on the Net? I couldn't find anything with Google :|</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172797 - wintermute - Wed Mar 03, 2010 10:10 pm</h4>
    <div class="postbody"><span class="postbody">Sorry to take so long on this, been DSi hacking and coping with a teething baby.
<br/>
<br/>
I just uploaded prebuilt binaries for the current Homebrew Menu, including bootstrap code for original R4, ezflashV &amp; acekard2(i)
<br/>
<br/>
<a href="http://sourceforge.net/projects/devkitpro/files/hbmenu/" target="_blank">http://sourceforge.net/projects/devkitpro/files/hbmenu/</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172806 - sverx - Thu Mar 04, 2010 11:55 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">I just uploaded prebuilt binaries for the current Homebrew Menu, including bootstrap code for original R4, ezflashV &amp; acekard2(i)</td> </tr></table><span class="postbody">
<br/>
<br/>
That's nice! I'll check them in the weekend :)
<br/>
<br/>
Thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172808 - the kid in the clock - Fri Mar 05, 2010 12:04 am</h4>
    <div class="postbody"><span class="postbody">i've had the same problem, sverx. i ended up using libfat for saving games and efs for storing big additional files in the actual game. libfat is great - it's pervasive among homebrew. you can even use it with desmume if you turn on gba cart emulation (i use folder style - the desmume menus are a bit buggy) and patch your game with the mpcf.dldi. (which is just a matter of going: dlditool mpcf.dldi game.nds) i use that instead of the default dldi in my makefile.
<br/>
<br/>
the problem with efs (and nitrofs and libfilesystem - which i've not been able to get working) is that - since it uses libfat to find the nds file and people might rename that file - it goes hunting around for your nds file that has a specific 'id' inside. if you have a big card, that can mean a four/five second delay. you have to stick up a loading screen - i've noticed after the first time loading it gets quicker.
<br/>
<br/>
but if you do everything through libfat and then patch with mpcf.dldi - that's the quickest path. works on the emulator. works on the cards.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172809 - wintermute - Fri Mar 05, 2010 12:54 am</h4>
    <div class="postbody"><span class="postbody">Uh, did you bother to read the thread at all?
<br/>
<br/>
libfilesystem &amp; The Homebrew Menu I just upped the binaries for don't have the problems you're talking about. It's been sat in devkitPro svn for rather a long time as a reference design for how menus *should* operate with homebrew.
<br/>
<br/>
EFS is something you really should stop using. In fact it's probably the main reason why most card menus have ignored the argv protocol and you're stuck with scanning the card.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172810 - the kid in the clock - Fri Mar 05, 2010 1:08 am</h4>
    <div class="postbody"><span class="postbody">i guess i'm just reiterating things already said - and making a futile attempt to help - but nobody answered his question about how efs compares with libfat. that's all that i was answering.
<br/>
<br/>
so then help me out here. i understand how argv helps - it passes the filename to the binary. as dim and paltry as i am - i did comprehend that much of it. so they have to run hbmenu - then they run the game - is that the way it is?
<br/>
<br/>
first question - how does that help someone who just wants to do save files? it seems like you'd be great with libfat.
<br/>
<br/>
second question - why not just design the app to load using either argv-loading (or) the card scanning technique? then you just say "if you want things to load faster, get hbmenu." i don't know - maybe i am as stupid as you say - it's really depressing to find this out today. i also whacked off the mirror on my drivers side while backing out of my mom's garage.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172812 - wintermute - Fri Mar 05, 2010 2:15 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>the kid in the clock wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
so then help me out here. i understand how argv helps - it passes the filename to the binary. as dim and paltry as i am - i did comprehend that much of it. so they have to run hbmenu - then they run the game - is that the way it is?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
depending on the card you have, you can use hbmenu as a direct replacement for the menu provided by your card manufacturer.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
first question - how does that help someone who just wants to do save files? it seems like you'd be great with libfat.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Well, it's actually equally useful to libfat since an argv supporting loader sets the working directory to the folder where the launched nds file resides. This avoids all that nonsense with putting support files in the root of the card or some specific folder.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
second question - why not just design the app to load using either argv-loading (or) the card scanning technique? then you just say "if you want things to load faster, get hbmenu."
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
because
<br/>
<br/>
1. using the card scanning technique is slow and prone to error and
<br/>
2. not using the card scanning technique gives the other card manufacturers a reason to provide an argv supporting loader.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
 i don't know - maybe i am as stupid as you say - it's really depressing to find this out today. i also whacked off the mirror on my drivers side while backing out of my mom's garage.</td> </tr></table><span class="postbody">
<br/>
<br/>
Pretty sure I didn't say you were stupid and, ouch, it's really annoying when stuff like that happens. Hope it's not too expensive.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172817 - sverx - Fri Mar 05, 2010 9:59 am</h4>
    <div class="postbody"><span class="postbody">Thanks both for both your replies. Now I understand that 'argv stuff' and I'll also update my R4 card with hbmenu this weekend, so that I'll be able to try it, but I'm still one step away from the solution, so I'll ask your help once more.
<br/>
<br/>
* Say I would like to distribute my game as a single NDS file.
<br/>
* Say I would like to save hi-scores (into the same NDS file, if possible)
<br/>
* Say I still want the game to run on those carts that aren't passing my code the argv[0], even if they don't deserve it ;)
<br/>
<br/>
What would you suggest?
<br/>
<br/>
<span style="font-size: 9px; line-height: normal">(I would say NitroFS, if I understood completely what's in this thread... but I still don't understand if I'll have the same compatibility problems that EFS has...)</span>
<br/>
<br/>
Thanks! :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172821 - the kid in the clock - Fri Mar 05, 2010 4:03 pm</h4>
    <div class="postbody"><span class="postbody">heretical as this sounds - i really think you'll need efs. nitrofs can't do writes. wudn't be too hard to hack write support into nitrofs. but you kind of just have to try it for yourself and see what works for you.
<br/>
<br/>
also, the only recent version of efs that's worked for me is this one posted by headspin: <a href="http://forum.gbadev.org/viewtopic.php?p=167652#167652" target="_blank">http://forum.gbadev.org/viewtopic.php?p=167652#167652</a>
<br/>
<br/>
wintermute - okay i see. very good point about the working directory getting set automatically.
<br/>
<br/>
anyway i have a cyclods and it looks like argv is passed in more recent builds - this is cause for rejoice.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172823 - wintermute - Fri Mar 05, 2010 9:25 pm</h4>
    <div class="postbody"><span class="postbody">Right now we don't support writing to nitroFS and I'm really not at all sure that we should. Personally I'd tend towards saving in the same directory as the nds file, assisted by the magic of argv. There is certainly no guarantee that the nitro filesystem will always be writable. Something else to consider is that the user will lose their high scores when you update your game if you do it this way.
<br/>
<br/>
As for running on cards that don't support argv, just fail with an error message telling the user why - market forces will demand that all card menus support argv in a surprisingly short time period. Almost every card on the market now supports dldi and that happened within a few months of the move to libfat and removal of code to support every card we could. Short term pain *will* give us long term gain - can you imagine a card that doesn't have dldi autopatching now?
<br/>
<br/>
You can of course provide an hbmenu archive or a link to the devkitPro release.
<br/>
<br/>
We do plan on doing a lot more with the hbmenu in the near future<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172825 - headspin - Fri Mar 05, 2010 9:34 pm</h4>
    <div class="postbody"><span class="postbody">I just don't think developers will want to limit their audience just so card manufacturers get their act together. Most people aim to run their apps on as many cards as they can. I know we did cartwheels to try and support as many as we could. Some cards had launchers that left very little RAM so we had to compress everything. Some cards didn't like EFS so we ended up releasing an EFS and FAT version (the latter writing to \Data\Game). I guess the best way would be to attempt to use argv first and if that fails write to \Data\Game.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172829 - wintermute - Fri Mar 05, 2010 11:18 pm</h4>
    <div class="postbody"><span class="postbody">You're not limiting your audience, stop looking at it that way. What you're actually doing by adding code to support poorly implemented launchers is allowing them to get away with launchers that really shouldn't work. Ultimately this is detrimental to the homebrew scene, both developers and users alike.
<br/>
<br/>
If devs had taken that attitude with dldi then we'd *still* be stuck with that insane detect the card code in the old gba_nds_fat.
<br/>
<br/>
Also: how on earth does a card manage to work with libfat but fail with EFS? Sounds like a major bug in EFS to me. That doesn't happen in the orginal code eris wrote which Noda ripped off.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172843 - sverx - Mon Mar 08, 2010 11:03 am</h4>
    <div class="postbody"><span class="postbody">Ok, now I don't want to go OT in the thread I started myself ;) so where can we discuss about hbmenu? Another post in this forum? Another forum? Thanks :)
<br/>
<br/>
About the topic... well, maybe it's because I didn't experience that pre-dldi era (I started this journey in DS hb in July 2007) so actually I feel I should just try to release something that works on as many configuration as it is possibile. That means to me that I'll probably stick to FAT (since it seems there's no safe way to have an EFS/NitroFS r/w fs...) and support both argv[0] passing carts/firmwares (so those smart people using them will place their nds file wherever they want together with their external file) and also those which do not pass argv[0]... in this case the external files should be placed to a fixed location like /data/gamename. (actually what also headspin wrote)
<br/>
<br/>
Maybe one day I'll be able to write an homebrew that will make everybody upgrade their carts firmware just to be able to use my software... I'm sorry I believe it's still not that time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172845 - wintermute - Mon Mar 08, 2010 1:19 pm</h4>
    <div class="postbody"><span class="postbody">Ever heard the phrase "If you're not part of the solution, you're part of the problem"?
<br/>
<br/>
Writing special case code in order to support as wide a variety of flashcards as possible is selfish and short sighted. All you're doing is hiding the problem and creating work for yourself and every other homebrew developer.
<br/>
<br/>
Make users aware that there's an alternative which is *easily* supported by the card manufacturers, market forces will do the rest. It worked with DLDI, it will work with this.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172850 - sverx - Mon Mar 08, 2010 2:01 pm</h4>
    <div class="postbody"><span class="postbody">I'll take into account what you say.
<br/>
btw, where can we discuss hbmenu?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172855 - ritz - Mon Mar 08, 2010 5:17 pm</h4>
    <div class="postbody"><span class="postbody">I regurgitated something about it here: <a href="http://forum.gbadev.org/viewtopic.php?p=172854" target="_blank">http://forum.gbadev.org/viewtopic.php?p=172854</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172867 - zeruda - Mon Mar 08, 2010 8:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">Make users aware that there's an alternative which is *easily* supported by the card manufacturers, market forces will do the rest. It worked with DLDI, it will work with this.</td> </tr></table><span class="postbody">
<br/>
<br/>
Does this require users of existing cards to purchase new hardware or can it be fixed by a firmware update?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172869 - SteveH - Tue Mar 09, 2010 1:42 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>zeruda wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">Make users aware that there's an alternative which is *easily* supported by the card manufacturers, market forces will do the rest. It worked with DLDI, it will work with this.</td> </tr></table><span class="postbody">
<br/>
<br/>
Does this require users of existing cards to purchase new hardware or can it be fixed by a firmware update?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
It's a simple firmware update</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
