<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Howto check for DS Lite - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Howto check for DS Lite</h2>
<div id="posts">
<div class="post">
    <h4>#145353 - AshaiRey - Wed Nov 14, 2007 12:01 pm</h4>
    <div class="postbody"><span class="postbody">Is there a simple way to check if the DS is a DSLite or and older version that doesn't allow setting brightness?
<br/>
<br/>
I just want ot prevent that setting brightness results in a system hang on a older DS.
<br/>
<br/>
Ps, i searched the forum but didn't found a simple solution.<br/>_________________<br/>My personal ranting at blog.zoelen.net</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145357 - Mighty Max - Wed Nov 14, 2007 12:28 pm</h4>
    <div class="postbody"><span class="postbody">You can test for the newer power management chip by testing if Bit(1) of Register0 can be set to 1 (mute sound) - dont forget to clear that bit again.  (see <a href="http://nocash.emubase.de/gbatek.htm#dspowermanagement" target="_blank">http://nocash.emubase.de/gbatek.htm#dspowermanagement</a> )<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145360 - AshaiRey - Wed Nov 14, 2007 1:02 pm</h4>
    <div class="postbody"><span class="postbody">@ Mighty Max
<br/>
<br/>
Thanks, i've found the description you mentioned and that seems what i am looking for however i have not the slightest idea how to read that bit.<br/>_________________<br/>My personal ranting at blog.zoelen.net</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145361 - Mighty Max - Wed Nov 14, 2007 1:10 pm</h4>
    <div class="postbody"><span class="postbody">First off: it is only accessible on the arm7.
<br/>
<br/>
Check libnds sources ( <a href="http://devkitpro.cvs.sourceforge.net/devkitpro/libnds/source/arm7/spi.c?view=markup" target="_blank">http://devkitpro.cvs.sourceforge.net/devkitpro/libnds/source/arm7/spi.c?view=markup</a> ) to take a look on how to read/write the power management register, or simply use the libnds provided function ;)<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145402 - Cydrak - Wed Nov 14, 2007 10:42 pm</h4>
    <div class="postbody"><span class="postbody">Another option is <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=11505&amp;postdays=0&amp;postorder=asc&amp;highlight=lovelite&amp;start=15" target="_blank">checking bit 6 of reg4</a>. Lites have this set to 1. On the Phat it reads 0, apparently due to <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#dspowermanagement" target="_blank">mirroring</a>. (Caveat, I don't have a Phat myself...)
<br/>
<br/>
Also, you'll wanna disable interrupts during PM or other spi access, as per the warning in serial.h.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#145417 - HyperHacker - Thu Nov 15, 2007 2:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cydrak wrote:</b></span></td> </tr> <tr> <td class="quote">Another option is <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=11505&amp;postdays=0&amp;postorder=asc&amp;highlight=lovelite&amp;start=15" target="_blank">checking bit 6 of reg4</a>. Lites have this set to 1. On the Phat it reads 0, apparently due to <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#dspowermanagement" target="_blank">mirroring</a>. (Caveat, I don't have a Phat myself...)</td> </tr></table><span class="postbody">Works for me.<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
