<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Slowing down after 5 - 10 min {solved without finding cause} - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Slowing down after 5 - 10 min {solved without finding cause}</h2>
<div id="posts">
<div class="post">
    <h4>#167241 - Emmanuel - Fri Mar 06, 2009 9:21 pm</h4>
    <div class="postbody"><span class="postbody">I have no idea of the possible causes, but my game is slowing down after 5 to 10 minutes of continuous play...
<br/>
<br/>
Anyone has any ideas so I can start looking for the cause? I'm totally clueless....
<br/>
<br/>
Ram is not increasing...
<br/>
<br/>
EDIT: LOL... I just compiled after coming back home... and now it seems to be working... well, I guess I'll post news about this project soon... this also means, I couldn't find the cause...</span><span class="gensmall"><br/><br/>Last edited by Emmanuel on Sat Mar 07, 2009 8:39 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#167242 - Pete_Lockwood - Fri Mar 06, 2009 9:46 pm</h4>
    <div class="postbody"><span class="postbody">If it allocates memory, perhaps a leak or fragmentation?<br/>_________________<br/>It's not an illusion, it just looks like one.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167243 - elhobbs - Fri Mar 06, 2009 9:54 pm</h4>
    <div class="postbody"><span class="postbody">can you be a little more specific about what you mean by "slowing down"? does it go from 60 fps to 2fps? instantly? gradually? is sound skipping? does it use wifi? is there a place to download the game and test it? how do you know it is slowing down?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167246 - DiscoStew - Sat Mar 07, 2009 12:06 am</h4>
    <div class="postbody"><span class="postbody">Hard to answer why it is supposedly doing that without a deeper examination....basically seeing what your code is doing. Check your loops. Do they run off of variables that can be changed to increase or decrease looping execution, and are those variables changing?<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167254 - Emmanuel - Sat Mar 07, 2009 7:40 am</h4>
    <div class="postbody"><span class="postbody">LOL... I just compiled after coming back home... and now it seems to be working... well, I guess I'll post news about this project soon... this also means, I couldn't find the cause...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Pete_Lockwood wrote:</b></span></td> </tr> <tr> <td class="quote">If it allocates memory, perhaps a leak or fragmentation?</td> </tr></table><span class="postbody">
<br/>
It does allocate memory... but, after initiation, it just reads until the room is destroyed, when it deletes all the resources, but it happens while the room executes
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Check your loops. Do they run off of variables that can be changed to increase or decrease looping execution, and are those variables changing?</td> </tr></table><span class="postbody">
<br/>
Um... only ones that do change to change the looping execution are the sprite speed functions, they are called only when the character's state changes... and I've left the ds completely idle and same happens... also, I've tried keeping the state changing, and same happens...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">can you be a little more specific about what you mean by "slowing down"? does it go from 60 fps to 2fps? instantly? gradually? is sound skipping? does it use wifi? is there a place to download the game and test it? how do you know it is slowing down?</td> </tr></table><span class="postbody">
<br/>
Well, I can't be too precise, but I'd say it goes to 30fps, and it's more like instantly... but looking through my code, I don't see the reason...
<br/>
The game has the arm7 from libnds, no mods, so it has wifi, but not that I use it, it's just mentioned in the arm7, arm9 has nothing wifi related...
<br/>
Sound, I don't know, because since I upgraded to the latest libnds, DiscoStew's streamer stopped working, and as of now, I don't use small sounds
<br/>
<br/>
As for download: Mediafire, *warning* may contain ads (well, not the file itself)
<br/>
Version with the slow down: <a href="http://www.mediafire.com/file/n11yo2eonog/SSBClash_altair.nds" target="_blank">http://www.mediafire.com/file/n11yo2eonog/SSBClash_altair.nds</a>
<br/>
That version uses the latest libnds
<br/>
<br/>
Previous version: <a href="http://www.mediafire.com/file/jzojgkemmyj/SSBClash_kratos.nds" target="_blank">http://www.mediafire.com/file/jzojgkemmyj/SSBClash_kratos.nds</a>
<br/>
This version used the version of like beginnings of february of libnds, also, it has less code, and I left it for like 15 minutes with no frame problems....
<br/>
<br/>
Also, this frame problem seems to be cart only, and not happening on no$gba
<br/>
<br/>
Currently, I'm checking this new parts I had added... as they seem to be the clue...
<br/>
<br/>
I don't think I'll post the code for now... it may be somewhat huge... though at least I believe it's well structured, meaning it's easy to find the things (it's not a huge text file)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#167259 - DiscoStew - Sat Mar 07, 2009 9:33 am</h4>
    <div class="postbody"><span class="postbody">Hah, while I don't have an answer for you, you at least gave me a reason to check back at the devkitPro site. It appears that the toolkit and extras were all updated a couple weeks ago, and I think it was around that time when people began saying that they were having problems with my streamer. I better update.
<br/>
<br/>
EDIT:
<br/>
<br/>
Double HAH!  Updated, compile my latest streamer version (unreleased), and it crashed in No$GBA. Looks like I've got my work cut out for me.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
