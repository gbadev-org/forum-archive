<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>VRAM banks 128Kb? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > VRAM banks 128Kb?</h2>
<div id="posts">
<div class="post">
    <h4>#75210 - patroclus02 - Sat Mar 11, 2006 12:41 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
I'm sure this is stupid question.. but according to docs, each VRAM bank from 
<br/>
A to D are 128 Kb in size. But each bank can be divided intro 4 char memory blocks of 16Kb, or 32 map memory blocks of 2Kb. That makes 64Kb (32*2Kb or 4*16Kb)... isn't this contradictory?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75216 - Webez - Sat Mar 11, 2006 1:10 am</h4>
    <div class="postbody"><span class="postbody">That's on gba. There are 8 16 kbytes char memory blocks on ds for each of those banks. This is one of the problems of not having as much documentation or tutorials about ds as are about gba.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75245 - patroclus02 - Sat Mar 11, 2006 11:03 am</h4>
    <div class="postbody"><span class="postbody">So there're 8 banks of 16Kb, and that is 128Kb, right.
<br/>
What about the map blocks? Are there 32 banks of 4Kb, or are there 64 banks of 2Kb??
<br/>
In GBA there're 32 2Kb blocks..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75247 - Webez - Sat Mar 11, 2006 11:10 am</h4>
    <div class="postbody"><span class="postbody">There should be 64 but I don't know why if I use one greater than 32 (you can test this things easy with consoleInitDefault and see if it prints something) it doesn't work. I would like to know if this must be like that or if it is a bug</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75248 - patroclus02 - Sat Mar 11, 2006 11:35 am</h4>
    <div class="postbody"><span class="postbody">Yes, I asked because I already tried to set map bank to 33 or higher and it does not work (but the emulator shows data correctly written to RAM memory address). So I supposed it won't for char block higher than 4 either.. and that's why  thought VRAM banks were 64Kb in size.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75279 - DekuTree64 - Sat Mar 11, 2006 9:00 pm</h4>
    <div class="postbody"><span class="postbody">You can only reach the first 64KB for screen map starting addresses. There just aren't enough bits in the BG control regs to expand both of them, and I think the most screen data you could possibly use is 40 blocks (2 1024x1024 extended affine BGs, and 2 512x512 text BGs). I haven't tested it, but I assume you can let one of those 1024x1024's run past block 31, so it's still possible to have them all at once.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
