<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>libnds Real Time Counter not working on R4? ._. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > libnds Real Time Counter not working on R4? ._.</h2>
<div id="posts">
<div class="post">
    <h4>#130389 - royconejo - Sat Jun 02, 2007 10:45 pm</h4>
    <div class="postbody"><span class="postbody">Hello =)!
<br/>
<br/>
I've compiled all the examples with DevKitPro r20 and tested every one of them on R4DS. Calls to the RTC are not working at all. Everything else is just fine. 
<br/>
<br/>
I see this problem specifically in: 
<br/>
<br/>
RealTimeClock/Watch (RTC used to display h/m/s), I get the following:
<br/>
<br/>
0:0:0am
<br/>
(null) 0 2000
<br/>
<br/>
Graphics/3D/BoxTest (RTC used for profiling), this is the only output I can get:
<br/>
<br/>
Box test cycle count
<br/>
[...and nothing else below]
<br/>
<br/>
This behavior is normal on R4? there is any workaround?
<br/>
<br/>
<br/>
Thanks for your help! ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130410 - gabebear - Sun Jun 03, 2007 2:22 am</h4>
    <div class="postbody"><span class="postbody">This is probably related to the IPC overhaul... I don't know if the IPC is usable yet. Since only the ARM7 has access to the RTC, you have to use the IPC(Inter-Process Communication) to access the RTC from an ARM9 program.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130416 - wintermute - Sun Jun 03, 2007 3:37 am</h4>
    <div class="postbody"><span class="postbody">Currently the RTC is not accessible with a standard ARM7 core, this will change soon(ish)<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130422 - royconejo - Sun Jun 03, 2007 6:50 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">Currently the RTC is not accessible with a standard ARM7 core, this will change soon(ish)</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks!
<br/>
<br/>
I see, this is a problem specifically related to the current version of libnds, right? (and if so, why there are examples for something not implemented yet? .__.) 
<br/>
<br/>
And... how was it done before this new "IPC" thing? =)?
<br/>
<br/>
So I have to read the RTC from ARM7 and implement some sort of "communication" between this and the ARM9 to read the results from there? <span style="font-style: italic">what is missing on libnds for this to happen?</span> can I help somehow? I'm very (extremely xD) new to DS development but not to programming or ARM microcontrollers, just need a little background on whats going on and thats it! =P
<br/>
<br/>
Thanks again =)!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
