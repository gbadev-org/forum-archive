<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Anyone working on Nitro-FAT support? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Anyone working on Nitro-FAT support?</h2>
<div id="posts">
<div class="post">
    <h4>#90988 - PeterM - Mon Jul 03, 2006 9:02 pm</h4>
    <div class="postbody"><span class="postbody">Up until now I've been using GBFS, but would like to make a switch to using Nitro-FAT file data instead.
<br/>
<br/>
The main problem I have with GBFS is that it only supports a flat directory structure, which limits how easily games can be ported from other systems.
<br/>
<br/>
From a hardware point of view, Nitro-FAT is a solved problem - SuperCards etc can handle NDS backups easily enough, and seem to do the Right Thing when the filesystem is accessed.
<br/>
<br/>
But as far as I know nobody is working on a DS library which can read from this filesystem, is that correct?<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90996 - Sausage Boy - Mon Jul 03, 2006 9:38 pm</h4>
    <div class="postbody"><span class="postbody">Ever heard of Chishm's FAT library, which supports almost every device, with a non flat directory structure, write support, etc etc.
<br/>
<br/>
I belive the Nitro-Fat support of the piracy devices depends on recognizable parts of code Nintendo's library uses when it accesses the filesystem, which of course wouldn't work with homebrew implementions.
<br/>
<br/>
And using thie file structure in homebrew would give device makers a legimate reason to include good, hardware level support for this, which is bad, since it supports piracy.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91005 - PeterM - Mon Jul 03, 2006 10:17 pm</h4>
    <div class="postbody"><span class="postbody">I've read about Chishm's FAT library, but I've not tried using it yet. I posted a message on its thread regarding SuperCard SD support.
<br/>
<br/>
I don't want to have homebrew confused with piracy -- I just want to have a filesystem which 'just works' on as many cards as possible (no separate builds etc) with as little hassle as possible.<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91084 - parrot_ - Tue Jul 04, 2006 1:35 pm</h4>
    <div class="postbody"><span class="postbody">Couldn't you create a flat file compressed FAT FS?<br/>_________________<br/>Squak! etc.
<br/>
<a class="postlink" href="http://squakly.wordpress.com" target="_blank">My Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91085 - PeterM - Tue Jul 04, 2006 1:49 pm</h4>
    <div class="postbody"><span class="postbody">Yep, but then that has to either be layered on top of another filesystem, like Chishm's or GBFS, or included in the binary.
<br/>
<br/>
Which makes it no better than those methods.
<br/>
<br/>
The FAT lib has poor SuperCard support, and GBFS inflates the executable part of the binary, causing very long startup times as the binary is copied to the SuperCard's flash RAM.
<br/>
<br/>
This also limits the amount of data usable to the size of the flash RAM, which can be a pain if you're porting a game which uses large PAK or WAD files.
<br/>
<br/>
Looks like I'm the only one keen on Nitro-FAT support though, so I'll just get on with it. ;-)<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91169 - tepples - Wed Jul 05, 2006 12:55 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>PeterM wrote:</b></span></td> </tr> <tr> <td class="quote">The FAT lib has poor SuperCard support</td> </tr></table><span class="postbody">
<br/>
By "SuperCard" do you mean SuperCard SD? As I understand it, Chishm's FAT library works with SuperCard CF as long as you turn off SD support.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">and GBFS inflates the executable part of the binary, causing very long startup times as the binary is copied to the SuperCard's flash RAM.</td> </tr></table><span class="postbody">
<br/>
If you need less than about 2 MB of data, use the bin2s method. If you need more, then you need to load it into the RAM anyway.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91172 - PeterM - Wed Jul 05, 2006 1:02 am</h4>
    <div class="postbody"><span class="postbody">Sorry for being unclear, yes you are right, I mean SuperCard SD.
<br/>
<br/>
Regarding the data, indeed it needs to get into RAM at the end of the day anyway, but not all at once.<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91174 - tepples - Wed Jul 05, 2006 1:06 am</h4>
    <div class="postbody"><span class="postbody">Apparently you can recompile Chishm's FAT library with read-only support for SD adapters.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91203 - Lynx - Wed Jul 05, 2006 9:07 am</h4>
    <div class="postbody"><span class="postbody">And now that DSLinux has read/write support for SD devices, I'd guess it's only a matter of time before Chishm's FAT library can do it as well.<br/>_________________<br/><a class="postlink" href="http://www.ndshb.com" target="_blank">NDS Homebrew Roms &amp; Reviews</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91215 - EyeballKid - Wed Jul 05, 2006 10:52 am</h4>
    <div class="postbody"><span class="postbody">There is also a version of the FAT library out there that _does_ have SD (supercard and M3) support. I think it's used in Moonshell.
<br/>
 It has some assembly language files (.s), so can require a little more fiddling depending on your makefiles. I think there has been some attempt to convert the asm to C and integrate it back into the original version, but so far I don't think anyone has got it going.
<br/>
<br/>
Anyway, this is all off-topic I guess - completely different thing to accessing filesystems embedding in the NDS file!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91255 - josath - Wed Jul 05, 2006 6:16 pm</h4>
    <div class="postbody"><span class="postbody">If you ask WinterMute nicely, he'll give you his modded version of the FATlib which supports both supercard SD/CF, M3 SD/CF all at the same time, with read&amp;write. 
<br/>
<br/>
From what I understand, Chishm is hard at work at integrating everything together to make another release sometime soon hopefully.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#92589 - PeterM - Fri Jul 14, 2006 12:40 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the head's up guys!
<br/>
<br/>
Sorry for not replying sooner, I've been on holiday.<br/>_________________<br/><a href="http://aaiiee.wordpress.com/" target="_blank">http://aaiiee.wordpress.com/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
