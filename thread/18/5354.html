<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Touchscreen Calibration - Console - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Touchscreen Calibration - Console</h2>
<div id="posts">
<div class="post">
    <h4>#39004 - sashswash - Sun Apr 03, 2005 2:12 am</h4>
    <div class="postbody"><span class="postbody">Hey Guys - 
<br/>
<br/>
I'm new to the DS/GBA developing scene, but so far i'm working on developing a simple keyboard / button interface. I am using the console functions, and a button class i created, to place "buttons" on screen. The problem that i am having is lining up the buttons with where the touchscreen reads the input (it is a calibration issue). Here is some code:
<br/>
<br/>
typedef struct {int x,y;} COORD;  // A coordinate structure
<br/>
COORD temp;
<br/>
temp.y = (IPC-&gt;touchY)/193;
<br/>
<br/>
the '/193' for the temp.y value seems to produce the most accurate results. However, because i am using division, the amount of error in the calculation increases as i move the stylus down the screen. Do you guys have any suggestions or examples of calibration code? 
<br/>
<br/>
Basically, i need to divide the touchscreen into a grid of 32x24 "touch areas".</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#39018 - Darkain - Sun Apr 03, 2005 5:36 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://www.bottledlight.com/ds/index.php/Misc/TouchScreen" target="_blank">http://www.bottledlight.com/ds/index.php/Misc/TouchScreen</a>
<br/>
<br/>
the code that i came up with is at the very bottom of the page.
<br/>
<br/>
<br/>
and just in case you dont have min/max...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define max(a,b)  (((a) &gt; (b)) ? (a) : (b))
<br/>
#define min(a,b)  (((a) &lt; (b)) ? (a) : (b))</td> </tr></table><span class="postbody"><br/>_________________<br/>-=- Darkain Dragoon -=-
<br/>
<a class="postlink" href="http://www.darkain.com" target="_blank">http://www.darkain.com</a>
<br/>
<a class="postlink" href="http://ds.darkain.com/hack" target="_blank">DarkStar</a> for <a class="postlink" href="http://ds.darkain.com" target="_blank">Nintendo DS</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
