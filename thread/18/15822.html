<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Meaning of BGn_X0 & BGn_Y0 values - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Meaning of BGn_X0 & BGn_Y0 values</h2>
<div id="posts">
<div class="post">
    <h4>#160404 - koryspansel - Tue Jul 15, 2008 6:18 am</h4>
    <div class="postbody"><span class="postbody">Evening,
<br/>
<br/>
gbatek has the following to say about the text scroll registers: "Specifies the coordinate of the upperleft first visible dot of BG0 background layer, ie. used to scroll the BG0 area."
<br/>
<br/>
However, that's not what I'm seeing.  It seems to me that it's actually the translation from the BG origin to the screen origin.  Anyone care to shed some light?  Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160408 - Cydrak - Tue Jul 15, 2008 9:01 am</h4>
    <div class="postbody"><span class="postbody">I think you have it right, but aren't those equivalent? :-)
<br/>
<br/>
If you prefer math,
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Tv = S - B = &lt;X0, Y0&gt;   ; the BG=&gt;screen translation you mention
<br/>
S  = B + Tv             ; Screen origin
<br/>
B  = S - Tv             ; BG origin</td> </tr></table><span class="postbody">
<br/>
Setting B = (0, 0), you get S = Tv = (X0, Y0), the screen origin in BG coordinates. Which is what GBAtek tries to say: BG pixel (X0, Y0) appears in the upper-left onscreen.
<br/>
<br/>
If instead you use S = (0, 0), that gives B = -Tv = (-X0, -Y0), the BG origin relative to the screen. Increasing X0/Y0 pushes the BG the "other" way (here left/upward), which is also true.
<br/>
<br/>
In more basic terms, one could say that what you're moving is the camera (S = Tv), not the world (B = -Tv).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160409 - koryspansel - Tue Jul 15, 2008 9:57 am</h4>
    <div class="postbody"><span class="postbody">Inversely related anyway, depending on which coordinate system your talking about.  That's essentially what I was confused about.  I agree with the math 100%.
<br/>
<br/>
I guess the problem was here: "coordinate of the upperleft first visible dot of BG0."  To me that means (0,0) of BG0 maps to (x,y) on screen (in a strangely worded manner, perhaps), but now I understand that he meant that coordinate (x,y) of BG0 that is the first one visible on the screen (0,0).
<br/>
<br/>
Thanks for the clarification!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#160419 - tepples - Tue Jul 15, 2008 1:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>koryspansel wrote:</b></span></td> </tr> <tr> <td class="quote">To me that means (0,0) of BG0 maps to (x,y) on screen (in a strangely worded manner, perhaps)</td> </tr></table><span class="postbody">
<br/>
But that is how it works for sprites.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
