<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DSi XpertTeak coprocessor (DSP) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > DSi XpertTeak coprocessor (DSP)</h2>
<div id="posts">
<div class="post">
    <h4>#177999 - nocash - Fri Jul 12, 2013 2:14 pm</h4>
    <div class="postbody"><span class="postbody">The DSi is said to contain a CEVA "XpertTeak" DSP coprocessor (additionally to the ARM9 and ARM7 processors). The ARM9 appears to access that DSP thing via ports 4004300h..4004337h. Other than that, things I don't know are:
<br/>
<br/>
* DSP Instructions Set (opcodes) ?
<br/>
* DSP Clock speed ?
<br/>
* DSP I/O ports (at DSP side) ?
<br/>
* DSP Memory Map ?
<br/>
<br/>
I haven't yet found any official datasheets / programmers guides yet (though at least the opcodes shoule be documented somewhere).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#178008 - nocash - Mon Jul 15, 2013 12:47 am</h4>
    <div class="postbody"><span class="postbody">I've found one (1) webpage mentioning the Nintendo DSi's XpertTeak, <a href="http://www.elotrolado.net/hilo_comprobando-la-potencia-del-homebrew-para-dsi_1271774_s10" target="_blank">http://www.elotrolado.net/hilo_comprobando-la-potencia-del-homebrew-para-dsi_1271774_s10</a> using a translation machine, the text says:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">"Do not you know? Well you know. The main cpu is an ARM946E-S to 134.056mhz. The sub processor is a 33.514mhz ARM7TDMI. The CEVA-DSP ​​is the same mhz XPertTeak the main cpu."</td> </tr></table><span class="postbody">
<br/>
No idea where that info comes from, and if it's correct. Elsewhere I've read that the XpertTeak thing can be clocked at more than 500MHz... but  well, 134MHz might be more reasonable for the DSi. I've also read that an XpertTeak can execute 8 instructions simultaneously... whatever that means... if it means 8 instructions at 134MHz... that would be 1 billion instructions per second... ?
<br/>
<br/>
Even if it isn't <span style="font-style: italic">that</span> fast - I would assume that the XpertTeak is having at least as much horsepower as the DSi's ARM9 processor. But then... I don't understand why Nintendo+DSi+XpertTeak doesn't get more than one (1) single google hit... did I miss or misunderstood somehing???
<br/>
<br/>
As it looks to me, Nintendo could have gotten the same attention when re-releasing the Gameboy Camera instead of building the DSi.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#178009 - FluBBa - Mon Jul 15, 2013 10:36 am</h4>
    <div class="postbody"><span class="postbody"><a href="http://www.ceva-dsp.com/CEVA-Powered-Products" target="_blank">http://www.ceva-dsp.com/CEVA-Powered-Products</a>
<br/>
<br/>
Almost at the bottom is the DSi and 3DS pictures.
<br/>
<br/>
<a href="http://data.eefocus.com/myspace/5/26152/bbs/1199851067/1199851107_27313e48.pdf" target="_blank">http://data.eefocus.com/myspace/5/26152/bbs/1199851067/1199851107_27313e48.pdf</a>
<br/>
<br/>
Here is a doc about a previous DSP core from Ceva (DSP group).
<br/>
Hope that can bring something to the table.<br/>_________________<br/>I probably suck, my not is a programmer.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#178010 - nocash - Mon Jul 15, 2013 4:23 pm</h4>
    <div class="postbody"><span class="postbody">Good finding! I've no idea how close the TeakLite is resembling the XpertTeak, but the Lite datasheet is very nice to get started.
<br/>
<br/>
I've picked some words/sentences from the Lite datasheet, like "bkrep Block Repeat"... but that merely revealed some older "Oak" datasheets from Atmel and LSI :-/
<br/>
<br/>
The <a href="http://www.ceva-dsp.com/CEVA-Products" target="_blank">http://www.ceva-dsp.com/CEVA-Products</a> page only lists three product families: CEVA-TeakLite, CEVA-X, and CEVA-XC. But nothing about "XpertTeak", almost looks as if XpertTeak is some inofficial nickname (for CEVA-X, maybe), or XpertTeak is some old discontinued stuff...???
<br/>
<br/>
About the instruction set, the TeakLite datasheet seems to be the one and only document (aside from the old Oak docs). The newer CEVA-X(C) opcodes seem to be undocumented (apparently supposed to be programmed in HLL code, or via preprogrammed audio/video decoder libraries).
<br/>
<br/>
Best might be to find some DSi binaries and compare them with the TeakLite datasheet...
<br/>
<br/>
Some related I/O ports on ARM9 side are 4004044h..400404Bh (WRAM mapping for TeakDSP program code), and 4004308h (TeakDSP reset/config).
<br/>
<br/>
EDIT: Here's some timeline, based on press releases mentioning the launch (or licensing dates in some cases) of different CEVA DSP cores.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">  Oak             January, 1998 (CWDSP1650 datasheet date)
<br/>
  TeakLite        April 6, 2000 (licensing date)
<br/>
  XpertTeak         Jul 8, 2002
<br/>
  CEVA-X      December 08, 2003
<br/>
  TeakLite II  January 10, 2005
<br/>
  TeakLite III    June 25, 2007
<br/>
  TeakLite 4     April 16, 2012
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
