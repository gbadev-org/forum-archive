<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>About Toon Shading and lights - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > About Toon Shading and lights</h2>
<div id="posts">
<div class="post">
    <h4>#41135 - Locke - Mon Apr 25, 2005 9:37 pm</h4>
    <div class="postbody"><span class="postbody">I've been trying to make a renderer using toon shading and textures, but all I get are textured, flat-shaded polygons. No cel-shading, no black edges around the model... (tested on ideas and real hardware)
<br/>
<br/>
I'm using this structure:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">glSetToonTableRange( 0, 13, RGB15(14,14,14) );
<br/>
glSetToonTableRange( 14, 31, RGB15(31,31,31) );
<br/>
<br/>
glLight(0, RGB15(31,31,31) , floatov10(-1.0), floatov10(-1.0), floatov10(0.0));
<br/>
glLight(1, RGB15(31,31,31), floatov10(-1.0), floatov10(-1.0), floatov10(-1.0));
<br/>
<br/>
glMaterialf(GL_AMBIENT, RGB15(8,8,8));
<br/>
glMaterialf(GL_DIFFUSE, RGB15(24,24,24));
<br/>
glMaterialf(GL_SPECULAR, RGB15(0,0,0));
<br/>
glMaterialf(GL_EMISSION, RGB15(0,0,0));
<br/>
<br/>
glMaterialShinnyness();
<br/>
<br/>
glPolyFmt(POLY_ALPHA(31) | POLY_CULL_BACK | POLY_FORMAT_LIGHT0 | POLY_FORMAT_LIGHT1 | POLY_TOON_SHADING );
<br/>
<br/>
glBindTexture(0, textureID);
<br/>
<br/>
loop
<br/>
   glNormal( );
<br/>
   glTexCoord2t16( );
<br/>
   glVertex3v16( );
<br/>
end loop</td> </tr></table><span class="postbody">
<br/>
<br/>
(Obviously, each sentence inside the loop is replaced with the adecuate data)
<br/>
<br/>
Is there any problem with my code or is it because of ndslib implementation? I tried to compile the toon shading example to see how it looks like, but all I get is a black screen... :(
<br/>
<br/>
<br/>
Now, regarding lights, they alwais move with the model, it doesn't matter if I place them before any transformation of the modelview matrix, they rotate so I always get the face of my model lit...
<br/>
<br/>
And they can only be placed within the range [-1, 1][-1, 1][-1, 1] because of the v10 format (Am I wrong?) How can I place a light for example at (-1.5, 4.0, -11.0)?
<br/>
<br/>
Thanks for the help</span><span class="gensmall"><br/><br/>Last edited by Locke on Mon Apr 25, 2005 10:38 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#41139 - abigsmurf - Mon Apr 25, 2005 10:10 pm</h4>
    <div class="postbody"><span class="postbody">Have you tried passing values to POLY_TOON_SHADING ?
<br/>
<br/>
It's hard to believe that there aren't any variables such as line thickness, colour etc.
<br/>
<br/>
This is coming from someone with a pretty basic knowledge of OpenGL though</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41144 - Locke - Mon Apr 25, 2005 10:41 pm</h4>
    <div class="postbody"><span class="postbody">Oh, yeah, I forgot the firts two lines of the code (just added them). They are the different zones of shading... I think the line thickness is a standar value, and the only parameter needed is te toonTableRange.
<br/>
<br/>
But it was always in my code, so that's not the problem... :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41146 - ector - Mon Apr 25, 2005 10:55 pm</h4>
    <div class="postbody"><span class="postbody">On hardware or emulator? The emulators are still very inaccurate.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41148 - Locke - Mon Apr 25, 2005 11:03 pm</h4>
    <div class="postbody"><span class="postbody">Both iDeaS emu and hardware. Same result...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41161 - mike260 - Tue Apr 26, 2005 1:25 am</h4>
    <div class="postbody"><span class="postbody">The problem is probably that you're over-lighting the model, so you're only get values from the upper half of the toon table.
<br/>
<br/>
The vector you pass into glLight isn't a position, it's the lights direction - you can only specify parallel (ie infinitely far away) light-sources. Therefore, this direction vector should be unit-length; if it's longer then lights will be brighter than intended.
<br/>
<br/>
So try normalising your light vectors, turn the brightnesses down and maybe start off with a single light. Being able to mess with light intensity using the dpad makes this process a lot easier too.
<br/>
<br/>
<br/>
Edge-outlines don't automatically work when you enable toon-shading; the basic steps for switching them on are:
<br/>
<br/>
glEnable( GL_OUTLINE );
<br/>
glSetOutlineColor( 0, colour );
<br/>
glPolyFmt( your_other_params | POLY_ID(1) );
<br/>
<br/>
It's a bit more complicated than that but the above should get you started, let me know if you want more details.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41182 - mymateo - Tue Apr 26, 2005 3:27 am</h4>
    <div class="postbody"><span class="postbody">I wouldn't mind seeing a ds.gba file for download once you get something working.  It would be really neat to see!  Let me know if you need it hosted if you decide to do that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41197 - Locke - Tue Apr 26, 2005 9:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mike260 wrote:</b></span></td> </tr> <tr> <td class="quote">The problem is probably that you're over-lighting the model, so you're only get values from the upper half of the toon table.
<br/>
<br/>
The vector you pass into glLight isn't a position, it's the lights direction - you can only specify parallel (ie infinitely far away) light-sources. Therefore, this direction vector should be unit-length; if it's longer then lights will be brighter than intended.
<br/>
<br/>
So try normalising your light vectors, turn the brightnesses down and maybe start off with a single light. Being able to mess with light intensity using the dpad makes this process a lot easier too.
<br/>
<br/>
<br/>
Edge-outlines don't automatically work when you enable toon-shading; the basic steps for switching them on are:
<br/>
<br/>
glEnable( GL_OUTLINE );
<br/>
glSetOutlineColor( 0, colour );
<br/>
glPolyFmt( your_other_params | POLY_ID(1) );
<br/>
<br/>
It's a bit more complicated than that but the above should get you started, let me know if you want more details.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ok, that clarified things a bit. It still looks the same in iDeaS, but I'll try it on hardware in a few hours. I still have some questions left:
<br/>
<br/>
What is SetOutline id for? If it's for outlining only polygons with that ID, why I have to set POLY_ID to 1?
<br/>
<br/>
What is GL_TOON_HIGHLIGHT flag for?
<br/>
<br/>
Thanks for your help, I will be very grateful if you don't mind to give me some more details...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41200 - mike260 - Tue Apr 26, 2005 10:40 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">What is SetOutline id for? If it's for outlining only polygons with that ID, why I have to set POLY_ID to 1?
<br/>
<br/>
What is GL_TOON_HIGHLIGHT flag for?
<br/>
<br/>
Thanks for your help, I will be very grateful if you don't mind to give me some more details...</td> </tr></table><span class="postbody">
<br/>
<br/>
What it does is, draw an outline wherever there's a border between two different IDs. The colour of the outline around an object is set by glSetOutlineColor, where if the poly has id X, you set its outline colour with glSetOutlineColor(X&gt;&gt;3,colour).
<br/>
The reason you have to set the id to 1 is that the background has an id of 0.
<br/>
<br/>
Call glEnable(GL_TOON_HIGHLIGHT) to enable really ugly toon-shading - it seems to add some smooth on top of the toon lighting.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41215 - Locke - Tue Apr 26, 2005 3:09 pm</h4>
    <div class="postbody"><span class="postbody">Still the same result. No black borders, no shading (:(
<br/>
<br/>
If only someone can point me to some working code using toon shading and textures... It would be great</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41221 - Rinkwraith - Tue Apr 26, 2005 4:00 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">If only someone can point me to some working code using toon shading and textures... It would be great</td> </tr></table><span class="postbody"> Never ran it but...
<br/>
<br/>
<a class="postlink" href="http://www.drunkencoders.com/index.php?system_id=1&amp;page=Examples" target="_blank">http://www.drunkencoders.com/index.php?system_id=1&amp;page=Examples</a>
<br/>
<br/>
Down near the bottom.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41222 - Rinkwraith - Tue Apr 26, 2005 4:01 pm</h4>
    <div class="postbody"><span class="postbody">Oh. BTW I haven't seen that many engines that can do both cell shading AND textures on the same model. Even on the PC.
<br/>
<br/>
Edit: if memory serves, most cell shading is implemented by using a type of texture to help set the boundries between colours. Using a regular bitmap texture and cell shading would seem to involve multi-texturing... are you sure the DS can do this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41223 - Rinkwraith - Tue Apr 26, 2005 4:11 pm</h4>
    <div class="postbody"><span class="postbody">Got to learn to think about all of this before posting. 
<br/>
<br/>
True hardware based cell shaders don't use a texture (I think)... but I still haven't seen many that can do it and still render a bitmap onto the object.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41224 - Locke - Tue Apr 26, 2005 4:21 pm</h4>
    <div class="postbody"><span class="postbody">That's the demo I tried and only got black screen. It doesn't use ink lines neither, so I can't have a reference on that.
<br/>
<br/>
Textured cel shaded is not so rare, nearly every cartoon game nowadays features that technique. (DBZ:Budokai, Naruto, Futurama, Zelda: WW, Viewtiful Joe...)
<br/>
<br/>
Here is an example:
<br/>
<br/>
<a href="http://jeux-france.com/images0_4_9400.html" target="_blank">http://jeux-france.com/images0_4_9400.html</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41225 - Rinkwraith - Tue Apr 26, 2005 4:29 pm</h4>
    <div class="postbody"><span class="postbody">Pretty sure Zelda:WW isn't. But the others I don't know about.
<br/>
<br/>
Zelda's rendering is a bit odd - a lot of the screen doesn't seem to be cel shaded when you look closely. They've been very very clever. 
<br/>
<br/>
Edit: If we're using the N64 as a bit of a benchmark of what the DS can do then I'd say we were lucky to get cel shading built-in. I'd love to see an example that proves it has the 3d power to compete with the kinda of graphics engines like the games you're taking about.
<br/>
<br/>
R</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41229 - dagamer34 - Tue Apr 26, 2005 5:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Rinkwraith wrote:</b></span></td> </tr> <tr> <td class="quote">Pretty sure Zelda:WW isn't. But the others I don't know about.
<br/>
<br/>
Zelda's rendering is a bit odd - a lot of the screen doesn't seem to be cel shaded when you look closely. They've been very very clever. 
<br/>
<br/>
Edit: If we're using the N64 as a bit of a benchmark of what the DS can do then I'd say we were lucky to get cel shading built-in. I'd love to see an example that proves it has the 3d power to compete with the kinda of graphics engines like the games you're taking about.
<br/>
<br/>
R</td> </tr></table><span class="postbody">
<br/>
<br/>
Models on the world itself often have textures. It's a lot more noticable that they also have cel-shading done on them if you have a light from a deku stick.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41237 - mike260 - Tue Apr 26, 2005 8:32 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">Still the same result. No black borders, no shading (:(
<br/>
<br/>
If only someone can point me to some working code using toon shading and textures... It would be great</td> </tr></table><span class="postbody">
<br/>
<br/>
Did you try disabling texturing? Because if it doesn't with with texturing off, it ain't going to work with it enabled either. Forget about textures until you've got the basics working.
<br/>
<br/>
Regarding edges, what colour's your background? Remember that since all of your model has the same poly ID, you won't get outlines where one part of the model is silhouetted against another part of it, but only where it's silhouetted against something with a different ID (like the background). So if your background is black then a black outline-colour is not too helpful.
<br/>
<br/>
If none of this works, take the ndslib toon-shading example and use that as a starting point; use it to figure out where you're going wrong.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41248 - Locke - Tue Apr 26, 2005 11:17 pm</h4>
    <div class="postbody"><span class="postbody">I finally got your toon demo to work. No shadows on iDeaS, but works really well on hardware.
<br/>
<br/>
After that I tried to add outlines with this lines just under the glSetToonTableRange statements:
<br/>
<br/>
glEnable( GL_OUTLINE );
<br/>
glSetOutlineColor( 0, RGB15(0,0,0) );
<br/>
<br/>
And with POLY_ID(1) in my PolyFmt. Didn't work. Then I thought on adding a white quad with POLY_ID(2) just behind the model. I still have to try it on hw ('cos I don't have a flash and my beta-tester is not online right now xD ) but on the emu I only get white polygons, glColor and glColor3b seem to be broken.
<br/>
<br/>
Anybody else having this problem?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41289 - The 9th Sage - Wed Apr 27, 2005 3:29 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">I finally got your toon demo to work. No shadows on iDeaS, but works really well on hardware.</td> </tr></table><span class="postbody">
<br/>
<br/>
I really need to figure out what I need to compile this interesting stuff one of these days.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41298 - Cleon I - Wed Apr 27, 2005 7:56 am</h4>
    <div class="postbody"><span class="postbody">If you're on Windows, it's as easy as installing <a class="postlink" href="http://www.aaronrogers.com/nintendods/ndsdevenv.php" target="_blank">NDS Dev Env</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41311 - mike260 - Wed Apr 27, 2005 2:04 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">I still have to try it on hw ('cos I don't have a flash and my beta-tester is not online right now xD ) but on the emu I only get white polygons, glColor and glColor3b seem to be broken.</td> </tr></table><span class="postbody">
<br/>
<br/>
Emulation of toon-shading is going to be very inaccurate, and I don't think any of them even attempt to do outlines. So emulators are more or less useless for this, unfortunately.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41328 - garlic - Wed Apr 27, 2005 5:43 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://ideasemu.altervista.org/gfx/toon.gif" target="_blank">http://ideasemu.altervista.org/gfx/toon.gif</a>
<br/>
<br/>
Might be in a build that isn't public yet. Unless my video card is the problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41332 - Lino - Wed Apr 27, 2005 6:11 pm</h4>
    <div class="postbody"><span class="postbody">It's an old screenshot and the toon shading on iDeaS is very approximate.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41343 - Locke - Wed Apr 27, 2005 7:45 pm</h4>
    <div class="postbody"><span class="postbody">Old screenshot? My iDeaS version can't do that... &gt;_&lt;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41345 - Lino - Wed Apr 27, 2005 7:50 pm</h4>
    <div class="postbody"><span class="postbody">With the last version 1.0.0.3?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41348 - Locke - Wed Apr 27, 2005 8:05 pm</h4>
    <div class="postbody"><span class="postbody">This is what I get with version 1.0.0.3:
<br/>
<br/>
<a href="http://img242.echo.cx/img242/4937/statue8ae.png" target="_blank">http://img242.echo.cx/img242/4937/statue8ae.png</a>
<br/>
<br/>
Although in hardware it looks fine.
<br/>
<br/>
I don't know it is my fault (probably), emulator's or because of ndslib, but i'm starting to desperate... :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41359 - mike260 - Wed Apr 27, 2005 10:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">This is what I get with version 1.0.0.3:
<br/>
<br/>
<a href="http://img242.echo.cx/img242/4937/statue8ae.png" target="_blank">http://img242.echo.cx/img242/4937/statue8ae.png</a>
<br/>
<br/>
Although in hardware it looks fine.
<br/>
<br/>
I don't know it is my fault (probably), emulator's or because of ndslib, but i'm starting to desperate... :(</td> </tr></table><span class="postbody">
<br/>
<br/>
Don't get desperate, it's just the emulator. None of them accurately emulate the DSs toon-shading, plus they don't even try to emulate outline rendering. You *have* to be running hardware if you want to experiment with this.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41371 - Locke - Wed Apr 27, 2005 10:45 pm</h4>
    <div class="postbody"><span class="postbody">Ok, then I'll try to get a flash cart asap.
<br/>
<br/>
Sorry to have bothered you so much, all of you are going to be included in the "thanks to..."section of all my programs for now on xD
<br/>
<br/>
I'll be back with even more questions in a few days, beware!! ^.^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#41402 - Lino - Thu Apr 28, 2005 2:57 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">This is what I get with version 1.0.0.3:
<br/>
<br/>
<a href="http://img242.echo.cx/img242/4937/statue8ae.png" target="_blank">http://img242.echo.cx/img242/4937/statue8ae.png</a>
<br/>
<br/>
Although in hardware it looks fine.
<br/>
<br/>
I don't know it is my fault (probably), emulator's or because of ndslib, but i'm starting to desperate... :(</td> </tr></table><span class="postbody">
<br/>
<br/>
I do not use any GL extensions, it's very approximate for sure it but that is not the image i obtain.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42094 - Locke - Thu May 05, 2005 8:56 pm</h4>
    <div class="postbody"><span class="postbody">I got my DS Flash yesterday, so I ran some tests on harware and I'm not sattisfied yet.
<br/>
<br/>
Added textured toon shading, I fixed some problems regarding vertex normals, so shadows look better now (still buggy, they are far from perfect). But the real problem is still outlining.
<br/>
<br/>
I thought that the only lines needed where a initialization with
<br/>
<br/>
int poly = 1;
<br/>
<br/>
glEnable(GL_OUTLINE);
<br/>
glSetOutlineColor( poly&gt;&gt;3, RGB15(0,0,0) );
<br/>
<br/>
and inside my loop, the following properties for the polys that I want to be outlined:
<br/>
<br/>
glPolyFmt(POLY_ALPHA(31) | POLY_CULL_BACK | POLY_FORMAT_LIGHT0 | POLY_FORMAT_LIGHT1 | POLY_TOON_SHADING | POLY_ID(poly));
<br/>
<br/>
No outlines. Then I tried with a textured BG with this properties:
<br/>
<br/>
glPolyFmt(POLY_ALPHA(31) | POLY_CULL_BACK | POLY_FORMAT_LIGHT0 | POLY_FORMAT_LIGHT1 | POLY_FORMAT_LIGHT2 | POLY_FORMAT_LIGHT3 |POLY_ID(2));
<br/>
<br/>
Same result...
<br/>
<br/>
I think is something weird about this line:
<br/>
<br/>
glSetOutlineColor( poly&gt;&gt;3, RGB15(0,0,0) );
<br/>
<br/>
If poly is an int, then all polygons with POLY_ID lower than 8 will get outlined... Is that correct? Seems really strange for me...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42097 - dankydoo - Thu May 05, 2005 9:59 pm</h4>
    <div class="postbody"><span class="postbody">I think you are shifting the wrong way, I think you mean,
<br/>
<br/>
glSetOutlineColor( poly&lt;&lt;3, RGB15(0,0,0) ); 
<br/>
<br/>
which would make poly == 8
<br/>
<br/>
<br/>
dankydoo</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42098 - mike260 - Thu May 05, 2005 10:03 pm</h4>
    <div class="postbody"><span class="postbody">I think your problem might be glReset() - it resets what's enabled and what isn't, which will switch off GL_OUTLINE. All the examples call it at the top of their mainloop, so they lose a load of state every frame.
<br/>
<br/>
I just tried hacking outlining into the Toon_Shading example and it worked fine once I realised that I needed to say "glEnable(GL_OUTLINE)" every frame after glReset().
<br/>
<br/>
Hope this helps.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42100 - Locke - Thu May 05, 2005 10:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>mike260 wrote:</b></span></td> </tr> <tr> <td class="quote">I think your problem might be glReset() - it resets what's enabled and what isn't, which will switch off GL_OUTLINE. All the examples call it at the top of their mainloop, so they lose a load of state every frame.
<br/>
<br/>
I just tried hacking outlining into the Toon_Shading example and it worked fine once I realised that I needed to say "glEnable(GL_OUTLINE)" every frame after glReset().
<br/>
<br/>
Hope this helps.</td> </tr></table><span class="postbody">
<br/>
<br/>
Really it did, I have all working correctly! Now I gess that if I want a polygon without outlines it need to have an ID greater than 7... (because of the ID&gt;&gt;3)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42164 - The 9th Sage - Sat May 07, 2005 1:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">Really it did, I have all working correctly! Now I gess that if I want a polygon without outlines it need to have an ID greater than 7... (because of the ID&gt;&gt;3)</td> </tr></table><span class="postbody">
<br/>
<br/>
Cool...any chance of sharing?  I'd absolutely love to see more examples of DS Cell Shading.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42167 - Locke - Sat May 07, 2005 1:44 am</h4>
    <div class="postbody"><span class="postbody">I can say that it looks great (or nearly). But there is a problem. I'm planning to enter one compo next month with this project and I need to keep it private. :(
<br/>
<br/>
Sorry guys, but I prommiss to release the source for the 3d engine as soon as the deadline for the contest. May 30.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#42218 - The 9th Sage - Sun May 08, 2005 2:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Locke wrote:</b></span></td> </tr> <tr> <td class="quote">I can say that it looks great (or nearly). But there is a problem. I'm planning to enter one compo next month with this project and I need to keep it private. :(
<br/>
<br/>
Sorry guys, but I prommiss to release the source for the 3d engine as soon as the deadline for the contest. May 30.</td> </tr></table><span class="postbody">
<br/>
<br/>
Fair enough.  :)<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
