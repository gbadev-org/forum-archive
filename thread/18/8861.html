<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compiling/Makefile/Environment Variables issues - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Compiling/Makefile/Environment Variables issues</h2>
<div id="posts">
<div class="post">
    <h4>#75123 - JessTicular - Fri Mar 10, 2006 8:31 am</h4>
    <div class="postbody"><span class="postbody">Hello there,
<br/>
<br/>
Now, I've successfully set up and used my NDS dev environment quite a bit, but due to Uni work, etc, I haven't gotten to use it for the last 3ish months.
<br/>
<br/>
I whack open MinSys, dive over to a demo project that doublec wrote (demo1), run the makefile, and I get...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$ makefile
<br/>
./makefile: DEVKITPRO: command not found
<br/>
./makefile: DEVKITPRO: command not found
<br/>
./makefile: all:: command not found
<br/>
./makefile: arm7_main.o:: command not found
<br/>
./makefile: NDSLIB_INCLUDE: command not found
<br/>
arm7_main.cpp:6:17: error: nds.h: No such file or directory
<br/>
arm7_main.cpp:14: error: 's32' does not name a type
<br/>
arm7_main.cpp:15: error: 's32' does not name a type
<br/>
arm7_main.cpp:16: error: 's32' does not name a type
<br/>
arm7_main.cpp:17: error: 's32' does not name a type
<br/>
arm7_main.cpp: In function 'void InterruptHandler()':
<br/>
arm7_main.cpp:22: error: 'REG_IF' was not declared in this scope
<br/>
arm7_main.cpp:22: error: 'IRQ_VBLANK' was not declared in this scope
<br/>
... etc
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Learning from my mistakes when I first started, I first went and checked that all my Environment variables were in-tact... Yep, sure enough, they're all still there, 100% unchanged. Great.
<br/>
Next, I check that I haven't accidentally corrupted something with DevKitPro, so I reinstall the lot ( as well as MinSys ).
<br/>
Ok, still not working...
<br/>
Finally, I erased the Environment variables, and recreated them. One re-boot later, and there's no change... Still the same errors.
<br/>
<br/>
After many an hour of searching, I came across <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=6526" target="_blank">this</a> thread with exactly the same issue, but that didn't help too much, even though the clever bugger solved it...
<br/>
<br/>
And about now, all I want to do is get back and keep making my Spider Solitair game!
<br/>
<br/>
Any and all help would be appreciated, thanks!
<br/>
<br/>
Jess.
<br/>
<br/>
PS, a quick run-down of my set-up
<br/>
<br/>
Directories:
<br/>
C:\dsDev\devkitARM
<br/>
C:\dsDev\libnds
<br/>
<br/>
Variables:
<br/>
DEVKITARM: /c/dsDev/devkitARM
<br/>
DEVKITPRO: /c/dsDev
<br/>
PATH: C:\dsDev\msys\bin;C:\dsDev\devkitARM\bin</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75133 - doublec - Fri Mar 10, 2006 12:01 pm</h4>
    <div class="postbody"><span class="postbody">Don't run make from within msys. I run it from a normal windows cmd.exe command prompt.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75134 - JessTicular - Fri Mar 10, 2006 12:06 pm</h4>
    <div class="postbody"><span class="postbody">Well smack me silly and hang me up to dry...
<br/>
<br/>
It works!
<br/>
<br/>
But, (here's a hum-dinger of a question) why did it work from within msys before, then after months of inactivity, it just stopped..?
<br/>
<br/>
*Shrug*
<br/>
Must've gotten bored waiting and went on strike :)
<br/>
<br/>
Thanks Double, I can finally get back to it now.
<br/>
<br/>
Cheers Mate,
<br/>
Jess.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75332 - wintermute - Sun Mar 12, 2006 6:11 am</h4>
    <div class="postbody"><span class="postbody">actually your error is staring you in the face.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
$ makefile
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm not quite sure why this is happening but what you've done here is attempt to execute the makefile as if it was a script and bash has quite happily obliged.
<br/>
<br/>
The correct command is make.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75364 - tepples - Sun Mar 12, 2006 3:59 pm</h4>
    <div class="postbody"><span class="postbody">Or would this <a class="postlink" href="http://en.wikipedia.org/wiki/Shebang_%28Unix%29" target="_blank">shebang line</a> at the top of the makefile work?
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#!/usr/bin/make -f</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75373 - wintermute - Sun Mar 12, 2006 4:29 pm</h4>
    <div class="postbody"><span class="postbody">Only on systems where GNU make is named make unfortunately.
<br/>
<br/>
Being honest I'm not sure why people are still using a shell to run their makefiles anyway.
<br/>
<br/>
<a href="http://www.devkitpro.org/devstudio.shtml" target="_blank">http://www.devkitpro.org/devstudio.shtml</a>
<br/>
<a href="http://www.devkitpro.org/ultraedit.shtml" target="_blank">http://www.devkitpro.org/ultraedit.shtml</a>
<br/>
<a href="http://www.devkitpro.org/pn2.shtml" target="_blank">http://www.devkitpro.org/pn2.shtml</a>
<br/>
<a href="http://www.devkitpro.org/visual-c++-express.shtml" target="_blank">http://www.devkitpro.org/visual-c++-express.shtml</a>
<br/>
<br/>
All the examples provided even come with a project file for PN2.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75377 - tepples - Sun Mar 12, 2006 4:47 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">Being honest I'm not sure why people are still using a shell to run their makefiles anyway.</td> </tr></table><span class="postbody">
<br/>
Because some visual or sound artists on teams don't touch code and thus don't want to load PN2. For them, the edit-compile-test cycle is change the image or audio files using an image or audio editor, run the makefile, and check the project in an emulator or on hardware.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#75592 - cory1492 - Tue Mar 14, 2006 1:52 pm</h4>
    <div class="postbody"><span class="postbody">I personally find it simpler to leave a shell window open (so I press the up arrow to use the history commands which are normally make and make clean) and edit the files outside of a structured IDE type application, using a (free) simple syntax hilight editor called notepad2. Not that I dont like IDE's and PN2, I just dont like having everything that is open indexed in a single window when I already have a taskbar taking up space in windows.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
