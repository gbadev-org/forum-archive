<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>New classes killing the ARM7 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > New classes killing the ARM7</h2>
<div id="posts">
<div class="post">
    <h4>#108220 - dak - Mon Nov 06, 2006 8:47 pm</h4>
    <div class="postbody"><span class="postbody">Has anyone else come across this problem (preferably that of which has solved it!).  Whenever I instanciate a class in the ARM7 main using the "new" command, all arm7 code seems to simply halt.
<br/>
<br/>
-dak</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108234 - tepples - Mon Nov 06, 2006 10:39 pm</h4>
    <div class="postbody"><span class="postbody">Perhaps it's throwing an out-of-memory exception that you're not catching. This is likely given that the standard C++ library appears to take up most of the ARM7's own RAM. What exactly are you trying to do on the ARM7? If you want to use C++ language features to implement object-oriented business logic, then your business logic should run on the ARM9.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108235 - Lick - Mon Nov 06, 2006 10:42 pm</h4>
    <div class="postbody"><span class="postbody">Yup, better use C or ASM.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108243 - dak - Mon Nov 06, 2006 11:18 pm</h4>
    <div class="postbody"><span class="postbody">As it stands, all other code works just fine otherwise (on the arm7).  I remember reading that the arm7 indeed lacks a deal of space, but if I'm instanciating a class with the 'new' command (allocating space on the heap), shouldn't it then reside on main memory (of which there is plenty [yah 4Mb is plenty :D])?
<br/>
<br/>
I fear I'm missing an important c++ intricacy.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108245 - DekuTree64 - Tue Nov 07, 2006 12:20 am</h4>
    <div class="postbody"><span class="postbody">I think ARM9 controls all of main RAM by default, so if ARM7 has a heap at all, it's in the 64KB of IWRAM along with all the code and stuff. Generally it's best to use static allocation on ARM7 so you have more exact control of memory usage. For certain things you could have ARM9 allocate you a lump of main RAM and give you the address by FIFO or some such, but it would be better to avoid doing it routinely.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
