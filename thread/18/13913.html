<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DLDI No-AutoPatch - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > DLDI No-AutoPatch</h2>
<div id="posts">
<div class="post">
    <h4>#137507 - Nphinity - Sun Aug 12, 2007 8:12 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
So I have an R4, and an SC Lite.  I wanted to be able to put my music files on the SC Lite, and auto launch in to a music player(lmp-ng)[which has to be done on the R4] yet play the files off the SC Lite.
<br/>
<br/>
So I patched lmp-ng with the DLDI for the SC and put it on the R4, and that worked.  That is until they released the Auto-patch DLDI "firm"ware.
<br/>
<br/>
The auto-patcher patches it for the R4, even though I don't want it to.  So with some tips from Chishm, I made a patcher that will prevent a DLDI patched rom from getting re-DLDI patched.
<br/>
<br/>
If anyone is interested in it, or interested in hosting it, let me know.
<br/>
<br/>
Here is a copy of the the patcher(zShare):
<br/>
<a href="http://www.zshare.net/download/310641346e3f58/" target="_blank">http://www.zshare.net/download/310641346e3f58/</a>
<br/>
<br/>
If you want to mirror it, feel free.</span><span class="gensmall"><br/><br/>Last edited by Nphinity on Sun Aug 12, 2007 9:44 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#137510 - Wuschmaster - Sun Aug 12, 2007 9:17 pm</h4>
    <div class="postbody"><span class="postbody">Oh, I'm interested in it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137514 - Diddl - Sun Aug 12, 2007 9:31 pm</h4>
    <div class="postbody"><span class="postbody">I also!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137517 - Nphinity - Sun Aug 12, 2007 9:44 pm</h4>
    <div class="postbody"><span class="postbody">K, I'll post a link to it in the original post in a minute then.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137531 - dantheman - Mon Aug 13, 2007 1:19 am</h4>
    <div class="postbody"><span class="postbody">Here's a mirror:  <a href="http://dannysied.googlepages.com/dldino-patch.7z" target="_blank">http://dannysied.googlepages.com/dldino-patch.7z</a>
<br/>
<br/>
In any case, this alleviates the one fear I had about DLDI autopatching, so thank you for the program (even if it doesn't affect me personally with my slot-2 Supercard).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137600 - Dood77 - Mon Aug 13, 2007 9:44 pm</h4>
    <div class="postbody"><span class="postbody">Does this work with all auto-patchers, and not just with R4?<br/>_________________<br/>If I use a term wrong or something then feel free to correct, I?m not much of a programmer.
<br/>
<span style="font-size: 9px; line-height: normal">
<br/>
Original DS Phat obtained on day of release + flashme v7
<br/>
Supercard: miniSD, Kingston 1GB, Kingston 2GB
<br/>
Ralink chipset PCI NIC
<br/>
</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137604 - calcprogrammer1 - Mon Aug 13, 2007 10:35 pm</h4>
    <div class="postbody"><span class="postbody">I'd like to see a libfat that supports 2 DLDI's at once, 2 is all you'd need, one for SLOT 1 and one for SLOT 2, I don't mind because my GBAMP is native compatible, but for newer SLOT 2's.  I'm working on a DS File Browser that supports copying between both slots and it'd be nice to have a dual DLDI for people with 2 DLDI only cards.<br/>_________________<br/>DS Firmware 1, Datel Games n' Music card / Chism's FW hacked GBA MP v2 CF
<br/>
<br/>
There's no place like 127.0.0.1.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137651 - psychowood - Tue Aug 14, 2007 12:18 pm</h4>
    <div class="postbody"><span class="postbody">Hi Nphinity,
<br/>
I took your idea and compiled it in a command line tool that enable/disable dldi (just edited the patch itself, it writes "NOAP Chishm" instead of "\0\0\0\0 Chishm", easier to work with in C code), if the files is DLDI enabled it'll be disabled, and if the file isn't DLDI enabled look for the patched DLDI header and, if found, rolls back the patch. 
<br/>
<br/>
You can find it <a class="postlink" href="http://psychowood.altervista.org/_altervista_ht/dldinoap.zip" target="_blank">here</a> (source included), I needed a command line version to integrate with DLDIrc (just updated, credits to you, of course). :)<br/>_________________<br/><a class="postlink" href="http://dldi.drunkencoders.com/index.php?title=DLDI_Right_Click" target="_blank">DLDIrc Developer</a></span><span class="gensmall"><br/><br/>Last edited by psychowood on Tue Aug 14, 2007 5:16 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#137656 - Diddl - Tue Aug 14, 2007 2:16 pm</h4>
    <div class="postbody"><span class="postbody">[quote="calcprogrammer1"]I'd like to see a libfat that supports 2 DLDI's at once, 2 is all you'd need, one for SLOT 1 and one for SLOT 2/quote]
<br/>
<br/>
YES!
<br/>
<br/>
I also!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137685 - Sweater Fish Deluxe - Tue Aug 14, 2007 7:44 pm</h4>
    <div class="postbody"><span class="postbody">I think everyone would like to see an updated libfat with support for two DLDI drivers.  I hope it's at least planned.  Chishm said it would be easy.  I guess the only sticking point would be to make sure the new system remains compatible with the older patchers since so many cards no have autopatchers built into their menu and you wouldn't want to break compatibility with those.  Shouldn't be too difficult, though.
<br/>
<br/>
And yes, this patching method works for all cards that have autopatching, not just the R4.
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137705 - josath - Tue Aug 14, 2007 9:37 pm</h4>
    <div class="postbody"><span class="postbody">it is very easy to do...i just did it in about 15 minutes. downside: requires new libfat == recompiling homebrew with new libfat, also requires a new dlditool. also it uses an additional 32KB of space (for the second dldi section), but that's not too bad i guess.
<br/>
<br/>
I'll post the changes when I get a chance to test it (I don't have both a slot-1 &amp; slot-2 device with me right now, but i will later).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137757 - tepples - Wed Aug 15, 2007 1:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>josath wrote:</b></span></td> </tr> <tr> <td class="quote">it is very easy to do...i just did it in about 15 minutes. downside: requires new libfat == recompiling homebrew with new libfat</td> </tr></table><span class="postbody">
<br/>
Which of course would happen automatically if such changes make it into the version of libfat that is current when wintermute announces a devkitARM upgrade. Besides, I can't think of anything that would really need a dual DLDI other than file managers, and some popular file managers are still maintained.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">also requires a new dlditool. also it uses an additional 32KB of space (for the second dldi section)</td> </tr></table><span class="postbody">
<br/>
How many DLDIs are over 16 KiB, other than perhaps the G6? Besides, counting kilobytes isn't as necessary on a machine with 2 slots (and 4096 KiB of EWRAM) as it is on a machine with 1 slot (and 256 KiB of EWRAM).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137805 - Dood77 - Wed Aug 15, 2007 8:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">dual DLDI</td> </tr></table><span class="postbody">
<br/>
...RAID?<br/>_________________<br/>If I use a term wrong or something then feel free to correct, I?m not much of a programmer.
<br/>
<span style="font-size: 9px; line-height: normal">
<br/>
Original DS Phat obtained on day of release + flashme v7
<br/>
Supercard: miniSD, Kingston 1GB, Kingston 2GB
<br/>
Ralink chipset PCI NIC
<br/>
</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137866 - Sweater Fish Deluxe - Thu Aug 16, 2007 8:52 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, I can't see 32K being a problem on the DS.  However, to be absolutely safe, wouldn't it be possible to include a define or some such thing that developers could use if they wanted to only have one DLDI space in case they're worried about space?
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#138098 - Nphinity - Sun Aug 19, 2007 8:31 pm</h4>
    <div class="postbody"><span class="postbody">Actually, this patch came, due to DLDI not supporting both slots.  Origionally I wanted to be able to read from both cards with lmp-ng so I could have more space for my music.
<br/>
<br/>
But since that wasn't doable I just decided to use the bottom slot for music storage only, and in turn needed a patch like this to deal with the auto-patching.
<br/>
<br/>
Glad to hear it's helping some folks, and even gladder (what? gladder is an actual word?!) that it's helped to stir up conversation about dual DLDI.
<br/>
<br/>
Thanks to you guys contributing to work on other patchers and and the general advancement of DLDI.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
