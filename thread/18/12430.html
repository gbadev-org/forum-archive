<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problem with Dualis and libfat-nds - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Problem with Dualis and libfat-nds</h2>
<div id="posts">
<div class="post">
    <h4>#118266 - Massif - Sun Feb 11, 2007 7:11 pm</h4>
    <div class="postbody"><span class="postbody">I am having some problems getting dualis to work when I use the fatInit() method. When I load the rom, Dualis just crashes and exits immediately without any error message. If I remove the fatInit() line, it doesn't crash but then my fopen and other file access methods do not work. I've also tried fatInitDefault() and fatInit() with different arguments, but no luck. Do the .nds file and other files need to be on an actual FAT16 drive? I tried using an old CF card as the drive, but still nothing.
<br/>
<br/>
It all works perfectly when I run it on my DS with M3 Lite, but I'd like to speed up my development by testing on an emulator.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118274 - tepples - Sun Feb 11, 2007 8:03 pm</h4>
    <div class="postbody"><span class="postbody">Have you tried making a reduced build of your app that loads entirely into RAM?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118276 - Massif - Sun Feb 11, 2007 8:17 pm</h4>
    <div class="postbody"><span class="postbody">I'm not quite sure what you mean. Do you mean hard coding the contents of the data file into the source? I could do that, but I want to test the same source on dualis as I'm testing on the DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118278 - GPFerror - Sun Feb 11, 2007 8:21 pm</h4>
    <div class="postbody"><span class="postbody">yeah dualis is not compatible with libfat, either you have to use the older gba_nds_fat(fatlib) or use a different emulator.
<br/>
<br/>
No$gba and desmume and probably others support libfat with fcsr(fat12) images appended to the .ds.gba file.
<br/>
<br/>
Troy(GPF)
<br/>
<a href="http://gpf.dcemu.co.uk" target="_blank">http://gpf.dcemu.co.uk</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118279 - tepples - Sun Feb 11, 2007 8:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Massif wrote:</b></span></td> </tr> <tr> <td class="quote">I'm not quite sure what you mean. Do you mean hard coding the contents of the data file into the source?</td> </tr></table><span class="postbody">
<br/>
Yes, using GBFS+bin2s or something like that.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I could do that, but I want to test the same source on dualis as I'm testing on the DS.</td> </tr></table><span class="postbody">
<br/>
While you test and debug the parts of your game engine that do not touch the file system, use the hardcoded assets build on both Dualis and the DS. Add file system support later once you know that everything but the file system stuff is working.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118283 - Massif - Sun Feb 11, 2007 8:45 pm</h4>
    <div class="postbody"><span class="postbody">I just found another solution. I've temporarily switched to gba_nds_lib for testing. Dualis seems happy with that.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
