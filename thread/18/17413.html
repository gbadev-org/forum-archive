<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Grit shared palettes - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Grit shared palettes</h2>
<div id="posts">
<div class="post">
    <h4>#175417 - Massif - Wed Nov 17, 2010 2:13 pm</h4>
    <div class="postbody"><span class="postbody">I've been having trouble getting the shared palette option in grit to work properly. I have several 8 bit indexed images with different palettes (each palette only has 7 or 8 colors) and I'm trying to create a shared tileset, shared palette and a separate map for each image. Here's the command I'm using:
<br/>
<br/>
grit ./*.png -ftc -gS -m -pS -OBG_OL_MINE
<br/>
<br/>
This generates a file containing the shared tileset/palette and a separate file for each map. However, the palette does not contain the colors from all of the images. It seems to only be outputting the colors from one image. The weird part is that it only outputs 12 short values instead of 256 and half of those values are 0x0000. If I remove the -pS option, I get 256 values but still only the colors from one image are filled in and the rest are 0x0000. 
<br/>
<br/>
I've also tried using bmp instead of png, but I get the same result.<br/>_________________<br/>Massif - It means mountain.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175430 - relminator - Fri Nov 19, 2010 6:22 am</h4>
    <div class="postbody"><span class="postbody">If you are using 16 color images, you can use 16x palette at any time during rendering.
<br/>
<br/>
For an almost unlimited palette use at any time during rendering you could use the 3D hardware.
<br/>
<br/>
<a href="http://devkitpro.org/viewtopic.php?f=25&amp;t=2333&amp;p=6177#p6177" target="_blank">http://devkitpro.org/viewtopic.php?f=25&amp;t=2333&amp;p=6177#p6177</a><br/>_________________<br/><a href="http://rel.betterwebber.com" target="_blank">http://rel.betterwebber.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175439 - Massif - Fri Nov 19, 2010 4:26 pm</h4>
    <div class="postbody"><span class="postbody">I'm not even talking about displaying the graphics. I'm talking about packing the images with grit. The output grit is producing does not contain all the colors from my images.<br/>_________________<br/>Massif - It means mountain.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175441 - Massif - Sun Nov 21, 2010 5:48 pm</h4>
    <div class="postbody"><span class="postbody">So I downloaded the grit source code and hacked shared palettes in myself. :)<br/>_________________<br/>Massif - It means mountain.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#175442 - headspin - Sun Nov 21, 2010 6:16 pm</h4>
    <div class="postbody"><span class="postbody">I added a similar option to <a class="postlink" href="http://greatflash.co.uk/index.php?topic=146.0" target="_blank">grit</a> called -mp which specifies a palette offset. Then I used a program I wrote called <a class="postlink" href="http://headsoft.com.au/index.php?category=paledit" target="_blank">PalEdit</a> for editing the graphics to share a single palette.<br/>_________________<br/><a class="postlink" href="http://headsoft.com.au/index.php?category=warhawk" target="_blank">Warhawk DS</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=mmll" target="_blank">Manic Miner: The Lost Levels</a> | <a class="postlink" href="http://headsoft.com.au/index.php?category=tdg" target="_blank">The Detective Game</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
