<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Unable to run several examples from libnds (SOLVED) - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Unable to run several examples from libnds (SOLVED)</h2>
<div id="posts">
<div class="post">
    <h4>#130573 - tempest - Tue Jun 05, 2007 11:23 am</h4>
    <div class="postbody"><span class="postbody">Hello, I'm quite new to the field of DS homebrew, so I thought that the best start would be browsing through the examples of libnds.
<br/>
<br/>
However, I can't get several of them to run correctly in any emulator or in actual hardware (I use a SuperCard SD).
<br/>
<br/>
Some more detail, about Graphics/3D/nehe directory:
<br/>
<br/>
<ul>
<br/>
using an emulator, I can't get examples 1-5 to display anything on screen, while examples 6-11 display a frame on screen and then become unresponsive. All of them don't handle input;
<br/>
<br/>
using the actual hardware, I get examples 1-5 to display the first frame (but again, they ignore any input, so I think that the hw froze), while 6-11 don't display anything.
<br/>
</ul>
<br/>
<br/>
Many examples in Graphics/3D/misc directory show nothing or freeze the hardware. However, the Env_Mapping demo, which uses display lists, works correctly on emulators (but not on the DS).
<br/>
<br/>
This is with devkitARM r20, libnds-20070503 (I also tried 20070327, but with no better luck) and nds-examples-20070327.
<br/>
<br/>
Does anybody have a clue? It seems very strange to me that examples for the library don't work, I suspect a flaw in my building setup, but again I just installed devkitARM and used the builtin msys shell to build the examples, nothing fancy at all.
<br/>
<br/>
Thanks in advance for any suggestion!</span><span class="gensmall"><br/><br/>Last edited by tempest on Mon Jun 11, 2007 1:50 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#130621 - tempest - Tue Jun 05, 2007 9:02 pm</h4>
    <div class="postbody"><span class="postbody">Sorry for bumping, but this one is giving me a headscratch. I've just installed a vanilla windows xp, with the latest devkitpro, and compiled nds-examples-20070327 , with the same results described in my previous post.
<br/>
<br/>
Is it me, or libnds' examples just don't work at all?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130632 - Rajveer - Tue Jun 05, 2007 10:59 pm</h4>
    <div class="postbody"><span class="postbody">Just to make sure, as you're using a Supercard are you converting the application with the Supercard homebrew converter? (I'm not sure if you need to still do this anymore as I've stopped developing on my SC SD).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130637 - dovoto - Wed Jun 06, 2007 12:47 am</h4>
    <div class="postbody"><span class="postbody">I just did a make clean of the nehe examples and tried a couple (lessons 2 - 5 specificaly) and they work fine on no$gba and on hardware.
<br/>
<br/>
I built using r20 and the latest examples from the cvs.   Not sure if they have changed much since they were last packaged.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130660 - tempest - Wed Jun 06, 2007 7:52 am</h4>
    <div class="postbody"><span class="postbody">Thanks for your replies!
<br/>
<br/>
Rajveer: yes, I'm patching the generated .nds files with the supercard converter. It's still needed since it's one of the "old" SC (the big one for the "ugly" DSes), I don't think that newer ones still need patching.
<br/>
<br/>
dovoto: I will try to pull them from CVS. Actually in the packaged version some examples still use the deprecated (I think) glIdentity instead of glLoadIdentity.
<br/>
<br/>
<br/>
Anyway, I think I've tracked down part of the problem. I've just discovered that my "vanilla" xp image actually has a MinGW compiler installed into it; having in the PATH both the directory of its binaries and devkitARM's was probably messing up things.
<br/>
<br/>
So I've removed the path to MinGW and things are much better: now all examples can be run in no$gba (will try them on hardware too)... except for those examples that can't be compiled due to glIdentity use in the source (obviously), and <span style="font-weight: bold">example03</span> that still won't run.
<br/>
<br/>
no$gba brings up a set of dialogs as soon as the example03 rom is loaded (wr_ptr , rd_ptr, etc...) and a final "Unexpected error".</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#130676 - dovoto - Wed Jun 06, 2007 3:59 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tempest wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
no$gba brings up a set of dialogs as soon as the example03 rom is loaded (wr_ptr , rd_ptr, etc...) and a final "Unexpected error".</td> </tr></table><span class="postbody">
<br/>
<br/>
I get that same error on that example from no$, however it works ifne on hardware.
<br/>
<br/>
Good to see you are having a bit more luck.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#131139 - tempest - Mon Jun 11, 2007 1:50 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I get that same error on that example from no$, however it works ifne on hardware.</td> </tr></table><span class="postbody">
<br/>
<br/>
Ok, at least now I'm sure that my development environment is fine, and that the fault is on no$gba's side.
<br/>
<br/>
Thanks again for all the suggestions!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
