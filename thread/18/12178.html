<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sound recognition with mic - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Sound recognition with mic</h2>
<div id="posts">
<div class="post">
    <h4>#115518 - Sweater Fish Deluxe - Tue Jan 16, 2007 10:28 pm</h4>
    <div class="postbody"><span class="postbody">I would like to build some (relatively) very simple sound recognition features into the game I'm working on.  I'm not talking about actual voice or speech recognition, but just a few basic sounds like blowing on the mic, humming, yelping, etc.  Things that it seems would be easily differentiated.
<br/>
<br/>
However, I don't see any functions in NDSlib or PAlib that could help me implement something sound recognition.  Just recording and playback.  Does that mean, I'd have to use ARM7 ASM or something?  If so, that's out of my league, I'm afraid.
<br/>
<br/>
When recording from the mic, does the recorded sound get stored as an array of some sort?  One that I can actually access flexibly?  If so, perhaps I could use the data in the array to recognize the sound that was recorded just the trial and experimentation.
<br/>
<br/>
But I don't want the player to have to press a specific button or something before making the noise (that would sort of defeat the purpose), so will it be possible to record from the mic continuously (and inspect the recorded data continuously) so that whenever the player makes a recognizable noise it could be detected?
<br/>
<br/>
The more I think about this, the more I'm led to the conclusion that it's unfortunately beyond my current programming abilities, but I thought I'd ask in case anyone has any bright ideas or obvious solutions that could help me.
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#115519 - tepples - Tue Jan 16, 2007 10:43 pm</h4>
    <div class="postbody"><span class="postbody">To turn a recorded voice signal into recognized commands, you'll need to extract patterns from this signal. Recognition is one of the tasks of <a class="postlink" href="http://en.wikipedia.org/wiki/Digital_signal_processing" target="_blank">digital signal processing</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#115534 - simonjhall - Tue Jan 16, 2007 11:40 pm</h4>
    <div class="postbody"><span class="postbody">You could run the mic permanently (assuming there's no technical reason why you can't) and use the ARM7 to do the sound recognition. If you're looking to do plain tone recognition then that sounds do-able - you should first do some kind of FFT code and then visualise the data to see what kind of sound the player is making.
<br/>
<br/>
Don't assume at that everyone hums or yelps the same way though.
<br/>
(I do computer vision 9-5 - I imagine sound is just as hard!)<br/>_________________<br/><span style="font-weight: bold"><a class="postlink" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=simonjhall%40gmail%2ecom&amp;no_shipping=2&amp;no_note=1&amp;tax=0&amp;currency_code=GBP&amp;lc=GB&amp;bn=PP%2dDonationsBF&amp;charset=UTF%2d8" target="_blank">Big thanks to everyone who donated for Quake2</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#115548 - nolen - Wed Jan 17, 2007 2:10 am</h4>
    <div class="postbody"><span class="postbody">i'm doing something similar to what you want to do but i'm just doing it by the volume of the input the mic is "hearing".
<br/>
<br/>
Say the mic has a volume range of 0-255 and blowing is about as loud as 130 or so. To have something react to blowing, set a variable to the current mic volume and when that variable &gt;= 130, have your code for the reaction run.
<br/>
<br/>
So just find what volume humming and yelling would be and do something similar.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#115555 - tepples - Wed Jan 17, 2007 3:21 am</h4>
    <div class="postbody"><span class="postbody">Volume isn't a reliable way to distinguish blowing, humming, and yelling. Pitch detection is what you need.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#115598 - Sweater Fish Deluxe - Wed Jan 17, 2007 6:59 pm</h4>
    <div class="postbody"><span class="postbody">Though if blowing into the mic is the only thing you want to detect, volume probably would work since it's likely to be louder than any other ambient noise or even talking from the player.  I think I need at least three different sound detections, though, so volume probably wouldn't work for me.
<br/>
<br/>
I haven't actually experimented with the mic functions yet (I'm too busy with other stuff to do any actual coding, but I like to daydream about the projects I'll be working on, you know), but assuming that I can get things like continous recording and the ablity to inspect the mic data working well, do you guys know of any PC programs that will analyze recorded data and find patterns across a number of sample recordings?  I assume that such programs exist as freeware since it's exactly the sort of thing I see computer science majors having to write as term projects all the time.
<br/>
<br/>
<br/>
...word is bondage...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
