<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DS OpenGL local rotations - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > DS OpenGL local rotations</h2>
<div id="posts">
<div class="post">
    <h4>#97580 - Rajveer - Thu Aug 10, 2006 4:46 pm</h4>
    <div class="postbody"><span class="postbody">hi, im trying to rotate a 3d object by an arbitrary axis. i have stored the object's local axis as a 3x3 matrix starting off as the identity matrix, and pressing left/right will rotate the object on the y-vector (second column) in the matrix.
<br/>
<br/>
1 0 0
<br/>
0 1 0
<br/>
0 0 1
<br/>
x y z (axis)
<br/>
<br/>
to modify the local axis when rotating, i thought i could multiply the rotation matrix created, by the 3x3 matrix. the reason why was because multiplying the rotation matrix by vertices at coordinates  (1, 0, 0), (0, 1, 0) and (0, 0, 1) would rotate them correctly so it should do the same with these position vectors. to do this i store the rotation matrix in a temporary 3x3 matrix, call glLoad.. to load the axis and call glMult.. to multiply it by the rotation matrix.
<br/>
<br/>
my questions:
<br/>
<br/>
1) how would i now store these results in the original 3x3 axis matrix?
<br/>
<br/>
2) is this way of modifying axis ok? any tips?
<br/>
<br/>
cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97728 - Rajveer - Fri Aug 11, 2006 9:30 am</h4>
    <div class="postbody"><span class="postbody">anybody?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97778 - dj-ceejay - Fri Aug 11, 2006 2:37 pm</h4>
    <div class="postbody"><span class="postbody">Are you thinking about a quaternion. It's a custom rotation axis (qx,qy,qz) and an angle(qw) giving: (qx,qy,qz,qw).
<br/>
<br/>
To create the matrix:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
1 - 2*qy^2 - 2*qz^2 ,, 2*qx*qy - 2*qz*qw ,, 2*qx*qz + 2*qy*qw
<br/>
2*qx*qy + 2*qz*qw ,, 1 - 2*qx^2 - 2*qz^2 ,, 2*qy*qz - 2*qx*qw
<br/>
2*qx*qz - 2*qy*qw ,, 2*qy*qz + 2*qx*qw ,,1 - 2*qx2 - 2*qy^2
<br/>
</td> </tr></table><span class="postbody">
<br/>
(from <a class="postlink" href="http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToMatrix/index.htm" target="_blank">euclideanspace</a>)
<br/>
<br/>
Then load the created matrix in and draw your verts.
<br/>
<br/>
Is this what you mean Rajveer?<br/>_________________<br/>Fruit Machine Games:
<br/>
<a class="postlink" href="http://www.fmsoftware.info/" target="_blank">http://www.fmsoftware.info/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#97786 - Rajveer - Fri Aug 11, 2006 3:11 pm</h4>
    <div class="postbody"><span class="postbody">im thinkin about quaternions which ill convert to axis-angle for glRotate (or matrix, not really sure).
<br/>
<br/>
i think i need help with the bigger picture:
<br/>
<br/>
1) im trying to make a racing game. for collision, i have to calculate which polygon in the level the object is over, and then match the objects rotation to the plane of the polygon its over (so i have to change the objects axis according to the polygon). then i want to be able to rotate in the objects modified y-axis and move through the objects z-axis. so i was thinkin of storing a list of some sort for each polygon with details on its rotation and its boundaries that the object has to pass to be able to say "its over this polygon". would this be too complicated? any tips?
<br/>
<br/>
2) what would you say the best way of matching the objects rotation with the polygons rotation is? any tips?
<br/>
<br/>
cheers :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
