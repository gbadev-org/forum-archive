<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Scrambled sprite - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Scrambled sprite</h2>
<div id="posts">
<div class="post">
    <h4>#43073 - ANeo7782 - Wed May 18, 2005 9:15 pm</h4>
    <div class="postbody"><span class="postbody">I tried forever to get a sprite to display on the screen, and I've finally done it.. unfortunately now it looks all scrambled. I'm using dmaCopy to copy the raw file and the palette, and don't know what's going on. Here's a screenshot:
<br/>
<a href="http://dsdev.neocodenetworks.com/project/poke/images/scrambled.jpg">[Images not permitted - Click here to view it]</a>
<br/>
Any help would really be appreciated, this is my first try at DS programming.<br/>_________________<br/>AndrewNeo - <span style="font-style: italic">Username disallowed.</span>
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com" target="_blank">NCN DSDev Team Leader</a></span><span class="gensmall"><br/><br/>Last edited by ANeo7782 on Wed May 18, 2005 9:22 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#43074 - tepples - Wed May 18, 2005 9:18 pm</h4>
    <div class="postbody"><span class="postbody">All I get is 404.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43076 - ANeo7782 - Wed May 18, 2005 9:22 pm</h4>
    <div class="postbody"><span class="postbody">That's what I get for not paying attention.. fixed.<br/>_________________<br/>AndrewNeo - <span style="font-style: italic">Username disallowed.</span>
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com" target="_blank">NCN DSDev Team Leader</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43089 - tepples - Wed May 18, 2005 11:56 pm</h4>
    <div class="postbody"><span class="postbody">Can you post what the image is <span style="font-style: italic">supposed</span> to look like, so that I can help you find possible conversion errors?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43090 - ANeo7782 - Thu May 19, 2005 12:02 am</h4>
    <div class="postbody"><span class="postbody">Here's the original image.
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com/project/poke/images/target.bmp" target="_blank">http://dsdev.neocodenetworks.com/project/poke/images/target.bmp</a><br/>_________________<br/>AndrewNeo - <span style="font-style: italic">Username disallowed.</span>
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com" target="_blank">NCN DSDev Team Leader</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43094 - strager - Thu May 19, 2005 12:33 am</h4>
    <div class="postbody"><span class="postbody">Maybe you are using the wrong pallet setting, or maybe size setting.  Try using 16 and 256 pallets, and 8x8, 16x16, 32x32, and 64x64 screen sizes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43096 - ANeo7782 - Thu May 19, 2005 1:15 am</h4>
    <div class="postbody"><span class="postbody">Tried it. Still won't come out.<br/>_________________<br/>AndrewNeo - <span style="font-style: italic">Username disallowed.</span>
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com" target="_blank">NCN DSDev Team Leader</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43101 - Ethos - Thu May 19, 2005 2:38 am</h4>
    <div class="postbody"><span class="postbody">Post code.<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43163 - ANeo7782 - Thu May 19, 2005 6:54 pm</h4>
    <div class="postbody"><span class="postbody">Here's the code as of now..
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com/project/poke/poke-05-18-05.rar" target="_blank">http://dsdev.neocodenetworks.com/project/poke/poke-05-18-05.rar</a>
<br/>
<br/>
Sorry it's in RAR format, I originally emailed it to myself and it rejected it as a zip file. :P<br/>_________________<br/>AndrewNeo - <span style="font-style: italic">Username disallowed.</span>
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com" target="_blank">NCN DSDev Team Leader</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43170 - Ethos - Thu May 19, 2005 7:44 pm</h4>
    <div class="postbody"><span class="postbody">Things to fix:
<br/>
<br/>
1) Your gfx2gba...add the argument -t8
<br/>
<br/>
2) Remove ATTR0_BMP
<br/>
<br/>
3) </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void updateOAM(void)
<br/>
{
<br/>
   int i;
<br/>
    //((uint32*)OAM)[0] = ((uint32*)OAMCopy)[0];
<br/>
    for (i = 0; i &lt; 4; i++) {
<br/>
       OAM [i] = ((u16*)OAMCopy)[i];
<br/>
    }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
Tell me how that does...<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43174 - ANeo7782 - Thu May 19, 2005 8:40 pm</h4>
    <div class="postbody"><span class="postbody">It works! Unfortunately the center of the image appears to be transparent. It should be solid black.<br/>_________________<br/>AndrewNeo - <span style="font-style: italic">Username disallowed.</span>
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com" target="_blank">NCN DSDev Team Leader</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43175 - Ethos - Thu May 19, 2005 8:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ANeo7782 wrote:</b></span></td> </tr> <tr> <td class="quote">It works! Unfortunately the center of the image appears to be transparent. It should be solid black.</td> </tr></table><span class="postbody">
<br/>
<br/>
Remember...palette entry 0 is transparent!
<br/>
<br/>
use gfx2gba to change the transparent bit....add -a255 to the arguments<br/>_________________<br/><a class="postlink" href="http://ethos.oddigytitanium.com" target="_blank">Ethos' Homepage (Demos/NDS 3D Tutorial)</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43176 - ANeo7782 - Thu May 19, 2005 8:58 pm</h4>
    <div class="postbody"><span class="postbody">Had a feeling that was the problem, but wasn't sure how to fix it.
<br/>
<br/>
...
<br/>
Unfortunately, it doesn't seem to do anything..<br/>_________________<br/>AndrewNeo - <span style="font-style: italic">Username disallowed.</span>
<br/>
<a class="postlink" href="http://dsdev.neocodenetworks.com" target="_blank">NCN DSDev Team Leader</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
