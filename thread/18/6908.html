<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>help: ds.gba versus .nds - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > help: ds.gba versus .nds</h2>
<div id="posts">
<div class="post">
    <h4>#54516 - sublimerewind - Tue Sep 20, 2005 3:20 am</h4>
    <div class="postbody"><span class="postbody">I know this must be somewhere else on these boards.  I know it must be somewhere in the development tutorials.  I know I'll likey be stoned and feathered and dragged through hot molasses for asking, considering.  But:
<br/>
<br/>
What is the difference betwixt ds.gba and .nds files?  pme2nds claims to convert between the two, but I've not yet had it tell me anything but it can't find the AXXE header or some such.  I understand one has to do with accessing more memory than the 4 megs of RAM, and that t'other works in my GBAMP.  Can I convert from one to t'other?  When I start compiling my own stuff, need I generate multiple files and concatenate them as I've seen ndstool look like it's doing for others?  
<br/>
<br/>
My first test will be trying to change the TI-85 emulator ds.gba (or source) to run from the GBAMP, I think.</span><span class="gensmall"><br/><br/>Last edited by sublimerewind on Tue Sep 20, 2005 6:39 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#54519 - tepples - Tue Sep 20, 2005 3:48 am</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">.nds</span> is a binary for the Nintendo DS that loads into RAM. It consists of a header, an ARM7 region, and an ARM9 region. FlashMe+WMB and GBA Movie Player support this.
<br/>
<br/>
<span style="font-weight: bold">.srl</span> (also called "clean dump", sometimes distributed as .nds because they use the same header) is a commercial ROM dump consisting of a .nds file and an appended file system, usually in Nitro-FAT format. The code in the .nds file reads from the appended file system using block transfers through the DS game card access registers. Homebrew tools do not generate .srl, and WMB does not support .srl. In the future, GBA Movie Player <span style="font-style: italic">might</span> support .srl by patching the ROMs to read the Nitro-FAT from the GBA Movie Player instead of the DS game card, but this isn't guaranteed to happen before DS end of life.
<br/>
<br/>
<span style="font-weight: bold">ds.gba</span> is a binary for the Nintendo DS designed to run from GBA ROM. It usually consists of a small loader, a .nds file, and zero or more appended data files. The code in the ds.gba file reads from the appended data files using reads from GBA ROM space. Flash carts, M3, and SuperCard support this (though see below).
<br/>
<br/>
<span style="font-weight: bold">gba.nds</span> As natrium42 points out, the SuperCard firmware seems to think that .nds is the extension for a ds.gba program. When using the DS for SuperCard homebrew, use ds.gba programs, but rename them to end in .nds. I'd suggest using <span style="font-weight: bold">gba</span>.nds so that <span style="font-style: italic">you</span> can tell the difference between a real .nds program and what SuperCard wants.
<br/>
<br/>
<span style="font-weight: bold">.nds to ds.gba</span> Converting .nds programs into ds.gba programs involves prepending a loader, which either loads the first appended .nds file or allows selection of one of many .nds files.
<br/>
<br/>
<span style="font-weight: bold">.srl to ds.gba</span> This has become possible. Discuss it at <a class="postlink" href="http://boards.pocketheaven.com/" target="_blank">Pocket Heaven</a>, not here.
<br/>
<br/>
<span style="font-weight: bold">ds.gba to .nds</span> Don't bother. Most ds.gba files whose author does not distribute a corresponding .nds file usually require appended data. They may or may not be available in a separate version whose source code has been adapted for the GBAMP using chishm's file system code.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Sat Sep 24, 2005 6:40 pm; edited 3 times in total</span></div>    
</div>
<div class="post">
    <h4>#54520 - natrium42 - Tue Sep 20, 2005 3:53 am</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">(1) .ds.gba</span>
<br/>
File begins with a GBA header (for stupid GBA flashers to mess with) and a small loader that runs on ARM7. It loads the ARM7 and ARM9 binaries into memory and starts execution of the demo.
<br/>
<span style="color: red">Works on GBA flashcard directly. Doesn't work with menu loaders.</span>
<br/>
<br/>
<span style="font-weight: bold">(2) .nds (old demos)</span>
<br/>
File begins with a NDS header and ARM7+ARM9 binaries. It can also contain a file system. There is no loader, so loading must be done by some kind of loader (e.g. Darkain's Multi-NDS menu loader).
<br/>
<span style="color: red">Works with a loader.</span>
<br/>
<br/>
<span style="font-weight: bold">(3) .nds (new demos)</span>
<br/>
Same as (2), but there is loader in "unused" space of the NDS header. Sadly, many GBA flashers mess up the NDS header thinking it's a corrupted GBA header. Hence, if your GBA flasher sucks, you will need to use a loader as in (2).
<br/>
<span style="color: red">Works on GBA flashcard directly if your flasher doesn't suck. Also works with a loader.</span>
<br/>
<br/>
Generally, you use demos in .ds.gba format only if you put only one demo onto a GBA flashcart. If you want to put more than one demo and/or are forced to use a loader (WMB, GBAMP, ...) you use demos in .nds format.
<br/>
<br/>
<span style="color: red">Note: Apparently the Supercard guys decided to mess up our naming convention and what we call .ds.gba, they call .nds</span><br/>_________________<br/><a class="postlink" href="http://www.natrium42.com" target="_blank">www.natrium42.com</a></span><span class="gensmall"><br/><br/>Last edited by natrium42 on Tue Sep 20, 2005 3:56 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#54521 - natrium42 - Tue Sep 20, 2005 3:55 am</h4>
    <div class="postbody"><span class="postbody">Heh, tepples beat me to it :)
<br/>
I will leave it though, so that it's explained two ways.<br/>_________________<br/><a class="postlink" href="http://www.natrium42.com" target="_blank">www.natrium42.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54522 - sublimerewind - Tue Sep 20, 2005 4:19 am</h4>
    <div class="postbody"><span class="postbody">That was quick - thanks.
<br/>
<br/>
Looks like I'm stymied with the TI85 emulator until I stumble on the source somewhere (source provided was for the exe what injects the TI85 rom into the ds.gba); think I'll see if I can't find something more interesting, if less utilitarian, to waste my sparse DS-programming-worthy free time on.  Maybe I'll get inspired and collect some of the current miscellaneous, not-in-a-tutorial information in one place.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54528 - The 9th Sage - Tue Sep 20, 2005 5:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<span style="font-weight: bold">.srl</span> (also called "clean dump", sometimes distributed as .nds because they use the same header) is a commercial ROM dump consisting of a .nds file and an appended file system, usually in Nitro-FAT format. The code in the .nds file reads from the appended file system using block transfers through the DS game card access registers. Homebrew tools do not generate .srl, and WMB does not support .srl. In the future, GBA Movie Player <span style="font-style: italic">might</span> support .srl by patching the ROMs to read the Nitro-FAT from the GBA Movie Player instead of the DS game card, but this isn't guaranteed to happen before DS end of life.</td> </tr></table><span class="postbody">
<br/>
<br/>
Commercial games (these SRL) are the same as NDS wifi-able demos except for the filesystem right?  Are you using SRL mostly to differentiate commercial games from homebrew and wifiable demos?  In my wanderings of the filesystems of my NDS games that YES I do own, I have encounered a few wifiable SRLs...that's mostly why I'm asking, so that I don't start calling any of these things by the wrong names.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54532 - tepples - Tue Sep 20, 2005 6:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>The 9th Sage wrote:</b></span></td> </tr> <tr> <td class="quote">Commercial games (these SRL) are the same as NDS wifi-able demos except for the filesystem right?  Are you using SRL mostly to differentiate commercial games from homebrew and wifiable demos?</td> </tr></table><span class="postbody">
<br/>
Yes. It's rumored that the official Nintendo brand tools used by licensed developers use the suffix .srl for cart images. I use this suffix to distinguish them from both WMB compatible programs and the various "patched" formats sponsored by makers of DS flash equipment.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">In my wanderings of the filesystems of my NDS games that YES I do own, I have encounered a few wifiable SRLs</td> </tr></table><span class="postbody">
<br/>
Then a .srl file without a file system is probably the same thing as what we call a .nds file. I can't verify whether or not the header points to the file system or whether the .srl file has the file system address hardcoded because DarkFader's site is down.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54605 - The 9th Sage - Tue Sep 20, 2005 7:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Then a .srl file without a file system is probably the same thing as what we call a .nds file. I can't verify whether or not the header points to the file system or whether the .srl file has the file system address hardcoded because DarkFader's site is down.</td> </tr></table><span class="postbody">
<br/>
<br/>
Well, looking at them with NDStool they appear to have the ARM 7 and ARM 9 (no sign that I know of of having a regular NDS file system as full fledged non-homebrew NDS game would)  binaries, signed as you would expect from official WiFi code, and with an ARM9 footer...I'm not exactly sure what that means though.  I do not think I remember seeing this in homebrew demos, so maybe that's something to differentiate them from homebrew NDS files.
<br/>
<br/>
Then again, I could be totally wrong. :)  This is how it looks to me though.<br/>_________________<br/>Now with 20% More Old Man from Zelda 1 than ever before!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#54613 - Wraggster - Tue Sep 20, 2005 9:32 pm</h4>
    <div class="postbody"><span class="postbody">thanks for the info guys
<br/>
<br/>
it took me days to figure it out and im no newcomer to homebrew.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#55017 - Kyoufu Kawa - Sat Sep 24, 2005 5:47 pm</h4>
    <div class="postbody"><span class="postbody">I confirm the SRL thing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134343 - lance3d - Thu Jul 12, 2007 4:51 pm</h4>
    <div class="postbody"><span class="postbody">So could I run a .srl file using flash card? Many thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#134350 - tondopie - Thu Jul 12, 2007 5:13 pm</h4>
    <div class="postbody"><span class="postbody">please don't post in topics that are 2 years old...<br/>_________________<br/><span style="font-weight: bold">Development Blog:</span> <a class="postlink" href="http://teendev.org" target="_blank">http://teendev.org</a>
<br/>
<span style="font-weight: bold">Homebrew Podcast:</span> <a class="postlink" href="http://homebrewcast.net" target="_blank">http://homebrewcast.net</a>
<br/>
<span style="font-weight: bold">Web Design:</span> <a class="postlink" href="http://xtendesign.net" target="_blank">http://xtendesign.net</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
