<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Odd issues of monkeys and pencils - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Odd issues of monkeys and pencils</h2>
<div id="posts">
<div class="post">
    <h4>#108529 - thegamefreak0134 - Thu Nov 09, 2006 10:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">template.o:(.rodata+0x20): multiple definition of `pencilBitmap\'
<br/>
pencil.o:(.rodata+0x20): first defined here
<br/>
template.o:(.rodata+0x0): multiple definition of `pencilPal\'
<br/>
pencil.o:(.rodata+0x0): first defined here
<br/>
collect2: ld returned 1 exit status
<br/>
make[2]: *** [/c/devkitPro/Projects/PaintBASIC/arm9/PaintBASIC.arm9.elf] Error 1
<br/>
make[1]: *** [build] Error 2
<br/>
make[1]: Leaving directory `/c/devkitPro/Projects/PaintBASIC/arm9\'
<br/>
\"make\": *** [arm9/PaintBASIC.elf] Error 2</td> </tr></table><span class="postbody">
<br/>
<br/>
This is what I get when I try to do:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include \"pencil.c\"</td> </tr></table><span class="postbody">
<br/>
<br/>
which has my info for an image. The program itself compiles fine, it just won\'t link. I am very new to makefiles, and I suspect them to be the issue. How is one supposed to add an image to the project in the more generally accepted manner?
<br/>
<br/>
-thegamefreak<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108544 - Cearn - Thu Nov 09, 2006 11:51 pm</h4>
    <div class="postbody"><span class="postbody">The problem isn't makefiles, the problem is that you <a class="postlink" href="http://www.coranac.com/tonc/text/bitmaps.htm#ssec-data-hdr" target="_blank">shouldn't #include data</a>. pencil.c contains the definitions of pencilPal and pencilBitmap, so when compiled pencil.o will contain these items. When you #include pencil.c into template.c (or any other file), then that file will also contain a copy of those items. So now the linker will have to choose which version of the data called pencilPal and pencilBitmap you actually mean. And because that's a decision best left to the programmer, it throws out an error message that you should only have one copy of the data in the project.
<br/>
<br/>
There should also be a header file with declarations for the arrays, probably called pencil.h. Include that instead of pencil.c, clean the project to make sure the old definitions are gone, and build it again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#108629 - thegamefreak0134 - Fri Nov 10, 2006 6:07 pm</h4>
    <div class="postbody"><span class="postbody">So there <span style="font-style: italic">is</span> a reason usenti (or git) can export the headers... OK, that will probably work a lot better. Thanks!<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
