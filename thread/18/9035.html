<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>more help with coding - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > more help with coding</h2>
<div id="posts">
<div class="post">
    <h4>#77017 - GizmoTheGreen - Mon Mar 27, 2006 2:52 pm</h4>
    <div class="postbody"><span class="postbody">now fr another question, what source of sound is recommended when converting with sox to raw?
<br/>
<br/>
also, could someone explain the transfersounddata parameters a little deeper for me?
<br/>
<br/>
thanks in advance, i still need helpin my other post though :P<br/>_________________<br/>Starter of the project TrueLoveDS :D
<br/>
Will you find True Love?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77052 - ProblemBaby - Mon Mar 27, 2006 7:54 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>GizmoTheGreen wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
now fr another question, what source of sound is recommended when converting with sox to raw? 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Do you mean format? In such case 8 or 16 bit not greather then 32khz cause it wont make any difference if you dont want to replay the sounds with a lower frequency.
<br/>
<br/>
But the most important thing is memory, try to use 8bit and a low frequency, be sure to normalize the sound before saving it as 8bit else if its a low volume sample you will get a lot of noise.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77055 - GizmoTheGreen - Mon Mar 27, 2006 8:19 pm</h4>
    <div class="postbody"><span class="postbody">i use windows internal soundrecorder to convert between formats before i sox the wav to raw, and i cant find anything under 8000khz? :\<br/>_________________<br/>Starter of the project TrueLoveDS :D
<br/>
Will you find True Love?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77057 - ProblemBaby - Mon Mar 27, 2006 8:23 pm</h4>
    <div class="postbody"><span class="postbody">I think thats low enough for most samples.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77124 - GizmoTheGreen - Tue Mar 28, 2006 2:10 pm</h4>
    <div class="postbody"><span class="postbody">ive tried, can only get it to sound like sh*t<br/>_________________<br/>Starter of the project TrueLoveDS :D
<br/>
Will you find True Love?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77204 - melw - Wed Mar 29, 2006 9:31 am</h4>
    <div class="postbody"><span class="postbody">8000hz sounds generally like shit, especially with high pitching samples. 16khz or 22khz is something I prefer to use as a sfx sound quality - if you have to cut somewhere, just use mono (first thing) and 8-bit (second) - with DS' speakers one can't really hear a big difference unless the sample rate gets too low.
<br/>
<br/>
If you really have to go as low as 8khz, apply first a lowpass filter or use antialiasing when resampling. Pretty much all the audio editors around can do these tricks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77224 - Chris Holmes - Wed Mar 29, 2006 4:41 pm</h4>
    <div class="postbody"><span class="postbody">Just to be technically accurate, an 8000 hz sample sounds great for any sound below 4000 hz in frequency.  As long as you're sampling at twice the frequency, then you should be able to reproduce the sound fairly accurately (See the Nyquist Sampling Theorem: <a href="http://www.cs.cf.ac.uk/Dave/Multimedia/node149.html" target="_blank">http://www.cs.cf.ac.uk/Dave/Multimedia/node149.html</a> ).
<br/>
Of course, ironically, even if you're sampling at twice the frequency, you have to sample at the right time, which is why sampling at 4+ times the frequency will result in a better quality.
<br/>
<br/>
If you're using a quality audio editting program, it should be able to tell you what the maximum frequency of the sound clip is, so you can use that to determine how high the sampling rate really needs to be in order to reproduce the sound properly.
<br/>
<br/>
When in doubt, 44.1 khz is a pretty solid standard.  Human hearing only extends up to about 20 khz, and 44.1 will give you a solid double sampling rate on the highest frequencies and, well, it's pretty much a standard.
<br/>
<br/>
  Chris</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77246 - tepples - Wed Mar 29, 2006 7:25 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Chris Holmes wrote:</b></span></td> </tr> <tr> <td class="quote">Just to be technically accurate, an 8000 hz sample sounds great for any sound below 4000 hz in frequency.</td> </tr></table><span class="postbody">
<br/>
Except the Nintendo DS sample playback hardware uses nearest-neighbor resampling. If you have a sound at 3000 Hz and you're playing it back at  8000 Hz using hardware, you'll get audible aliases at at least 5000 Hz, 11000 Hz, and 13000 Hz, unless you use a software low-pass filter to smooth out the stairsteps.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">When in doubt, 44.1 khz is a pretty solid standard.  Human hearing only extends up to about 20 khz, and 44.1 will give you a solid double sampling rate on the highest frequencies and, well, it's pretty much a standard.</td> </tr></table><span class="postbody">
<br/>
The Nintendo DS itself can't do higher than 32768 Hz.[1]
<br/>
<br/>
<span style="font-size: 9px; line-height: normal">[1] MoonShell has a bug in rate calculation.</span><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77250 - Chris Holmes - Wed Mar 29, 2006 7:36 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Except the Nintendo DS sample playback hardware uses nearest-neighbor resampling. If you have a sound at 3000 Hz and you're playing it back at 8000 Hz using hardware, you'll get audible aliases at at least 5000 Hz, 11000 Hz, and 13000 Hz, unless you use a software low-pass filter to smooth out the stairsteps. </td> </tr></table><span class="postbody">
<br/>
<br/>
Wow, that's crazy.  The solution to that seems to be that you should
<br/>
just record all your samples at whatever the native frequency the DS plays sounds at.  Otherwise, yeah, you'll get crazy aliasing.
<br/>
<br/>
  Chris</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
