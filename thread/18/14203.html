<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Can't get edge-marking to work. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Can't get edge-marking to work.</h2>
<div id="posts">
<div class="post">
    <h4>#141233 - Peter - Sun Sep 23, 2007 10:42 am</h4>
    <div class="postbody"><span class="postbody">I don't get edge-marking to work. I thought I would just have to enable the edge-marking bit in DISPCNT3D, and set a different PolygonID in POLYGON_ATTR than the Rear-Plane uses. Maybe optionally setup the edge-table-colors. But for some reason it does not work and I don't get why.
<br/>
<br/>
Here is what I'm doing in some sort of pseudo-code:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
CLEAR_COLOR.PolygonID = 0;
<br/>
<br/>
DISP3DCNT.PolygonAttrShading = ToonShading; // no idea if necessary
<br/>
DISP3DCNT.EdgeMarking = 1;
<br/>
DISP3DCNT.RearPlaneMode = Blank;
<br/>
<br/>
POLYGON_ATTR.PolygonMode=ToonShading; // no idea if necessary
<br/>
POLYGON_ATTR.PolygonID = 8;
<br/>
<br/>
EDGE_COLOR = 0; // set all entries to black
<br/>
<br/>
RenderQuad(); // renders a quad which is made out of two triangles (triangle-list)
<br/>
</td> </tr></table><span class="postbody">
<br/>
Now I expected the polygones to have black edges, but they don't. Actually it makes no difference if I enable edge-marking or not.
<br/>
<br/>
Any idea what I'm doing wrong?<br/>_________________<br/>Kind Regards,
<br/>
Peter</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#141371 - Peter - Mon Sep 24, 2007 8:03 pm</h4>
    <div class="postbody"><span class="postbody">I found why it didn't work. I logically OR'ed the PolygonID into the DISP3DCNT, but it must be OR'ed into POLYGON_ATTR of course. yay!<br/>_________________<br/>Kind Regards,
<br/>
Peter</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
