<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>playing BGM? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > playing BGM?</h2>
<div id="posts">
<div class="post">
    <h4>#118539 - zohar - Wed Feb 14, 2007 4:07 am</h4>
    <div class="postbody"><span class="postbody">Is there a way to play background music (not sound effects) with devkit? Or would you basically set it up the same way--convert the BGM file to raw and then use playSound(..)?
<br/>
<br/>
The problem is, I want to be able to stop the BGM whenever I want to, else loop continuously. playSound(..) will just simply play the audio file and then stop once it's finished. Has anyone written any libraries for more "advanced" sound functionality?
<br/>
<br/>
Any help appreciated, thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118544 - tepples - Wed Feb 14, 2007 4:44 am</h4>
    <div class="postbody"><span class="postbody">Do you want a streaming recording, or do you want (likely smaller) MIDI/MOD/S3M/XM? Commercial games for Super NES and most commercial games for N64 and Nintendo DS use something more like the latter.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118545 - zohar - Wed Feb 14, 2007 4:51 am</h4>
    <div class="postbody"><span class="postbody">Originally, I was just thinking about using MP3/WAV files. Now that I think about it, it would be an obscenely large file... oops.
<br/>
<br/>
But yes, a MIDI BGM would be ideal then. Are there available processes that handle this?
<br/>
<br/>
Speaking of MIDIs, how do commercial games process them? Do the DS and other systems have built-in MIDI synthesizers? O_o</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118547 - tepples - Wed Feb 14, 2007 5:05 am</h4>
    <div class="postbody"><span class="postbody">The playback software licensed from Nintendo and included into every DS Game Card that uses MIDI music implements a MIDI file parser and a MIDI synthesizer and contains a sound font.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118551 - zohar - Wed Feb 14, 2007 5:15 am</h4>
    <div class="postbody"><span class="postbody">Ah, that's what I thought.
<br/>
<br/>
Are there *any* ways of playing BGM with what's available in the open-source community?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118552 - tepples - Wed Feb 14, 2007 5:19 am</h4>
    <div class="postbody"><span class="postbody">There are some .s3m and .xm player engines, but I don't recall their names. Both DSOrganize and MoonShell have such players. NitroTracker, a .xm editor, obviously must contain some sort of .xm player.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118641 - 0xtob - Thu Feb 15, 2007 1:45 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">NitroTracker, a .xm editor, obviously must contain some sort of .xm player.</td> </tr></table><span class="postbody"> ... which is going to be released as a library once I'm happy with it (i.e. not soon). If you badly want it: LemmingsDS uses an early version of it and is open source.<br/>_________________<br/><a class="postlink" href="http://blog.dev-scene.com/0xtob" target="_blank">http://blog.dev-scene.com/0xtob</a> | <a class="postlink" href="http://nitrotracker.tobw.net" target="_blank">http://nitrotracker.tobw.net</a> | <a class="postlink" href="http://dsmi.tobw.net" target="_blank">http://dsmi.tobw.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118670 - Dark Knight ez - Thu Feb 15, 2007 11:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">There are some .s3m and .xm player engines, but I don't recall their names. </td> </tr></table><span class="postbody">
<br/>
Probably libmikmod. I use it in AmplituDS as well, only modified to my needs. It can also play .it music files.
<br/>
Creators of tetattds packaged up their version nicely for use: <a href="http://blog.dev-scene.com/flatware/libmikmod/" target="_blank">http://blog.dev-scene.com/flatware/libmikmod/</a><br/>_________________<br/><span style="font-size: 9px; line-height: normal"><a class="postlink" href="http://amplituds.drunkencoders.com" target="_blank">AmplituDS website</a></span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118681 - PypeBros - Thu Feb 15, 2007 2:10 pm</h4>
    <div class="postbody"><span class="postbody">true. If you hunt for the sources of TetAttDS, it also features the DS version of libmikmod. It gives you the opportunity of playing not only BG music but also sound effects, though i'm unsure about its CPU consumption (afaik, the module -- BGM -- is rendered through only two hardware channels, and you have the other channels free for sound effects).
<br/>
<br/>
It also means that you'll have a whole community capable of writing songs for your game and a huge library of half-free modules to use during the testing process...<br/>_________________<br/><a class="postlink" href="http://sylvainhb.blogspot.com/p/sprite-editor.html" target="_blank"> SEDS: Sprite Edition on DS</a> :: <a class="postlink" href="http://sylvainhb.blogspot.com/search/label/modplayer" target="_blank">modplayer</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#118713 - zohar - Fri Feb 16, 2007 12:35 am</h4>
    <div class="postbody"><span class="postbody">Very promising. I'm going to look into libmikmod and see where that leads me.
<br/>
<br/>
Thanks to everyone who replied to this thread!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
