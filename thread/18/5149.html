<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compile problems - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Compile problems</h2>
<div id="posts">
<div class="post">
    <h4>#37319 - Toadhead - Thu Mar 10, 2005 1:47 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
I used the following guide to set up an Ds-dev envionment:
<br/>
<a href="http://www.aaronrogers.com/nintendods/" target="_blank">http://www.aaronrogers.com/nintendods/</a>
<br/>
I didt everything they said, only I installed it on "F:' instead of C:.
<br/>
<br/>
But when I want to compile some source code I get some errors.
<br/>
I downloaded the tetris source like the tutorial said, and extracted it in the F:\ndsdev\projects\tetris directory.
<br/>
<br/>
Than I use:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
f:
<br/>
cd ndsdev/projects/tetris
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
To get in the tetris directory.
<br/>
<br/>
libpern and libdesk are installed in f:\ndsdev\libpern and f:\ndsdev\projects\libdesk
<br/>
<br/>
I edited the makefile in the tetris directory to:
<br/>
<br/>
LIBPERN	:=	F:\ndsdev\libpern
<br/>
LIBDESK	:=	F:\ndsdev\projects\libdesk
<br/>
<br/>
When I run "make" from the tetris directory it says:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
F:\ndsdev\projects\tetris&gt;make
<br/>
make: make: Command not found
<br/>
make: *** [build] Error 127
<br/>
<br/>
F:\ndsdev\projects\tetris&gt;
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37324 - netdroid9 - Thu Mar 10, 2005 2:58 pm</h4>
    <div class="postbody"><span class="postbody">Zazery said:
<br/>
"Ok I found out that I added the msys environment variable incorrectly. It should have been obvious considering it didn't recognize 'make' as a command. Thanks for the great tutorial it was really helpful."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37325 - tepples - Thu Mar 10, 2005 3:09 pm</h4>
    <div class="postbody"><span class="postbody">Is there a 'make.exe' in a directory on your PATH? If not, you may not have installed MSYS properly.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37334 - Toadhead - Thu Mar 10, 2005 3:43 pm</h4>
    <div class="postbody"><span class="postbody">I dont understand it, there need to be a make.exe file in the path "F:\ndsdev\projects\tetris" ??
<br/>
<br/>
If so, do I just need to copy the make.exe file everytime I start a new project??
<br/>
<br/>
I don't understand :(
<br/>
Please help, I dont have any experience with stuff like this.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37336 - arog - Thu Mar 10, 2005 4:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">F:\ndsdev\projects\tetris&gt;make
<br/>
make: make: Command not found
<br/>
make: *** [build] Error 127
<br/>
<br/>
F:\ndsdev\projects\tetris&gt; </td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Again, you have to make sure <span style="font-weight: bold">make</span> is in your path.  Open up a command prompt and type <span style="font-weight: bold">make</span>.  You should see the following: 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">make: *** No targets specified and no makefile found.  Stop.</td> </tr></table><span class="postbody">
<br/>
<br/>
If you see the following, then your PATH is not set properly:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">'make' is not recognized as an internal or external command,
<br/>
operable program or batch file.</td> </tr></table><span class="postbody">
<br/>
<br/>
Go back to Step 3 and see what you did wrong.  Basically you need to make sure MSys is properly installed and that <span style="font-weight: bold">C:\ndsdev\msys\1.0\bin</span> is in your PATH.  Or in your case <span style="font-weight: bold">F:\ndsdev\msys\1.0\bin</span>.
<br/>
<br/>
- Aaron Rogers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37338 - zazery - Thu Mar 10, 2005 5:06 pm</h4>
    <div class="postbody"><span class="postbody">I also found out you needed to modify 'CommonMakefile.in' when trying to compile the template. I recommend you also update the template files in the Tetris source code since they are different than the template used in that tutorial. While you are at it change the boot code like explained on  <a class="postlink" href="http://dslinux.org/blogs/natrium42/" target="_blank">Natrium42's website</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37339 - tepples - Thu Mar 10, 2005 5:21 pm</h4>
    <div class="postbody"><span class="postbody">Educate thyself:
<br/>
<br/>
<a href="http://www.google.com/search?q=ms-dos%20environment%20variables" target="_blank">http://www.google.com/search?q=ms-dos%20environment%20variables</a><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37353 - Toadhead - Thu Mar 10, 2005 8:19 pm</h4>
    <div class="postbody"><span class="postbody">Everything was alright,
<br/>
Problem is somewere in the tetris source.
<br/>
<br/>
When I copied the complete template folder into the tetris directory it finaly started to do something, however this time I get some others errors.
<br/>
<br/>
The errors I get now are "IF undeclared, first use this function" etc. etc. (alot of things like this, all undeclared things like DISP_SR etc,)
<br/>
<br/>
Anyone know what I did wrong now?
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span>
<br/>
He cant find the NDS.h header file (and some others in the same directory).
<br/>
Why??
<br/>
<br/>
What do I need to do to make it work?</span><span class="gensmall"><br/><br/>Last edited by Toadhead on Thu Mar 10, 2005 8:28 pm; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#37355 - dagamer34 - Thu Mar 10, 2005 8:20 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Toadhead wrote:</b></span></td> </tr> <tr> <td class="quote">Everything was alright,
<br/>
Problem is somewere in the tetris source.
<br/>
<br/>
When I copied the complete template folder into the tetris directory it finaly started to do something, however this time I get some others errors.
<br/>
<br/>
The errors I get now are "IF undeclared, first use this function" etc. etc. (alot of things like this, all undeclared things like DISP_SR etc,)
<br/>
<br/>
Anyone know what I did wrong now?</td> </tr></table><span class="postbody">
<br/>
<br/>
Use the template project file found directly on Aaron's site (not the offsite linked one to <a class="postlink" href="http://www.bottledlight.com/ds" target="_blank">bottledlight.com</a>).<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37356 - Toadhead - Thu Mar 10, 2005 8:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Toadhead wrote:</b></span></td> </tr> <tr> <td class="quote">Everything was alright,
<br/>
Problem is somewere in the tetris source.
<br/>
<br/>
When I copied the complete template folder into the tetris directory it finaly started to do something, however this time I get some others errors.
<br/>
<br/>
The errors I get now are "IF undeclared, first use this function" etc. etc. (alot of things like this, all undeclared things like DISP_SR etc,)
<br/>
<br/>
Anyone know what I did wrong now?</td> </tr></table><span class="postbody">
<br/>
<br/>
Use the template project file found directly on Aaron's site (not the offsite linked one to <a href="http://www.bottledlight.com/ds" target="_blank">www.bottledlight.com/ds</a>).</span></td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Doesnt work either, he cant find the NDS header files :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37360 - arog - Thu Mar 10, 2005 9:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Doesnt work either, he cant find the NDS header files :(</td> </tr></table><span class="postbody">
<br/>
<br/>
I haven't tried to compile the Tetris source, so no comment on that.
<br/>
<br/>
You may want to save yourself a lot of headaches and go back through the Day 1 tutorial but install it to your C: drive instead.
<br/>
<br/>
- Aaron Rogers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37428 - Toadhead - Fri Mar 11, 2005 5:28 pm</h4>
    <div class="postbody"><span class="postbody">Alright alright, I will do so :(
<br/>
<br/>
I will just re-install everything</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37529 - Toadhead - Sat Mar 12, 2005 5:46 pm</h4>
    <div class="postbody"><span class="postbody">Reinstalled everything in C:\ but still no succes :(
<br/>
<br/>
This is what I get:
<br/>
<br/>
<a href="http://www.freewebs.com/toadhead/2.JPG">[Images not permitted - Click here to view it]</a>
<br/>
<a href="http://www.freewebs.com/toadhead/1.JPG">[Images not permitted - Click here to view it]</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37531 - dagamer34 - Sat Mar 12, 2005 6:08 pm</h4>
    <div class="postbody"><span class="postbody">Are you sure your path to ndslib is set correctly? Did you edit Install.bat to point to "C:\ndsdev\devkitarm"?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37533 - zazery - Sat Mar 12, 2005 6:52 pm</h4>
    <div class="postbody"><span class="postbody">I just fixed that same problem you need to set the path in the 'CommonMakefile.in' otherwise it won't work. This is how mine is set up, just change the drive letter and folder names if you moved them different places.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">export NDSLIBPATH   :=   /g/ndsdev/ndslib</td> </tr></table><span class="postbody">
<br/>
I'm actually having a problem compiling the template myself. With the latest revisions of the ndslib 'SUB_DISPLAY_CONTROL' and 'ISPLAY_CONTROL' are undeclared when you make the project. When I comment out those lines it compiles fine. I did a bit of research into the CVS and found dovoto changed the video.cpp under the ARM9 directory, though i'm not sure if that's the problem. Anyone experiencing the same problem after updating their ndslib?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37535 - Toadhead - Sat Mar 12, 2005 8:05 pm</h4>
    <div class="postbody"><span class="postbody">still trouble, this is my CommonMakefie.in:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
# path to library - this can be deleted if you set the path in windows
<br/>
export NDSLIBPATH   :=   /c/ndsdev/ndslib
<br/>
<br/>
# Name stuck in the GBA header of the DS booter ROM
<br/>
export GBAHEADERNAME   :=   DSTemplate
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# Clear the implicit built in rules
<br/>
#---------------------------------------------------------------------------------
<br/>
.SUFFIXES:
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# the prefix on the compiler executables
<br/>
#---------------------------------------------------------------------------------
<br/>
PREFIX      :=   arm-elf-
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# source directories
<br/>
#---------------------------------------------------------------------------------
<br/>
SOURCES      := .
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# include directories
<br/>
#---------------------------------------------------------------------------------
<br/>
INCLUDES   := .
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# list of directories containing libraries, this must be the top level containing
<br/>
# include and lib
<br/>
#---------------------------------------------------------------------------------
<br/>
LIBDIRS   :=   $(NDSLIBPATH)
<br/>
#LIBDIRS +=
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# any extra libraries we wish to link with the project (do not include -l or lib)
<br/>
#---------------------------------------------------------------------------------
<br/>
#LIBS   :=   
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
And this is my Install.bat from ndslib:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
SET DEVDIR=C:\ndsdev\devkitarm
<br/>
<br/>
@echo off
<br/>
echo building the library
<br/>
make
<br/>
<br/>
echo building devkit arm update and copying files
<br/>
cd startup
<br/>
<br/>
make
<br/>
<br/>
echo *************************
<br/>
echo *                       *
<br/>
echo *       WARNING         *
<br/>
echo *                       *
<br/>
echo *************************
<br/>
<br/>
echo copy crt files and linkerscript 
<br/>
echo to devkit arm lib directory? 
<br/>
echo (must be done manualy if not)
<br/>
<br/>
set /p choice=yes or no?
<br/>
<br/>
if not %choice%==yes exit
<br/>
<br/>
copy *.o %DEVDIR%\arm-elf\lib\
<br/>
copy *.ld %DEVDIR%\arm-elf\lib\
<br/>
copy *.specs %DEVDIR%\arm-elf\lib\
<br/>
copy thumb\*.o %DEVDIR%\arm-elf\lib\thumb\
<br/>
copy interwork\*.o %DEVDIR%\arm-elf\lib\interwork\
<br/>
copy thumb\interwork\*.o %DEVDIR%\arm-elf\lib\thumb\interwork\
<br/>
<br/>
pause
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#37633 - Toadhead - Mon Mar 14, 2005 4:06 pm</h4>
    <div class="postbody"><span class="postbody">Nobody smart enough to help me?
<br/>
<br/>
<br/>
edit:
<br/>
<br/>
Finaly compiled tetris, but still cant compile the template.
<br/>
I just copied the include and the lib directories from ndslib into the devkitarm include and lib directory. I don't know if this is good or not but this is atleast the only way I can compile stuff. The "normal" way doesn't work.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
