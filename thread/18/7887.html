<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Multiplayer packet size - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > Multiplayer packet size</h2>
<div id="posts">
<div class="post">
    <h4>#64767 - sgeos - Mon Dec 26, 2005 2:52 pm</h4>
    <div class="postbody"><span class="postbody">How many bytes can be sent a frame during a 16 unit wifi session?  Point me in the right direction if this is answered somewhere simple.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64838 - josath - Tue Dec 27, 2005 10:15 am</h4>
    <div class="postbody"><span class="postbody">what do you mean by "sent"?
<br/>
<br/>
sent from one DS to the other 15? (15 transmissions)
<br/>
sent from each DS to each of the others? (240 transmissions)
<br/>
or something else?
<br/>
<br/>
the DS can do 2mbit/sec I think, but let's say 1mbit/sec just to be safe.
<br/>
that's 128KB / sec
<br/>
at 30 FPS, that is 4370 bytes per frame. then divide that by the number of transmissions you are making.
<br/>
<br/>
also you might need to take into account the size of the packet headers. this is all done off the top of my head, so i might have made mistakes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65119 - sgeos - Fri Dec 30, 2005 10:40 am</h4>
    <div class="postbody"><span class="postbody">Assume the following scenario...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">u8 *outBuffer[OUT_BUFFER_SIZE];
<br/>
u8 *inBuffer [IN_BUFFER_SIZE];
<br/>
<br/>
void send(u8 *pBuffer)
<br/>
{
<br/>
   // deal with hardware
<br/>
}
<br/>
<br/>
void receive(u8 *pBuffer)
<br/>
{
<br/>
   // deal with hardware
<br/>
}
<br/>
<br/>
int main(void)
<br/>
{
<br/>
   init();
<br/>
   while (1)
<br/>
   {
<br/>
      // Every frame...
<br/>
      vsync();
<br/>
      // do stuff
<br/>
      send(outBuffer);
<br/>
      receive(outBuffer);
<br/>
      // do more stuff
<br/>
   }
<br/>
   return 0;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
How big can OUT_BUFFER_SIZE and IN_BUFFER_SIZE be assuming they don't contain headers?  (Header can be dealt with in send() and receive()).  Can I do more than one transmission every frame?
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#65156 - ecurtz - Fri Dec 30, 2005 6:46 pm</h4>
    <div class="postbody"><span class="postbody">I believe there is a natural size for 802.11 packets of up to 2304 bytes including headers. This is presumably the same in the "nifi" packets, but you'd have to check Stephen's stuff to make sure.
<br/>
<br/>
You probably can send multiple packets per frame, but I can't think of a reason you'd need to, other than missing ACKs. Networking is definitely not my speciality though, so caveat emptor...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
