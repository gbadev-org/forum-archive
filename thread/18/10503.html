<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Linker error - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Linker error</h2>
<div id="posts">
<div class="post">
    <h4>#94320 - yayo - Mon Jul 24, 2006 10:55 am</h4>
    <div class="postbody"><span class="postbody">Hi, I've got a project based on one of the templates from the devkitpro. I've added a subdir into  base/source dir, so now I've got three files in there. I've changed the makefile so it gets the code compiled under the new created folder. All the files (except warnings) got compiled but the pipeline does'nt link them.
<br/>
<br/>
The results are a lot of warnings (sorry, I'll cut/paste them this evening,  I'm at work) telling that the functions I've declared and implemented in one of the new files are not included in the final package, which is not created by the way.
<br/>
<br/>
The make ends with error: 1 linker error<br/>_________________<br/><a href="http://eduyayo.blogspot.com" target="_blank">http://eduyayo.blogspot.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94391 - yayo - Mon Jul 24, 2006 6:38 pm</h4>
    <div class="postbody"><span class="postbody">Hi again, I'm back with the cut'n paste
<br/>
<br/>
/funcs.c:2666: undefined reference to `xstrlen'
<br/>
/funcs.c:2667: undefined reference to `xstrncmp'
<br/>
<br/>
I mean that the linker doesn't find my .o files and donno why. My gcc skills are a bit scratched ^^
<br/>
<br/>
thanks<br/>_________________<br/><a href="http://eduyayo.blogspot.com" target="_blank">http://eduyayo.blogspot.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94392 - Mighty Max - Mon Jul 24, 2006 6:43 pm</h4>
    <div class="postbody"><span class="postbody">Do you include .C functions from within .CPP?
<br/>
<br/>
If you do, try extern "C" the includes<br/>_________________<br/><a class="postlink" href="http://mightymax.org/gbamp_multiboot.html" target="_blank">GBAMP Multiboot</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94407 - yayo - Mon Jul 24, 2006 7:48 pm</h4>
    <div class="postbody"><span class="postbody">Nono, I use pure C for now. 
<br/>
<br/>
And still crashes! I've solved hundreds of compilation problems on a lib I'm trying to port and now got stuck with the linker. I'm sure is something stupid I'm not doing and damn it to hell!!!<br/>_________________<br/><a href="http://eduyayo.blogspot.com" target="_blank">http://eduyayo.blogspot.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94462 - tepples - Mon Jul 24, 2006 9:59 pm</h4>
    <div class="postbody"><span class="postbody">xstrlen? xstrncmp? Never heard of them. What is the difference between them and standard strlen and strcmp?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94479 - yayo - Mon Jul 24, 2006 11:27 pm</h4>
    <div class="postbody"><span class="postbody">These are mine, simply functions ^^. They differ in the comparisons they made<br/>_________________<br/><a href="http://eduyayo.blogspot.com" target="_blank">http://eduyayo.blogspot.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94500 - josath - Tue Jul 25, 2006 2:16 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>yayo wrote:</b></span></td> </tr> <tr> <td class="quote">These are mine, simply functions ^^. They differ in the comparisons they made</td> </tr></table><span class="postbody">
<br/>
<br/>
Is the linker linking all the correct .o files? 
<br/>
If your commandline is hidden, and you cannot see what is being linked, you may have to edit the makefile...in mine it's in arm9/Makefile, around line 120, 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
$(ARM9ELF)      :       $(OFILES)
<br/>
        @echo linking $(notdir $@)
<br/>
        @$(LD)  $(LDFLAGS) $(OFILES) $(LIBPATHS) $(LIBS) -o $@
<br/>
</td> </tr></table><span class="postbody">
<br/>
and remove the single @ from infront of the $(LD) line
<br/>
<br/>
Then, when you run make, you should get something like:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">linking birds2.arm9.elf
<br/>
arm-eabi-g++  -specs=ds_arm9.specs -g -mthumb -mthumb-interwork -mno-fpu -Wl,-Map,.map bird.raw.o bullet.raw.o font.pal.o font.raw.o man.raw.o ouch.raw.o poop.raw.o power.raw.o power_hp.raw.o power_shot.raw.o power_spd.raw.o shot.raw.o shot2.raw.o sprites.pal.o squak1.raw.o squak2.raw.o squak3.raw.o main.o   -L/home/davidr/ds/devkitarm//libnds/lib -lnds9 -o /lvm/shared/ds/ds/birds2/arm9/birds2.arm9.elf
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
