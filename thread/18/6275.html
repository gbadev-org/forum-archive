<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>LED blinking - with sourcecode - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > LED blinking - with sourcecode</h2>
<div id="posts">
<div class="post">
    <h4>#47656 - NEiM0D - Mon Jul 11, 2005 11:50 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
I've figured out how the LED works too, although I hear loopy has done this already.
<br/>
<br/>
Here's a demo that does software LED blinking: 
<br/>
<a class="postlink" href="http://neimod.com/leddemo.nds" target="_blank">http://neimod.com/leddemo.nds</a>
<br/>
<br/>
Use UP/DOWN to increase or decrease the led delay count.
<br/>
<br/>
note: the hardware delay is fixed, so there is a maximum in led delay count.
<br/>
<br/>
And sourcecode:
<br/>
<a class="postlink" href="http://www.rafb.net/paste/results/rQyvmk67.html" target="_blank">http://www.rafb.net/paste/results/rQyvmk67.html</a>
<br/>
<br/>
Cheers</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47669 - LOst? - Tue Jul 12, 2005 4:24 am</h4>
    <div class="postbody"><span class="postbody">So what's those H files? I have never seen them before, or the memory mapped register names and defines.<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47671 - rize - Tue Jul 12, 2005 5:05 am</h4>
    <div class="postbody"><span class="postbody">I think neimod doesn't use the libnds or ndslib.  He's using his own custom library.  (Or I'm wrong).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47672 - NEiM0D - Tue Jul 12, 2005 5:24 am</h4>
    <div class="postbody"><span class="postbody">I am using my custom library.
<br/>
<br/>
However, everything I use can be found in DSTek.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47693 - Ferakk - Tue Jul 12, 2005 12:43 pm</h4>
    <div class="postbody"><span class="postbody">wow...Even tough it might sound a bit worthless it's really cool! But what could it be used for? Maybe some game where you have to be active and check the leds often...or...so xD No idea.<br/>_________________<br/>I dig.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47697 - Cbass182 - Tue Jul 12, 2005 1:46 pm</h4>
    <div class="postbody"><span class="postbody">Someone could make a game themed off of 1950s sci fi movie, called "The Thing: from another world" and use the LED for the light on the gieger counter...:)
<br/>
<br/>
(or any kind of game where...the closer you are to something the faster it blinks...like say if DoomDS project is ever actually done, the closer you get to an enemy or a specific area in the game that you need to be the faster it blinks. Or even finding secret items...the closer you are to the secret the faster it blinks...the uses are endless...)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47737 - Abscissa - Tue Jul 12, 2005 10:30 pm</h4>
    <div class="postbody"><span class="postbody">What LED is that you're talking about? Is it the power light, the charging light, or something else?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47754 - Spaceface - Wed Jul 13, 2005 2:33 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Abscissa wrote:</b></span></td> </tr> <tr> <td class="quote">What LED is that you're talking about? Is it the power light, the charging light, or something else?</td> </tr></table><span class="postbody">what he said</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47757 - drk42 - Wed Jul 13, 2005 3:09 am</h4>
    <div class="postbody"><span class="postbody">There was a game for the Amiga, I believe it was Sword of Sodan, which would use Pulse Width Modulation (I think), and make the LED appear to fade in and out.
<br/>
<br/>
Would this be possible?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47760 - Ferakk - Wed Jul 13, 2005 3:27 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cbass182 wrote:</b></span></td> </tr> <tr> <td class="quote">the closer you get to an enemy or a specific area in the game that you need to be the faster it blinks. Or even finding secret items...the closer you are to the secret the faster it blinks...the uses are endless...)</td> </tr></table><span class="postbody">
<br/>
<br/>
Thats really good! Using it like a metal detector of some kind. More frequency the closer you are too your target. And you'll only notice the secret stuff if you are alert. (thumbs up) :)<br/>_________________<br/>I dig.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47872 - shadow1w2 - Thu Jul 14, 2005 6:13 am</h4>
    <div class="postbody"><span class="postbody">Use it for a packet sniffer thing.
<br/>
Have the light blink faster when you get close to WiFi spots and other NDS's thats currently using WiFi. And ofcourse have it beep or say "THERES FREAKIN WIFI HERE DOOOOOOOD!"
<br/>
<br/>
Or make a hide and go seek like game that uses the WiFi to give clues along with the led flashing.
<br/>
<br/>
Or even have it flash for use with a real life game of pacman!
<br/>
<br/>
Or even better, I could make the light flash when a Server NDS is being hacked or when a client NDS is about to be traced in my NDS Hacker game I plan to make one day :3 Kinda like the PC game Uplink if you can find it, but for the NDS ^_^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47878 - jstart - Thu Jul 14, 2005 7:16 am</h4>
    <div class="postbody"><span class="postbody">OOH! Uplink for the ds! I Love that idea
<br/>
You can count me in on that bandwagon!
<br/>
Translated: I'd love to help with a ds uplink project<br/>_________________<br/>-=Jstart=-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47896 - crossraleigh - Thu Jul 14, 2005 1:47 pm</h4>
    <div class="postbody"><span class="postbody">Hi NEiM0D (and strager, and everyone else that has been using IRC pastebins on these forums).
<br/>
<br/>
From now on, please upload your work to something more permanent than IRC paste for those of us who can't snatch stuff the day it appears.<br/>_________________<br/>My world is black and white, but if I blink fast enough, I see it in grayscale.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47907 - arog - Thu Jul 14, 2005 5:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">From now on, please upload your work to something more permanent than IRC paste for those of us who can't snatch stuff the day it appears.</td> </tr></table><span class="postbody">
<br/>
<br/>
You could always go to a site such as either of the following.  They almost always have the files available for download.
<br/>
<br/>
<a class="postlink" href="http://nintendo-ds.dcemu.co.uk/" target="_blank">http://nintendo-ds.dcemu.co.uk/</a>
<br/>
<br/>
<a class="postlink" href="http://ndsupdates.com/" target="_blank">http://ndsupdates.com/</a>
<br/>
<br/>
- Aaron Rogers
<br/>
<a class="postlink" href="http://www.aaronrogers.com/nintendods/" target="_blank">http://www.aaronrogers.com/nintendods/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47972 - Lynx - Fri Jul 15, 2005 2:36 pm</h4>
    <div class="postbody"><span class="postbody">I've also been posting them to ndshb.com news.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48122 - chishm - Sun Jul 17, 2005 8:58 am</h4>
    <div class="postbody"><span class="postbody">Does any one have the source to this demo, I can't seem to find it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#48146 - arog - Sun Jul 17, 2005 5:25 pm</h4>
    <div class="postbody"><span class="postbody">NDShb.com has it: 
<br/>
<a class="postlink" href="http://www.ndshb.com/modules.php?name=News&amp;file=article&amp;sid=16" target="_blank">http://www.ndshb.com/modules.php?name=News&amp;file=article&amp;sid=16</a>
<br/>
<br/>
- Aaron Rogers
<br/>
<a class="postlink" href="http://www.aaronrogers.com/nintendods/" target="_blank">http://www.aaronrogers.com/nintendods/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77032 - knight0fdragon - Mon Mar 27, 2006 4:34 pm</h4>
    <div class="postbody"><span class="postbody">ok now i got the LED to blink with libNDS,  but I noticed that there is a double blink on the DS wifi games, and looking at nocash's information I noticed there were no bits to enable this either.... so does anyone know how to enable this feature, perhaps it is something that is wifi only?<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77035 - Kturbo - Mon Mar 27, 2006 4:53 pm</h4>
    <div class="postbody"><span class="postbody">Hehe, this means that they will have to put a LED on the emulators aswell ^^.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77037 - knight0fdragon - Mon Mar 27, 2006 5:20 pm</h4>
    <div class="postbody"><span class="postbody">well i am just using it for the wifi stuff<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77041 - SeanMon - Mon Mar 27, 2006 6:56 pm</h4>
    <div class="postbody"><span class="postbody">I haven't tried this yet, but according to [url="http://neimod.com/dstek/"]DSTek[/url]:
<br/>
<br/>
PM 0H - <span style="font-weight: bold">REG_PM_CONTROL</span> - Powermanagement Control (Register 0h) (R/W)
<br/>
Cpu 	Bit	Name	Expl.
<br/>
7	0   	Sound (Circuit) Power  	0=Disable, 1=Enable	 
<br/>
7	1   	Sound (Circuit?) Volume  	0=Disable, 1=Enable	 
<br/>
7	2   	Backlight Bottom LCD  	0=Disable, 1=Enable	 
<br/>
7	3   	Backlight Top LCD  	0=Disable, 1=Enable	 
<br/>
<span style="font-weight: bold">7	4-5</span>   	Power LED Control  	0..3=ON, ON, OFF(long) and <span style="font-weight: bold">ON(short), OFF(short) and ON(short)</span>
<br/>
7	6   	DS System Power  	0=Enable, 1=Disable
<br/>
<br/>
I'm guessing that setting bits 4-5 to 11 would make it blink like you want, but, as I said, I haven't tried it yet</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77044 - knight0fdragon - Mon Mar 27, 2006 7:02 pm</h4>
    <div class="postbody"><span class="postbody">blinkin is not the issue, its the double blink id like that is in NDS wifi.  it would be nice if thats a hardware control that doesnt have to be looped.  single Blinking and a wifi bar i got going right now in my demo  <a href="ftp://llamastein.com/HB%20NDS%20HB/Pitch.zip" target="_blank">ftp://llamastein.com/HB%20NDS%20HB/Pitch.zip</a><br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77137 - pepsiman - Tue Mar 28, 2006 4:16 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>knight0fdragon wrote:</b></span></td> </tr> <tr> <td class="quote">its the double blink id like that is in NDS wifi. </td> </tr></table><span class="postbody">Nintendo do this in software.  The hardware blink is used for sleep mode.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77194 - Payk - Wed Mar 29, 2006 6:40 am</h4>
    <div class="postbody"><span class="postbody">The led could be used as equilizer in a mp3-player...And u r using ur own lib? hmhm first i worked with palib. I find out that isnt very costomizable. Then i startet witzh libnds to hear that there is still a costomizabler possibility? Ohh yeah i need that work too. next weeks will get interessting...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77195 - Payk - Wed Mar 29, 2006 6:42 am</h4>
    <div class="postbody"><span class="postbody">EDIT: In PALIB i didnt liked spritesystem (there where problems on drawing on 16bit sprites)
<br/>
<br/>
In ndslib dont like texturesystem(u just can load one texture, and unload all..U cant choose where to load it to or even change the bank)
<br/>
<br/>
So i have to work with layer0. What will be next? ASM?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77196 - HyperHacker - Wed Mar 29, 2006 7:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pepsiman wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>knight0fdragon wrote:</b></span></td> </tr> <tr> <td class="quote">its the double blink id like that is in NDS wifi. </td> </tr></table><span class="postbody">Nintendo do this in software.  The hardware blink is used for sleep mode.</span></td> </tr></table><span class="postbody">
<br/>
You just set bits 4 and 5 of the power control byte.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77214 - knight0fdragon - Wed Mar 29, 2006 12:47 pm</h4>
    <div class="postbody"><span class="postbody">dear god read the damn thing before making comments
<br/>
<br/>
for every1 else who reads this
<br/>
<br/>
SETTING BITS 4 AND 5 MAKES A FAST SINGLE BLINK
<br/>
<br/>
WIFI USES A DOUBLE BLINK WHICH IS DONE IN SOFTWARE NOW THANKS TO SGSTAIR AND PEPSIMAN<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77480 - HyperHacker - Sat Apr 01, 2006 6:30 am</h4>
    <div class="postbody"><span class="postbody">Hey, I dunno where you come from, but on this planet people make <a class="postlink" href="http://dictionary.reference.com/search?q=mistake" target="_blank">mistakes</a> once in a while. There's a difference between <a class="postlink" href="http://dictionary.reference.com/search?q=misread" target="_blank">misreading</a> something and not reading it at all. You don't have to act like an <a class="postlink" href="http://dictionary.reference.com/search?q=ass" target="_blank">ass</a> every time this occurrs.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77492 - knight0fdragon - Sat Apr 01, 2006 8:47 am</h4>
    <div class="postbody"><span class="postbody">i do when i said several times that i have blinking to work, its double blink that i cant<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77495 - HyperHacker - Sat Apr 01, 2006 9:58 am</h4>
    <div class="postbody"><span class="postbody">None of those would appear to mention that you already tried that, only that you had a single blink.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77534 - knight0fdragon - Sat Apr 01, 2006 4:23 pm</h4>
    <div class="postbody"><span class="postbody">when some one else in here said to set those bits i told them thats not the issue, nevermind man just drop it<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77601 - HyperHacker - Sat Apr 01, 2006 10:32 pm</h4>
    <div class="postbody"><span class="postbody">If you mean SeanMon, that's the part I misread. :-p But yeah, pretty stupid thing to argue about.
<br/>
<br/>
But then what's the purpose of a single blink? I haven't seen any game use it so far. O_o</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77645 - knight0fdragon - Sun Apr 02, 2006 3:46 am</h4>
    <div class="postbody"><span class="postbody">single blink is for sleep mode, or the mode where ur looking for opponents<br/>_________________<br/><a href="http://www.myspace.com/knight0fdragonds" target="_blank">http://www.myspace.com/knight0fdragonds</a>
<br/>
<br/>
MK DS FC: Dragon 330772 075464 
<br/>
AC WW FC: Anthony SamsClub 1933-3433-9458 
<br/>
MPFH: Dragon 0215 4231 1206</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77662 - HyperHacker - Sun Apr 02, 2006 6:57 am</h4>
    <div class="postbody"><span class="postbody">I mean the fast single blink. It doesn't use that in sleep mode. I didn't notice it being used when looking for people, but I didn't really look close either.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
