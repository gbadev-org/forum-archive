<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Is it possible to NOT clear the screen each frame in 3d ? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Is it possible to NOT clear the screen each frame in 3d ?</h2>
<div id="posts">
<div class="post">
    <h4>#85463 - wickedtrickster - Tue May 30, 2006 3:36 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
Is there a way to draw 3d graphics but without clearing the buffer each frame ? I am trying to draw a cube which will leave a trail. I was able to do it with the screen capture register but I was wondering if I could simply do it without clearing the screen each frame.
<br/>
<br/>
Thank you,
<br/>
Ben.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#85467 - EyeballKid - Tue May 30, 2006 5:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wickedtrickster wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Is there a way to draw 3d graphics but without clearing the buffer each frame ? I am trying to draw a cube which will leave a trail. I was able to do it with the screen capture register but I was wondering if I could simply do it without clearing the screen each frame.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm pretty sure you'll have to use the capture register, as there is no framebuffer. The 3d hardware scans out polys much like the sprite hardware scans out sprites as the raster goes down the screen.
<br/>
<br/>
Another option in your case might be to remember the previous N positions/orientations of the cube and draw it multiple times each frame...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86259 - silent_code - Tue Jun 06, 2006 12:06 am</h4>
    <div class="postbody"><span class="postbody">... or just draw a fullscreen quad that blends over the old frame and darkens it (via blending to black or whatever bg color you want to use) and then draw the cube... that way the trails will get darker / fade away the "older" they get. :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86265 - tepples - Tue Jun 06, 2006 12:38 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>silent_code wrote:</b></span></td> </tr> <tr> <td class="quote">... or just draw a fullscreen quad that blends over the old frame</td> </tr></table><span class="postbody">
<br/>
The only way to blend over the old frame is to use capture, which takes a couple banks of VRAM.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86544 - wickedtrickster - Wed Jun 07, 2006 8:08 pm</h4>
    <div class="postbody"><span class="postbody">Ok thank you,
<br/>
<br/>
I'll stick with the capture and I'll try to optimize how I use the vram.
<br/>
<br/>
Ben.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86694 - HyperHacker - Thu Jun 08, 2006 6:32 pm</h4>
    <div class="postbody"><span class="postbody">Couldn't you just draw multiple cubes?<br/>_________________<br/>I'm a PSP hacker now, but I still &lt;3 DS.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#86750 - wickedtrickster - Thu Jun 08, 2006 10:12 pm</h4>
    <div class="postbody"><span class="postbody">Yes I could draw multiple cubes, but I was doing this to learn about the DS hardware :)
<br/>
<br/>
I'm still learning about the capture register tho. It can do great things, but it just use too much vram to be usable in a real game... (well, for me at the moment).
<br/>
<br/>
Ben.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#87534 - Payk - Wed Jun 14, 2006 9:40 am</h4>
    <div class="postbody"><span class="postbody">Use 8bit textures and 3 banks will be fine...
<br/>
Use glcolor3f instead of normals and u can make the vertices which are farer from cam darker. so that they are on one point black. i realy would make some kind of distance calculation aim to a fixed point which should be black. U can completly simulate lights with glcolor and u will have your 4 ram banks again and can use more then 4 lights. and different lights instead of just using dirrectional ones. whihc would be neccecary for what u try to do. i am working on many lightsimultion ways for nds in order to benchmark them and use the best for my games. when i have some results (i have some but when i have more) i will post them here. But perhaps after 20th august...(neo compo that lights should help me a bit)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#87585 - silent_code - Wed Jun 14, 2006 5:54 pm</h4>
    <div class="postbody"><span class="postbody">that would be really cool! :) :) :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
