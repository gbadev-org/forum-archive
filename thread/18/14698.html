<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Reading from the GBA slot without raising the /RD line... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Reading from the GBA slot without raising the /RD line...</h2>
<div id="posts">
<div class="post">
    <h4>#147386 - moshii - Wed Dec 19, 2007 1:28 pm</h4>
    <div class="postbody"><span class="postbody">I've been reverse engineering a bit of hardware.. <a href="http://forum.gbadev.org/viewtopic.php?t=14368." target="_blank">http://forum.gbadev.org/viewtopic.php?t=14368.</a>
<br/>
<br/>
The board is mostly designed around controlling the direction of a 1 wire serial bus to a daughter board that contains an optical mouse chip.
<br/>
<br/>
Now, I've worked how the logic on the board works and everything, I just have one problem. The link below is a rough (haven't worked out gschem properly yet) schematic of what the logic looks like. 
<br/>
<br/>
<a href="http://photos.t.cardboardbox.org.uk/main.php?g2_view=core.DownloadItem&amp;g2_itemId=34155" target="_blank">http://photos.t.cardboardbox.org.uk/main.php?g2_view=core.DownloadItem&amp;g2_itemId=34155</a>
<br/>
<br/>
I haven't included a latch that sits between the slot and the rest of the board because it confuses things.
<br/>
Basically, if you put AD3 high the bus goes into DS-&gt;Daughter board mode, I've programmed this into my test application and it works to the point that I think I'm now seeing output coming out of the chip in response to what I'm sending. The read logic is a bit more complex however. It seems to only allow the data to come off the bus down to AD0 if /RD is low (so you can't read the bus) and A19 is high.. so you have to put AD19 high and some how read the state of AD0 without reading the bus..... Any ideas on how the hell that can be achieved??
<br/>
<br/>
Cheers,
<br/>
<br/>
Daniel</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
