<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Writing to type 4 DS cards - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>DS development > Writing to type 4 DS cards</h2>
<div id="posts">
<div class="post">
    <h4>#127970 - Venomfire - Mon May 07, 2007 1:40 am</h4>
    <div class="postbody"><span class="postbody">I've been working on a program that requires it to write to the eeprom or flash rom on a DS card. I found the cardme library and have had success with it on each DS game card I've tried EXCEPT for when I try to write to my Pokemon Pearl save.
<br/>
<br/>
I looked up the card type and it appears to be a 4Mbit (512kb) flash rom. Also some page cited it as being a "type 4" card.
<br/>
<br/>
I've spent hours trying everything I can think of. Someone please give me some direction.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128042 - tondopie - Tue May 08, 2007 12:17 am</h4>
    <div class="postbody"><span class="postbody">I'm pretty sure it's type 3 actually...<br/>_________________<br/><span style="font-weight: bold">Development Blog:</span> <a class="postlink" href="http://teendev.org" target="_blank">http://teendev.org</a>
<br/>
<span style="font-weight: bold">Homebrew Podcast:</span> <a class="postlink" href="http://homebrewcast.net" target="_blank">http://homebrewcast.net</a>
<br/>
<span style="font-weight: bold">Web Design:</span> <a class="postlink" href="http://xtendesign.net" target="_blank">http://xtendesign.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128046 - Abcd1234 - Tue May 08, 2007 1:31 am</h4>
    <div class="postbody"><span class="postbody">Try this patch to libnds that josath pointed me at, which adds support for more EEPROM types:
<br/>
<br/>
<a class="postlink" href="http://h.davr.org/eeprom.patch" target="_blank">http://h.davr.org/eeprom.patch</a>
<br/>
<br/>
I've applied this to libnds-20070503, and it purports to support 4MB and 8MB EEPROM types.
<br/>
<br/>
BTW, please let me know if it works... I built savsender with this, hoping I would get addition EEPROM support in the process. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128361 - Gunnex - Fri May 11, 2007 12:08 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tondopie wrote:</b></span></td> </tr> <tr> <td class="quote">I'm pretty sure it's type 3 actually...</td> </tr></table><span class="postbody">
<br/>
<br/>
Type 3 is 256KB, not 512KB.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128375 - tondopie - Fri May 11, 2007 1:45 am</h4>
    <div class="postbody"><span class="postbody">my bad...<br/>_________________<br/><span style="font-weight: bold">Development Blog:</span> <a class="postlink" href="http://teendev.org" target="_blank">http://teendev.org</a>
<br/>
<span style="font-weight: bold">Homebrew Podcast:</span> <a class="postlink" href="http://homebrewcast.net" target="_blank">http://homebrewcast.net</a>
<br/>
<span style="font-weight: bold">Web Design:</span> <a class="postlink" href="http://xtendesign.net" target="_blank">http://xtendesign.net</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128775 - Venomfire - Tue May 15, 2007 4:15 am</h4>
    <div class="postbody"><span class="postbody">I don't know... The code from the patch looks more modern, but it still isn't working properly.
<br/>
<br/>
I'm thinking maybe it's my method. This is the general process I've been using:
<br/>
<br/>
Erase chip
<br/>
Copy SRAM to RAM buffer
<br/>
Write buffer to DS flash
<br/>
<br/>
This is right, isn't it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128777 - tepples - Tue May 15, 2007 4:32 am</h4>
    <div class="postbody"><span class="postbody">Copy from what SRAM to DS main RAM?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128779 - Venomfire - Tue May 15, 2007 5:08 am</h4>
    <div class="postbody"><span class="postbody">I'm not sure how the compiler works it. I make a "u8 *buffer[]" and use that.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
