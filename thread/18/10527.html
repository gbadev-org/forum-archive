<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Load PCX and palette - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > Load PCX and palette</h2>
<div id="posts">
<div class="post">
    <h4>#94740 - Turambar - Wed Jul 26, 2006 12:21 am</h4>
    <div class="postbody"><span class="postbody">I have this code to load a pcx image from the filesystem
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   
<br/>
   const char *pcx_file = gbfs_get_obj(&amp;data_gbfs, "img.pcx", NULL); 
<br/>
   loadPCX((u8*)pcx_file, &amp;pcx);
<br/>
</td> </tr></table><span class="postbody">
<br/>
I'm working with 8bit colors, how can I get the palette this image uses?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94753 - tepples - Wed Jul 26, 2006 1:12 am</h4>
    <div class="postbody"><span class="postbody">Depends on what loadPCX() is specified to do.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#94757 - dovoto - Wed Jul 26, 2006 1:33 am</h4>
    <div class="postbody"><span class="postbody">pcx.palette;<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95142 - Payk - Fri Jul 28, 2006 12:37 am</h4>
    <div class="postbody"><span class="postbody">Hey...gbfs? its a pain...
<br/>
those commands are not very good...sure u can do all with that but i recommand u romdiscfs...it it uses same way gbfs does...but has stdio functions...if u manage that u could load a 256color bmp like this:
<br/>
<a class="postlink" href="http://rafb.net/paste/results/bj8s2u58.html" target="_blank">http://rafb.net/paste/results/bj8s2u58.html</a>
<br/>
and u have it still in rom...better acces...same possibilitys...why not?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#95190 - tepples - Fri Jul 28, 2006 4:37 am</h4>
    <div class="postbody"><span class="postbody">With PCX, you need to get the file size (pass &amp;size, not NULL, as the third argument), and then read the palette from the last 768 bytes of the file.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
