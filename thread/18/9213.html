<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>devkitArm 18 error - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > devkitArm 18 error</h2>
<div id="posts">
<div class="post">
    <h4>#79184 - dannyboy - Wed Apr 12, 2006 1:30 am</h4>
    <div class="postbody"><span class="postbody">I hit up the devkitPro site today nd saw that they had updated for the first time in a while and a new devkitArm release. I decided to install it which is easy enough nowadays. Unfortunately it has broken my compilation setup. Whenever I compile anything I now get the following:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$ make
<br/>
main.cpp
<br/>
arm-elf-g++ -MMD -MP -MF /f/code/nds/devkitPro/examples/nds/Graphics/2D/hello_world/build/main.d -g -Wall -O2 -mcpu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer -ffast-math -mthumb -mthumb-interwork -I/f/code/nds/devkitPro/examples/nds/Graphics/2D/hello_world/include -I/f/code/nds/devkitPro/examples/nds/Graphics/2D/hello_world/build -I/f/code/nds/devkitPro/libnds/include -I/f/code/nds/devkitPro/libnds/include -I/f/code/nds/devkitPro/examples/nds/Graphics/2D/hello_world/build -DARM9 -c /f/code/nds/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp -o main.o
<br/>
arm-elf-g++.exe: _spawnv: No such file or directory
<br/>
make[1]: *** [main.o] Error 1
<br/>
make: *** [build] Error 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Any ideas?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79198 - josath - Wed Apr 12, 2006 2:29 am</h4>
    <div class="postbody"><span class="postbody">dunno if these help at all, but:
<br/>
1. try 'make clean' and then 'make'
<br/>
2. [This only applies if you are not using the libnds included with devkitarm]: try recompiling libnds (using make clean as well)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79205 - dannyboy - Wed Apr 12, 2006 3:18 am</h4>
    <div class="postbody"><span class="postbody">I already tried make clean and it didn't work. I think it comes down to the following file:
<br/>
devkitPro\devkitARM\bin\arm-elf-g++.exe
<br/>
<br/>
Run it on its own and it demands input files. Give it a file and it throws the error. I tried it by putting the .cpp file in that same folder to narrow it down. Certainly the files are their, but for some reason this error is being thrown.
<br/>
<br/>
arm-elf-g++.exe: _spawnv: No such file or directory</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79347 - wintermute - Thu Apr 13, 2006 1:47 am</h4>
    <div class="postbody"><span class="postbody">That's very weird.
<br/>
<br/>
Is anyone else seeing this problem?
<br/>
<br/>
dannyboy: how did you install release 18?<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79354 - Lazy1 - Thu Apr 13, 2006 3:10 am</h4>
    <div class="postbody"><span class="postbody">I have this problem with the latest devkitarm:
<br/>
<a href="http://img159.imageshack.us/img159/9030/devkiterror3zp.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
Other than that it's great, upgrading solved a lockup I was having while re-porting sdl sopwith.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79360 - swimgod - Thu Apr 13, 2006 4:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lazy1 wrote:</b></span></td> </tr> <tr> <td class="quote">I have this problem with the latest devkitarm:
<br/>
<a href="http://img159.imageshack.us/img159/9030/devkiterror3zp.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
Other than that it's great, upgrading solved a lockup I was having while re-porting sdl sopwith.</td> </tr></table><span class="postbody">that error appears when you started up with something in a drive,
<br/>
and then took it out(a CF card for example).
<br/>
<br/>
Gimp is another program that commonly gets that :P,
<br/>
clicking continue is fine ;)<br/>_________________<br/><span style="font-size: 9px; line-height: normal">
<br/>
1x <span style="font-weight: bold">WII</span> 2x remotes
<br/>
2x NDS/L(FMv7-ORG:v4,FMv7-org:DSL)
<br/>
1x GBAMP
<br/>
2x 1gb (MicroDrive{typeII}&amp;SanDisk{typeI})
<br/>
1x SuperPass2
<br/>
1x Supercard-CF</span>
<br/>
<a class="postlink" href="http://swimgod.com/ms_skins" target="_blank">MoonShell skins</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79389 - LiraNuna - Thu Apr 13, 2006 11:20 am</h4>
    <div class="postbody"><span class="postbody">Same error here too. 
<br/>
<br/>
It tries to read from Drive E: (which is a DVD-RW in this case) 
<br/>
Only if I insert a CD/DVD, It will compile.
<br/>
<br/>
Edit: Here it happands with arm-elf-g++
<br/>
And no, clicking continue will not solve that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80007 - dannyboy - Tue Apr 18, 2006 1:46 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">That's very weird.
<br/>
<br/>
Is anyone else seeing this problem?
<br/>
<br/>
dannyboy: how did you install release 18?</td> </tr></table><span class="postbody">
<br/>
<br/>
Well I'm on my trusty old Win98 computer, and I used the windows installer. It first upgraded to the latest version of the installer which then installed r18. In the end I fixed the problem, by copying the gcc 4.0.2 files over the new gcc 4.1.0 so it looks like there's some sort of problem there.
<br/>
<br/>
But I guess it would be good if in future the installer has an option to roll back to the previous version, or a version the user selects. Because to be honest, without it, I have serious doubts about installing any newer versions now in case they may be broken.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80019 - keldon - Tue Apr 18, 2006 2:46 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=9180" target="_blank">Could this have anything to do with your problem?</a>. I'm only clutching at straws here.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80034 - wintermute - Tue Apr 18, 2006 4:49 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote"><a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=9180" target="_blank">Could this have anything to do with your problem?</a>. I'm only clutching at straws here.</td> </tr></table><span class="postbody">
<br/>
<br/>
I don't think that's likely - the spawnvp error is due to the compiler being unable to find some tool it's trying to run ( cc1, as, ld etc)
<br/>
<br/>
I've heard of a similar error with an i386 4.1.0 toolchain when running from a command line instead of the msys shell but in that case the toolchain had been configured and installed to a minsys mount point.
<br/>
<br/>
I'm still unable to reproduce this particular fault locally on win2kpro and users with XP are not suffering the same problem so it may be related to win98.
<br/>
<br/>
The "insert disk" issue is new with the 4.x series and I have a work round (configuring and installing to c: locally) but I'm attempting to fix this one properly. Followers of the gcc mailing list will have seen some discussion of this over the last few days.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#81650 - wintermute - Sun Apr 30, 2006 10:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dannyboy wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">That's very weird.
<br/>
<br/>
Is anyone else seeing this problem?
<br/>
<br/>
dannyboy: how did you install release 18?</td> </tr></table><span class="postbody">
<br/>
<br/>
Well I'm on my trusty old Win98 computer, and I used the windows installer. It first upgraded to the latest version of the installer which then installed r18. In the end I fixed the problem, by copying the gcc 4.0.2 files over the new gcc 4.1.0 so it looks like there's some sort of problem there.
<br/>
<br/>
But I guess it would be good if in future the installer has an option to roll back to the previous version, or a version the user selects. Because to be honest, without it, I have serious doubts about installing any newer versions now in case they may be broken.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I just fixed a similar issue for a user on IRC.
<br/>
<br/>
Do you have any of the common GCC environment variables defined in your environment?
<br/>
<br/>
In his case he had GCC_EXEC_PREFIX set for the HAM toolchain. Deleting it made everything work again.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83037 - dovoto - Fri May 12, 2006 6:21 am</h4>
    <div class="postbody"><span class="postbody">wntrmute i get the same issue with _spawnvp not being found.  I just grabbed the new r18 exe and the latest libnds distro tar (the libs not the source).  
<br/>
<br/>
I am on server 2k3 and my environment vars look clean<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83140 - dovoto - Sat May 13, 2006 6:54 am</h4>
    <div class="postbody"><span class="postbody">Well i tried grabbing fresh copy of r18 and libnds and the examples (from the pre bulit packages) and that did not help so I grabbed them strait from the cvs (after 30 minutes of trying to figure out why I could not connect to cvs.sourceforge.net) and that did not help.
<br/>
<br/>
Finaly i grabbed r17 of the devkit and that seems to work fine...anyway not sure what the issue with r18 and my box is.
<br/>
<br/>
[edit] spoke much to soon...now i get:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
d:/devkitPro/libnds/lib\libnds7.a(interrupts.o): In function `irqInit':
<br/>
d:/DevkitPro/libnds/source/common/interrupts.c:107: undefined reference to `__irq_vector'
<br/>
d:/devkitPro/libnds/lib\libnds7.a(interrupts.o): In function `irqInitHandler':
<br/>
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#83157 - wintermute - Sat May 13, 2006 2:16 pm</h4>
    <div class="postbody"><span class="postbody">CVS is in transition to release 19 and hasn't been helped much by the sudden switch to the new hostname.
<br/>
<br/>
As for release 18, can you paste your environment - output from 'set' and the output from a test compile, i.e.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
touch test.c
<br/>
arm-elf-gcc -v -c test.c -o test.o
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
