<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>rebootlib 1.1 not working on R4 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>DS development > rebootlib 1.1 not working on R4</h2>
<div id="posts">
<div class="post">
    <h4>#147823 - DSfriol - Fri Dec 28, 2007 5:06 pm</h4>
    <div class="postbody"><span class="postbody">Hello.
<br/>
<br/>
I've tried the rebootlib test application (rebootlib_1.1r.nds) on my Nintendo DS Lite with R4 flashcart, and it doesn't seem to work. When I run the program, the screen becomes green and then, even pressing all the buttons, remains the same (the DS does *not* reboot).
<br/>
<br/>
Am I doing something wrong?
<br/>
I even dldi'd the .nds file, but with the same result.
<br/>
<br/>
Thanks in advance.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147833 - Lick - Fri Dec 28, 2007 9:16 pm</h4>
    <div class="postbody"><span class="postbody">Rebootlib 1.1 does not work for R4. The procedure was flawed and never fixed by the lib's author, because the lack of hardware and interest. The lib's author currently doesn't maintain the lib and anyone who wants to take over will receive the support and rights to do so. 
<br/>
<br/>
By the way, I do not own a DS anymore.<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147846 - DSfriol - Sat Dec 29, 2007 1:15 am</h4>
    <div class="postbody"><span class="postbody">Why did you give you DS away, man? 8-D
<br/>
<br/>
Anyway, I was just searching for a "simple" way to reboot a DS with R4. 
<br/>
Is there such a thing?
<br/>
<br/>
Many thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147850 - Lick - Sat Dec 29, 2007 2:32 am</h4>
    <div class="postbody"><span class="postbody">Check out this file: <a href="http://www009.upp.so-net.ne.jp/rudolph/nds/Moonshl/reset_mse06b.zip" target="_blank">http://www009.upp.so-net.ne.jp/rudolph/nds/Moonshl/reset_mse06b.zip</a>
<br/>
<br/>
Perhaps you can improve Rebootlib. ;)<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147868 - DSfriol - Sat Dec 29, 2007 10:48 am</h4>
    <div class="postbody"><span class="postbody">The solution you provided worked.
<br/>
<br/>
I had to comment the flashcart identification function, indeed, because it was not working correctly. This was the function:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
bool MSE_GetMSEINFO(TMSEINFO *pMSEINFO)
<br/>
{
<br/>
  u16 _VRAM_C_CR=VRAM_C_CR;
<br/>
  u16 _VRAM_D_CR=VRAM_D_CR;
<br/>
  
<br/>
  VRAM_C_CR = VRAM_ENABLE | _VRAM_CD_MAIN_BG_0x6000000;
<br/>
  VRAM_D_CR = VRAM_ENABLE | _VRAM_CD_MAIN_BG_0x6020000;
<br/>
  
<br/>
  u16 *psrc=(u16*)MSEINFO_ADDR;
<br/>
  u16 *pdst=(u16*)pMSEINFO;
<br/>
  
<br/>
  for(u32 idx=0;idx&lt;MSEINFO_SIZE/2;idx++){
<br/>
    pdst[idx]=psrc[idx];
<br/>
  }
<br/>
  
<br/>
  VRAM_C_CR=_VRAM_C_CR;
<br/>
  VRAM_D_CR=_VRAM_D_CR;
<br/>
  
<br/>
  if(pMSEINFO-&gt;EID!=MSEINFO_EID) return(false);
<br/>
  
<br/>
  return(true);
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
it returned "false" (the last check was failing), dunno why (as said I have a DS Lite with R4).
<br/>
<br/>
Now I will look at putting this code in the R4 section of rebootlib...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147910 - DSfriol - Sun Dec 30, 2007 11:40 am</h4>
    <div class="postbody"><span class="postbody">I have put the version of rebootlib integrated with rudolph's code for R4 reset here:
<br/>
<br/>
<a class="postlink" href="http://dantonag.googlepages.com/rebootlib1.2alpha.zip" target="_blank">http://dantonag.googlepages.com/rebootlib1.2alpha.zip</a>
<br/>
<br/>
I hope I didn't broke the other reset code 8-D
<br/>
Unfortunately, reboot+run .nds does not work with R4, still.
<br/>
<br/>
Thank you</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147914 - pas - Sun Dec 30, 2007 2:39 pm</h4>
    <div class="postbody"><span class="postbody">Lick, did you have a reason to sell your DS ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#147916 - Lick - Sun Dec 30, 2007 3:01 pm</h4>
    <div class="postbody"><span class="postbody">I did not sell it, I lent it to someone and he lost it. :)<br/>_________________<br/><a class="postlink" href="http://licklick.wordpress.com" target="_blank">http://licklick.wordpress.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148452 - eadmaster - Sat Jan 05, 2008 11:10 pm</h4>
    <div class="postbody"><span class="postbody">Can you add support for EZ5 too?
<br/>
I will test and report to you if it works.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148520 - DSfriol - Sun Jan 06, 2008 6:17 pm</h4>
    <div class="postbody"><span class="postbody">If I have time... I don't have that hardware, so it would be better if *you* integrated the library with the EZ5 code, since you can test it...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
