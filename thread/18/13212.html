<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>3D Limitaions for the NDS? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>DS development > 3D Limitaions for the NDS?</h2>
<div id="posts">
<div class="post">
    <h4>#128833 - Mayne - Tue May 15, 2007 7:44 pm</h4>
    <div class="postbody"><span class="postbody">I need to know the limitaions on the NDS.
<br/>
<br/>
Thanks in advance!
<br/>
<br/>
~ Tyler</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128840 - kusma - Tue May 15, 2007 9:19 pm</h4>
    <div class="postbody"><span class="postbody">The skybox is the limit!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128843 - TOAST - Tue May 15, 2007 9:42 pm</h4>
    <div class="postbody"><span class="postbody">It's a pretty broad subject... I suggest some google search or tell us exactly what limitations you want to know about...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128844 - Tikker - Tue May 15, 2007 9:45 pm</h4>
    <div class="postbody"><span class="postbody">the DS can draw in excess of 3 polygons per second</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128852 - dovoto - Tue May 15, 2007 10:53 pm</h4>
    <div class="postbody"><span class="postbody">The ds can render 7096 verticies per frame after hardware clipping.  There is no penaltly for using the following hardware features: texture mapping, lighting, fog, vertex color modulation, edge antialias, transforms, nor edge coloring and toon shading (well, none I am aware of anyway).
<br/>
<br/>
It is however rumored to have a per scan line limit on polygons which may (or may not) be affected by enabling these features.
<br/>
<br/>
It supports 4 hardware directional colored lights.
<br/>
<br/>
It supports several texture formats including a compressed texture and paletted textures.
<br/>
<br/>
There are no texture blending options.
<br/>
<br/>
The frame and depth buffer are only a few scan lines long although you CAN render to memory if you need to capture a frame and you CAN supply depth buffer data (at a rather unreasonable cost).  This means that you will not be able to slow down the frame rate to increase the poly count since the depth buffer does not exist from one frame to the next.
<br/>
<br/>
It supports Triangles, Triangle Strips, Quads, and Quad strips.
<br/>
<br/>
It supports alpha blending on a per poly basis (via alpha values in the texture or as an attribute on the poly format).  There are some caviates to this though.
<br/>
<br/>
You can composit up to 3 2D background layers with the 3D engine as well as utilize the hardware sprite engine.
<br/>
<br/>
There is roughly 512KB available for textures.
<br/>
<br/>
You can render 3D to either screen (or alternatly to both).
<br/>
<br/>
In all it is rather underpowered by today's poly counts but it has a lot of interesting features and it does not take much to fill its small display.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128855 - Dood77 - Tue May 15, 2007 11:02 pm</h4>
    <div class="postbody"><span class="postbody">I think I heard somewhere that the DS can add 2+2  2.6867773x10^23 times per hour.
<br/>
<br/>
...or was it that <a class="postlink" href="http://en.wikipedia.org/wiki/Amedeo_Avogadro" target="_blank">avacado guy's</a> number...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128861 - Ant6n - Wed May 16, 2007 1:08 am</h4>
    <div class="postbody"><span class="postbody">on thing i've been wondering about. when using alpha sprites, multiple of them behind each other get blended properly, or is it still like in gba where a translucent sprite is like a window through a solid sprite.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128864 - M3d10n - Wed May 16, 2007 2:12 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ant6n wrote:</b></span></td> </tr> <tr> <td class="quote">on thing i've been wondering about. when using alpha sprites, multiple of them behind each other get blended properly, or is it still like in gba where a translucent sprite is like a window through a solid sprite.</td> </tr></table><span class="postbody">
<br/>
<br/>
You can have up to 64 alpha-blended polygons overlapping each other. 
<br/>
<br/>
The DS supports and ID (from 0 to 63) to be assigned to each polygon, and it can blend between polygons with different IDs. The IDs are also used for toon outlines and anti-aliasing in a similar fashion.
<br/>
<br/>
This limit exists probably because the DS doesn't use a buffer for the whole screen and the 3D is rendered directly to the LCD scanline per scanline, much like the 2D core does. Anyway, it's enough overlapping translucent polygons for most practical uses on the system (smoke, water, glass, pretty spell effects, etc).
<br/>
<br/>
(There are rumors that you can't really overlap 64 alpha-blended polygons because the DS can't blend them all before the hblank is over, and thus some overlapping polygons might get dropped at certain scanlines, but nobody actually verified that yet.)</span><span class="gensmall"><br/><br/>Last edited by M3d10n on Wed May 16, 2007 2:53 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#128865 - Ant6n - Wed May 16, 2007 2:28 am</h4>
    <div class="postbody"><span class="postbody">i was asking about sprites, from the 2d engine.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128867 - M3d10n - Wed May 16, 2007 2:55 am</h4>
    <div class="postbody"><span class="postbody">Ah, sorry.
<br/>
<br/>
No, the sprites work exactly the same as the GBA 2D core. There's no sprite-to-sprite blending. Many 2D DS games actually use the 3D core for 2D graphics due to the enhanced blending capabilities (the Castlevania games, Kirby, etc).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128869 - Ant6n - Wed May 16, 2007 4:19 am</h4>
    <div class="postbody"><span class="postbody">too bad, could have used alpha sprites for some bloom effect or somethin</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128879 - kusma - Wed May 16, 2007 9:14 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ant6n wrote:</b></span></td> </tr> <tr> <td class="quote">too bad, could have used alpha sprites for some bloom effect or somethin</td> </tr></table><span class="postbody">
<br/>
<br/>
That works even for gba. Check out some of our (Shitfaced Clowns's) demos.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128894 - M3d10n - Wed May 16, 2007 3:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Ant6n wrote:</b></span></td> </tr> <tr> <td class="quote">too bad, could have used alpha sprites for some bloom effect or somethin</td> </tr></table><span class="postbody">
<br/>
<br/>
Just use the 3D system to do 2D instead, using 2D quads. There's a bunch of advantages of doing so:
<br/>
<br/>
- Your sprites can have alpha-channels
<br/>
- Multiple sprite-to-sprite blending
<br/>
- Compressed textures
<br/>
- All sprites can be easily rotated, scaled and distorted
<br/>
- You can put much more than 128 sprites on the screen</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128903 - silent_code - Wed May 16, 2007 6:02 pm</h4>
    <div class="postbody"><span class="postbody">(please don't beat me for this post)
<br/>
<br/>
... at least it has a higher max. poly throughput and supports higher texture resolutions than the n64 (had like freaking 4kb of texture memory! though some games like concer's bad day [or whatever it was called] have overcome that limitation) out of the box - no painful tricks needed, really! well, two things the nds doesn't have natively (again compared to the n64) is texture filtering and mipmapping. at least it has perspective correction and is easier to program than the n64! :^D technically you can't compare both systems, but this is all about technical limits.
<br/>
<br/>
good luck with whatever you're planning for the nds!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128905 - dannyboy - Wed May 16, 2007 6:17 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>M3d10n wrote:</b></span></td> </tr> <tr> <td class="quote">Just use the 3D system to do 2D instead, using 2D quads. There's a bunch of advantages of doing so:
<br/>
<br/>
- Compressed textures
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I've seen very little in the way of info on mode 5 compressed textures. Has anybody actually got them working and is there a texture converter available for it? I got texmex v0.3 but that only does paletted textures.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#128914 - Sausage Boy - Wed May 16, 2007 7:05 pm</h4>
    <div class="postbody"><span class="postbody">AFAIK, no one has released a compressor. The format is completely reverse engineered and documented in GBATEK, but writing a compressor that produces good looking images is quite difficult.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129047 - M3d10n - Fri May 18, 2007 2:40 pm</h4>
    <div class="postbody"><span class="postbody">I think there is a proof of concept compressor which was posted somewhere on the forum.
<br/>
<br/>
I didn't look too much into the details of the compressed format. What are the main differences between the DS compressed textures and S3TC?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#129051 - Sausage Boy - Fri May 18, 2007 3:46 pm</h4>
    <div class="postbody"><span class="postbody">The DS has one mode that works like DXT1, except the color and indices data is seperated, and the colors are stored as pointers into the palette. It also has another mode (these are choosable per 4x4 tile) that uses 4 different colors.
<br/>
<br/>
Also, the colors on the DS are stored in RGB555 instead of RGB565. And the colors are interpolated a little differently, according to gbatek. Compare <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#ds3dtextureformats" target="_blank">gbatek</a> and <a class="postlink" href="http://en.wikipedia.org/wiki/S3TC" target="_blank">wikipedia</a> for more details<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
