<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problems with compiling C code with gcc - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Problems with compiling C code with gcc</h2>
<div id="posts">
<div class="post">
    <h4>#20376 - pan69 - Sun May 09, 2004 9:14 am</h4>
    <div class="postbody"><span class="postbody">Hi guy's
<br/>
<br/>
When I try to compile a .c source file with gcc I get a weird popup message sayin':
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The prodedure entry point __argz_count could not be located in the dynamic link library cygwin.dll</td> </tr></table><span class="postbody">
<br/>
I'm using the GNUARM (<a class="postlink" href="http://www.gnuarm.com/" target="_blank">http://www.gnuarm.com/</a>) toolchain and so far I've only be using the assembler, which works fine by the way.
<br/>
<br/>
This is the command line I use to compile:
<br/>
<br/>
arm-elf-gcc -mcpu=arm7tdmi -mthumb -O2 -g -c test.c
<br/>
<br/>
And so far this is the source code I'd like to compile:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void main(void)
<br/>
{
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
Any help would be appreciated...
<br/>
<br/>
- Pan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20380 - dagamer34 - Sun May 09, 2004 6:58 pm</h4>
    <div class="postbody"><span class="postbody">Hello, and welcome to the boards.
<br/>
<br/>
Have you tried using int main () or int AgbMain () instead of void main ()?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20398 - pan69 - Mon May 10, 2004 9:45 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
Yes I tried both. The funny thing is, it used to work but now it doesn't. Have even reinstalled gcc and even this doesn't help...
<br/>
<br/>
- Pan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20699 - ThePhoenix - Sat May 15, 2004 12:10 pm</h4>
    <div class="postbody"><span class="postbody">Maybe it's a bad copy of Cygwin.dll ..?
<br/>
<br/>
I mean, it sounds like it's trying to do something with the args (in this case (void), but Cygwin.dll doesn't have the code to handle args (?!)
<br/>
<br/>
Anyhow, that's my idea.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20709 - pan69 - Sat May 15, 2004 2:48 pm</h4>
    <div class="postbody"><span class="postbody">Well, I hate answering my own posts, but here it goes...
<br/>
<br/>
It took me a little while to figure this one out but I found the problem. Besides GBA development I also do Symbian development for work. Compiling Symbian binaries is also based on the gnu toolchain for ARM. Some installation package must have put a cygwin1.dll in my \system32 folder and gcc decided to use that one. Apparently they are two different versions... well you know what I mean... stupid me... :)
<br/>
<br/>
Anyways, thanks for you help and time. Until next time!
<br/>
<br/>
- Pan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20735 - wintermute - Sun May 16, 2004 1:37 pm</h4>
    <div class="postbody"><span class="postbody">you wouldn't have that problem with devkitARM - <a href="http://www.devkit.tk" target="_blank">http://www.devkit.tk</a>
<br/>
<br/>
Can you point me in the direction of some information on gcc based symbian tools? In theory devkitARM should work with that too.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20741 - pan69 - Sun May 16, 2004 7:35 pm</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
Never tried devkitARM but it's probably based on gcc also, so I think I would have the same problem I guess...
<br/>
<br/>
Anyways, about Symbian. You can find lot's of info on Symbian at <a class="postlink" href="http://www.symbian.com" target="_blank">www.symbian.com</a> and there's a good forum site at <a class="postlink" href="http://www.newlc.com" target="_blank">www.newlc.com</a>.
<br/>
<br/>
Developing for Symbian is a bit of a pain actually. There no real emulator for Symbian devices. So, when developing for Symbian you compile your code to a Windows DLL and run/debug it in the Symbian device 'simulator'. Most common compilers for doing this are Visual C++ and Codewarrior. When you're done debugging and testing you compile your target for ARM (Most Symbian devices use a ARM9 cpu core of some sort: intel, samsung whatever...). As you can image, not the most easy way of developing software... :)
<br/>
<br/>
- Pan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20742 - wintermute - Sun May 16, 2004 8:11 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pan69 wrote:</b></span></td> </tr> <tr> <td class="quote">Hi,
<br/>
<br/>
Never tried devkitARM but it's probably based on gcc also, so I think I would have the same problem I guess...
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I can 100% guarantee you won't, devkitARM is win32 native - no cygwin required.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20744 - pbleyer - Sun May 16, 2004 9:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pan69 wrote:</b></span></td> </tr> <tr> <td class="quote">Hi,
<br/>
<br/>
Never tried devkitARM but it's probably based on gcc also, so I think I would have the same problem I guess...
<br/>
<br/>
- Pan</td> </tr></table><span class="postbody">
<br/>
<br/>
This is a common issue with CygWin DLLs. The current installer will ask if you wish to install the provided CygWin DLLs. This should only be used in systems that do not have CygWin or the CygWin DLLs are not in the directories of the PATH variable.
<br/>
<br/>
Sorry about that. I will put a more explicit note on the installer on the next GNUARM releases. We are using CygWin instead of MinGW because most of the GNU utilities expect a POSIX-like environment and hence have been more tested under CygWin than MinGW.
<br/>
<br/>
Regards.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20747 - col - Mon May 17, 2004 12:16 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pan69 wrote:</b></span></td> </tr> <tr> <td class="quote">Hi,
<br/>
<br/>
Never tried devkitARM but it's probably based on gcc also, so I think I would have the same problem I guess...
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
DevkitArm and the latest DevkitAdv both use mingw instead of cygwin!
<br/>
so faster compile times and no annoying dll version clash problems  :) 
<br/>
<br/>
col</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
