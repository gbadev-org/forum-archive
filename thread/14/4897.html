<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sprites on screen - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Sprites on screen</h2>
<div id="posts">
<div class="post">
    <h4>#34752 - Mitch GBA - Tue Jan 25, 2005 4:29 pm</h4>
    <div class="postbody"><span class="postbody">Hi. I'm brand new to GBA AND C/C++, and I'm trying to make a game :) So far I've got a very basic platform movement working, but I dont like the sprites, because of the black. How can you set a certain color as transparant? Like, you have your sprite, and what shouldn't be drawn to the screen, is black. How do you get rid of the black? :)
<br/>
<br/>
Thanks in advance,
<br/>
Mitch</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34754 - zazery - Tue Jan 25, 2005 5:09 pm</h4>
    <div class="postbody"><span class="postbody">I believe the first color in your palette regardless of colour is transparent. That is why you may have seen sprites with pink or green coloured backgrounds; they use either uncommon color as their transparency as opposed to black. In order for you to set a different color transparent, try rearranging your palette in a graphics program. For more information consult <a class="postlink" href="http://www.work.de/nocash/gbatek.htm#lcdcolorpalettes" target="_blank">GBAtek</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34756 - ScottLininger - Tue Jan 25, 2005 6:02 pm</h4>
    <div class="postbody"><span class="postbody">Mitch,
<br/>
<br/>
What graphics tool are you using? Photoshop? Paint? 
<br/>
<br/>
If you're using a GFX2SpriteHeader kind of conversion tool, you can always mess with the actual header data. It's a hack, but it works. Like Zazery said, every pixel that is set to index color "00" will be transparent.
<br/>
<br/>
Typical Header dump tools will give you something like this...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">const u16 MyImageData[] = { 0x7575, 0x7556, 0x1756 ...</td> </tr></table><span class="postbody">
<br/>
<br/>
By looking at the data, you should be able to determine which index is currently pointing to black, then do a search and CHANGE it to point to index #0.
<br/>
<br/>
With U16 arrays, two pixels get stored in every array entry. So the 1st entry above, 0x7575, means that the first and second pixel are both index color #75. If you wanted those to be transparent, then you'd do two search and replaces...
<br/>
<br/>
First, replace "x75" with "x00"
<br/>
<br/>
Second, replace "75," with "00,"
<br/>
<br/>
If you don't do it with two searches, you would miss the transparent pixel that is pixel #3 in the example above (0x<span style="font-weight: bold">75</span>56), and if you don't do it with the leading "x" and trailing "," you would accidentally replace the two middle numbers of the third entry, 0x1<span style="font-weight: bold">75</span>6.
<br/>
<br/>
In the end, your new array should look like...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">const u16 MyImageData[] = { 0x0000, 0x0056, 0x1756 ...</td> </tr></table><span class="postbody">
<br/>
<br/>
...which will display the 1st three pixels as transparent.
<br/>
<br/>
But really the best way is to alter the original images so the transparent bits point to color#0. But how to do this depends on your tools.
<br/>
<br/>
Cheers,
<br/>
<br/>
Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34772 - Mitch GBA - Wed Jan 26, 2005 12:12 am</h4>
    <div class="postbody"><span class="postbody">Thanks :D</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
