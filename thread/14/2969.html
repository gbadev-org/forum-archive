<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>multiple sprites in mode 0 / 1 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > multiple sprites in mode 0 / 1</h2>
<div id="posts">
<div class="post">
    <h4>#17145 - darknet - Tue Mar 02, 2004 10:50 am</h4>
    <div class="postbody"><span class="postbody">I have read most of the forum posts and was in the middle of the pern project and gbajunkies tutorial.
<br/>
<br/>
Is there a particular way one should go about taking their individual sprites and putting them on one .bmp (so I can have one sprite palette)? My method has been failing by always displaying the second (of 2) sprite as junk..
<br/>
<br/>
Here's what I do
<br/>
<br/>
1. Create individual sprites
<br/>
2. Convert them using pcx2sprite
<br/>
3. Create a new image that is twice as wide or high as the two individual sprite images (for example, I have 2 16x16 sprites, so the new bitmap is 16x32 and I just put one sprite above the other)
<br/>
4. Convert the new bitmap with pcx2sprite
<br/>
5. include the combined palette and the two individual data sections that were converted earlier
<br/>
6. Stick it in the following code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
 int xOne = 8;
<br/>
   int yOne = 30;
<br/>
   int xTwo = 8;
<br/>
   int yTwo = 50;
<br/>
<br/>
   //load sprite Palette
<br/>
   for(int x=0; x&lt;256; x++) {
<br/>
     SpritePal[x] = bothPalette[x];
<br/>
   }
<br/>
<br/>
   initializeSprites();
<br/>
<br/>
   //set the attributes.
<br/>
   sprites[0].attr0 = COLOR_256 | SQUARE | yOne;
<br/>
   sprites[0].attr1 = SIZE_16 | xOne;
<br/>
   sprites[0].attr2 = 0;
<br/>
<br/>
     //load the particular sprite data
<br/>
     for(int i = 0; i&lt;128; i++) {
<br/>
      SpriteData[i] = ballData[i];
<br/>
      }
<br/>
      
<br/>
<br/>
   sprites[1].attr0 = COLOR_256 | SQUARE | yTwo;
<br/>
   sprites[1].attr1 = SIZE_16 | xTwo;
<br/>
   sprites[1].attr2 = 8;
<br/>
<br/>
   for(int j = 128; j&lt;256; j++) {
<br/>
      SpriteData[j] = ballYData[j-128];
<br/>
   }
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
This is pretty much a direct translation of GBAJunkie's chapter 4 tutorial and I always get crap for the second image I plugged in his sprite data files into my project and they worked fine...so the only thing i can assume is that I am making an error in the way I am combining sprites.
<br/>
<br/>
pcx2sprite has been reliable otherwise in my project as well...
<br/>
<br/>
Any help or insight would be greatly greatly appreciated...
<br/>
<br/>
thanks,
<br/>
-Mike</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17150 - yaustar - Tue Mar 02, 2004 1:15 pm</h4>
    <div class="postbody"><span class="postbody">I cant see anything wrong, could be a conversion error...
<br/>
On a side note, the gba can handle a 32x16 sprite which saves you making two (check the cowbite Spec)<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17151 - Cearn - Tue Mar 02, 2004 3:05 pm</h4>
    <div class="postbody"><span class="postbody">Have you checked the tile and OAM viewers of your emulator? These are often a great help in figuring out what's wrong if you get crap. It might also help if you describe "crap". Do you have any screen shots and/or data-code? That might help.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>darknet wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Is there a particular way one should go about taking their individual sprites and putting them on one .bmp (so I can have one sprite palette)? </td> </tr></table><span class="postbody">
<br/>
Are you talking about making all sprites separately and then combining them, or using one big bitmap fom the start? It seems like you're referring to the former, but I see little point in combining them afterwards. If you are talking about the latter, well, my own bitmap editor <a class="postlink" href="http://user.chem.tue.nl/jakvijn/proggies.htm#usenti" target="_blank">Usenti</a> lets you convert to a bitmap with multiple sprites in one go. I'm sure other converters like CoG and gfx2gba can do this as well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17167 - Paul Shirley - Tue Mar 02, 2004 7:51 pm</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 9:04 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#17180 - darknet - Wed Mar 03, 2004 12:06 am</h4>
    <div class="postbody"><span class="postbody">That is interesting.
<br/>
<br/>
I took your suggestion Paul, and two sprites indeed showed up in their proper places. However, the same sprite showed up, not two different ones.
<br/>
<br/>
<br/>
The code has remained unchanged, in particular the effect I want is I have one bitmap that says "TXT" in two different colors. Then the individual images contain the individual "txt" message in one color.
<br/>
<br/>
When converted and all is said and done, only one of the images shows up twice, i.e. two blue "TXT" sprites. I made sure everything converted was included and the data copying in my menu method was actually using different data sets.
<br/>
<br/>
Any reason that would happen?
<br/>
<br/>
Any advice is greatly appreciated,
<br/>
-Mike</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17181 - Paul Shirley - Wed Mar 03, 2004 12:38 am</h4>
    <div class="postbody"><span class="postbody">removed</span><span class="gensmall"><br/><br/>Last edited by Paul Shirley on Sun Mar 28, 2004 9:04 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#17185 - yaustar - Wed Mar 03, 2004 1:59 am</h4>
    <div class="postbody"><span class="postbody">pcx2sprite is not very good for converting multiple sprites..I would reccomend using gif2sprite which is very simple and quick
<br/>
<br/>
I have a feeling that both of the pics (on PC) have the 'TXT' pixels pointing to the same palette index (eg 0x0001 or 1) although there may be another colour in the GBA palette the sprites are just using the same two colours.<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17221 - darknet - Thu Mar 04, 2004 8:58 am</h4>
    <div class="postbody"><span class="postbody">Thanks for the suggestion yaustar. They do convert more or less properly...
<br/>
<br/>
I looked at the generated file and noticed that some values were not 16 bits? i.e. every now and again the file there was a value like 0xffffffe (28 bits). I don't know why it did this, but it did have a slight effect I believe on the conversion.
<br/>
<br/>
In both sprites that show up, there is a bit chopped off of each. To be specific, each sprite shows "TXT," with each being a different color.
<br/>
<br/>
They displayed in their proper colors + positions, yet in both the last 'T' was truncated a bit, as if it couldnt read all of the header file?
<br/>
<br/>
hmmm...
<br/>
-Mike</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17225 - yaustar - Thu Mar 04, 2004 1:10 pm</h4>
    <div class="postbody"><span class="postbody">The only other thing I can suggest without seeing your project is to make sure that the image are 16x16 before conversion...<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
