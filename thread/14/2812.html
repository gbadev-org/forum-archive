<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Busting out memory ??? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Busting out memory ???</h2>
<div id="posts">
<div class="post">
    <h4>#16024 - doudou - Fri Feb 06, 2004 2:44 pm</h4>
    <div class="postbody"><span class="postbody">I have a strange behavior in my rom. I have some ressources included in my rom (not that much since my .gba is ~300k) and now, when I want to use some more space, the Visual Boy emulator shows me absolultly nothing...the OAM, tile, palette...all is empty (black).
<br/>
<br/>
I can even tell the exact limit of when I "bust out" memory. When I try
<br/>
<br/>
char test[1808];   
<br/>
<br/>
everithing is ok, but with 
<br/>
<br/>
char test[1809];  
<br/>
<br/>
that's it, nothing works.
<br/>
<br/>
Help !!!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16025 - tepples - Fri Feb 06, 2004 3:15 pm</h4>
    <div class="postbody"><span class="postbody">How have you included resources in your ROM? If through something like bin2h, bin2s, or bin2o, have you made sure to put them in the .rodata segment (in C, do this by declaring them <span style="font-weight: bold">const</span>)?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16026 - poslundc - Fri Feb 06, 2004 4:07 pm</h4>
    <div class="postbody"><span class="postbody">Just to expand on tepples' post: you've only got 32K of IWRAM, and that's where all of the C variables you declare go. If your arrays, etc. are too large then you will run out of memory quickly.
<br/>
<br/>
So, any read-only "resources" you want to create in C should all be declared as const, to put them in ROM instead of IWRAM.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16030 - doudou - Fri Feb 06, 2004 7:43 pm</h4>
    <div class="postbody"><span class="postbody">The const declaration did the job. Thank you</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
