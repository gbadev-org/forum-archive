<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Moving across curved surfaces - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Moving across curved surfaces</h2>
<div id="posts">
<div class="post">
    <h4>#27742 - QuantumDoja - Wed Oct 20, 2004 8:58 am</h4>
    <div class="postbody"><span class="postbody">Ok, so in Mario we moved on blocks on flat surfaces, in Sonic we moved along surfaces which were not flat, but sometimes curved, ie sloped.
<br/>
<br/>
How do they do that?<br/>_________________<br/>Chris Davis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27745 - Touchstone - Wed Oct 20, 2004 10:13 am</h4>
    <div class="postbody"><span class="postbody">I don't know exactly how Sonic did it but if I can remember it correctly the slopes had the same angle across the entire tile. So what they could have done was to have a equation associated with each tile.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">|    |  For example, this tile would have the equation:
<br/>
|*   |  coll = y &lt; x
<br/>
|**  |
<br/>
|*** |
<br/>
<br/>
|    |  And this tile would be
<br/>
|    |  coll = y &gt; 1
<br/>
|****|
<br/>
|****|</td> </tr></table><span class="postbody">And with that they just have to solve the equation and figure out if coll is true or false<br/>_________________<br/>You can't beat our meat</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27748 - keldon - Wed Oct 20, 2004 1:10 pm</h4>
    <div class="postbody"><span class="postbody">my cousin's got a mega drive somewhere, but I'm sure sonic doesn't run clean over those curves .. but anyway it's a small calculation so using sin+cos to calculate the height won't really hurt.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27753 - jma - Wed Oct 20, 2004 4:43 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">my cousin's got a mega drive somewhere, but I'm sure sonic doesn't run clean over those curves ..</td> </tr></table><span class="postbody">
<br/>
He doesn't, just the middle of the sprite does. On hills and such, one foot will always protrude over the tiled background. It just gives a very good appearance of curved because 90%+ of the time he's the ball sprite across the "curved" surfaces.<br/>_________________<br/><a href="mailto:massung@gmail.com">massung@gmail.com</a>
<br/>
<a href="http://www.retrobyte.org" target="_blank">http://www.retrobyte.org</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27758 - sajiimori - Wed Oct 20, 2004 6:47 pm</h4>
    <div class="postbody"><span class="postbody">It might have been tepples who posted a pretty complete description of how it was done.  Try searching the forum, or even google.  Basically, there's a set of collision tiles to choose from, and each one is defined by an array of left-to-right extents of the solid portion of the tile.  (Or was it top-to-bottom?)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27898 - LOst? - Sat Oct 23, 2004 5:32 am</h4>
    <div class="postbody"><span class="postbody">The Genesis Sonic is complex. 8x8 tiles for basic VRAM art put into 16x16 tiles that has a counterpart height map collision array and a counterpart angle array, and the levels are built up of 128x128 tiles of those 16x16 tiles.
<br/>
<br/>
The height maps are the curve data and Sonic checks them with two or more hot spot routies depending on which angle he enters using cin and cos tables. And each 16x16 has an angle array, and it's needed to tell Sonic how to land on the ground after a jump using some kind of an arctan2 table.
<br/>
<br/>
Sonic is running 360 degrees, but the Genesis hardware doesn't have rotating sprites.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
