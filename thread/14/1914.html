<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>more background woes. Resetting and hardware. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > more background woes. Resetting and hardware.</h2>
<div id="posts">
<div class="post">
    <h4>#9777 - immortalninjak - Mon Aug 18, 2003 1:03 am</h4>
    <div class="postbody"><span class="postbody">Hello all,
<br/>
two questions:
<br/>
1. could someone explain to me how I would reset and disable backgrounds between levels and selection screens.
<br/>
I am using two different set of tiles and maps for two different stages.  The first stage scrolls bg2 with wraparound. Then when I start stage 2 I find that the background is centred about where stage one finished even though I have included 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
             bg2.x_scroll = 120;
<br/>
             bg2.y_scroll = 80;
<br/>
</td> </tr></table><span class="postbody">
<br/>
when setting up bg2 for stage 2.
<br/>
<br/>
2. Again using bg2 with a 256*256 rotational map. The screen displays perfectly fine while using visual boy advance. How ever played on hardware using a flash linker cart, the bg displays properly for a fraction of a second but then shifts down a row of tiles while duplicating the top row. While the sprites remain uneffected so they appear to be walking in thin air. Does anyone know the cause of this. Its driving me nuts.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9780 - immortalninjak - Mon Aug 18, 2003 1:13 am</h4>
    <div class="postbody"><span class="postbody">ahh.
<br/>
Fixed problem one. Took out the line updating bg2 beacuse it was messing up my screen. Know the answers to both those problems now :)
<br/>
Initilize Pa,b,c,d then update bg.
<br/>
Still have the hardware problem to sort out though ;(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9789 - sgeos - Mon Aug 18, 2003 5:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>immortalninjak wrote:</b></span></td> </tr> <tr> <td class="quote">The bg displays properly for a fraction of a second but then shifts down a row of tiles while duplicating the top row. While the sprites remain uneffected so they appear to be walking in thin air. Does anyone know the cause of this. Its driving me nuts.</td> </tr></table><span class="postbody">
<br/>
<br/>
Are you waiting for vblank before updating your BG?  Try writing a vvery simple program that displays your BG and try to get that to run properly on hardware.  Both my tone demo and rotation demo (old now... May I think) fail the first time I tried to get them to run on hardware.  They worked fine in the emulators.  Caused major headaches.  I'm sure it's a simple oversight.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9832 - immortalninjak - Tue Aug 19, 2003 2:57 pm</h4>
    <div class="postbody"><span class="postbody">aye. 
<br/>
yup you were right it was a simple thing in the end. The problem was I was copying OAM before updating the bg after vsynch.
<br/>
Man that had me annoyed.
<br/>
Thanks for the help.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
