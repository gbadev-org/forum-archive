<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fading a bitmap - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Fading a bitmap</h2>
<div id="posts">
<div class="post">
    <h4>#43200 - Impatient - Fri May 20, 2005 6:40 am</h4>
    <div class="postbody"><span class="postbody">Say I have a mode 3 or mode 5 bitmap. Those do not have seperate RGB value tables. How do you fade those to and from black? The GBA has a hardware fade register (forgot the name). Can't you just use that register to fade to/from black? Or do you need to in mode 3 and 5 to fade each and every single pixel in a loop masking out the colors?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43210 - MrD - Fri May 20, 2005 11:16 am</h4>
    <div class="postbody"><span class="postbody">You can use REG_BLDMOD (04000050h) and REG_COLEY (04000054h), sure!
<br/>
<br/>
Remember that you need to set it to fade <span style="font-weight: bold">BG2</span> (also for mode 3,4,5 bitmaps) as an<span style="font-weight: bold"> A layer</span>.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">REG_BLDMOD = bit6 | bit7 | bit2;
<br/>
REG_COLEY = 0;                 // Number from 0-17.
<br/>
                                // Controls strength of fades =to white and black=.
<br/>
<br/>
// bit2 is BG2 as an A layer. bit6 and 7 make it a fade to black using REG_COLEY
<br/>
<br/>
u32 frame = 0;
<br/>
<br/>
while (frame &lt; 17) {       // Simple fast fade, 16 frames long.
<br/>
   vsync();
<br/>
   REG_COLEY = frame;
<br/>
   frame++;
<br/>
}
<br/>
<br/>
// Screen will be totally black here. Remember to set REG_BLDMOD and REG_COLEY to something innocent when you try to display something else, or you'll just get black!
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<a href="http://user.chem.tue.nl/jakvijn/tonc/gfx.htm" target="_blank">http://user.chem.tue.nl/jakvijn/tonc/gfx.htm</a> - TONC has ?ber blending advice + register layout.<br/>_________________<br/>Not active on this forum. For Lemmings DS help see its website.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43416 - Impatient - Mon May 23, 2005 6:26 am</h4>
    <div class="postbody"><span class="postbody">Where does the BLDCNT register fit it? Bits 6 and 7 in this register should control a hardware based fade??</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43421 - MrD - Mon May 23, 2005 10:13 am</h4>
    <div class="postbody"><span class="postbody"><a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/gfx.htm#blend" target="_blank">http://user.chem.tue.nl/jakvijn/tonc/gfx.htm#blend</a>
<br/>
<br/>
I think BLDMOD is the new name for BLDCNT or vice versa... CowBite seems to call it both.
<br/>
<br/>
Bits 0,1,2,3,4,5 choose what is the A-layer.
<br/>
Bits 8,9,a,b,c,d choose what is the B-layer.
<br/>
and Bits 6 and 7 choose the fade type.
<br/>
<br/>
REG_COLEY controls the strength of a "blend A to white/black" fade (16 is fully white/black)
<br/>
<br/>
REG_COLEV controls the weights of a standard "blend A with B" blend. Check out the TONC, s'got a good example.<br/>_________________<br/>Not active on this forum. For Lemmings DS help see its website.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
