<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>compiler arguments failed can someone please help me? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > compiler arguments failed can someone please help me?</h2>
<div id="posts">
<div class="post">
    <h4>#47273 - solarwind__ - Wed Jul 06, 2005 11:15 pm</h4>
    <div class="postbody"><span class="postbody">i am using devkitadv (not devkitarm) (this could be the problem but i dont know). I used a makefile that lookes like this:
<br/>
<br/>
gcc -c -mthumb -mthumb-interwork -o pong.elf pong.c
<br/>
objcopy -O binary "C:\dev\3vg\pong.elf" "C:\dev\3vg\pong.gba"
<br/>
pause
<br/>
<br/>
the one above does not work. when i open the gba file with VISUAL BOY ADVANCE, only a white screen appears. But i know the program works because i compiled a different way:
<br/>
<br/>
<br/>
gcc -o hello.elf hello.c -lm
<br/>
objcopy -O binary hello.elf hello.gba
<br/>
<br/>
<br/>
that one works but i need to use the one above to be able to configure it to work with XBOO, so i need to tell the compiler to compile it so it starts in the SRAM memory in the GBA, any suggestions? Or is it just the old devkitadv thats causing the problem? SHould i get devkitarm? and try the whole thing over again?
<br/>
<br/>
thanks in advance<br/>_________________<br/>#solarwind</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47275 - sajiimori - Wed Jul 06, 2005 11:31 pm</h4>
    <div class="postbody"><span class="postbody">-c creates an object file, so you're creating an .o file but naming it .elf.  Name it pong.o instead, and then run gcc to link the real .elf:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">gcc -o pong.elf pong.o</td> </tr></table><span class="postbody">
<br/>
It can be a little confusing because gcc can invoke the compiler, the linker, or both.  Your first example runs the compiler, the above line runs the linker, and your second example uses a shortcut that runs both.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
