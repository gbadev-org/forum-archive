<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>error while compiling - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > error while compiling</h2>
<div id="posts">
<div class="post">
    <h4>#150933 - coolalien - Fri Feb 15, 2008 1:13 pm</h4>
    <div class="postbody"><span class="postbody">every time i try to make any of the examples i get the same error. the error is 
<br/>
<br/>
C:\devkitPro\examples\nds\Graphics\2D\hello_world&gt;make
<br/>
main.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /c/devkitPro/examples/nds/Graphics/2D/hello_world/buil
<br/>
d/main.d -g -Wall -O2 -mcpu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer -ffast
<br/>
-math -mthumb -mthumb-interwork -I/c/devkitPro/examples/nds/Graphics/2D/hello_wo
<br/>
rld/include -I/c/devkitPro/examples/nds/Graphics/2D/hello_world/build -IC:\devki
<br/>
tPro\examples\nds\Graphics\2D\hello_world/libnds/include -IC:\devkitPro\examples
<br/>
\nds\Graphics\2D\hello_world/libnds/include -I/c/devkitPro/examples/nds/Graphics
<br/>
/2D/hello_world/build -DARM9 -fno-rtti -fno-exceptions -c /c/devkitPro/examples/
<br/>
nds/Graphics/2D/hello_world/source/main.cpp -o main.o
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:31:17: warning
<br/>
: nds.h: No such file or directory
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp: In function '
<br/>
int main()':
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:46: error: 'to
<br/>
uchPosition' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:46: error: exp
<br/>
ected `;' before 'touchXY'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:48: error: 'ir
<br/>
qInit' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:49: error: 'IR
<br/>
Q_VBLANK' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:49: error: 'ir
<br/>
qSet' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:50: error: 'ir
<br/>
qEnable' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:51: error: 'vi
<br/>
deoSetMode' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:52: error: 'MO
<br/>
DE_0_2D' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:52: error: 'DI
<br/>
SPLAY_BG0_ACTIVE' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:52: error: 'vi
<br/>
deoSetModeSub' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:53: error: 'VR
<br/>
AM_C_SUB_BG' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:53: error: 'vr
<br/>
amSetBankC' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:55: error: 'SU
<br/>
B_BG0_CR' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:55: error: 'BG
<br/>
_MAP_BASE' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:57: error: 'BG
<br/>
_PALETTE_SUB' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:57: error: 'RG
<br/>
B15' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:60: error: 'u1
<br/>
6' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:60: error: exp
<br/>
ected primary-expression before ')' token
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:60: error: exp
<br/>
ected primary-expression before ')' token
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:60: error: 'co
<br/>
nsoleInitDefault' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:68: error: 'sw
<br/>
iWaitForVBlank' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:69: error: 'to
<br/>
uchXY' was not declared in this scope
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:69: error: 'to
<br/>
uchReadXY' was not declared in this scope
<br/>
make[1]: *** [main.o] Error 1
<br/>
make: *** [build] Error 2
<br/>
<br/>
Ive looked through some other topics but i can't find the answer.
<br/>
Whats wrong with it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150944 - gmiller - Fri Feb 15, 2008 6:17 pm</h4>
    <div class="postbody"><span class="postbody">The include directives are not set up to find nds.h file.  I would find that file and make sure there is a -I/c/path_to_the_NDS.H/File  when you build this.  Remember that the tools operate on unix style path names so format them appropriately.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150947 - Dwedit - Fri Feb 15, 2008 7:04 pm</h4>
    <div class="postbody"><span class="postbody">Double check your environment variables.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150987 - coolalien - Sat Feb 16, 2008 12:37 pm</h4>
    <div class="postbody"><span class="postbody">ive fixed the first bit now. i didn't put the path in on the nds.h file so it couldn't find any of the others. It now just has this error:
<br/>
<br/>
C:\devkitPro\examples\nds\Graphics\2D\hello_world&gt;make
<br/>
linking hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/bin/ld
<br/>
.exe: cannot find -lnds9
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitPro/examples/nds/Graphics/2D/hello_world/hello_world.elf]
<br/>
 Error 1
<br/>
make: *** [build] Error 2</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150996 - gmiller - Sat Feb 16, 2008 5:11 pm</h4>
    <div class="postbody"><span class="postbody">Now it can't find the library nds9 which should be libnds9.a as a file if it exists.  The library search paths are specified by the -L (upper case L) directive in the linking command.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#150999 - coolalien - Sat Feb 16, 2008 7:37 pm</h4>
    <div class="postbody"><span class="postbody">so how do i fix this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151002 - gmiller - Sat Feb 16, 2008 9:17 pm</h4>
    <div class="postbody"><span class="postbody">Well if the library does not exist you need to remove the reference from the makefile.  If it does exist then you need to fix your makefile to search the folder that has the file in it for linking.  This means that if the file is in /c/devkitAdvance/libs you need to have a -L/c/devkitAdvance/libs in your link command.  Not knowing how your make file is constructed I can't offer much more than that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151006 - coolalien - Sun Feb 17, 2008 12:08 am</h4>
    <div class="postbody"><span class="postbody">ok that fixed that error but now it has a new one saying:
<br/>
<br/>
C:\devkitPro\examples\nds\Graphics\2D\hello_world&gt;make
<br/>
main.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /c/devkitPro/examples/nds/Graphics/2D/hello_world/buil
<br/>
d/main.d -g -Wall -O2 -mcpu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer -ffast
<br/>
-math -mthumb -mthumb-interwork -I/c/devkitPro/examples/nds/Graphics/2D/hello_wo
<br/>
rld/include -I/c/devkitPro/examples/nds/Graphics/2D/hello_world/build -IC:\devki
<br/>
tPro\examples\nds\Graphics\2D\hello_world/libnds/include -IC:\devkitPro\examples
<br/>
\nds\Graphics\2D\hello_world/libnds/include -I/c/devkitPro/examples/nds/Graphics
<br/>
/2D/hello_world/build -DARM9 -fno-rtti -fno-exceptions -c /c/devkitPro/examples/
<br/>
nds/Graphics/2D/hello_world/source/main.cpp -o main.o
<br/>
linking hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/lib/th
<br/>
umb/ds_arm9_crt0.o: In function `CIDLoop':
<br/>
ds_arm9_crt0.s:(.init+0x2ac): undefined reference to `initSystem'
<br/>
main.o: In function `main':
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:48: undefined
<br/>
reference to `irqInit'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:49: undefined
<br/>
reference to `irqSet'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:50: undefined
<br/>
reference to `irqEnable'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:53: undefined
<br/>
reference to `vramSetBankC'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:60: undefined
<br/>
reference to `consoleInitDefault'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:68: undefined
<br/>
reference to `swiWaitForVBlank'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:69: undefined
<br/>
reference to `touchReadXY'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitPro/examples/nds/Graphics/2D/hello_world/hello_world.elf]
<br/>
 Error 1
<br/>
make: *** [build] Error 2
<br/>
<br/>
This error comes up while i am trying to make the first example while following a tutorial.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151010 - Dwedit - Sun Feb 17, 2008 1:15 am</h4>
    <div class="postbody"><span class="postbody">You should undo any changes you may have made to the source code or makefiles.  When you have problems building the example programs, it means that there is something wrong with your build environment, not problems with the code.  You should triple check that your environment variables are set correctly.
<br/>
<br/>
Also, you MUST build from the msys shell, cmd.exe is incompatible with those makefiles.
<br/>
<br/>
a successful build log looks something like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
Dan Weiss@DANWEISS3 /c/devkitpro/examples/nds/Graphics/2D/hello_world
<br/>
$ make
<br/>
main.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /c/devkitpro/examples/nds/Graphics/2D/hello_world/build/main.d -g -Wall -O2 -mcpu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer -ffast-math -mthumb -mthumb-interwork -I/c/devkitpro/examples/nds/Graphics/2D/hello_world/include -I/c/devkitpro/examples/nds/Graphics/2D/hello_world/build -I/c/devkitPro/libnds/include -I/c/devkitPro/libnds/include -I/c/devkitpro/examples/nds/Graphics/2D/hello_world/build -DARM9 -fno-rtti -fno-exceptions -c /c/devkitpro/examples/nds/Graphics/2D/hello_world/source/main.cpp -o main.o
<br/>
linking hello_world.elf
<br/>
built ... hello_world.arm9
<br/>
Nintendo DS rom tool 1.36 - Oct 22 2007 04:04:50
<br/>
by Rafael Vuijk, Dave Murphy, Alexei Karpenko
<br/>
built ... hello_world.nds
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151022 - tepples - Sun Feb 17, 2008 7:20 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">Also, you MUST build from the msys shell, cmd.exe is incompatible with those makefiles.</td> </tr></table><span class="postbody">
<br/>
For some reason, the makefiles have always worked for me even in cmd.exe. I don't know why; all I can offer is a log of what happens on my system:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Microsoft Windows XP [Version 5.1.2600]
<br/>
(C) Copyright 1985-2001 Microsoft Corp.
<br/>
<br/>
E:\&gt;C:
<br/>
<br/>
C:\&gt;cd \devkitpro\examples\nds\templates\arm9
<br/>
<br/>
C:\devkitPro\examples\nds\templates\arm9&gt;make clean
<br/>
clean ...
<br/>
<br/>
C:\devkitPro\examples\nds\templates\arm9&gt;make
<br/>
main.c
<br/>
arm-eabi-gcc -MMD -MP -MF /c/devkitPro/examples/nds/templates/arm9/build/main.d -g -Wall -O2 -march=armv5te -mtune=arm946e-s -fomit-frame-pointer -ffast-math -mthumb -mthumb-interwork -I/c/devkitPro/examples/nds/templates/arm9/include -I/c/devkitPro/libnds/include -I/c/devkitPro/libnds/include -I/c/devkitPro/examples/nds/templates/arm9/build -DARM9 -c /c/devkitPro/examples/nds/templates/arm9/source/main.c -o main.o
<br/>
linking arm9.elf
<br/>
built ... arm9.arm9
<br/>
Nintendo DS rom tool 1.36 - Oct 22 2007 04:04:50
<br/>
by Rafael Vuijk, Dave Murphy, Alexei Karpenko
<br/>
built ... arm9.nds
<br/>
<br/>
C:\devkitPro\examples\nds\templates\arm9&gt;start arm9.nds
<br/>
<br/>
C:\devkitPro\examples\nds\templates\arm9&gt;set | grep -i devkit
<br/>
DEVKITARM=/c/devkitPro/devkitARM
<br/>
DEVKITPRO=/c/devkitPro
<br/>
Path=c:\devkitPro\msys\bin;C:\XP\system32;E:\bin;C:\XP;C:\XP\System32\Wbem;C:\Program Files\QuickTime\QTSystem\
<br/>
<br/>
C:\devkitPro\examples\nds\templates\arm9&gt;
<br/>
</td> </tr></table><span class="postbody">
<br/>
As far as I can tell, as long as MSYS is in the PATH and the DEVKITPRO variable is set correctly, the makefiles should work.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151026 - coolalien - Sun Feb 17, 2008 11:05 am</h4>
    <div class="postbody"><span class="postbody">I still get the same error in the msys shell.
<br/>
<br/>
Daniel@DANIEL-6C60013C /c/devkitpro/examples/nds/graphics/2d/hello_world
<br/>
$ make
<br/>
main.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /c/devkitpro/examples/nds/graphics/2d/hello_world/buil
<br/>
d/main.d -g -Wall -O2 -mcpu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer -ffast
<br/>
-math -mthumb -mthumb-interwork <span style="font-weight: bold"><span style="text-decoration: underline">-I/c</span></span>/devkitpro/examples/nds/graphics/2d/hello_wo
<br/>
rld/include <span style="font-weight: bold"><span style="text-decoration: underline">-I/c</span></span>/devkitpro/examples/nds/graphics/2d/hello_world/build <span style="font-weight: bold"><span style="text-decoration: underline">-IC:</span></span>\devki
<br/>
tPro\examples\nds\Graphics\2D\hello_world/libnds/include <span style="font-weight: bold"><span style="text-decoration: underline">-IC</span></span>:\devkitPro\examples
<br/>
\nds\Graphics\2D\hello_world/libnds/include <span style="font-weight: bold"><span style="text-decoration: underline">-I/c</span></span>/devkitpro/examples/nds/graphics
<br/>
/2d/hello_world/build -DARM9 -fno-rtti -fno-exceptions -c /c/devkitpro/examples/
<br/>
nds/graphics/2d/hello_world/source/main.cpp -o main.o
<br/>
linking hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/lib/th
<br/>
umb/ds_arm9_crt0.o: In function `CIDLoop':
<br/>
ds_arm9_crt0.s:(.init+0x2ac): undefined reference to `initSystem'
<br/>
main.o: In function `main':
<br/>
c:/devkitpro/examples/nds/graphics/2d/hello_world/source/main.cpp:48: undefined
<br/>
reference to `irqInit'
<br/>
c:/devkitpro/examples/nds/graphics/2d/hello_world/source/main.cpp:49: undefined
<br/>
reference to `irqSet'
<br/>
c:/devkitpro/examples/nds/graphics/2d/hello_world/source/main.cpp:50: undefined
<br/>
reference to `irqEnable'
<br/>
c:/devkitpro/examples/nds/graphics/2d/hello_world/source/main.cpp:53: undefined
<br/>
reference to `vramSetBankC'
<br/>
c:/devkitpro/examples/nds/graphics/2d/hello_world/source/main.cpp:60: undefined
<br/>
reference to `consoleInitDefault'
<br/>
c:/devkitpro/examples/nds/graphics/2d/hello_world/source/main.cpp:68: undefined
<br/>
reference to `swiWaitForVBlank'
<br/>
c:/devkitpro/examples/nds/graphics/2d/hello_world/source/main.cpp:69: undefined
<br/>
reference to `touchReadXY'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitpro/examples/nds/graphics/2d/hello_world/hello_world.elf]
<br/>
 Error 1
<br/>
make: *** [build] Error 2<span style="text-decoration: underline"></span>
<br/>
<br/>
could it be something to do with the parts i have underlined. Some have a slash before the C drive some don't. I tried looking for this but i couldn't find which file it is in.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151027 - Cearn - Sun Feb 17, 2008 1:09 pm</h4>
    <div class="postbody"><span class="postbody">The problem is at the link-stage, not the compilation stage. To see what actually goes on there, you'll have to make a small change to devkitARM/ds_rules. At the bottom you will find this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">%.elf:
<br/>
   @echo linking $(notdir $@)
<br/>
   @$(LD)  $(LDFLAGS) $(OFILES) $(LIBPATHS) $(LIBS) -o $@
<br/>
</td> </tr></table><span class="postbody">
<br/>
Change it to this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">%.elf:
<br/>
   @echo linking $(notdir $@)
<br/>
   $(LD)  $(LDFLAGS) $(OFILES) $(LIBPATHS) $(LIBS) -o $@
<br/>
</td> </tr></table><span class="postbody">
<br/>
Then build again, tell us what it says under "linking hello_world.elf".
<br/>
<br/>
(For good measure, you can also remove the double line in $(INCLUDE) from the example makefile:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">export INCLUDE   :=   $(foreach dir,$(INCLUDES),-I$(CURDIR)/$(dir)) \
<br/>
               $(foreach dir,$(LIBDIRS),-I$(dir)/include) \
<br/>
               $(foreach dir,$(LIBDIRS),-I$(dir)/include) \
<br/>
               -I$(CURDIR)/$(BUILD)
<br/>
 </td> </tr></table><span class="postbody">
<br/>
to 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
export INCLUDE   :=   $(foreach dir,$(INCLUDES),-I$(CURDIR)/$(dir)) \
<br/>
               $(foreach dir,$(LIBDIRS),-I$(dir)/include) \
<br/>
               -I$(CURDIR)/$(BUILD)
<br/>
</td> </tr></table><span class="postbody"> )</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151028 - coolalien - Sun Feb 17, 2008 1:35 pm</h4>
    <div class="postbody"><span class="postbody">it now says this:
<br/>
<br/>
arm-eabi-g++  -specs=ds_arm9.specs -g -mthumb -mthumb-interwork -mno-fpu -Wl,-Ma
<br/>
p,hello_world.map  main.o   -LC:\devkitPro\examples\nds\Graphics\2D\hello_world/
<br/>
libnds/lib -L/c/devkitpro/libnds/lib/lnds9 -o /c/devkitPro/examples/nds/Graphics
<br/>
/2D/hello_world/hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/lib/th
<br/>
umb/ds_arm9_crt0.o: In function `CIDLoop':
<br/>
ds_arm9_crt0.s:(.init+0x2ac): undefined reference to `initSystem'
<br/>
main.o: In function `main':
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:48: undefined
<br/>
reference to `irqInit'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:49: undefined
<br/>
reference to `irqSet'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:50: undefined
<br/>
reference to `irqEnable'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:53: undefined
<br/>
reference to `vramSetBankC'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:60: undefined
<br/>
reference to `consoleInitDefault'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:68: undefined
<br/>
reference to `swiWaitForVBlank'
<br/>
c:/devkitPro/examples/nds/Graphics/2D/hello_world/source/main.cpp:69: undefined
<br/>
reference to `touchReadXY'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitPro/examples/nds/Graphics/2D/hello_world/hello_world.elf]
<br/>
 Error 1
<br/>
make: *** [build] Error 2</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151039 - Cearn - Sun Feb 17, 2008 4:57 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>coolalien wrote:</b></span></td> </tr> <tr> <td class="quote">it now says this:
<br/>
<br/>
arm-eabi-g++  -specs=ds_arm9.specs -g -mthumb -mthumb-interwork -mno-fpu -Wl,-Ma
<br/>
p,hello_world.map  main.o   <span style="font-weight: bold">-LC:\devkitPro\examples\nds\Graphics\2D\hello_world/
<br/>
libnds/lib -L/c/devkitpro/libnds/lib/lnds9</span> -o /c/devkitPro/examples/nds/Graphics
<br/>
/2D/hello_world/hello_world.elf
<br/>
</td> </tr></table><span class="postbody">The bolded parts are not what they're supposed to be. There are two variables controlling which libraries are used and where they are found: LIBS and LIBDIRS. 
<br/>
<br/>
LIBS lists the names of the libraries ... kinda. The pattern -l<span style="font-style: italic">name</span> (lowercase 'l') means as much as "use the library named "lib<span style="font-style: italic">name</span>.a". "-l<span style="font-style: italic">nds9</span>" tells the linker to look for "libnds9.a".
<br/>
<br/>
LIBDIRS is where the linker will search for them ... kinda. They're actually the directories the library is in <span style="font-weight: bold">without</span> the "/lib" directory part at the end. If the library is "foo/lib/libbar.a", LIBDIRS should only have the "foo" part Note: no -L here; that and the "/lib" part are added by LIBPATHS later. ds_rules already has a variable to use here: LIBNDS. 
<br/>
<br/>
The lines should then look like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">LIBS   := -lnds9
<br/>
<br/>
LIBDIRS   :=   $(LIBNDS)</td> </tr></table><span class="postbody">
<br/>
My guess is that right now they look more like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">LIBS   := -L/c/devkitpro/libnds/lib/lnds9
<br/>
<br/>
LIBDIRS   :=   C:\devkitPro\examples\nds\Graphics\2D\hello_world/
<br/>
libnds/</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>coolalien wrote:</b></span></td> </tr> <tr> <td class="quote">Some have a slash before the C drive some don't. I tried looking for this but i couldn't find which file it is in.</td> </tr></table><span class="postbody">This is actually the standard notation for directories under POSIX. /c/foo/bar is equivalent to c:\foo\bar. That you have something with C:\ and backward slashes be actually be part of the problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151053 - coolalien - Sun Feb 17, 2008 7:51 pm</h4>
    <div class="postbody"><span class="postbody">it now just has this one error:
<br/>
<br/>
arm-eabi-g++  -specs=ds_arm9.specs -g -mthumb -mthumb-interwork -mno-fpu -Wl,-Ma
<br/>
p,hello_world.map  main.o    -lnds9 -o /c/devkitPro/examples/nds/Graphics/2D/hel
<br/>
lo_world/hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/bin/ld
<br/>
.exe: cannot find -lnds9
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitPro/examples/nds/Graphics/2D/hello_world/hello_world.elf]
<br/>
 Error 1
<br/>
make: *** [build] Error 2
<br/>
<br/>
it says it can't find the file but it is there and i have put the right path to get to it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151079 - Cearn - Mon Feb 18, 2008 3:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>coolalien wrote:</b></span></td> </tr> <tr> <td class="quote">it now just has this one error:
<br/>
<br/>
arm-eabi-g++  -specs=ds_arm9.specs -g -mthumb -mthumb-interwork -mno-fpu -Wl,-Ma
<br/>
p,hello_world.map  main.o -lnds9 -o /c/devkitPro/examples/nds/Graphics/2D/hello_world/hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/bin/ld
<br/>
.exe: cannot find -lnds9
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitPro/examples/nds/Graphics/2D/hello_world/hello_world.elf]
<br/>
 Error 1
<br/>
make: *** [build] Error 2
<br/>
<br/>
it says it can't find the file but it is there and i have put the right path to get to it.</td> </tr></table><span class="postbody">
<br/>
The path information <span style="font-style: italic">should</span> have been present between <span style="font-style: italic">main.o</span> and <span style="font-style: italic">-lnds</span>. If you added it, the rest of the makefile didn't pick up on it somehow. 
<br/>
<br/>
You could try to find out exactly what's going wrong by adding debug echo statements for some of the variables to see what's happening (in particular $(LIBDIRS) and $(LIBPATHS)). Or you could paste the whole makefile here and let us figure it .</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151084 - coolalien - Mon Feb 18, 2008 5:40 pm</h4>
    <div class="postbody"><span class="postbody">this is the make file:
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
.SUFFIXES:
<br/>
#---------------------------------------------------------------------------------
<br/>
<br/>
ifeq ($(strip $(DEVKITARM)),)
<br/>
$(error "Please set DEVKITARM in your environment. export DEVKITARM=&lt;path to&gt;devkitARM)
<br/>
endif
<br/>
<br/>
include /C/devkitpro/devkitARM/ds_rules
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# TARGET is the name of the output
<br/>
# BUILD is the directory where object files &amp; intermediate files will be placed
<br/>
# SOURCES is a list of directories containing source code
<br/>
# INCLUDES is a list of directories containing extra header files
<br/>
#---------------------------------------------------------------------------------
<br/>
TARGET		:=	$(shell basename $(CURDIR))
<br/>
BUILD		:=	build
<br/>
SOURCES		:=	gfx source data  
<br/>
INCLUDES	:=	include build
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# options for code generation
<br/>
#---------------------------------------------------------------------------------
<br/>
ARCH	:=	-mthumb -mthumb-interwork
<br/>
<br/>
# note: arm9tdmi isn't the correct CPU arch, but anything newer and LD
<br/>
# *insists* it has a FPU or VFP, and it won't take no for an answer!
<br/>
CFLAGS	:=	-g -Wall -O2\
<br/>
 			-mcpu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer\
<br/>
			-ffast-math \
<br/>
			$(ARCH)
<br/>
<br/>
CFLAGS	+=	$(INCLUDE) -DARM9
<br/>
CXXFLAGS	:= $(CFLAGS) -fno-rtti -fno-exceptions
<br/>
<br/>
ASFLAGS	:=	-g $(ARCH)
<br/>
LDFLAGS	=	-specs=ds_arm9.specs -g $(ARCH) -mno-fpu -Wl,-Map,$(notdir $*.map)
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# any extra libraries we wish to link with the project
<br/>
#---------------------------------------------------------------------------------
<br/>
LIBS	:= -lnds9
<br/>
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# list of directories containing libraries, this must be the top level containing
<br/>
# include and lib
<br/>
#---------------------------------------------------------------------------------
<br/>
LIBDIRS	:=	$(LIBNDS)
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# no real need to edit anything past this point unless you need to add additional
<br/>
# rules for different file extensions
<br/>
#---------------------------------------------------------------------------------
<br/>
ifneq ($(BUILD),$(notdir $(CURDIR)))
<br/>
#---------------------------------------------------------------------------------
<br/>
<br/>
export OUTPUT	:=	$(CURDIR)/$(TARGET)
<br/>
<br/>
export VPATH	:=	$(foreach dir,$(SOURCES),$(CURDIR)/$(dir))
<br/>
export DEPSDIR	:=	$(CURDIR)/$(BUILD)
<br/>
<br/>
CFILES		:=	$(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.c)))
<br/>
CPPFILES	:=	$(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.cpp)))
<br/>
SFILES		:=	$(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.s)))
<br/>
BINFILES	:=	$(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.bin)))
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# use CXX for linking C++ projects, CC for standard C
<br/>
#---------------------------------------------------------------------------------
<br/>
ifeq ($(strip $(CPPFILES)),)
<br/>
#---------------------------------------------------------------------------------
<br/>
	export LD	:=	$(CC)
<br/>
#---------------------------------------------------------------------------------
<br/>
else
<br/>
#---------------------------------------------------------------------------------
<br/>
	export LD	:=	$(CXX)
<br/>
#---------------------------------------------------------------------------------
<br/>
endif
<br/>
#---------------------------------------------------------------------------------
<br/>
<br/>
export OFILES	:=	$(BINFILES:.bin=.o) \
<br/>
					$(CPPFILES:.cpp=.o) $(CFILES:.c=.o) $(SFILES:.s=.o)
<br/>
<br/>
export INCLUDE	:=	$(foreach dir,$(INCLUDES),-I$(CURDIR)/$(dir)) \
<br/>
					$(foreach dir,$(LIBDIRS),-I$(dir)/include) \
<br/>
					-I$(CURDIR)/$(BUILD)
<br/>
<br/>
export LIBPATHS	:=	$(foreach dir,$(LIBDIRS),-L$(dir)/lib)
<br/>
<br/>
.PHONY: $(BUILD) clean
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
$(BUILD):
<br/>
	@[ -d $@ ] || mkdir -p $@
<br/>
	@make --no-print-directory -C $(BUILD) -f $(CURDIR)/Makefile
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
clean:
<br/>
	@echo clean ...
<br/>
	@rm -fr $(BUILD) $(TARGET).elf $(TARGET).nds $(TARGET).arm9 $(TARGET).ds.gba 
<br/>
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
else
<br/>
<br/>
DEPENDS	:=	$(OFILES:.o=.d)
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
# main targets
<br/>
#---------------------------------------------------------------------------------
<br/>
$(OUTPUT).nds	: 	$(OUTPUT).arm9
<br/>
$(OUTPUT).arm9	:	$(OUTPUT).elf
<br/>
$(OUTPUT).elf	:	$(OFILES)
<br/>
<br/>
#---------------------------------------------------------------------------------
<br/>
%.o	:	%.bin
<br/>
#---------------------------------------------------------------------------------
<br/>
	@echo $(notdir $&lt;)
<br/>
	$(bin2o)
<br/>
<br/>
<br/>
-include $(DEPENDS)
<br/>
<br/>
#---------------------------------------------------------------------------------------
<br/>
endif
<br/>
#---------------------------------------------------------------------------------------</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151085 - Cearn - Mon Feb 18, 2008 6:47 pm</h4>
    <div class="postbody"><span class="postbody">Works fine for me O_o.
<br/>
<br/>
The only way I can get the exact error you get is it comment out the LIBNDS variable in ds_rules <span style="font-style: italic">after</span> I got a working compilation. Normally, a non-existing LIBNDS would stop the compilation as well (which was your original problem), but since you got that part to work somehow the makefile will only try linking.
<br/>
<br/>
Looking at the earlier errors, there's no reference to LIBNDS there either, yet it still works. There is a "-IC:\devkitPro\examples\nds\Graphics\2D\hello_world/libnds/include" ... did you add the whole libnds directory to the hello_world folder? 
<br/>
<br/>
I also notice that the at the top it said "include /c/devkitpro/devkitARM/ds_rules" instead of the usual "include $(DEVKITARM)/ds_rules", why did you change this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151088 - coolalien - Mon Feb 18, 2008 7:34 pm</h4>
    <div class="postbody"><span class="postbody">i changed the </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">include /c/devkitpro/devkitARM/ds_rules</td> </tr></table><span class="postbody"> because someone on another website said to do this but changing it back to what it should be doesn't solve he error..
<br/>
i haven't added the whole libnds directory to the hello_world folder.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151090 - silent_code - Mon Feb 18, 2008 8:22 pm</h4>
    <div class="postbody"><span class="postbody">hey, DID YOU CHECK YOUR ENVIRONMENT VARIABLES (MSYS AND DEVKIT)??? some other guys asked for that, but you don't seem to have responded to it, yet!
<br/>
<br/>
PLEASE CHECK YOUR ENVIRONMENT VARIABLES!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151092 - coolalien - Mon Feb 18, 2008 8:50 pm</h4>
    <div class="postbody"><span class="postbody">i've checked the environment variables and they are correct</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#151094 - coolalien - Mon Feb 18, 2008 8:58 pm</h4>
    <div class="postbody"><span class="postbody">its ok i have got it working now. One of the environment variables was C:\ while the other was /c/.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
