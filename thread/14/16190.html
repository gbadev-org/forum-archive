<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Erasing or masking part of a sprite - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Erasing or masking part of a sprite</h2>
<div id="posts">
<div class="post">
    <h4>#164461 - crazakp - Mon Nov 03, 2008 8:37 am</h4>
    <div class="postbody"><span class="postbody">I want to make an explosion, which will erase the sprites in the area that the explosion happened in.  The area erased is exactly the same shape as the explosion sprite. 
<br/>
<br/>
Do I need to do this in mode 4 or 5, where I could just replace the pixels with the color of the background?  Or is there a way to do this using just sprites?  
<br/>
<br/>
I can clarify further if need be.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164464 - strat - Mon Nov 03, 2008 11:40 am</h4>
    <div class="postbody"><span class="postbody">You can use sprites for everything.  Basically you'd change the vram so the pixels that are erased by the explosion would be the transparent color.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164465 - kusma - Mon Nov 03, 2008 11:55 am</h4>
    <div class="postbody"><span class="postbody">I'm not sure I understand exactly what you mean, but it might be that the  "OBJ Window" mode of <a class="postlink" href="http://nocash.emubase.de/gbatek.htm#lcdobjoamattributes" target="_blank">"OBJ Mode"</a> is what you want.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164466 - gmiller - Mon Nov 03, 2008 1:41 pm</h4>
    <div class="postbody"><span class="postbody">Assuming I understand what you want to do (any sprite in the area of the explosion needs to be "destroyed").  You could have an animation sequence of tiles that you replace for the tiles being used for the sprite image.
<br/>
<br/>
The starting tile image for each frame of animation would be used for the sprite image and then at some time sequence you would update the it to the next frame of animation. 
<br/>
<br/>
So assuming that the tile index of the animation sequence is 10, 20, 30, 40 (all fictitious choices) you would change the tile index in attribute 2 to each of the indexes in sequence at some time interval.  the last animation frame would only have a few pixels visibal the rest would be the transparent color (zero offset in the palette) and then make the sprite invisible (non rotational and double sized).  Depending on which library you are using this would vary but underneath this is what would be done.
<br/>
<br/>
If I did not understand what you were asking please correct me ...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164577 - crazakp - Sat Nov 08, 2008 12:28 am</h4>
    <div class="postbody"><span class="postbody">I think I'm going to use strat's way.  It seems like it's the closest to what I'd like to achieve. 
<br/>
<br/>
Here's a picture of what I'm describing.  I'm sure it'll be a lot clearer.
<br/>
<br/>
<a class="postlink" href="http://imageshack.us" target="_blank"></a><a href="http://img220.imageshack.us/img220/9817/explosionet4.png">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
The explosion could happen anywhere on any tile.  It would be possible to destroy all the tiles.  In other words, destructible 2d terrain.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#164580 - DiscoStew - Sat Nov 08, 2008 2:52 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>crazakp wrote:</b></span></td> </tr> <tr> <td class="quote">I think I'm going to use strat's way.  It seems like it's the closest to what I'd like to achieve. 
<br/>
<br/>
Here's a picture of what I'm describing.  I'm sure it'll be a lot clearer.
<br/>
<br/>
<a class="postlink" href="http://imageshack.us" target="_blank"></a><a href="http://img220.imageshack.us/img220/9817/explosionet4.png">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
The explosion could happen anywhere on any tile.  It would be possible to destroy all the tiles.  In other words, destructible 2d terrain.</td> </tr></table><span class="postbody">
<br/>
<br/>
I took one look at that picture, and memories began flooding back to me. Good ol' QBasic Gorillas.
<br/>
<br/>
If that is what you are trying to mimic, then I'd highly recommend not trying to do that with sprites. You *could* do it with Text backgrounds, but that could be requiring a good amount of organizing, as well as directly manipulating each and every tile affected by an explosion, requiring multiple copies for uniqueness.
<br/>
<br/>
I would recommend you use a Direct mode for something like this. Keep sprites for the characters, weapons, etc, but the "play area" as the background that you can access directly, pixel by pixel.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
