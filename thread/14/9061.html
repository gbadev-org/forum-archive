<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>failure to load .elf into VBA - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > failure to load .elf into VBA</h2>
<div id="posts">
<div class="post">
    <h4>#77353 - ion - Thu Mar 30, 2006 4:04 pm</h4>
    <div class="postbody"><span class="postbody">Hey all,
<br/>
<br/>
I'm trying to load my elf file into vba_sdl for debugging but file won't load at all. here are my current specs:
<br/>
<br/>
vba_sdl 1.7.0
<br/>
gcc 3.4.3 (devkitARM r11)
<br/>
gdb 6.5.1
<br/>
<br/>
I've tried various version of devkitARM so I'm thinking.  Is the elf botched or is it a vba issue.
<br/>
<br/>
I'm using eclipse as my dev environment.  with vba_sdl 1.8 it loads the file but I can't debug.  With 1.7 the file won't load at all.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
Command Line:
<br/>
------------------
<br/>
vba.exe -Gtcp "${project_loc}/${project_name}.elf"
<br/>
<br/>
Console:
<br/>
----------
<br/>
VisualBoyAdvance-SDL version 1.7
<br/>
Windows version
<br/>
Seaching for file VisualBoyAdvance.cfg
<br/>
Searching current dir: C:\Program Files\eclipse
<br/>
Searching user profile directory: C:\Documents and Settings\s00003805
<br/>
Searching executable directory
<br/>
Reading configuration file.
<br/>
Parsing debug info
<br/>
Failed to load file C:\dev\main_code\project/project.elf
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Any ideas?  can anyone point to matching versions that work?
<br/>
<br/>
ION</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77433 - CyberSlag5k - Fri Mar 31, 2006 5:22 pm</h4>
    <div class="postbody"><span class="postbody">Does everything compile properly or do you get any warnings? And does the file work on the emulator when you're not debugging?
<br/>
<br/>
I don't have much experience debugging with vba, but answering those questions might help. And if not, here's a bump for ya :).<br/>_________________<br/><span style="font-style: italic">When you find yourself in the company of a halfling and an ill-tempered Dragon, remember, you do not have to outrun the Dragon... </span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77830 - ion - Mon Apr 03, 2006 11:11 am</h4>
    <div class="postbody"><span class="postbody">sorry wasn't near the net for the weekend. well to answer some of your questions and to give you more info:
<br/>
<br/>
1. The .gba file loads fine but the .elf doesn't (this is from the command line).
<br/>
2. The only version of VBA I can get to the load the elf is 1.8 but that doesn't debug well, only sometimes can I get past a couple of function calls.
<br/>
3. I'm using lowest optimization settings with gcc.
<br/>
4. There are no warnings or errors, everything compiling properly (I hate errors, I dispise warnings - bloody potential errors).
<br/>
5. If i think of more I'll get back to u.
<br/>
<br/>
By the way how do you do debug if not with VBA? are you coding in assembly or something?  VBAhelps cos I can view vram/tiles/oam so most of my errors have been sorted with that but not being able to see values in loops is annoying.
<br/>
<br/>
ION</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#77859 - CyberSlag5k - Mon Apr 03, 2006 5:05 pm</h4>
    <div class="postbody"><span class="postbody">I'm not really doing anything that warrants using an actual debugger. Just working on the basics to get my skills back up after months of neglect (hooray school). Any bugs that crop up are pretty obvious, so I don't bother with it. Back in the day I used one, but that was like 2-3 years ago, so I have no memory of what it was called.
<br/>
<br/>
Good luck with your project!<br/>_________________<br/><span style="font-style: italic">When you find yourself in the company of a halfling and an ill-tempered Dragon, remember, you do not have to outrun the Dragon... </span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78177 - thegamefreak0134 - Wed Apr 05, 2006 7:53 pm</h4>
    <div class="postbody"><span class="postbody">Unless I'm mistaken greatly, you have to copy the .elf file to a .bin file to get it to run. Copy the following code to the end of your batch file:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">objcopy -O binary pong.elf pong.bin</td> </tr></table><span class="postbody">
<br/>
<br/>
and replace "pong" with the name of your .elf file. Then, load the resultant .bin file into VBA and see what happens.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79983 - ion - Mon Apr 17, 2006 11:20 pm</h4>
    <div class="postbody"><span class="postbody">hi again,
<br/>
<br/>
thanks for the info. indeed copying to .bin loads the file alright but is that sufficient for debugging? I thought the file needed to be in elf format to include all debugging info?
<br/>
<br/>
ION</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#79988 - thegamefreak0134 - Mon Apr 17, 2006 11:51 pm</h4>
    <div class="postbody"><span class="postbody">Well, yes it does, and no it doesn't. VBA should be able to do all of the map and OAM viewer stuff fine, but I don't believe the version you specified has a built in debugger. (for code I mean.) The closest thing I can thing of on that level is the memory viewer.
<br/>
<br/>
I would recommend trying an "in-between" version, as 8 is apparently buggy and 7 won't load the .elf.
<br/>
<br/>
Course, I've never really seen a need for a debugger, but that's just me.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80010 - gauauu - Tue Apr 18, 2006 2:13 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Course, I've never really seen a need for a debugger, but that's just me.</td> </tr></table><span class="postbody">
<br/>
<br/>
It's rare that you NEED a debugger, but let me tell you, there are a few times where it's much easier than alternatives (writing debugging info to the screen or a log).  I do most of my debugging without one, but for those few instances when I'm really stuck, often the debugger shows me the problem within the first 3 or 4 minutes.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80699 - ion - Mon Apr 24, 2006 10:10 pm</h4>
    <div class="postbody"><span class="postbody">Thanks again guys.  I've been stuck in windows lands for ages. in fact .net is my main platform and have only tackled C and GBA programming for a 4th year project... so when fooling with pointers and what not the prospect of a working debugger keeps me feelin warm. stil I've finished my project now, it's working and I'm managed to do so without a debugger. it a small project and not much dynamic stuff going on so it's been handy enough.
<br/>
<br/>
Cheers
<br/>
ION</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
