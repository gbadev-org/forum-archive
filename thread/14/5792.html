<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>problem with NMAKE & VC++ 6.0 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > problem with NMAKE & VC++ 6.0</h2>
<div id="posts">
<div class="post">
    <h4>#43352 - caesar - Sun May 22, 2005 5:44 pm</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
<br/>
I have followed all steps for setting up devkit adv and vc++ 6.0. i have installed gba app wizard as well. but when i tried to compile simple program that is just to display an image, i got the following error:
<br/>
<br/>
--------------------Configuration: image - Win32 Debug--------------------
<br/>
Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
<br/>
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
<br/>
 C:\devkitadv\bin\gcc  -I C:\devkitadv\arm-agb-elf\include -I C:\devkitadv\lib\gcc-lib\arm-agb-elf\3.0.2\include -I D:\workspace\image -mthumb-interwork -c -g -O2 -Wall -fverbose-asm D:\workspace\image\interupt.cpp 
<br/>
D:/workspace/image/interupt.cpp:67: parse error before `[' token
<br/>
NMAKE : fatal error U1077: 'C:\devkitadv\bin\gcc' : return code '0x1'
<br/>
Stop.
<br/>
Error executing NMAKE.
<br/>
<br/>
image.exe - 2 error(s), 0 warning(s)
<br/>
<br/>
however, when i tried to compile in command prompt or using batch file, the program compiled perfectly fine. 
<br/>
<br/>
best regards,
<br/>
Caesar</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43362 - DiscoStew - Sun May 22, 2005 7:43 pm</h4>
    <div class="postbody"><span class="postbody">Do you have the exact same setting for compiling your project under the command prompt like you do with vc++? Or even, are you using ALL the files in the command prompt like in your vc++ project? It's happened to me before when I don't specify all the files for both compiling methods. Best to make sure on that.
<br/>
<br/>
And what do you have at line 67 in you interupt.cpp file? Sometimes it may not be that exact line either, but something before it which is affecting that line.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43411 - caesar - Mon May 23, 2005 3:45 am</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
<br/>
in vc++, i m using makefile generated by gba app wizard. that interrupt cpp is also generated by gba app wizard. i have excluded that files from the project since i m not using it and try to compile. i got the following error:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Deleting intermediate files and output files for project 'image - Win32 Debug'.
<br/>
--------------------Configuration: image - Win32 Debug--------------------
<br/>
Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
<br/>
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
<br/>
 C:\devkitadv\bin\gcc  -I C:\devkitadv\arm-agb-elf\include -I C:\devkitadv\lib\gcc-lib\arm-agb-elf\3.0.2\include -I D:\workspace\image -mthumb-interwork -c -g -O2 -Wall -fverbose-asm D:\workspace\image\image.cpp 
<br/>
In file included from D:/workspace/image/image.cpp:9:
<br/>
D:/workspace/image/junkie.h:4:3: warning: "/*" within comment
<br/>
------------------------------------------
<br/>
CPP-Sources Compiled
<br/>
------------------------------------------
<br/>
 C:\devkitadv\bin\ld -L C:\devkitadv\lib\gcc-lib\arm-agb-elf\3.0.2\interwork -L C:\devkitadv\arm-agb-elf\lib\interwork -T LinkScript -o image.elf image.o -lstdc++ -lgcc -lc
<br/>
/cygdrive/c/devkitadv/bin/ld: warning: cannot find entry symbol _start; defaulting to 08000000
<br/>
C:\devkitadv\lib\gcc-lib\arm-agb-elf\3.0.2\interwork/libgcc.a(__main.o): In function `__do_global_dtors':
<br/>
__main.o(.text+0x80): undefined reference to `__EH_FRAME_BEGIN__'
<br/>
C:\devkitadv\lib\gcc-lib\arm-agb-elf\3.0.2\interwork/libgcc.a(__main.o): In function `__do_global_ctors':
<br/>
__main.o(.text+0x114): undefined reference to `__EH_FRAME_BEGIN__'
<br/>
NMAKE : fatal error U1077: 'C:\devkitadv\bin\ld' : return code '0x1'
<br/>
Stop.
<br/>
Error executing NMAKE.
<br/>
<br/>
image.exe - 1 error(s), 2 warning(s)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
while the batch file i m using is just simply set path to devkitadv/bin folder and then gcc-ed it.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">path=C:\devkitadv\bin
<br/>
<br/>
gcc  -o imagedisp.elf imagedisp.cpp  -lm
<br/>
<br/>
objcopy -O binary imagedisp.elf imagedisp.bin</td> </tr></table><span class="postbody">
<br/>
<br/>
thanks for the reply</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
