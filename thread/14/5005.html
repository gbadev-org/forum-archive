<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Pern sprite question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Pern sprite question</h2>
<div id="posts">
<div class="post">
    <h4>#35643 - WillyWonka - Tue Feb 08, 2005 9:21 pm</h4>
    <div class="postbody"><span class="postbody">I'm going through the <a class="postlink" href="http://www.thepernproject.com/English/day_3.html" target="_blank">pern tutorials</a> and I can't seem to figure something out.  In the init function, it goes through and turns all the sprites off.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">   for(i = 0; i &lt; 128; i++)
<br/>
      OAMCopy[i].attribute[0] = SPRITE_OFF;</td> </tr></table><span class="postbody">
<br/>
(#define SPRITE_OFF         BIT9)
<br/>
<br/>
Which command turns the sprites back on?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35649 - sajiimori - Tue Feb 08, 2005 11:29 pm</h4>
    <div class="postbody"><span class="postbody">Don't think about it as a command that turns sprites off.  Think about it as storing a value in an array.  The array just happens to be OAM, and the GBA later reads from it to decide how to draw sprites.
<br/>
<br/>
Continue reading pern to discover why storing that value causes the sprite to not be drawn, then keep reading to find out what other values you can store that will have other effects.  Pern will tell you the purpose of every bit of every attribute.
<br/>
<br/>
If you run into problems during your reading, feel free to ask here. ^_^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36133 - virgo24 - Tue Feb 15, 2005 6:49 am</h4>
    <div class="postbody"><span class="postbody">Use this to change the hide/show state of a sprite... </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">OAMCopy[myspriteindex].attribute[0] ^= SPRITE_OFF;</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36188 - yaustar - Tue Feb 15, 2005 9:38 pm</h4>
    <div class="postbody"><span class="postbody">What is the value of SPRITE_OFF? IF I remember correctly tepples mentioned a method that tells the gba not to process the sprite if the rotation bit is off (0) and double sized is enabled (1).
<br/>
<br/>
However there are easier ways to make a sprite 'disappear' as sajiimori(sp?) is suggesting ;)<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36189 - sajiimori - Tue Feb 15, 2005 9:57 pm</h4>
    <div class="postbody"><span class="postbody">virgo24, your code is wrong.  WillyWonka's original code works because it clears all the other bits.
<br/>
<br/>
There is no "sprite off" bit.  yaustar is right about rotation and double size.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36641 - ymalik - Sat Feb 26, 2005 8:15 pm</h4>
    <div class="postbody"><span class="postbody">You can also move the sprite offscreen to turn it ``off.''</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36644 - tepples - Sat Feb 26, 2005 8:49 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ymalik wrote:</b></span></td> </tr> <tr> <td class="quote">You can also move the sprite offscreen to turn it ``off.''</td> </tr></table><span class="postbody">
<br/>
True, but some claim that if a sprite is horizontally offscreen, it still consumes rendering cycles and can cause dropouts in other sprites on the same scanline. And if a sprite is 32x64 or 64x64 pixels and it's scaled double-size, you can't move it vertically offscreen. The easiest way to turn off a sprite is to set its attribute 0 to 0x0200, not using any exclusive OR modification (^=) operator, but just doing something like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define SPRITE_OFF 0x0200
<br/>
<br/>
OAMCopy[myspriteindex].attribute[0] = SPRITE_OFF;</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
