<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Sprite scaling weirdness - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Sprite scaling weirdness</h2>
<div id="posts">
<div class="post">
    <h4>#18725 - punchy - Thu Apr 01, 2004 8:59 pm</h4>
    <div class="postbody"><span class="postbody">Hi, 
<br/>
     my project has a playfield that is 240 pixels wide by 256 pixels high, so i want to provide a scaled videomode so that the whole playfield can be shown on screen at once. I'm using interrupts to monkey around with the bg scroll registers at each screen line which scales the tile backgrounds very nicely. The problem is with the sprites. 
<br/>
<br/>
I only want to alter the sprites vertical height, and I also want to provide sprite flipping. I'm still playing around with the sprite parameters, but it's currently something like this:
<br/>
<br/>
s16 testHoriz = 1&lt;&lt;8;
<br/>
s16 testVert = 1&lt;&lt;8|1&lt;&lt;6;
<br/>
<br/>
rotData[0].pa = testHoriz;  // 1&lt;8 or -1&lt;&lt;8 flips sprite horizontally
<br/>
rotData[0].pb = 0;
<br/>
rotData[0].pc = 0;
<br/>
rotData[0].pd = testVert;//Using -ve values flips the sprite vertically
<br/>
<br/>
So i have 4 sets of parameters for the 4 possible sprite flip combinations. 
<br/>
<br/>
The problem (finally) is that sometimes the sprites are appearing 1 pixel
<br/>
out of aligment horizontally. So if i have several sprites nexy to each other, i can see single pixel gaps. 
<br/>
<br/>
Any help would be most appreciated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18731 - tepples - Fri Apr 02, 2004 3:47 am</h4>
    <div class="postbody"><span class="postbody">Reflecting sprites using sprite rotation will in fact make what look like off-by-one errors compared to reflecting unrotated sprites. If you're not emulating another machine where the CPU can arbitrarily write to sprite cel VRAM, then why not just draw and store your sprite cels pre-scaled and use regular reflection?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18732 - punchy - Fri Apr 02, 2004 10:08 am</h4>
    <div class="postbody"><span class="postbody">I'm not sure why I didn't think of that myself. Thanks.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
