<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Alpha transparency woes (OBJ - OBJ -transparency) :( - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Alpha transparency woes (OBJ - OBJ -transparency) :(</h2>
<div id="posts">
<div class="post">
    <h4>#15038 - qw3rty - Fri Jan 16, 2004 12:40 pm</h4>
    <div class="postbody"><span class="postbody">Everything works fine for BG - OBJ transparency (show BG through OBJ / show OBJ through BG), but when it comes to OBJ - OBJ transparency nothing works :
<br/>
<br/>
I'm trying to show non-transparent sprites(priority 2 - alpha mode 0) through transparent sprites (priority 1 - alpha mode 1).
<br/>
<br/>
I tried setting the second target screen of REG_BLDMOD to OBJ (set BIT12 of REG_BLDMOD)  but it didn`t work.
<br/>
(I tried a LOT of different combinations of bitpatterns in REG_BLDMOD - reasonable as well as absurd ones ;) )
<br/>
<br/>
P.S. : The screen mode is mode 0.
<br/>
P.P.S : BG &amp; OBJ are both in 16-color mode</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15044 - poslundc - Fri Jan 16, 2004 3:34 pm</h4>
    <div class="postbody"><span class="postbody">Object-to-object alpha blending is unsupported on the GBA.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15047 - qw3rty - Fri Jan 16, 2004 4:38 pm</h4>
    <div class="postbody"><span class="postbody">D'OH !
<br/>
thanks for the reply</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15051 - Miked0801 - Fri Jan 16, 2004 5:56 pm</h4>
    <div class="postbody"><span class="postbody">Use fake transparency - display the "Transparent" sprite every other tic and you'll get a good transparent effect.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15056 - qw3rty - Fri Jan 16, 2004 6:20 pm</h4>
    <div class="postbody"><span class="postbody">thanks for the advice :)
<br/>
<br/>
I have another problem regarding sprite-transparency :
<br/>
<br/>
I try to display an opaque sprite above a transparent one (the sprite is transparent for the background below both sprites) - on the emulator everything looks nice, however on the real machine, i see a "shining" square around the opaque sprite -it seems the background-color of my opaque sprite does interfere with the alpha blending below :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15071 - poslundc - Fri Jan 16, 2004 9:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">Use fake transparency - display the "Transparent" sprite every other tic and you'll get a good transparent effect.</td> </tr></table><span class="postbody">
<br/>
<br/>
You can also try <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=124" target="_blank">supertransparency</a> (there is a link at the end of the page that gives a summary of the technique), although I never got it working properly. (Probably will try again at some point.)
<br/>
<br/>
I can't comment on the hardware problem you're having as I haven't played around enough with transparency.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15082 - Miked0801 - Fri Jan 16, 2004 10:13 pm</h4>
    <div class="postbody"><span class="postbody">Hehe.  Yep, just what we did on some of our games to get shadows, water effects, and "Ghost Monsters".  And varying the timing does indeed help with Opaqueness.  Good link.  Cheap VBlank trick to get good results :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15083 - poslundc - Fri Jan 16, 2004 10:43 pm</h4>
    <div class="postbody"><span class="postbody">It's an HBlank trick, actually, although I'm still not 100% certain I "get it". Touchstone, perhaps you'd care to comment? This is from your doc on the subject:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The new trick avoid the flicker problem by toggling the visibility of the sprite per scanline instead of per frame. For even frames the sprite is visible on even scanlines and for odd frames the sprite is visible on odd scanlines.</td> </tr></table><span class="postbody">
<br/>
<br/>
What I don't quite get about it is if even scanlines are drawn darker by the GBA on even frames and odd scanlines drawn darker on odd frames, won't this technique just be turning the sprite on (in effect) whenever either the dark or light scanlines are being drawn?
<br/>
<br/>
Which would result in either a near-full-intensity image or near-empty-intensity image. But I don't see how you could determine which one.
<br/>
<br/>
Is this the correct goal of the effect?
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15849 - qw3rty - Sun Feb 01, 2004 5:55 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>qw3rty wrote:</b></span></td> </tr> <tr> <td class="quote">thanks for the advice :)
<br/>
<br/>
I have another problem regarding sprite-transparency :
<br/>
<br/>
I try to display an opaque sprite above a transparent one (the sprite is transparent for the background below both sprites) - on the emulator everything looks nice, however on the real machine, i see a "shining" square around the opaque sprite -it seems the background-color of my opaque sprite does interfere with the alpha blending below :(</td> </tr></table><span class="postbody">
<br/>
<br/>
I figured out the solution for this problem :
<br/>
<br/>
Make sure, the opaque sprite has a lower sprite number as the transparent sprite.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15875 - RaBBi - Mon Feb 02, 2004 10:37 am</h4>
    <div class="postbody"><span class="postbody">This trick is really interesting, but I don't understand these both terms "even" and "odd".
<br/>
<br/>
I don't want a french translation (if you can, thanks anyway ^^) but just a little explanation about them ^^
<br/>
Does "even" mean "2n" and "odd" mean "2n+1"?
<br/>
<br/>
It would help me to understand the entire trick for supertransparency, since I understood yet that's a Hblank trick.
<br/>
<br/>
Thanks.<br/>_________________<br/>Sorry for my poor english, but it would be worst for you to understand me if I speak in my native language, French ^^</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15877 - qw3rty - Mon Feb 02, 2004 11:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>RaBBi wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I don't want a french translation (if you can, thanks anyway ^^) but just a little explanation about them ^^
<br/>
Does "even" mean "2n" and "odd" mean "2n+1"?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Yup, that`s the meaning of "odd" &amp; "even" :D</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16069 - delbogun - Sat Feb 07, 2004 5:19 pm</h4>
    <div class="postbody"><span class="postbody">About transparency, does it work on 16-colors (4-bit) tiles and sprites? Because I have problem making it work correctly. Is this correct?:
<br/>
<br/>
REG_BLDCNT   = 0x0002 | 0x0004 | 0x0008 | 0x0010 | 0x0100 | 0x0040;
<br/>
REG_BLDALPHA = 8 + (8&lt;&lt;8);
<br/>
<br/>
I want BG0 to be transparent over BG1, BG2, BG3 and the sprite.
<br/>
BG0 is the top layer and you should see thru it.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
