<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How do I load RAW images? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > How do I load RAW images?</h2>
<div id="posts">
<div class="post">
    <h4>#27086 - WillyWonka - Sun Oct 03, 2004 12:05 am</h4>
    <div class="postbody"><span class="postbody">How do I load a raw file?  I've found what seems to be an excellent exporter, <a class="postlink" href="http://members.cox.net/jsensebe/gba/" target="_blank">Tile-Quant-Do</a> but it only saves the tilesets, palettes, and map files as raw data.
<br/>
<br/>
I'm using the make file from the <a class="postlink" href="http://www.devkit.tk/" target="_blank">example pcx loader</a> on this site and as far as I can tell I need to get "make" to include the raw files the same way as the pcx files.  My problem is I've never touched a "make" file before so I dunno what to do to get it to work.
<br/>
<br/>
Are there any tutorials on this that I'm missing?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27109 - WillyWonka - Sun Oct 03, 2004 8:53 pm</h4>
    <div class="postbody"><span class="postbody">Okay, I believe I have the raw files attached to the file.  How do I copy them into memory?
<br/>
<br/>
The information is being stored in 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">extern const u8 test_palette[];
<br/>
extern const u32 test_palette_size[];</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm trying to use memcpy, but it doesn't seem to be working.  I'm getting:
<br/>
<br/>
<br/>
c:/Projects/gba/bike/source/main.c: In function `main':
<br/>
c:/Projects/gba/bike/source/main.c(147): warning: implicit declaration of function `memcpy'
<br/>
<br/>
but I have the include line:
<br/>
#include &lt;stdlib.h&gt;
<br/>
<br/>
at the top.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27110 - sajiimori - Sun Oct 03, 2004 9:00 pm</h4>
    <div class="postbody"><span class="postbody">Well, there are lots of makefile tutorials out there, but make is just a utility for automating builds and avoiding redundant recompiles.  Anything you do with a makefile can be done by hand.
<br/>
<br/>
"Raw" doesn't actually mean a whole lot.  All data has a format.  Maybe somebody might say an image is in a "raw" format if it's represented as a sequence of 16 bit BGR colors that correspond to the color format that GBA modes 3 and 5 use.
<br/>
<br/>
In another sense, one format can be "more raw" than another if it includes less auxiliary information.  For instance, compared to an image format that includes width and height information in a header, a format that includes only pixel data might be considered relatively raw.
<br/>
<br/>
So really, there are 2 questions to answer:
<br/>
<br/>
1)  How do you include binary data in your ROM?  (See the FAQ.)
<br/>
2)  How do you use this binary data with GBA?  (Depends on the format and what you want to do with it.  The 16-bit image described above could be DMA'd straight to VRAM when using mode 3.)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27111 - sajiimori - Sun Oct 03, 2004 9:01 pm</h4>
    <div class="postbody"><span class="postbody">memcpy is in string.h.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27112 - WillyWonka - Sun Oct 03, 2004 9:12 pm</h4>
    <div class="postbody"><span class="postbody">Thanks!
<br/>
<br/>
Now I'm getting:
<br/>
<br/>
c:/Projects/gba/bike/source/main.c: In function `main':
<br/>
c:/Projects/gba/bike/source/main.c(147): warning: passing arg 3 of `memcpy' makes integer from pointer without a cast
<br/>
<br/>
I know I'm getting it on the 3rd argument on this line but I dunnoy how to fix it:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">memcpy( &amp;PaletteBuffer, &amp;test_palette, test_palette_size );</td> </tr></table><span class="postbody">
<br/>
<br/>
(test_palette and test_palette_size are still defined the same way as in the last message)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#27113 - DiscoStew - Sun Oct 03, 2004 10:13 pm</h4>
    <div class="postbody"><span class="postbody">The reason why you are getting that problem is because you are sending a pointer into that argument. This is taken from your 2nd post here...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">extern const u8 test_palette[]; 
<br/>
extern const u32 test_palette_size[];</td> </tr></table><span class="postbody">
<br/>
That second line is an array of however many elements you put into the original array. If test_palette_size only specifies the size of test_palette, then that shouldn't be an array, but just a simple variable;<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
