<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>max sprites != max frames...right? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > max sprites != max frames...right?</h2>
<div id="posts">
<div class="post">
    <h4>#19610 - CyberSlag5k - Thu Apr 22, 2004 9:35 pm</h4>
    <div class="postbody"><span class="postbody">I know you can only have 128 sprites in OAM, but you can have more than 128 frames total for sprite animation, right? Like right now I only have one sprite but it has 4 frames of animation. I can still create 127 more sprites if I wanted to, correct?<br/>_________________<br/><span style="font-style: italic">When you find yourself in the company of a halfling and an ill-tempered Dragon, remember, you do not have to outrun the Dragon... </span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19614 - alek - Thu Apr 22, 2004 9:47 pm</h4>
    <div class="postbody"><span class="postbody">Yes, I think the 128 sprite limit applies for how many sprites you can have on one scanline at the same time</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19618 - poslundc - Thu Apr 22, 2004 10:09 pm</h4>
    <div class="postbody"><span class="postbody">The rule is up to 128 sprites displayed on the screen in a single frame. What you do with those 128 sprites from frame to frame is up to you. The GBA has no innate concept of sprite frames.
<br/>
<br/>
(As was mentioned, the technical limit is 128 per scanline, but this is only if you want to get into unnecessarily complicated stuff.)
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19629 - zazery - Fri Apr 23, 2004 12:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>CyberSlag5k wrote:</b></span></td> </tr> <tr> <td class="quote">I know you can only have 128 sprites in OAM, but you can have more than 128 frames total for sprite animation, right? Like right now I only have one sprite but it has 4 frames of animation. I can still create 127 more sprites if I wanted to, correct?</td> </tr></table><span class="postbody">
<br/>
<br/>
If your using 4 OAM entries for your sprites you might want to consider updating just one entry for each frame of the animation. I would suggest using DMA to transfer it fast. What everyone else said is true too, I just wanted to point out that you can animate a sprite using one OAM entry. If you know this.. well then ignore my post.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19637 - CyberSlag5k - Fri Apr 23, 2004 1:16 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
If your using 4 OAM entries for your sprites you might want to consider updating just one entry for each frame of the animation. I would suggest using DMA to transfer it fast.
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
So instead of having those 4 frames loaded into OAM all the time (no matter which is currently activated), I just reload that OAM entry every time I switch frames using the DMA?<br/>_________________<br/><span style="font-style: italic">When you find yourself in the company of a halfling and an ill-tempered Dragon, remember, you do not have to outrun the Dragon... </span></span><span class="gensmall"><br/><br/>Last edited by CyberSlag5k on Fri Apr 23, 2004 1:45 am; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#19638 - poslundc - Fri Apr 23, 2004 1:41 am</h4>
    <div class="postbody"><span class="postbody">That is the simplest way to do it. That way you don't need to change an OAM entry's x and y coordinate, or almost any of its other settings. You just change it to point to the correct tile in VRAM for the current animation frame.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19640 - CyberSlag5k - Fri Apr 23, 2004 1:47 am</h4>
    <div class="postbody"><span class="postbody">[quiote]
<br/>
That is the simplest way to do it. That way you don't need to change an OAM entry's x and y coordinate, or almost any of its other settings. You just change it to point to the correct tile in VRAM for the current animation frame. 
<br/>
<br/>
[/quote]
<br/>
<br/>
Compelling. I'll give it a shot after I familiarize myself with the DMA.
<br/>
<br/>
Thanks.<br/>_________________<br/><span style="font-style: italic">When you find yourself in the company of a halfling and an ill-tempered Dragon, remember, you do not have to outrun the Dragon... </span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19645 - tepples - Fri Apr 23, 2004 2:56 am</h4>
    <div class="postbody"><span class="postbody">Remember that there are THREE memory areas involved in animating a sprite:<ul><li>VRAM, which contains sprite cel data, that is, the actual pictures that make up a sprite animation; </li><li>OAM, which contains coordinates, pointers into VRAM, and other information related to each sprite; and </li><li>EWRAM and ROM, used as a source of data copied into VRAM.</li></ul>Some poorly written tutorials confuse VRAM and OAM. (FAQ time?)
<br/>
<br/>
Sprite cel VRAM has 1,024 entries, each 8x8 pixels in size at 16 colors. There are 128 entries in OAM, each for one sprite, which limits the number of sprites on screen without horizontal blank trickery to 128.
<br/>
<br/>
The two main ways of animating a sprite are<ul><li>loading all cels beforehand and changing the sprite's pointer into VRAM each frame, or </li><li>associating one block of VRAM with each sprite and continuously overwriting that cel.</li></ul>Choose which to use by evaluating your design's size/speed tradeoff, especially if you're compressing sprite cels.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19647 - poslundc - Fri Apr 23, 2004 3:00 am</h4>
    <div class="postbody"><span class="postbody">I wouldn't bother with DMA until you get the basics of sprite animation working. DMA is a useful tool but it is in no way necessary to animate a sprite.
<br/>
<br/>
And by the way, if you want to quote posts I suggest using the quote button the upper-right-hand corner of the message you are quoting.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19779 - sgeos - Sun Apr 25, 2004 3:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Some poorly written tutorials confuse VRAM and OAM. (FAQ time?)</td> </tr></table><span class="postbody">
<br/>
<br/>
I vote "kill them".  I'll admit that my vote is biased- I'm looking to pick up some new undead minions.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22306 - Marill - Thu Jun 17, 2004 11:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The two main ways of animating a sprite are<ul><li>loading all cels beforehand and changing the sprite's pointer into VRAM each frame, or </li><li>associating one block of VRAM with each sprite and continuously overwriting that cel.</li></ul>Choose which to use by evaluating your design's size/speed tradeoff, especially if you're compressing sprite cels.</td> </tr></table><span class="postbody">
<br/>
<br/>
I am inclined to use the second method that is 
<br/>
<br/>
"associating one block of VRAM with each sprite and continuously overwriting that cel"
<br/>
<br/>
Because I have a few sprites with more than 6 frames of animation, so if I were to lead all of them into the VRAM, I'll run out of space fast.
<br/>
<br/>
For overwriting the block of VRAM, what is the best method to do it? Use DMA?
<br/>
<br/>
thanks in advance for any replies!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22308 - sgeos - Thu Jun 17, 2004 11:39 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Marill wrote:</b></span></td> </tr> <tr> <td class="quote">For overwriting the block of VRAM, what is the best method to do it? Use DMA?</td> </tr></table><span class="postbody">
<br/>
<br/>
Thats what I'd use.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
