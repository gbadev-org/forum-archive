<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to save more than 64K in SRAM of gba flash cart? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > How to save more than 64K in SRAM of gba flash cart?</h2>
<div id="posts">
<div class="post">
    <h4>#68737 - KeithE - Thu Jan 26, 2006 4:42 pm</h4>
    <div class="postbody"><span class="postbody">Many flash cartridges have more than 64K of SRAM, but all the instructions I've seen for writing to SRAM say to use addresses between 0x0E000000 and 0x0E00FFFF.
<br/>
<br/>
How do you access the rest of the SRAM?  Do you just write to the next address sequentially from 0x0E00FFFF until reaching the limit of the cartridge?  So, if the cartridge has 128K of SRAM, can you keep writing until address 0x0E01FFFE?
<br/>
<br/>
I'm specifically interested in how to do this for the EFA-LINKER and the X-ROM cartridges.  Is it different for each cartridge type?
<br/>
<br/>
I'm trying to use the GBA to log some data, so I'd like to be able to use all the SRAM that is available.
<br/>
<br/>
Thanks.
<br/>
<br/>
Keith</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68741 - keldon - Thu Jan 26, 2006 5:02 pm</h4>
    <div class="postbody"><span class="postbody">Check out "Bank Switching (devices bigger than 64K only)" in:
<br/>
<a href="http://nocash.emubase.de/gbatek.htm#backupflashrom" target="_blank">http://nocash.emubase.de/gbatek.htm#backupflashrom</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68747 - KeithE - Thu Jan 26, 2006 5:49 pm</h4>
    <div class="postbody"><span class="postbody">Thank you.  I think that makes sense to me.  This is how I interpret it:
<br/>
<br/>
1) write 0xAA to address 0x0E005555
<br/>
2) write 0x55 to address 0x0E002AAA
<br/>
3) write 0xB0 to address 0x0E005555
<br/>
4) write 0 or 1 to address 0x0E000000
<br/>
<br/>
Did I get it right?  It seems too simple.
<br/>
<br/>
After I have switched to bank 1, I'll be able to write to the second 64K of SRAM using addresses 0x0E000000 through 0x0E00FFFF?
<br/>
<br/>
I do know not to use the first or last byte of SRAM.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68754 - Dwedit - Thu Jan 26, 2006 6:16 pm</h4>
    <div class="postbody"><span class="postbody">None of the information in gbatek applies to bankswitching the SRAM pages on flash cartridges.  The method described in your post will just write bytes to sram 4 times.
<br/>
<br/>
It is specific to each flash cartridge.
<br/>
<br/>
Check the pogoshell source code, or somewhere else on this forum for the answer.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#68843 - chishm - Fri Jan 27, 2006 1:43 am</h4>
    <div class="postbody"><span class="postbody">Your other option is to save to it as though it is a 128kB flash save cartridge. This will work for flash carts that have hardware support for flash saves, but not for once that need the program to be patched.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
