<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>makefile xcode mac os - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > makefile xcode mac os</h2>
<div id="posts">
<div class="post">
    <h4>#162362 - genecyst - Mon Sep 01, 2008 8:46 am</h4>
    <div class="postbody"><span class="postbody">hi guys, i'm frankie, i read your forum since 1 year ago and i'm started now to develop my first gba game... 
<br/>
i'm going to ask you where i can find (and if it exist) a tutorial which explain how makefile works with mac os shell. i've tried to convert the explaination given in tonc guide but i've obtained nothing at all.
<br/>
sorry for my english and thanks a lot!
<br/>
frnkz
<br/>
<br/>
<br/>
ps. give me also an opinion about my first sprites... thanks!
<br/>
<br/>
<a class="postlink" href="http://farm4.static.flickr.com/3004/2595326620_4684e9e268.jpg?v=0" target="_blank">http://farm4.static.flickr.com/3004/2595326620_4684e9e268.jpg?v=0</a>
<br/>
<br/>
<a class="postlink" href="http://sp5.fotologs.net/photo/21/58/98/genecyst/1215438824032_f.jpg" target="_blank">http://sp5.fotologs.net/photo/21/58/98/genecyst/1215438824032_f.jpg</a>
<br/>
<br/>
<a class="postlink" href="http://sp5.fotologs.net/photo/21/58/98/genecyst/1211717948_f.jpg" target="_blank">http://sp5.fotologs.net/photo/21/58/98/genecyst/1211717948_f.jpg</a>
<br/>
last background is taken from cave's IBARA</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#163128 - genecyst - Tue Sep 23, 2008 1:27 pm</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
can someone tell me a possible reason why when i try to use the functions defined in libGba (devkitpro r21), xcode tell me the building fails everytime whitout a reason? 
<br/>
if i don't use them i obtain my .gba rom perfectly working... 
<br/>
i think it should be a problem connected to the makefile but if someone got some ideas please tell me...
<br/>
<br/>
i can't understand...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#163212 - gmiller - Thu Sep 25, 2008 12:54 pm</h4>
    <div class="postbody"><span class="postbody">If it errors when you use code from libGba then your link step in your make file may not be using the library.  There should be a -lgba somewhere in the link command (assuming the name of the library is "libgba.a" and not "libGba.a" as your post implies.
<br/>
<br/>
Of course it could be that you have the "-lgba" in the link command but the library path is not allowing the linker to find the library.  The library path can be appended to with the "-L path" parameter.
<br/>
<br/>
Without the text of the error this is all SWAG (Scientific Wild Ass Guess) so I could be totally off ...
<br/>
<br/>
BTW: if you are using a make file you should be able to go to the command line and do this by hand.  I have an apple laptop (intel based) and I use it for checking the port of my Linux/Windows/OSx code.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#163213 - genecyst - Thu Sep 25, 2008 3:03 pm</h4>
    <div class="postbody"><span class="postbody">this is the makefile i use:
<br/>
it's a template that i've found around the net... 
<br/>
<br/>
<br/>
OBJECTS = $(SOURCES:.c=.o)
<br/>
<br/>
# --- Main build target
<br/>
build: $(ROM_NAME)
<br/>
<br/>
# --- Build .elf file into .gba ROM file
<br/>
$(ROM_NAME) : $(ELF_NAME)
<br/>
	$(OBJCOPY) $(OBJCOPYFLAGS) $(ELF_NAME) $(ROM_NAME)
<br/>
	$(GBAFIX) $(ROM_NAME)
<br/>
<br/>
# --- Build .o files into .elf file
<br/>
$(ELF_NAME) : $(OBJECTS)
<br/>
	$(LD) $(OBJECTS) $(LDFLAGS) -o $@
<br/>
<br/>
# -- Build .c files into .o files
<br/>
$(OBJECTS) : %.o : %.c
<br/>
	$(CC) $(CFLAGS) -c $&lt; -o $@
<br/>
<br/>
clean:
<br/>
	@rm -rfv $(ROM_NAME)
<br/>
	@rm -rfv $(ELF_NAME)
<br/>
	@rm -rfv *.o
<br/>
<br/>
<br/>
i understand almost all of what this code do... but there isn't any path to devkitpro/ARM so i don't know how it can usually compile well... 
<br/>
i feel a little bit lost... 
<br/>
thanks...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#163232 - gmiller - Fri Sep 26, 2008 3:04 pm</h4>
    <div class="postbody"><span class="postbody">well the $(CC) in the makefile need to point to the compiler you are using but I would set up a symbol for it.  The standard command line syntax for symbol definition is:
<br/>
<br/>
NEW_SYMBOL=some_really_locng_text
<br/>
export NEW_SYMBOL
<br/>
<br/>
<br/>
at this point this symbol is defined for the terminal session and any sub processes.
<br/>
<br/>
Of course the $(LD) needs to point to the linker and the other symbols need to map appropriately.  
<br/>
<br/>
To see the definition of a symbol use the following:
<br/>
<br/>
echo $NEW_SYMBOL
<br/>
<br/>
<br/>
and in the make file use $(NEW_SYMBOL)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#163428 - genecyst - Thu Oct 02, 2008 7:40 am</h4>
    <div class="postbody"><span class="postbody">thanks for the answer, i hope to find some free time this weekend, to try it out. 
<br/>
thanks again!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
