<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Help with error during compiling - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Help with error during compiling</h2>
<div id="posts">
<div class="post">
    <h4>#149932 - Cave Johnson - Sun Jan 27, 2008 4:38 pm</h4>
    <div class="postbody"><span class="postbody">I've been working on this same simple code of a background and a fish sprite that i could control, for a week or two now, and im in the compiling stage. I have narrowed it down to 3 errors in the main.cpp, but i cannot figure out for the life of me how to fix it. Could anyone help me? The errors i get are:
<br/>
<br/>
c:/Taylor/dsprojects/source/main.cpp: In function 'int main()':
<br/>
c:/Taylor/dsprojects/source/main.cpp:187: error: expected type-specifier before 'fish'
<br/>
c:/Taylor/dsprojects/source/main.cpp:187: error: cannot convert 'int*' to 'fish*' in initialization
<br/>
c:/Taylor/dsprojects/source/main.cpp:187: error: expected ',' or ';' before 'fish'
<br/>
<br/>
Here is the int main() and highlighted the problem area:
<br/>
<br/>
int main() {
<br/>
    powerON(POWER_ALL_2D);
<br/>
<br/>
    irqInit();
<br/>
    irqSet (IRQ_VBLANK, 0);
<br/>
<br/>
    lcdMainOnBottom();
<br/>
    initVideo();
<br/>
    initBackgrounds();
<br/>
<br/>
    dopefishInfo spriteInfo[SPRITE_COUNT];
<br/>
    tOAM *oam = new tOAM();
<br/>
    initOAM(oam);
<br/>
    initSprites(oam, spriteInfo);
<br/>
    //colors_slot1 is the background picture
<br/>
    displaycolors_slot1();
<br/>
    //dopefish is the fish sprite im using
<br/>
    static const int DOPEFISH_OAM_ID = 0;
<br/>
    //fish is the class 
<br/>
    SpriteEntry * fishEntry = &amp;oam-&gt;spriteBuffer[DOPEFISH_OAM_ID];
<br/>
    SpriteRotation * fishRotation = &amp;oam-&gt;matrixBuffer[DOPEFISH_OAM_ID];
<br/>
    fish * fish  = new fish(&amp;spriteInfo[DOPEFISH_OAM_ID]);   //&lt;-Heres the error line!!!!!!!!!!!!!!!!
<br/>
<br/>
    for (int i = 0; i &lt; 10; i++) {
<br/>
        fish-&gt;accelerate();
<br/>
    }
<br/>
<br/>
    for (;;) {
<br/>
<br/>
        handleInput(fish);
<br/>
        fish-&gt;movefish();
<br/>
<br/>
        MathVector2D&lt;float&gt; position = fish-&gt;getPosition();
<br/>
        fishEntry-&gt;posX = (int)position.x;
<br/>
        fishEntry-&gt;posY = (int)position.y;
<br/>
        rotateSprite(fishRotation, fish-&gt;getAngleDeg512());
<br/>
<br/>
        swiWaitForVBlank();
<br/>
        updateOAM(oam);
<br/>
        }
<br/>
<br/>
<br/>
    return 0;
<br/>
}
<br/>
<br/>
If you need to see any more of my files (sprite.cpp, fish.cpp, fish.h, sprite.h, or more of main.cpp) id be glad to post them, because like i said, i dont know what you need to see so that you can help me. Thanks for the help.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149934 - nipil - Sun Jan 27, 2008 5:09 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cave Johnson wrote:</b></span></td> </tr> <tr> <td class="quote">fish * fish  = new fish(...);</td> </tr></table><span class="postbody">
<br/>
I guess that "fish" is a class ? or at least a valid type. The compiler cannot declare a variable with the exact same name as a type. A rule of thumb with non-standard types (class, structs, etc) is to have the first letter be uppercase. So my advice would be to try something like : <span style="font-style: italic">Fish * myfish</span> ... and rename all the "fish" afterwards to "myfish". In case you're not clear about data types and variable declaration, i would advice you to read some basic tutorials about C/C++ programming. Without a good insight on how types and variables work, you'll hit your head into walls, again, and again.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149943 - Cave Johnson - Sun Jan 27, 2008 8:10 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the help nipil, that was my problem. Except when it compiled i got some MAJOR graphical glitches that ill need to iron out. Thanks again.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
