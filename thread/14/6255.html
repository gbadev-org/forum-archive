<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>collition with the background - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > collition with the background</h2>
<div id="posts">
<div class="post">
    <h4>#47511 - ghost Leinad - Sun Jul 10, 2005 12:00 am</h4>
    <div class="postbody"><span class="postbody">well...i was thinking about make this on my own...but im also like to ask you guys about the collition with the background...
<br/>
<br/>
i will look now for some algorithms to make this posibble, but can you help me to find this stuff???
<br/>
<br/>
im making a game that i saw in a cel phone and im just missing the collitions, at this point my characther never dies :( 
<br/>
<br/>
sorry about all the problems, but averytime that i think i got it, new things come out :S...but well you're very kind...thanks in advance<br/>_________________<br/>All human wisdom is summed up in these two words, - 'Wait and hope"
<br/>
****************************************
<br/>
My site <a href="http://www.myth-world.net" target="_blank">www.myth-world.net</a> and <a href="http://www.bmrpg.com" target="_blank">www.bmrpg.com</a> :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47515 - tepples - Sun Jul 10, 2005 3:30 am</h4>
    <div class="postbody"><span class="postbody">Step 1: Your sprite occupies a box. Which tiles does this box overlap?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47560 - ghost Leinad - Sun Jul 10, 2005 10:36 pm</h4>
    <div class="postbody"><span class="postbody">:S
<br/>
:S
<br/>
:S
<br/>
:S
<br/>
:S
<br/>
:S
<br/>
:S
<br/>
<br/>
well, i do not understand this very well, so, tell me if im wrong...
<br/>
<br/>
you're saying that my sprite is a box (but this box can move up and down). i know the numbers of the tiles this sprite is in. oh god i really dont understand you :S jejeje
<br/>
<br/>
well let me explain a little more about the game im (trying) to make
<br/>
<br/>
im using 256*256 text maps...and this maps are constantly changing, in fact i change the last two columns every 16 frames...because of this i need to check constantly if my sprite collides with the background...
<br/>
<br/>
in few words...i need the step two!!!!...(and explain the one if you can, please)<br/>_________________<br/>All human wisdom is summed up in these two words, - 'Wait and hope"
<br/>
****************************************
<br/>
My site <a href="http://www.myth-world.net" target="_blank">www.myth-world.net</a> and <a href="http://www.bmrpg.com" target="_blank">www.bmrpg.com</a> :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47563 - Miked0801 - Sun Jul 10, 2005 10:46 pm</h4>
    <div class="postbody"><span class="postbody">Your Hero (sprite) occupies a square area right?  Keep track of this area and every tic see which BG box areas it collides with.  There is no hardware acceleration for this - you have to do it yourself.  Aligned Box/Box collisions like we're talking about here are very fast to compute though :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47575 - yuriks - Sun Jul 10, 2005 11:59 pm</h4>
    <div class="postbody"><span class="postbody">I too want to know this, but, how do know what tiles my player is overlapping? i would have 2000 wall objects to check (80x25 board) wouldn't it be slow?<br/>_________________<br/>---yuriks---</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47577 - sajiimori - Mon Jul 11, 2005 12:07 am</h4>
    <div class="postbody"><span class="postbody">Divide a pixel coordinate by the size of a tile to get the tile coordinate.  Use that idea to find the tiles that a rectangle covers, given the pixel coordinates of its corners.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47579 - yuriks - Mon Jul 11, 2005 12:17 am</h4>
    <div class="postbody"><span class="postbody">Thanks, i never thought of doing a grid based check, i always tried to compare the bounding box of the player with the bounding box of each tile.<br/>_________________<br/>---yuriks---</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47666 - ghost Leinad - Tue Jul 12, 2005 2:54 am</h4>
    <div class="postbody"><span class="postbody">ok, yesterday i tried to make this collision detection algorithm on my own...and guess what...well, i did it!!!
<br/>
<br/>
but i think it is a pretty lame algorithm, but is seem to work fine...
<br/>
<br/>
well first i made a flag called collide with a value of 0 if there's no collision and 1 if there's a collision
<br/>
<br/>
then i made a case function first for the position on the screen (x axis), and then for the sprite position (on the y-axis) and then according to this get the number of the tile this sprite is occuping...
<br/>
<br/>
the i just compare if this numbre if tile is diferent of 0, 0 in my tile map is the only tile you can move...so is the tile im comparing is aqual than a value diferent from 0 it is a collition....
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
well, now works with square sprites and square tiles...
<br/>
but what about non square tiles...i dont know, circles or triangles...how do i ckeck them????
<br/>
i habe a briefly idea on non-square sprites so in this moment i just need the algorithm for non-square tiles<br/>_________________<br/>All human wisdom is summed up in these two words, - 'Wait and hope"
<br/>
****************************************
<br/>
My site <a href="http://www.myth-world.net" target="_blank">www.myth-world.net</a> and <a href="http://www.bmrpg.com" target="_blank">www.bmrpg.com</a> :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47668 - ghost Leinad - Tue Jul 12, 2005 4:08 am</h4>
    <div class="postbody"><span class="postbody">and before i forgot...let me tell you that my sprite is a bat, but this bat is an animation and uses 3 different frames...well the problem is that the frames aren not from the same size...(when the bat flutters up occupies more space than when the bat flutters down)
<br/>
<br/>
look, a drawing 
<br/>
<br/>
bat
<br/>
            {    
<br/>
()         ()       ()
<br/>
                      }
<br/>
fr1        fr2     fr3
<br/>
<br/>
what do you recommend me should i just take in count the body of my bat, or the wings too???<br/>_________________<br/>All human wisdom is summed up in these two words, - 'Wait and hope"
<br/>
****************************************
<br/>
My site <a href="http://www.myth-world.net" target="_blank">www.myth-world.net</a> and <a href="http://www.bmrpg.com" target="_blank">www.bmrpg.com</a> :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47670 - LOst? - Tue Jul 12, 2005 4:57 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ghost Leinad wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
what do you recommend me should i just take in count the body of my bat, or the wings too???</td> </tr></table><span class="postbody">
<br/>
<br/>
Use the middle of the body, have some global size of all frames... so that the wings may not collide when they are spread. If you really want every frame to collide depending on the size, you have to save size information with the frames data.<br/>_________________<br/><span style="font-style: italic">Exceptions are fun</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47733 - Miked0801 - Tue Jul 12, 2005 10:06 pm</h4>
    <div class="postbody"><span class="postbody">Circle collides are very fast as well - get the square of the distance from the centers and compare against the square of their combined radiuses.
<br/>
<br/>
Polygonal collision handling - well don't go there for a while.  Get these down first then come back to thsi as it's much more complex.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#47753 - ghost Leinad - Wed Jul 13, 2005 2:23 am</h4>
    <div class="postbody"><span class="postbody">well you can download a beta version right from here
<br/>
<br/>
<a class="postlink" href="http://www.angelfire.com/ab8/leinadcharm/cavebat.GBA" target="_blank">http://www.angelfire.com/ab8/leinadcharm/cavebat.GBA</a>
<br/>
<br/>
tell me what do you think???<br/>_________________<br/>All human wisdom is summed up in these two words, - 'Wait and hope"
<br/>
****************************************
<br/>
My site <a href="http://www.myth-world.net" target="_blank">www.myth-world.net</a> and <a href="http://www.bmrpg.com" target="_blank">www.bmrpg.com</a> :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#50903 - biubid_boy - Sun Aug 14, 2005 12:24 pm</h4>
    <div class="postbody"><span class="postbody">Nice! First I thought you had to press the A button repeditively. Hard work. LOL. Good job.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
