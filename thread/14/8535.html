<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Linux xcomms 1.22 seg fault - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Linux xcomms 1.22 seg fault</h2>
<div id="posts">
<div class="post">
    <h4>#71334 - shadowofdarkness - Sat Feb 11, 2006 10:42 pm</h4>
    <div class="postbody"><span class="postbody">I just tried the new version of the xcomms program and have a new seg fault problem
<br/>
<br/>
Under 1.21 I can run "xcomms_static SendSave_mb.gba" and everything works perfect with the send button seg faulting it but that is already well know
<br/>
<br/>
Under 1.22 the send button works perfect but when I start sending the program (either opening it with the button or on the command line) it seg faults. the gba does recieve a little data as the screen goes black.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72011 - Honkey Kong - Thu Feb 16, 2006 12:10 am</h4>
    <div class="postbody"><span class="postbody">Could you provide a little bit of information about the system you're running it on, like the Distribution, Kernel version, etc? I'm pretty sure that could be helpful in finding a way to reproduce the error, and narrowing it down to either a problem with your particular setup, or XComms itself.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72049 - wintermute - Thu Feb 16, 2006 4:00 am</h4>
    <div class="postbody"><span class="postbody">Would also help if you could determine what address is causing the segfault. Run the app through gdb &amp; see what address it's trying to access.
<br/>
<br/>
It sounds like the GBA has booted at this point since the screen has gone black. This would indicate that the multi boot has completed successfully.
<br/>
<br/>
I don't actually understand why it would crash since no code in that area has changed. All I've really done is stop using a particular fltk widget library for the file selector.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72145 - shadowofdarkness - Thu Feb 16, 2006 5:55 pm</h4>
    <div class="postbody"><span class="postbody">For my system I am running "Linux From Scratch" setup in sept 2004 with kernel 2.6.15.3
<br/>
<br/>
I will try running it in gdb but first I have to download and install + learn the basics of how to use it</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72157 - shadowofdarkness - Thu Feb 16, 2006 7:38 pm</h4>
    <div class="postbody"><span class="postbody">I have tried gdb but since I don't program I don't understand it and just got the basics of running from the docs
<br/>
<br/>
First there is a little difference when running in gdb as it leave the gui open with some output whereas when running xcomms straight it closes
<br/>
<br/>
Well when run in gdb and it leaves the gui open it gets to the point of "Final Confirmation: Success" and the nothing
<br/>
<br/>
the output of gdb is
<br/>
<br/>
GNU gdb 6.4
<br/>
Copyright 2005 Free Software Foundation, Inc.
<br/>
GDB is free software, covered by the GNU General Public License, and you are
<br/>
welcome to change it and/or distribute copies of it under certain conditions.
<br/>
Type "show copying" to see the conditions.
<br/>
There is absolutely no warranty for GDB.  Type "show warranty" for details.
<br/>
This GDB was configured as "i686-pc-linux-gnu"...Using host libthread_db library "/lib/libthread_db.so.1".
<br/>
<br/>
Setting up the environment for debugging gdb.
<br/>
Function "internal_error" not defined.
<br/>
Function "info_command" not defined.
<br/>
.gdbinit:8: Error in sourced command file:
<br/>
No breakpoint number 0.
<br/>
(gdb) run
<br/>
Starting program: /usr/bin/xcomms 
<br/>
[Thread debugging using libthread_db enabled]
<br/>
[New Thread -1211572112 (LWP 12216)]
<br/>
<br/>
Program received signal SIGSEGV, Segmentation fault.
<br/>
[Switching to Thread -1211572112 (LWP 12216)]
<br/>
0x0804cbbc in _ReadSOState ()</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72179 - wintermute - Thu Feb 16, 2006 10:34 pm</h4>
    <div class="postbody"><span class="postbody">Interesting. Looks like threads may not inherit IO permissions on your distro.
<br/>
<br/>
Give this one a try - <a href="http://www.devkitpro.org/xcomms_linux.tar.bz2" target="_blank">http://www.devkitpro.org/xcomms_linux.tar.bz2</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72228 - yuriks - Fri Feb 17, 2006 2:41 am</h4>
    <div class="postbody"><span class="postbody">I have the same problem, Slackware 10.2, Kernel 2.6.15.
<br/>
<br/>
The multiboot completes and then segfaults (GBA runs fine)
<br/>
Using xcomms (not _static)
<br/>
<br/>
Will try you new version and see if it fixes.<br/>_________________<br/>---yuriks---</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72253 - shadowofdarkness - Fri Feb 17, 2006 6:13 am</h4>
    <div class="postbody"><span class="postbody">The new version still seg faults here is the new gdb output
<br/>
<br/>
GNU gdb 6.4
<br/>
Copyright 2005 Free Software Foundation, Inc.
<br/>
GDB is free software, covered by the GNU General Public License, and you are
<br/>
welcome to change it and/or distribute copies of it under certain conditions.
<br/>
Type "show copying" to see the conditions.
<br/>
There is absolutely no warranty for GDB.  Type "show warranty" for details.
<br/>
This GDB was configured as "i686-pc-linux-gnu"...(no debugging symbols found)
<br/>
Using host libthread_db library "/lib/libthread_db.so.1".
<br/>
<br/>
Setting up the environment for debugging gdb.
<br/>
Function "internal_error" not defined.
<br/>
Function "info_command" not defined.
<br/>
.gdbinit:8: Error in sourced command file:
<br/>
No breakpoint number 0.
<br/>
(gdb) run
<br/>
Starting program: /home/darkshadow/xcomms 
<br/>
(no debugging symbols found)
<br/>
(no debugging symbols found)
<br/>
(no debugging symbols found)
<br/>
(no debugging symbols found)
<br/>
(no debugging symbols found)
<br/>
[Thread debugging using libthread_db enabled]
<br/>
[New Thread -1212104592 (LWP 12357)]
<br/>
<br/>
Program received signal SIGSEGV, Segmentation fault.
<br/>
[Switching to Thread -1212104592 (LWP 12357)]
<br/>
0x0804cbbc in ?? ()</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72264 - wintermute - Fri Feb 17, 2006 7:02 am</h4>
    <div class="postbody"><span class="postbody">what's the output of 'info registers' ?<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72267 - shadowofdarkness - Fri Feb 17, 2006 7:37 am</h4>
    <div class="postbody"><span class="postbody">I ran info registers in gdb after running the program and got this output
<br/>
<br/>
eax            0x1      1
<br/>
ecx            0x4      4
<br/>
edx            0x377    887
<br/>
ebx            0x0      0
<br/>
esp            0xbfc8a788       0xbfc8a788
<br/>
ebp            0xbfc8a7c8       0xbfc8a7c8
<br/>
esi            0x78b58c40       2025163840
<br/>
edi            0x4415af1d       1142271773
<br/>
eip            0x804cbbc        0x804cbbc &lt;XMapRaised@plt+532&gt;
<br/>
eflags         0x210206 2163206
<br/>
cs             0x73     115
<br/>
ss             0x7b     123
<br/>
ds             0x7b     123
<br/>
es             0x7b     123
<br/>
fs             0x0      0
<br/>
gs             0x33     51</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72270 - wintermute - Fri Feb 17, 2006 8:08 am</h4>
    <div class="postbody"><span class="postbody">ok, this should work now, hopefully
<br/>
<br/>
<a href="http://www.devkitpro.org/xcomms_linux.tar.bz2" target="_blank">http://www.devkitpro.org/xcomms_linux.tar.bz2</a>
<br/>
<br/>
it should be version 1.24 dated Feb 17.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72272 - shadowofdarkness - Fri Feb 17, 2006 8:18 am</h4>
    <div class="postbody"><span class="postbody">That worked perfect thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#72274 - wintermute - Fri Feb 17, 2006 8:26 am</h4>
    <div class="postbody"><span class="postbody">yay :D<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
