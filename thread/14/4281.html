<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Linking to a library - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Linking to a library</h2>
<div id="posts">
<div class="post">
    <h4>#28087 - mr_square - Tue Oct 26, 2004 9:12 pm</h4>
    <div class="postbody"><span class="postbody">I'm using devkitadvance, and want the compiler to link to a library in a subfolder - how do I do this?
<br/>
<br/>
at the moment I have a make.bat file with the following in it:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
path=C:\devkitadv\bin
<br/>
<br/>
g++ -o main.elf city.o citybackdrop.o defines.cpp main.cpp testroom.cpp room.cpp ball.cpp collisionDetector.cpp DMA.cpp fallState.cpp drawState.cpp background.cpp idleState.cpp jumpState.cpp lookUpState.cpp swipeState.cpp runLeftState.cpp trig.cpp kneelState.cpp runRightState.cpp playerState.cpp -lm
<br/>
<br/>
objcopy -O binary main.elf main.bin
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28090 - isildur - Tue Oct 26, 2004 9:29 pm</h4>
    <div class="postbody"><span class="postbody">Here is a good link with all the gnu compiler's options and parameters
<br/>
<br/>
<a class="postlink" href="http://gcc.gnu.org/onlinedocs/gcc-2.95.3/gcc_2.html#SEC2" target="_blank">http://gcc.gnu.org/onlinedocs/gcc-2.95.3/gcc_2.html#SEC2</a>
<br/>
<br/>
<br/>
Check under the options for linking.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28096 - mr_square - Tue Oct 26, 2004 9:50 pm</h4>
    <div class="postbody"><span class="postbody">thanks. I'm now doing:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
path=C:\devkitadv\bin
<br/>
<br/>
g++ -o -LLibAAS -ILibAAS -lAAS main.elf city.o citybackdrop.o defines.cpp main.cpp testroom.cpp room.cpp ball.cpp collisionDetector.cpp DMA.cpp fallState.cpp drawState.cpp background.cpp idleState.cpp jumpState.cpp lookUpState.cpp swipeState.cpp runLeftState.cpp trig.cpp kneelState.cpp runRightState.cpp playerState.cpp -lm 
<br/>
<br/>
objcopy -O binary main.elf main.bin
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
But it now complains that main.elf doesn't exist :( Before it was compiling all the files into main.elf, and then converting that to a .bin, but now it seems to think its part of the source code...
<br/>
<br/>
(I'm trying to link to the AAS.a library in the LibAAS subfolder)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28105 - sajiimori - Tue Oct 26, 2004 10:46 pm</h4>
    <div class="postbody"><span class="postbody">Put the output file name right after -o.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28127 - tepples - Wed Oct 27, 2004 2:00 am</h4>
    <div class="postbody"><span class="postbody">Think of some of the dash options (such as -o) as like prepositions in English. The object (in this case a filename) must immediately follow the preposition.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
