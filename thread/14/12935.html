<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Makefiles? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Makefiles?</h2>
<div id="posts">
<div class="post">
    <h4>#124725 - beamer30 - Sun Apr 08, 2007 12:16 am</h4>
    <div class="postbody"><span class="postbody">hi i've been going through a number of tuts for awhile now and can't seen to find anything on how to make a makefile.
<br/>
<br/>
if someone can teach me or now a tut that teaches it please post here.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124726 - keldon - Sun Apr 08, 2007 12:21 am</h4>
    <div class="postbody"><span class="postbody">google for makefile tutorial</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124728 - beamer30 - Sun Apr 08, 2007 12:25 am</h4>
    <div class="postbody"><span class="postbody">i have, i got no luck
<br/>
<br/>
edit: wait i think i might have found something
<br/>
<br/>
edit2: it was a very confusing tut that i couldn't understand(i think it was outdated too)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124730 - gmiller - Sun Apr 08, 2007 1:11 am</h4>
    <div class="postbody"><span class="postbody">The manual for 'make' <a href="http://www.gnu.org/software/make/manual/make.html" target="_blank">http://www.gnu.org/software/make/manual/make.html</a> does a good job  of introducing the utility and how it works.  From there you need to understand what is needed to build the executable you desire (source files, header files, object files, library files ....).  Makefile syntax can be simple or complex based on the problem you are trying to solve.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124731 - keldon - Sun Apr 08, 2007 1:12 am</h4>
    <div class="postbody"><span class="postbody">you can look at more than one link. i can tell you that the second link in the google search of 'makefile tutorial' (at the present time) yields a good result</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124738 - beamer30 - Sun Apr 08, 2007 2:38 am</h4>
    <div class="postbody"><span class="postbody">of course i'm always looking to read more tuts(knowlage is power) so if anyone has a good link give it to me.
<br/>
<br/>
edit: let me clarify this a little though, i want to learn how to make makefiles for the nds and gba not just makefiles in general, and would be very greatful if someone has a tut as i can not find one thank you.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124739 - Sausage Boy - Sun Apr 08, 2007 3:40 am</h4>
    <div class="postbody"><span class="postbody">Makefiles are just a way to make your computer run certain commands. In order to create a makefile for GBA/NDS, you'll need to know both which commands are necessary, and how to make the makefile run those commands. You can't just learn to make GBA/NDS makefiles, you need to learn how makefiles work, and how compiling for GBA/NDS works.
<br/>
<br/>
Or, you can use the makefile in the arm9 template included with the examples in devkitARM. That way, you can focus more on actually programming. When you have programmed for a while, you'll start to understand how your code gets turned into an executable file. Understanding makefiles will be a lot easier when you know that.<br/>_________________<br/>"no offense, but this is the gayest game ever"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124740 - beamer30 - Sun Apr 08, 2007 3:46 am</h4>
    <div class="postbody"><span class="postbody">thanks i think i'll just use that one but what are the limitations to using this makefile instead of coding my own</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124747 - wintermute - Sun Apr 08, 2007 4:41 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>beamer30 wrote:</b></span></td> </tr> <tr> <td class="quote">thanks i think i'll just use that one but what are the limitations to using this makefile instead of coding my own</td> </tr></table><span class="postbody">
<br/>
<br/>
Personally I'd phrase that question as "What are the limitations of coding my own instead of using this makefile?" but then I wrote the madness that is the devkitPro build system :)
<br/>
<br/>
The makefile I provide has been designed to automate as much as possible and avoid the end user having to worry about make too much. This results in two main issues that I felt were tolerable.
<br/>
<br/>
1) All source files in the defined source directories will be compiled and linked. This means that files you're no longer using must be removed or renamed. It also means that usng "#include "blah.c" for graphics breaks quite horrendously which, to my mind, is an extremely beneficial side effect.
<br/>
<br/>
2) All object files must have a unique name.
<br/>
<br/>
The makefile will automatically use g++ to link C++ code and generate dependencies on the fly.
<br/>
<br/>
The primary source of information for me when I built this system was <a href="http://make.paulandlesley.org/" target="_blank">http://make.paulandlesley.org/</a> which may help explain the makefiles in more detail.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124748 - beamer30 - Sun Apr 08, 2007 4:47 am</h4>
    <div class="postbody"><span class="postbody">ok so its probably the best makefile is what you mean, but i have a question then when yousinf=g that makefile i always get this error
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
C:\devkitPro\Games\framebuffer_demo1&gt;make
<br/>
arm-eabi-g++ -g -Wall -O2 -mcpu=arm7tdmi -mtune=arm7tdmi -fomit-frame-pointer -f
<br/>
fast-math -mthumb-interwork -I/c/devkitPro/libnds/include -DARM7 -c arm7_main.cp
<br/>
p -oarm7_main.o
<br/>
make: arm-eabi-g++: Command not found
<br/>
make: *** [arm7_main.o] Error 127
<br/>
<br/>
C:\devkitPro\Games\framebuffer_demo1&gt;
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
how do i fix</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124751 - tepples - Sun Apr 08, 2007 5:04 am</h4>
    <div class="postbody"><span class="postbody">(Removed misinformation stemming from a misunderstanding of the template, and replaced it with the following, which reflects my new understanding.)
<br/>
<br/>
You should have a file "base_rules" somewhere on your hard drive. It might be in a folder whose name is like "C:\devkitPro\devkitARM". The DEVKITARM environment variable should point to this folder, but using MSYS naming convention. For example:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">DEVKITARM=/c/devkitPro/devkitARM</td> </tr></table><span class="postbody"><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Sun Apr 08, 2007 6:03 pm; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#124756 - wintermute - Sun Apr 08, 2007 6:23 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">You should have a file arm-eabi-g++.exe somewhere on your hard drive, such as in the folder "C:\devkitPro\devkitARM\bin". Is this folder in your PATH?</td> </tr></table><span class="postbody">
<br/>
<br/>
Please refrain from misinforming people.
<br/>
<br/>
This error is generally caused by following the manual installation instructions improperly. It is <span style="font-weight: bold">not</span> recommended that devkitARM\bin be in the PATH.
<br/>
<br/>
I usually recommend that people use the installer on windows.
<br/>
<br/>
You have either not defined the environment variables or defined them as windows paths.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
DEVKITPRO = /c/devkitpro
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">not</span>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
DEVKITPRO = c:\devkitpro
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
and similarly for DEVKITARM
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
DEVKITARM=/c/devkitPro/devkitARM
<br/>
</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124763 - keldon - Sun Apr 08, 2007 8:49 am</h4>
    <div class="postbody"><span class="postbody">i gave you some information. second link in the google search. can you follow some damn instructions
<br/>
<br/>
<a href="http://www.eng.hawaii.edu/Tutor/Make/" target="_blank">http://www.eng.hawaii.edu/Tutor/Make/</a>
<br/>
<br/>
here, read that; then ask questions after FFS. A makefile is a makefile whether it is gameboy, dos, or for an alien spaceship.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124775 - keldon - Sun Apr 08, 2007 3:19 pm</h4>
    <div class="postbody"><span class="postbody">Something about that output looks like command.com and not MinGW32!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#124785 - wintermute - Sun Apr 08, 2007 5:12 pm</h4>
    <div class="postbody"><span class="postbody">Well MinGW32 is a compiler, not a shell. I know what the title bar says but it's somewhat misleading.
<br/>
<br/>
It's perfectly possible to run msys make from a command.com/cmd.exe shell and have everything work properly. This even works with cygbloat.
<br/>
<br/>
The solution I outline above is always the one that fixes this.<br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
