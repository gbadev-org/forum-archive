<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>sin() cos() Look up table - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > sin() cos() Look up table</h2>
<div id="posts">
<div class="post">
    <h4>#6815 - hnager - Tue Jun 03, 2003 2:56 am</h4>
    <div class="postbody"><span class="postbody">What do most find as the best approach to sin and cos? I'm working on a mini tank game where left and right rotate the tank and up and down move the tank...so I need a lookup table of sorts to calculate the x and y position - I have one now (which takes forever to build). Curious to see if anybody has any other techniques?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6816 - tepples - Tue Jun 03, 2003 3:00 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hnager wrote:</b></span></td> </tr> <tr> <td class="quote">so I need a lookup table of sorts to calculate the x and y position - I have one now (which takes forever to build).</td> </tr></table><span class="postbody">
<br/>
If you build a 256-entry cosine table on the PC, write it as a .c file, and compile it into your project, it won't take forever to build.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6817 - hnager - Tue Jun 03, 2003 3:10 am</h4>
    <div class="postbody"><span class="postbody">good point - the most obvious/best solution...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7057 - philip - Sat Jun 07, 2003 1:08 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, that's what I do in my game, but, as has been said so many times before, you should use fixed point maths where ever possible. I multiply all the values by 4096 (bitshift left 12) and write them out as integers to a file. This then forms the lookup array. Once you've used the lookup values in your calculations, bitshift back again to remove the multiplication of the lookup array.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7141 - hnager - Tue Jun 10, 2003 1:47 pm</h4>
    <div class="postbody"><span class="postbody">Thanks - I was reading about that last night...how large of a lookup are you creating?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7150 - tepples - Tue Jun 10, 2003 5:48 pm</h4>
    <div class="postbody"><span class="postbody">Because it needs precision for small values of theta, <span style="font-style: italic">Tetanus On Drugs</span> uses a lookup table of 1024 entries for one quadrant.  I could probably reduce this to 64 and get the same accuracy by using linear interpolation between entries; it's just a space-time tradeoff.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7200 - hnager - Thu Jun 12, 2003 3:00 am</h4>
    <div class="postbody"><span class="postbody">Does that chew up a lot of available memory? It doesn;t seem to be an issue as the game runs well and isn't 'simple'. 
<br/>
<br/>
On a similar note - if I had a game which needed more than the alotted number of sprites and/or maps/tiles where are those stored and accessed? I haven't seen any examples so far that load images or maps from the cart, they've all been included as part of the compiled C.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7223 - niltsair - Thu Jun 12, 2003 2:20 pm</h4>
    <div class="postbody"><span class="postbody">They are stored in the cart's rom. Everything declared as <span style="font-weight: bold">const</span> means that it is stored along in Rom. No memory used.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#7226 - hnager - Thu Jun 12, 2003 2:26 pm</h4>
    <div class="postbody"><span class="postbody">aha - I thought I had seen that once before - when working with sin/cos lookup tables. thanks.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
