<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Very simple array question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Very simple array question</h2>
<div id="posts">
<div class="post">
    <h4>#10482 - goro - Sat Sep 06, 2003 11:58 am</h4>
    <div class="postbody"><span class="postbody">Please don't cuss me for being dumb but I've been learning/coding for
<br/>
too many hours so my brain is probably fried.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
<br/>
//create an OAM variable and make it point to the address of OAM
<br/>
u16* OAM = (u16*)0x7000000;
<br/>
<br/>
//Copy our sprite array to OAM 
<br/>
void CopyOAM() 
<br/>
{  
<br/>
    u16 loop;  
<br/>
    u16* temp;  
<br/>
    temp = (u16*)sprites;  
<br/>
    
<br/>
    for(loop = 0; loop &lt; 128*4; loop++)  
<br/>
    {
<br/>
        OAM[loop] = temp[loop];  
<br/>
     } 
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
temp is a pointer to a u16 (unsigned int)
<br/>
and OAM is a pointer to the address of OAM
<br/>
<br/>
but in the 'for loop' they are treated as arrays and data is copied from
<br/>
one to the other.
<br/>
<br/>
Is this some form of sorcery?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10485 - tepples - Sat Sep 06, 2003 1:58 pm</h4>
    <div class="postbody"><span class="postbody">In C and C++, any ordinary pointer can be treated as if it were a pointer to the first element of an array. The compiler can do the array indexing calculations correctly because it knows the type of what the pointer points to and how big it is.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10490 - goro - Sat Sep 06, 2003 2:37 pm</h4>
    <div class="postbody"><span class="postbody">so if it points to sprites[index] and index = 0, then when index is incremented and the loop completes a cycle, does it effectively point to sprites[1]?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10494 - tepples - Sat Sep 06, 2003 3:42 pm</h4>
    <div class="postbody"><span class="postbody">Pretty much.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">{
<br/>
  Actor baddies[20];
<br/>
  Actor *cur = baddies;
<br/>
  /* now, cur points to baddies[0] */
<br/>
<br/>
  cur++;
<br/>
  /* now, cur points to baddies[1] */
<br/>
<br/>
  cur += 5;
<br/>
  /* now, cur points to baddies[6], and e.g. cur[9] would be baddies[15] */
<br/>
}</td> </tr></table><span class="postbody">
<br/>
Quick tip: foo[0] is nearly equivalent to *foo, and foo[0].bar is nearly equivalent to foo-&gt;bar. Use whatever makes more sense in the context of your code.
<br/>
<br/>
A quick Google search (c arrays pointers) gives <a class="postlink" href="http://pw1.netcom.com/~tjensen/ptr/pointers.htm" target="_blank">this tutorial</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10501 - goro - Sat Sep 06, 2003 5:25 pm</h4>
    <div class="postbody"><span class="postbody">Wow.
<br/>
<br/>
Thanks for clearing all that up.
<br/>
<br/>
I'll study that tutorial straight away. more brain-food.
<br/>
<br/>
Thanks Tepples.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
