<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>PAlib question - keyboard input - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > PAlib question - keyboard input</h2>
<div id="posts">
<div class="post">
    <h4>#142126 - Shinji - Thu Oct 04, 2007 8:58 pm</h4>
    <div class="postbody"><span class="postbody">Hi Guys,
<br/>
I write my first little Game for my Nintendo DS with PAlib.
<br/>
And here I have a noobish question, excuse please (and sorry for huge post - i add the source code) ^^
<br/>
<br/>
I want that the player can type in his Name. To make this possible I used the PAlib-Example of the Keyboard. Source Code:
<br/>
<br/>
<span style="font-size: 9px; line-height: normal">// Includes
<br/>
#include &lt;PA9.h&gt;       // Include for PA_Lib
<br/>
<br/>
<br/>
char text[200]; // This will be our text...
<br/>
<br/>
<br/>
<br/>
// Function: main()
<br/>
int main(int argc, char ** argv)
<br/>
{
<br/>
	PA_Init();    // Initializes PA_Lib
<br/>
	PA_InitVBL(); // Initializes a standard VBL
<br/>
<br/>
	PA_InitText(1, 0);  // Initialise the text system
<br/>
<br/>
	PA_InitKeyboard(2); // Load the keyboard on background 2...
<br/>
<br/>
	PA_KeyboardIn(20, 95); // This scrolls the keyboard from the bottom, until it's at the right position
<br/>
	// PA_KeyboardOut() can be used to scroll the Keyboard out
<br/>
	// PA_ScrollKeyboardXY(x, y) can be used to set the keyboards position
<br/>
<br/>
<br/>
	PA_OutputSimpleText(1, 7, 10, "Text : "); 
<br/>
<br/>
	s32 nletter = 0; // Next letter to right. 0 since no letters are there yet
<br/>
	char letter = 0; // New letter to write.
<br/>
<br/>
	// Infinite loop to keep the program running
<br/>
	while (1)
<br/>
	{
<br/>
		// We'll check first for color changes, with A, B, and X
<br/>
		if (Pad.Newpress.A) PA_SetKeyboardColor(0, 1); // Blue and Red
<br/>
		if (Pad.Newpress.B) PA_SetKeyboardColor(1, 0); // Red and Blue
<br/>
		if (Pad.Newpress.X) PA_SetKeyboardColor(2, 1); // Green and Red
<br/>
		if (Pad.Newpress.Y) PA_SetKeyboardColor(0, 2); // Blue and Green
<br/>
<br/>
		letter = PA_CheckKeyboard();
<br/>
<br/>
		if (letter &gt; 31) { // there is a new letter
<br/>
			text[nletter] = letter;
<br/>
			nletter++;
<br/>
		}
<br/>
		else if(letter == PA_TAB){// TAB Pressed...
<br/>
			u8 i;
<br/>
			for (i = 0; i &lt; 4; i++){ // put 4 spaces...
<br/>
				text[nletter] = ' ';
<br/>
				nletter++;
<br/>
			}
<br/>
<br/>
		}
<br/>
		else if ((letter == PA_BACKSPACE)&amp;&amp;nletter) { // Backspace pressed
<br/>
			nletter--;
<br/>
			text[nletter] = ' '; // Erase the last letter
<br/>
		}
<br/>
		else if (letter == '\n'){ // Enter pressed
<br/>
			text[nletter] = letter;
<br/>
			nletter++;
<br/>
		}
<br/>
<br/>
		PA_OutputSimpleText(1, 8, 11, text); // Write the text
<br/>
<br/>
<br/>
		PA_WaitForVBL();
<br/>
	}
<br/>
<br/>
	return 0;
<br/>
} // End of main()
<br/>
</span>
<br/>
<br/>
<br/>
Now the question:
<br/>
I want the name to be saved. How can I do that?  It should be saved the way, that I can give it out, too..
<br/>
<br/>
Sorry for noob qstion and bad english :O
<br/>
<br/>
Thank + Greetings,
<br/>
Shinji</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
