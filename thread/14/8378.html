<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>I don't even know the name of what I'm trying to do. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > I don't even know the name of what I'm trying to do.</h2>
<div id="posts">
<div class="post">
    <h4>#69807 - JoKyR - Thu Feb 02, 2006 1:28 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
I'm obviously very new here.  I'm not really trying to break into GBA Development.  Instead, my goal is to deconstruct existing GBA ROMs to figure out exactly how they work.  For instance, take an inside look into a game like Monster Rancher Advance and figure out things like how the game calculates a monter's lifespan, or what all the items actually do.
<br/>
<br/>
I realize this is pretty different than development, because I'm not trying to make my own games.  However, of all the forums I've visited, this one seems to have the most similarities to what I'm trying to do.
<br/>
<br/>
So, here's where I'm at:
<br/>
<br/>
I've been steadily making my way through several online tutorials on various assembly languages.
<br/>
<br/>
I have VisualBoy Advance and the ability to make my own ROMs.
<br/>
<br/>
Where do I go from here?
<br/>
<br/>
If anyone could even give me a nudge in the right direction, I'd be incredibly appreciative.
<br/>
<br/>
Thanks in advance!<br/>_________________<br/>-Sincerely,
<br/>
Joseph Kyle Rogan
<br/>
<a href="http://www.jokyrandjesster.com" target="_blank">http://www.jokyrandjesster.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69808 - sajiimori - Thu Feb 02, 2006 1:42 am</h4>
    <div class="postbody"><span class="postbody">That's all, really.  Just keep learning about ARM assembler and GBA programming.  Use emulators to step through the code, and get ready to encounter a world of frustration as compiled ROMs are not meant to be navigated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69825 - quickcup - Thu Feb 02, 2006 5:53 am</h4>
    <div class="postbody"><span class="postbody">What you are describing is a form of reverse engineering, if that helps any.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69834 - chishm - Thu Feb 02, 2006 7:44 am</h4>
    <div class="postbody"><span class="postbody">You may also want to try arm-elf-objdump. To convert a raw binary to ARM ASM code, try the command:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">arm-elf-objdump -D -b binary -m arm [infile.gba] &gt; [outfile-arm.s]</td> </tr></table><span class="postbody">
<br/>
<br/>
To get THUMB code, try:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">arm-elf-objdump -D -b binary -m arm -M force-thumb [infile.gba] &gt; [outfile-thumb.s]</td> </tr></table><span class="postbody"><br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69836 - Dwedit - Thu Feb 02, 2006 8:11 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>JoKyR wrote:</b></span></td> </tr> <tr> <td class="quote">Hello,
<br/>
<br/>
I'm obviously very new here.  I'm not really trying to break into GBA Development.  Instead, my goal is to deconstruct existing GBA ROMs to figure out exactly how they work.  For instance, take an inside look into a game like Monster Rancher Advance and figure out things like how the game calculates a monter's lifespan, or what all the items actually do.
<br/>
<br/>
I realize this is pretty different than development, because I'm not trying to make my own games.  However, of all the forums I've visited, this one seems to have the most similarities to what I'm trying to do.
<br/>
<br/>
So, here's where I'm at:
<br/>
<br/>
I've been steadily making my way through several online tutorials on various assembly languages.
<br/>
<br/>
I have VisualBoy Advance and the ability to make my own ROMs.
<br/>
<br/>
Where do I go from here?
<br/>
<br/>
If anyone could even give me a nudge in the right direction, I'd be incredibly appreciative.
<br/>
<br/>
Thanks in advance!</td> </tr></table><span class="postbody">
<br/>
<br/>
You'll need to map out the games first.  Graphics data is really easy to find, just use a tile viewer program.  You can use a corruptor tool to attempt to find other data.
<br/>
To map out the game's RAM, you'll want a cheat finder to search for the game's variables.  When you find the address, you can use a debugger to trap writes to there, then you can look at the ASM code that surrounds the area.  You're going to want an emulator with a really good debugger.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69850 - sgeos - Thu Feb 02, 2006 10:17 am</h4>
    <div class="postbody"><span class="postbody">I think you'd be better off learning standard software developement techniques and reading about what the hardware can do.  It doesn't really matter how one particular game gets the job done.  There are usually many ways to get the same effect.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69932 - tepples - Fri Feb 03, 2006 1:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">I think you'd be better off learning standard software developement techniques and reading about what the hardware can do.  It doesn't really matter how one particular game gets the job done.</td> </tr></table><span class="postbody">
<br/>
Unless discovering the rules of a particular game is the object. For example, "how the game calculates a monster's lifespan, or what all the items actually do" is not part of interfacing with the hardware; it's part of the business logic.
<br/>
<br/>
Anyway, JoKyR: you might want to ask on the ROM hacking boards too.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70096 - DakeDesu - Sat Feb 04, 2006 8:58 am</h4>
    <div class="postbody"><span class="postbody">yeah, the name for this, as stated above is called reverse engineering.
<br/>
<br/>
Generally it is against just able every license out there to reverse engineer something, other than the Free Software based licenses.
<br/>
<br/>
I won't lecture you about logistics, just be careful.<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70101 - tepples - Sat Feb 04, 2006 9:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DakeDesu wrote:</b></span></td> </tr> <tr> <td class="quote">Generally it is against just able every license out there to reverse engineer something</td> </tr></table><span class="postbody">
<br/>
Many countries' legal systems refuse to enforce provisions of <a class="postlink" href="http://en.wikipedia.org/wiki/Standard_form_contract" target="_blank">take-it-or-leave-it contracts</a> that ban reverse engineering.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70103 - sgeos - Sat Feb 04, 2006 9:37 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Unless discovering the rules of a particular game is the object. For example, "how the game calculates a monster's lifespan, or what all the items actually do" is not part of interfacing with the hardware; it's part of the business logic.</td> </tr></table><span class="postbody">
<br/>
You don't need to disassemble the ROM to figure out the game logic.  Unless you are writing an in depth FAQ, you do not need to know exactly "how the game calculates a monster's lifespan" or how "all the items actually do" what they do.  You can figure out more or less how it gets the job done by obseration and then use that information to write or own clone or what not.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70106 - keldon - Sat Feb 04, 2006 10:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DakeDesu wrote:</b></span></td> </tr> <tr> <td class="quote">yeah, the name for this, as stated above is called reverse engineering.
<br/>
<br/>
Generally it is against just able every license out there to reverse engineer something, other than the Free Software based licenses.
<br/>
<br/>
I won't lecture you about logistics, just be careful.</td> </tr></table><span class="postbody">
<br/>
<br/>
The law (in the UK at least) says that permitted acts are: backups, correcting errors decompiling software for format [providing the format is not known]
<br/>
<br/>
JoKyR, for what reason do you find it important to reverse engineer commercial games? What are you expecting to happen/learn when you do this?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70107 - tepples - Sat Feb 04, 2006 10:30 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">Unless you are writing an in depth FAQ, you do not need to know exactly "how the game calculates a monster's lifespan" or how "all the items actually do" what they do.</td> </tr></table><span class="postbody">
<br/>
Problem is that a lot of people <span style="font-style: italic">are</span> writing for GameFAQs.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">You can figure out more or less how it gets the job done by obseration and then use that information to write or own clone or what not.</td> </tr></table><span class="postbody">
<br/>
That's called the "black box" method of reverse engineering, which is lawful everywhere. But then you run into problems in finding 1. what corner cases exist and 2. what the correct behavior at these corner cases is. These problems are sometimes related to the player's skill level.
<br/>
<br/>
<span style="font-size: 18px; line-height: normal">Case in point: Scoring in Compile's <span style="font-style: italic">Puyo Puyo</span></span>
<br/>
<br/>
The score for each step in a chain in <span style="font-style: italic">Puyo Puyo</span> is displayed as the product of two numbers, which I called ComboValue and ChainValue. ComboValue was easy to figure out: 10 times the number of blocks eliminated in that step times the current speed level. ChainValue, on the other hand, I found more mysterious.
<br/>
<br/>
<span style="font-weight: bold">My first explanation, based on my observations</span>
<br/>
<br/>
For each combo unit (connected set of eliminated pieces of one color), if the size is 4, set the size to 3 for scoring purposes.
<br/>
<br/>
ChainBase equals 1 &lt;&lt; (chain length so far - 2) &lt;&lt; 3
<br/>
  gives 0, 8, 16, 32, 64 for step 1, 2, 3, 4, 5
<br/>
<br/>
Add all combo units' scores for this step in the chain and subtract 3.  Then add ChainBase.  If the result is 0 (i.e. first step a 4-combo), add 1. Result is ChainValue.
<br/>
<br/>
<span style="font-weight: bold">More accurate revelation from a Japanese fan page</span>
<br/>
<br/>
Based on machine translation of <a class="postlink" href="http://starpuyo.fanclub.ne.jp/lecture/work2c.html" target="_blank">this page</a>
<br/>
<br/>
ChainValue of a step is the sum of three elements: score for step (ChainBase above), score for each combo unit, and score for colors.
<br/>
<br/>
Nth step of chain:
<br/>
0, 8, 16, 32, increasing by 32 thereafter (linear, not exponential)
<br/>
<br/>
The score for a combo unit of size N+3: 0, 2, 3, 4, 5, 6, 7, 10, increasing by 0
<br/>
<br/>
N different colors within a step:
<br/>
0, 3, 6, 12, 24
<br/>
<br/>
<span style="font-weight: bold">Why I thought my formula was correct</span>
<br/>
<br/>
My formula happened to be accurate for for 5 or fewer steps and 3 or fewer combo units, each of size 7 or fewer, all of different colors within a step. I had no idea that the number of colors within a step affected anything. The corner cases where the formula broke down were beyond my skill at first, but after seeing the "correct" formula, I practiced until I could pull off some of the corner cases that the page revealed to me.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70115 - DakeDesu - Sat Feb 04, 2006 12:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DakeDesu wrote:</b></span></td> </tr> <tr> <td class="quote">Generally it is against just able every license out there to reverse engineer something</td> </tr></table><span class="postbody">
<br/>
Many countries' legal systems refuse to enforce provisions of <a class="postlink" href="http://en.wikipedia.org/wiki/Standard_form_contract" target="_blank">take-it-or-leave-it contracts</a> that ban reverse engineering.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Depends on how you do it. In Canada part of how a patent becomes public domain is based on reverse engineering. However, this requires somebody making a device that behaves the exact same way as the patented one, without having access to the actual device that is being reversed engineered. Well access to its inner workings anyway.
<br/>
<br/>
Because there is already a method to reverse engineer put into the patent system, that does not involve taking the object apart, taking the object appart is frowned on generally in a court of law.
<br/>
<br/>
Also keep in mind that Nintendo doesn't keep their lawyers on very short leases.<br/>_________________<br/>[ <a class="postlink" href="http://www.dakedesu.info" target="_blank">Main Site</a> | <a class="postlink" href="http://krfp.dakedesu.info/" target="_blank"> Kid Radd Fan Project</a> | <a class="postlink" href="http://forum.dakedesu.info/" target="_blank">Forums</a> ]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70462 - JoKyR - Mon Feb 06, 2006 7:01 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
JoKyR, for what reason do you find it important to reverse engineer commercial games? What are you expecting to happen/learn when you do this?</td> </tr></table><span class="postbody">
<br/>
<br/>
My goals are simply to learn and enjoy the games I reverse engineer more thoroughly.  I'm not really planning on cloning the game, writing my own version, or any kind of ROM distribution.  This is just a hobby for me.
<br/>
<br/>
I mentioned Monster Rancher Advance in my original post because I think it's an excellent example of a game that really needs to be reverse engineered to understand how to play it effectively.  Tecmo is notorious for providing incomplete and innaccurate information about the game mechanics of its Monster Rancher series.  Plus, the games tend to hide a great deal of variables and information that is extremely difficult to determine through observation.  If you take a walk around the internet looking at player written FAQs and Guides for these games, you'll see how much confusion and disagreement there is.
<br/>
<br/>
So, if I were to look at the code for the game, and figure out exactly how everything works, I'd be able to play the game more effectively.  Knowing exactly what factors go into a monster's lifespan, what affects it, and what calculations are performed would allow me to raise a monster that lives longer.
<br/>
<br/>
As a side note, I would probably take the information and write a few Cheat Codes for the game, but this is really only a secondary goal.
<br/>
<br/>
I hope that clarifies things.  Thank you, everyone, for all the help you've already given me.  If anyone has anything more to add, you have my rapt attention.<br/>_________________<br/>-Sincerely,
<br/>
Joseph Kyle Rogan
<br/>
<a href="http://www.jokyrandjesster.com" target="_blank">http://www.jokyrandjesster.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70485 - tepples - Mon Feb 06, 2006 9:25 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>JoKyR wrote:</b></span></td> </tr> <tr> <td class="quote">So, if I were to look at the code for the game, and figure out exactly how everything works, I'd be able to play the game more effectively.</td> </tr></table><span class="postbody">
<br/>
So, Brendan, this <span style="font-style: italic">is</span> for an in-depth FAQ.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
