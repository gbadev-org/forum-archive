<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>BG0CNT - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > BG0CNT</h2>
<div id="posts">
<div class="post">
    <h4>#25495 - strider - Tue Aug 24, 2004 2:14 am</h4>
    <div class="postbody"><span class="postbody">thanks to everyone for their replies on my previous posts...everyone's been really helpful!
<br/>
<br/>
had a question about the following line:
<br/>
REG_BG0CNT = BG_COLOR_256 | TEXTBG_SIZE_256x256 | (8 &lt;&lt; SCREEN_SHIFT) | (0 &lt;&lt; CHAR_SHIFT);
<br/>
<br/>
What exactly is BG0CNT? i'm thinking it's just used to set various options for the different backgrounds? also I've read a couple of different tutorials and i still don't really know what the (8 &lt;&lt; SCREEN_SHIFT) and the (0 &lt;&lt;CHAR_SHIFT) does....I've seen different values too (i.e. pern does (31 &lt;&lt; SCREEN_SHIFT)) can anyone explain what the shifts are used for? thanks!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25496 - Darmstadium - Tue Aug 24, 2004 2:39 am</h4>
    <div class="postbody"><span class="postbody">you're right about REG_BG0CNT being a register to set options for your background, in fact it stands for "background 0 control". There are 4 identical registers for each of the 4 backgrounds that are named in the same way (REG_BGxCNT).
<br/>
<br/>
gba backgrounds store the data for the background in things called screen blocks. There are 32 different screen blocks that you can store the data for your background in.
<br/>
<br/>
backgrounds wouldn't be much fun without any graphics. All the image data for your background (called tiles) is stored in something called a character block, and there are 4 of them.
<br/>
<br/>
I'll mention that the screen blocks and the character blocks use the same memory, but you should really look at a tutorial for more detailed info.
<br/>
<br/>
anyway, you have to tell the gba where to find the data for the map and the tiles are by putting the numbers of the screen block and character block that you plan to use in REG_BGxCNT. You have to shift it because there are specific bits in REG_BGxCNT that are used to store the screen block and character block numbers and it is neccesary to shift the numbers so that your OR operation affects the correct bits. If that doesn't make any sense i would suggest looking up the C bitwise operators and make sure you are very comfortable with them. Also look at this page:
<br/>
<a href="http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm#REG_BG0" target="_blank">http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm#REG_BG0</a>
<br/>
It contains a TON of info about the gba and every gba programmer should read it over. You can see what the REG_BGxCNT registers look like there. 
<br/>
<br/>
hope that helped!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
