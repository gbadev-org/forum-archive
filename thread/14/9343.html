<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Help needed with a pong clone [Renamed] - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Help needed with a pong clone [Renamed]</h2>
<div id="posts">
<div class="post">
    <h4>#80643 - biubid_boy - Mon Apr 24, 2006 1:27 pm</h4>
    <div class="postbody"><span class="postbody">Hello everybody.
<br/>
I'm working on a game, a bit like pog, but with four paddles (bars) instead of one. The idea is that if a ball colides with the green paddle, it changes to green, but if it colides with the green wall, it stays the same colour, namely yellow. I'm only working with two paddles as of now. For yellow it already works but I cant seem to do it for green. Heres my code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
void MoveBall(void) {
<br/>
   if (ballDirection == 0 &amp;&amp; xball &lt; xMax &amp;&amp; yball &lt; yMax) {
<br/>
      xball++;xball++;
<br/>
      yball++;
<br/>
   }
<br/>
   if (ballDirection == 0 &amp;&amp; ((xball &gt;= xMax || yball &gt;= yMax) || (xball &gt;= xpaddlegreen - 6 &amp;&amp; yball &gt;= ypaddlegreen &amp;&amp; yball &lt;= ypaddlegreen + 16))) {
<br/>
      memcpy( (u16 *)0x06014000, &amp;ballgreenData, sizeof(ballgreenData) );
<br/>
          if (xball &gt;= xMax || xball &gt;= xpaddlegreen - 6) {      
<br/>
         ballDirection = 3;
<br/>
      } else {
<br/>
         ballDirection = 1;
<br/>
      }
<br/>
   }
<br/>
<br/>
   if (ballDirection == 1 &amp;&amp; xball &lt; xMax &amp;&amp; yball &gt; yMin) {
<br/>
      xball++;xball++;
<br/>
      yball--;
<br/>
   }
<br/>
   if (ballDirection == 1 &amp;&amp; ((xball &gt;= xMax || yball &lt;= yMin) || (xball &gt;= xpaddlegreen - 6 &amp;&amp; yball &gt;= ypaddlegreen &amp;&amp; yball &lt;= ypaddlegreen + 16))) {
<br/>
          if (xball &gt;= xMax || xball &gt;= xpaddlegreen - 6) {         
<br/>
         ballDirection = 2;
<br/>
      } else {
<br/>
         ballDirection = 0;
<br/>
      }
<br/>
   }
<br/>
<br/>
   if (ballDirection == 2 &amp;&amp; xball &gt; xMin &amp;&amp; yball &gt; yMin) {
<br/>
      xball--;xball--;
<br/>
      yball--;
<br/>
   }
<br/>
   if (ballDirection == 2 &amp;&amp; ((xball &lt;= xMin || yball &lt;= yMin) || (xball == xpaddleyellow + 8 &amp;&amp; yball &gt;= ypaddleyellow &amp;&amp; yball &lt;= ypaddleyellow + 32))) {
<br/>
      if (xball == xpaddleyellow + 8) {
<br/>
            memcpy( (u16 *)0x06014000, &amp;ballyellowData, sizeof(ballyellowData) );      
<br/>
         ballDirection = 1;
<br/>
      } else if (xball &lt;= xMin) {
<br/>
         ballDirection = 1;
<br/>
      } else {
<br/>
         ballDirection = 3;
<br/>
      }
<br/>
   }
<br/>
<br/>
   if (ballDirection == 3 &amp;&amp; xball &gt; xMin &amp;&amp; yball &lt; yMax) {
<br/>
      xball--;xball--;
<br/>
      yball++;
<br/>
   }
<br/>
   if (ballDirection == 3 &amp;&amp; ((xball &lt;= xMin  || yball &gt;= yMax) || (xball == xpaddleyellow + 8 &amp;&amp; yball &gt;= ypaddleyellow &amp;&amp; yball &lt;= ypaddleyellow + 32))) {
<br/>
      if (xball == xpaddleyellow + 8) {
<br/>
            memcpy( (u16 *)0x06014000, &amp;ballyellowData, sizeof(ballyellowData) );
<br/>
         ballDirection = 0;
<br/>
      } else if (xball &lt;= xMin) {
<br/>
         ballDirection = 0;
<br/>
      } else {
<br/>
     ballDirection = 2;
<br/>
      }
<br/>
   }
<br/>
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Can anyone help me get this sorted?
<br/>
Thanks,
<br/>
Biubid_boy.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80644 - tepples - Mon Apr 24, 2006 1:33 pm</h4>
    <div class="postbody"><span class="postbody">First thing you need to do is abstract that memcpy out into a loadSpriteCel function.
<br/>
<br/>
In addition, is there a reason why you're using a bitmapped background instead of a simple tiled background?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80653 - gauauu - Mon Apr 24, 2006 3:59 pm</h4>
    <div class="postbody"><span class="postbody">Looks like you're missing your mempy for green when ballDirection == 1</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
