<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to access contents of binary file - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > How to access contents of binary file</h2>
<div id="posts">
<div class="post">
    <h4>#34638 - ymalik - Sun Jan 23, 2005 3:16 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
I want to be able to read a binary file and display the contents on the GBA.  There is an open source library that allows access of the contents of the file, but it uses fopen().  Since the GBA does not have a file system, how would modify the open source code to not use fopen()?  I can't just put the contents into an array.
<br/>
<br/>
Thanks,
<br/>
Yasir</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34639 - sajiimori - Sun Jan 23, 2005 3:20 am</h4>
    <div class="postbody"><span class="postbody">Answered in the FAQ.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35069 - ymalik - Sun Jan 30, 2005 1:44 am</h4>
    <div class="postbody"><span class="postbody">We are working on a major GBA application, and it turns out that the CPE guys who are going to make our device are also going to provide a FAT32 formatted flash ROM.  We are going to have our own file system.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35150 - sasq - Mon Jan 31, 2005 9:32 am</h4>
    <div class="postbody"><span class="postbody">If you have a filesystem, then just implement fopen to use it.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35172 - Miked0801 - Mon Jan 31, 2005 8:11 pm</h4>
    <div class="postbody"><span class="postbody">Why?  ROM doesn't change so why bother with all the overhead?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35210 - ymalik - Tue Feb 01, 2005 3:28 pm</h4>
    <div class="postbody"><span class="postbody">Why would there be overhead?
<br/>
Originally we had thought that we would simply include the shapefiles with our ROM.  For that we would have to basically hard code the name of each file and use some data structure to indirectly access each file.  However, the CPE guys revealed to us that they are making a seperate FAT32 formatted flash ROM that will contain contain our images.  Our program will be stored in a seperate ROM.  I don't know much about flash or FAT32 yet, but I do know that you can over write a flash ROM using some technique.
<br/>
Go here to see what I'm talking about:
<br/>
<a href="http://panda.ece.stevens-tech.edu/sd/grp24/" target="_blank">http://panda.ece.stevens-tech.edu/sd/grp24/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35221 - Miked0801 - Tue Feb 01, 2005 6:48 pm</h4>
    <div class="postbody"><span class="postbody">Are you going to hook that thing up to a device that allows ROM to change dynamically?  If so, a paging system would work well (kinda similiar to a FAT, but much simpler).  I just don't see the advantage of a 32-bit File Allocation Table system.  Instead of being able to just read a rom byte/word (or block - same speed), you need to get that data's hash number (or sector id or whatever), go through either a tree struct or a hash table, get that ptr, then dereference it to get to the data.  All the more slow if you must first load it into (EW) RAM a block at a time before reading which is how it is done on the PC.  Since most games run their code from ROM, this would really slow down execution time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35225 - ymalik - Tue Feb 01, 2005 7:16 pm</h4>
    <div class="postbody"><span class="postbody">The ROM won't change--a bunch of map files will be loaded onto the ROM once.  If the user wants to have other map files, the user will just erase the flash ROM and load more files.
<br/>
<br/>
What you are describing is what I exactly thought we would be doing until the CPE guys told us that they would provide a file system to call up files.  When using a seperate flash ROM we'll have to load stuff back and forth.  However, there is already an open source library that allows access of map files, and if we decide not to use a file system, we'll have to modify, or make our own, shapefile library.
<br/>
<br/>
I'll have to talk to my team and the CPE guys.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35497 - ymalik - Sat Feb 05, 2005 4:03 pm</h4>
    <div class="postbody"><span class="postbody">Could it be possible to make the flash ROM a part of addressable memory?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35500 - tepples - Sat Feb 05, 2005 5:37 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ymalik wrote:</b></span></td> </tr> <tr> <td class="quote">Could it be possible to make the flash ROM a part of addressable memory?</td> </tr></table><span class="postbody">
<br/>
That would be more expensive. The new Gbit-sized GBA flash carts are so cheap precisely because they have less NOR flash (directly addressable but expensive) and more NAND flash (block addressable but cheap).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#35505 - SimonB - Sat Feb 05, 2005 5:56 pm</h4>
    <div class="postbody"><span class="postbody">From where I am standing the 1Gbit flash kits that only use 256Mbit(?) NOR flash and 768Mbit(?) NAND flash arent THAT much cheaper (if any) compared to 1Gbit kits made up of only NOR flash. Of course, I guess the manufacturer and resellers play a big part in this...
<br/>
<br/>
Maybe not related but if manufactured by Nintendo, they only charge 1$/cart more to double the ROM size of the cartridge (up to 256Mbit). So if you start with ~6$usd for a 32Mbit cartridge, going to a 256Mbit will only cost you ~3$usd more (= ~9$usd).
<br/>
<br/>
Simon</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
