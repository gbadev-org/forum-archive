<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problems with VC++ - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Problems with VC++</h2>
<div id="posts">
<div class="post">
    <h4>#20207 - mr_schmoe - Tue May 04, 2004 8:41 pm</h4>
    <div class="postbody"><span class="postbody">OK, I know that this issue has been discussed a hundred times before. I've search the forum and have found several people with similar problems but none matching my own. I followed the direction for the GBA Project Appwizard r2.6 but when I try to compile it, I get this nasty error message saying it doesn't know how to make crt0.o. Everyone seems to get past this point, what am I doing wrong? Please help. Thank you. If you need more info on my configuration, let me know.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20209 - DiscoStew - Tue May 04, 2004 9:03 pm</h4>
    <div class="postbody"><span class="postbody">Would it be possible to show us exactly what the error is (copy and paste), and perhaps the MAK file that the GBA Project AppWizard creates. Also, what options did you choose before creating your project? Is the a file by the name of crt0.s in the same folder?
<br/>
<br/>
Sorry for all the questions, but the more information, the easier to fix a problem.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20212 - mr_schmoe - Tue May 04, 2004 9:35 pm</h4>
    <div class="postbody"><span class="postbody">I don't have time at the moment, gotta go to work soon, but I'll post that info tomorrow. Thanks for you help.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20245 - mr_schmoe - Wed May 05, 2004 3:37 pm</h4>
    <div class="postbody"><span class="postbody">this is the error I get:
<br/>
<br/>
--------------------Configuration: bob - Win32 Debug--------------------
<br/>
Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
<br/>
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
<br/>
NMAKE : fatal error U1073: don't know how to make 'interupt.o'
<br/>
Stop.
<br/>
Error executing NMAKE.
<br/>
<br/>
bob.gba - 1 error(s), 0 warning(s)
<br/>
<br/>
the make file goes something like this:
<br/>
<br/>
# ------------------------------------------
<br/>
# Title:		Default Makefile for use in VC++
<br/>
# File:		    bob.mak
<br/>
# Revision:     01/06/2002
<br/>
# 
<br/>
# Author:		Benjamin D. Hale
<br/>
# Orignally by:         Jaap Suter
<br/>
# Contributed to by:    Christer Andersson
<br/>
# 
<br/>
# Info:		        This file is contains the make-instructions
<br/>
#			for the project. Replace DEVDIR with the appropriate
<br/>
#                       base directory for devkitadv. After you make the 
<br/>
#                       needed modifications here rename this file to
<br/>
#                       &lt;project_name&gt;.mak so Visual C++ does not get
<br/>
#                       confused.
<br/>
# -------------------------------------------
<br/>
<br/>
# -------------------------------------------
<br/>
# Project name definition makes this whole thing 
<br/>
# a lot easier to use. Only two total modifications
<br/>
# (other than what .o files will be needed)
<br/>
# should be needed to get this working with your
<br/>
# compiler and Visual C++. Replace "Default" with
<br/>
# your project's name.
<br/>
# -------------------------------------------
<br/>
<br/>
PROJECT = bob
<br/>
<br/>
# -------------------------------------------
<br/>
# Define some directories;
<br/>
# -------------------------------------------
<br/>
<br/>
# -------------------------------------------
<br/>
# Base Directory for gcc arm-agb-elf replace with 
<br/>
# wherever you put your gba devkitadv files.
<br/>
# -------------------------------------------
<br/>
<br/>
DEVDIR  = d:\devkitadv
<br/>
<br/>
# -------------------------------------------
<br/>
# Source directory (where your project's source files are located.)
<br/>
# -------------------------------------------
<br/>
<br/>
SRCDIR  = C:\Program Files\Microsoft Visual Studio\MyProjects\bob
<br/>
<br/>
# -------------------------------------------
<br/>
# Compiler Directories for binaries, includes and libs.
<br/>
# -------------------------------------------
<br/>
<br/>
CMPDIR  = $(DEVDIR)\bin
<br/>
LIBDIR  = $(DEVDIR)\lib\gcc-lib\arm-agb-elf\3.0.2\interwork
<br/>
LIBDIR2 = $(DEVDIR)\arm-agb-elf\lib\interwork
<br/>
INCDIR  = $(DEVDIR)\lib\gcc-lib\arm-agb-elf\3.0.2\include
<br/>
INCDIR2 = $(DEVDIR)\arm-agb-elf\include
<br/>
<br/>
# -------------------------------------------
<br/>
# END of directory defines
<br/>
# -------------------------------------------
<br/>
<br/>
# -------------------------------------------
<br/>
# Define what extensions we use;
<br/>
# -------------------------------------------
<br/>
.SUFFIXES : .cpp .c .s
<br/>
<br/>
# -------------------------------------------
<br/>
# Define the flags for the compilers;
<br/>
# -------------------------------------------
<br/>
CFLAGS  = -I $(INCDIR2) -I $(INCDIR) -I $(SRCDIR) -mthumb-interwork -c -g -O2 -Wall -fverbose-asm
<br/>
SFLAGS  = -I $(INCDIR2) -I $(INCDIR) -mthumb-interwork 
<br/>
LDFLAGS = -L $(LIBDIR) -L $(LIBDIR2) -T LinkScript 
<br/>
<br/>
# -------------------------------------------
<br/>
# Define the list of all O files;
<br/>
# Just follow the syntax shown to add any 
<br/>
# other objects your project may need to
<br/>
# compile properly. You will need to add 
<br/>
# files to this part to make it work with 
<br/>
# your project add a \ to the end of all o
<br/>
# files except the last one. Like below.
<br/>
# -------------------------------------------
<br/>
<br/>
O_FILES			 = \
<br/>
                   crtbegin.o   \
<br/>
                   crtend.o     \
<br/>
                   interupt.o   \
<br/>
                   bob.o        \
<br/>
                   crt0.o       
<br/>
<br/>
# -------------------------------------------
<br/>
# There should be no need to modify anything
<br/>
# below here.
<br/>
# -------------------------------------------
<br/>
<br/>
# -------------------------------------------
<br/>
# Define the final dependecy;
<br/>
# -------------------------------------------
<br/>
all : $(PROJECT).gba
<br/>
<br/>
# -------------------------------------------
<br/>
# Define the copy from .elf to .bin file
<br/>
# -------------------------------------------
<br/>
$(PROJECT).gba : $(PROJECT).elf
<br/>
	$(CMPDIR)\objcopy -v -O binary $(PROJECT).elf $(PROJECT).gba
<br/>
	-@echo ------------------------------------------ 
<br/>
	-@echo Done 
<br/>
	-@echo ------------------------------------------ 
<br/>
<br/>
# -------------------------------------------
<br/>
# Define the linker instruction;
<br/>
# -------------------------------------------
<br/>
$(PROJECT).elf : $(O_FILES)
<br/>
	$(CMPDIR)\ld $(LDFLAGS) -o $(PROJECT).elf $(O_FILES) -lstdc++ -lgcc -lc  
<br/>
	-@echo ------------------------------------------ 
<br/>
	-@echo Linking Done
<br/>
	-@echo ------------------------------------------ 
<br/>
<br/>
# -------------------------------------------
<br/>
# Define each compile;
<br/>
# -------------------------------------------
<br/>
{$(SRCDIR)}.cpp.o:
<br/>
	$(CMPDIR)\gcc  $(CFLAGS) $&lt; 
<br/>
	-@echo ------------------------------------------ 
<br/>
	-@echo CPP-Sources Compiled 
<br/>
	-@echo ------------------------------------------ 
<br/>
<br/>
{$(SRCDIR)}.c.o:
<br/>
	$(CMPDIR)\gcc  $(CFLAGS) $&lt;
<br/>
	-@echo ------------------------------------------
<br/>
	-@echo C-sources Compiled
<br/>
	-@echo ------------------------------------------
<br/>
<br/>
# -------------------------------------------
<br/>
# Define each assemble;
<br/>
# -------------------------------------------
<br/>
{$(SRCDIR)}.s.o:
<br/>
	$(CMPDIR)\as $(SFLAGS) $(SRCDIR)\$*.s -o$@
<br/>
	-@echo ------------------------------------------ 
<br/>
	-@echo ASM-Sources Compiled 
<br/>
	-@echo ------------------------------------------ 
<br/>
<br/>
# -------------------------------------------
<br/>
# Any problems with getting this working email
<br/>
# questions to <a href="mailto:whatzdat_pimp@hotmail.com">whatzdat_pimp@hotmail.com</a> .
<br/>
# This was tested on devkitadv r4 and Visual C++ 6
<br/>
# on a p3 450/512mb/Windows XP Pro.
<br/>
# -------------------------------------------
<br/>
# EOF;
<br/>
<br/>
and no, the crt0.s or crt0.o isn't there, I don't even know what that is.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20249 - poslundc - Wed May 05, 2004 4:38 pm</h4>
    <div class="postbody"><span class="postbody">Your makefile is looking for a file called "interupt" with an extension of ".c", ".cpp" or ".s".
<br/>
<br/>
Either remove it from your makefile, or check the spelling of the file name (it's "interrupt", not "interupt", although it won't matter if it's spelled incorrectly in both places).
<br/>
<br/>
You may still run into other problems from the look of it, though. It doesn't seem as though you have a complete devkit running.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20254 - mr_schmoe - Wed May 05, 2004 6:09 pm</h4>
    <div class="postbody"><span class="postbody">I checked on the spelling, everything checks out. I'm using devkitadv r4. I'll download r5 and try that. Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20255 - mr_schmoe - Wed May 05, 2004 7:02 pm</h4>
    <div class="postbody"><span class="postbody">Actually, I remember one other thing. The original make files had the following:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code"># -------------------------------------------
<br/>
# Define each compile;
<br/>
# -------------------------------------------
<br/>
{$(SRCDIR)}.cpp.o::
<br/>
   $(CMPDIR)\gcc  $(CFLAGS) $&lt; 
<br/>
   -@echo ------------------------------------------ 
<br/>
   -@echo CPP-Sources Compiled 
<br/>
   -@echo ------------------------------------------ 
<br/>
<br/>
{$(SRCDIR)}.c.o::
<br/>
   $(CMPDIR)\gcc  $(CFLAGS) $&lt;
<br/>
   -@echo ------------------------------------------
<br/>
   -@echo C-sources Compiled
<br/>
   -@echo ------------------------------------------
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Which I changed to:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
# -------------------------------------------
<br/>
# Define each compile;
<br/>
# -------------------------------------------
<br/>
{$(SRCDIR)}.cpp.o:
<br/>
   $(CMPDIR)\gcc  $(CFLAGS) $&lt; 
<br/>
   -@echo ------------------------------------------ 
<br/>
   -@echo CPP-Sources Compiled 
<br/>
   -@echo ------------------------------------------ 
<br/>
<br/>
{$(SRCDIR)}.c.o:
<br/>
   $(CMPDIR)\gcc  $(CFLAGS) $&lt;
<br/>
   -@echo ------------------------------------------
<br/>
   -@echo C-sources Compiled
<br/>
   -@echo ------------------------------------------
<br/>
</td> </tr></table><span class="postbody">
<br/>
because I got some error telling me "cannot have : and :: dependents for same target"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20321 - Stray7Xi - Fri May 07, 2004 12:24 am</h4>
    <div class="postbody"><span class="postbody">I believe your problem is this line:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">SRCDIR = C:\Program Files\Microsoft Visual Studio\MyProjects\bob </td> </tr></table><span class="postbody">
<br/>
<br/>
You can't have spaces in your path...  you can use the 8.3 style paths though (i.e. C:\progra~1\micros~1\MyProjects\bob )
<br/>
<br/>
That should be the proper way to get rid of the :/:: dependency problem.  You should probably put that part back to it's original form.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20333 - mr_schmoe - Fri May 07, 2004 4:09 pm</h4>
    <div class="postbody"><span class="postbody">It worked!! Thank you very much. All I had to do was get rid of the spaces. Actually, I changed the directory all together. I put in d:\projects and it worked fine. Thanks again.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
