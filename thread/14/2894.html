<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Debugging with the mappy 0.9 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Debugging with the mappy 0.9</h2>
<div id="posts">
<div class="post">
    <h4>#16610 - yaustar - Fri Feb 20, 2004 9:59 pm</h4>
    <div class="postbody"><span class="postbody">I can get source to appear with no problems, the problem arises with mappy running at 0.01 fps (or similar) and breakpoints do not seem to work.
<br/>
<br/>
Any help is welcome.
<br/>
<br/>
(ps I am not having much luck with vba and insight either.. :( )<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16615 - dagamer34 - Sat Feb 21, 2004 1:30 am</h4>
    <div class="postbody"><span class="postbody">I couldn't get it to work either. I can see the source code but that's all.
<br/>
<br/>
That's worst thing about not having an official SDK: the lack of an easy-to-use debugger.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17430 - josath - Mon Mar 08, 2004 12:31 am</h4>
    <div class="postbody"><span class="postbody">i use VisualBoyAdvance &amp; GDB, works pretty well for me, all I do is:
<br/>
VisualBoyAdvance -G tcp &lt;game&gt;.elf 
<br/>
<br/>
then run gdb:
<br/>
gdb &lt;game&gt;.elf
<br/>
<br/>
then in gdb type:
<br/>
target remote localhost:55555
<br/>
<br/>
and then type 'continue' to start the game running. Note, you have to use the SDL version of VisualBoyAdvance, and gdb must be compiled for ARM (put  --target=arm-elf when you compile it if you compile it yourself, but there are places to download it already compiled)
<br/>
Also, make sure you are running the .elf - NOT THE .BIN OR .GBA file. the .bin and .gba files have all debugging information removed.
<br/>
<br/>
quick list of gdb commands:
<br/>
continue - continue program running
<br/>
step - step through program line by line
<br/>
break function - set a breakpoint when function() is called
<br/>
bt - back trace, show currect location of program execution
<br/>
bt full - back trace, with showing all local variables
<br/>
print &lt;expression&gt; - evaluate expression, can do stuff like
<br/>
  print myVar - shows contents of myVar
<br/>
  print myFunc() - shows return value of myFunc
<br/>
<br/>
In VBA, hit F11 to pause execution and be able to do stuff in GDB
<br/>
<br/>
Also, if you use VBA, you can use this command to print out debugging messages in your program:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
// ARM code -- print debug message
<br/>
void
<br/>
print(char *s)
<br/>
{
<br/>
    asm volatile ("mov r0, %0;" "swi 0xff0000;":        // warning! will crash on hardware!
<br/>
                  :"r" (s):"r0");
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
then just call print("This is my message\n"); to get your message printed to the VBA output window.
<br/>
<br/>
<br/>
Hope this helps!
<br/>
[/code]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17431 - yaustar - Mon Mar 08, 2004 1:54 am</h4>
    <div class="postbody"><span class="postbody">Well, I give insight another shot...I let you know of the results. :)<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
