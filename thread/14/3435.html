<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Scrolling background for a large world - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Scrolling background for a large world</h2>
<div id="posts">
<div class="post">
    <h4>#20972 - aaronphughes - Thu May 20, 2004 10:09 pm</h4>
    <div class="postbody"><span class="postbody">I am wondering what people generally do for a scrolling background (Mode 0). For instance, if I have a world map of say 4000x4000 tiles, I know you would have to dynamically update the gba map (somewhere in 0x06000000 memory region), but my question is, how do most people do this?
<br/>
<br/>
Thanks for any suggestions/explanations
<br/>
AH<br/>_________________<br/><a href="mailto:urpNO_SPAM_MAN@canerdian.ca">urpNO_SPAM_MAN@canerdian.ca</a>
<br/>
<a href="http://www.canerdian.ca" target="_blank">http://www.canerdian.ca</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20974 - alek - Thu May 20, 2004 10:14 pm</h4>
    <div class="postbody"><span class="postbody">Here's a good example from the site <a href="http://www.thepernproject.com" target="_blank">www.thepernproject.com</a>
<br/>
<br/>
<a href="http://www.thepernproject.com" target="_blank">www.thepernproject.com</a>\Examples\BGDEMOS\BG_18.zip</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20979 - Miked0801 - Fri May 21, 2004 12:13 am</h4>
    <div class="postbody"><span class="postbody">There's a few other threads about this, but in a nutshell, there are 2 basic ways to do this:
<br/>
<br/>
1. Every time the world position's X or Y value enters a new char value (newPos &amp; (~0x07) != oldPos &amp; (~0x07), redraw the entire map and reset the scroll registers.  
<br/>
<br/>
2. Same check as above to see if a redraw is needed, but only fill in along the leading edge of the map and don't reset the scroll registers.
<br/>
<br/>
Advantages of method 1:
<br/>
It's the simpler to code than method 2.
<br/>
It frees up 34% of the VRAM that the Char LUT takes up as you will never leave a 31x21 area of VRAM.
<br/>
<br/>
Disadvantages of method 1:
<br/>
You need to fill a lot more memory every time you want to scroll so it will run slower than method 2.
<br/>
<br/>
Advantages of method 2:
<br/>
At worst filling in 52x2 bytes of RAM so it will run a lot faster if coded correctly.
<br/>
It lends itself to dynamic char loading better than method 1.
<br/>
<br/>
Disadvantages of method 2:
<br/>
It will take longer to get working.
<br/>
While you can use the VRAM that is not being display, you must be very careful in doing so as it will be overwritten as the map scrolls around.
<br/>
<br/>
We use method 2 as we dynamically load chars here - though we used method 1 for the first 2 GBA projects we did due to its simpliciity and that it doesn't run too slow :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21012 - aaronphughes - Fri May 21, 2004 4:00 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for the sugestions and example
<br/>
<br/>
Miked0801 I like your approach, I am going to try this out.
<br/>
<br/>
Alek, where/how did you find that tutorial you sent me? I looked all over the PERN site for it.
<br/>
<br/>
Thanks again,
<br/>
AH.<br/>_________________<br/><a href="mailto:urpNO_SPAM_MAN@canerdian.ca">urpNO_SPAM_MAN@canerdian.ca</a>
<br/>
<a href="http://www.canerdian.ca" target="_blank">http://www.canerdian.ca</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21027 - alek - Fri May 21, 2004 7:56 pm</h4>
    <div class="postbody"><span class="postbody">in the tutorial section go to day 6 making the game
<br/>
here go to
<br/>
<br/>
21) Scrolling both ways the not so easy way</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
