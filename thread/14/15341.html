<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Background Difficulties - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Background Difficulties</h2>
<div id="posts">
<div class="post">
    <h4>#153925 - biubid_boy - Tue Apr 08, 2008 2:32 pm</h4>
    <div class="postbody"><span class="postbody">Hello Guys,
<br/>
I'm just trying to get a regular 512x512 background to show up. 
<br/>
<br/>
This is the image I am using:
<br/>
<a href="http://i29.tinypic.com/2hs9krt.jpg">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
This is the code I'm using:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;gba.h&gt;
<br/>
#include "..\data\citymap.h"
<br/>
#include &lt;string.h&gt;
<br/>
<br/>
int main(void)
<br/>
{   
<br/>
    irqInit();
<br/>
    irqEnable(IRQ_VBLANK);
<br/>
    SetMode(MODE_0 | BG0_ON | OBJ_ON | OBJ_1D_MAP);
<br/>
    
<br/>
    memcpy(BG_PALETTE, citymapPal  , 512);
<br/>
    memcpy(CHAR_BASE_BLOCK(0), citymapTiles, citymapTilesLen);
<br/>
    memcpy(SCREEN_BASE_BLOCK(28),citymapMap  , citymapMapLen);
<br/>
    BGCTRL[0] = CHAR_BASE(0) | SCREEN_BASE(28) | BG_256_COLOR | BG_SIZE_3;
<br/>
    
<br/>
    while(1)
<br/>
    {  
<br/>
        VBlankIntrWait();
<br/>
    }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
And this is the result I am getting:
<br/>
<a href="http://i26.tinypic.com/34iq0jo.png">[Images not permitted - Click here to view it]</a>
<br/>
<br/>
What am I doing wrong?
<br/>
<br/>
Thanks,
<br/>
Biubid_boy.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153927 - eKid - Tue Apr 08, 2008 2:44 pm</h4>
    <div class="postbody"><span class="postbody">How are you converting the image? 512x512 isn't really a big linear 64x64 block, it's 4 smaller 32x32 blocks put together. The first block is the top left block, followed by the top right block, then bottom left, and then bottom right.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#153929 - biubid_boy - Tue Apr 08, 2008 3:14 pm</h4>
    <div class="postbody"><span class="postbody">I'm using the 'sbb' option of Usenti, which I believe corrects this problem, but to no avail.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
