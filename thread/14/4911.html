<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Tile Map Position to ScreenBaseBlock Position Formula - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Tile Map Position to ScreenBaseBlock Position Formula</h2>
<div id="posts">
<div class="post">
    <h4>#34842 - Celeryface - Thu Jan 27, 2005 1:27 am</h4>
    <div class="postbody"><span class="postbody">Does anyone know of a formula to convert a tile position from a 256x32 (in tiles) map into a 64x32 (in tiles) ScreenBaseBlock?
<br/>
<br/>
For reference, I need to use the formula after collision detection to replace the tile in the map with another tile (ie taking a coin off the screen after collecting it).
<br/>
<br/>
Thanks again for the help. :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34843 - DekuTree64 - Thu Jan 27, 2005 1:46 am</h4>
    <div class="postbody"><span class="postbody">MS Paint is the secret :)
<br/>
Or a piece of paper. Try drawing out your screen map and BG map and label a few tiles to get a good idea what's what, and figure up a formula from there. 
<br/>
Sorry I'm too lazy to work it out myself, but hopefully it will be pretty obvious once you get a good look at the situation.
<br/>
<br/>
Notepad is also one of my good friends for working out complicated ideas, though probably not too helpful for this particular problem.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34845 - Celeryface - Thu Jan 27, 2005 2:03 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote">MS Paint is the secret :)
<br/>
Or a piece of paper. Try drawing out your screen map and BG map and label a few tiles to get a good idea what's what, and figure up a formula from there. 
<br/>
Sorry I'm too lazy to work it out myself, but hopefully it will be pretty obvious once you get a good look at the situation.
<br/>
<br/>
Notepad is also one of my good friends for working out complicated ideas, though probably not too helpful for this particular problem.</td> </tr></table><span class="postbody">
<br/>
<br/>
Is this a formula that is commonly used?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34846 - DekuTree64 - Thu Jan 27, 2005 2:24 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Celeryface wrote:</b></span></td> </tr> <tr> <td class="quote">Is this a formula that is commonly used?</td> </tr></table><span class="postbody">
<br/>
<br/>
I don't think so. Most games I've seen use sprites for coins and things that get picked up, so there's no need to modify the BG data. 
<br/>
<br/>
Sometimes you do need to change things in the BG though, like to make a door open or blow something up. 
<br/>
Even then you don't need a specific formula though, if you go the route most games do and set up a BG scrolling system to use a single 32x32 screen and copy in strips of tiles at the edges. Then you only need to change the map data that the scrolling system references and ask it to redraw the screen. 
<br/>
<br/>
Scrolling systems are tricky though, so I wouldn't really recommend trying to write one right away. I would recommend using sprites for anything that changes though, that will make things much easier.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34848 - Celeryface - Thu Jan 27, 2005 2:50 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DekuTree64 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Celeryface wrote:</b></span></td> </tr> <tr> <td class="quote">Is this a formula that is commonly used?</td> </tr></table><span class="postbody">
<br/>
<br/>
I don't think so. Most games I've seen use sprites for coins and things that get picked up, so there's no need to modify the BG data. 
<br/>
<br/>
Sometimes you do need to change things in the BG though, like to make a door open or blow something up. 
<br/>
Even then you don't need a specific formula though, if you go the route most games do and set up a BG scrolling system to use a single 32x32 screen and copy in strips of tiles at the edges. Then you only need to change the map data that the scrolling system references and ask it to redraw the screen. 
<br/>
<br/>
Scrolling systems are tricky though, so I wouldn't really recommend trying to write one right away. I would recommend using sprites for anything that changes though, that will make things much easier.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
Yeah, I copy to the edges of the screen rather than drawing the entire 32x32 section of the map each frame.
<br/>
<br/>
I'm sure there's a little formula, just gotta figure it out. :P
<br/>
<br/>
Edit: I guess I could ask to redraw the map area during a collision, as you suggested as well.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34849 - Celeryface - Thu Jan 27, 2005 2:58 am</h4>
    <div class="postbody"><span class="postbody">Your idea about redrawing after a collision worked :)
<br/>
<br/>
Thanks for the idea.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
