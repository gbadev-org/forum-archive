<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>[solved] Problems with devkitarm in linux - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > [solved] Problems with devkitarm in linux</h2>
<div id="posts">
<div class="post">
    <h4>#153550 - bluesceada - Tue Apr 01, 2008 7:40 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">The solution was just to update to r21 ... I got r19 earlier, not from the official site and thought it was the newest one..
<br/>
<br/>
The thread can be removed I guess, sorry for being stupid!</span>
<br/>
<br/>
<span style="font-style: italic">I'm already sorry to post this and feel very dumb, as no tutorial and nothing could help me, I was searching all day long....
<br/>
<br/>
but to my problem:
<br/>
<br/>
I couldn't get any tutorial or other downloaded code either compile or compile decently with all the available devkits .. then I tried to concentrate on devkitarm but also couldnt get any working results... The best I could get is a white screen in VBA (but pre-compiled roms work)
<br/>
<br/>
The following SHOULD work? (or not?)
<br/>
<br/>
First my code (with other code I often have library problems etc.), It is partially from some howto, can't remember which, it's just one file, main.c: </span>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define RGB16(r,g,b)  ((r)+(g&lt;&lt;5)+(b&lt;&lt;10))
<br/>
<br/>
typedef unsigned char uint8;
<br/>
typedef unsigned short int uint16;
<br/>
typedef unsigned long int uint32;
<br/>
<br/>
// Register of the GBA Screen (begin of VRAM), up to 0x06017FFF
<br/>
uint16 *Screen = (uint16*)0x6000000;
<br/>
<br/>
int main()
<br/>
{
<br/>
   uint8 x,y;
<br/>
   // X Max is 240
<br/>
   // Y Max is 160
<br/>
<br/>
   // Set the Background Mode of the Screen, Mode 3, BG2 on, Bitmap based Mode for still images
<br/>
   *(uint16*)0x4000000 = 0x403;
<br/>
<br/>
   for(x = 0; x&lt;240; x++)
<br/>
   {
<br/>
      for(y = 0; y&lt;160; y++)
<br/>
      {
<br/>
         Screen[x+y*240] = RGB16(0,0,31);
<br/>
      }
<br/>
   }
<br/>
   // draw a white HI on the background
<br/>
   for(x = 20; x&lt;=60; x+=15)
<br/>
   {
<br/>
      for(y = 30; y&lt;50; y++)
<br/>
      {
<br/>
         Screen[x+y*240] = RGB16(31,31,31);
<br/>
      }
<br/>
   }
<br/>
   for (x = 20; x &lt; 35; x++)
<br/>
   {
<br/>
      Screen[x+40*240] = RGB16(31,31,31);
<br/>
   }
<br/>
   while(1) {};
<br/>
}
<br/>
<br/>
</td> </tr></table><span class="postbody"><span style="font-style: italic">
<br/>
<br/>
this is the script I'm using to compile (I couldn't find any other help for this ) I use $1=test and $2=main.c
<br/>
</span>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">export PATH=/home/username/GBAcode/devkitARM/bin/:$PATH
<br/>
<br/>
arm-eabi-gcc -Wall -mthumb -mthumb-interwork -specs=gba.specs -o $1.elf $2 
<br/>
<br/>
arm-eabi-objcopy -O binary $1.elf $1.gba
<br/>
<br/>
gbafix $1.gba
<br/>
VisualBoyAdvance ./$1.gba</td> </tr></table><span class="postbody">
<br/>
<span style="font-style: italic">
<br/>
I don't have setup anything further than this, because I just couldn't find out what.
<br/>
<br/>
I'm not a beginner in coding, just setting up a compiler toolchain was never that hard
<br/>
<br/>
I get no errors nor warnings, just a white VBA screen....
<br/>
<br/>
I hope you point me in the right direction and sorry for the inconvenience (if it should have been more obvious to solve than it seems to me)
<br/>
<br/>
Much thanks in advance!
<br/>
<br/>
// EDIT:
<br/>
For this tutorial, and exactly this example, using exactly their Makefile, I also just get a white screen (tried in VBA and mednafen) (everything compiles fine though) - the only thing I did is setting the DEVKITARM of course:
<br/>
<a href="http://www.coranac.com/tonc/text/first.htm" target="_blank">http://www.coranac.com/tonc/text/first.htm</a></span></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
