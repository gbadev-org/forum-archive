<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Is it possible to have too many variables? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Is it possible to have too many variables?</h2>
<div id="posts">
<div class="post">
    <h4>#11747 - yaustar - Fri Oct 17, 2003 8:36 pm</h4>
    <div class="postbody"><span class="postbody">Me and a friend are working on a program, and hit a problem. It seems that some of the variables are not being changed or not there at all.
<br/>
<br/>
We have been using a fair few s16 variables but we cant seem to find the root of the problem..
<br/>
<br/>
help<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11748 - sajiimori - Fri Oct 17, 2003 8:48 pm</h4>
    <div class="postbody"><span class="postbody">Well, the gba does have a limited amount of memory...
<br/>
<br/>
Maybe you could show us the actual situation you're in, and any errors you've encountered.  How many is a "fair amount"?  What do you mean by variables that are not there at all?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11750 - yaustar - Fri Oct 17, 2003 9:39 pm</h4>
    <div class="postbody"><span class="postbody">around 20 s16 values.
<br/>
<br/>
Basically it is a waypointing system and the guy moves to thr right x value but the wrong y value.
<br/>
<br/>
What is strange though is that it uses the next waypoint's x value for the previous y value instead.
<br/>
<br/>
I think some where along the line we overwrote some values in memory.
<br/>
<br/>
[/code]<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11751 - sajiimori - Fri Oct 17, 2003 10:05 pm</h4>
    <div class="postbody"><span class="postbody">Sounds like a good old-fashioned bug, unrelated to the number of variables.  I don't have enough information to help otherwise.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11752 - yaustar - Fri Oct 17, 2003 10:08 pm</h4>
    <div class="postbody"><span class="postbody">Yeah, it takes 5 mins to code it and 3hrs (still counting) to debug it.
<br/>
<br/>
Thanks for the help anyway<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11755 - yaustar - Fri Oct 17, 2003 11:43 pm</h4>
    <div class="postbody"><span class="postbody">is there a decent source debugger besides mappy?<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11758 - tepples - Sat Oct 18, 2003 12:26 am</h4>
    <div class="postbody"><span class="postbody">If you can get VisualBoyAdvance to work with GDB/Insight (<a class="postlink" href="http://vboy.emuhq.com/faq.shtml#cat12_0" target="_blank">instructions</a>), you can use that.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11759 - yaustar - Sat Oct 18, 2003 1:13 am</h4>
    <div class="postbody"><span class="postbody">We found the 'error'.
<br/>
<br/>
we created the variable as
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
array[3][1]
<br/>
</td> </tr></table><span class="postbody">
<br/>
and started putting values like this
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
array[0][0] =
<br/>
array[0][1] =
<br/>
array[1][0] =
<br/>
array[1][1] =
<br/>
array[2][0] =
<br/>
array[2][1] =
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Anyone else see the flaw here?
<br/>
<br/>
Thanks guys anyway. Sorry for being blind  :\<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11760 - Sean - Sat Oct 18, 2003 3:23 am</h4>
    <div class="postbody"><span class="postbody">yep, your matrix was being declared as 3x1 and you started using it as if it were 3x2.  I can admit to having done that a few times.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11761 - poslundc - Sat Oct 18, 2003 5:07 am</h4>
    <div class="postbody"><span class="postbody">FYI, variables you create are automatically put into IWRAM, and you have 32K of that.
<br/>
<br/>
20 s16 variables would consume 40 bytes of memory, or about 0.122% of the internal work memory you have. So you are not in any tremendous immediate danger. :)
<br/>
<br/>
When your project gets larger, you can start looking at EWRAM to hold your less speed-critical data. There's 256K there, which should be plenty for most applications.
<br/>
<br/>
I'm not certain what happens when you allocate more variables than IWRAM can hold. Does anyone know if the compiler will report a linker error? Or will your program just crash?
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11764 - yaustar - Sat Oct 18, 2003 12:29 pm</h4>
    <div class="postbody"><span class="postbody">I am amazed that the compilar didnt pick up on this and check out an error. It's amazing when you have been debugging to find an error for hours and it just appears right in front of you.<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#11778 - sajiimori - Sat Oct 18, 2003 8:27 pm</h4>
    <div class="postbody"><span class="postbody">C generally assumes you know what you're doing.  Here are a few circumstances where what you ask for is nearly impossible.
<br/>
<br/>
Here, the compiler cannot know how big the array is because the files are compiled seperately:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
// file1.c
<br/>
<br/>
int array[5];
<br/>
<br/>
<br/>
// file2.c
<br/>
<br/>
extern int* array;
<br/>
<br/>
f() { array[6] = 100; }
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Here, the compiler cannot know which values might be passed to alter_array:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int array[5];
<br/>
<br/>
void alter_array(int element, int value)
<br/>
{
<br/>
   array[element] = value;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The compiler doesn't know what input there may be:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int array[5];
<br/>
<br/>
f()
<br/>
{
<br/>
   int element;
<br/>
<br/>
   printf("Which element do you want to be 100?\n");
<br/>
   scanf("%d", &amp;element);
<br/>
<br/>
   array[element] = 100;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Sometimes, even if there is sufficient information, it's unrealistic to expect any compiler to deduce that there is a buffer overrun:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int array[5];
<br/>
<br/>
f()
<br/>
{
<br/>
   int i;
<br/>
<br/>
   for(i = 0; i &lt; 10; ++i)
<br/>
      array[i &gt;&gt; 1] = 100;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The compiler could warn you when you're using a constant indexer on an array of known size, but that's a pretty specific circumstance that wouldn't prevent the majority of errors.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
