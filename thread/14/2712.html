<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Arm and Thumb - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Arm and Thumb</h2>
<div id="posts">
<div class="post">
    <h4>#15309 - gbawiz - Tue Jan 20, 2004 7:59 pm</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
What is the meaning of Arm and Thumb, Are they different instruction sets?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15310 - ampz - Tue Jan 20, 2004 8:01 pm</h4>
    <div class="postbody"><span class="postbody">Yes.
<br/>
<br/>
ARM is the 32 bit instruction set.
<br/>
Thumb is the 16bit instruction set.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15312 - gbawiz - Tue Jan 20, 2004 8:06 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ampz wrote:</b></span></td> </tr> <tr> <td class="quote">Yes.
<br/>
<br/>
ARM is the 32 bit instruction set.
<br/>
Thumb is the 16bit instruction set.</td> </tr></table><span class="postbody">
<br/>
<br/>
So there is no difference in the assmbly mnemonics?
<br/>
which is faster, 16bit?
<br/>
<br/>
also i cant find any reference to the compiler option '-marm' only '-mthumb'
<br/>
is '-marm' a new option and what do they do?
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15314 - Miked0801 - Tue Jan 20, 2004 8:24 pm</h4>
    <div class="postbody"><span class="postbody">:)
<br/>
<br/>
Older versions of GCC had a seperate compiler for Arm and thumb - not a command line switch perhaps that's getting in your way.
<br/>
<br/>
GBA Assembly 101:
<br/>
<br/>
Thumb almost always runs faster than ARM in ROM because of the 16-bit  memory bus.  Basically, 32-bit ARM is somewhat hamstrung on this bus.
<br/>
<br/>
Arm - if written correctly - will run faster than Thumb in 32-bit IWRAM because of its increased flexibility.
<br/>
<br/>
Basically in ARM, you can combine compare/branches and shifts into a 1 cycle op-code and therefore increase your performance.  Also, you get double+ the registers in ARM mode which is nice :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15319 - poslundc - Tue Jan 20, 2004 8:35 pm</h4>
    <div class="postbody"><span class="postbody">The general strategy is to compile all of your code as Thumb code and leave it in the ROM, for two primary reasons:
<br/>
<br/>
- ROM is very, very large and thus is a very good place to keep the majority your code.
<br/>
<br/>
- Thumb instructions are 16 bits, and the ROM can only be accessed?16 bits at a time. Therefore if you were to use ARM instructions (which are 32 bits) in ROM it would take two cycles just to load a single instruction.
<br/>
<br/>
However, you might want to put small amounts of speed-critical code into IWRAM (which is only 32K large) and compile it as ARM instructions, for the following reasons:
<br/>
<br/>
- IWRAM is the fastest area of memory on the GBA - much faster than ROM or EWRAM - so your code loads out of it much quicker.
<br/>
<br/>
- IWRAM always accesses 32 bits at a time, so the time to load a 32-bit ARM instruction is the same as the time to load a 16-bit Thumb instruction. Since ARM instructions are much more powerful (as explained by Miked0801), it makes a lot more sense to use them in IWRAM.
<br/>
<br/>
The only exception to this is multiboot games, which need to run in EWRAM (usually in Thumb mode as well, since EWRAM reads 16 bits at a time, like ROM). Some people also put their code in EWRAM if it isn't speed-critical because it reduces battery consumption.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15323 - Miked0801 - Tue Jan 20, 2004 8:53 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Some people also put their code in EWRAM if it isn't speed-critical because it reduces battery consumption. 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Where'd you get that bit of trivia from?  I hadn't heard that before.
<br/>
<br/>
Mike</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15329 - tepples - Tue Jan 20, 2004 9:40 pm</h4>
    <div class="postbody"><span class="postbody">I used to spout that tidbit about power consumption all the time on the gbadev Yahoo! group. I noticed that my multiboot programs were less likely to drive my GBA's battery light red than my ROM-based programs, even with a cart inserted. This indicates that code running from EWRAM makes the CPU draw less current than code running from ROM.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15331 - ampz - Tue Jan 20, 2004 10:00 pm</h4>
    <div class="postbody"><span class="postbody">Yes there is a significant difference in power consumption between EWRAM and cart ROM. The difference is most significant when using a flash cart simply because flash memory consumes alot of current when accessed. The difference is smaller with a ROM cart.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
