<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Frequently Asked Questions *READ FIRST!* - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Frequently Asked Questions *READ FIRST!*</h2>
<div id="posts">
<div class="post">
    <h4>#2628 - tepples - Sun Feb 09, 2003 5:28 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-weight: bold">Answers to forum.gbadev.org Frequently Asked Questions
<br/>
By Damian Yerrick
<br/>
Updated 2007-08-08</span>
<br/>
<br/>
To help beginners, I've decided to cook up a list of frequently asked questions with their answers.  As more questions come up often, I will add them to this list.
<br/>
<br/>
<span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">Table of Contents</span></span>
<br/>
<ul><li>The basics </li><li>C and C++ </li><li>ARM7TDMI assembly language </li><li>Testing your code </li><li>Graphics </li><li>Audio </li><li>Saving </li><li>Miscellaneous</li></ul><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Wed Aug 08, 2007 5:20 am; edited 5 times in total</span></div>    
</div>
<div class="post">
    <h4>#6770 - tepples - Mon Jun 02, 2003 5:57 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">The basics</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: I have made a game in The Games Factory, Multimedia Fusion, RPG Maker, or Game Maker. How do I run it on a Game Boy Advance or Nintendo DS system?</span>
<br/>
<br/>
As of this writing, there is no simple way to do this. Those development environments are optimized for the larger memory of PCs. You will have to rewrite the code from the ground up.
<br/>
<br/>
<span style="font-weight: bold">Q: I'm brand new to this. How do I start developing for the GBA?</span>
<br/>
<br/>
Here's how I learned it, one step at a time:<ol type="1"><li>Learn the C programming language. A member has found <a class="postlink" href="http://www.eskimo.com/~scs/cclass/notes/top.html" target="_blank">this tutorial</a> helpful. Make some simple text-based programs for the PC. If you are looking for a PC-targeted compiler, and you're on Windows, try <a class="postlink" href="http://www.mingw.org/" target="_blank">MinGW</a>.
<br/>
</li><li>Get the 'curses' library (which may be called 'ncurses' on GNU/Linux or 'pdcurses' on DJGPP or MinGW) and make more sophisticated text-based programs for the PC.
<br/>
</li><li>Try making some graphical programs for the PC with the <a class="postlink" href="http://alleg.sourceforge.net/" target="_blank">Allegro library</a>.
<br/>
</li><li>Once you're comfortable with all of the previous steps, <span style="font-style: italic">now</span> go get a GBA-targeted cross-compiler and some graphics tools. There's a list of tutorials near the bottom of this FAQ.</li></ol>
<br/>
<span style="font-weight: bold">Q: How do I perform input and output?</span>
<br/>
<br/>
The GBA has memory-mapped input and output registers. Read the <a class="postlink" href="http://nocash.emubase.de/gbatek.htm" target="_blank">GBATEK document</a> for information on every publicly known GBA register. The GBA is in general emulated accurately, although some CPU timing issues still persist, and it's hard to find an emulator that supports the Game Link cable.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I implement game logic?</span>
<br/>
<br/>
Familiarity with <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=3753&amp;highlight=finite+state+machine" target="_blank">finite state machines</a> will help greatly.
<br/>
<br/>
<span style="font-weight: bold">Q: I've downloaded a program, but when I double-click its icon in Windows Explorer, a window filled with black opens and closes so quickly that I cannot read it. How do I use this program?</span>
<br/>
<br/>
It's probably a command line tool. If you don't know how to work the Windows command line, please work through <a class="postlink" href="http://www.google.com/search?q=dos%20tutorial" target="_blank">any of these DOS tutorials</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: I've got an error message!</span>
<br/>
<br/>
We can't help you very well unless you paste the exact text of the error message. If you don't already know how to copy and paste from a Command Prompt window and paste it into a forum post, here's how:
<br/>
<ol type="1"><li>Click the C:\ icon at the upper left to open the terminal menu. </li><li>Choose Edit &gt; Mark. </li><li>Drag a box around what you want to copy. </li><li>Press Enter to copy the boxed text. </li><li>Switch to another program and paste. </li></ol>
<br/>
<span style="font-weight: bold">Q: Want my ROMz?</span>
<br/>
<span style="font-weight: bold">Q: Do you have this ROM?</span>
<br/>
<span style="font-weight: bold">Q: Want my official tool or library?</span>
<br/>
<span style="font-weight: bold">Q: Do you have the Nintendo SDK?</span>
<br/>
<br/>
No. If it's copyrighted under all-rights-reserved terms, such as a commercial GBA ROM or parts of the official Nintendo SDK, then you're not allowed to distribute it on gbadev.org. Please read the <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=9484" target="_blank">official forum rules</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: If this FAQ doesn't answer my question, what should I do?</span>
<br/>
<br/>
Try a few <a class="postlink" href="http://forum.gbadev.org/search.php" target="_blank">search</a> queries. You might find just the answer you're looking for.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Thu Jul 26, 2007 10:41 pm; edited 10 times in total</span></div>    
</div>
<div class="post">
    <h4>#6772 - tepples - Mon Jun 02, 2003 5:58 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">C and C++</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: What compiler should I use?</span>
<br/>
<br/>
GCC is a compiler suite, created by the Free Software Foundation, which has support for the ARM7TDMI processor in the GBA. Most developers, both professional and amateur, use a version of GCC. If you run Microsoft Windows or Linux on the x86 architecture, try the "devkitARM" distribution of GCC, which you can download at <a class="postlink" href="http://www.devkitpro.org/" target="_blank">http://www.devkitpro.org/</a>.
<br/>
<br/>
Professional developers with a ton of money to spare may use a proprietary compiler. If you are a professional, being paid for your work, it may be worth your while to consider ARM's own compiler or <a class="postlink" href="http://www.ghs.com/products/compiler.html" target="_blank">Green Hills compilers</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I install devkitARM on Windows?</span>
<br/>
<br/>
Use the latest <a class="postlink" href="http://sourceforge.net/project/showfiles.php?group_id=114505&amp;package_id=160396" target="_blank">devkitPro Updater</a>, an installer written in NSIS that automatically fetches and installs the required components for you. If you are developing for the Game Boy Advance or Nintendo DS, you probably want everything but devkitPPC and devkitPSP.
<br/>
<br/>
This installer places files inside folders called 'bin', 'lib', 'include', etc. inside C:\devkitPro\devkitARM\. There should be a file called <span style="font-weight: bold">C:\devkitPro\devkitARM\bin\arm-eabi-gcc.exe</span>. It's not something to be double-clicked; you'll have to use the command prompt. Most GCC users are familiar with their favorite operating system's command prompt. If you have never used a command prompt, <a class="postlink" href="http://www.google.com/search?q=learn%20dos" target="_blank">learn DOS</a>; the Windows command prompt is copied nearly wholesale from DOS's.
<br/>
<br/>
Ordinarily, you will use GNU Make to build your projects, and a conforming makefile handles the <span style="font-weight: bold">PATH</span> environment variable for you, based on the contents of the <span style="font-weight: bold">DEVKITPRO</span> and <span style="font-weight: bold">DEVKITARM</span> variables. But if you are using devkitARM components outside of a makefile, such as <span style="font-weight: bold">arm-elf-nm</span> to see what is taking up space in the binary, you'll have to add the path of the folder containing arm-eabi-gcc.exe to your PATH. Don't do this system-wide, or builds will fail for mysterious reasons. Instead, make a <a class="postlink" href="http://computerhope.com/batch.htm" target="_blank">batch file</a> that adds to the PATH for only one command prompt session:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">@echo off
<br/>
set PATH=C:\devkitPro\devkitARM\bin;%PATH%
<br/>
cmd</td> </tr></table><span class="postbody">
<br/>
And then double-click this batch file.
<br/>
<br/>
If you are writing your own makefile instead of using the makefile from the libgba project template, there are some more details that apply to cross-compilers such as devkitARM: When linking a program, you'll need to specify the Thumb C library (<span style="font-weight: bold">-mthumb</span>) that supports interworking (<span style="font-weight: bold">-mthumb-interwork</span>) and the GBA memory layout (<span style="font-weight: bold">-specs=gba.specs</span> for ROM or <span style="font-weight: bold">-specs=gba_mb.specs</span> for multiboot), or you'll just get a white screen:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">arm-eabi-gcc -Wall -mthumb -mthumb-interwork -specs=gba_mb.specs hello.c -o hello.elf
<br/>
arm-eabi-objcopy -O binary hello.elf hello.mb</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">Q: How do I do XYZ in C or in C++?</span>
<br/>
<br/>
See the <a class="postlink" href="http://isc.faqs.org/faqs/C-faq/faq/" target="_blank">comp.lang.c FAQ</a> or <a class="postlink" href="http://www.parashift.com/c++-faq-lite/" target="_blank">C++ FAQ Lite</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I put multiple files in a program?</span>
<br/>
<br/>
Make a header (.h) file containing the class/struct declarations and function prototypes, and #include it from your .c and .cpp files.
<br/>
<br/>
DON'T:
<br/>
Add other C files to your main.c by #include "foo.c".
<br/>
<br/>
DO:
<br/>
Add other C files by compiling them separately (arm-eabi-gcc {options} -c foo.c -o foo.o) and linking them together (arm-eabi-gcc {options} a.o b.o c.o d.o -o game.elf).
<br/>
<br/>
<span style="font-weight: bold">Q: How do I put more than one source code file into a project?</span>
<br/>
<br/>
Use GNU Make, which comes with MinGW or MSYS. You might find the <a class="postlink" href="http://www.gnu.org/software/make/manual/html_chapter/make_toc.html" target="_blank">GNU Make manual</a> and this <a class="postlink" href="http://www.pineight.com/gba/faq/make.html" target="_blank">tutorial by sajiimori</a> helpful.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I put large (&gt; 16 KB) arrays into a GBA program without it crashing?</span>
<br/>
<br/>
The linker script included with devkitARM puts arrays and other variables into IWRAM unless you tell it otherwise. Trouble is IWRAM is only 32 KiB. For arrays that you don't plan to modify, use the keyword <span style="font-weight: bold">const</span>, which will instruct the linker to put the entire array into ROM (or EWRAM for .mb programs). For arrays that you do plan to modify, put them into EWRAM using a section attribute on the array's definition: <ul><li><span style="font-weight: bold">__attribute__((section (".sbss")))</span> char foo[8192];
<br/>
Puts the variable in EWRAM and initializes it to zero at program start. (Initializer values are ignored.) </li><li><span style="font-weight: bold">__attribute__((section (".ewram")))</span> char foo[8192] = {3, 4, /*... */ };
<br/>
Puts the variable in EWRAM and initializes it to the given values at program start. (This uses space in the binary even if initializer values are not given.) </li></ul>
<br/>
<span style="font-weight: bold">Q: Where can I get a header file describing the GBA hardware?</span>
<br/>
<br/>
Most developers nowadays use the header files that come with libgba or libnds. It contains several useful macros to define the addresses of the memory-mapped I/O registers and to form RGB color values, plus constants that represent bitwise settings.
<br/>
<br/>
<span style="font-weight: bold">This paragraph is historical.</span> At one time, the Pin Eight GBA header file by Damian Yerrick (<span style="font-weight: bold">tepples</span> on gbadev forum), distributed with most of <a class="postlink" href="http://www.pineight.com/gba/" target="_blank">his GBA software</a>, was popular. It contains macros much like those in the libgba headers, but with different names, initially for what were thought to be legal purposes. In many cases, where there exist multiple sets of registers for a given task (such as the DMA, timers, background scrolling, background control, etc), the macros simulate a structure in register space, an array of registers, or even an array of structs. It began to fall out of use around the time libfat was adopted because libfat depended on the libgba headers. However, libgba headers do use arrays and structures in many cases.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I use C effectively?</span>
<br/>
<br/>
Some of <a class="postlink" href="http://bdn.borland.com/article/0,1410,28278,00.html" target="_blank">these tips</a> will work. But remember that clarity is more important than optimization. According to Donald Knuth, "premature optimization is the root of all evil."
<br/>
<br/>
<span style="font-weight: bold">Don't divide too much.</span> Because the ARM architecture has no hardware divider, and Nintendo forgot to put one in the GBA's I/O area like it did on the Super NES, the / and % operators are extremely slow. Don't use them unless you really have to. Alternatives, in order of most preferable to least preferable:<ul><li>For division by a power of 2, bitshifting; for modulus by a power of 2, the &amp; operator. </li><li>For division by an approximate constant, fixed-point multiplication by its reciprocal. (Recent GCC may do this for you.) </li><li>For division by an exact constant (as in binary to decimal conversion), 1. multiply by the reciprocal rounded properly, 2. multiply the quotient by the divisor, and 3. add one to the quotient if the dividend is less than the product. (Recent GCC may do this for you as well.) </li><li>For division by a variable in a small range (as in DDA algorithms), make a lookup table of reciprocals. </li><li>For division by a variable in a large range, use the BIOS divide call, which is faster than the divide code that GCC inserts into your code, or a <a class="postlink" href="http://www.geocities.com/v_d_d/gba/math.html" target="_blank">custom divider in IWRAM</a>, which is even faster than the BIOS routine (which is optimized for size rather than speed, as is everything else in the BIOS). </li><li>On the DS, you can use the hardware divider in the I/O area, but be careful with interrupts: there is only one context for both the main thread and for interrupts. </li></ul>
<br/>
<span style="font-weight: bold">Avoid floating point.</span> Don't use floating-point arithmetic unless you absolutely have to. The GBA has no dedicated floating-point hardware, and all floating-point operations have to be run in a slow software FPU emulator. Use fixed-point arithmetic instead; if you need floating-point arithmetic to create a data table, create it on the host computer before compiling the program.
<br/>
<br/>
<span style="font-weight: bold">Avoid trigonometry.</span> Use lookup tables instead. Write a program that runs on the host computer to build a lookup table containing values of cos(x*Pi/512) from x=0..256, and then write cos() and sin() functions that index into that table. This table contains only one quadrant of sin(), so you'll need to perform appropriate reflections.
<br/>
<br/>
<span style="font-weight: bold">Avoid calling small functions in an inner loop.</span> Calling a function flushes the processor's instruction pipeline and saves the contents of registers to the stack, and returning reads the stack and flushes the pipeline. Inline functions, on the other hand, are pasted directly into your code stream. For a small performance boost, make your smallest functions inline functions wherever it makes sense. At higher optimization settings (-O2 and especially -O3), GCC will try to do this for you when the caller and callee are in the same file. Use the <span style="font-weight: bold">static</span> keyword to give GCC a hint that a function will be called only from one file; use <span style="font-weight: bold">static inline</span> to give GCC an even stronger hint.
<br/>
<br/>
<span style="font-weight: bold">Use fast RAM.</span> On the Game Boy Advance, compiling your code as ARM and putting it in IWRAM will make it faster. However, you have only 32 KB of IWRAM, so choose what to put in IWRAM wisely. But once you've profiled your program and decided which speed-critical functions to put in IWRAM, there are two ways to do it: <ul><li>arm-eabi-gcc -Wall -O2 <span style="font-weight: bold">-marm</span> -mthumb-interwork -c mixer.c <span style="font-weight: bold">-o mixer.iwram.o</span>
<br/>
Puts everything in the compiled module into IWRAM. </li><li><span style="font-weight: bold">__attribute__((section (".iwram"),long_call))</span>
<br/>
int mixer(void) { /*...*/ }
<br/>
Puts only one function's binary code into IWRAM. </li></ul>
<br/>
Likewise, code that manipulates savegame data or flash cart bankswitch registers should usually run in EWRAM: <ul><li><span style="font-weight: bold">__attribute__((section (".ewram"),long_call))</span>
<br/>
void bytecpy(void *restrict in_dst, const void *restrict in_src, unsigned int length) { /*...*/ }
<br/>
Puts the function's binary code into EWRAM. </li></ul>
<br/>
Less of this should be necessary on the Nintendo DS, which has an instruction and data cache.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I use C++ effectively?</span>
<br/>
<br/>
C++ is a powerful language, but with great power comes great responsibility. Too many novices read through a "21-day" C++ book and come out of it with just enough knowledge to be dangerous. StoneCypher is a big fan of C++, and he has written a <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=148387#148387" target="_blank">post clearing up some people's misconceptions</a>.
<br/>
<br/>
Use whatever features of C and C++ that you're comfortable with, but know the cost of what you use. C++ is a big language; to help you find your way around, StoneCypher recommends the <span style="font-style: italic">Effective C++</span> books by Scott Meyers. Not everybody considers C++ as maintainable as C, especially due to the <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=6768#6768" target="_blank">larger context required to understand a given piece of code</a>. I've read that <a class="postlink" href="http://thread.gmane.org/gmane.comp.version-control.git/57643/focus=57918" target="_blank">Linus Torvalds isn't a big fan either</a>, but that might be in part because Linux is older than the C++ standard.
<br/>
<br/>
Template types may produce large code, filling available RAM, unless you're very careful. Unfortunately, a lot of people are not. Know where your templates are instantiated, and know which classes are actually template instantiations (such as std::string).
<br/>
<br/>
The C++ standard library itself is a maze of templates. DevkitARM includes GNU libstdc++, which unfortunately is tuned for use as a shared library on Linux, not as a static library on an embedded system. A Hello World program for GBA that uses &lt;iostream&gt; compiles to over 180,000 bytes on devkitARM, even if you use -Os -Wl,-gc-sections to make ld try harder at removing unreachable code. A quick pass through arm-eabi-nm reveals that much of this space is used for locale support and the floating-point emulator. StoneCypher claimed that he and Wintermute were able to work around this, but he <a class="postlink" href="http://slashdot.org/comments.pl?sid=257245&amp;cid=20033817" target="_blank">refused to give any details other than "RTFM"</a>. It may be possible to fix this if you have a <span style="font-style: italic">lot</span> of time on your hands, such as by replacing GNU libstdc++ with <a class="postlink" href="http://slashdot.org/comments.pl?sid=267983&amp;cid=20214265" target="_blank">uClibc++</a>.
<br/>
<br/>
But it's perfectly fine to use C++ with the parts of the standard library that it inherits from the C language, such as &lt;cstdio&gt; and &lt;cstdlib&gt;. In this environment, you can use C-style error handling through return values instead of exceptions. Consider <span style="font-weight: bold">T foo = <a class="postlink" href="http://www.gotw.ca/publications/mill15.htm" target="_blank">new(std::nothrow)</a> T;</span>, which returns NULL if it can't allocate an object, just like malloc does. If you know you're not using exceptions in a program, give g++ the <span style="font-weight: bold">-fno-exceptions</span> flag when you compile and link for a minor performance boost.
<br/>
<br/>
Run-time type identification (RTTI) is used for the dynamic_cast&lt;&gt; and typeid operators. One can often refactor an object-oriented design so as not to use these operators. If you know you're not using RTTI in a program, give g++ the <span style="font-weight: bold">-fno-rtti</span> flag when you compile and link for a minor performance boost.
<br/>
<br/>
If declaring a pure virtual method gives "undefined reference to 'write'", you are using old devkitARM. If you cannot upgrade, see <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=1222" target="_blank">this topic</a> for a solution.
<br/>
<br/>
If your C++ program is much larger than you expect, or you start running out of RAM (especially in a GBA multiboot or on the DS ARM7), see <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=119209#119209" target="_blank">tepples' list of six space-saving tips</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: In C++, what is the difference between a struct and a class?</span>
<br/>
<br/>
A class can contain data members (also called fields), member functions (also called methods), and virtual member functions; so can a struct. A class can contain members with public, protected (subclass API), or private (internal) privilege; so can a struct. A class can inherit or be inherited; so can a struct.
<br/>
<br/>
In fact, C++ sees <span style="font-style: italic">only one difference</span> between a struct and a class: <a class="postlink" href="http://wiki.answers.com/Q/What_is_the_difference_between_a_structure_and_a_class" target="_blank">A struct's members before the first privilege declaration are public; those of a class are private.</a>
<br/>
<br/>
The other difference is that the C language accepts only struct. C and C++ are officially separate languages, but often, code in the C++ language must work together with code in the C language. Programmers tend to apply the term "struct" to data types that match the "<a class="postlink" href="http://www.fnal.gov/docs/working-groups/fpcltf/Pkg/ISOcxx/doc/POD.html" target="_blank">Plain Old Data</a>" (POD) semantics inherited from C. The difference between POD and non-POD is orthogonal to the difference between class and struct, but this distinction remains a good practice in order to mark types as safe for use in C.
<br/>
<br/>
<span style="font-weight: bold">Q: My program works when compiled without optimizations (-O0), but when compiled with optimizations (-O, -O2, -O3), it misbehaves. How do I fix this?</span>
<br/>
<br/>
<span style="font-weight: bold">The following paragraph is historical, as libgba headers handle this correctly.</span>
<br/>
Most likely: You forgot to declare your registers as volatile. When optimizing your program, GCC removes repeated accesses to memory addresses that it assumes do not change. This is not true of the memory-mapped registers such as the vertical scan position register (REG_VCOUNT) and the joypad data register. To tell GCC that the values of those registers change behind your program's back, you have to declare them as volatile.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">/* Instead of this: */
<br/>
#define REG_VCOUNT (*(unsigned short *)0x04000006)
<br/>
/* Do this */
<br/>
#define REG_VCOUNT (*(volatile unsigned short *)0x04000006)
<br/>
</td> </tr></table><span class="postbody">
<br/>
Also use volatile for variables that an interrupt service routine can change.
<br/>
<br/>
Far less likely: You ran into an optimizer bug. Check the GCC mailing lists to see if any ARM optimizer bugs have been reported in the last couple months. You may find that optimizer bugs have been fixed in a version of devkitARM based on a more recent GCC.
<br/>
<br/>
<span style="font-weight: bold">Q: How should I specify what files to rebuild?</span>
<br/>
<br/>
It used to be common to use batch files that rebuild everything every time, especially for the simplest projects. Nowadays, most projects use GNU Make, an automated rebuilding tool which is included with MSYS. The libgba and libnds project templates include makefiles that automatically discover and compile all C source code files in a specific folder. See also the <a class="postlink" href="http://www.gnu.org/software/make/manual/" target="_blank">GNU Make manual</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I set up devkitARM with my favorite integrated development environment?</span>
<br/>
<br/>
You can try the <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=5271" target="_blank">Eclipse instructions</a> or the <a class="postlink" href="http://www.devkitpro.org/visual-++-express.shtml" target="_blank">Visual Studio instructions</a>. 
<br/>
<br/>
<span style="font-weight: bold">Q: How do I generate pseudo-random numbers?</span>
<br/>
See the topics linked from <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=1431" target="_blank">here</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Sat Jan 05, 2008 7:27 am; edited 37 times in total</span></div>    
</div>
<div class="post">
    <h4>#6773 - tepples - Mon Jun 02, 2003 6:01 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">ARM7TDMI assembly language</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: How do I do XYZ in assembly language?</span>
<br/>
<br/>
In addition to the <a class="postlink" href="http://www.gbadev.org/docs.php#arm" target="_blank">ARM documents listed on gbadev.org</a>, members of this forum have recommended the following tutorials:<ul><li><a class="postlink" href="http://www.ee.ic.ac.uk/pcheung/teaching/ee2_computing/" target="_blank">http://www.ee.ic.ac.uk/pcheung/teaching/ee2_computing/</a></li></ul>
<br/>
<span style="font-weight: bold">Q: Do I need to rewrite XYZ in assembly language?</span>
<br/>
<br/>
Candidates for the asm treatment include audio mixers, video rasterizers, and anything that handles a large chunk of data and must do so quickly.  But get it working in C first; you may find that GCC's optimizer, along with compiling to ARM and putting the code in IWRAM, is enough.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6774 - tepples - Mon Jun 02, 2003 6:03 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">Testing your code</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: How do I test a GBA program?</span>
<br/>
<br/>
The easiest way is through an emulator.  The most popular and most accurate free GBA emulator is <a class="postlink" href="http://vboy.emuhq.com/" target="_blank">VisualBoyAdvance</a> by Forgotten.
<br/>
<br/>
Once you're confident about writing code that works in an emulator, you should consider purchasing some development hardware.  I recommend the <a class="postlink" href="http://www.lik-sang.com/info.php?category=51&amp;products_id=1415&amp;" target="_blank">MBV2 cable available from Lik Sang</a>.  It doesn't give you access to the ROM space, but it's much less expensive for those starting out than using a flash cartridge.
<br/>
<br/>
Before introducing a new complicated algorithm, you may want to "unit test" the algorithm in a PC program first, as the PC's publicly available debuggers are more mature than those for the GBA.
<br/>
<br/>
<span style="font-weight: bold">Q: I double-click the ROM I just compiled, and a Sega Genesis emulator launches. Why doesn't it launch my GBA emulator?</span>
<br/>
<br/>
<span style="font-weight: bold">Q: I've installed VisualBoyAdvance, and now it launches whenever I double-click a Sega Genesis ROM. What did I do wrong?</span>
<br/>
<br/>
The problem here arises because before the GBA came out, .bin typically referred to Sega Genesis ROMs, and many people had .bin associated to a Sega Genesis emulator such as DGen.
<br/>
<br/>
Solution: Save your GBA ROMs with a .gba extension, save your GBA multiboot binaries with a .mb extension, associate .gba and .mb files to VisualBoyAdvance, and keep .bin associated to your Sega Genesis emulator.
<br/>
<br/>
<span style="font-weight: bold">Q: I followed the tutorial and just wrote my first GBA program, but after compiling it and running it, I get a white screen. Why isn't it working?</span>
<br/>
<br/>
A. Some emulators (such as recent versions of VisualBoyAdvance) support ROMs in ELF format; others don't. The GBA doesn't. You'll have to convert the output of GCC (in ELF format) to a raw GBA binary before actually using it. The command to do this:
<br/>
<br/>
objcopy -v -O binary yourromname.elf yourromname.gba
<br/>
<br/>
<span style="font-weight: bold">Q: My program works on the emulator; why doesn't it work when sent over the MBV2 cable?</span>
<br/>
<br/>
First of all, is your program compiled as a multiboot program?  If you are using something based on Jeff F's linker script, such as the one that comes with DevKit Advance R4 or R5 beta 3, you need to insert the following line of code into one of your source code files:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int __gba_multiboot = 0;</td> </tr></table><span class="postbody">
<br/>
If you have more questions about multiboot, see <a class="postlink" href="http://www.devrs.com/gba/files/mbv2faqs.php" target="_blank">Devrs.com MBV2 FAQ</a>
<br/>
<br/>
Another less common reason is that the emulator has a bug in it and your program depends on this incorrect behavior. One common bug in VisualBoyAdvance is that it doesn't emulate the various GBA memory areas' wait states, so any code running in EWRAM or ROM will run faster on VBA than on hardware. This can prove disastrous for code designed to run within Hblank.
<br/>
<br/>
<span style="font-weight: bold">Q: My program works when compiled without multiboot. Why does it break when compiled with multiboot?</span>
<br/>
<br/>
Are you overwriting your program?  If your program is 128 KB in size, it should not write to EWRAM before 128 KB.  In any case, a multiboot program should not exceed about 240 KB in size.
<br/>
<br/>
<span style="font-weight: bold">Q: Which flash cart is the best?</span>
<br/>
<br/>
All currently manufactured GBA flash carts are good enough for GBA development. If you are going for some more exact needs, read some reviews of the carts. If you need to talk to someone about your choice, then consider some other forum or channel before forum.gbadev.org or #gbadev. A partial list of such forums can be found in the <a class="postlink" href="http://forum.gbadev.org/viewforum.php?f=17" target="_blank">Flash Equipment section</a>.
<br/>
<br/>
If you want compatibility with the PogoShell software that lets you run multiple GBA programs from one cart, display .txt files, play .wav files, and emulate the NES, the Flash2Advance cart (non-Ultra) is your best bet because its bankswitching method is well understood.
<br/>
<br/>
<span style="font-weight: bold">Q: Where should I buy a flash cart?</span>
<br/>
<br/>
Read the <a class="postlink" href="http://forum.gbadev.org/viewforum.php?f=13" target="_blank">Retailer Feedback section</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: Can I ask you about cart problems?</span>
<br/>
<br/>
You can ask any questions about your flash cart as long as you include details about what's wrong.  But again, your friend <a class="postlink" href="http://www.google.com/" target="_blank">Google</a> is the best choice. Some sites have forums dedicated to flash cart problems. There's also 
<br/>
<br/>
And no, we don't yet know how to access the real-time clock of the EZ-Flash carts. In fact, the makers of EZ-Flash refuse to disclose this information. (The other flash carts with a real-time clock use the same protocol that Pok?mon uses.)
<br/>
<br/>
<span style="font-weight: bold">Q: My program works on the emulator, but when I try it on hardware, the "Nintendo" logo does not appear. How do I fix this?</span>
<br/>
<br/>
<span style="font-weight: bold">Q: When I write several programs to a flash cart, how do I change their displayed names?</span>
<br/>
<br/>
GBA programs must begin with a valid header. The GBA hardware is more strict about headers than most emulators are, and you'll need to use a "header tool" to fix the header.  But watch out: a valid header contains a 156-byte block of data on which Nintendo may claim copyright. Distributing a program with a valid header is considered fair in the United States (see <a class="postlink" href="http://www.eff.org/Legal/Cases/sega_v_accolade_977f2d1510_decision.html" target="_blank"><span style="font-style: italic">Sega v. Accolade</span></a>) but may be unlawful in jurisdictions whose copyright laws leave less room for fair use. Know the laws of all jurisdictions where you have assets.
<br/>
<br/>
You can find header tools in <a class="postlink" href="http://www.gbadev.org/tools.php?section=header" target="_blank">gbadev.org's header tools section</a>. These will add a valid Nintendo logo to your program; most also have the ability to change the ROM's 12-character name that appears in the flash cart's loader menu.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Sun May 23, 2004 7:59 pm; edited 7 times in total</span></div>    
</div>
<div class="post">
    <h4>#6775 - tepples - Mon Jun 02, 2003 6:06 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">Graphics</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: How do I write text?</span>
<br/>
<br/>
This is one of the most frequently repeated questions on the board. The easiest way is to use a tile mode, reserve 64 tiles out of your tile set (numbered 32 to 95), and put one glyph in each, following the <a class="postlink" href="http://en.wikipedia.org/wiki/ASCII#ASCII_printable_characters" target="_blank">order of ASCII printable characters</a>. Then write your strings to one of the maps using one space per character. My <a class="postlink" href="http://www.pineight.com/gba/#agbtty" target="_blank">AGBTTY</a> library implements this method.
<br/>
<br/>
Other ways include using one sprite per letter or dynamically modifying tile sets.
<br/>
<br/>
<span style="font-weight: bold">Q: Why is the display of my first demo all weird?</span>
<br/>
<br/>
Video memory must be written 16 or 32 bits a time. If you try to write 8 bits at a time, you'll actually write the same 8 bits to the lower and upper bytes of a 16-bit half word.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I convert graphics into a format the GBA can use?</span>
<br/>
<br/>
There are several bitmap conversion tools available free of charge in the tools section of <a class="postlink" href="http://www.gbadev.org/" target="_blank">http://www.gbadev.org/</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I load assets such as audio and graphics from my program?</span>
<br/>
<br/>
One way is to convert your data into an array and link it into the executable image, by converting it to a .c file (a C array; <span style="font-weight: bold">deprecated</span>), a .s file (an assembly language array), or a .o file (an object file ready to be linked into a GBA executable).  There are several binary asset converters available free of charge in the tools section of <a class="postlink" href="http://www.gbadev.org/" target="_blank">http://www.gbadev.org/</a>; the maintainer of this FAQ distributes one as part of <a class="postlink" href="http://www.pineight.com/gba/#gbfs" target="_blank">GBFS</a>.  Make sure that your conversion tool marks the arrays <span style="font-weight: bold">const</span> (if it outputs C code) or puts them in <span style="font-weight: bold">section .rodata</span> (if it outputs .s or .o).
<br/>
<br/>
The other way is to append a file system, or archive, to your ROM, which may be easier than linking the data directly, especially when you have programmers and artists working independently. <a class="postlink" href="http://www.pineight.com/gba/#gbfs" target="_blank">GBFS</a>, developed by this FAQ's maintainer, is popular. However, appended data isn't compatible with common methods of source-level debugging, so your build may have to have a "debug" mode that reads a linked-in GBFS file and a "release" mode that reads an appended GBFS file.
<br/>
<br/>
<span style="font-weight: bold">Q: In "text" modes (0, 1, 2), why are my tiles corrupted?</span>
<br/>
<br/>
On the GBA, the "pattern tables", which contain tile data, can overlap the "nametables," which hold maps. (In some tutorials, "pattern tables" are called "character base blocks", and "nametables" are called "screen base blocks".) Though a pattern table must start on a 16 KB boundary, a pattern table for a text background actually spans 1024 tiles (32 KB or 64 KB depending on bit depth). A rot/scale background's pattern table is always 256 colors, 256 tiles, and 16 KB. More than one background can use the same pattern table.
<br/>
<br/>
Overwriting tiles with maps or vice versa can result in corruption, so don't mix them in the same part of memory unless you really know what you're doing.  If you're just starting out, I'd suggest you use the first 48 KB of VRAM (pattern tables 0, 1, and 2) for tile data and the next 16 KB of VRAM (nametables 24-31) for map data.
<br/>
<br/>
There are 2048 tiles' worth of VRAM (1024 if you're using 256-color tiles); for each map, you lose 64 tile positions (32 if you're using 256-color tiles).
<br/>
<br/>
Also, make sure that both your map data, your tile data, and your palette data are aligned to a 4-byte boundary within your binary. If you use assembly language, put <span style="font-weight: bold">.balign 4</span> on a line before the data; in C do this (recommended only for smaller arrays such as palette data): <ul><li><span style="font-weight: bold">__attribute__((aligned(4)))</span> const char foo[8192] = { /*...*/ };
<br/>
Aligns the start of the array to a 4-byte boundary.
<br/>
</li></ul>
<br/>
<span style="font-weight: bold">Q: Why do my sprites become corrupt when I move them off the top or the left side of the screen?</span>
<br/>
<br/>
On the ARM7 CPU and on most other digital processors used today, negative numbers are stored in a form called "two's complement", which (to simplify things) uses a sequence of 1 bits at the beginning to signify that it's negative. If you try to write a two's complement number directly to an OAM attribute, the 1 bits will interfere with other bitfields within that attribute, which causes the corruption you see. 
<br/>
<br/>
To draw a sprite that overlaps the left side or the top of the screen, cut off the extra 1 bits before you OR in the other attributes, like this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">OAM[n].attr0 = other_attr0_attributes | (y_coordinate &amp; 0x00FF);
<br/>
OAM[n].attr1 = other_attr1_attributes | (x_coordinate &amp; 0x01FF);</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">Q: What color is transparent?</span>
<br/>
<br/>
(answer based on an explanation by sgeos)
<br/>
<br/>
For backgrounds in modes 0, 1, 2, and 4, and for sprites in any mode, transparency is not determined by the color of a palette entry. Palette entry zero is always transparent. Any color can be loaded into palette entry zero, but because that color will not be seen, you'll often see black, sky blue, hot pink, or whatever the artist used to represent transparency in palette entry zero. (NOTE: Palette entry zero of background palette zero is used as the backdrop color. This is the only case in which the color of a "transparent" palette entry will be displayed.)
<br/>
<br/>
<span style="font-weight: bold">Q: How do I draw things behind things?</span>
<br/>
<br/>
In modes 0, 1, and 2, background layers with a lower layer priority number. will appear in front of background layers with a high layer priority number, and sprites will appear in front of a background layer with an equal layer priority number. However, this does not apply to mode 3 or mode 5, the 32 Kicolor bitmapped modes. There's no known way to draw sprites partially hidden by a hi-color (mode 3 or mode 5) background.
<br/>
<br/>
Sprite-to-sprite overlapping, on the other hand, is governed by the order in which the sprites appear in OAM. A lower-numbered sprite will appear in front of a higher-numbered sprite. If you want this to interact nicely with the sprite-to-background priorities, you should sort the sprites in order of their layer priority, such that sprites with layer priority 0 come first in OAM. There are some obscure graphics tricks that rely on complex interactions between sprite and background priority, but these should not be nearly as necessary on the GBA as they were on the NES.
<br/>
<br/>
And if you're using sprite alpha blending, place opaque sprites in front of translucent sprites; otherwise, the translucent sprites will appear to cut a hole in the opaque sprites.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I rotate and scale sprites?</span>
<br/>
<br/>
See <a class="postlink" href="http://user.chem.tue.nl/jakvijn/tonc/affine.htm" target="_blank">this tutorial</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: I tried to rotate and scale sprites, but all I get is a colored box!</span>
<br/>
<br/>
If a sprite looks like a colored box of all one color, typically the color of the center pixel of your sprite cel, then you have either not populated the matrix correctly (in attribute 3) or not chosen a matrix for your sprite (in attribute 1).
<br/>
<br/>
<span style="font-weight: bold">Q: My colors look OK on the emulator but too dark on hardware. How do I fix this?</span>
<br/>
<br/>
The GBA's screen is darker than a typical CRT or than a PC LCD, which corrects its colors to look like a CRT. You'll need to use some <a class="postlink" href="http://www.cgsd.com/papers/gamma_intro.html" target="_blank">gamma correction</a> on each of the RGB components when writing your palettes to video memory. This can be done at compile time, or you can do it at runtime if you want to change your images' appearance on CRTs (Game Boy Player and emulators) and LCDs (GBA and GBA SP).
<br/>
<br/>
True gamma correction involves either transcendental math, which is slow on platforms without an FPU, or lots of lookup tables. A quick approximation to the gamma correction is affine brightness correction. Try this formula on each component: </span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">new_component = old_component * 3 / 4 + 8;</td> </tr></table><span class="postbody">
<br/>
<br/>
<span style="font-weight: bold">Q: How do I make a map?</span>
<br/>
<br/>
There are several map editors available free of charge in the tools section of <a class="postlink" href="http://www.gbadev.org/" target="_blank">http://www.gbadev.org/</a>. However, for maximum efficiency, you may want to develop your own domain-specific map editor.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I make a large, continuously scrolling map?</span>
<br/>
<br/>
The typical map size is 32x32 tiles, or 256x256 pixels. You can display a window on a larger virtual world by replacing the map entries that just scrolled off the edge of the screen with new map entries that appear on the other edge. To see what I'm talking about, fire up any GBA game that uses this effect and use VisualBoyAdvance's map viewer.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I make the "Mode 7" effects of games such as <span style="font-style: italic">F-Zero</span> and <span style="font-style: italic">Mario Kart Super Circuit</span>?</span>
<br/>
<br/>
"Mode 7" referred to a graphics mode on the Super NES that could rotate and scale a map on each scanline of the screen.  The equivalent modes on the GBA are mode 1 (which provides one "mode 7" plane and two standard tiled planes) and mode 2 (which provides two "mode 7" planes).
<br/>
<br/>
To create the 3D plane effect, you're going to have to use quite a bit of trigonometry to create coordinates and then use hblank DMA to copy them to VRAM. For a working example with source, look at "Hardware perspective view" in <a class="postlink" href="http://darkfader.net/gba" target="_blank">darkfader.net's GBA section</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I make 3D graphics?</span>
<br/>
<br/>
The GBA does not have Direct3D or OpenGL; you'll have to write your own software 3D engine. I recommend <span style="font-style: italic">Black Art of 3D Game Programming</span> by Andre LaMothe as a good introduction to software 3D engines.
<br/>
<br/>
<span style="font-weight: bold">Q: I'm using a bitmap mode.  Why don't my sprites show up?</span>
<br/>
<br/>
Sprites in display mode 3, 4, or 5 must use cel data from 0x06014000 to 0x06017FFF because the area in 0x06010000 to 0x06013FFF is reserved for the background.  This cel data area corresponds to indices 512 to 1023 in sprite attribute 2.
<br/>
<br/>
Again, in mode 3 and 5, sprites will not show up behind the background.  Use mode 4 if you want this effect.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I time an animation?</span>
<br/>
<br/>
There are about 60 vblanks per second on a GBA. After every vblank, increment a frame counter associated to the actor. When it reaches the desired delay, reset the timer to 0 and advance the animation to the next cel. For instance, if you want a 12 frames per second animation, change cels every time you count to 5.
<br/>
<br/>
This also works for a game clock.  Increase the 'frame' every vblank, increase the 'second' every 60 frames, and increase the 'minute' every 60 seconds.
<br/>
<br/>
Synchronizing an animation to one of the GBA's four timers is a bad idea: 1. it eats up a timer, and 2. it can cause a race condition between your main thread and the animation, causing corrupt display or even a crash. The GBA's four timers are best used for PCM sample clocking, for high-resolution profiling, or for interacting with external devices.
<br/>
<br/>
<span style="font-weight: bold">Where can I learn more about game graphics techniques?</span>
<br/>
<br/>
Look for tutorials written by members of the demo scene. Archeious has suggested <a class="postlink" href="http://www.geocities.com/SiliconValley/Park/9784/tut.html" target="_blank">this one</a>.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Sat Mar 08, 2008 1:34 pm; edited 23 times in total</span></div>    
</div>
<div class="post">
    <h4>#6776 - tepples - Mon Jun 02, 2003 6:08 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">Audio</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: How do I play sampled sound on the GBA?</span>
<br/>
<br/>
<a class="postlink" href="http://belogic.com/gba/" target="_blank">BeLogic's The Audio Advance</a> describes all GBA registers associated with sound.
<br/>
<br/>
<span style="font-weight: bold">Q: What audio formats can the GBA use?</span>
<br/>
<br/>
For beginners, the best audio format to use on the GBA is 8-bit signed PCM.  (Some mixers such as Farb-rausch's use unsigned samples instead, but most use signed.)  The .wav PCM format is 8-bit unsigned PCM or 16-bit signed PCM with a header.  Converters from wav to something the GBA can use are available in the tools section at <a class="postlink" href="http://www.gbadev.org/" target="_blank">http://www.gbadev.org/</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: I'm trying to write a small program. How do I make sound without devoting a large amount of my program to samples?</span>
<br/>
<br/>
In addition to the GBA's two PCM channels, the GBA also has a few tone generators inherited from the Game Boy Color.  The only publicly available GBA emulator that handles the tone generators well is VisualBoyAdvance.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I play more than two PCM sound channels?</span>
<br/>
<br/>
You'll have to write a software mixer.  (This is another thing you're going to want to test on the PC first before you port it to the GBA.)
<br/>
<br/>
<span style="font-weight: bold">Q: What music formats can the GBA use?</span>
<br/>
<br/>
The GBA BIOS itself has no support for the tracked music formats popular on PCs (mod, s3m, xm, mid), but they can all be translated into formats the GBA can use. Your GBA-side music code will parse your favorite music format (learn how at <a class="postlink" href="http://www.wotsit.org/" target="_blank">http://www.wotsit.org/</a>) and translate it into either tone generator instructions or mixer instructions. If you're just starting out, you may want to experiment with <a class="postlink" href="http://mind.riot.org/krawall/" target="_blank">Krawall</a> or <a class="postlink" href="http://www.gatesboy.com/fras/" target="_blank">Fras</a>. (Make .mod, .xm, and .s3m files with a tracker such as <a class="postlink" href="http://www.modplug.com/" target="_blank">Modplug Tracker</a>.)
<br/>
<br/>
If you know a thing or two about audio compression, and you have a lot of cart space to work with, you may want to try something based on ADPCM. But don't try to decode MP3 in real time; the GBA's processor just isn't fast enough, and dedicated decoding hardware is too expensive to distribute with each copy of a game.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#6777 - tepples - Mon Jun 02, 2003 6:09 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">Saving</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: How do I save information from power-off to next power-on?</span>
<br/>
<br/>
GBA carts with SRAM save hardware contain up to 64 KiB of addressable RAM.  But unlike other RAM in the system, save RAM can be accessed only one byte at a time.  The easiest way to read and write save RAM is to make an array or struct containing all the items you want to save, and then use a byte-at-a-time version of memcpy() to move data in and out. Some programmers prefer to use a struct, as it allows for using multiple data types; others like to serialize the data manually, putting it into a char array.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
/* Example save code, based on an idea by sgeos
<br/>
   Rewritten by tepples to use same semantics as memcpy()*/
<br/>
<br/>
#define SRAM ((unsigned char *)0x0e000000)
<br/>
<br/>
/* bytecpy() *****
<br/>
   Copy a block of data a byte at a time from src to dst.
<br/>
   Useful for copying data in and out of a cart's SRAM.
<br/>
*/
<br/>
__attribute__((section (".ewram"),long_call))
<br/>
void bytecpy(void *restrict in_dst, const void *restrict in_src, unsigned int length)
<br/>
{
<br/>
  unsigned char *restrict src = (unsigned char *)in_src;
<br/>
  unsigned char *restrict dst = (unsigned char *)in_dst;
<br/>
<br/>
  for(; length &gt; 0; length--)
<br/>
    *dst++ = *src++;
<br/>
}
<br/>
<br/>
typedef struct SaveData
<br/>
{
<br/>
  int foo;
<br/>
  unsigned short bar;
<br/>
  unsigned char lives;
<br/>
  unsigned char level;
<br/>
  char player_name[12];
<br/>
} SaveData;
<br/>
<br/>
SaveData data;
<br/>
<br/>
/* to save to offset 4 */
<br/>
bytecpy(SRAM + 4, &amp;data, sizeof(data));
<br/>
<br/>
/* to load from offset 4 */
<br/>
bytecpy(&amp;data, SRAM + 4, sizeof(data));
<br/>
<br/>
<br/>
char serialized[200];
<br/>
<br/>
/* to save already serialized data */
<br/>
bytecpy(SRAM + 4, serialized, sizeof(serialized));
<br/>
</td> </tr></table><span class="postbody">
<br/>
Another tip: Don't use the first or last byte of SRAM, as those locations can become corrupted in some cases during power-cycle or pak-swapping. Also, if you're trying to get published, realize that official Game Paks have only 32 KiB of SRAM.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Thu Jul 07, 2005 12:44 am; edited 1 time in total</span></div>    
</div>
<div class="post">
    <h4>#6778 - tepples - Mon Jun 02, 2003 6:11 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-size: 18px; line-height: normal"><span style="font-weight: bold">Miscellaneous</span></span>
<br/>
<br/>
<span style="font-weight: bold">Q: What else should a newcomer to GBA programming read?</span>
<br/>
<br/>
<a class="postlink" href="http://www.coranac.com/tonc/text/toc.htm" target="_blank">TONC tutorial</a>
<br/>
<a class="postlink" href="http://www.devrs.com/gba/files/gbadevfaqs.php" target="_blank">Devrs.com GBA FAQ</a>
<br/>
<a class="postlink" href="http://www.google.com/search?q=finite+state+machine" target="_blank">Google: finite state machine</a>, which defines the structure of most games.
<br/>
<br/>
<span style="font-weight: bold">How do I detect single button taps instead of continuous presses?</span>
<br/>
<br/>
First define "tap". A "tap" means that a button has just become pressed, which means that the button is pressed now and wasn't pressed before. So to detect a "tap" of a button, compare the state of a button now to the state of the button before. This means you'll have to store the previous states of buttons in order to compare them with the current states the next time through the game loop.
<br/>
<br/>
You can detect multiple taps at once by using sets of buttons with the <a class="postlink" href="http://mathworld.wolfram.com/SetDifference.html" target="_blank">set-difference operator</a> <span style="font-weight: bold">&amp; ~</span>. Given sets A and B represented as active-high bitfields (1 in a given place value representing present and 0 absent), the C language expression <span style="font-weight: bold">A &amp; ~B</span> returns those elements that are present in set A and not present in set B.
<br/>
<br/>
Implementation in C follows:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define REG_KEYINPUT (*(unsigned short *)0x04000130)
<br/>
<br/>
void game_loop(void)
<br/>
{
<br/>
  char done = 0;
<br/>
  unsigned short last_joy = ~0;  /* begin with all bits set */
<br/>
<br/>
  while(!done)
<br/>
  {
<br/>
    unsigned int j = ~REG_KEYINPUT;  /* fetch the states of buttons and convert to active-high */
<br/>
    /* each 1 in j corresponds to a pressed button */
<br/>
    unsigned int j_taps = j &amp; ~last_joy;  /* compute new presses */
<br/>
    /* each 1 in j_taps corresponds to a newly pressed button */
<br/>
<br/>
    last_joy = j;  /* save the previous states */
<br/>
<br/>
    /* OMITTED: act on j_taps, do other business logic, and do graphics and sound */
<br/>
  }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<span style="font-weight: bold">Q: How do I reduce a program's power usage?</span>
<br/>
<br/>
If you don't need sound, turn off sound.
<br/>
<br/>
When waiting for vblank, you can put the GBA's CPU to sleep until an interrupt happens by using the VBlankIntrWait BIOS function, but before calling it, you'll need to install an interrupt handler, as the BIOS doesn't provide one. Refer to the interrupt sections of tutorials to learn how to enable interrupts, and refer to the next question to learn how to write an interrupt handler.
<br/>
<br/>
<span style="font-weight: bold">Q. What should an interrupt handler look like?</span>
<br/>
<br/>
If you don't use the devkitARM interrupt dispatcher, you can write your own ISR (interrupt service routine) based on the following boilerplate:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void isr(void)
<br/>
{
<br/>
  /* Should read REG_IF *only once* in an ISR. */
<br/>
  unsigned int interrupts = REG_IF;
<br/>
<br/>
  if(interrupts &amp; INT_VBLANK)
<br/>
  {
<br/>
    /* do vblank stuff */
<br/>
  }
<br/>
  if(interrupts &amp; INT_HBLANK)
<br/>
  {
<br/>
    /* do hblank stuff */
<br/>
  }
<br/>
<br/>
  /* Tell the BIOS which interrupts the ISR handled;
<br/>
     without this, IntrWait and VBlankIntrWait won't work
<br/>
     on real hardware, but they may work on some
<br/>
     emulators' inexact high-level emulation of the BIOS.
<br/>
     Need |= because this is plain old RAM. */
<br/>
  *(unsigned short *)0x03fffff8 |= interrupts;
<br/>
<br/>
  /* Finally tell the hardware which interrupts the ISR handled.
<br/>
     Need = rather than |= because we don't want to
<br/>
     acknowledge interrupts that happened while the ISR
<br/>
     was running. */
<br/>
  REG_IF = interrupts;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
See also <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?p=27057#27057" target="_blank">this post</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: Can a GBA emulate a Sega Genesis or Super NES console?</span>
<br/>
<br/>
Not likely. Because the host's processor and the Super NES's processors have different instruction sets, the host must interpret the Super NES's instructions. According to Bill Woods, interpreting another instruction set costs a factor of 10 in speed, and the GBA isn't ten times faster than the Super NES. And that's not even counting the subtle semantic differences between GBA graphics and Super NES graphics (e.g. BG priorities per tile) that would seem to require a full emulation rather than a one-to-one mapping of features.
<br/>
<br/>
The easiest way to get classic 16-bit games on the GBA is to license the source code and assets and port them yourself. Of course, this is feasible only if you work at a big company and have authority to submit project proposals.
<br/>
<br/>
On the other hand: The recently released SNES Advance emulator can run a few games slowly. However, because of the impedance mismatches between the Super NES and GBA ways of doing things, it may never achieve nearly the same level of compatibility as PocketNES.
<br/>
<br/>
<span style="font-weight: bold">Q: How do I get a game published commercially?</span>
<br/>
<br/>
Stop. Is your game significantly better than 80+ percent of the GBA games you've already tried? If not, it probably won't sell in such a saturated market. Unless you represent a company that has already made a name for itself on another platform, it'll be quite difficult for you to get your foot in the door.
<br/>
<br/>
From what I've read, getting a GBA game published is much like getting a book published. Contact several licensed publishers that have published games similar to yours. In a query letter sent to each publisher you're considering, explain your game in the most general terms. If a publisher likes your idea, it will offer you a non-disclosure agreement. Read the agreement, sign it, return it, and then follow up with a game design document. Then send your ROM along with the latest version of VisualBoyAdvance on a CD-R. (The publisher can't steal your game and sell it because copyright in your game comes into effect as soon as it's fixed in a tangible medium.)
<br/>
<br/>
More tips <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=2181" target="_blank">here</a>.
<br/>
<br/>
<span style="font-weight: bold">Q: Where can I find ROM images of commercial GBA games?</span>
<br/>
<br/>
Neither I nor the gbadev.org staff condone unauthorized copying of copyrighted works. If you want ROM images of commercial GBA games, follow these instructions:<ol type="1"><li>Get a linker from any of the retailers listed in the Retailer Feedback section.</li><li>Buy some Game Paks.</li><li>Copy Game Paks to hard disk using linker.</li><li>Do not distribute resulting ROM images to any other person.</li></ol><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"><br/><br/>Last edited by tepples on Fri Oct 15, 2004 9:50 pm; edited 7 times in total</span></div>    
</div>
<div class="post">
    <h4>#175368 - jukov - Tue Nov 02, 2010 10:06 am</h4>
    <div class="postbody"><span class="postbody">c++ very intresting )
<br/>
<a class="postlink" href="http://eyesvisions.com" target="_blank"><span style="font-size: 0px; line-height: normal"><span style="color: #DEE3E7"><span style="text-decoration: underline">eyesight correction</span></span></span></a><a class="postlink" href="http://eyesvision.ru/laser-correction" target="_blank"><span style="font-size: 0px; line-height: normal"><span style="color: #DEE3E7"><span style="text-decoration: underline">астигматизм</span></span></span></a>
<br/>
<a class="postlink" href="http://eyesvision.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">восстановление зрения</span></span></a><a class="postlink" href="http://largeheart.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lasercalibration.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laserpulse.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laterevent.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://latrinesergeant.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://layabout.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://leadcoating.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://leadingfirm.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://learningcurve.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://leaveword.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://machinesensible.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://magneticequator.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://magnetotelluricfield.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://mailinghouse.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://majorconcern.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://mammasdarling.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://managerialstaff.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://manipulatinghand.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://manualchoke.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://nameresolution.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://naphtheneseries.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://narrowmouthed.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://nationalcensus.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://naturalfunctor.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://navelseed.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://neatplaster.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://necroticcaries.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://negativefibration.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://neighbouringrights.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://objectmodule.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a>
<br/>
<a class="postlink" href="http://observationballoon.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://obstructivepatent.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://oceanmining.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://octupolephonon.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://offlinesystem.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://offsetholder.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://olibanumresinoid.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://onesticket.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://packedspheres.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://pagingterminal.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://palatinebones.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://palmberry.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://papercoating.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://paraconvexgroup.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://parasolmonoplane.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://parkingbrake.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://partfamily.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://partialmajorant.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://quadrupleworm.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://qualitybooster.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://quasimoney.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://quenchedspark.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://quodrecuperet.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://rabbetledge.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://radialchaser.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://radiationestimator.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://railwaybridge.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://randomcoloration.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://rapidgrowth.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a>
<br/>
<a class="postlink" href="http://rattlesnakemaster.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://reachthroughregion.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://readingmagnifier.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://rearchain.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://recessioncone.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://recordedassignment.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://rectifiersubstation.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://redemptionvalue.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://reducingflange.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://referenceantigen.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://regeneratedprotein.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://reinvestmentplan.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://safedrilling.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://sagprofile.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://salestypelease.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://samplinginterval.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://satellitehydrology.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://scarcecommodity.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://scrapermat.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://screwingunit.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://seawaterpump.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://secondaryblock.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://secularclergy.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://seismicefficiency.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://selectivediffuser.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://semiasphalticflux.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://semifinishmachining.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://tacticaldiameter.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://tailstockcenter.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a>
<br/>
<a class="postlink" href="http://tamecurve.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://tapecorrection.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://tappingchuck.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://taskreasoning.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://technicalgrade.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://telangiectaticlipoma.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://telescopicdamper.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://temperateclimate.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://temperedmeasure.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://tenementbuilding.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://ultramaficrock.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://ultraviolettesting.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://factoringfee.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://filmzones.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gadwall.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gaffertape.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gageboard.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gagrule.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gallduct.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://galvanometric.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gangforeman.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gangwayplatform.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://garbagechute.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gardeningleave.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gascautery.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gashbucket.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gasreturn.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gatedsweep.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gaugemodel.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a>
<br/>
<a class="postlink" href="http://gaussianfilter.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://gearpitchdiameter.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://geartreating.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://generalizedanalysis.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://generalprovisions.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://geophysicalprobe.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://geriatricnurse.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://getintoaflap.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://getthebounce.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://habeascorpus.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://habituate.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hackedbolt.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hackworker.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hadronicannihilation.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://haemagglutinin.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hailsquall.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hairysphere.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://halforderfringe.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://halfsiblings.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hallofresidence.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://haltstate.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://handcoding.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://handportedhead.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://handradar.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://handsfreetelephone.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hangonpart.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://haphazardwinding.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hardalloyteeth.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hardasiron.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a>
<br/>
<a class="postlink" href="http://hardenedconcrete.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://harmonicinteraction.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hartlaubgoose.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hatchholddown.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://haveafinetime.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://hazardousatmosphere.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://headregulator.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://heartofgold.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://heatageingresistance.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://heatinggas.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://heavydutymetalcutting.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://jacketedwall.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://japanesecedar.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://jibtypecrane.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://jobabandonment.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://jobstress.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://jogformation.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://jointcapsule.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://jointsealingmaterial.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://journallubricator.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://juicecatcher.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://junctionofchannels.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://justiciablehomicide.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://juxtapositiontwin.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kaposidisease.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://keepagoodoffing.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://keepsmthinhand.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kentishglory.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kerbweight.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a>
<br/>
<a class="postlink" href="http://kerrrotation.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://keymanassurance.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://keyserum.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kickplate.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://killthefattedcalf.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kilowattsecond.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kingweakfish.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kleinbottle.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kneejoint.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://knifesethouse.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://knockonatom.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://knowledgestate.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kondoferromagnet.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://labeledgraph.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laborracket.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://labourearnings.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://labourleasing.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laburnumtree.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lacingcourse.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lacrimalpoint.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lactogenicfactor.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lacunarycoefficient.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://ladletreatediron.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laggingload.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laissezaller.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lambdatransition.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laminatedmaterial.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lammasshoot.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lamphouse.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a>
<br/>
<a class="postlink" href="http://lancecorporal.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://lancingdie.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://landingdoor.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://landmarksensor.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://landreform.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://landuseratio.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://languagelaboratory.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://audiobookkeeper.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://cottagenet.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://eyesvision.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://eyesvisions.com/" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://kinozones.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://laserlens.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://medinfobooks.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://mp3lists.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://spicetrade.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://spysale.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a><a class="postlink" href="http://stungun.ru" target="_blank"><span style="color: #DEE3E7"><span style="text-decoration: underline">87b</span></span></a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
