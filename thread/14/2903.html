<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>I need gcc for idiots - need help - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > I need gcc for idiots - need help</h2>
<div id="posts">
<div class="post">
    <h4>#16658 - 628man - Sun Feb 22, 2004 5:02 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
Before I get into my questions, here's some quick background info: I started using HAM but wasn't satisfied and stopped using the lib altogether. Then I was still compiling my own programs with the Win32 HAM IDE, but it slows down my system too much and I decided to move on.
<br/>
<br/>
So I decompressed and started DevKit Advance properly on Win2k, hoping I'd get a basic framework built-up for using with an IDE. Unfortunately, it's been 8 years since I've even touched GCC in a text shell and I have no idea what to do. No makefile I created ever seemed to work. So I tried manually running gcc from the shortcut and it still fails. GCC won't even "find" gba.h in the same directory as the other source files or the include directory! I've taken makefile examples and converted them to my directories and nothing works.
<br/>
<br/>
my paths and environment variables look correct.
<br/>
<br/>
What I need help with--
<br/>
<br/>
I'd like to know how I can get this to work possibly from the command line (or is it too complicated to be reasonable?) or some help with gcc and make like a site with important switch explanations. None of my directories seem to be working...not even the directory I'm compiling from!
<br/>
<br/>
example:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">gcc main.c rand.c -o output.elf</td> </tr></table><span class="postbody">
<br/>
produces:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
main.c:8:17: gba.h: No such file or directory
<br/>
(hundreds of additional errors)
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
somebody help a DKA newbie out with a working makefile or something? I've been stuck on this for days. PS: I know I will need to link files and hook interrupts, compile both ARM and THUMB modes, etc. I'm not very good at navigating complexity.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16660 - DekuTree64 - Sun Feb 22, 2004 5:15 am</h4>
    <div class="postbody"><span class="postbody">Do you have a gba.h? If not you'll need to find/make one. It's usually just a lot of defines for all the GBA's registers and the typedefs for the u32/s32/u16 etc. types and such. Download pretty much any game or demo with source and you'll find one, or check the CowBite spec or GBATEK for the reg addresses and waste some time typing it yourself.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16662 - 628man - Sun Feb 22, 2004 5:18 am</h4>
    <div class="postbody"><span class="postbody">That's what I don't understand...gba.h is in the same directory as the other files. It's also in the include directory F:\gba\devkitadv-r5-beta-3\include</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16672 - yaustar - Sun Feb 22, 2004 1:45 pm</h4>
    <div class="postbody"><span class="postbody">Shouldn't it be?:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">gcc -o main.c rand.c output.elf</td> </tr></table><span class="postbody">
<br/>
Or does it not matter?<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16678 - tepples - Sun Feb 22, 2004 4:28 pm</h4>
    <div class="postbody"><span class="postbody">The -o has to immediately precede the name of the ELF file (e.g. -o output.elf).<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16688 - 628man - Sun Feb 22, 2004 8:43 pm</h4>
    <div class="postbody"><span class="postbody">I pulled the gba.h include directive out of system brackets (&lt;&gt;) and into quotes and it works now, but I'd still like to get the primary system include directories working eventually.
<br/>
<br/>
So, it's now back to trying to get a decent, simple, generic makefile to work that will fill in options such as that.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16700 - dagamer34 - Mon Feb 23, 2004 3:25 am</h4>
    <div class="postbody"><span class="postbody">Or you can just grab one from one of the demos at the Pern Project.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16771 - 628man - Tue Feb 24, 2004 8:19 pm</h4>
    <div class="postbody"><span class="postbody">Pern project is nice, but anything I don't do myself would end up being confusing if there were a problem (like I've had with other makefile's I've borrowed) need to make my own to understand it, and did.
<br/>
<br/>
This page has most of the useful GCC options. Comparing it with other makefiles has proved helpful:
<br/>
<br/>
<a href="http://gcc.gnu.org/onlinedocs/gcc-3.3.3/gcc/Option-Summary.html#Option%20Summary" target="_blank">http://gcc.gnu.org/onlinedocs/gcc-3.3.3/gcc/Option-Summary.html#Option%20Summary</a>
<br/>
<br/>
And I thought GCC was archaic and difficult to use in 1996...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
