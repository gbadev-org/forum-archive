<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Pixel write in tiled modes? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Pixel write in tiled modes?</h2>
<div id="posts">
<div class="post">
    <h4>#91224 - devmelon - Wed Jul 05, 2006 12:01 pm</h4>
    <div class="postbody"><span class="postbody">Hello, I am in a bit of a rush so I'll make it short. 
<br/>
<br/>
1) When you are in tiled modes (0-2), you can't write per-pixel rasterizing methods directly to VRAM <span style="font-weight: bold">0x0600 0000</span>? 
<br/>
<br/>
2) I assume you could write the effect to tile data and then organize tiles on a background with higher priority to create the illusion of rasterizing on top of a tiled background?
<br/>
<br/>
Thanks in <span style="font-style: italic">advance</span>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91242 - Dwedit - Wed Jul 05, 2006 4:31 pm</h4>
    <div class="postbody"><span class="postbody">Yep.  You need to draw to the tiles, and change the tiles on the tilemap.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91274 - ScottLininger - Wed Jul 05, 2006 10:16 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">2) I assume you could write the effect to tile data and then organize tiles on a background with higher priority to create the illusion of rasterizing on top of a tiled background?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes. Create a BG layer that has a unique tile for each 8x8 grid on the screen, then write a single pixel into those tiles.
<br/>
<br/>
Once the tile map is set up correctly, it's no different from plotting a pixel into bitmap mode, though the math to identify the memory location for each individual pixel is more complicated, and since you can only address a 32-bit section of VRAM at a time, (which corresponds to 4 pixels worth of tile data) you have to do some bit masking to make it work.
<br/>
<br/>
I have an example of this from an old project I was playing with. Let me know if you'd like me to post it somewhere for you to see. (Sounds like you've already got the idea.)
<br/>
<br/>
:)
<br/>
<br/>
Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91504 - DiscoStew - Fri Jul 07, 2006 4:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ScottLininger wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">2) I assume you could write the effect to tile data and then organize tiles on a background with higher priority to create the illusion of rasterizing on top of a tiled background?</td> </tr></table><span class="postbody">
<br/>
<br/>
Yes. Create a BG layer that has a unique tile for each 8x8 grid on the screen, then write a single pixel into those tiles.
<br/>
<br/>
Once the tile map is set up correctly, it's no different from plotting a pixel into bitmap mode, though the math to identify the memory location for each individual pixel is more complicated, and since you can only address a 32-bit section of VRAM at a time, (which corresponds to 4 pixels worth of tile data) you have to do some bit masking to make it work.
<br/>
<br/>
I have an example of this from an old project I was playing with. Let me know if you'd like me to post it somewhere for you to see. (Sounds like you've already got the idea.)
<br/>
<br/>
:)
<br/>
<br/>
Scott</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Isn't it 16-bits into VRAM? Also along with that, depending on your color mode (either 4-bit or 8-bit tilecels), you will not only have to work with multiple pixels at the same time like ScottLininge said, but you are also limited to the palette, of which if it is 4-bit, then you have to designate each tile to use a certain palette and use only the colors available to that palette. If it isn't a very sophisticated rasterization involving a lot of colors (like only 15 colors), then it shouldn't be much of a problem.<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91508 - thegamefreak0134 - Fri Jul 07, 2006 5:27 pm</h4>
    <div class="postbody"><span class="postbody">For the record, I believe Golden Sun used this tile technique, along with alpha blending, for it's particle system in the battle modes.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91572 - ScottLininger - Fri Jul 07, 2006 11:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ScottLininger wrote:</b></span></td> </tr> <tr> <td class="quote">since you can only address a 32-bit section of VRAM at a time</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DiscoStew wrote:</b></span></td> </tr> <tr> <td class="quote">Isn't it 16-bits into VRAM? </td> </tr></table><span class="postbody">
<br/>
<br/>
Right you are. 
<br/>
<br/>
You mean what I know. ;)
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91579 - DiscoStew - Sat Jul 08, 2006 12:33 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ScottLininger wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ScottLininger wrote:</b></span></td> </tr> <tr> <td class="quote">since you can only address a 32-bit section of VRAM at a time</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>DiscoStew wrote:</b></span></td> </tr> <tr> <td class="quote">Isn't it 16-bits into VRAM? </td> </tr></table><span class="postbody">
<br/>
<br/>
Right you are. 
<br/>
<br/>
You mean what I know. ;)
<br/>
<br/>
-Scott</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah I do, just clearing it up for those that don't know.  :)<br/>_________________<br/><span style="font-weight: bold">DS</span> - It's all about <span style="font-weight: bold">D</span>isco<span style="font-weight: bold">S</span>tew</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91676 - Quirky - Sat Jul 08, 2006 6:05 pm</h4>
    <div class="postbody"><span class="postbody">I used this exact technique in a remake of <a class="postlink" href="http://geocities.com/quirky_2k1/games/elitea/shots.html" target="_blank">Elite A</a>...
<br/>
<br/>
It has a few advantages over "normal" bitmap mode (mode 4, for example), namely that you can use more layers - the scanner uses another layer and sprites -, the screen clearing takes 1/4 of the time, and you use less VRAM even with double buffering so sprites are not hindered.
<br/>
<br/>
The disadvantes are only 16 colours - I make this less noticeable by changing palettes every now and again - and the pixel writing code requires a bit of thought.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#91843 - devmelon - Mon Jul 10, 2006 3:26 am</h4>
    <div class="postbody"><span class="postbody">Thanks everyone, it's cake already :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
