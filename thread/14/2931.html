<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Rotating Sprite - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Rotating Sprite</h2>
<div id="posts">
<div class="post">
    <h4>#16891 - stranger - Thu Feb 26, 2004 3:05 pm</h4>
    <div class="postbody"><span class="postbody">I would like to ask would it be possible to show rotating sprite under mode 4?? 
<br/>
Actually, I want to show a rotating sprite on a static background(I can only show it in Mode 4  &gt;____&lt;). Could someone give me some hints to do it?
<br/>
<br/>
Thanks a lot</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16892 - poslundc - Thu Feb 26, 2004 3:12 pm</h4>
    <div class="postbody"><span class="postbody">The only caveat to using sprites in Mode 4 (or any bitmap mode) is that the bitmap data cuts into half of the available sprite tile data, which means you can only use tile indices 512 and up.
<br/>
<br/>
Both of the tutorials from <a class="postlink" href="http://www.thepernproject.com" target="_blank">The Pern Project</a> and <a class="postlink" href="http://www.gbajunkie.co.uk" target="_blank">http://www.gbajunkie.co.uk</a> explain how to perform sprite scaling/rotation.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16898 - stranger - Thu Feb 26, 2004 4:49 pm</h4>
    <div class="postbody"><span class="postbody">thanks for your reply.
<br/>
<br/>
how about my background is photo, can the rotating sprite be shown on the background in mode 4? as I don't know how to show rotating sprite in mode 4.
<br/>
<br/>
I only know how to show it in mode 2
<br/>
///////////////////////// Sprite ////////////////////////
<br/>
SetMode(MODE_2 | BG2_ENABLE | OBJ_ENABLE | OBJ_MAP_1D); 	for(loop = 0; loop &lt; 256; loop++)
<br/>
    OBJPaletteMem[loop] = compass3Palette[loop];		
<br/>
InitializeSprites();
<br/>
sprites[0].attribute0 = COLOR_256 | SQUARE | ROTATION_FLAG | MODE_TRANSPERANT | SIZE_DOUBLE | y;  
<br/>
sprites[0].attribute1 = SIZE_64 |ROTDATA(0)| x;
<br/>
sprites[0].attribute2 = char_number;
<br/>
for(index = 0; index &lt; 256*8; index++)
<br/>
OAMData[index] = compass3Data[index];</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16900 - stranger - Thu Feb 26, 2004 4:59 pm</h4>
    <div class="postbody"><span class="postbody">thanks for your reply.
<br/>
<br/>
how about my background is photo, can the rotating sprite be shown on the background in mode 4? as I don't know how to show rotating sprite in mode 4.
<br/>
<br/>
I only know how to show it in mode 2
<br/>
///////////////////////// Sprite ////////////////////////
<br/>
SetMode(MODE_2 | BG2_ENABLE | OBJ_ENABLE | OBJ_MAP_1D); 	for(loop = 0; loop &lt; 256; loop++)
<br/>
    OBJPaletteMem[loop] = compass3Palette[loop];		
<br/>
InitializeSprites();
<br/>
sprites[0].attribute0 = COLOR_256 | SQUARE | ROTATION_FLAG | MODE_TRANSPERANT | SIZE_DOUBLE | y;  
<br/>
sprites[0].attribute1 = SIZE_64 |ROTDATA(0)| x;
<br/>
sprites[0].attribute2 = char_number;
<br/>
for(index = 0; index &lt; 256*8; index++)
<br/>
OAMData[index] = compass3Data[index];</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16901 - poslundc - Thu Feb 26, 2004 5:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>stranger wrote:</b></span></td> </tr> <tr> <td class="quote">how about my background is photo, can the rotating sprite be shown on the background in mode 4? as I don't know how to show rotating sprite in mode 4.
<br/>
<br/>
I only know how to show it in mode 2</td> </tr></table><span class="postbody">
<br/>
<br/>
OK... I'm going to be blunt with you... do you really <span style="font-style: italic">know</span> how to display sprites in <span style="font-style: italic">any</span> mode? Have you ever tried it? Because from the look of it you've just copied and pasted the code straight from the Pern tutorials.
<br/>
<br/>
Displaying sprites in Mode 4 is exactly the same as displaying sprites in Mode 2, except for only being able to use tile indices 512 and up. If you don't know how to switch to Mode 4 then you need to start the tutorials over and work through them more diligently.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16902 - stranger - Thu Feb 26, 2004 5:32 pm</h4>
    <div class="postbody"><span class="postbody">I am so sorry about using the pern code for my first try.
<br/>
<br/>
I have tried the sprite in mode 4
<br/>
<br/>
sprites[0].attribute0 = COLOR_256 | SQUARE | ROTATION_FLAG | MODE_TRANSPERANT | SIZE_DOUBLE | y;  
<br/>
sprites[0].attribute1 = SIZE_64 |ROTDATA(0)| x;
<br/>
sprites[0].attribute2 = char_number+512; 	
<br/>
<br/>
However, I can't show the sprite in VisualBoyAdvance, but it can be shown in Mappy. I am confused about using mode 4 for rotating sprite.
<br/>
<br/>
Thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16905 - poslundc - Thu Feb 26, 2004 7:19 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>stranger wrote:</b></span></td> </tr> <tr> <td class="quote">I am so sorry about using the pern code for my first try.</td> </tr></table><span class="postbody">
<br/>
<br/>
There's nothing wrong with using the Pern code, but when you imply that you don't know how to do something as simple as switch modes and your code is directly copied from Pern, it doesn't come across as though you've tried very much.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">sprites[0].attribute0 = COLOR_256 | SQUARE | ROTATION_FLAG | MODE_TRANSPERANT | SIZE_DOUBLE | y;  
<br/>
sprites[0].attribute1 = SIZE_64 |ROTDATA(0)| x;
<br/>
sprites[0].attribute2 = char_number+512;</td> </tr></table><span class="postbody">
<br/>
<br/>
Is your tile data located at the 512th index of sprite memory?
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16908 - yaustar - Thu Feb 26, 2004 8:39 pm</h4>
    <div class="postbody"><span class="postbody">This thread may help <a href="http://forum.gbadev.org/viewtopic.php?t=2731&amp;highlight=oam+mode+4" target="_blank">http://forum.gbadev.org/viewtopic.php?t=2731&amp;highlight=oam+mode+4</a><br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16919 - dagamer34 - Fri Feb 27, 2004 12:56 am</h4>
    <div class="postbody"><span class="postbody">Oh, by the way, I just thought about this. You can only use rotation indicies 16-31 since they shadow OAM sprite memory in modes 3-5.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16923 - DekuTree64 - Fri Feb 27, 2004 4:07 am</h4>
    <div class="postbody"><span class="postbody">Nope, all the rotation indices should be fine. It's only the sprite character data, not the OAM, that's cut in half. The rot/scale data is really just the combined attr3's of each set of 4 OAM entries.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#16925 - stranger - Fri Feb 27, 2004 6:57 am</h4>
    <div class="postbody"><span class="postbody">Thanks.
<br/>
I get some ideas about how to do it in mode 4.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
