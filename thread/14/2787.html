<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>probably an easy answer... - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > probably an easy answer...</h2>
<div id="posts">
<div class="post">
    <h4>#15856 - gobojacobs - Sun Feb 01, 2004 8:43 pm</h4>
    <div class="postbody"><span class="postbody">Hey everyone.. relative newb to this forum, as well as the entire gba dev community.  Just picked up VisualHAM and the DevKitAdvance, and was just trying to get a sprite to display.  My code compiles, and BoycotAdvance will run it, but nothing happens.  I assume there's just a tiny little error somewhere (not enabling a background, not copying a sprite to the right OAM spot, etc.), and was hoping you folks could steer me in the right direction.
<br/>
<br/>
I'm using the mygba.h header from the visual ham library.  I haven't included thecheat.h (it was generated using pcx2sprite).
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "mygba.h"
<br/>
#include "thecheat.h"
<br/>
<br/>
MULTIBOOT
<br/>
<br/>
int main(void)
<br/>
{
<br/>
<br/>
    //set to mode 2, enable sprites, set the map to 1d
<br/>
    M_DISCNT_BGMODE_SET(2);
<br/>
    M_DISCNT_HBLOBJ_ENA;
<br/>
    M_DISCNT_OBJMAP_1D;
<br/>
    
<br/>
    //move all of the sprites offscreen
<br/>
    int i;
<br/>
    for(i = 0; i &lt; 128; i++)
<br/>
    {
<br/>
        TOOL_OAM_OBJ_SET_XPOS(i, 160);
<br/>
        TOOL_OAM_OBJ_SET_YPOS(i, 240);
<br/>
    }
<br/>
    
<br/>
    //set the pallete
<br/>
    for(i = 0; i &lt; 256; i++)
<br/>
    {
<br/>
        (MEM_PAL_OBJ_PTR)[i] = thecheatPalette[i];
<br/>
    }
<br/>
    
<br/>
    //load thecheat
<br/>
    for(i = 0; i &lt; 256 * 8; i++)
<br/>
    {
<br/>
        (MEM_OBJ_PTR)[i] = thecheatData[i];
<br/>
    }
<br/>
<br/>
    TOOL_OAM_OBJ_CREATE(0, 0, 50, 50, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0);
<br/>
    
<br/>
    
<br/>
   while(1)
<br/>
   {
<br/>
   }
<br/>
<br/>
   return 0;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Any advice / recomendations would be greatly appreciated :)  Thanks much, and enjoy the lovely weather (we got up to 10 today! woohoo!),
<br/>
<br/>
gobojacobs</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15857 - jenswa - Sun Feb 01, 2004 8:49 pm</h4>
    <div class="postbody"><span class="postbody">I am not familair with the hamdlib so i have no idea what happens here:
<br/>
TOOL_OAM_OBJ_CREATE(0, 0, 50, 50, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0);
<br/>
<br/>
My gues is, if that line doesn't set an x and y positon from a sprite on screen. Your sprite probably still hangs around in the non-visible part of the screen.
<br/>
<br/>
What i am trying to say is:
<br/>
<br/>
Move your sprite to the center (120,80) of the screen and then you will either see your sprite, see some screwed sprite or see nothing at all.<br/>_________________<br/>It seems this wasn't lost after all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#15858 - gobojacobs - Sun Feb 01, 2004 8:55 pm</h4>
    <div class="postbody"><span class="postbody">here's a copy of the define for that..
<br/>
<br/>
#define MEM_OAM	0x07000000
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#define TOOL_OAM_OBJ_CREATE(obj_number,char_number,xpos,ypos,obj_mode,obj_shape,obj_size,color_mode,pal_number,prio_to_bg,vflip,hflip,mosaic,rotation,rotation_no,dblsize) \
<br/>
                        \
<br/>
                        ACCESS_16(MEM_OAM+8*obj_number)= \
<br/>
                        (obj_shape&lt;&lt;14)  | \
<br/>
                        (color_mode&lt;&lt;13) | \
<br/>
                        (mosaic&lt;&lt;12)     | \
<br/>
                        (obj_mode&lt;&lt;10)   | \
<br/>
                        (rotation&lt;&lt;8)    | \
<br/>
                        (dblsize&lt;&lt;9)     | \
<br/>
                        (ypos); \
<br/>
                        \
<br/>
                        ACCESS_16(MEM_OAM+8*obj_number+2)= \
<br/>
                        (obj_size&lt;&lt;14)   |\
<br/>
                        (vflip&lt;&lt;13)      |\
<br/>
                        (hflip&lt;&lt;12)      |\
<br/>
                        (rotation_no&lt;&lt;9) |\
<br/>
                        (xpos);\
<br/>
                        \
<br/>
                        ACCESS_16(MEM_OAM+8*obj_number+4)= \
<br/>
                        (pal_number&lt;&lt;12) |\
<br/>
                        (prio_to_bg&lt;&lt;10) |\
<br/>
                        (char_number);
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
it's pretty ugly, and i guess i should just set the info that's needed on its own; but it does set to a position (50, 50 in this case).</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20701 - ThePhoenix - Sat May 15, 2004 12:22 pm</h4>
    <div class="postbody"><span class="postbody">Wait, hold up. thecheat.h?
<br/>
You're making some sort of Homestarrunner clone, aren't you?
<br/>
<br/>
Yay, the Cheat gets his GBA debut! (Almost)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20707 - yaustar - Sat May 15, 2004 1:34 pm</h4>
    <div class="postbody"><span class="postbody">Check with VBA to see if the sprite is loaded into the memory.. then start worrying about the code :P<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
