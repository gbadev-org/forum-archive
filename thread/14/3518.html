<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Multiboot help?!?! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Multiboot help?!?!</h2>
<div id="posts">
<div class="post">
    <h4>#21753 - spanky - Fri Jun 04, 2004 2:09 pm</h4>
    <div class="postbody"><span class="postbody">I am VERY new to GBA development, and have just one question at the moment - what is the difference between a .mb file and a .gba file ? Are there any converters to switch types ? 
<br/>
<br/>
I have an MBV2, but still trying to find the money for a Flash cart... 
<br/>
<br/>
Any help would be much appreciated !</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21756 - niltsair - Fri Jun 04, 2004 3:32 pm</h4>
    <div class="postbody"><span class="postbody">.mb : Multiboot program. Can be send to Gba through a cable. Can't be bigger than 256k. Is run from the Gba memory.
<br/>
<br/>
.gba : Gba program. Need to be send to a flash cartridge. Size can go as high as 32MBytes or 256MBits (I think). Is run from the flash cart (some code can be loaded in ram too)<br/>_________________<br/>-Inside every large program is a small program struggling to get out. (Hoare's Law of Large Programs)
<br/>
-The man who can smile when things go wrong has thought of someone he can blame it on. (Nixon's Theorem)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21757 - spanky - Fri Jun 04, 2004 3:37 pm</h4>
    <div class="postbody"><span class="postbody">Is there actually any difference between file formats, or do i need to compile it differently? Can I just rename a .gba file to .mb and use it through a linker ? Any helpful tips/tricks/links will be much appreciated...
<br/>
<br/>
<br/>
"I seem to be having tremendous difficulty with my lifestyle"- Arthur Dent</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21758 - niltsair - Fri Jun 04, 2004 3:39 pm</h4>
    <div class="postbody"><span class="postbody">It need to be compiled differently. When compiling with DevkitAdvance, I think you define the symbol MULTIBOOT to let the compiler know that you want it multiboot instead.<br/>_________________<br/>-Inside every large program is a small program struggling to get out. (Hoare's Law of Large Programs)
<br/>
-The man who can smile when things go wrong has thought of someone he can blame it on. (Nixon's Theorem)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21764 - wintermute - Fri Jun 04, 2004 5:19 pm</h4>
    <div class="postbody"><span class="postbody">.mb is just a convention used to distinguish a ROM image which can be multibooted (all code and data is contained within ewram) .gba files are usually meant to run from a cartridge.
<br/>
<br/>
It's not possible to convert between the two, the code must be compiled for one or the other.
<br/>
<br/>
DevkitARM has built in linkscripts for both types</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21768 - tepples - Fri Jun 04, 2004 5:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">.mb is just a convention used to distinguish a ROM image which can be multibooted (all code and data is contained within ewram) .gba files are usually meant to run from a cartridge.
<br/>
<br/>
It's not possible to convert between the two</td> </tr></table><span class="postbody">
<br/>
Oh really? Then what do you think of <a class="postlink" href="http://www.pineight.com/gba/#mbmenu" target="_blank">this tool</a> that I wrote to convert multiple .mb programs into one .gba program?
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">DevkitARM has built in linkscripts for both types</td> </tr></table><span class="postbody">
<br/>
Does devkitARM's multiboot specs file make .mb (runs only from EWRAM) or .mb.gba (detects if it's running from ROM and if so copies itself to EWRAM)?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21779 - dagamer34 - Fri Jun 04, 2004 7:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>niltsair wrote:</b></span></td> </tr> <tr> <td class="quote">It need to be compiled differently. When compiling with DevkitAdvance, I think you define the symbol MULTIBOOT to let the compiler know that you want it multiboot instead.</td> </tr></table><span class="postbody">
<br/>
<br/>
Actually, when using DevKitAdvance, you need to put this in your code:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Â int __gba_multiboot = 0;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Most people just make a define out of it like this
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#define MULTIBOOT int __gba_multiboot = 0;
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Just make sure it's defined in the global scope and it'll be a .mb ROM. DevKitAdvance's ctr0.s takes care of everything else for you.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23446 - wintermute - Tue Jul 13, 2004 4:43 am</h4>
    <div class="postbody"><span class="postbody">apologies for the late reply 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">.mb is just a convention used to distinguish a ROM image which can be multibooted (all code and data is contained within ewram) .gba files are usually meant to run from a cartridge.
<br/>
<br/>
It's not possible to convert between the two</td> </tr></table><span class="postbody">
<br/>
Oh really? Then what do you think of 
<br/>
<a class="postlink" href="http://www.pineight.com/gba/#mbmenu" target="_blank">this tool</a> that I wrote to convert multiple .mb programs into one .gba program?
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
<br/>
well, I did mean that it's not possible to convert a rom image compiled for cartridge into one that will be multibootable. Not without a great deal of work anyway.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">DevkitARM has built in linkscripts for both types</td> </tr></table><span class="postbody">
<br/>
Does devkitARM's multiboot specs file make .mb (runs only from EWRAM) or .mb.gba (detects if it's running from ROM and if so copies itself to EWRAM)?</span></td> </tr></table><span class="postbody">
<br/>
<br/>
detect &amp; copy so it still works with VBA or when written to a cart.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
