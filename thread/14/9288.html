<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Memory Viewer Help - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Memory Viewer Help</h2>
<div id="posts">
<div class="post">
    <h4>#80075 - thegamefreak0134 - Tue Apr 18, 2006 5:18 pm</h4>
    <div class="postbody"><span class="postbody">Is there an easy way to figure out what memory address a variable will end up being when it is declared? The variables I need to monitor are all declared before the main loop, so their positions should be the same throughtout the entire program. What would be nice is if the compiler could tell me this. Is such a feature available?<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80083 - poslundc - Tue Apr 18, 2006 5:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote">Is there an easy way to figure out what memory address a variable will end up being when it is declared? The variables I need to monitor are all declared before the main loop, so their positions should be the same throughtout the entire program. What would be nice is if the compiler could tell me this. Is such a feature available?</td> </tr></table><span class="postbody">
<br/>
<br/>
The addresses of your global variables are undetermined until such time as your program is linked by the linker.
<br/>
<br/>
You can get the linker to generate a map file ("-Map filename_to_create" on the command line) or use the "nm" binutil with the "-n" flag on your .elf file to get a numerically-ordered listing of your memory addresses and the corresponding symbols.
<br/>
<br/>
Alternatively, if you're not using EWRAM for anything (or if you have a heap that starts at the end of EWRAM), I sometimes just stick the address I'm looking for at the beginning of EWRAM, which can then be looked up in VBA very easily:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">*(u32 *)0x02000000 = (u32)&amp;myVar;</td> </tr></table><span class="postbody">
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80103 - Cearn - Tue Apr 18, 2006 8:21 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">You can get the linker to generate a map file ("-Map filename_to_create" on the command line)</td> </tr></table><span class="postbody">
<br/>
"-Wl,-Map,mapname" to be precise. The "-Wl" is required to indicate to gcc that what comes after it is a linker flag, not a compiler flag.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>poslundc wrote:</b></span></td> </tr> <tr> <td class="quote">Alternatively, if you're not using EWRAM for anything (or if you have a heap that starts at the end of EWRAM), I sometimes just stick the address I'm looking for at the beginning of EWRAM, which can then be looked up in VBA very easily:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">*(u32 *)0x02000000 = (u32)&amp;myVar;</td> </tr></table><span class="postbody">
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
This will work for any section of memory, not just ewram. Unless you're using bytes, you can also dump them into the palette, VRAM, OAM if you have room to spare.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80165 - thegamefreak0134 - Wed Apr 19, 2006 1:34 pm</h4>
    <div class="postbody"><span class="postbody">Will this work with any linker or just DevKitPro?<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80172 - tepples - Wed Apr 19, 2006 2:19 pm</h4>
    <div class="postbody"><span class="postbody">It will work with any GNU linker, but perhaps not with the ARM SDT/ADS linker.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
