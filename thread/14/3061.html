<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Meaning of Volatile - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Meaning of Volatile</h2>
<div id="posts">
<div class="post">
    <h4>#17884 - xadeu - Tue Mar 16, 2004 4:17 pm</h4>
    <div class="postbody"><span class="postbody">What is the meaning of volatile and how does it effect the GBA Hardware?
<br/>
Basically why is it needed in GBA Programming...I haven't ever used it before in my programs.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17885 - Gopher - Tue Mar 16, 2004 4:22 pm</h4>
    <div class="postbody"><span class="postbody">volatile means that the variable's value might be changed outside your code. Specifying a variable or expression as Volatile prevents the compiler from trying to optimize your code by pre-evaluating it once. I.e., if you didn't define the joypad input register to volatile and you did a loop watching for a button press, the optimizer can tell that your code doesn't change that register, and it might try to test once before your loop instead of repeating the test inside the loop.<br/>_________________<br/>"Only two things are infinite: the universe, and human stupidity. The first is debatable." -Albert Einstein</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17886 - jma - Tue Mar 16, 2004 4:24 pm</h4>
    <div class="postbody"><span class="postbody"><span style="font-style: italic">Volatile </span>is a keyword telling the compiler that an area of RAM is hardware controlled. This is a descriptive term meaning: it can be altered from outside the software.
<br/>
<br/>
If you did not use the <span style="font-style: italic">volatile </span>keyword, the C compiler would attempt to put the value of a GBA register in a hardware register for faster use, instead of loading it again from RAM each time.
<br/>
<br/>
Jeff<br/>_________________<br/><a href="mailto:massung@gmail.com">massung@gmail.com</a>
<br/>
<a href="http://www.retrobyte.org" target="_blank">http://www.retrobyte.org</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#17945 - johnny_north - Wed Mar 17, 2004 9:58 pm</h4>
    <div class="postbody"><span class="postbody">I case you'd be wondering some of the places to use it, I most frequently see it used in conjunction with the register that logs the vcount, although our forum moderator suggests that you should use volatile in conjunction with any register declaration. Check out pineight's headder:
<br/>
<a class="postlink" href="http://www.pineight.com/gba/#progs" target="_blank">http://www.pineight.com/gba/#progs</a>
<br/>
<br/>
If you set the optimization level in gcc to O1 or greater, variables changed within an interrupt won't actually change unless you declare them volatile.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
