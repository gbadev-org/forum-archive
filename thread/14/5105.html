<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>devkitARM linker error - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > devkitARM linker error</h2>
<div id="posts">
<div class="post">
    <h4>#36866 - neon - Wed Mar 02, 2005 5:47 pm</h4>
    <div class="postbody"><span class="postbody">I'm tring to get some code compiled with devkitARM under OS X
<br/>
<br/>
This is my <span style="font-weight: bold">test.c</span> file:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">int main() {
<br/>
        return 0;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
When i try to compile test.c i get the following error:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$ arm-elf-gcc -mthumb-interwork -c test.c -o test.o
<br/>
$ arm-elf-gcc -mthumb-interwork -specs=gba.specs test.o -o test.elf
<br/>
/Users/neon/devkitARM_r11/projects/../lib/gcc/arm-elf/3.4.3/../../../../arm-elf/bin/ld:/Users/neon/devkitARM_r11/projects/../lib/gcc/arm-elf/3.4.3/../../../../arm-elf/lib/gba_cart.ld:262: parse error
<br/>
collect2: ld returned 1 exit status</td> </tr></table><span class="postbody">
<br/>
<br/>
Any idea?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36909 - wintermute - Thu Mar 03, 2005 10:45 am</h4>
    <div class="postbody"><span class="postbody">my apologies. It looks like the build on SF compile farm caused some problems, I'll fix this asap.
<br/>
<br/>
In the meantime you can fix things by grabbing the latest buildscripts from <a href="http://sourceforge.net/project/showfiles.php?group_id=114505&amp;package_id=124206&amp;release_id=309873" target="_blank">http://sourceforge.net/project/showfiles.php?group_id=114505&amp;package_id=124206&amp;release_id=309873</a>
<br/>
<br/>
extract the archive and use the following commands
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
$cd &lt;path to&gt;/buildscripts
<br/>
$export INSTALLDIR=&lt;path to&gt;/devkitARM
<br/>
$dka-scripts/build-crtls.sh
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#36912 - neon - Thu Mar 03, 2005 1:00 pm</h4>
    <div class="postbody"><span class="postbody">Thank you. It works... ;)
<br/>
<br/>
btw i don't know if it's only my system but...
<br/>
make doesn't find arm-elf-gcc (~/devkitARM_r11/bin is in $PATH)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$ dka-scripts/build-crtls.sh 
<br/>
arm-elf-gcc  -marm -c gba_crt0.s -ogba_crt0.o
<br/>
make: arm-elf-gcc: Command not found
<br/>
make: *** [all] Error 127</td> </tr></table><span class="postbody">
<br/>
<br/>
if i try to compile libs manually:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$ arm-elf-gcc  -marm -c gba_crt0.s -ogba_crt0.o
<br/>
/usr/libexec/gcc/darwin/ppc/as: I don't understand 'm' flag!
<br/>
/usr/libexec/gcc/darwin/ppc/as: I don't understand 'c' flag!
<br/>
/usr/libexec/gcc/darwin/ppc/as: I don't understand 'p' flag!
<br/>
/usr/libexec/gcc/darwin/ppc/as: I don't understand 'u' flag!
<br/>
/usr/libexec/gcc/darwin/ppc/as: I don't understand '=' flag!
<br/>
/usr/libexec/gcc/darwin/ppc/as: I don't understand 'a' flag!
<br/>
[...]</td> </tr></table><span class="postbody">
<br/>
arm-elf-gcc wants to execute "as" and not "arm-elf-as"
<br/>
<br/>
Finally i got it working: 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$ arm-elf-as gba_crt0.s -ogba_crt0.o</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
