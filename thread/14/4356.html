<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Fixed point + Velocity - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Fixed point + Velocity</h2>
<div id="posts">
<div class="post">
    <h4>#28822 - wiz - Sun Nov 07, 2004 3:34 am</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
<br/>
Very simple this one,
<br/>
<br/>
On the PC I used to use sprites with velocity as a float, to slow the velocity I would simply v *= 0.7; this would obviously make value v increment/decrement to 0.
<br/>
<br/>
with fixed point this cant be done the same way...  is there a good way to do this, at the moment I have ugly if statements that dont even work correctly ;)
<br/>
<br/>
Thanks for reading!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28825 - tepples - Sun Nov 07, 2004 4:06 am</h4>
    <div class="postbody"><span class="postbody">To implement velocity decay such as air drag, multiply by a fraction with a power-of-two denominator. This way you multiply (fast on the GBA's ARM7TDMI processor) and then divide by a power of 2 (also fast, implemented with a shift). For v *= 0.7; try v = v * 179 / 256;<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28835 - identitycrisisuk - Sun Nov 07, 2004 2:24 pm</h4>
    <div class="postbody"><span class="postbody">I'm new to this as well so I was just wondering, does that mean when v is 1 will it become 1 or 0? (I assume it would be 0 through truncation) I'd guess you'd have to be dealing with quite large velocities for this to be of much use but I guess unless you shift these before use stuff would fly all over the place.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28840 - wiz - Sun Nov 07, 2004 4:04 pm</h4>
    <div class="postbody"><span class="postbody">Brilliant!  Thanks Tepples!
<br/>
<br/>
This fixed point math technique takes some getting used to....
<br/>
<br/>
identitycrisisuk, Im not sure I follow sorry, but v will become 0</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#28866 - identitycrisisuk - Mon Nov 08, 2004 12:59 am</h4>
    <div class="postbody"><span class="postbody">Ignore the second part, I was thinking about using it for standard integer numbers but then realised you meant fixed point.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
