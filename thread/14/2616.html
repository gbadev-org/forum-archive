<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problem in using the libm.a in Linux box. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Problem in using the libm.a in Linux box.</h2>
<div id="posts">
<div class="post">
    <h4>#14466 - blender - Wed Jan 07, 2004 4:38 am</h4>
    <div class="postbody"><span class="postbody">Hi,
<br/>
<br/>
    I'm using the GNU/Linux Debian woody 3.0,and i download the new devkitadv from the 
<br/>
<a href="http://www.sourceforge.net." target="_blank">www.sourceforge.net.</a>
<br/>
<br/>
    I installed it and add the PATH/LIBRARY_PATH/C_INCLUDE_PATH to my .profile file.
<br/>
<br/>
    When i use this command to compile a agb source,it says:
<br/>
     $arm-agb-elf-cpp -lm -o main.elf main.c
<br/>
     arm-agb-elf-cpp: -lm: linker input file unesed because linking not done
<br/>
<br/>
      I followed the tutorial and used the sample source.What can i do now?
<br/>
<br/>
<br/>
      thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14476 - tepples - Wed Jan 07, 2004 5:45 am</h4>
    <div class="postbody"><span class="postbody">"cpp" is the <span style="font-weight: bold">C</span> <span style="font-weight: bold">p</span>re<span style="font-weight: bold">p</span>rocessor, which processes '#include', '#define', and '#if'.
<br/>
<br/>
What you want to run instead is 'arm-agb-elf-g++'.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14484 - blender - Wed Jan 07, 2004 9:25 am</h4>
    <div class="postbody"><span class="postbody">Thank you very much.
<br/>
<br/>
<br/>
When i run the arm-agb-elf-gcc it says:
<br/>
<br/>
16:26:48&lt;src&gt;$arm-agb-elf-gcc -lm -o main.elf main.c
<br/>
/home/long/apps/devel/devkitadv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/bin/ld: section .iwram [08009cd4 -&gt; 08009d9b] overlaps section .rodata [080004f4 -&gt; 08009cf3]
<br/>
/home/long/apps/devel/devkitadv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/lib/crt0.o: In function `jump_intr':
<br/>
/home/long/apps/devel/devkitadv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/lib/crt0.o(.iwram+0xc4): undefined reference to `IntrTable'
<br/>
collect2: ld returned 1 exit status
<br/>
<br/>
I think it's a linker problem.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14497 - poslundc - Wed Jan 07, 2004 5:02 pm</h4>
    <div class="postbody"><span class="postbody">It is a linker problem. Are you using the correct linkscript? I'm not sure what else could be causing the first error.
<br/>
<br/>
The second error looks like it is because you have interrupts turned on in crt0.S without supporting them in your code.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14536 - blender - Thu Jan 08, 2004 2:43 am</h4>
    <div class="postbody"><span class="postbody">Hmm,i think i use the correct lnkscript.It is downloaded from the <a href="http://www.devrs.org." target="_blank">www.devrs.org.</a>
<br/>
<br/>
I have read the FAQ and some turtials.
<br/>
<br/>
Thank you for your help</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14551 - Torlus - Thu Jan 08, 2004 10:00 am</h4>
    <div class="postbody"><span class="postbody">Well, I think you should try something like :
<br/>
<br/>
gcc -nostartfiles -o main.elf crt0.o main.o -lm -Wl,-Tlnkscript
<br/>
<br/>
"-Wl" is used to pass arguments to the linker.
<br/>
"-Tlnkscript" tells the linker to actually use the lnkscript.
<br/>
"-nostartfiles" ensures that you're using the right crt0 :)
<br/>
<br/>
Hope this helps<br/>_________________<br/>GBA,GC,NGPC,GP32,FPGA,DS stuff at <a class="postlink" href="http://torlus.com/" target="_blank">http://torlus.com/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14552 - blender - Thu Jan 08, 2004 12:47 pm</h4>
    <div class="postbody"><span class="postbody">Thanks for all.
<br/>
<br/>
Now, I'm very glad to compiler my GBA program.
<br/>
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
