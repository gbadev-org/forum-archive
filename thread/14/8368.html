<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>writing directly binary - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > writing directly binary</h2>
<div id="posts">
<div class="post">
    <h4>#69710 - deltree - Wed Feb 01, 2006 2:13 pm</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
sorry about that beginner question again, it's about C and C++:
<br/>
is it possible to write directly in binary on a variable ?
<br/>
I know how to initialize a variable in hexa, but not binary.
<br/>
how to do it ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69714 - tepples - Wed Feb 01, 2006 2:38 pm</h4>
    <div class="postbody"><span class="postbody">C has no way to specify a literal constant in binary (base 2). It does have base 8 and base 16.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69803 - Miked0801 - Thu Feb 02, 2006 12:31 am</h4>
    <div class="postbody"><span class="postbody">foo = 01000101010b;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69846 - keldon - Thu Feb 02, 2006 9:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">foo = 01000101010b;</td> </tr></table><span class="postbody">
<br/>
I did not know that. But since  binary -&gt; hex is so easy I (and most people who didn't know that) never cared anyway. But that will definately come in handy and make code much clearer now.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#69851 - Cearn - Thu Feb 02, 2006 10:17 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">foo = 01000101010b;</td> </tr></table><span class="postbody">
<br/>
I did not know that.</span></td> </tr></table><span class="postbody">
<br/>
Neither did I. GCC (4.0.1) doesn't seem familiar with it either, all I get from that is
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">error: invalid suffix "b" on integer constant</td> </tr></table><span class="postbody"> Can't find anything in its manual about it either. Are you sure it isn't just an extension of the compiler you're using?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70660 - Miked0801 - Wed Feb 08, 2006 1:37 am</h4>
    <div class="postbody"><span class="postbody">Truely?  Hmmm - it was in my C book from way back (goes back and checks college text from way back.)
<br/>
<br/>
Well, well, well.  It turns out I was remembering an old assembly book.  In assembler, you can put h, o, b, d... on the end to change the base.  My bad.
<br/>
<br/>
In C putting a 0 (zero) in front of a number tells the compiler it's octal, 0x for hex.  Putting and l on the end of it is long, f - float, d = double, e = exponential (10e6 = 1 million).  Nothing allows straight binary representation that I can see though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70661 - Miked0801 - Wed Feb 08, 2006 1:38 am</h4>
    <div class="postbody"><span class="postbody">Which means you probably could "Inline asm" a db command with a b on the end for binary - but that's cheating...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70667 - DekuTree64 - Wed Feb 08, 2006 2:34 am</h4>
    <div class="postbody"><span class="postbody">Here's an ugly way to do it :)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#define BINARY_4BIT(b3,b2,b1,b0) ((b0)|((b1)&lt;&lt;1)|((b2)&lt;&lt;2)|((b3)&lt;&lt;3))
<br/>
#define BINARY_BYTE(b7,b6,b5,b4,b3,b2,b1,b0) (BINARY_4BIT(b3,b2,b1,b0)|(BINARY_4BIT(b7,b6,b5,b4)&lt;&lt;4))
<br/>
<br/>
int one = BINARY_BYTE(0,0,0,0,0,0,0,1);</td> </tr></table><span class="postbody"><br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70720 - kusma - Wed Feb 08, 2006 11:24 am</h4>
    <div class="postbody"><span class="postbody">there exists some nasty template-tricks to do it in c++ aswell... not very pretty, though.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70721 - sgeos - Wed Feb 08, 2006 11:27 am</h4>
    <div class="postbody"><span class="postbody">Packed bit fields?
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70758 - deltree - Wed Feb 08, 2006 4:39 pm</h4>
    <div class="postbody"><span class="postbody">well... I think i'll have to work on translating binary to hex mentally;</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70760 - naleksiev - Wed Feb 08, 2006 4:49 pm</h4>
    <div class="postbody"><span class="postbody">Here you can find a lot of different solutions
<br/>
<a class="postlink" href="http://www.flipcode.com/cgi-bin/fcarticles.cgi?show=63908" target="_blank">http://www.flipcode.com/cgi-bin/fcarticles.cgi?show=63908</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70791 - Miked0801 - Wed Feb 08, 2006 8:03 pm</h4>
    <div class="postbody"><span class="postbody">Trust me, being able to go back and forther from decimal to hex is a very necessary and useful skill to have.  Once you do that, it's very simple to go from hex to binary and back.  I'm to the point now where I can read many hex number without "translating" them in my head.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70792 - kusma - Wed Feb 08, 2006 8:12 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">Packed bit fields?</td> </tr></table><span class="postbody">
<br/>
<br/>
the problem with that approach is that bitfields are allowed to be rearranged by the implementation.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70796 - poslundc - Wed Feb 08, 2006 8:26 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">Trust me, being able to go back and forther from decimal to hex is a very necessary and useful skill to have.  Once you do that, it's very simple to go from hex to binary and back.  I'm to the point now where I can read many hex number without "translating" them in my head.</td> </tr></table><span class="postbody">
<br/>
<br/>
I agree with this statement. Hex is the new binary. Learn it, love it.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#70911 - keldon - Thu Feb 09, 2006 3:14 pm</h4>
    <div class="postbody"><span class="postbody">Try this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include&lt;iostream&gt;
<br/>
using namespace std;
<br/>
<br/>
// Byte, shifted by n * 8
<br/>
#define BN(b,n) (\
<br/>
   ( \
<br/>
      ( (b) &amp; 1 ) | \
<br/>
      ( (((b) &gt;&gt; 4) &amp; 1 ) &lt;&lt; 1 ) | \
<br/>
      ( (((b) &gt;&gt; 8) &amp; 1 ) &lt;&lt; 2 ) | \
<br/>
      ( (((b) &gt;&gt; 12) &amp; 1 ) &lt;&lt; 3 ) | \
<br/>
      ( (((b) &gt;&gt; 16) &amp; 1 ) &lt;&lt; 4 ) | \
<br/>
      ( (((b) &gt;&gt; 20) &amp; 1 ) &lt;&lt; 5 ) | \
<br/>
      ( (((b) &gt;&gt; 24) &amp; 1 ) &lt;&lt; 6 ) | \
<br/>
      ( (((b) &gt;&gt; 28) &amp; 1 ) &lt;&lt; 7 )\
<br/>
   ) &lt;&lt; (n) * 8 \
<br/>
   )
<br/>
<br/>
// Byte
<br/>
#define B(b) (\
<br/>
   ( (b) &amp; 1 ) | \
<br/>
   ( (((b) &gt;&gt; 4) &amp; 1 ) &lt;&lt; 1 ) | \
<br/>
   ( (((b) &gt;&gt; 8) &amp; 1 ) &lt;&lt; 2 ) | \
<br/>
   ( (((b) &gt;&gt; 12) &amp; 1 ) &lt;&lt; 3 ) | \
<br/>
   ( (((b) &gt;&gt; 16) &amp; 1 ) &lt;&lt; 4 ) | \
<br/>
   ( (((b) &gt;&gt; 20) &amp; 1 ) &lt;&lt; 5 ) | \
<br/>
   ( (((b) &gt;&gt; 24) &amp; 1 ) &lt;&lt; 6 ) | \
<br/>
   ( (((b) &gt;&gt; 28) &amp; 1 ) &lt;&lt; 7 )\
<br/>
   )
<br/>
<br/>
// Word
<br/>
#define W(b1,b2) (\
<br/>
   BN((b1),1) | BN((b2),0 ) \
<br/>
   )
<br/>
<br/>
// Double Word
<br/>
#define D(b1,b2,b3,b4) (\
<br/>
   BN((b1),3) | BN((b2),2 ) | BN((b3),1 )  | BN((b4),0 ) \
<br/>
   )
<br/>
<br/>
<br/>
int main () {
<br/>
   cout &lt;&lt; B ( 0x11111111);               // prints 255
<br/>
   cout &lt;&lt; BN ( 0x1,1);                  // prints 256
<br/>
   cout &lt;&lt; D(0x0,0x0,0x1,0x0) &lt;&lt; "\n";   // prints 256
<br/>
   return 0;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
D is basically 4 bytes, making a double word. BN allows you to shift by a number of bytes - which you can tell by the output of BN (0x1, 1). I have chosen hexadecimal numbers simply so that you can write B(0x00001000) for simplicity and readability.
<br/>
<br/>
I tried doing this using long long's, but my gcc compiler does not like <span style="font-style: italic">'(long long)0x076543210'</span>, so I am guessing Devkit Pro will not either.
<br/>
<br/>
<span style="font-weight: bold">EDIT:</span> Added Word, and changed BD to D. Word is untested, but should work
<br/>
<br/>
p.s. I would have liked to use DB and DW, from the asm conventions. But I don't think there is one for double words</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#71411 - keldon - Sun Feb 12, 2006 6:51 pm</h4>
    <div class="postbody"><span class="postbody">Okay, 16 bit binary values work now, using long longs.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#define LW(b) (\
<br/>
   ( (b) &amp; 1 ) | \
<br/>
   ( (((b) &gt;&gt; 4) &amp; 1 ) &lt;&lt; 1 ) | \
<br/>
   ( (((b) &gt;&gt; 8) &amp; 1 ) &lt;&lt; 2 ) | \
<br/>
   ( (((b) &gt;&gt; 12) &amp; 1 ) &lt;&lt; 3 ) | \
<br/>
   ( (((b) &gt;&gt; 16) &amp; 1 ) &lt;&lt; 4 ) | \
<br/>
   ( (((b) &gt;&gt; 20) &amp; 1 ) &lt;&lt; 5 ) | \
<br/>
   ( (((b) &gt;&gt; 24) &amp; 1 ) &lt;&lt; 6 ) | \
<br/>
   ( (((b) &gt;&gt; 28) &amp; 1 ) &lt;&lt; 7 ) | \
<br/>
   ( (((b) &gt;&gt; 32) &amp; 1 ) &lt;&lt; 8 ) | \
<br/>
   ( (((b) &gt;&gt; 36) &amp; 1 ) &lt;&lt; 9 ) | \
<br/>
   ( (((b) &gt;&gt; 40) &amp; 1 ) &lt;&lt; 10 ) | \
<br/>
   ( (((b) &gt;&gt; 44) &amp; 1 ) &lt;&lt; 11 ) | \
<br/>
   ( (((b) &gt;&gt; 48) &amp; 1 ) &lt;&lt; 12 ) | \
<br/>
   ( (((b) &gt;&gt; 52) &amp; 1 ) &lt;&lt; 13 ) | \
<br/>
   ( (((b) &gt;&gt; 56) &amp; 1 ) &lt;&lt; 14 ) | \
<br/>
   ( (((b) &gt;&gt; 60) &amp; 1 ) &lt;&lt; 15 )\
<br/>
   )
<br/>
// ---
<br/>
<br/>
   //             HighByte LowByte
<br/>
   //           --7654321076543210--
<br/>
   cout &lt;&lt; LW ( 0x1111111111111111LL ) &lt;&lt; "\n";         // prints 65535
<br/>
   cout &lt;&lt; LW ( 0x0000000100000000LL ) &lt;&lt; "\n";         // prints 256
<br/>
</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
