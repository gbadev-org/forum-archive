<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Multiboot? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Multiboot?</h2>
<div id="posts">
<div class="post">
    <h4>#22263 - ProblemBaby - Wed Jun 16, 2004 12:31 pm</h4>
    <div class="postbody"><span class="postbody">Hi iam doing a game that is bigger then 256K
<br/>
but I want multiplayer support for some levels
<br/>
how should I do? how do they do in MarioCart for example?
<br/>
plz give me a link or tell me if it is easy
<br/>
<br/>
thanks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22264 - keldon - Wed Jun 16, 2004 12:42 pm</h4>
    <div class="postbody"><span class="postbody">instead of loading game code, load code that will load more code into the gba. A fine example of this is the free no$gba; <a href="http://www.work.de/nocash" target="_blank">www.work.de/nocash</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22282 - dagamer34 - Wed Jun 16, 2004 9:49 pm</h4>
    <div class="postbody"><span class="postbody">Just like keldon said. You'll probably end up making a file format so that the data transfer becomes easier. I don't know of any examples though.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22303 - ProblemBaby - Thu Jun 17, 2004 9:36 am</h4>
    <div class="postbody"><span class="postbody">Load code that will load more code??
<br/>
I dont understand:D
<br/>
<br/>
and at the link it stands
<br/>
NO$GBA - GBA Debugger
<br/>
Professional Tool, no Freeware!
<br/>
<br/>
didnt you mean that one?
<br/>
what is it I really should do? compile in a different way
<br/>
or can I just set some compilator directives?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22317 - ScottLininger - Thu Jun 17, 2004 5:29 pm</h4>
    <div class="postbody"><span class="postbody">Do you mean you want a &gt;256K multiplayer game with 2-carts or a &gt;256K multiplayer game with a single cart (downloaded to clients via link cable)?
<br/>
<br/>
-Scott</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22340 - dagamer34 - Sat Jun 19, 2004 12:28 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">Hi iam doing a game that is bigger then 256K
<br/>
but I want multiplayer support for some levels
<br/>
how should I do? how do they do in MarioCart for example?
<br/>
plz give me a link or <span style="font-weight: bold">tell me if it is easy</span>
<br/>
<br/>
thanks in advance</td> </tr></table><span class="postbody">
<br/>
<br/>
There are really limited resources on multiplayer. I haven't seen a single example of code that loads more code or data(publically, maybe people keep it to themselves!).
<br/>
<br/>
Perhaps you should do some searches on the forum and you will find out why I bolded part of what you said... :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22371 - ProblemBaby - Sat Jun 19, 2004 5:09 pm</h4>
    <div class="postbody"><span class="postbody">I want it to be single cart multiplayer
<br/>
but the second player dont need all data from the cart 
<br/>
it depends on which level player 1 choosed and such stuff..
<br/>
<br/>
I need it to be bigger then 256kB about 400kB 
<br/>
most of this is samples
<br/>
<br/>
But i dont understand if the 256kb barrier is for code, graphics, sound
<br/>
or everything 
<br/>
even if I put it directly in the background mem / sound mem</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22396 - tepples - Sun Jun 20, 2004 5:04 am</h4>
    <div class="postbody"><span class="postbody">In general, the GBA system acting as server in a single-pak can circumvent the 256 KB limit (but not by much). Try sending two separate binary images in turn to the other systems: one for background tiles (up to 48 KiB) and sprite cels (up to 32 KiB), and one for code, audio samples, etc (up to 256 KiB).
<br/>
<br/>
If you're willing to take some CPU time on each machine to decompress graphics and sound, then yes, you can stream compressed audio (such as 8ad or GSM) or compressed sprite cels from the server to the other GBAs using a Normal Mode broadcast.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22403 - dagamer34 - Sun Jun 20, 2004 3:27 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">In general, the GBA system acting as server in a single-pak can circumvent the 256 KB limit (but not by much). Try sending two separate binary images in turn to the other systems: one for background tiles (up to 48 KiB) and sprite cels (up to 32 KiB), and one for code, audio samples, etc (up to 256 KiB).
<br/>
<br/>
If you're willing to take some CPU time on each machine to decompress graphics and sound, then yes, you can stream compressed audio (such as 8ad or GSM) or compressed sprite cels from the server to the other GBAs using a Normal Mode broadcast.</td> </tr></table><span class="postbody">
<br/>
<br/>
I'm guessing he won't really be streaming audio or sprites in real-time, but instead sending a tileset and map when the master GBA chooses a level to play. Something like that right?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22405 - tepples - Sun Jun 20, 2004 3:40 pm</h4>
    <div class="postbody"><span class="postbody">Correct. Send one program to load VRAM and another program to load everything else. You'll just have to make sure your crt0's init code doesn't clear out VRAM in its call to RegisterRamReset(). I just mentioned streaming because some people are greedy and want more, more, more, and I'm sick and tired of single-pak being so darn crippled in commercial games.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22408 - ProblemBaby - Sun Jun 20, 2004 4:29 pm</h4>
    <div class="postbody"><span class="postbody">Ok but how does all this things work in theory
<br/>
ive no idea what register I should use or how it works
<br/>
do anyone know a tutorial that describes it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22409 - ProblemBaby - Sun Jun 20, 2004 4:58 pm</h4>
    <div class="postbody"><span class="postbody">And i have no idea how compression works!
<br/>
ive just headers for the graphics
<br/>
in use krawall for music
<br/>
<br/>
Ive heard of stuff like LZ227 or what it is called
<br/>
How does that work. I really want to know that to
<br/>
<br/>
A little more CPU time for decompress is no problem</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22413 - Miked0801 - Sun Jun 20, 2004 5:51 pm</h4>
    <div class="postbody"><span class="postbody">I can explain how LZSS (or LZ77) works if you want, but I think you are looking for how to use the BIOS functions right?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22414 - dagamer34 - Sun Jun 20, 2004 6:31 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">Ok but how does all this things work in theory
<br/>
ive no idea what register I should use or how it works
<br/>
do anyone know a tutorial that describes it?</td> </tr></table><span class="postbody">
<br/>
<br/>
Go to <a href="http://www.suddenpresence.com" target="_blank">www.suddenpresence.com</a> and download the SGADE libraries. It has the best multiplayer code for public use out there with an example. However, the example is designed for multi-pak use. I've have to dig around and see if I can still find my single-pak example or whip up another one if needed.
<br/>
<br/>
Have fun and good luck! You'll need it :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22422 - ProblemBaby - Sun Jun 20, 2004 9:57 pm</h4>
    <div class="postbody"><span class="postbody">Miked0801: 
<br/>
It would be great if you can tell me how it works!
<br/>
what kind of BIOS functions?
<br/>
I even dont know if I already use compression=)
<br/>
<br/>
dagamer34:
<br/>
I will check out the site tomorrow!
<br/>
But probably I will need your help! for the single pak game play
<br/>
Ive never programmed network before
<br/>
so ive much to learn!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22426 - keldon - Sun Jun 20, 2004 11:38 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>keldon wrote:</b></span></td> </tr> <tr> <td class="quote">instead of loading game code, load code that will load more code into the gba. A fine example of this is the free no$gba; <a href="http://www.work.de/nocash" target="_blank">www.work.de/nocash</a></td> </tr></table><span class="postbody">
<br/>
Sorry, he's apparently removed it after people created a working crack for it to play full games. ( <a href="http://work.typo3.work.de/nocash/gbanew.htm" target="_blank">http://work.typo3.work.de/nocash/gbanew.htm</a> )</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22591 - ProblemBaby - Thu Jun 24, 2004 7:37 pm</h4>
    <div class="postbody"><span class="postbody">I cant find any tutorial on this topic (single pak, multiplayer), do it exist???
<br/>
plz if anyone know any give me a link!
<br/>
<br/>
Ive found one source example but I didnt get that much cuz it's just an example and iam doing a whole game so I need to know how the thing works and what ive to do to make it work in my game.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22689 - ProblemBaby - Sun Jun 27, 2004 12:29 am</h4>
    <div class="postbody"><span class="postbody">Damn I really need help! I know it maybe is hard questions to answer here but a hint or anything would be great!
<br/>
<br/>
Ive seen some source to a program with Single Pak Multiplayer
<br/>
But the Code is compiled as MultiBoot.
<br/>
But my project is bigger then 256kB
<br/>
<br/>
So.. is it possible to copy from the masters ROM to the Slaves EWRAM?
<br/>
If ive for an example an array with a palette called MyPalette does it work
<br/>
if I do a something like COPYPAL(MyPalette)
<br/>
if it is in ROM in the master and EWRAM in the Slave??
<br/>
<br/>
Ive Succeeded to Find the Slave GBA but not to Show the LOGO.
<br/>
Maybe it is because my program isnt compiled as MultiBoot?
<br/>
As I said before any comment, link, source or whatever am I interested in!
<br/>
<br/>
Thanks in advance!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22691 - dagamer34 - Sun Jun 27, 2004 2:36 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">Damn I really need help! I know it maybe is hard questions to answer here but a hint or anything would be great!
<br/>
<br/>
Ive seen some source to a program with Single Pak Multiplayer
<br/>
But the Code is compiled as MultiBoot.
<br/>
But my project is bigger then 256kB
<br/>
<br/>
So.. is it possible to copy from the masters ROM to the Slaves EWRAM?
<br/>
If ive for an example an array with a palette called MyPalette does it work
<br/>
if I do a something like COPYPAL(MyPalette)
<br/>
if it is in ROM in the master and EWRAM in the Slave??
<br/>
<br/>
Ive Succeeded to Find the Slave GBA but not to Show the LOGO.
<br/>
Maybe it is because my program isnt compiled as MultiBoot?
<br/>
As I said before any comment, link, source or whatever am I interested in!
<br/>
<br/>
Thanks in advance!</td> </tr></table><span class="postbody">
<br/>
<br/>
Do you feel like digging through my library? It's pretty much the same as the multiplayer part of the SGADE library, except I know it works (took me hours to find out why that code didn't work). Post if you want it..<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22703 - ProblemBaby - Sun Jun 27, 2004 12:45 pm</h4>
    <div class="postbody"><span class="postbody">Yes it would be really great!
<br/>
you can send it to:
<br/>
<a href="mailto:aron_aggrieve@hotmail.com">aron_aggrieve@hotmail.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22718 - dagamer34 - Sun Jun 27, 2004 9:45 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">Yes it would be really great!
<br/>
you can send it to:
<br/>
<a href="mailto:aron_aggrieve@hotmail.com">aron_aggrieve@hotmail.com</a></td> </tr></table><span class="postbody">
<br/>
<br/>
Will do. I'll also send you the multiplayer example, but I'm not exactly sure if it works (I don't have my second GBA with me).<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22736 - ProblemBaby - Mon Jun 28, 2004 8:24 am</h4>
    <div class="postbody"><span class="postbody">Thanks a lot!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22756 - dagamer34 - Mon Jun 28, 2004 8:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">Thanks a lot!</td> </tr></table><span class="postbody">
<br/>
<br/>
Did it help any?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22762 - ProblemBaby - Mon Jun 28, 2004 10:51 pm</h4>
    <div class="postbody"><span class="postbody">I dont know yet cause Ive not got it?!
<br/>
have you sent it?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22763 - dagamer34 - Mon Jun 28, 2004 11:36 pm</h4>
    <div class="postbody"><span class="postbody">I got a "Failed to deliver" message in my inbox when I checked. Are you sure you gave me the correct address?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22765 - ProblemBaby - Mon Jun 28, 2004 11:46 pm</h4>
    <div class="postbody"><span class="postbody">try: <a href="mailto:aron@berlekom.com">aron@berlekom.com</a>
<br/>
instead</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22766 - dagamer34 - Mon Jun 28, 2004 11:58 pm</h4>
    <div class="postbody"><span class="postbody">It should be there in about 10 minutes. Uploading stuff on dial-up takes forever. It's 710 KB.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22769 - ProblemBaby - Tue Jun 29, 2004 12:17 am</h4>
    <div class="postbody"><span class="postbody">Thanks I got it!
<br/>
I will check it out tomorrow after work!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22820 - ProblemBaby - Tue Jun 29, 2004 11:05 pm</h4>
    <div class="postbody"><span class="postbody">I flashed your program to my Flash Cart
<br/>
It worked until this text appeared:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Multiplayer demonstation
<br/>
Waiting for connection
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I tried to push all buttons twice on both GBAs both nothing happend.
<br/>
Anyway Ive looked some at your code.
<br/>
and I think I can get it to work.
<br/>
But I need to now one thing and that is what the foo[] is
<br/>
its huge and not const. Ive no idea of what it is and it isnt described.
<br/>
But Ive seen that you send it to the Slave is it image data?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22830 - dagamer34 - Wed Jun 30, 2004 12:56 am</h4>
    <div class="postbody"><span class="postbody">foo[] is the slave rom that supposed to be sent across the link cable.
<br/>
<br/>
Whoops, I forgot to tell you to edit that file. After you create that file, you need to make it const so that it is stored in ROM otherwise it will be in RAM, screwing things up. Let me check and see if anything else is off. I still don't have my other GBA though, so it will be by memory.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22843 - ProblemBaby - Wed Jun 30, 2004 9:46 am</h4>
    <div class="postbody"><span class="postbody">Aha ok now I thinkk I understand...
<br/>
You compile the same program but with SLAVE_ROM defined and the result is the program that should be run in the slave, right?
<br/>
<br/>
I need to know a couple of things...
<br/>
<br/>
1.
<br/>
How do you compile it to get it in unsigned char format.
<br/>
<br/>
2.
<br/>
Is it possible to compile as usual and do a .incbin?
<br/>
or is it something extra special with that data?
<br/>
<br/>
3.
<br/>
Is it possible to send new data for example...
<br/>
If I first make a "choose player"-Slave Rom
<br/>
and then a "game""-Slave Rom
<br/>
etc... OR...
<br/>
must everything fit in the 256K boundary from start?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22855 - tepples - Wed Jun 30, 2004 3:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">How do you compile it to get it in unsigned char format.</td> </tr></table><span class="postbody">
<br/>
In order to compile a GBA multiboot slave, you have to compile it with int __gba_multiboot; in one source file (DevKit Advance) or give the linker -specs=gba_mb.specs (devkitARM). Then once you have a binary (after objcopy), convert it to an object file the same way you'd convert any other raw binary file, with something like bin2s or the bin2o macro that comes with the devkitARM examples.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">2.
<br/>
Is it possible to compile as usual and do a .incbin?</td> </tr></table><span class="postbody">
<br/>
As long as you're in fact compiling a multiboot program, one to run from EWRAM, you should be fine.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">or is it something extra special with that data?</td> </tr></table><span class="postbody">
<br/>
It needs a proper logo, but that's all.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">3.
<br/>
Is it possible to send new data for example...
<br/>
If I first make a "choose player"-Slave Rom
<br/>
and then a "game""-Slave Rom</td> </tr></table><span class="postbody">
<br/>
Yes. You can switch back to so-called Normal Mode at 256 kbps and broadcast the new program to all slaves, preferably with some error-correction coding.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22910 - dagamer34 - Thu Jul 01, 2004 12:39 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">Aha ok now I thinkk I understand...
<br/>
You compile the same program but with SLAVE_ROM defined and the result is the program that should be run in the slave, right?
<br/>
<br/>
I need to know a couple of things...
<br/>
<br/>
1.
<br/>
How do you compile it to get it in unsigned char format.
<br/>
<br/>
2.
<br/>
Is it possible to compile as usual and do a .incbin?
<br/>
or is it something extra special with that data?
<br/>
<br/>
3.
<br/>
Is it possible to send new data for example...
<br/>
If I first make a "choose player"-Slave Rom
<br/>
and then a "game""-Slave Rom
<br/>
etc... OR...
<br/>
must everything fit in the 256K boundary from start?</td> </tr></table><span class="postbody">
<br/>
<br/>
Okay, I guess my instructions weren't very clear so I will give them to you step by step in between the steps. :)
<br/>
<br/>
First, open Multiplayer.cpp, and define SLAVE_ROM. There are several preprocessor directives that will compile to make a multiboot ROM, as well as other differences (the slave won't send the ROM, the master will). Build it. You have just created the slave ROM. This is the rom that will be sent over the link cable. Remember the size of the rom for later.
<br/>
<br/>
Next, run a file called mboot.bat, included in the files I gave you. What it does is use a program called b2x.exe to convert raw files into header format so that they can be included in another program within a header (yes, tepples, there are better ways, but this is the simplest :)), It is going to create a file called Multiplayer.h.
<br/>
<br/>
Finally, go back to Multiplayer.cpp and undefine SLAVE_ROM. Build it again. Now you have the master ROM, check and make sure it is about twice the size of the slave rom. If so, then everything went well. This is the file that you can send to your flash cart to run the example.
<br/>
<br/>
Yes, setting this stuff up is hard. Just take a look at my example and run your finger through it just as if you were the CPU. It should help to understand what happens. Post again if you need more help.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22971 - ProblemBaby - Thu Jul 01, 2004 11:54 pm</h4>
    <div class="postbody"><span class="postbody">Ive some problems first off
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
::: "r0","r1","r2","r8","r9","r10","r11","r12"
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
this line gives me this error:
<br/>
error: fp cannot be used in asm here
<br/>
I found out that it works if I take away "r11"
<br/>
and then I got a warning cuz the function doesnt return any value...
<br/>
<br/>
I Tried it and at this point I can find the GBA but when I try to Send the ROM nothing happens. no logo, no stuff at all just the GameBoy text
<br/>
in sad dark blue.
<br/>
<br/>
Can it be the ::: "r0" stuff that makes this problem cause I tried to compile
<br/>
without it.
<br/>
<br/>
And I should also mention this:
<br/>
I just call the FindGBA and SendROM functions for now to see if I can play it on both GBAs without any data exchanges maybe Ive to do something more to get it to work??
<br/>
<br/>
Then I wonder if it is really nessecery to have all the code twice??
<br/>
well well thats a later problem first off I want it to work..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23104 - ProblemBaby - Sun Jul 04, 2004 7:19 pm</h4>
    <div class="postbody"><span class="postbody">I got som e problems
<br/>
<br/>
First off the inline asm codes for DelayCycles and Call the BIOS-function
<br/>
gives me error from the DelayCycles-function i got
<br/>
Error: bad instruction `lsr r2,#24'
<br/>
Error: bad arguments to instruction -- `sub r0,r1'
<br/>
<br/>
and in the asm for calling swi 0x25 I got:
<br/>
error: fp cannot be used in asm here
<br/>
and its this line ::: "r0","r1","r2","r8","r9","r10","r11", "r12"
<br/>
If I take away "r11" it works. I dont know how important it is and what it does..
<br/>
<br/>
In the DelayCycles function ive seen two kinds of inline asm
<br/>
asm("instruction"); and __asm{instruction};
<br/>
whats the difference?
<br/>
And how do I know if I should write swi 0x25 or swi 0x0025000??
<br/>
<br/>
Another things that really makes me confused is: at the GBATek it says that the r7 should poiunt to the multiboot structure but in the code it is
<br/>
r0 it also says that the return value is placed in r0...
<br/>
<br/>
Please help me, if anyone can answer just one thing that would be great
<br/>
thanks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23111 - dagamer34 - Sun Jul 04, 2004 11:14 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">I got som e problems
<br/>
<br/>
First off the inline asm codes for DelayCycles and Call the BIOS-function
<br/>
gives me error from the DelayCycles-function i got
<br/>
Error: bad instruction `lsr r2,#24'
<br/>
Error: bad arguments to instruction -- `sub r0,r1'
<br/>
<br/>
and in the asm for calling swi 0x25 I got:
<br/>
error: fp cannot be used in asm here
<br/>
and its this line ::: "r0","r1","r2","r8","r9","r10","r11", "r12"
<br/>
If I take away "r11" it works. I dont know how important it is and what it does..
<br/>
<br/>
In the DelayCycles function ive seen two kinds of inline asm
<br/>
asm("instruction"); and __asm{instruction};
<br/>
whats the difference?
<br/>
And how do I know if I should write swi 0x25 or swi 0x0025000??
<br/>
<br/>
Another things that really makes me confused is: at the GBATek it says that the r7 should poiunt to the multiboot structure but in the code it is
<br/>
r0 it also says that the return value is placed in r0...
<br/>
<br/>
Please help me, if anyone can answer just one thing that would be great
<br/>
thanks in advance</td> </tr></table><span class="postbody">
<br/>
<br/>
This is where I got the multiboot info from:
<br/>
<a href="http://www.devrs.com/gba/files/mbclient.txt" target="_blank">http://www.devrs.com/gba/files/mbclient.txt</a>
<br/>
<br/>
You need to compile it in arm mode for it to work properly. The swi should be written 0x250000 since it's in arm mode too.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23141 - ProblemBaby - Mon Jul 05, 2004 5:12 pm</h4>
    <div class="postbody"><span class="postbody">I found out the problem
<br/>
it was Krawall that disturb it in some way I dont now what but I think I can find out it Iam just happy that it works thanks a lot to everyone that have helped me especially dagamer34:)
<br/>
<br/>
Now Ive one last question of course=)
<br/>
If I want to send new data which steps should I repeat?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
