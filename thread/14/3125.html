<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Multiple source directories - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Multiple source directories</h2>
<div id="posts">
<div class="post">
    <h4>#18430 - punchy - Thu Mar 25, 2004 10:31 pm</h4>
    <div class="postbody"><span class="postbody">Hi, 
<br/>
    my project is starting to get rather large, and having all the c and s files in one directory is getting a bit messy. What's the best way of using multiple source directories in a makefile? I'm currently using a general rule to build each file as in
<br/>
<br/>
{$(SRCDIR)}.s.o:
<br/>
	$(CMPDIR)\as $(SFLAGS) $(SRCDIR)\$*.s -o$@
<br/>
<br/>
for asm files. What i want is some way of replacing the single source dir with a list of directories that make will check for files.
<br/>
<br/>
Any help would be most appreciated.
<br/>
<br/>
Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18432 - Miked0801 - Thu Mar 25, 2004 10:54 pm</h4>
    <div class="postbody"><span class="postbody">Look up the vpath directive for make at gnu.org (not gcc.gnu.org!).  It will allow make to scan multiple directories for you - which is what you are looking for.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18521 - punchy - Sun Mar 28, 2004 12:23 pm</h4>
    <div class="postbody"><span class="postbody">I'm using VC++ as an IDE so its nMake i'm using. Must be an equivalent though. At least i know what to search for. Thanks.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18536 - Gopher - Sun Mar 28, 2004 6:32 pm</h4>
    <div class="postbody"><span class="postbody">This is related to using VC++. Am I the only one who doesn't use makefiles in VC++? I just create utility projects and define custom build steps, outputs, and dependencies. It's a little bit of work to add files to the project and get them configured to compile, but not really any more tha n updating the makefile, and VC automatically takes care of recompiling only changed files.
<br/>
<br/>
I haven't done a lot of work with makefiles, so maybe there's some other advantage to that approach that I'm missing, but the only advantage I see is that the project could be compiled outside of VC++ if you wanted.
<br/>
Anyone got any other reasons for using makefiles instead? I'm currious because everyone who has talked about using VC++ on the forums seems to use makefiles.<br/>_________________<br/>"Only two things are infinite: the universe, and human stupidity. The first is debatable." -Albert Einstein</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18540 - tepples - Sun Mar 28, 2004 7:23 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Gopher wrote:</b></span></td> </tr> <tr> <td class="quote">It's a little bit of work to add files to the project and get them configured to compile, but not really any more than updating the makefile, and VC automatically takes care of recompiling only changed files.
<br/>
<br/>
I haven't done a lot of work with makefiles, so maybe there's some other advantage to that approach that I'm missing, but the only advantage I see is that the project could be compiled outside of VC++ if you wanted.</td> </tr></table><span class="postbody">
<br/>
This "only advantage" is the big one: Not everybody can afford a license of VC++ for each seat. (Remember that the version of Visual C++ with an optimizing x86 compiler costs $1089 for one seat.) Starting VC++ is slow. And some versions of VC++ have binary formats for project files, which makes it more difficult for other tools to add data to a project file.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#18541 - poslundc - Sun Mar 28, 2004 7:27 pm</h4>
    <div class="postbody"><span class="postbody">I'd say use whatever works for you, especially if you're the only developer dealing with your stuff.
<br/>
<br/>
If you want to share your code with others, though, and if it's non-trivial to build, you shouldn't assume they'll be using VC++.
<br/>
<br/>
If someone is just starting out on GBA development and they have the choice of learning to use either makefiles or the VC++ project-interface, learning makefiles is probably the more transferrable skill of the two.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
