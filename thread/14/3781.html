<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Troubles with TEXTBG tile mode - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Troubles with TEXTBG tile mode</h2>
<div id="posts">
<div class="post">
    <h4>#23980 - Rommel - Sun Jul 25, 2004 11:49 pm</h4>
    <div class="postbody"><span class="postbody">I've had no trouble getting rot tile bgs to work, at all. However when it comes to using TextBG mode, I'm having a few troubles. First off, I know it isn't read in the same way as the Rotation Tiles are if you are using 512x256, or 512x512 maps. I can get the 512x256 modes working, off of a little code that is on the PernProject site 
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">      int OFFSET = 32; 
<br/>
   for(tile_y = 0; tile_y &lt; 64; tile_y++)
<br/>
   {
<br/>
   for(tile_x = 0; tile_x &lt; 64; tile_x++)
<br/>
   {
<br/>
   if(tile_x &lt; 32) 
<br/>
   bg2.mapData[tile_x + tile_y * 32] = test[tile_x + tile_y * 64];
<br/>
   else 
<br/>
   bg2.mapData[ (tile_x-32) + tile_y * 32 + OFFSET] = test[tile_x + tile_y * 64];
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
However when I try to figure out what I need to get 512x512 to work I get a little lost. Here is a code snippet from Pern again.
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
int OFFSET = 32x32; //offset to get to the right hand part of the map
<br/>
for(tile_y == 0; tile_y &lt; 32; tile_y++)
<br/>
{
<br/>
for(tile_x == 0; tile_x &lt; 64; tile_x++)
<br/>
{
<br/>
if(tile_x &lt; 32) //It is in the left hand block
<br/>
MapPointer[tile_x + tile_y * 32] == MapData[tile_x + tile_y * 64]
<br/>
else //it is in the right hand block so add the offset of the first block and subtract 32 from tile_x 
<br/>
MapPointer[ (tile_x-32) + tile_y * 32 + OFFSET] == MapData[tile_x + tile_y * 64];
<br/>
}
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
My problem here, is trying to figure out where exactly in my bg2.mapData array, I need to access to store the data from MapPointer. I tried making it by what is said from the comments, but what I have tried putting there is not doing the trick. If anyone has any pointers, as to what I need to be adding to that code to get textbgs working it'd be a great help.
<br/>
<br/>
Thanks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23982 - dovoto - Sun Jul 25, 2004 11:58 pm</h4>
    <div class="postbody"><span class="postbody">If you look under day 6 there is full source code for displaying just about any sized/type background available.  If this is what you are looking at allready then I will try to clarify.  I am curently rewriting the tutorials and will be getting to backgrounds later this week.<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23983 - Rommel - Mon Jul 26, 2004 12:06 am</h4>
    <div class="postbody"><span class="postbody">Wow... I never saw those. Worthless post from me then, thanks much. Those are exactly what I was looking for.
<br/>
<br/>
Thanks again :)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
