<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Help with Curses? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > Help with Curses?</h2>
<div id="posts">
<div class="post">
    <h4>#43728 - Faluzure - Thu May 26, 2005 1:04 am</h4>
    <div class="postbody"><span class="postbody">Hello.
<br/>
Its been a good 2 months since the last time ive programmed, so I thought id play around with some of this GBA stuff. So far, I've grabbed the PDcurses install, copied the .h files to my include directory (I am using devcpp) and have written the following basic program(which should work)
<br/>
<br/>
#include &lt;stdio.h&gt;
<br/>
#include &lt;curses.h&gt;
<br/>
<br/>
int main()
<br/>
{
<br/>
  WINDOW *mywindow;
<br/>
<br/>
  mywindow = initscr();
<br/>
<br/>
  return 0;
<br/>
}
<br/>
<br/>
However, I get a linker error, stating that there is an undefined reference to initscr. 
<br/>
<br/>
Any help would be nice.
<br/>
Thanks in advance.
<br/>
Joe</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43740 - tepples - Thu May 26, 2005 3:32 am</h4>
    <div class="postbody"><span class="postbody">You need to specify the pdcurses library when linking.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43809 - Faluzure - Thu May 26, 2005 11:37 pm</h4>
    <div class="postbody"><span class="postbody">Can you elabourate on this procedure, it can clearly find the file, as I only get a Linker error relating to this file, as opposed to compiler errors if i do not include the curses.h file.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43812 - josath - Thu May 26, 2005 11:46 pm</h4>
    <div class="postbody"><span class="postbody">if you are doing it on the command line, when linking you need to add a -l option with the library (something like -lcurses or -lpdcurses depending on what the name is.) If you are using some sort of IDE then you need to add the curses library to the linking options. I don't know how devcpp works exactly.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#43861 - sgeos - Fri May 27, 2005 11:06 am</h4>
    <div class="postbody"><span class="postbody">What compiler are you using?  I don't bother storing the return value of initscr().  I've never had to use it.  Always call endwin() before exiting the program. curses.h includes stdio.h.  Try compiling this:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">/*** gcc compile options
<br/>
 *
<br/>
gcc -Wall -o hellocurses hellocurses.c -lcurses
<br/>
 */
<br/>
<br/>
#include &lt;curses.h&gt;
<br/>
<br/>
void message(int p_y, int p_x)
<br/>
{
<br/>
        mvprintw(p_y + 0, p_x, "Hello World!");
<br/>
        mvprintw(p_y + 1, p_x, "Press any key to quit.");
<br/>
}
<br/>
<br/>
void press_any_key(void)
<br/>
{
<br/>
        while (ERR == getch())
<br/>
                /* Keep looping */;
<br/>
}
<br/>
<br/>
int main(void)
<br/>
{
<br/>
        int y = 3;
<br/>
        int x = 3;
<br/>
<br/>
        initscr();
<br/>
        message(y, x);
<br/>
        press_any_key();
<br/>
        endwin();
<br/>
        return (0);
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
I learned basically everything I know about curses from<a class="postlink" href="http://web.cs.mun.ca/~rod/ncurses/ncurses.html" target="_blank">this tutorial</a>.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44001 - Faluzure - Sun May 29, 2005 1:39 am</h4>
    <div class="postbody"><span class="postbody">Well, I tried the program you gave me. Now I get a linker error for just about every required function. I tried Devcpp beta 5, and I get the same problems. I cant find the linker options anywhere which specifies where i can include files. If anyone has any experience with dev-cpp, Id appreciate any help.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44002 - Faluzure - Sun May 29, 2005 1:54 am</h4>
    <div class="postbody"><span class="postbody">I think I figured out some of the problem, I did not install any of the lib files. I have done so now, but I still get the same errors.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44029 - Faluzure - Sun May 29, 2005 5:32 pm</h4>
    <div class="postbody"><span class="postbody">Ok, I have finally figured it out. I assumed that it would automatically recignize the .a files I copied into the lib folder. After talking with my lab professer, I found out I had to add the file locations into the further library and linker options, which I guess was mentioned earlier.
<br/>
<br/>
Thanks Guys</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#44753 - sgeos - Sun Jun 05, 2005 1:55 am</h4>
    <div class="postbody"><span class="postbody">No problem.  Good luck!
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
