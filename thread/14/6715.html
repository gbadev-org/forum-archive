<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>gfx2gba - bitmap to .h - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > gfx2gba - bitmap to .h</h2>
<div id="posts">
<div class="post">
    <h4>#52450 - hey_suburbia - Wed Aug 31, 2005 1:10 am</h4>
    <div class="postbody"><span class="postbody">I tried the GUI version, but I just got .c files.
<br/>
<br/>
How can I output to an .h file...
<br/>
<br/>
EDIT:
<br/>
<br/>
More specifically I need to come up with an output like:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">const u16 titlebmp[] ={</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#52474 - wintermute - Wed Aug 31, 2005 4:40 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>hey_suburbia wrote:</b></span></td> </tr> <tr> <td class="quote">I tried the GUI version, but I just got .c files.
<br/>
<br/>
How can I output to an .h file...
<br/>
<br/>
EDIT:
<br/>
<br/>
More specifically I need to come up with an output like:
<br/>
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">const u16 titlebmp[] ={</td> </tr></table><span class="postbody"></span></td> </tr></table><span class="postbody">
<br/>
<br/>
No you don't. Never, ever put data in header files. You want a C file with 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">const u16 tilebmp[] = { ... };</td> </tr></table><span class="postbody">
<br/>
and a header file with
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">extern const u16 tilebmp[];</td> </tr></table><span class="postbody">
<br/>
I'm not sure if gfx2gba can do this but you should be able to create the header manually.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#52477 - yamaneko - Wed Aug 31, 2005 4:59 am</h4>
    <div class="postbody"><span class="postbody">Why we must not put data in .h file? I do that all the time and I have no trouble.<br/>_________________<br/>山猫</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#52492 - Quirky - Wed Aug 31, 2005 8:21 am</h4>
    <div class="postbody"><span class="postbody">You will have problems if you try to use data like that across multiple C source files. Not to mention the extra compilation time when you change the C file that includes the data, but no changes are made to the data itself.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#52495 - Peter - Wed Aug 31, 2005 8:40 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wintermute wrote:</b></span></td> </tr> <tr> <td class="quote">I'm not sure if gfx2gba can do this but you should be able to create the header manually.</td> </tr></table><span class="postbody">
<br/>
<br/>
If he is using gfx2gba from Trinity, then he must create the header manually. I use the following method to convert and 'include' resources in my game:
<br/>
<br/>
I also use gfx2gba, but with -fraw option. It will create .raw files in this case. Then I made a tool which just concatenates files and pad them inside the concatenated data on a 4byte boundary. It will also output a header file which offsets to each file inside the data. The concatenated output can be .s, .c or .raw. Then just link the generated .s file and include the header which has the offsets. This makes it actually pretty easy, takes less time, you don't have extra work with creating headers and avoids errors since everything is done automatically.
<br/>
<br/>
The program is called "katie" and included in <a class="postlink" href="http://www.console-dev.de/hel/bin/libhel-v16.zip" target="_blank">HEL v1.6</a>. See "tools/win32".
<br/>
<br/>
Hope it helps</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
