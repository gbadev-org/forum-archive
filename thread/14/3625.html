<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Problem with sprites - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Problem with sprites</h2>
<div id="posts">
<div class="post">
    <h4>#22704 - Becks7 - Sun Jun 27, 2004 3:08 pm</h4>
    <div class="postbody"><span class="postbody">what can cause the 2nd sprite not to be displayed correctly ?
<br/>
here is the screenshot
<br/>
<a class="postlink" href="http://upload.keekles.com/upload/scr1.jpg" target="_blank">http://upload.keekles.com/upload/scr1.jpg</a>
<br/>
and here is the texture file
<br/>
<a class="postlink" href="http://upload.keekles.com/upload/scr2.jpg" target="_blank">http://upload.keekles.com/upload/scr2.jpg</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22705 - Becks7 - Sun Jun 27, 2004 3:10 pm</h4>
    <div class="postbody"><span class="postbody">the 1st sprite is animated</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22706 - alek - Sun Jun 27, 2004 5:00 pm</h4>
    <div class="postbody"><span class="postbody">It will be alot easier to help you if you post some code.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22707 - Becks7 - Sun Jun 27, 2004 5:23 pm</h4>
    <div class="postbody"><span class="postbody">int main()
<br/>
{
<br/>
<br/>
........
<br/>
<br/>
InitializeSprites();                       //set all sprites off screen (stops artifact)
<br/>
<br/>
  	sprites[0].attribute0 = COLOR_256 | SQUARE | green.y;	//setup sprite info, 256 colour, shape and y-coord
<br/>
    sprites[0].attribute1 = SIZE_16 | green.x;		//size 16x16 and x-coord
<br/>
    sprites[0].attribute2 = 0;                      //pointer to tile where sprite starts
<br/>
<br/>
	for(loop = 0; loop &lt; 1024; loop++)                      //load 1st sprite image data
<br/>
	{
<br/>
		OAMData[loop] = GREENData[loop];
<br/>
	}
<br/>
<br/>
	green.activeFrame = 0;                    //set the initial active frame markers
<br/>
	green.spriteFrame[0] = 0;                 //set the frame markers
<br/>
	green.spriteFrame[1] = 8;
<br/>
	green.spriteFrame[2] = 16;
<br/>
	green.spriteFrame[3] = 24;
<br/>
	green.spriteFrame[4] = 32;
<br/>
	green.spriteFrame[5] = 40;
<br/>
	green.spriteFrame[6] = 48;
<br/>
	green.spriteFrame[7] = 56;
<br/>
<br/>
<br/>
<br/>
	sprites[1].attribute0 = COLOR_256 | SQUARE | block.y;//setup sprite info, 256 colour, shape and y-coord
<br/>
    sprites[1].attribute1 = SIZE_16 | block.x;           //size 16x16 and x-coord
<br/>
    sprites[1].attribute2 = 64;                      //pointer to tile where sprite starts
<br/>
<br/>
	for(loop = 1024; loop &lt; 1152; loop++)                      //load 1st sprite image data
<br/>
	{
<br/>
		OAMData[loop] = BLOCKData[loop-128];
<br/>
	}
<br/>
<br/>
...........
<br/>
<br/>
}</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22709 - alek - Sun Jun 27, 2004 6:15 pm</h4>
    <div class="postbody"><span class="postbody">Are you sure that the loop-128 index is correct when you load the block sprite data?
<br/>
<br/>
A little tip: when you post code use the Code button.
<br/>
Ex
<br/>
<br/>
Text...
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
for(loop = 1024; loop &lt; 1152; loop++) //load 1st sprite image data 
<br/>
{ 
<br/>
OAMData[loop] = BLOCKData[loop-128]; 
<br/>
} 
<br/>
</td> </tr></table><span class="postbody">
<br/>
Text...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22742 - Becks7 - Mon Jun 28, 2004 4:06 pm</h4>
    <div class="postbody"><span class="postbody">is this the only place where the problem could be ?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22743 - Becks7 - Mon Jun 28, 2004 4:08 pm</h4>
    <div class="postbody"><span class="postbody">cause i think it is correct</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22744 - poslundc - Mon Jun 28, 2004 4:13 pm</h4>
    <div class="postbody"><span class="postbody">There is a high probability this is where the problem stems from. Where is BLOCKData defined? Try rewriting the code using GREENData instead.
<br/>
<br/>
But sure, the problem could lie elsewhere. We've only got a snippet of your code.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22745 - alek - Mon Jun 28, 2004 4:21 pm</h4>
    <div class="postbody"><span class="postbody">It looks to me like you just copied that bit from gbajunkie's tutorial(I could be wrong). Is your data setup up the same way as in his tutrial?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22746 - Wriggler - Mon Jun 28, 2004 4:21 pm</h4>
    <div class="postbody"><span class="postbody">Yeah it looks to me (as someone who is learning this exact thing right now!) that your "loop-128" index should be "loop-1024". That's assuming the BLOCKData stuff you want starts at the array index 0. Otherwise you are starting your image at index 896, which probably isn't right...
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22791 - Becks7 - Tue Jun 29, 2004 5:38 pm</h4>
    <div class="postbody"><span class="postbody">yes, its from the gbajunkie tutorials but i have rewritten it acording to my game
<br/>
i will try changing "loop-128" to "loop-1024"</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22862 - Becks7 - Wed Jun 30, 2004 4:50 pm</h4>
    <div class="postbody"><span class="postbody">but, i dont think this would help, because i have eight character images above the block image</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#22864 - poslundc - Wed Jun 30, 2004 5:15 pm</h4>
    <div class="postbody"><span class="postbody">Like I said in my earlier post, it will depend largely on what BLOCKData is defined as. I don't know why you don't use GREENData instead.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23068 - Becks7 - Sat Jul 03, 2004 9:32 am</h4>
    <div class="postbody"><span class="postbody">GREENData is the green character (1st sprite)
<br/>
BLOCKData is the block (2nd sprite)
<br/>
the 2nd one is not displayed correctly as you can see from the pics</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23074 - poslundc - Sat Jul 03, 2004 1:40 pm</h4>
    <div class="postbody"><span class="postbody">I meant in the code, not in your design. Of course everything works the way you want it to in your head.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23172 - Becks7 - Tue Jul 06, 2004 1:52 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wriggler wrote:</b></span></td> </tr> <tr> <td class="quote">Yeah it looks to me (as someone who is learning this exact thing right now!) that your "loop-128" index should be "loop-1024". That's assuming the BLOCKData stuff you want starts at the array index 0. Otherwise you are starting your image at index 896, which probably isn't right...
<br/>
<br/>
Ben</td> </tr></table><span class="postbody">
<br/>
<br/>
yes, you were right
<br/>
i couldnt notice that
<br/>
thank you very much</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23242 - Wriggler - Thu Jul 08, 2004 10:31 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Becks7 wrote:</b></span></td> </tr> <tr> <td class="quote">yes, you were right
<br/>
i couldnt notice that
<br/>
thank you very much</td> </tr></table><span class="postbody">
<br/>
<br/>
Great, glad I could help!
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
