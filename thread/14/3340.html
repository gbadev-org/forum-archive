<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How do I quickly clear the screen? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > How do I quickly clear the screen?</h2>
<div id="posts">
<div class="post">
    <h4>#20121 - LunarCrisis - Sun May 02, 2004 5:35 pm</h4>
    <div class="postbody"><span class="postbody">Hi, I'm new to GBA programing, and I'm trying to make a mode 4 double buffered program that displays a line moving around the screen. The problem is that the function I'm using to clear the screen:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void ClearLCD()
<br/>
{
<br/>
   int loop;
<br/>
   for(loop = 0; loop &lt; 19200; loop++)
<br/>
   {
<br/>
      VideoBuffer[loop] = 0x0101;
<br/>
   }
<br/>
}</td> </tr></table><span class="postbody">
<br/>
is very slow. How can I do it any faster?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20124 - zazery - Sun May 02, 2004 6:39 pm</h4>
    <div class="postbody"><span class="postbody">You could use DMA since the sole purpose of DMA is to transfer data fast. It's actually a separate chip so it can complete while the rest of your program continues. It's really fast and it's used for many different tasks on the GBA.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20127 - dagamer34 - Sun May 02, 2004 7:15 pm</h4>
    <div class="postbody"><span class="postbody">You should look around using the search function for a clear screen function. There should be one around here somewhere.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20136 - SmileyDude - Sun May 02, 2004 11:28 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>zazery wrote:</b></span></td> </tr> <tr> <td class="quote">You could use DMA since the sole purpose of DMA is to transfer data fast. It's actually a separate chip so it can complete while the rest of your program continues. It's really fast and it's used for many different tasks on the GBA.</td> </tr></table><span class="postbody">
<br/>
<br/>
Well, this is a perfect use for DMA, you are incorrect that the DMA is a separate chip and completes while the rest of your program continues.  DMA on the GBA halts the CPU until the DMA is complete.  But, for something like this, it's pretty fast.  It may not be the fastest, but certainly better than a for loop in C.<br/>_________________<br/>dennis</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20137 - sajiimori - Sun May 02, 2004 11:39 pm</h4>
    <div class="postbody"><span class="postbody">I can't think of anything faster.  The video buffer has to physically be cleared somehow.
<br/>
<br/>
Of course, you may not actually have to clear the whole screen for your particular application, but that's a different matter.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#20139 - zazery - Mon May 03, 2004 12:25 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>SmileyDude wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
Well, this is a perfect use for DMA, you are incorrect that the DMA is a separate chip and completes while the rest of your program continues.  DMA on the GBA halts the CPU until the DMA is complete.  But, for something like this, it's pretty fast.  It may not be the fastest, but certainly better than a for loop in C.</td> </tr></table><span class="postbody">
<br/>
<br/>
I guess I heard wrong from a friend of mine. I'm new to the DMA as well. Sorry for the wrong info.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
