<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>dma transfer speed - vs asm copies - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > dma transfer speed - vs asm copies</h2>
<div id="posts">
<div class="post">
    <h4>#84684 - Ant6n - Wed May 24, 2006 4:33 am</h4>
    <div class="postbody"><span class="postbody">Hey,
<br/>
<br/>
in the specs it says, regarding the speed of dma transfers:
<br/>
<br/>
"Transfer Rate/Timing
<br/>
Except for the first data unit, all units are transferred by sequential reads and writes. For n data units, the DMA transfer time is:
<br/>
<br/>
  2N+2(n-1)S+xI
<br/>
<br/>
Of which, 1N+(n-1)S are read cycles, and the other 1N+(n-1)S are write cycles, actual number of cycles depends on the waitstates and bus-width of the source and destination areas (as described in CPU Instruction Cycle Times chapter). Internal time for DMA processing is 2I (normally), or 4I (if both source and destination are in gamepak memory area)."
<br/>
<br/>
does anybody know what exactly N,n,S,x and I refers to?
<br/>
why should I use dma as oppossed to load and store words assembler directives (unrolled loop); which is faster?
<br/>
<br/>
thx
<br/>
anton</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84690 - wintermute - Wed May 24, 2006 7:02 am</h4>
    <div class="postbody"><span class="postbody"><a href="http://forum.gbadev.org/viewtopic.php?t=5275" target="_blank">http://forum.gbadev.org/viewtopic.php?t=5275</a><br/>_________________<br/><a class="postlink" href="http://www.devkitpro.org/" target="_blank">devkitPro - professional toolchains at amateur prices</a>
<br/>
<a class="postlink" href="http://wiki.devkitpro.org/index.php/IRC" target="_blank">devkitPro IRC support</a>
<br/>
<a class="postlink" href="http://davejmurphy.com/" target="_blank">Personal Blog</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84692 - Ant6n - Wed May 24, 2006 7:32 am</h4>
    <div class="postbody"><span class="postbody">sorry, ok, so
<br/>
<br/>
n - number of words/halfwords transferred
<br/>
N - nonsequencial waitstate
<br/>
S - sequential waitstate
<br/>
I - internal cycle
<br/>
yes?
<br/>
<br/>
still doesnt tell me what the xI is.
<br/>
so at the end an ldm/stm has about the same speed (arm in internal ram), i take it?
<br/>
that still doesnt really tell me why i should us the one or the other...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84772 - poslundc - Wed May 24, 2006 5:52 pm</h4>
    <div class="postbody"><span class="postbody">I could not find the passage you quoted in either GBATEK or the Cowbite Virtual Hardware Spec. It's hard to say what it means without having the source document to examine.
<br/>
<br/>
If you are quoting an official Nintendo document, they are classified and under copyright, and considered off-limits in this forum.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84790 - Ant6n - Wed May 24, 2006 8:30 pm</h4>
    <div class="postbody"><span class="postbody">official Nintendo document? yeah right...
<br/>
<br/>
<a href="http://nocash.emubase.de/gbatek.htm#dmatransfers" target="_blank">http://nocash.emubase.de/gbatek.htm#dmatransfers</a>
<br/>
<br/>
the last point...
<br/>
...just noticed it actually says it there, its either 2I, or 4I</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84791 - thegamefreak0134 - Wed May 24, 2006 8:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I could not find the passage you quoted in either GBATEK or the Cowbite Virtual Hardware Spec. It's hard to say what it means without having the source document to examine.
<br/>
<br/>
If you are quoting an official Nintendo document, they are classified and under copyright, and considered off-limits in this forum.
<br/>
<br/>
Dan.</td> </tr></table><span class="postbody">
<br/>
<br/>
It's in GBATEK under DMA Transfers&gt;&gt;Transfer Rate/Timing.<br/>_________________<br/>What if the hokey-pokey really is what it's all about?
<br/>
<br/>
[url=http:/www.darknovagames.com/index.php?action=recruit&amp;clanid=1]Support Zeta on DarkNova![/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#84801 - poslundc - Wed May 24, 2006 9:13 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>thegamefreak0134 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I could not find the passage you quoted in either GBATEK or the Cowbite Virtual Hardware Spec. It's hard to say what it means without having the source document to examine.
<br/>
<br/>
If you are quoting an official Nintendo document, they are classified and under copyright, and considered off-limits in this forum.
<br/>
<br/>
Dan.</td> </tr></table><span class="postbody">
<br/>
<br/>
It's in GBATEK under DMA Transfers&gt;&gt;Transfer Rate/Timing.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Ah, I found it in the <a href="http://www.work.de/nocash/gbatek.htm" target="_blank">http://www.work.de/nocash/gbatek.htm</a> version... the version at <a href="http://www.work.de/nocash/gbatek.htm" target="_blank">http://www.work.de/nocash/gbatek.htm</a> doesn't have that part... it must be legacy Internet.
<br/>
<br/>
So, from the look of it the "x" is either 2 or 4 depending on what regions you are reading from and writing to.
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
