<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>WRAM and loading Background/Collision Data. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>Beginners > WRAM and loading Background/Collision Data.</h2>
<div id="posts">
<div class="post">
    <h4>#34809 - Celeryface - Wed Jan 26, 2005 5:13 pm</h4>
    <div class="postbody"><span class="postbody">I want to load my background and collision layer data into WRAM. Each file is 67kb (there are 2), and I want to copy the data into WRAM so that I can alter the data after a collision with the player.
<br/>
<br/>
Is there a way to see how much WRAM I've used from mallocs and from what the linker script has put in it, and how much is available?
<br/>
<br/>
For reference: I use the Visual HAM installation with my own headers (not HAMlib).
<br/>
<br/>
:)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34822 - tepples - Wed Jan 26, 2005 6:57 pm</h4>
    <div class="postbody"><span class="postbody">When you link your app, you get a .elf file. List the symbols in the .elf file with
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">nm -n balloon.elf &gt; map.txt</td> </tr></table><span class="postbody">
<br/>
Open map.txt and look at the area around 0x02040000 to get an idea of how much EWRAM the linkscript has assigned.
<br/>
<br/>
Following a malloc() arena is a bit tougher; because I typically roll my own allocation systems, I haven't looked into it.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34827 - Celeryface - Wed Jan 26, 2005 8:41 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">When you link your app, you get a .elf file. List the symbols in the .elf file with
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">nm -n balloon.elf &gt; map.txt</td> </tr></table><span class="postbody">
<br/>
</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Which does nm do, I've never used it before? :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#34836 - tepples - Thu Jan 27, 2005 12:03 am</h4>
    <div class="postbody"><span class="postbody">nm manpage:
<br/>
<br/>
<a href="http://m68hc11.serveftp.org/doc/binutils_2.html" target="_blank">http://m68hc11.serveftp.org/doc/binutils_2.html</a><br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
