<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Compiling problem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Compiling problem</h2>
<div id="posts">
<div class="post">
    <h4>#90686 - Nuja - Sat Jul 01, 2006 7:31 pm</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
I'm trying to compile a little code bug i got error:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
main.c
<br/>
In file included from c:/projetnds/camille/source/main.c:5:
<br/>
c:/projetnds/camille/source/Standv2.c:4: error: redefinition of 'Standv2_Sprite'
<br/>
c:/projetnds/camille/source/Standv2.c:4: error: previous definition of 'Standv2_Sprite' was here
<br/>
In file included from c:/projetnds/camille/source/main.c:6:
<br/>
c:/projetnds/camille/source/Standv2.pal.c:3: error: redefinition of 'Standv2_Pal'
<br/>
c:/projetnds/camille/source/Standv2.pal.c:3: error: previous definition of 'Standv2_Pal' was here
<br/>
c:/projetnds/camille/source/main.c:32:2: warning: no newline at end of file
<br/>
make[1]: *** [main.o] Error 1
<br/>
"make": *** [build] Error 2
<br/>
<br/>
&gt; Process Exit Code: 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Do someone know what could be the problem ? I did the sprit with the ini &amp; PAGfx.exe method because with the other method the software is all the time returning error "file could not be found".</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90688 - Dwedit - Sat Jul 01, 2006 7:56 pm</h4>
    <div class="postbody"><span class="postbody">Do not #include .c files.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90694 - Nuja - Sat Jul 01, 2006 8:52 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Dwedit wrote:</b></span></td> </tr> <tr> <td class="quote">Do not #include .c files.</td> </tr></table><span class="postbody">
<br/>
<br/>
My new errors
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
&gt; "make" 
<br/>
main.c
<br/>
c:/projetnds/camille/source/main.c:30:2: warning: no newline at end of file
<br/>
arm-eabi-g++ -g -mthumb-interwork -mno-fpu -L/c/devkitPro/PAlib/lib -specs=ds_arm9.specs Standv2.o Standv2.pal.o all_gfx.o main.o -Lc:/devkitPro/PAlib//lib -lpa9 -L/c/devkitPro/libnds/lib -lnds9 -o build.elf
<br/>
all_gfx.o:(.rodata+0x0): multiple definition of `Standv2_Sprite'
<br/>
Standv2.o:(.rodata+0x0): first defined here
<br/>
all_gfx.o:(.rodata+0x9000): multiple definition of `Standv2_Pal'
<br/>
Standv2.pal.o:(.rodata+0x0): first defined here
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/projetnds/camille/camille.elf] Error 1
<br/>
"make": *** [build] Error 2
<br/>
<br/>
&gt; Process Exit Code: 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
What is wrong ?
<br/>
Thank in advance ++</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90695 - tepples - Sat Jul 01, 2006 9:05 pm</h4>
    <div class="postbody"><span class="postbody">Looks like you're missing a few 'extern' declarations.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90711 - Nuja - Sat Jul 01, 2006 10:30 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Looks like you're missing a few 'extern' declarations.</td> </tr></table><span class="postbody">
<br/>
<br/>
My code:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
// Includes
<br/>
#include &lt;PA9.h&gt;       // Include for PA_Lib
<br/>
#include "all_gfx.h"
<br/>
<br/>
 
<br/>
// Function: main()
<br/>
int main(int argc, char ** argv)
<br/>
{
<br/>
   PA_Init();    // Initializes PA_Lib
<br/>
   PA_InitVBL(); // Initializes a standard VBL
<br/>
   
<br/>
   // Infinite loop to keep the program running
<br/>
   PA_LoadSpritePal(0, 0,(void*)Standv2_Pal);
<br/>
   PA_CreateSprite(0, 0,(void*)Standv2_Sprite, OBJ_SIZE_64X64,1, 0, 191, 0);
<br/>
<br/>
   while (1)
<br/>
   {
<br/>
      PA_WaitForVBL();
<br/>
      PA_SetSpriteAnim(0, 0, 0); 
<br/>
      PA_SetSpriteAnim(0, 0, 1); 
<br/>
      PA_SetSpriteAnim(0, 0, 2); 
<br/>
      PA_SetSpriteAnim(0, 0, 3); 
<br/>
      PA_SetSpriteAnim(0, 0, 4); 
<br/>
      PA_SetSpriteAnim(0, 0, 5); 
<br/>
      PA_SetSpriteAnim(0, 0, 6); 
<br/>
      PA_SetSpriteAnim(0, 0, 7); 
<br/>
      PA_SetSpriteAnim(0, 0, 8); 
<br/>
   }
<br/>
   return 0;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I don't know what it is :/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90722 - Nuja - Sun Jul 02, 2006 12:39 am</h4>
    <div class="postbody"><span class="postbody">any idea ?
<br/>
<br/>
edit: now it works, I installed the lastest version of devkitpro + lastest palib.
<br/>
It was a "s" instead of "S" in sprite and pal name which were making trouble.
<br/>
<br/>
Is that normal to see a little bit of pink which should be transparent ? (in sprite)
<br/>
<br/>
++</span><span class="gensmall"><br/><br/>Last edited by Nuja on Sun Jul 02, 2006 1:20 am; edited 2 times in total</span></div>    
</div>
<div class="post">
    <h4>#90729 - tepples - Sun Jul 02, 2006 1:15 am</h4>
    <div class="postbody"><span class="postbody">What is all_gfx.h?<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90730 - Nuja - Sun Jul 02, 2006 1:20 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">What is all_gfx.h?</td> </tr></table><span class="postbody">
<br/>
<br/>
Its a file created by PAGfx.exe but now its good. but now i have a problem of transparency. i can see a little bit of pink color around my sprite (Camille from street fighter: just for test ^^).
<br/>
<br/>
++</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90731 - tepples - Sun Jul 02, 2006 1:48 am</h4>
    <div class="postbody"><span class="postbody">Move the pink color to index 0 in the palette. If you don't understand how to do this, you're using the wrong image editor.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90756 - Nuja - Sun Jul 02, 2006 8:09 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>tepples wrote:</b></span></td> </tr> <tr> <td class="quote">Move the pink color to index 0 in the palette. If you don't understand how to do this, you're using the wrong image editor.</td> </tr></table><span class="postbody">
<br/>
<br/>
wrong "photoshop ?" i think i know what your are talking abo ut even if i nerver used it xD. Im going to give it a try.
<br/>
<br/>
Thank u</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90762 - Nuja - Sun Jul 02, 2006 8:39 am</h4>
    <div class="postbody"><span class="postbody">First, that is how its displayed in the emulator:
<br/>
<a class="postlink" href="http://img61.imageshack.us/img61/5764/pinkcolor5jn.png" target="_blank">The color around the sprite</a>
<br/>
<br/>
Then you were talking about changing a color in the palette, is that there:
<br/>
<a class="postlink" href="http://img61.imageshack.us/img61/9697/palette0bc.png" target="_blank">Palette</a>
<br/>
<br/>
If that is it, even if I replace a big part of the pink by "0" there still is pink left. And when I replace by "0", the color which allow us to make transparency will be black ?
<br/>
<br/>
Thank in advance ++</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90764 - keldon - Sun Jul 02, 2006 8:51 am</h4>
    <div class="postbody"><span class="postbody">In the gimp you can move cyan to the first ... or by using the amazing usenti tool.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90766 - Nuja - Sun Jul 02, 2006 9:09 am</h4>
    <div class="postbody"><span class="postbody">The problem is that the pink is not only one pink color :/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90770 - keldon - Sun Jul 02, 2006 9:32 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Nuja wrote:</b></span></td> </tr> <tr> <td class="quote">The problem is that the pink is not only one pink color :/</td> </tr></table><span class="postbody">
<br/>
<br/>
Oh yes, I wasn't really paying much attention; but I'm not sure if setting that particular colour to transparent will make it index 0. Use the gimp or usenti.
<br/>
<br/>
Also the reason why we use cyan (sorry I meant magenta) is because it is the least used colour and usually would not cause problems using it as the transparent colour.
<br/>
<br/>
Use (pure) green/blue/cyan for your transparent colour as nothing is that colour.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#90776 - Nuja - Sun Jul 02, 2006 10:06 am</h4>
    <div class="postbody"><span class="postbody">When I said pink I meant magenta, the magenta disapear when I launch the rom, but there is still pink/magenta (see the pictures in previous post)
<br/>
(The sprite are not made by me) :/</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
