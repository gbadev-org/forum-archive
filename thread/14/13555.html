<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Top view scrolling game? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Top view scrolling game?</h2>
<div id="posts">
<div class="post">
    <h4>#132893 - calcprogrammer1 - Sun Jul 01, 2007 5:46 am</h4>
    <div class="postbody"><span class="postbody">I'm trying to make a simple game, a top-down scrolling game for the DS.  Think NES Legend of Zelda.  I'm using PAlib for now (just learning), and all their demos are too complex...they waste time with fixed point math when trying to explain a simple game...can't they just introduce fixed point AFTER they teach you the basics of the game engine, rather than confuse you totally?  I've never heard of fixed point before, just integers, floats, doubles, and strings (the computer C++ types).  I managed to make a sprite and get it to move up/down/left/right but I don't get the background stuff (how to create one, what size to make it, how tiling works) or how to scroll it, and how to keep the player on the screen while scrolling.
<br/>
<br/>
I'd also like to know how to use scrolling on platform games (again, couldn't understand what the PAlib example was trying to do because all the &gt;&gt; &lt;&lt; ?? was getting in the way).  Are there any good tutorials for scrolling?<br/>_________________<br/>DS Firmware 1, Datel Games n' Music card / Chism's FW hacked GBA MP v2 CF
<br/>
<br/>
There's no place like 127.0.0.1.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132900 - Azenris - Sun Jul 01, 2007 11:48 am</h4>
    <div class="postbody"><span class="postbody">I don't know any good tutorial links, but i'm having alook. Ill post if I come up with anything.  
<br/>
<br/>
Just wanted to say you should attempt to learn the fixed point math, its not as complex as it seems at first, maybe there are some dedicated tutorials on it.
<br/>
<br/>
Anyway as I said, ill try find some links.<br/>_________________<br/><a class="postlink" href="http://sacredpotion.blogspot.com/" target="_blank"><span style="color: red">My Homebrew Games</span></a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132905 - Kyoufu Kawa - Sun Jul 01, 2007 3:27 pm</h4>
    <div class="postbody"><span class="postbody">Heh. Fixed point math looks complex at first, I'm still trying to "get" it. PALib however, fails for wasting time on that.
<br/>
<br/>
Fixed point numbers <span style="font-style: italic">are</span> integers, but used in a special way. The whole &lt;&lt; and &gt;&gt; shit is integral to this. It shifts the bit patterns of a given value left or right a certain amount. This is effectively multiplication and division done weefast.
<br/>
<br/>
The GBA, as you might have read, does not do floating point math very well. This means you can't have a value of, say... <span style="font-weight: bold">3.14</span>. Just <span style="font-weight: bold">3</span>. If you multiply a value by 256 (or rather, shift left 8 bits), you get a lot of extra space to <span style="font-weight: bold">simulate</span> the part after the dot. When you're done, you might sacrifice these decimal places by dividing by 256 or shifting right 8 bits.
<br/>
<br/>
This is ofcourse, irrelevant because PALib fails for the earlier mentioned reasons.
<br/>
<br/>
I myself am, together with Cearn, writing a game just like you described but without Zelda. Character animation is a joke if you can find a <span style="font-style: italic">proper</span> tutorial. Might I suggest <a class="postlink" href="http://www.gpwiki.org/index.php/RPG_CHAR" target="_blank">this GPWiki tute</a> for starters? Ignore the whole class thing, it's supposedly language-agnostic. I'd use a struct myself.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132909 - keldon - Sun Jul 01, 2007 4:08 pm</h4>
    <div class="postbody"><span class="postbody">Here's an easy way to think of fixed point maths ... multiply 20.00 with 10.00, and what do you get? Now imagine that you had to write that without the decimal points and you'll end up with 2000 * 1000 = 2000000; now add the points back in the same places (two decimals from the right) and you get 20.00 * 10.00 = 20000.00, and you know that isn't right.
<br/>
<br/>
What you need to do is shift the number right by two decimals, so 20.00 * 10.00 = 20000.00 &gt;&gt; 2 = 200.00
<br/>
<br/>
So then you have the question of how many shifts to use. Well first of all let's call the amount of numbers past the decimal point <span style="font-weight: bold">detail</span>. 10.00 and 20.00 both have two detail decimals, so when you multiply them the new number will have 4 decimals of <span style="font-weight: bold">detail</span> (2*2). But you (for some unknown reason) want only 2 decimals of detail, so you shift right by 2 decimals.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132918 - Kyoufu Kawa - Sun Jul 01, 2007 6:29 pm</h4>
    <div class="postbody"><span class="postbody">It's not the fixed point part that matters, Keldon. It's the whole getting a character to move around.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132921 - keldon - Sun Jul 01, 2007 7:08 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kyoufu Kawa wrote:</b></span></td> </tr> <tr> <td class="quote">It's not the fixed point part that matters, Keldon. It's the whole getting a character to move around.</td> </tr></table><span class="postbody">
<br/>
Fair enough, but it was the fixed point maths getting in the way so it made sense to squash that problem. I personally didn't know the term fixed point when I first started using it, I just figured that I needed more precision with integers so I naturally shifted and figured out the calculation rules with it ^_^
<br/>
<br/>
Here is an explanation of <a class="postlink" href="http://devrs.com/gb/files/mapscroll.txt" target="_blank">large map scrolling</a>.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#132945 - calcprogrammer1 - Sun Jul 01, 2007 11:43 pm</h4>
    <div class="postbody"><span class="postbody">Will these map editors for the GBA work with PAlib and the NDS?
<br/>
<br/>
I've read up on fixed point, and I sorta get how it works, it's just hard to read the code and figure out the basics of what the game's doing when trying to figure out what the fixed point stuff is for.<br/>_________________<br/>DS Firmware 1, Datel Games n' Music card / Chism's FW hacked GBA MP v2 CF
<br/>
<br/>
There's no place like 127.0.0.1.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133011 - Kyoufu Kawa - Mon Jul 02, 2007 5:22 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>calcprogrammer1 wrote:</b></span></td> </tr> <tr> <td class="quote">Will these map editors for the GBA work with PAlib and the NDS?</td> </tr></table><span class="postbody">Yes on the NDS part. PALib I don't know for I never used it.
<br/>
<br/>
Seriously, I think they're pretty much compatible.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133023 - gauauu - Mon Jul 02, 2007 7:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Kyoufu Kawa wrote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I myself am, together with Cearn, writing a game just like you described but without Zelda.</td> </tr></table><span class="postbody">
<br/>
<br/>
<a class="postlink" href="http://www.tolberts.net/anguna/" target="_blank">Aren't we all....</a>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>calcprogrammer1 wrote:</b></span></td> </tr> <tr> <td class="quote">I managed to make a sprite and get it to move up/down/left/right but I don't get the background stuff (how to create one, what size to make it, how tiling works) or how to scroll it, and how to keep the player on the screen while scrolling. </td> </tr></table><span class="postbody">
<br/>
<br/>
The easiest way is to do it in steps...Using those tutorials that people pointed you to, first make a simple background that scrolls around with the directional pad (Without putting a character in it).
<br/>
<br/>
Then add a characters sprite, who always stays centered in the middle of the screen.  Hey look, it looks like he's walking around, and you've succeeded in "keeping the player on the screen while scrolling".
<br/>
<br/>
Then you get into that jump of difficulty where you have the difference between world and screen coordinates.  You move the player, and the character's world coordinates should change.  Maybe his screen coordinates should change, maybe not.  Maybe the screen coordinated should change, maybe not.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#133025 - keldon - Mon Jul 02, 2007 7:45 pm</h4>
    <div class="postbody"><span class="postbody">One thing that I would say is that you might be able to find tutorials on animation at <a href="http://devrs.com/gb" target="_blank">http://devrs.com/gb</a> , they will be written for the DMB but the same principles apply. You may need to use the web archive to view the sites - of course this is all assuming that there aren't any docs on it directly for the GBA.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
