<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Can't Compile anything in examples - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > Can't Compile anything in examples</h2>
<div id="posts">
<div class="post">
    <h4>#148985 - zajako - Sun Jan 13, 2008 4:34 am</h4>
    <div class="postbody"><span class="postbody">Here is the error I get when trying to make the hello world app:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
C:\devkitPro\examples\nds\Graphics\2D\hello_world&gt;make
<br/>
linking hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/lib/th
<br/>
umb/ds_arm9_crt0.o: In function `CIDLoop':
<br/>
ds_arm9_crt0.s:(.init+0x2ac): undefined reference to `initSystem'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitPro/examples/nds/Graphics/2D/hello_world/hello_world.elf]
<br/>
Â Error 1
<br/>
make: *** [build] Error 2
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
I installed obviously devkitpro, and PALib.
<br/>
<br/>
Any help would be greatly appreciated.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148986 - Dwedit - Sun Jan 13, 2008 5:33 am</h4>
    <div class="postbody"><span class="postbody">Try using MSYS bash instead of cmd.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148987 - zajako - Sun Jan 13, 2008 5:46 am</h4>
    <div class="postbody"><span class="postbody">Sorry to be a noob (which to this stuff, I am) But when i went to download MSYS, there are tons of packages and downloads, and I have very little to no idea which to download :/ 
<br/>
<br/>
<a href="http://sourceforge.net/project/showfiles.php?group_id=2435" target="_blank">http://sourceforge.net/project/showfiles.php?group_id=2435</a>
<br/>
<br/>
That shows all the files for it, but i'm not sure which of the files I should be getting.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148989 - tepples - Sun Jan 13, 2008 5:50 am</h4>
    <div class="postbody"><span class="postbody">The easiest way to get MSYS is probably through devkitPro Updater itself.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148990 - zajako - Sun Jan 13, 2008 5:55 am</h4>
    <div class="postbody"><span class="postbody">oh, then I already have it.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">Zajako@SANTA /home/zajako/hello_world
<br/>
$ make
<br/>
linking hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/lib/th
<br/>
umb/ds_arm9_crt0.o: In function `CIDLoop':
<br/>
ds_arm9_crt0.s:(.init+0x2ac): undefined reference to `initSystem'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/home/zajako/hello_world/hello_world.elf] Error 1
<br/>
make: *** [build] Error 2</td> </tr></table><span class="postbody">
<br/>
<br/>
Still get this error.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148991 - chishm - Sun Jan 13, 2008 7:01 am</h4>
    <div class="postbody"><span class="postbody">You're using DKA r21 crt0 but haven't linked in the correct libnds. Either link in the correct libnds or write a void initSystem (void) function.<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148994 - zajako - Sun Jan 13, 2008 7:42 am</h4>
    <div class="postbody"><span class="postbody">&gt;.&lt; I'm a noob :/ sorry, I don't know how to do either of those things, but all the examples for devkitPro produce that or similar errors.
<br/>
<br/>
I'm a pro php programmer, just new to C, and heard working with homebrew DS is a good way to learn.
<br/>
<br/>
EDIT
<br/>
<br/>
I put 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">void initSystem() {
<br/>
//---------------------------------------------------------------------------------
<br/>
}</td> </tr></table><span class="postbody">
<br/>
In above the main function, and i get this error still:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">$ make
<br/>
main.cpp
<br/>
arm-eabi-g++ -MMD -MP -MF /home/zajako/hello_world/build/main.d -g -Wall -O2 -mc
<br/>
pu=arm9tdmi -mtune=arm9tdmi -fomit-frame-pointer -ffast-math -mthumb -mthumb-int
<br/>
erwork -I/home/zajako/hello_world/include -I/home/zajako/hello_world/build -I/c/
<br/>
devkitPro/libnds/include -I/c/devkitPro/libnds/include -I/home/zajako/hello_worl
<br/>
d/build -DARM9 -fno-rtti -fno-exceptions -c /home/zajako/hello_world/source/main
<br/>
.cpp -o main.o
<br/>
linking hello_world.elf
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.1.2/../../../../arm-eabi/lib/th
<br/>
umb/ds_arm9_crt0.o: In function `CIDLoop':
<br/>
ds_arm9_crt0.s:(.init+0x2ac): undefined reference to `initSystem'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/home/zajako/hello_world/hello_world.elf] Error 1
<br/>
make: *** [build] Error 2</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#148998 - Cearn - Sun Jan 13, 2008 12:13 pm</h4>
    <div class="postbody"><span class="postbody">The `cpp' extension means you're actually compiling as C++ instead of C. This usually doesn't matter that much as far as function calls are concerned, except that C++ uses <a class="postlink" href="http://en.wikipedia.org/wiki/Name_mangling#Name_mangling_in_C.2B.2B" target="_blank">Name mangling</a> to allow things as function overloading. This means that a C++ function called initSystem isn't actually called initSystem internally, but rather something like _Z10initSystemv. Since assembly and regular C don't do this name mangling, they're looking for the wrong function name.
<br/>
<br/>
To fix, either put the function in a separate .c file, or put <span style="font-style: italic">extern "C"</span> in front of the name. In the long run, it might be better to replace PALib's libnds by an updated libnds, but I'm not sure if you can simply replace the whole directory. I think the main thing is that the headers (the `include' directory) and lib/libnds9.a are updated, but I may be wrong there.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#149003 - zajako - Sun Jan 13, 2008 1:15 pm</h4>
    <div class="postbody"><span class="postbody">I fixed it, by uninstalling it all, and just not installing PALib. So it was a problem with PALib's libnds.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
