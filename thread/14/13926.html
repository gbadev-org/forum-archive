<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Getting Reliable Profiling - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Getting Reliable Profiling</h2>
<div id="posts">
<div class="post">
    <h4>#137657 - biubid_boy - Tue Aug 14, 2007 2:45 pm</h4>
    <div class="postbody"><span class="postbody">Hello everyone.
<br/>
I have created a software division routine in C, which basically divides by multiplying a number by (1/x) in 20.8 fixed point. I now want to compare it to the standard software division. Using the profiling functions found in TONC, I timed the routine running 10 times, then timed ten regular divisions. The results were:
<br/>
QUICKDIV : 297
<br/>
SOFTDIV   : 2324
<br/>
Where quickdiv is my routine and softdiv is the division operator in devkitARM. The results are too good to be accurate, aren't they? So what's up? 
<br/>
Thanks in advance,
<br/>
Biubid_boy.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137781 - Miked0801 - Wed Aug 15, 2007 6:23 pm</h4>
    <div class="postbody"><span class="postbody">Nope, this looks right.  In order of slowest to fastest for divides on GBA:
<br/>
<br/>
Thumb GCC call - roughly 300-700 cycles
<br/>
BIOS Div - 40-150 cycles
<br/>
ARM IWRAM unrolled div - 10-70 cycles
<br/>
Big table based reciprical multiply - around 10 cycles flat.
<br/>
<br/>
I did an actual exact profile of this 2-3 years ago and posted the results here - these cycle counts I'm pulling from memory so they aren't going to be exact.   Still, if you need to do divides a whole bunch (texture mapping), a reciprical table is the fastest.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#137785 - Miked0801 - Wed Aug 15, 2007 6:48 pm</h4>
    <div class="postbody"><span class="postbody">Here's the thread
<br/>
<br/>
<a href="http://forum.gbadev.org/viewtopic.php?t=3692" target="_blank">http://forum.gbadev.org/viewtopic.php?t=3692</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
