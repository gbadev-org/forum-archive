<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Quick question - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>Beginners > Quick question</h2>
<div id="posts">
<div class="post">
    <h4>#14241 - DDRfreak121 - Sat Jan 03, 2004 3:33 am</h4>
    <div class="postbody"><span class="postbody">I was wondering if you could instead of typing out code for sprites and such everytime.....make a header file containig the functions then just put
<br/>
<br/>
for example  blah();
<br/>
<br/>
in the main code
<br/>
<br/>
Would that work and if so where can I find a tutorial to help me out a little bit</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14242 - zazery - Sat Jan 03, 2004 3:53 am</h4>
    <div class="postbody"><span class="postbody">That is exactly what people do. They write functions to save time. I'm not the best at explaining them maybe but I know how they work. 
<br/>
<br/>
In simple terms, you put numbers in it does stuff and can give you a result if you want. You should read up on functions if you haven't already.
<br/>
<br/>
Game engines make it very simple to create games and that's what all big games use. HAM for the GBA is a good example of what I mean. I believe that is what you are looking for. Eithier get that or create your own functions to use. Currently I am creating my own engine in use for my game. I believe someone had some header files that included most of the functions you would need to include. I can't seem to find it but hopefully someone can point you to them.
<br/>
<br/>
From what I think, you may not know programming too well, especially functions. Try simple C++ with the PC first to understand functions better.
<br/>
<br/>
Hope this post helps clear up what you were wanting to know.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14244 - DDRfreak121 - Sat Jan 03, 2004 3:59 am</h4>
    <div class="postbody"><span class="postbody">I know functions....Im just not sure how to set them up in this case</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14245 - XeroxBoy - Sat Jan 03, 2004 4:06 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">// header.h
<br/>
<br/>
<br/>
// function declaration - return type goes at the beginning
<br/>
// a list of arguments goes next in the brackets
<br/>
<br/>
int Blah(int x); 
<br/>
<br/>
int Blah(int x)
<br/>
{
<br/>
        //your code goes here
<br/>
        return 0;
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">//main.c
<br/>
<br/>
//various includes
<br/>
#include "header.h"
<br/>
<br/>
void AGBMain()
<br/>
{
<br/>
        // your code
<br/>
        Blah();
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
That's the gist of it, anyways. But seriously, this is elementary stuff - you really <span style="font-style: italic">should</span> read some books/tutorials - the ones at <a class="postlink" href="http://www.cprogramming.com" target="_blank">www.cprogramming.com</a> are a good place to start.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14247 - DDRfreak121 - Sat Jan 03, 2004 4:44 am</h4>
    <div class="postbody"><span class="postbody">I have read books...I was just making sure on it</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14252 - DDRfreak121 - Sat Jan 03, 2004 5:53 am</h4>
    <div class="postbody"><span class="postbody">Heres what I did
<br/>
<br/>
header
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "gba.h"       
<br/>
#include "dispcnt.h" 
<br/>
#include "nps.h"
<br/>
<br/>
<br/>
int image(int x);
<br/>
<br/>
int image(int x)
<br/>
{
<br/>
<br/>
void PlotPixel(int x,int y, unsigned short int c)
<br/>
{
<br/>
   VideoBuffer[(y) * 120 + (x)] = (c);
<br/>
}
<br/>
<br/>
int main()
<br/>
{
<br/>
   int loop;
<br/>
   int x, y;
<br/>
<br/>
        SetMode(MODE_4 | BG2_ENABLE); //set mode 4 and enable background 2
<br/>
<br/>
   for(loop = 0; loop &lt; 256; loop++)                 //256 entries allowed
<br/>
      BGPaletteMem[loop] = npsPalette[loop]; //load the palette into palette memory
<br/>
<br/>
   while(1)
<br/>
   {
<br/>
      for(y = 0; y &lt; 160; y++)                  //screen height
<br/>
      {
<br/>
         for(x = 0; x &lt; 120; x++)          //screen width
<br/>
         {
<br/>
            PlotPixel(x,y, npsData[y*120+x]);   //load image data into
<br/>
         }                  //memory pixel by pixel
<br/>
      }
<br/>
   }
<br/>
}
<br/>
return 0;
<br/>
}
<br/>
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
then heres the main code
<br/>
<br/>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include "gba.h"
<br/>
#include "dispcnt.h"
<br/>
#include "nps.h"
<br/>
#include "image.h"
<br/>
void PlotPixel(int x,int y, unsigned short int c)
<br/>
{
<br/>
image();
<br/>
}</td> </tr></table><span class="postbody">
<br/>
<br/>
error.....damn
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">C:\Documents and Settings\Zack1\Desktop\image library attempt&gt;path=C:\devkitadv\
<br/>
bin
<br/>
<br/>
C:\Documents and Settings\Zack1\Desktop\image library attempt&gt;gcc -o main.elf ma
<br/>
in.cpp -lm
<br/>
In file included from main.cpp:3:
<br/>
nps.h:1957:70: warning: no newline at end of file
<br/>
In file included from image.h:3,
<br/>
                 from main.cpp:4:
<br/>
nps.h:9: redefinition of `const u16 npsData[]'
<br/>
nps.h:9: `const u16 npsData[19200]' previously defined here
<br/>
nps.h:1931: redefinition of `const u16 npsPalette[]'
<br/>
nps.h:1931: `const u16 npsPalette[256]' previously defined here
<br/>
In file included from image.h:3,
<br/>
                 from main.cpp:4:
<br/>
nps.h:1957:70: warning: no newline at end of file
<br/>
In file included from main.cpp:4:
<br/>
image.h: In function `int image(int)':
<br/>
image.h:12: syntax error before `{' token
<br/>
image.h: In function `int main()':
<br/>
image.h:32: `PlotPixel' undeclared (first use this function)
<br/>
image.h:32: (Each undeclared identifier is reported only once for each function
<br/>
<br/>
   it appears in.)
<br/>
image.h: At global scope:
<br/>
image.h:37: syntax error before `return'
<br/>
main.cpp: In function `void PlotPixel(int, int, short unsigned int)':
<br/>
main.cpp:6: `void PlotPixel(int, int, short unsigned int)' used prior to
<br/>
   declaration
<br/>
image.h:9: too few arguments to function `int image(int)'
<br/>
main.cpp:7: at this point in file
<br/>
<br/>
C:\Documents and Settings\Zack1\Desktop\image library attempt&gt;objcopy -O binary
<br/>
main.elf main.gba
<br/>
objcopy: main.elf: No such file or directory
<br/>
<br/>
C:\Documents and Settings\Zack1\Desktop\image library attempt&gt;pause
<br/>
Press any key to continue . . .
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Im sorry.....I just cant figure this out</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14253 - sajiimori - Sat Jan 03, 2004 6:09 am</h4>
    <div class="postbody"><span class="postbody">Seems like you need a good book on C.  I recommend The C Primer.  You can probably get people to give you code to solve your problems (people here are nice that way), but you won't learn very much.
<br/>
<br/>
Somebody will probably come by and post some correct code for you, but the reason I'm not doing that is because your understanding of C is not complete enough for such code to help you in the long run.
<br/>
<br/>
Good luck!  :-)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14254 - sajiimori - Sat Jan 03, 2004 6:23 am</h4>
    <div class="postbody"><span class="postbody">BTW XeroxBoy, be careful to not post misleading information.  Your example shows code appearing in header files, which is truly a bad idea.
<br/>
<br/>
One last comment, directed at everybody who reads this:  It's ok to not know something.  Insisting that you already know is a hinderance to progress.  I've been programming for years, but I am still learning -- my primary reading material is about programming.
<br/>
<br/>
The people who insist that they know everything are the most ignorant of all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14271 - DDRfreak121 - Sat Jan 03, 2004 4:57 pm</h4>
    <div class="postbody"><span class="postbody">GAHHHH
<br/>
<br/>
Ive read all ,my C books and looked up functions online
<br/>
<br/>
For some reason they dont make sense 
<br/>
<br/>
could smeone please just help me...if I run into another problem Im locking myself away for 3 monthes just to read them over and over</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14274 - poslundc - Sat Jan 03, 2004 6:54 pm</h4>
    <div class="postbody"><span class="postbody">If you do not understand how a function works, then you need to work through any of a million <a class="postlink" href="http://www.google.com/search?q=c+tutorial" target="_blank">C tutorials</a>. Look for ones that teach with examples. Then take the examples and code them in yourself (don't just copy/paste, force yourself to retype them in). Reading about them in books is all well-and-good, but if you're confused then it's time to start learning by doing. Functions will make a LOT more sense once you've actually programmed a few successfully.
<br/>
<br/>
For the record, the code that you've posted is WAY off-base, and anyone here simply correcting it for you would not be doing you any service by it. GBA programming is tough for people who already have a firm grasp of C programming, and you do not have that yet.
<br/>
<br/>
I'm not trying to discourage you from GBA programming; if you work at it and are a quick study then it could take you as little as a day to get the necessary experience programming in C to start tackling the GBA. But if you attempt to circumvent the learning C step, then I do not think you will not progress very far.
<br/>
<br/>
Good luck,
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14275 - yaustar - Sat Jan 03, 2004 7:10 pm</h4>
    <div class="postbody"><span class="postbody">Quick answer, you have the 'main()' function in a header file when it shoulkd be in the main source file.
<br/>
<br/>
eg
<br/>
header file 
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
plotpixel(int x, int y)
<br/>
{
<br/>
 blah balha hahdsajkd
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
main scurce
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
#include "bhbhbhbh"
<br/>
main()
<br/>
{
<br/>
 blah
<br/>
 while(1)
<br/>
 {
<br/>
   plotpixel(10,10);
<br/>
 }
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
very quick example.
<br/>
<br/>
Try using consle programming and call a function that simply couts or printfs a line to the screen first then use the same princable on the GBA.
<br/>
<br/>
<a href="http://www.gametutorials.com" target="_blank">www.gametutorials.com</a>
<br/>
<br/>
edit: code should be put into source files as sajoimi (sorry, cant spell your name) said as:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//bg.h
<br/>
void something(void);
<br/>
</td> </tr></table><span class="postbody">
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
//bg.c
<br/>
#include bg.h
<br/>
void something(void)
<br/>
{
<br/>
 do something
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
then in main source include the header file.
<br/>
For the moment you can get away with putting in a header file but in general it is very bad practice.
<br/>
<br/>
I can and will correct it for you if you ask and really feel like you hit a brick wall but as poslandc said, it really isnt going to do many favours later.<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14278 - DDRfreak121 - Sat Jan 03, 2004 7:53 pm</h4>
    <div class="postbody"><span class="postbody">Im going to do the C and C++lessons at gametutorials website
<br/>
<br/>
thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14279 - plasma - Sat Jan 03, 2004 8:14 pm</h4>
    <div class="postbody"><span class="postbody"><span style="color: darkblue">Another thing, you can't write a function inside a function - e.g. it won't compile if you write main() inside image()</span></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14291 - Miked0801 - Sat Jan 03, 2004 10:53 pm</h4>
    <div class="postbody"><span class="postbody">That brought back memories of my PASCAL days - functions in functions :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14300 - dagamer34 - Sun Jan 04, 2004 1:09 am</h4>
    <div class="postbody"><span class="postbody">The GBA Appwizard has some headers that serve as a very good base for your code.
<br/>
<br/>
If all else fails and you run out of ideas for functions, just look at HAM, it has TONS. Of course, don't copy!<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#14303 - yaustar - Sun Jan 04, 2004 1:55 am</h4>
    <div class="postbody"><span class="postbody">I suppose the quickest example would be gbajunkie's bg.h and bg.cpp files in chapter 5 or 6.<br/>_________________<br/>[<a class="postlink" href="http://parabellumgames.no-ip.org" target="_blank">Blog</a>] [<a class="postlink" href="http://yaustar.no-ip.org" target="_blank">Portfolio</a>]</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
