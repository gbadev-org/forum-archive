<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>pcx2gba problem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>Beginners > pcx2gba problem</h2>
<div id="posts">
<div class="post">
    <h4>#24289 - Wyldcard - Sat Jul 31, 2004 9:06 pm</h4>
    <div class="postbody"><span class="postbody">I have been going through the tutorials, and am stuck on the pcx2gba part of the process.  I do not have Photoshop, so I am using an image convert program.  I have the image at:
<br/>
WIDTH   240
<br/>
HEIGHT  160
<br/>
COLOR   256
<br/>
<br/>
Every time I drag a .PCX image, and I have tried multiple different images.  I get:
<br/>
'stringfailed to open pcx file'
<br/>
<br/>
I do get code in the .h file, but it does not present an image when I run it through the rest of the process, and into VisualGameboyAdvance.
<br/>
<br/>
Is there an easier way to convert image files without having to buy some software?
<br/>
<br/>
Thanks in advance.<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24295 - Wyldcard - Sun Aug 01, 2004 1:29 am</h4>
    <div class="postbody"><span class="postbody">okay.  I downloaded the latest version of the program, and it does not error.  I still don't get the image.  Has anyone else run into this?<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24319 - Wriggler - Sun Aug 01, 2004 3:31 pm</h4>
    <div class="postbody"><span class="postbody">Sounds to me like your pcx's are 16 million colours instead of 256. Lower the colour depth and give it another shot.
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24346 - Wyldcard - Sun Aug 01, 2004 9:38 pm</h4>
    <div class="postbody"><span class="postbody">Wriggler,
<br/>
<br/>
Thanks :)  I made sure it was 256, and it goes through the PCX2GBA program fine.  When I then run the Make it also works.  However when I run the test.elf, the screen flashes and goes back to black.  I wonder if maybe it is too large in memory.
<br/>
  I moved on to another tutorial, and got BMP2GBA working, so I am all happy now :)  I also downloaded the trial version of Photoshop, but it won't let me save any files :(  Oooh well, if I get better and get things working in the future I may invest in that program.  I just hate to spend money to buy something, and then never use it.  I like to know it will work first, and then I don't mind buying it :)<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24349 - dagamer34 - Sun Aug 01, 2004 10:01 pm</h4>
    <div class="postbody"><span class="postbody">Download the trial version of Jasc Paint Shop Pro 8. I think it's more in your ballpark in terms of cost. (less than $99) And it does just about everything Photoshop does, if you put your mind to it at least... :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24351 - Wriggler - Sun Aug 01, 2004 10:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote">Download the trial version of Jasc Paint Shop Pro 8. I think it's more in your ballpark in terms of cost. (less than $99) And it does just about everything Photoshop does, if you put your mind to it at least... :)</td> </tr></table><span class="postbody">
<br/>
<br/>
I use PSP8. It's great, I prefer it to Photoshop 100 times over.
<br/>
<br/>
Glad I could help!
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24352 - dagamer34 - Mon Aug 02, 2004 1:33 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wriggler wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote">Download the trial version of Jasc Paint Shop Pro 8. I think it's more in your ballpark in terms of cost. (less than $99) And it does just about everything Photoshop does, if you put your mind to it at least... :)</td> </tr></table><span class="postbody">
<br/>
<br/>
I use PSP8. It's great, I prefer it to Photoshop 100 times over.
<br/>
<br/>
Glad I could help!
<br/>
<br/>
Ben</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Photoshop gives too much power to users, when sometimes it is not needed. In fact, using Photoshop as a primary graphics tool is very hindering to the creation process as many graphics that are created use 4 or 8-bit palettes instead of 16 million colors. 
<br/>
<br/>
PSP8 is a good program as it takes away most of the unneccessary functions that PhotoShop does (they can still be done through scripts), but still lacks palette editing functions. I use GraphicsGale to do my palette editing work, to fill in the holes where PSP8 is.... subpar.
<br/>
<br/>
Just my 2 cents! :)<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24357 - Wyldcard - Mon Aug 02, 2004 4:36 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote">Download the trial version of Jasc Paint Shop Pro 8. I think it's more in your ballpark in terms of cost. (less than $99) And it does just about everything Photoshop does, if you put your mind to it at least... :)</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks :)
<br/>
I will look into it.<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24388 - dovoto - Mon Aug 02, 2004 8:27 pm</h4>
    <div class="postbody"><span class="postbody">IF you are interested, day two of my tutor now includes a demo that loads a pcx from a binary and decodes it on the GBA.  It also includes many of the methods for including binary data in your GBA program.
<br/>
<br/>
<a href="http://www.thepernproject.com" target="_blank">www.thepernproject.com</a>
<br/>
<br/>
Keep in mind this is mainly a novelty to showcase both the inclusion of binary data and the decodeing of a simple file format.  There are better image formats to use on the gba...specificaly ones that can be decompressed by bios rutiens.
<br/>
-jason<br/>_________________<br/><a href="http://www.drunkencoders.com" target="_blank">www.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24423 - Wyldcard - Tue Aug 03, 2004 3:07 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dovoto wrote:</b></span></td> </tr> <tr> <td class="quote">IF you are interested, day two of my tutor now includes a demo that loads a pcx from a binary and decodes it on the GBA.  It also includes many of the methods for including binary data in your GBA program.
<br/>
<br/>
<a href="http://www.thepernproject.com" target="_blank">www.thepernproject.com</a>
<br/>
<br/>
Keep in mind this is mainly a novelty to showcase both the inclusion of binary data and the decodeing of a simple file format.  There are better image formats to use on the gba...specificaly ones that can be decompressed by bios rutiens.
<br/>
-jason</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks :)  I will look into it.  I like this Jasc Paint Shop Pro.  I need to read through the tutorials again, because the image is coming out all garbled from the PCX2GBA.<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24427 - dagamer34 - Tue Aug 03, 2004 4:46 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wyldcard wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dovoto wrote:</b></span></td> </tr> <tr> <td class="quote">IF you are interested, day two of my tutor now includes a demo that loads a pcx from a binary and decodes it on the GBA.  It also includes many of the methods for including binary data in your GBA program.
<br/>
<br/>
<a href="http://www.thepernproject.com" target="_blank">www.thepernproject.com</a>
<br/>
<br/>
Keep in mind this is mainly a novelty to showcase both the inclusion of binary data and the decodeing of a simple file format.  There are better image formats to use on the gba...specificaly ones that can be decompressed by bios rutiens.
<br/>
-jason</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks :)  I will look into it.  I like this Jasc Paint Shop Pro.  I need to read through the tutorials again, because the image is coming out all garbled from the PCX2GBA.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Make sure you are using a tile converter for sprites and tile-backgrounds, and not a bitmap converter. Try converting a 240x160 16-bit color bitmap and see if it displays correctly. If it does, then that is the problem.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24433 - Wriggler - Tue Aug 03, 2004 5:20 pm</h4>
    <div class="postbody"><span class="postbody">...and also make sure your bitmap sizes are multiples of four. That tends to freak out the converters too :)
<br/>
<br/>
Ben</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24461 - Wyldcard - Wed Aug 04, 2004 2:59 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wriggler wrote:</b></span></td> </tr> <tr> <td class="quote">...and also make sure your bitmap sizes are multiples of four. That tends to freak out the converters too :)
<br/>
<br/>
Ben</td> </tr></table><span class="postbody">
<br/>
<br/>
Thanks :)  I think it was an odd number.  I will fix that, and try again.<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24486 - Wyldcard - Wed Aug 04, 2004 3:08 pm</h4>
    <div class="postbody"><span class="postbody">I am a little confused by one thing.  Maybe I am missing something with the JASC program.  I set the picture to WIDTH = 240, HEIGHT= 160, 256 colors 16-bit.  However when I drag it on top of PCX2GBA the DOS window opens, and immediately closes with nothing coming out.  Is there another option I need to set?<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24491 - dagamer34 - Wed Aug 04, 2004 3:48 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wyldcard wrote:</b></span></td> </tr> <tr> <td class="quote">I am a little confused by one thing.  Maybe I am missing something with the JASC program.  I set the picture to WIDTH = 240, HEIGHT= 160, 256 colors 16-bit.  However when I drag it on top of PCX2GBA the DOS window opens, and immediately closes with nothing coming out.  Is there another option I need to set?</td> </tr></table><span class="postbody">
<br/>
<br/>
Check and see if it generated a .h file. It should have in the directory in which pcx2gba is located.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#24526 - Wyldcard - Thu Aug 05, 2004 4:18 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>dagamer34 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Wyldcard wrote:</b></span></td> </tr> <tr> <td class="quote">I am a little confused by one thing.  Maybe I am missing something with the JASC program.  I set the picture to WIDTH = 240, HEIGHT= 160, 256 colors 16-bit.  However when I drag it on top of PCX2GBA the DOS window opens, and immediately closes with nothing coming out.  Is there another option I need to set?</td> </tr></table><span class="postbody">
<br/>
<br/>
Check and see if it generated a .h file. It should have in the directory in which pcx2gba is located.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Nope.  I even hit F5 to refresh, and no .h file.<br/>_________________<br/>I am Biblically correct,
<br/>
not politically correct.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#26442 - getch - Wed Sep 15, 2004 7:55 pm</h4>
    <div class="postbody"><span class="postbody">I think this is because dovoto's program can't decode 16 color pcx's.
<br/>
As a matter of fact, neither can I.
<br/>
And I cant find proper method anywhere on the internet, even on z-softs own specifications.
<br/>
<br/>
16 color images are saved in 4 color planes, supposed to represent red, green, blue, intensity.
<br/>
But i dont know why, because they are also supposed to reference the palette.
<br/>
<br/>
Does anyone know how to decode these images?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#26458 - tepples - Thu Sep 16, 2004 1:28 am</h4>
    <div class="postbody"><span class="postbody">Color planes is similar to how EGA and VGA stored 16-color images.
<br/>
<br/>
First, familiarize yourself with the 2bpp planar tile storage format for Game Boy and Game Boy Color tiles. Then familiarize yourself with the 4bpp planar tile storage format used for Sega Master System tiles, which is the same thing with twice as many planes. Start in the <a class="postlink" href="http://www.stud.ntnu.no/~kenth/tm/formatref.htm" target="_blank">Tile Molester documentation</a>.
<br/>
<br/>
The PCX format is like the SMS format, except compressed with PCX RLE and not divided into tiles. Within each row of pixels is a compressed stream representing plane 0, plane 1, plane 2, and plane 3 for that line. <ul><li>Image <ul><li>Header </li><li>Line 0 <ul><li>Plane 0 </li><li>Plane 1 </li><li>Plane 2 </li><li>Plane 3 </li></ul> </li><li>Line 1 <ul><li>Plane 0 </li><li>Plane 1 </li><li>Plane 2 </li><li>Plane 3 </li></ul> </li><li>Line 2 <ul><li>Plane 0 </li><li>Plane 1 </li><li>Plane 2 </li><li>Plane 3 </li></ul> </li><li>... </li></ul> </li></ul> Within each plane are pixels from left to right.
<br/>
<br/>
Example:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">00011223 360069C0  &lt;- Row of pixels
<br/>
<br/>
00011001 10000100  &lt;- 1's place -&gt;  19 84
<br/>
00000111 11001000  &lt;- 2's place -&gt;  07 C8
<br/>
00000000 01001010  &lt;- 4's place -&gt;  00 4A
<br/>
00000000 00000110  &lt;- 8's place -&gt;  00 06
<br/>
</td> </tr></table><span class="postbody">
<br/>
"Be conservative in what you emit and liberal in what you accept." PCX byte runs must never cross scanline boundaries. The spec says they shouldn't cross plane boundaries within a scanline either, but some programs emit them that way.
<br/>
<br/>
If you can't understand this well enough to display a 16-color .pcx, then just use converters that can translate from the more widely understood 16-color .bmp format.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
