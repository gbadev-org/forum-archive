<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Calling Conventions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>ASM > Calling Conventions</h2>
<div id="posts">
<div class="post">
    <h4>#19033 - f(DarkAngel) - Sat Apr 10, 2004 1:55 pm</h4>
    <div class="postbody"><span class="postbody">Is there an online doc about calling conventions of ARM? Through disassembling C code, i've found that unlike usual x86, parameters are passed via registers instead of pushing to the stack.
<br/>
One other question is, what is going to be done when compiler runs out of "free-to-modify" registers (r0-r12)? (like a function with 20 parameters) Pushing to the stack?
<br/>
<br/>
Finally, in x86, calling conventions are same for C and C++ (except for the label naming mang., which is solved with extern "C"). Is there a difference between C &amp; C++ for GBA?<br/>_________________<br/>death scream...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19040 - Cearn - Sat Apr 10, 2004 3:29 pm</h4>
    <div class="postbody"><span class="postbody">You mean something like <a class="postlink" href="http://www.arm.com/products/DevTools/abi/aapcs.pdf" target="_blank">this</a>? 
<br/>
For the second question, DekuTree64 and batblaster have answered it in <a class="postlink" href="http://forum.gbadev.org/viewtopic.php?t=3181" target="_blank">this thread</a>.
<br/>
Lastly, when I started GBA programming I used C++ but switched to normal C lateron. Hardly had to change a thing when I did that (except the file extension and converting the inline functions to macros, it seems GCC doesn't like the inline keyword in .c files), so I guess the calling convention is the same.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#19147 - SmileyDude - Mon Apr 12, 2004 12:09 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Cearn wrote:</b></span></td> </tr> <tr> <td class="quote">Lastly, when I started GBA programming I used C++ but switched to normal C lateron. Hardly had to change a thing when I did that (except the file extension and converting the inline functions to macros, it seems GCC doesn't like the inline keyword in .c files), so I guess the calling convention is the same.</td> </tr></table><span class="postbody">
<br/>
<br/>
If you pass "-std=c99" on the command line to gcc, you can use inline functions again.  I've switched all of my C code over to C99, and I haven't had any problems yet.  In addition to inline, you get to declare variables in for loops (i.e, for(int i = 0; ...), the ability to declare variables anywhere in a functions (similar to C++ and Java), C++ style comments for real (as opposed to gcc just letting them slide even though the old standard didn't allow it), and a bunch more that I can't remember right now.  Do a google search on C99 to find out more.<br/>_________________<br/>dennis</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
