<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to build simple ASM program? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > How to build simple ASM program?</h2>
<div id="posts">
<div class="post">
    <h4>#174619 - anta40 - Fri Jul 02, 2010 6:07 am</h4>
    <div class="postbody"><span class="postbody">I was reading this <a class="postlink" href="http://greatflash.co.uk/index.php?topic=66.msg475" target="_blank">tutorial</a>
<br/>
<br/>
Then I tried to build the project in Programmers Notepad. Unfortunately, the steps covered in <a class="postlink" href="http://greatflash.co.uk/index.php?topic=65.0" target="_blank">this page</a> is not pretty clear.
<br/>
<br/>
So, based on this example:
<br/>
C:\devkitPro\examples\gba\graphics\ansi_console
<br/>
<br/>
I build my project manually (creating the source folder &amp; copying the Makefile)
<br/>
<br/>
And this is the output while running make
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">&gt; "make" 
<br/>
linking cartridge
<br/>
c:/devkitpro/devkitarm/bin/../lib/gcc/arm-eabi/4.4.3/../../../../arm-eabi/lib/thumb/gba_crt0.o: In function `CIDExit':
<br/>
(.init+0x20c): undefined reference to `main'
<br/>
collect2: ld returned 1 exit status
<br/>
make[1]: *** [/c/devkitPro/source/gba/asmtest/asmtest.elf] Error 1
<br/>
"make": *** [build] Error 2</td> </tr></table><span class="postbody">
<br/>
<br/>
What went wrong here?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174621 - Cearn - Fri Jul 02, 2010 6:41 am</h4>
    <div class="postbody"><span class="postbody">This error is usually caused by one of two things
<br/>
<ol type="1"><li>Your source file does not have a <span style="font-weight: bold">main</span> function. But the code from the tutorial has that, so that should be okay.
<br/>
</li><li>The compiler can't find your code. If you look in the makefile, there's a variable called SOURCES. This points to the folder(s) with the source files (.c, .cpp, .s, etc). If your file isn't there or does not have the right extension, it won't be used.</li></ol></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#174625 - anta40 - Fri Jul 02, 2010 11:19 am</h4>
    <div class="postbody"><span class="postbody">Renamed the file to asmtest.s (previously: asmtest.asm), then it built successfully.
<br/>
<br/>
Strange...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
