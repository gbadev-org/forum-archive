<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Asm Routine - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > Asm Routine</h2>
<div id="posts">
<div class="post">
    <h4>#165620 - HackLars - Tue Dec 30, 2008 9:51 am</h4>
    <div class="postbody"><span class="postbody">Hello.
<br/>
I'm a rom hacker and i've done a routine to change the palette at determined hour (excuse me for my bad english, but i'm italian).
<br/>
I only want that my routine start many times every minute for ever.
<br/>
How can i do?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165627 - tepples - Tue Dec 30, 2008 4:04 pm</h4>
    <div class="postbody"><span class="postbody">Are you trying to change the palette every hour in real time, like Animal Crossing does? Do you have a real-time clock in the cart you're using?
<br/>
<br/>
Or do you just want to change the palette every 60 seconds of time that the machine is powered on? For that, you could count vertical blanks. The refresh rate of the GBA is 16777216/280896 Hz; a minute is close to 3584 vblanks. Just start a counter at 3584, subtract 1 in your vblank handler, and then change the palette when it hits 0.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#165630 - HackLars - Tue Dec 30, 2008 9:19 pm</h4>
    <div class="postbody"><span class="postbody">I want only repeat the routine every 60 second, then when are 18.59 the palette are sunny, when are 19.00 the palette are dark and during the game, when are 7.00 the palette are sunny. the routine must repeat every 60 second, how can i do that?</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
