<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Adding your own SWI functions? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > Adding your own SWI functions?</h2>
<div id="posts">
<div class="post">
    <h4>#59930 - paladine - Sat Nov 05, 2005 6:50 pm</h4>
    <div class="postbody"><span class="postbody">Is there any way to add SWI functions?  From what I've read the SWI function array is stored in the BIOS and therefore you can't change them.  I want to achieve a system call, a call made from user mode that ends up in the IRQ handler.  
<br/>
<br/>
I was thinking of maybe setting up a short DMA transfer and have it fire an IRQ when finished.  That would achieve the same effect in my mind.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#59931 - Miked0801 - Sat Nov 05, 2005 7:26 pm</h4>
    <div class="postbody"><span class="postbody">Why?  What are you trying to accomplish that a jump table wouldn't do for you?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#59935 - pepsiman - Sat Nov 05, 2005 7:40 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>paladine wrote:</b></span></td> </tr> <tr> <td class="quote">Is there any way to add SWI functions?</td> </tr></table><span class="postbody">
<br/>
On the GBA, swi 0xd4 goes to 0x02002040 (arm).  This is how gbalinux works.
<br/>
<br/>
On the DS, the vectors on the ARM9 can be relocated to 0x0 (they are normally at 0xffff0000), and you can use them for anything you want.  This is how dslinux works.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#59936 - paladine - Sat Nov 05, 2005 7:46 pm</h4>
    <div class="postbody"><span class="postbody">SWI 0xd4 sounds like what I need.  Now I just need to figure out how to force the linker to put something at 0x02002040 ;-)</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
