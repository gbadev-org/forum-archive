<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>black screen - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > black screen</h2>
<div id="posts">
<div class="post">
    <h4>#21182 - realV - Tue May 25, 2004 2:24 pm</h4>
    <div class="postbody"><span class="postbody">I got a question:
<br/>
<br/>
this is my asm code:
<br/>
<br/>
@include image.asm
<br/>
<br/>
init:
<br/>
   ldr r0,=0x4000000
<br/>
   ldr r1,=0x3
<br/>
   add r1,r1,=0x400
<br/>
   str r1,[r0]
<br/>
<br/>
   ldr r0,=0x6000000
<br/>
   ldr r1,=gbaBitmap
<br/>
   ldr r2,=19200
<br/>
<br/>
load:
<br/>
<br/>
   ldr r3,[r1]+4!
<br/>
   str r3,[r0]+4!
<br/>
   subs r2,r2,=0x1
<br/>
bne load
<br/>
<br/>
loop:
<br/>
b loop
<br/>
<br/>
<br/>
i compile it with goldroad1.7 and ok i got a file main.gba
<br/>
<br/>
but when i test this programm on VisualBoyAdvance i god just a black screen and nothing more , the bitmap is loaded into memory but i dont know wats wrong ?
<br/>
<br/>
PS: Sorry for my anglish :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21185 - sasq - Tue May 25, 2004 3:17 pm</h4>
    <div class="postbody"><span class="postbody">you should do a strh (not str) to set the DISPCNT register.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21239 - realV - Wed May 26, 2004 10:19 am</h4>
    <div class="postbody"><span class="postbody">hmm it works but only if i start VisualBoyAdvance from command line , i will try some other emu</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#21271 - dagamer34 - Wed May 26, 2004 4:22 pm</h4>
    <div class="postbody"><span class="postbody">I had the same problem too until I switched to GAS. It must be something with Goldroad.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
