<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>MultiBoot problem - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > MultiBoot problem</h2>
<div id="posts">
<div class="post">
    <h4>#25276 - ProblemBaby - Thu Aug 19, 2004 10:41 pm</h4>
    <div class="postbody"><span class="postbody">Ive problems to send the multiboot data to the slaves
<br/>
here is the most interesting peace of code:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
      LDR r0, =0x6100
<br/>
      ORR r0, r6     @ r6 = Slave Bits
<br/>
      BL Transfer
<br/>
      
<br/>
      LDR r4, =Client   @ Client is a program
<br/>
      LDRB r0, [r4, #0]
<br/>
      LSL r0, #8
<br/>
      LDRB r1, [r4, #1]
<br/>
      ORR r0, r1
<br/>
      BL MultiPlayer_Transfer
<br/>
      LDRH r0, [r3, #REG_SIOMULTI1]
<br/>
      POP { r4, r5, r6, pc }  @ return and print out the value to see if it was transfered
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
The code runs amazing when Iam tryinf to find the slaves
<br/>
the first transfer in this peace of code works also
<br/>
but when I try to transfer header data it looks up (on hardware it doesnt even return)
<br/>
not at no$gba, but in no$gba the rom-image crashed when i try to call swi 0x21.
<br/>
<br/>
I cant find out what the problem is. But I think this should be enough plz repost if you want to some more code!
<br/>
<br/>
Thanks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25312 - ProblemBaby - Fri Aug 20, 2004 1:38 pm</h4>
    <div class="postbody"><span class="postbody">IF someone have done such code in C or ASM that works in both no$gba and at hardware it would be nice to see!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25317 - f(DarkAngel) - Fri Aug 20, 2004 2:11 pm</h4>
    <div class="postbody"><span class="postbody">Can you post the full code? It doesn't look poosible to say where error is with a code that just does r0 = ([byte r4]&lt;&lt;8) | [byte r4]
<br/>
<br/>
Both <a class="postlink" href="http://pineight.com" target="_blank">pineight</a> and <a class="postlink" href="http://devrs.com/gba" target="_blank">devrs</a> have multiboot code.<br/>_________________<br/>death scream...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25341 - ProblemBaby - Fri Aug 20, 2004 11:46 pm</h4>
    <div class="postbody"><span class="postbody">I didnt find any at pineight
<br/>
however the devrs version doesnt seems to work at no$gba!
<br/>
So...
<br/>
I tried a commercial ROM (That I own) at it worked nice with no$gba so it seems like that isnt the best mb code neither.
<br/>
anyway if anyone have succeeded to write code that works in no$gba please show me the source!
<br/>
<br/>
thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25346 - dagamer34 - Sat Aug 21, 2004 2:20 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">I didnt find any at pineight
<br/>
however the devrs version doesnt seems to work at no$gba!
<br/>
So...
<br/>
I tried a commercial ROM (That I own) at it worked nice with no$gba so it seems like that isnt the best mb code neither.
<br/>
anyway if anyone have succeeded to write code that works in no$gba please show me the source!
<br/>
<br/>
thanks</td> </tr></table><span class="postbody">
<br/>
<br/>
Are you sure you set it up correctly? The emulator options really do matter when you are using no$GBA.<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25351 - ProblemBaby - Sat Aug 21, 2004 10:14 am</h4>
    <div class="postbody"><span class="postbody">The commercial rom worked with the same setting.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25360 - dagamer34 - Sat Aug 21, 2004 4:19 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>ProblemBaby wrote:</b></span></td> </tr> <tr> <td class="quote">The commercial rom worked with the same setting.</td> </tr></table><span class="postbody">
<br/>
<br/>
Which one did you use? Are you sure it was a single-pak game?<br/>_________________<br/>Little kids and Playstation 2's don't mix. :(</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25364 - ProblemBaby - Sat Aug 21, 2004 5:00 pm</h4>
    <div class="postbody"><span class="postbody">Kirby's adventure, nightmare in dreamland
<br/>
<br/>
Yes Ive played it before on hardware single pak with a friend.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
