<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DevKitAdv compile error - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/static/pure-min.css" />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > DevKitAdv compile error</h2>
<div id="posts">
<div class="post">
    <h4>#9769 - Omega81 - Sun Aug 17, 2003 4:05 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
[root@localhost root]# gba-gcc -o test.elf test.c
<br/>
/DevKitAdv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/bin/ld: section .iwram [080003f8 -&gt; 080004bf] overlaps section .init [080003e4 -&gt; 080003ff]
<br/>
/DevKitAdv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/lib/crt0.o: In function `jump_intr':
<br/>
/DevKitAdv/bin/../lib/gcc-lib/arm-agb-elf/3.1/../../../../arm-agb-elf/lib/crt0.o(.iwram+0xc4): undefined reference to `IntrTable'
<br/>
collect2: ld returned 1 exit status
<br/>
[root@localhost root]# </td> </tr></table><span class="postbody">
<br/>
<br/>
when I try to compile a simple program I get this error. any Ideas as to why this is happening.  The code is give below.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">#include &lt;stdio.h&gt;
<br/>
#include "GameBoyAdv.h"
<br/>
#define RGB(r,g,b) (r+(g&lt;&lt;5)+(b&lt;&lt;10))    //Macro to build a color from its parts
<br/>
<br/>
int color,i,x,y;
<br/>
u16* Vram = (u16*)VideoBuffer;
<br/>
int main()
<br/>
{
<br/>
  REG_DISPCNT = (0x0400|0x03); // select mode 3 with bacground 2 bitmap backgoun
<br/>
d
<br/>
  x = 10;
<br/>
  y = 20;
<br/>
  //for (i=0; i&lt; 2000; i++)
<br/>
  //{
<br/>
        Vram[x+y*240] = RGB(31,31,31);
<br/>
 // }
<br/>
   return 0;
<br/>
}
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
thank in advanced guys/gals[/code][/quote]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9770 - DekuTree64 - Sun Aug 17, 2003 7:00 am</h4>
    <div class="postbody"><span class="postbody">That means you have the interrupt handler in Crt0.S enabled, and since it uses a table of function pointers, you need to declare that somewhere in your code. It should be an array called IntrTable of 14 function poitners, or 32 bit values if you prefer, either way works. The order of them is the same as the order of the IRQ enabling bits in REG_IE, so you can look that up at <a href="http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm" target="_blank">http://www.cs.rit.edu/~tjh8300/CowBite/CowBiteSpec.htm</a> if you need to.
<br/>
Or if you don't need interrupt support at all, you can disable it in Crt0.S, just read through the first part of it and it should have a line to comment or uncomment to disable it.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9778 - Omega81 - Mon Aug 18, 2003 1:10 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">if u don't need interrupt support at all, you can disable it in Crt0.S</td> </tr></table><span class="postbody"> just one Question, were is Crt0.S? I have tried search in the devkitadv directory (even on my whole HDD) but nothign comes up.
<br/>
<br/>
thank<br/>_________________<br/>Keep it real, keep it Free, Keep it GNU</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#9783 - Omega81 - Mon Aug 18, 2003 2:27 am</h4>
    <div class="postbody"><span class="postbody">Just got to Tom Badran site and it appear the is a problem with the current biuld of DevKitAdv so my asm code has to be build manually step by step :), done that and it all works althrough I didn't included the CRT0.s file from <a class="postlink" href="http://www.devrs.com/gba/ccode.php#cmisc" target="_blank">http://www.devrs.com/gba/ccode.php#cmisc</a> in my linkage but and my program still works but VisualGameBoy won't exit. so I have to use Xkill all the time. O well thanks for all the help anyway mate. I will be coming back for more.
<br/>
<br/>
Omega81 out<br/>_________________<br/>Keep it real, keep it Free, Keep it GNU</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
