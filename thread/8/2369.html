<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Is the stack always word-aligned? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>ASM > Is the stack always word-aligned?</h2>
<div id="posts">
<div class="post">
    <h4>#12702 - poslundc - Sun Nov 23, 2003 4:58 pm</h4>
    <div class="postbody"><span class="postbody">It seems like it should be... is it considered illegal (or at least against spec) for me to branch to a function if the stack pointer is not word-aligned?
<br/>
<br/>
I just want to be sure that I can safely use ldr/str, which only work on word-aligned boundaries. I use ldm and stm with the stack all the time, but according to the ARM docs they (might) work even if the stack pointer isn't word-aligned.
<br/>
<br/>
Thanks,
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#12703 - tepples - Sun Nov 23, 2003 5:37 pm</h4>
    <div class="postbody"><span class="postbody">Yes. Most RISC architectures' procedure calling conventions require the stack pointer to be aligned to some logical word size. You can assume that you can use ldr or ldm on the stack.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
