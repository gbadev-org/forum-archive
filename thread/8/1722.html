<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>burning software doesnt recognize my assembled roms - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>ASM > burning software doesnt recognize my assembled roms</h2>
<div id="posts">
<div class="post">
    <h4>#8767 - wasiliy - Sat Jul 19, 2003 12:23 pm</h4>
    <div class="postbody"><span class="postbody">hi,
<br/>
i use armasm. when i try to burn my roms on a cart my burning software says that its not a valid gba rom but my roms run on visual boy advance. i assume that i assembled my rom in a wrong way. here is my make file:
<br/>
<br/>
zarmasm -cpu ARM7TDMI -Littleend line.s -o line.o
<br/>
<br/>
<br/>
zarmlink -bin line.o -map -ro-base 0x02000000 -rw-base 0x3000000 -nodebug -o line.bin</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8772 - sgstair - Sat Jul 19, 2003 1:49 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>wasiliy wrote:</b></span></td> </tr> <tr> <td class="quote">hi,
<br/>
i use armasm. when i try to burn my roms on a cart my burning software says that its not a valid gba rom but my roms run on visual boy advance. i assume that i assembled my rom in a wrong way. here is my make file:
<br/>
<br/>
zarmasm -cpu ARM7TDMI -Littleend line.s -o line.o
<br/>
<br/>
<br/>
zarmlink -bin line.o -map -ro-base 0x02000000 -rw-base 0x3000000 -nodebug -o line.bin</td> </tr></table><span class="postbody">
<br/>
<br/>
I would guess that you have a header problem, either no header, or the wrong one
<br/>
<br/>
Take a look here for more information: <a class="postlink" href="http://www.work.de/nocash/gbatek.htm#cartridgeheader" target="_blank">http://www.work.de/nocash/gbatek.htm#cartridgeheader</a>
<br/>
<br/>
-Stephen</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8774 - wasiliy - Sat Jul 19, 2003 2:27 pm</h4>
    <div class="postbody"><span class="postbody">hmm well, now i fixed the rom with F.A.T and upgraded my burning software. now the software seem to recognize the rom but when i try to run it on my gba the rom doesnt start at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8779 - Darkain - Sat Jul 19, 2003 5:19 pm</h4>
    <div class="postbody"><span class="postbody">you are compiling the ROM for multiboot mode.  this is why it would work on emulators, and not on the GBA from a cart.
<br/>
<br/>
-ro-base 0x02000000 
<br/>
<br/>
this appears to be the "read only base address"... when it is set to 0x02000000, it tries to execute the code from EWRAM, instead of ROM.  it should be set to 0x08000000 to execute the code from rom.  try this out and see if it works<br/>_________________<br/>-=- Darkain Dragoon -=-
<br/>
<a class="postlink" href="http://www.darkain.com" target="_blank">http://www.darkain.com</a>
<br/>
<a class="postlink" href="http://ds.darkain.com/hack" target="_blank">DarkStar</a> for <a class="postlink" href="http://ds.darkain.com" target="_blank">Nintendo DS</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8784 - wasiliy - Sat Jul 19, 2003 10:24 pm</h4>
    <div class="postbody"><span class="postbody">now without fixing the header my rom starts but doesnt really work. i get random output on screen instead of the programmed effect. when i fix the header with FATV8.exe my rom doesnt start at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8785 - wasiliy - Sat Jul 19, 2003 10:47 pm</h4>
    <div class="postbody"><span class="postbody">i have to correct myself:
<br/>
only when i tell the linke to make a .gba file i get erroneous results. when i tell him to make a .bin the rom wont start at all.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8786 - sgstair - Sat Jul 19, 2003 11:37 pm</h4>
    <div class="postbody"><span class="postbody">If it helps any, I have several projects for the ARM SDT in my GBA section at <a class="postlink" href="http://www.akkit.org/sgstair" target="_blank">http://www.akkit.org/sgstair</a> - all of them compile properly, so you might try comparing the projects - maybe that will help.
<br/>
<br/>
I've since given up ARM SDT in favor of devkitadvance - sorry I can't help more
<br/>
<br/>
-Stephen<br/>_________________<br/><a class="postlink" href="http://blog.akkit.org/" target="_blank">http://blog.akkit.org/</a> - <a class="postlink" href="http://www.akkit.org/dswifi/" target="_blank">http://www.akkit.org/dswifi/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8791 - wasiliy - Sun Jul 20, 2003 6:15 am</h4>
    <div class="postbody"><span class="postbody">thanks very much to all of you. it works now after i copied the header of sgstair into my code. do i always have to have a header or is there a trick to run without? the header takes a lot of precious bytes :)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8793 - sgstair - Sun Jul 20, 2003 6:32 am</h4>
    <div class="postbody"><span class="postbody">Nope, no trick
<br/>
Just gotta have a correct header..
<br/>
<br/>
You can use some tricks, by stuffing code in unused sections of the cart header ;)
<br/>
<br/>
But, the header must be there (to find out more specifics, see the no$ gbatek site I linked earlier)
<br/>
<br/>
-Stephen<br/>_________________<br/><a class="postlink" href="http://blog.akkit.org/" target="_blank">http://blog.akkit.org/</a> - <a class="postlink" href="http://www.akkit.org/dswifi/" target="_blank">http://www.akkit.org/dswifi/</a></span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
