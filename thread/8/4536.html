<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How does it compare to intel's assembly? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > How does it compare to intel's assembly?</h2>
<div id="posts">
<div class="post">
    <h4>#30715 - sinstone - Fri Dec 03, 2004 8:54 pm</h4>
    <div class="postbody"><span class="postbody">hey all,
<br/>
<br/>
im taking an Intel assembly course atm and I was wondering how the GBA's assembly language differs from that of Intel? what are the names of the registers and what are they used for? where can i get some tutorials?
<br/>
<br/>
thanks in advance guys</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30716 - Lupin - Fri Dec 03, 2004 9:00 pm</h4>
    <div class="postbody"><span class="postbody"><a href="http://k2pts.home.comcast.net/gbaguy/oldgba/gbaasm.htm" target="_blank">http://k2pts.home.comcast.net/gbaguy/oldgba/gbaasm.htm</a>
<br/>
<a href="http://k2pts.home.comcast.net/gbaguy/gbaasm.htm" target="_blank">http://k2pts.home.comcast.net/gbaguy/gbaasm.htm</a>
<br/>
<br/>
registers are named r0-r15.
<br/>
<br/>
Copied from the tutorial:
<br/>
<br/>
r0-r12: GPRs (General Purpose Registers)
<br/>
<br/>
r13: Typically used as a stack pointer, if you don't use the stack (small demo or something, then this can be considered a GPR).
<br/>
<br/>
r14: Link register, can be used as a GPR, but its main purpose is to hold return addresses for the Branch and Link Instruction (a sub-routine call).
<br/>
<br/>
r15: PC register, holds the address +8 of the current instruction (ARM7 has a 3 stage pipeline, so if you read PC, it will have the address of 2 instructions a head of the one you used to read it).<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30736 - pyros - Sat Dec 04, 2004 1:45 am</h4>
    <div class="postbody"><span class="postbody">quite a few differences, but i found the change from intel-to-arm quite easy to make, mainly thanks to having more registers.
<br/>
<br/>
actually, there are plenty of differences including:
<br/>
<br/>
<span style="font-weight: bold">negetive(ish):</span>
<br/>
<br/>
far fewer commands
<br/>
<br/>
no 'div' :(
<br/>
<br/>
generally slower. mul's can significantly affect execution speed.
<br/>
<br/>
<br/>
<span style="font-weight: bold">positive(ish):</span>
<br/>
conditional instruction execution (most instructions can be given conditions)
<br/>
<br/>
more registers to use
<br/>
<br/>
less backwards compatibility (bit more simple to learn)
<br/>
<br/>
can use arm or thumb (can be useful, but not necesseraly on gba)
<br/>
<br/>
better stack control???
<br/>
<br/>
shifts can be appended to other instructions
<br/>
<br/>
<br/>
<br/>
BUT the best way is to learn the differences as you come across them in tutorials.
<br/>
<br/>
Oh, and download the instruction reference from <a href="http://www.arm.com" target="_blank">www.arm.com</a>
<br/>
<br/>
There is a datasheet at:
<br/>
<a class="postlink" href="http://www.arm.com/pdfs/QRC0001H_rvct_v2.1_arm.pdf" target="_blank">http://www.arm.com/pdfs/QRC0001H_rvct_v2.1_arm.pdf</a>
<br/>
but not all the instructions apply to the arm7tdmi that the GBA uses.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30756 - sgeos - Sat Dec 04, 2004 7:45 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pyros wrote:</b></span></td> </tr> <tr> <td class="quote">far fewer commands</td> </tr></table><span class="postbody">
<br/>
I'd call this positive.
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30766 - Lupin - Sat Dec 04, 2004 12:54 pm</h4>
    <div class="postbody"><span class="postbody">positive? Well, i guess MMX type instructions would be quite usefull on any CPU =P
<br/>
<br/>
But the ARM CPU is a RISC CPU (<span style="text-decoration: underline">reduced</span> instruction set computer).<br/>_________________<br/><a class="postlink" href="http://pokeme.shizzle.it/" target="_blank">Team Pokeme</a>
<br/>
<a class="postlink" href="http://lupin.shizzle.it/" target="_blank">My blog and PM ASM tutorials</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30769 - keldon - Sat Dec 04, 2004 2:38 pm</h4>
    <div class="postbody"><span class="postbody">A few of the MMX instructions would be useful, besides we only need a few of them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30796 - sgeos - Sat Dec 04, 2004 8:39 pm</h4>
    <div class="postbody"><span class="postbody">Write subroutines that add the MMX functionality?
<br/>
<br/>
-Brendan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30826 - sinstone - Sun Dec 05, 2004 7:36 am</h4>
    <div class="postbody"><span class="postbody">thanks for the info guys
<br/>
<br/>
good reading material for the holidays :P
<br/>
<br/>
intel is evil!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30828 - keldon - Sun Dec 05, 2004 8:52 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>sgeos wrote:</b></span></td> </tr> <tr> <td class="quote">Write subroutines that add the MMX functionality?
<br/>
<br/>
-Brendan</td> </tr></table><span class="postbody">
<br/>
Obviously they could be written. But the point of it is the speed that it executes. For example you can do 4 multiplies in one instruction. And the pipeline can allow you to get so many of them is so few ticks for what you're doing.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#30932 - pan69 - Mon Dec 06, 2004 10:19 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">But the ARM CPU is a RISC CPU (reduced instruction set computer).</td> </tr></table><span class="postbody">
<br/>
<br/>
The <span style="text-decoration: underline">reduced</span>, in RISC, has nothing to do with the number of instructions in the instruction set.  The <span style="text-decoration: underline">reduced</span> aimes at the <span style="text-decoration: underline">reduced in complexity</span> rather the number of instructions. For example the are plenty of CISC (complex instruction set computer) processors out there with less instructions than an ARM7TDMI.
<br/>
<br/>
- Pan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31329 - Miked0801 - Fri Dec 10, 2004 3:26 am</h4>
    <div class="postbody"><span class="postbody">I know both and would always rather code on ARM, MIPS or even Z80 over x86.  There are just too many things to remeber on which silly commands work on which registers, plus it is (was) very register starved.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31338 - jma - Fri Dec 10, 2004 6:15 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lupin wrote:</b></span></td> </tr> <tr> <td class="quote">But the ARM CPU is a RISC CPU (reduced instruction set computer).</td> </tr></table><span class="postbody">
<br/>
<br/>
Just as an interesting tidbit of information for those that might care: the x86 <span style="font-weight: bold">is</span> a RISC processor [internally]. The exposed instruction set that has been passed down through the ages is translated into a RISC instruction set before executed.
<br/>
<br/>
<span style="font-style: italic">Addendum: I should add the reasoning behind this... Intel regularly checks with the most common commercial C compiler manufacturers (eg, Microsoft and Metroworks) and creates programs for them to compile. They do this to see which instruction combinations are the most commonly generated by the compilers and those are the instructions that are optimized for the next revision of their processor. 
<br/>
<br/>
A while ago, a pattern began to emerge that the most common instructions were typically those of the general RISC design. So, instead of trying to optimize a "dead end", they adopted and translate. Only the internal RISC design is optimized.</span>
<br/>
<br/>
It is also quite amazing that Intel has managed to keep (relatively) the same instruction set for so long. We're running on machines that were originally designed to run automatic bottle openers and toasters. :)
<br/>
<br/>
<a href="http://en.wikipedia.org/wiki/RISC" target="_blank">http://en.wikipedia.org/wiki/RISC</a>
<br/>
<a href="http://topcc.org/articles/history.html#B" target="_blank">http://topcc.org/articles/history.html#B</a>
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote"><span style="font-style: italic">(about the x86) ...</span>plus it is (was) very register starved</td> </tr></table><span class="postbody">
<br/>
Pop quiz: anyone care to take a guess how many registers are on a modern Pentium chip?
<br/>
<br/>
Jeff<br/>_________________<br/><a href="mailto:massung@gmail.com">massung@gmail.com</a>
<br/>
<a href="http://www.retrobyte.org" target="_blank">http://www.retrobyte.org</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31348 - tepples - Fri Dec 10, 2004 7:43 am</h4>
    <div class="postbody"><span class="postbody">Excluding specialized registers such as those associated with debugging, interrupt handling, and virtual memory, somebody familiar with the ARM architecture would count nine registers on the x86: EAX, EBX, ECX, EDX, ESI, EDI, EBP, ESP, and EIP, which correspond roughly to r0, r1, r2, r3, r4, r5, r6, sp, and pc of Thumb.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31351 - jma - Fri Dec 10, 2004 8:53 am</h4>
    <div class="postbody"><span class="postbody">Yes, I should have mentioned that I'm not counting all the lovely specialized registers used for branch predicting, etc. (otherwise the count would be in the hundreds). Also, I'm not counting the 8 floating pointer registers, which are really on the x87 FPU.
<br/>
<br/>
Here's a hint, though: register renaming.
<br/>
<br/>
Jeff<br/>_________________<br/><a href="mailto:massung@gmail.com">massung@gmail.com</a>
<br/>
<a href="http://www.retrobyte.org" target="_blank">http://www.retrobyte.org</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31358 - pan69 - Fri Dec 10, 2004 11:43 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"> the x86 is a RISC processor [internally]</td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah, right! Which processor isn't... That's the whole point of being RISC, it's not RISC only internally but it's RISC the whole way and that is makes the difference between CISC and RISC.
<br/>
<br/>
- Pan</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#31378 - poslundc - Fri Dec 10, 2004 5:58 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>pan69 wrote:</b></span></td> </tr> <tr> <td class="quote"><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote"> the x86 is a RISC processor [internally]</td> </tr></table><span class="postbody">
<br/>
<br/>
Yeah, right! Which processor isn't... That's the whole point of being RISC, it's not RISC only internally but it's RISC the whole way and that is makes the difference between CISC and RISC.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
Um... no?
<br/>
<br/>
Dan.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#64887 - Dr_Kachu - Wed Dec 28, 2005 2:20 am</h4>
    <div class="postbody"><span class="postbody">x86 still uses segmented memory?<br/>_________________<br/>pi pika pichu pika "256k" pika pika</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
