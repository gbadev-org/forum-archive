<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Writing a value from one address to another - gbadev.org forum archive</title>
        <link rel="stylesheet" href="static/pure-min.css" />
        <link rel="stylesheet" href="static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        This is a mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. <br />

        <h2>ASM > Writing a value from one address to another</h2>
<div id="posts">
<div class="post">
    <h4>#78442 - Peter - Fri Apr 07, 2006 10:47 am</h4>
    <div class="postbody"><span class="postbody">Hello,
<br/>
<br/>
I wonder if it is possible to write a value from one memory address directly to another. At the moment my code looks like:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
ldrh r0, [r1], #2 @ load value from source address
<br/>
strh r0, [r2], #8 @ store value at destination address
<br/>
</td> </tr></table><span class="postbody">
<br/>
r1 is the address of source values and r2 is the destination address. Is it possible to write code that will perform "write value from address in r1 to address in r2" without loading it temporarily to r0? Would save me a few cycles.
<br/>
<br/>
Thanks in advance</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#78443 - chishm - Fri Apr 07, 2006 11:05 am</h4>
    <div class="postbody"><span class="postbody">It's not possible using the CPU only. However, you can use DMA to transfer directly from one memory address to another, but the setup overhead makes it useless for small copies (in the range of a few words).<br/>_________________<br/><a class="postlink" href="http://chishm.drunkencoders.com" target="_blank">http://chishm.drunkencoders.com</a>
<br/>
<a class="postlink" href="http://dldi.drunkencoders.com" target="_blank">http://dldi.drunkencoders.com</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#80817 - Miked0801 - Tue Apr 25, 2006 7:24 pm</h4>
    <div class="postbody"><span class="postbody">Can you load whole words instead of halfwords for a quick optimization?  If so, then ldm, stm becomes your friend.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
