<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>ARM Assembler Newbie questions - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>ASM > ARM Assembler Newbie questions</h2>
<div id="posts">
<div class="post">
    <h4>#2932 - I.C.E - Fri Feb 14, 2003 5:08 pm</h4>
    <div class="postbody"><span class="postbody">I have the following questions:
<br/>
<br/>
1. What does "!" do? According to a ARM Quick Reference Card here it stands for Updates base register after data transfer. But what does that mean?
<br/>
<br/>
2. Why do I have to use "=" in instructions like that: LDR r1,=REG_DISPCNT? I think It has something to do with the addressing mode because according to QRC the syntax for LDR is LDR{cond} Rd, &lt;a_mode2&gt;. If I look at the addressing mode 2, there are some examples for pre/post indexing with immediate offset and so on. So I think that beacuse REG_DISPCNT is just a value and not a register (which are used in addressing mode 2) I have to use the "=" sign. But what does it exactly do? 
<br/>
<br/>
3. For what is a Soft Preload (Memory system hint) PLD &lt;a_mode2&gt; usefull?
<br/>
<br/>
4. About assembler instruction description. The registers in documents are often called Rd, Rm, Rs, Rn. Do the "d" "m" "s" and "n" have a special meaning or are they just variables for any register? I ask because the naming scheme is a bit odd.
<br/>
<br/>
Thanks :)<br/>_________________<br/>To this day, many C programmers believe that "strong typing" just means pounding extra hard on the keyboard.
<br/>
 -  Peter van der Linden</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#2934 - jeff - Fri Feb 14, 2003 6:02 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">1. What does "!" do? According to a ARM Quick Reference Card here it stands for Updates base register after data transfer. But what does that mean? </td> </tr></table><span class="postbody">
<br/>
<br/>
It will set a W (writeback) bit in the instruction. For example:
<br/>
  ldr r0,[r1,#4]!
<br/>
<br/>
will evaluate to:
<br/>
  r0 = [r1+4]
<br/>
  r1 = r1 + 4
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">Why do I have to use "=" in instructions like that: LDR r1,=REG_DISPCNT?</td> </tr></table><span class="postbody">
<br/>
<br/>
It tells the assembler to add a constant to the "pool" and to actually do a load that is an offset of the program counter.
<br/>
<br/>
Example:
<br/>
  ldr r0,=#0x403
<br/>
  .pool
<br/>
<br/>
will evaluate to:
<br/>
  ldr r0,[pc,#-4]
<br/>
  0x00000403
<br/>
<br/>
It is just easier to read.
<br/>
<br/>
Question 3, I don't know :)
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">The registers in documents are often called Rd, Rm, Rs, Rn. Do the "d" "m" "s" and "n" have a special meaning or are they just variables for any register?</td> </tr></table><span class="postbody">
<br/>
<br/>
d = destination
<br/>
m/n = operands
<br/>
s = shift
<br/>
<br/>
In ARM mode, these can be ANY of the 16, 32-bit registers, except in a few cases (where you can't use the PC).
<br/>
<br/>
HTH,
<br/>
Jeff</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
