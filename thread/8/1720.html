<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Help PLEASE! - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>ASM > Help PLEASE!</h2>
<div id="posts">
<div class="post">
    <h4>#8740 - DracoX5 - Fri Jul 18, 2003 9:32 pm</h4>
    <div class="postbody"><span class="postbody">I've been trying for what seems like forever to get as to assemble my file with the crt0.s from the devr.com site.
<br/>
<span style="font-style: italic">Please</span>, would someone just tell me how I can do this. I have been looking, but can't find anything![/i]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8841 - Lupin - Mon Jul 21, 2003 2:48 pm</h4>
    <div class="postbody"><span class="postbody">I think you forgot to set up some specific settings in the crt0.s file, open it in your editor and deactivate interrupt handling if you don't use it.
<br/>
<br/>
I think you have Jeffs crt0.s file, it has some important switches wich you need to take care of.
<br/>
What type of error messages do you get?
<br/>
<br/>
If you need interrupt handling I would suggest you writing your own routines to handle them.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8887 - DracoX5 - Wed Jul 23, 2003 2:56 am</h4>
    <div class="postbody"><span class="postbody">Okay, my batch file is as follows:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">set GBANAME=demo1
<br/>
gcc -o %GBANAME%.elf main.s
<br/>
objcopy -O binary %GBANAME%.elf %GBANAME%.gba
<br/>
pause</td> </tr></table><span class="postbody">
<br/>
<br/>
At first ld was giving me messages that I needed crt0.o, so I assembled the file and put it in the same directory. However, now I get this error from ld:
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">cannot find -lc</td> </tr></table><span class="postbody">
<br/>
<br/>
I don't think it's a problem with interrupt handling; I set that up before I tested the batch file.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#8971 - DracoX5 - Fri Jul 25, 2003 5:04 am</h4>
    <div class="postbody"><span class="postbody">Okay, I got it fixed. I'm not quite sure how I did it exactly, but it works now :)
<br/>
<br/>
I finally just started trying anything I could think of. I ended up putting ".extern AgbMain" in the crt0.s and using makefiles instead of batch files, along with some other tiny changes that probably weren't necessary.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
