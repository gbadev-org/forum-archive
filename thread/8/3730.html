<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>switching to GAS - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. </i><br />

        <h2>ASM > switching to GAS</h2>
<div id="posts">
<div class="post">
    <h4>#23591 - Darmstadium - Thu Jul 15, 2004 10:04 pm</h4>
    <div class="postbody"><span class="postbody">i'm finally getting around to switching over to GAS! but i'm having a problem. I can't get any of my code to work. it assembles ok but none of it does anything; there is just a white screen. here is what I'm trying to assemble:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
     .arm
<br/>
     .align 4
<br/>
     
<br/>
start:
<br/>
ldr r0,=0x40000000
<br/>
ldr r1,=0x401
<br/>
str r1,[r0]
<br/>
<br/>
ldr r0,=0x60000000+10*2+10*2*240
<br/>
ldr r1,=0x7FFF
<br/>
str r1,[r0]
<br/>
<br/>
mainloop:
<br/>
b mainloop
<br/>
<br/>
.pool
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
i'm using the following dos commands to compile (just typing them in for now):
<br/>
path=c:\devkitadv\bin
<br/>
gcc -c testasm.s
<br/>
objcopy -O binary testasm.o testasm.gba
<br/>
does anybody know what I'm doing wrong?
<br/>
<br/>
thanks</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23597 - col - Fri Jul 16, 2004 12:31 am</h4>
    <div class="postbody"><span class="postbody">There are too many zeros on your addresses - assuming you are trying to write to DISPCNT and then to vram.
<br/>
<br/>
cheers
<br/>
<br/>
Col</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#23598 - Darmstadium - Fri Jul 16, 2004 12:41 am</h4>
    <div class="postbody"><span class="postbody">wow that was stuipid...thanks!</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
