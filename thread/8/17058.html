<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>How to.. - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>ASM > How to..</h2>
<div id="posts">
<div class="post">
    <h4>#172111 - Javs - Sat Jan 16, 2010 12:17 am</h4>
    <div class="postbody"><span class="postbody">Hi!
<br/>
I want to make an ASM routine for Pok?mon Ruby Version..
<br/>
The routine is a 3D camera.. like in Pok?mon Diamond and Pearl..
<br/>
The point is try to put that effect in a GBA game, so, Who can help me?
<br/>
I hope you can help me!
<br/>
Thanks!
<br/>
<br/>
PD: I only need the routine, not all the Programming things..
<br/>
I will insert it like a level script..</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172115 - Ruben - Sat Jan 16, 2010 1:23 am</h4>
    <div class="postbody"><span class="postbody">Well, complete 3D can't be simulated to a good degree on GBA, but I assume you're speaking of mode 7. Have a look at TONC's mode 7 pages for the code+theory.
<br/>
<br/>
However, it's rather simple: Calculate scaling/rotation values and displacements for each scanline, and copy to the rot/scale registers every H-Blank [using DMA, or H-Blank IRQ].
<br/>
This is usually done using perspective division so you have something like (taken pretty much directly from TONC)
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">                         cy
<br/>
λ  = ------------------------------------------
<br/>
     ( (z - top)*cos(theta) + dist*sin(theta) )
<br/>
pA = λcos(yaw)
<br/>
pC = λsin(yaw)
<br/>
zB = (z - top)*sin(theta) - dist*cos(theta)
<br/>
dX = cx + cos(yaw)*left - sin(yaw)*zB
<br/>
dY = cz + sin(yaw)*left + cos(yaw)*zB</td> </tr></table><span class="postbody"></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172118 - Kyoufu Kawa - Sat Jan 16, 2010 10:34 am</h4>
    <div class="postbody"><span class="postbody">Okay, for one this is a homebrew forum. What you're asking is a romhack.
<br/>
<br/>
For two, Pok?mon DPP's camera goes way beyond what you could do on the GBA without rewriting the whole thing and finding yourself incapable of continuing. The best you can get is Mode7, as Ruben assumed, which won't look at all good.
<br/>
<br/>
For three, the game uses three layers for the maps, plus one for the interface. I am not so sure you can do Mode7 on all three layers at the same time.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172119 - Javs - Sat Jan 16, 2010 4:17 pm</h4>
    <div class="postbody"><span class="postbody">Ok, I'd understand..
<br/>
I posted here beacuse this is the best forum about the ASM and C++ coding..
<br/>
I'm an ASM hacker, but I have difficult for analize the situation.. I'm not analyst..
<br/>
So I wanted you give me some possibilities for this "Camera Effect".
<br/>
I'll try the previous tips..
<br/>
Thanks for all! Greeting!
<br/>
<br/>
-OMG! Kyofu Kawa is here? xD-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172128 - Kyoufu Kawa - Sun Jan 17, 2010 2:55 pm</h4>
    <div class="postbody"><span class="postbody">Yes, yes I am. I lurk, mostly.
<br/>
<br/>
And again, comparing the best you can get from Mode7 to the fully 3D graphics in Pok?mon 4th gen, you're boned no matter what, pardon my Klatchian.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172129 - Miked0801 - Sun Jan 17, 2010 4:27 pm</h4>
    <div class="postbody"><span class="postbody">Wow, here we go:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Javs wrote:</b></span></td> </tr> <tr> <td class="quote">Hi!
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
So far so good...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I want to make an ASM routine 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
still fine...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
for Pok?mon Ruby Version..
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
warning bells start ringing, but still listening
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The routine is a 3D camera.. like in Pok?mon Diamond and Pearl..
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
clueless script kiddie alarm level rising quickly...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The point is try to put that effect in a GBA game, so, Who can help me?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Levels reaching critical, soon to bail from thread.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I hope you can help me!
<br/>
Thanks!
<br/>
PD: I only need the routine, not all the Programming things..
<br/>
I will insert it like a level script..</td> </tr></table><span class="postbody">
<br/>
<br/>
OMG, the alarms were correct.  Clueless level to infinity.  Abort, Retry,or Cancel?  None will help...
<br/>
<br/>
I'm not one to flame, but in all seriousness, you are asking to do something that is completely impossible.  Writing in asm is tedious.  Writing a 3D camera in asm would be extremely tedious and error prone.  Hacking some byte codes into pokemon to get said camera is far beyond silly impossible.  Doing so in a way that magically works so you don't have to know anything at all, just script it is is, well... something beyond silly impossible.  I wish you the best.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172131 - Javs - Sun Jan 17, 2010 8:33 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Miked0801 wrote:</b></span></td> </tr> <tr> <td class="quote">Wow, here we go:
<br/>
<table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Javs wrote:</b></span></td> </tr> <tr> <td class="quote">Hi!
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
So far so good...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I want to make an ASM routine 
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
still fine...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
for Pok?mon Ruby Version..
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
warning bells start ringing, but still listening
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The routine is a 3D camera.. like in Pok?mon Diamond and Pearl..
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
clueless script kiddie alarm level rising quickly...
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
The point is try to put that effect in a GBA game, so, Who can help me?
<br/>
</td> </tr></table><span class="postbody">
<br/>
<br/>
Levels reaching critical, soon to bail from thread.
<br/>
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">
<br/>
I hope you can help me!
<br/>
Thanks!
<br/>
PD: I only need the routine, not all the Programming things..
<br/>
I will insert it like a level script..</td> </tr></table><span class="postbody">
<br/>
<br/>
OMG, the alarms were correct.  Clueless level to infinity.  Abort, Retry,or Cancel?  None will help...
<br/>
<br/>
I'm not one to flame, but in all seriousness, you are asking to do something that is completely impossible.  Writing in asm is tedious.  Writing a 3D camera in asm would be extremely tedious and error prone.  Hacking some byte codes into pokemon to get said camera is far beyond silly impossible.  Doing so in a way that magically works so you don't have to know anything at all, just script it is is, well... something beyond silly impossible.  I wish you the best.</span></td> </tr></table><span class="postbody">
<br/>
<br/>
I think your post is right, so, do you suggest me make it on C++?
<br/>
<br/>
-Woaaa! Kyoufu Kawa is here!-</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172132 - Ruben - Sun Jan 17, 2010 10:35 pm</h4>
    <div class="postbody"><span class="postbody">That was not at all the point of Mike's post; what he meant was that what you're asking for [which I overlooked, mind you &gt;_&gt;'] is next to impossible. While Pokemon has been hacked over and over again, I daresay it would be impossible to make it in such a way that you would have mode 7 graphics. Sorry to burst your bubble, but that's how things are, unfortunately. =/</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172133 - Dwedit - Sun Jan 17, 2010 11:03 pm</h4>
    <div class="postbody"><span class="postbody">Maybe not mode 7, but you could do shearing combined with vertical downscaling that scales down more at the top.<br/>_________________<br/>"We are merely sprites that dance at the beck and call of our button pressing overlord."</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172135 - Javs - Mon Jan 18, 2010 12:21 am</h4>
    <div class="postbody"><span class="postbody">Hum, is the topic's mission..
<br/>
I wanted you tell me "Is possible or not possible", so I think the issue has finished..
<br/>
If was possible, tell me how. But, if isn't possible, like this instance, is ok..
<br/>
What's the matter?
<br/>
I thank to all the people who replied to my post..
<br/>
I will still accepting suggestions until the post be closed..
<br/>
See ya!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#172142 - sgeos - Mon Jan 18, 2010 3:34 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Javs wrote:</b></span></td> </tr> <tr> <td class="quote">I wanted you tell me "Is possible or not possible"</td> </tr></table><span class="postbody">
<br/>
Possible, yes.  Worth the effort, no.
<br/>
<br/>
Just buy latest Pokemon game if you want cool fancy effects.  Even if you need to hold a job to pay for it, finding a job and working it for a couple days or a week will be <span style="font-weight: bold">far less</span> effort than what you are proposing to do.  The <a class="postlink" href="http://en.wikipedia.org/wiki/Division_of_labour" target="_blank">division of labor</a> is special like that.</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
