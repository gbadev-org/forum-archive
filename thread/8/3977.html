<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>someone have a program that show the code of GBA? - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>ASM > someone have a program that show the code of GBA?</h2>
<div id="posts">
<div class="post">
    <h4>#25666 - ^pb^ - Thu Aug 26, 2004 7:42 pm</h4>
    <div class="postbody"><span class="postbody">someone have a program that show the code of GBA? i mean something like
<br/>
convert GBA to ASM
<br/>
can you?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25668 - Lord Graga - Thu Aug 26, 2004 8:18 pm</h4>
    <div class="postbody"><span class="postbody">It is possible. Yet, there's still a large amount of "garbage" code (i.e, code which is actually graphics, etc) which has to be taken care of. Disassembling larger programs is very hard.
<br/>
<br/>
I don't know any binary disassemblers, sorry.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25680 - tepples - Thu Aug 26, 2004 10:56 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Lord Graga wrote:</b></span></td> </tr> <tr> <td class="quote">Yet, there's still a large amount of "garbage" code (i.e, code which is actually graphics, etc) which has to be taken care of.</td> </tr></table><span class="postbody">
<br/>
There exist tracing emulators for some platforms such as the NES. I don't know whether there exists a VBA fork to do this nor whether one of the paid versions of no$gba can do this, but by watching a program run, such an emulator could identify code segments (code to be disassembled), data referred to in CpuSet/CpuFastSet/DMA (uncompressed data, with the destination address distinguishing the various types of data), data referred to in *UncompVram (compressed graphics data), data read from ROM in a typical audio mixer access pattern (LDRSBs to ROM in a generally increasing pattern), and the like. Then it would distinguish among them in the disassembly.<br/>_________________<br/>-- Where is he?
<br/>
-- Who?
<br/>
-- You know, the human.
<br/>
-- I think he moved to Tilwick.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25705 - gb_feedback - Fri Aug 27, 2004 2:05 pm</h4>
    <div class="postbody"><span class="postbody">IDA <a class="postlink" href="http://www.datarescue.com" target="_blank">http://www.datarescue.com</a> will certainly do this. Not cheap, and in my experience, struggles rather when telling it to switch between ARM and THUMB.
<br/>
<br/>
It disassembles by following the code, including calls and jumps.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25711 - MumblyJoe - Fri Aug 27, 2004 4:39 pm</h4>
    <div class="postbody"><span class="postbody">Actually, I set up a set of batch files and vba sdl version and so forth to disassemble gba roms for me a while back, I'm not at my house right now so I cant remember the exact code or test it but it used I/O redirection to do it.
<br/>
<br/>
I wrote a program that took the size of a file and divided it by 2 for thumb and 4 for arm and generated batch files to run vba sdl version and used I/O redirection to send text files for input and take output as asm. It always had a bit of shit at the start but I didn't want to compile it anyway, just look at it, so whatever.
<br/>
<br/>
If I get home tomorow I will post the code for what I originally did...<br/>_________________<br/><a class="postlink" href="http://www.hungrydeveloper.com" target="_blank">www.hungrydeveloper.com</a>
<br/>
Version 2.0 now up - guaranteed at least 100% more pleasing!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25731 - torne - Fri Aug 27, 2004 7:24 pm</h4>
    <div class="postbody"><span class="postbody">I've never had any problems with ARM/Thumb switches using IDA...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25735 - gb_feedback - Fri Aug 27, 2004 10:10 pm</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">I've never had any problems with ARM/Thumb switches using IDA...</td> </tr></table><span class="postbody">
<br/>
The effect I seemed to get when I tried it was that IDA didn't automatically switch to arm or thumb. When it followed calls it stayed in the same mode that it was in. Which meant that you got something disassembled to your satisfaction in say ARM mode, and then IDA followed another path to the same bit of code and switched it all back to thumb (effectively trashing it).
<br/>
<br/>
This was a couple of years ago. It may not be the same now. Or more likely I just didn't know what I was doing, as the documentation is slightly sparse. If you have any tips, I love to hear them. Also which version are you using? My support ran out before I downloaded any updates.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25742 - MumblyJoe - Fri Aug 27, 2004 11:32 pm</h4>
    <div class="postbody"><span class="postbody">I was under the impression that IDA was commercial software, or am I wrong?<br/>_________________<br/><a class="postlink" href="http://www.hungrydeveloper.com" target="_blank">www.hungrydeveloper.com</a>
<br/>
Version 2.0 now up - guaranteed at least 100% more pleasing!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25743 - sajiimori - Fri Aug 27, 2004 11:34 pm</h4>
    <div class="postbody"><span class="postbody">It is commercial.</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25747 - MumblyJoe - Sat Aug 28, 2004 1:59 am</h4>
    <div class="postbody"><span class="postbody">Anyway, as I was saying earlier, I use batch files etc to disassemble. Give this a shot if you want (Windows batch but easily done with linux etc):
<br/>
<br/>
disasm.bat:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">set size=%2
<br/>
set /A thumbsize=size/2
<br/>
echo dt 8000000 %thumbsize% &gt; in.txt
<br/>
echo q &gt;&gt; in.txt
<br/>
echo y &gt;&gt; in.txt
<br/>
VisualBoyAdvance-SDL.exe -d %1 &lt; in.txt &gt; thumb.S
<br/>
set /A armsize=size/4
<br/>
echo da 8000000 %thumbsize% &gt; in.txt
<br/>
echo q &gt;&gt; in.txt
<br/>
echo y &gt;&gt; in.txt
<br/>
VisualBoyAdvance-SDL.exe -d %1 &lt; in.txt &gt; arm.S</td> </tr></table><span class="postbody">
<br/>
<br/>
usage:
<br/>
</span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Code:</b></span></td> </tr> <tr> <td class="code">
<br/>
disasm somerom.gba 34823
<br/>
</td> </tr></table><span class="postbody">
<br/>
where the number is the size of the rom in bytes (or less if you only want the start etc).<br/>_________________<br/><a class="postlink" href="http://www.hungrydeveloper.com" target="_blank">www.hungrydeveloper.com</a>
<br/>
Version 2.0 now up - guaranteed at least 100% more pleasing!</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25780 - torne - Sat Aug 28, 2004 9:56 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>gb_feedback wrote:</b></span></td> </tr> <tr> <td class="quote">The effect I seemed to get when I tried it was that IDA didn't automatically switch to arm or thumb. When it followed calls it stayed in the same mode that it was in. Which meant that you got something disassembled to your satisfaction in say ARM mode, and then IDA followed another path to the same bit of code and switched it all back to thumb (effectively trashing it).</td> </tr></table><span class="postbody">
<br/>
That's fixed now. It correctly handles bx when it's possible to determine the low bit of the register branched to, and it doesn't seem to change its mind about whether code is ARM or Thumb any more. ;)
<br/>
<br/>
I don't have many specific tips; I don't use it for the GBA much, I mostly use the PowerPC mode to disassemble GCN stuff. I use the latest version of Pro Advanced, 4.6 SP1 (complete with fruity 64-bit support for my AMD64, yay) because I have it through a group licence which I don't pay for =)</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25781 - gb_feedback - Sat Aug 28, 2004 11:22 am</h4>
    <div class="postbody"><span class="postbody"></span><table align="center" border="0" cellpadding="3" cellspacing="1" width="90%"><tr> <td><span class="genmed"><b>Quote:</b></span></td> </tr> <tr> <td class="quote">That's fixed now.</td> </tr></table><span class="postbody">Thanks for that info. I'll have to see if I can persuade my company to cough up again.<br/>_________________<br/><a class="postlink" href="http://www.bookreader.co.uk/" target="_blank">http://www.bookreader.co.uk/</a></span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25782 - ^pb^ - Sat Aug 28, 2004 2:08 pm</h4>
    <div class="postbody"><span class="postbody">i isnt realy understand what i need to do to compailer form GBA to ASM?</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25785 - f(DarkAngel) - Sat Aug 28, 2004 3:09 pm</h4>
    <div class="postbody"><span class="postbody">Do you mean converting binary to assembly code?
<br/>
<br/>
GNU toolchain has objdump which can do disassembling.
<br/>
objdump -d binary_file
<br/>
<br/>
To see the asm code generated by gcc for a input, you can use -S.
<br/>
<br/>
Or do you mean a simulator? Then VBA/GDB or CowBite (not as accurate as VBA) will do this.<br/>_________________<br/>death scream...</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#25822 - Miked0801 - Sun Aug 29, 2004 1:44 am</h4>
    <div class="postbody"><span class="postbody">Just stop.  This thread is very similiar to a previous question that he/she asked.  There is no clue level here high enough to justify going too deep into the discussion.  He wants to hack and translate a game he likes from English to Hebrew.  The general answer there was good luck as well...</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
