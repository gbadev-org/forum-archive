<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Plotting a pixel Mode 4 - gbadev.org forum archive</title>
        <link rel="stylesheet" href="/forum-archive/static/pure-min.css" />
        <link rel="stylesheet" href="/forum-archive/static/main.css" />
    </head>
    <body>
        <h1>gbadev.org forum archive</h1>

        <i>This is a read-only mirror of the content originally found on forum.gbadev.org
        (now offline), salvaged from Wayback machine copies. A new forum can be found <a href="https://forum.gbadev.net/" target="_blank">here</a>.</i><br />

        <h2>ASM > Plotting a pixel Mode 4</h2>
<div id="posts">
<div class="post">
    <h4>#10305 - slip - Tue Sep 02, 2003 1:29 am</h4>
    <div class="postbody"><span class="postbody">Ok, I'm using ARM asm, it seems a little strange. When I write a single byte to VRAM it appears to write the byte twice, appearing to be two pixels plotted... I'll try and explain a little better..
<br/>
<br/>
I have a 32 bit word 00000000000000000000000011111111 which looks like that. that is my 'byte' I want to write. I'll find an address in VRAM and use strb to store the byte... thats what I'm using ^^ I'm asuming that when writting a byte from using a 32bit word the lower 8 bits will be used. The result however looks like this.. say this was a 32bit word in VRAM.
<br/>
<br/>
before write
<br/>
00000000000000000000000000000000
<br/>
<br/>
after write
<br/>
00000000000000001111111111111111
<br/>
<br/>
or
<br/>
11111111111111110000000000000000
<br/>
<br/>
depending on the address.
<br/>
<br/>
I'm a little confused about this. Does ldrb and strb read and write 16 bit words =\
<br/>
I'm trying to write a mode 4 pixels plotting routine.<br/>_________________<br/>[url="http://www.ice-d.com"]www.ice-d.com[/url]</span><span class="gensmall"></span></div>    
</div>
<div class="post">
    <h4>#10306 - DekuTree64 - Tue Sep 02, 2003 2:36 am</h4>
    <div class="postbody"><span class="postbody">The VRAM bus is 16/32 bit only, no single bytes. If you want to draw a single pixel in mode4, you have to read 2 pixels, mask to get rid of the one you want to change, OR with the new pixel, and write both of them back. Yes, it's slow, so most of the time you'll want to try your hardest to write more than one pixel at a time.<br/>_________________<br/>___________
<br/>
The best optimization is to do nothing at all.
<br/>
Therefore a fully optimized program doesn't exist.
<br/>
-Deku</span><span class="gensmall"></span></div>    
</div>
</div>

    </body>
</html>
